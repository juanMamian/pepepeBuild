var PA=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var e9=PA((o9,rd)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();function sd(e,t){const o=Object.create(null),i=e.split(",");for(let n=0;n<i.length;n++)o[i[n]]=!0;return t?n=>!!o[n.toLowerCase()]:n=>!!o[n]}function Oe(e){if(Qe(e)){const t={};for(let o=0;o<e.length;o++){const i=e[o],n=It(i)?MA(i):Oe(i);if(n)for(const r in n)t[r]=n[r]}return t}else{if(It(e))return e;if(bt(e))return e}}const DA=/;(?![^(]*\))/g,kA=/:([^]+)/,OA=/\/\*.*?\*\//gs;function MA(e){const t={};return e.replace(OA,"").split(DA).forEach(o=>{if(o){const i=o.split(kA);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function ve(e){let t="";if(It(e))t=e;else if(Qe(e))for(let o=0;o<e.length;o++){const i=ve(e[o]);i&&(t+=i+" ")}else if(bt(e))for(const o in e)e[o]&&(t+=o+" ");return t.trim()}const LA="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",FA=sd(LA);function kv(e){return!!e||e===""}function BA(e,t){if(e.length!==t.length)return!1;let o=!0;for(let i=0;o&&i<e.length;i++)o=ti(e[i],t[i]);return o}function ti(e,t){if(e===t)return!0;let o=cp(e),i=cp(t);if(o||i)return o&&i?e.getTime()===t.getTime():!1;if(o=qr(e),i=qr(t),o||i)return e===t;if(o=Qe(e),i=Qe(t),o||i)return o&&i?BA(e,t):!1;if(o=bt(e),i=bt(t),o||i){if(!o||!i)return!1;const n=Object.keys(e).length,r=Object.keys(t).length;if(n!==r)return!1;for(const s in e){const c=e.hasOwnProperty(s),a=t.hasOwnProperty(s);if(c&&!a||!c&&a||!ti(e[s],t[s]))return!1}}return String(e)===String(t)}function ad(e,t){return e.findIndex(o=>ti(o,t))}const Ee=e=>It(e)?e:e==null?"":Qe(e)||bt(e)&&(e.toString===Lv||!Ye(e.toString))?JSON.stringify(e,Ov,2):String(e),Ov=(e,t)=>t&&t.__v_isRef?Ov(e,t.value):ki(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((o,[i,n])=>(o[`${i} =>`]=n,o),{})}:Yi(t)?{[`Set(${t.size})`]:[...t.values()]}:bt(t)&&!Qe(t)&&!Fv(t)?String(t):t,yt={},Di=[],xo=()=>{},UA=()=>!1,$A=/^on[^a-z]/,La=e=>$A.test(e),ld=e=>e.startsWith("onUpdate:"),Ft=Object.assign,cd=(e,t)=>{const o=e.indexOf(t);o>-1&&e.splice(o,1)},jA=Object.prototype.hasOwnProperty,rt=(e,t)=>jA.call(e,t),Qe=Array.isArray,ki=e=>rs(e)==="[object Map]",Yi=e=>rs(e)==="[object Set]",cp=e=>rs(e)==="[object Date]",Ye=e=>typeof e=="function",It=e=>typeof e=="string",qr=e=>typeof e=="symbol",bt=e=>e!==null&&typeof e=="object",Mv=e=>bt(e)&&Ye(e.then)&&Ye(e.catch),Lv=Object.prototype.toString,rs=e=>Lv.call(e),qA=e=>rs(e).slice(8,-1),Fv=e=>rs(e)==="[object Object]",ud=e=>It(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,na=sd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Fa=e=>{const t=Object.create(null);return o=>t[o]||(t[o]=e(o))},VA=/-(\w)/g,Bo=Fa(e=>e.replace(VA,(t,o)=>o?o.toUpperCase():"")),HA=/\B([A-Z])/g,si=Fa(e=>e.replace(HA,"-$1").toLowerCase()),Ba=Fa(e=>e.charAt(0).toUpperCase()+e.slice(1)),mc=Fa(e=>e?`on${Ba(e)}`:""),Vr=(e,t)=>!Object.is(e,t),ia=(e,t)=>{for(let o=0;o<e.length;o++)e[o](t)},ba=(e,t,o)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:o})},ya=e=>{const t=parseFloat(e);return isNaN(t)?e:t},zA=e=>{const t=It(e)?Number(e):NaN;return isNaN(t)?e:t};let up;const QA=()=>up||(up=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let No;class GA{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=No,!t&&No&&(this.index=(No.scopes||(No.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const o=No;try{return No=this,t()}finally{No=o}}}on(){No=this}off(){No=this.parent}stop(t){if(this._active){let o,i;for(o=0,i=this.effects.length;o<i;o++)this.effects[o].stop();for(o=0,i=this.cleanups.length;o<i;o++)this.cleanups[o]();if(this.scopes)for(o=0,i=this.scopes.length;o<i;o++)this.scopes[o].stop(!0);if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function KA(e,t=No){t&&t.active&&t.effects.push(e)}function WA(){return No}const dd=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Bv=e=>(e.w&Nn)>0,Uv=e=>(e.n&Nn)>0,JA=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Nn},YA=e=>{const{deps:t}=e;if(t.length){let o=0;for(let i=0;i<t.length;i++){const n=t[i];Bv(n)&&!Uv(n)?n.delete(e):t[o++]=n,n.w&=~Nn,n.n&=~Nn}t.length=o}},nu=new WeakMap;let Rr=0,Nn=1;const iu=30;let Co;const Yn=Symbol(""),ru=Symbol("");class hd{constructor(t,o=null,i){this.fn=t,this.scheduler=o,this.active=!0,this.deps=[],this.parent=void 0,KA(this,i)}run(){if(!this.active)return this.fn();let t=Co,o=An;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Co,Co=this,An=!0,Nn=1<<++Rr,Rr<=iu?JA(this):dp(this),this.fn()}finally{Rr<=iu&&YA(this),Nn=1<<--Rr,Co=this.parent,An=o,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Co===this?this.deferStop=!0:this.active&&(dp(this),this.onStop&&this.onStop(),this.active=!1)}}function dp(e){const{deps:t}=e;if(t.length){for(let o=0;o<t.length;o++)t[o].delete(e);t.length=0}}let An=!0;const $v=[];function Zi(){$v.push(An),An=!1}function Xi(){const e=$v.pop();An=e===void 0?!0:e}function to(e,t,o){if(An&&Co){let i=nu.get(e);i||nu.set(e,i=new Map);let n=i.get(o);n||i.set(o,n=dd()),jv(n)}}function jv(e,t){let o=!1;Rr<=iu?Uv(e)||(e.n|=Nn,o=!Bv(e)):o=!e.has(Co),o&&(e.add(Co),Co.deps.push(e))}function Jo(e,t,o,i,n,r){const s=nu.get(e);if(!s)return;let c=[];if(t==="clear")c=[...s.values()];else if(o==="length"&&Qe(e)){const a=Number(i);s.forEach((l,u)=>{(u==="length"||u>=a)&&c.push(l)})}else switch(o!==void 0&&c.push(s.get(o)),t){case"add":Qe(e)?ud(o)&&c.push(s.get("length")):(c.push(s.get(Yn)),ki(e)&&c.push(s.get(ru)));break;case"delete":Qe(e)||(c.push(s.get(Yn)),ki(e)&&c.push(s.get(ru)));break;case"set":ki(e)&&c.push(s.get(Yn));break}if(c.length===1)c[0]&&su(c[0]);else{const a=[];for(const l of c)l&&a.push(...l);su(dd(a))}}function su(e,t){const o=Qe(e)?e:[...e];for(const i of o)i.computed&&hp(i);for(const i of o)i.computed||hp(i)}function hp(e,t){(e!==Co||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const ZA=sd("__proto__,__v_isRef,__isVue"),qv=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(qr)),XA=fd(),e_=fd(!1,!0),t_=fd(!0),fp=o_();function o_(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...o){const i=at(this);for(let r=0,s=this.length;r<s;r++)to(i,"get",r+"");const n=i[t](...o);return n===-1||n===!1?i[t](...o.map(at)):n}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...o){Zi();const i=at(this)[t].apply(this,o);return Xi(),i}}),e}function n_(e){const t=at(this);return to(t,"has",e),t.hasOwnProperty(e)}function fd(e=!1,t=!1){return function(i,n,r){if(n==="__v_isReactive")return!e;if(n==="__v_isReadonly")return e;if(n==="__v_isShallow")return t;if(n==="__v_raw"&&r===(e?t?y_:Gv:t?Qv:zv).get(i))return i;const s=Qe(i);if(!e){if(s&&rt(fp,n))return Reflect.get(fp,n,r);if(n==="hasOwnProperty")return n_}const c=Reflect.get(i,n,r);return(qr(n)?qv.has(n):ZA(n))||(e||to(i,"get",n),t)?c:Ht(c)?s&&ud(n)?c:c.value:bt(c)?e?Kv(c):ss(c):c}}const i_=Vv(),r_=Vv(!0);function Vv(e=!1){return function(o,i,n,r){let s=o[i];if($i(s)&&Ht(s)&&!Ht(n))return!1;if(!e&&(!wa(n)&&!$i(n)&&(s=at(s),n=at(n)),!Qe(o)&&Ht(s)&&!Ht(n)))return s.value=n,!0;const c=Qe(o)&&ud(i)?Number(i)<o.length:rt(o,i),a=Reflect.set(o,i,n,r);return o===at(r)&&(c?Vr(n,s)&&Jo(o,"set",i,n):Jo(o,"add",i,n)),a}}function s_(e,t){const o=rt(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&o&&Jo(e,"delete",t,void 0),i}function a_(e,t){const o=Reflect.has(e,t);return(!qr(t)||!qv.has(t))&&to(e,"has",t),o}function l_(e){return to(e,"iterate",Qe(e)?"length":Yn),Reflect.ownKeys(e)}const Hv={get:XA,set:i_,deleteProperty:s_,has:a_,ownKeys:l_},c_={get:t_,set(e,t){return!0},deleteProperty(e,t){return!0}},u_=Ft({},Hv,{get:e_,set:r_}),pd=e=>e,Ua=e=>Reflect.getPrototypeOf(e);function js(e,t,o=!1,i=!1){e=e.__v_raw;const n=at(e),r=at(t);o||(t!==r&&to(n,"get",t),to(n,"get",r));const{has:s}=Ua(n),c=i?pd:o?gd:Hr;if(s.call(n,t))return c(e.get(t));if(s.call(n,r))return c(e.get(r));e!==n&&e.get(t)}function qs(e,t=!1){const o=this.__v_raw,i=at(o),n=at(e);return t||(e!==n&&to(i,"has",e),to(i,"has",n)),e===n?o.has(e):o.has(e)||o.has(n)}function Vs(e,t=!1){return e=e.__v_raw,!t&&to(at(e),"iterate",Yn),Reflect.get(e,"size",e)}function pp(e){e=at(e);const t=at(this);return Ua(t).has.call(t,e)||(t.add(e),Jo(t,"add",e,e)),this}function mp(e,t){t=at(t);const o=at(this),{has:i,get:n}=Ua(o);let r=i.call(o,e);r||(e=at(e),r=i.call(o,e));const s=n.call(o,e);return o.set(e,t),r?Vr(t,s)&&Jo(o,"set",e,t):Jo(o,"add",e,t),this}function vp(e){const t=at(this),{has:o,get:i}=Ua(t);let n=o.call(t,e);n||(e=at(e),n=o.call(t,e)),i&&i.call(t,e);const r=t.delete(e);return n&&Jo(t,"delete",e,void 0),r}function gp(){const e=at(this),t=e.size!==0,o=e.clear();return t&&Jo(e,"clear",void 0,void 0),o}function Hs(e,t){return function(i,n){const r=this,s=r.__v_raw,c=at(s),a=t?pd:e?gd:Hr;return!e&&to(c,"iterate",Yn),s.forEach((l,u)=>i.call(n,a(l),a(u),r))}}function zs(e,t,o){return function(...i){const n=this.__v_raw,r=at(n),s=ki(r),c=e==="entries"||e===Symbol.iterator&&s,a=e==="keys"&&s,l=n[e](...i),u=o?pd:t?gd:Hr;return!t&&to(r,"iterate",a?ru:Yn),{next(){const{value:h,done:f}=l.next();return f?{value:h,done:f}:{value:c?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function un(e){return function(...t){return e==="delete"?!1:this}}function d_(){const e={get(r){return js(this,r)},get size(){return Vs(this)},has:qs,add:pp,set:mp,delete:vp,clear:gp,forEach:Hs(!1,!1)},t={get(r){return js(this,r,!1,!0)},get size(){return Vs(this)},has:qs,add:pp,set:mp,delete:vp,clear:gp,forEach:Hs(!1,!0)},o={get(r){return js(this,r,!0)},get size(){return Vs(this,!0)},has(r){return qs.call(this,r,!0)},add:un("add"),set:un("set"),delete:un("delete"),clear:un("clear"),forEach:Hs(!0,!1)},i={get(r){return js(this,r,!0,!0)},get size(){return Vs(this,!0)},has(r){return qs.call(this,r,!0)},add:un("add"),set:un("set"),delete:un("delete"),clear:un("clear"),forEach:Hs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=zs(r,!1,!1),o[r]=zs(r,!0,!1),t[r]=zs(r,!1,!0),i[r]=zs(r,!0,!0)}),[e,o,t,i]}const[h_,f_,p_,m_]=d_();function md(e,t){const o=t?e?m_:p_:e?f_:h_;return(i,n,r)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?i:Reflect.get(rt(o,n)&&n in i?o:i,n,r)}const v_={get:md(!1,!1)},g_={get:md(!1,!0)},b_={get:md(!0,!1)},zv=new WeakMap,Qv=new WeakMap,Gv=new WeakMap,y_=new WeakMap;function w_(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function E_(e){return e.__v_skip||!Object.isExtensible(e)?0:w_(qA(e))}function ss(e){return $i(e)?e:vd(e,!1,Hv,v_,zv)}function A_(e){return vd(e,!1,u_,g_,Qv)}function Kv(e){return vd(e,!0,c_,b_,Gv)}function vd(e,t,o,i,n){if(!bt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=n.get(e);if(r)return r;const s=E_(e);if(s===0)return e;const c=new Proxy(e,s===2?i:o);return n.set(e,c),c}function Oi(e){return $i(e)?Oi(e.__v_raw):!!(e&&e.__v_isReactive)}function $i(e){return!!(e&&e.__v_isReadonly)}function wa(e){return!!(e&&e.__v_isShallow)}function Wv(e){return Oi(e)||$i(e)}function at(e){const t=e&&e.__v_raw;return t?at(t):e}function Jv(e){return ba(e,"__v_skip",!0),e}const Hr=e=>bt(e)?ss(e):e,gd=e=>bt(e)?Kv(e):e;function Yv(e){An&&Co&&(e=at(e),jv(e.dep||(e.dep=dd())))}function Zv(e,t){e=at(e);const o=e.dep;o&&su(o)}function Ht(e){return!!(e&&e.__v_isRef===!0)}function __(e){return Xv(e,!1)}function N_(e){return Xv(e,!0)}function Xv(e,t){return Ht(e)?e:new C_(e,t)}class C_{constructor(t,o){this.__v_isShallow=o,this.dep=void 0,this.__v_isRef=!0,this._rawValue=o?t:at(t),this._value=o?t:Hr(t)}get value(){return Yv(this),this._value}set value(t){const o=this.__v_isShallow||wa(t)||$i(t);t=o?t:at(t),Vr(t,this._rawValue)&&(this._rawValue=t,this._value=o?t:Hr(t),Zv(this))}}function Mi(e){return Ht(e)?e.value:e}const S_={get:(e,t,o)=>Mi(Reflect.get(e,t,o)),set:(e,t,o,i)=>{const n=e[t];return Ht(n)&&!Ht(o)?(n.value=o,!0):Reflect.set(e,t,o,i)}};function eg(e){return Oi(e)?e:new Proxy(e,S_)}var tg;class x_{constructor(t,o,i,n){this._setter=o,this.dep=void 0,this.__v_isRef=!0,this[tg]=!1,this._dirty=!0,this.effect=new hd(t,()=>{this._dirty||(this._dirty=!0,Zv(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=i}get value(){const t=at(this);return Yv(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}tg="__v_isReadonly";function I_(e,t,o=!1){let i,n;const r=Ye(e);return r?(i=e,n=xo):(i=e.get,n=e.set),new x_(i,n,r||!n,o)}function _n(e,t,o,i){let n;try{n=i?e(...i):e()}catch(r){$a(r,t,o)}return n}function vo(e,t,o,i){if(Ye(e)){const r=_n(e,t,o,i);return r&&Mv(r)&&r.catch(s=>{$a(s,t,o)}),r}const n=[];for(let r=0;r<e.length;r++)n.push(vo(e[r],t,o,i));return n}function $a(e,t,o,i=!0){const n=t?t.vnode:null;if(t){let r=t.parent;const s=t.proxy,c=o;for(;r;){const l=r.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](e,s,c)===!1)return}r=r.parent}const a=t.appContext.config.errorHandler;if(a){_n(a,null,10,[e,s,c]);return}}T_(e,o,n,i)}function T_(e,t,o,i=!0){console.error(e)}let zr=!1,au=!1;const Vt=[];let Mo=0;const Li=[];let zo=null,zn=0;const og=Promise.resolve();let bd=null;function ng(e){const t=bd||og;return e?t.then(this?e.bind(this):e):t}function R_(e){let t=Mo+1,o=Vt.length;for(;t<o;){const i=t+o>>>1;Qr(Vt[i])<e?t=i+1:o=i}return t}function yd(e){(!Vt.length||!Vt.includes(e,zr&&e.allowRecurse?Mo+1:Mo))&&(e.id==null?Vt.push(e):Vt.splice(R_(e.id),0,e),ig())}function ig(){!zr&&!au&&(au=!0,bd=og.then(sg))}function P_(e){const t=Vt.indexOf(e);t>Mo&&Vt.splice(t,1)}function D_(e){Qe(e)?Li.push(...e):(!zo||!zo.includes(e,e.allowRecurse?zn+1:zn))&&Li.push(e),ig()}function bp(e,t=zr?Mo+1:0){for(;t<Vt.length;t++){const o=Vt[t];o&&o.pre&&(Vt.splice(t,1),t--,o())}}function rg(e){if(Li.length){const t=[...new Set(Li)];if(Li.length=0,zo){zo.push(...t);return}for(zo=t,zo.sort((o,i)=>Qr(o)-Qr(i)),zn=0;zn<zo.length;zn++)zo[zn]();zo=null,zn=0}}const Qr=e=>e.id==null?1/0:e.id,k_=(e,t)=>{const o=Qr(e)-Qr(t);if(o===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return o};function sg(e){au=!1,zr=!0,Vt.sort(k_);const t=xo;try{for(Mo=0;Mo<Vt.length;Mo++){const o=Vt[Mo];o&&o.active!==!1&&_n(o,null,14)}}finally{Mo=0,Vt.length=0,rg(),zr=!1,bd=null,(Vt.length||Li.length)&&sg()}}function O_(e,t,...o){if(e.isUnmounted)return;const i=e.vnode.props||yt;let n=o;const r=t.startsWith("update:"),s=r&&t.slice(7);if(s&&s in i){const u=`${s==="modelValue"?"model":s}Modifiers`,{number:h,trim:f}=i[u]||yt;f&&(n=o.map(g=>It(g)?g.trim():g)),h&&(n=o.map(ya))}let c,a=i[c=mc(t)]||i[c=mc(Bo(t))];!a&&r&&(a=i[c=mc(si(t))]),a&&vo(a,e,6,n);const l=i[c+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,vo(l,e,6,n)}}function ag(e,t,o=!1){const i=t.emitsCache,n=i.get(e);if(n!==void 0)return n;const r=e.emits;let s={},c=!1;if(!Ye(e)){const a=l=>{const u=ag(l,t,!0);u&&(c=!0,Ft(s,u))};!o&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!r&&!c?(bt(e)&&i.set(e,null),null):(Qe(r)?r.forEach(a=>s[a]=null):Ft(s,r),bt(e)&&i.set(e,s),s)}function ja(e,t){return!e||!La(t)?!1:(t=t.slice(2).replace(/Once$/,""),rt(e,t[0].toLowerCase()+t.slice(1))||rt(e,si(t))||rt(e,t))}let $t=null,qa=null;function Ea(e){const t=$t;return $t=e,qa=e&&e.type.__scopeId||null,t}function Ze(e){qa=e}function Xe(){qa=null}function Jt(e,t=$t,o){if(!t||e._n)return e;const i=(...n)=>{i._d&&Tp(-1);const r=Ea(t);let s;try{s=e(...n)}finally{Ea(r),i._d&&Tp(1)}return s};return i._n=!0,i._c=!0,i._d=!0,i}function vc(e){const{type:t,vnode:o,proxy:i,withProxy:n,props:r,propsOptions:[s],slots:c,attrs:a,emit:l,render:u,renderCache:h,data:f,setupState:g,ctx:b,inheritAttrs:C}=e;let T,S;const _=Ea(e);try{if(o.shapeFlag&4){const w=n||i;T=Oo(u.call(w,w,h,r,g,f,b)),S=a}else{const w=t;T=Oo(w.length>1?w(r,{attrs:a,slots:c,emit:l}):w(r,null)),S=t.props?a:M_(a)}}catch(w){Lr.length=0,$a(w,e,1),T=Te(go)}let y=T;if(S&&C!==!1){const w=Object.keys(S),{shapeFlag:I}=y;w.length&&I&7&&(s&&w.some(ld)&&(S=L_(S,s)),y=Cn(y,S))}return o.dirs&&(y=Cn(y),y.dirs=y.dirs?y.dirs.concat(o.dirs):o.dirs),o.transition&&(y.transition=o.transition),T=y,Ea(_),T}const M_=e=>{let t;for(const o in e)(o==="class"||o==="style"||La(o))&&((t||(t={}))[o]=e[o]);return t},L_=(e,t)=>{const o={};for(const i in e)(!ld(i)||!(i.slice(9)in t))&&(o[i]=e[i]);return o};function F_(e,t,o){const{props:i,children:n,component:r}=e,{props:s,children:c,patchFlag:a}=t,l=r.emitsOptions;if(t.dirs||t.transition)return!0;if(o&&a>=0){if(a&1024)return!0;if(a&16)return i?yp(i,s,l):!!s;if(a&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(s[f]!==i[f]&&!ja(l,f))return!0}}}else return(n||c)&&(!c||!c.$stable)?!0:i===s?!1:i?s?yp(i,s,l):!0:!!s;return!1}function yp(e,t,o){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let n=0;n<i.length;n++){const r=i[n];if(t[r]!==e[r]&&!ja(o,r))return!0}return!1}function B_({vnode:e,parent:t},o){for(;t&&t.subTree===e;)(e=t.vnode).el=o,t=t.parent}const U_=e=>e.__isSuspense;function $_(e,t){t&&t.pendingBranch?Qe(e)?t.effects.push(...e):t.effects.push(e):D_(e)}function ra(e,t){if(xt){let o=xt.provides;const i=xt.parent&&xt.parent.provides;i===o&&(o=xt.provides=Object.create(i)),o[e]=t}}function Ko(e,t,o=!1){const i=xt||$t;if(i){const n=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(n&&e in n)return n[e];if(arguments.length>1)return o&&Ye(t)?t.call(i.proxy):t}}const Qs={};function sa(e,t,o){return lg(e,t,o)}function lg(e,t,{immediate:o,deep:i,flush:n,onTrack:r,onTrigger:s}=yt){const c=WA()===(xt==null?void 0:xt.scope)?xt:null;let a,l=!1,u=!1;if(Ht(e)?(a=()=>e.value,l=wa(e)):Oi(e)?(a=()=>e,i=!0):Qe(e)?(u=!0,l=e.some(y=>Oi(y)||wa(y)),a=()=>e.map(y=>{if(Ht(y))return y.value;if(Oi(y))return Kn(y);if(Ye(y))return _n(y,c,2)})):Ye(e)?t?a=()=>_n(e,c,2):a=()=>{if(!(c&&c.isUnmounted))return h&&h(),vo(e,c,3,[f])}:a=xo,t&&i){const y=a;a=()=>Kn(y())}let h,f=y=>{h=S.onStop=()=>{_n(y,c,4)}},g;if(Jr)if(f=xo,t?o&&vo(t,c,3,[a(),u?[]:void 0,f]):a(),n==="sync"){const y=MN();g=y.__watcherHandles||(y.__watcherHandles=[])}else return xo;let b=u?new Array(e.length).fill(Qs):Qs;const C=()=>{if(S.active)if(t){const y=S.run();(i||l||(u?y.some((w,I)=>Vr(w,b[I])):Vr(y,b)))&&(h&&h(),vo(t,c,3,[y,b===Qs?void 0:u&&b[0]===Qs?[]:b,f]),b=y)}else S.run()};C.allowRecurse=!!t;let T;n==="sync"?T=C:n==="post"?T=()=>Xt(C,c&&c.suspense):(C.pre=!0,c&&(C.id=c.uid),T=()=>yd(C));const S=new hd(a,T);t?o?C():b=S.run():n==="post"?Xt(S.run.bind(S),c&&c.suspense):S.run();const _=()=>{S.stop(),c&&c.scope&&cd(c.scope.effects,S)};return g&&g.push(_),_}function j_(e,t,o){const i=this.proxy,n=It(e)?e.includes(".")?cg(i,e):()=>i[e]:e.bind(i,i);let r;Ye(t)?r=t:(r=t.handler,o=t);const s=xt;ji(this);const c=lg(n,r.bind(i),o);return s?ji(s):Zn(),c}function cg(e,t){const o=t.split(".");return()=>{let i=e;for(let n=0;n<o.length&&i;n++)i=i[o[n]];return i}}function Kn(e,t){if(!bt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Ht(e))Kn(e.value,t);else if(Qe(e))for(let o=0;o<e.length;o++)Kn(e[o],t);else if(Yi(e)||ki(e))e.forEach(o=>{Kn(o,t)});else if(Fv(e))for(const o in e)Kn(e[o],t);return e}function ug(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return mg(()=>{e.isMounted=!0}),gg(()=>{e.isUnmounting=!0}),e}const fo=[Function,Array],q_={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:fo,onEnter:fo,onAfterEnter:fo,onEnterCancelled:fo,onBeforeLeave:fo,onLeave:fo,onAfterLeave:fo,onLeaveCancelled:fo,onBeforeAppear:fo,onAppear:fo,onAfterAppear:fo,onAppearCancelled:fo},setup(e,{slots:t}){const o=Pg(),i=ug();let n;return()=>{const r=t.default&&wd(t.default(),!0);if(!r||!r.length)return;let s=r[0];if(r.length>1){for(const C of r)if(C.type!==go){s=C;break}}const c=at(e),{mode:a}=c;if(i.isLeaving)return gc(s);const l=wp(s);if(!l)return gc(s);const u=Gr(l,c,i,o);Kr(l,u);const h=o.subTree,f=h&&wp(h);let g=!1;const{getTransitionKey:b}=l.type;if(b){const C=b();n===void 0?n=C:C!==n&&(n=C,g=!0)}if(f&&f.type!==go&&(!Qn(l,f)||g)){const C=Gr(f,c,i,o);if(Kr(f,C),a==="out-in")return i.isLeaving=!0,C.afterLeave=()=>{i.isLeaving=!1,o.update.active!==!1&&o.update()},gc(s);a==="in-out"&&l.type!==go&&(C.delayLeave=(T,S,_)=>{const y=hg(i,f);y[String(f.key)]=f,T._leaveCb=()=>{S(),T._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=_})}return s}}},dg=q_;function hg(e,t){const{leavingVNodes:o}=e;let i=o.get(t.type);return i||(i=Object.create(null),o.set(t.type,i)),i}function Gr(e,t,o,i){const{appear:n,mode:r,persisted:s=!1,onBeforeEnter:c,onEnter:a,onAfterEnter:l,onEnterCancelled:u,onBeforeLeave:h,onLeave:f,onAfterLeave:g,onLeaveCancelled:b,onBeforeAppear:C,onAppear:T,onAfterAppear:S,onAppearCancelled:_}=t,y=String(e.key),w=hg(o,e),I=(H,P)=>{H&&vo(H,i,9,P)},k=(H,P)=>{const R=P[1];I(H,P),Qe(H)?H.every(F=>F.length<=1)&&R():H.length<=1&&R()},B={mode:r,persisted:s,beforeEnter(H){let P=c;if(!o.isMounted)if(n)P=C||c;else return;H._leaveCb&&H._leaveCb(!0);const R=w[y];R&&Qn(e,R)&&R.el._leaveCb&&R.el._leaveCb(),I(P,[H])},enter(H){let P=a,R=l,F=u;if(!o.isMounted)if(n)P=T||a,R=S||l,F=_||u;else return;let M=!1;const G=H._enterCb=E=>{M||(M=!0,E?I(F,[H]):I(R,[H]),B.delayedLeave&&B.delayedLeave(),H._enterCb=void 0)};P?k(P,[H,G]):G()},leave(H,P){const R=String(e.key);if(H._enterCb&&H._enterCb(!0),o.isUnmounting)return P();I(h,[H]);let F=!1;const M=H._leaveCb=G=>{F||(F=!0,P(),G?I(b,[H]):I(g,[H]),H._leaveCb=void 0,w[R]===e&&delete w[R])};w[R]=e,f?k(f,[H,M]):M()},clone(H){return Gr(H,t,o,i)}};return B}function gc(e){if(Va(e))return e=Cn(e),e.children=null,e}function wp(e){return Va(e)?e.children?e.children[0]:void 0:e}function Kr(e,t){e.shapeFlag&6&&e.component?Kr(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function wd(e,t=!1,o){let i=[],n=0;for(let r=0;r<e.length;r++){let s=e[r];const c=o==null?s.key:String(o)+String(s.key!=null?s.key:r);s.type===Fe?(s.patchFlag&128&&n++,i=i.concat(wd(s.children,t,c))):(t||s.type!==go)&&i.push(c!=null?Cn(s,{key:c}):s)}if(n>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}function fg(e){return Ye(e)?{setup:e,name:e.name}:e}const kr=e=>!!e.type.__asyncLoader,Va=e=>e.type.__isKeepAlive;function V_(e,t){pg(e,"a",t)}function H_(e,t){pg(e,"da",t)}function pg(e,t,o=xt){const i=e.__wdc||(e.__wdc=()=>{let n=o;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Ha(t,i,o),o){let n=o.parent;for(;n&&n.parent;)Va(n.parent.vnode)&&z_(i,t,o,n),n=n.parent}}function z_(e,t,o,i){const n=Ha(t,e,i,!0);bg(()=>{cd(i[t],n)},o)}function Ha(e,t,o=xt,i=!1){if(o){const n=o[e]||(o[e]=[]),r=t.__weh||(t.__weh=(...s)=>{if(o.isUnmounted)return;Zi(),ji(o);const c=vo(t,o,e,s);return Zn(),Xi(),c});return i?n.unshift(r):n.push(r),r}}const Zo=e=>(t,o=xt)=>(!Jr||e==="sp")&&Ha(e,(...i)=>t(...i),o),Q_=Zo("bm"),mg=Zo("m"),G_=Zo("bu"),vg=Zo("u"),gg=Zo("bum"),bg=Zo("um"),K_=Zo("sp"),W_=Zo("rtg"),J_=Zo("rtc");function Y_(e,t=xt){Ha("ec",e,t)}function V(e,t){const o=$t;if(o===null)return e;const i=Ga(o)||o.proxy,n=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[s,c,a,l=yt]=t[r];s&&(Ye(s)&&(s={mounted:s,updated:s}),s.deep&&Kn(c),n.push({dir:s,instance:i,value:c,oldValue:void 0,arg:a,modifiers:l}))}return e}function Fn(e,t,o,i){const n=e.dirs,r=t&&t.dirs;for(let s=0;s<n.length;s++){const c=n[s];r&&(c.oldValue=r[s].value);let a=c.dir[i];a&&(Zi(),vo(a,o,8,[e.el,c,e,t]),Xi())}}const yg="components";function Pe(e,t){return X_(yg,e,!0,t)||e}const Z_=Symbol();function X_(e,t,o=!0,i=!1){const n=$t||xt;if(n){const r=n.type;if(e===yg){const c=DN(r,!1);if(c&&(c===t||c===Bo(t)||c===Ba(Bo(t))))return r}const s=Ep(n[e]||r[e],t)||Ep(n.appContext[e],t);return!s&&i?r:s}}function Ep(e,t){return e&&(e[t]||e[Bo(t)]||e[Ba(Bo(t))])}function qe(e,t,o,i){let n;const r=o&&o[i];if(Qe(e)||It(e)){n=new Array(e.length);for(let s=0,c=e.length;s<c;s++)n[s]=t(e[s],s,void 0,r&&r[s])}else if(typeof e=="number"){n=new Array(e);for(let s=0;s<e;s++)n[s]=t(s+1,s,void 0,r&&r[s])}else if(bt(e))if(e[Symbol.iterator])n=Array.from(e,(s,c)=>t(s,c,void 0,r&&r[c]));else{const s=Object.keys(e);n=new Array(s.length);for(let c=0,a=s.length;c<a;c++){const l=s[c];n[c]=t(e[l],l,c,r&&r[c])}}else n=[];return o&&(o[i]=n),n}function eN(e,t,o={},i,n){if($t.isCE||$t.parent&&kr($t.parent)&&$t.parent.isCE)return t!=="default"&&(o.name=t),Te("slot",o,i&&i());let r=e[t];r&&r._c&&(r._d=!1),J();const s=r&&wg(r(o)),c=Ge(Fe,{key:o.key||s&&s.key||`_${t}`},s||(i?i():[]),s&&e._===1?64:-2);return!n&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),r&&r._c&&(r._d=!0),c}function wg(e){return e.some(t=>_a(t)?!(t.type===go||t.type===Fe&&!wg(t.children)):!0)?e:null}const lu=e=>e?Dg(e)?Ga(e)||e.proxy:lu(e.parent):null,Or=Ft(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>lu(e.parent),$root:e=>lu(e.root),$emit:e=>e.emit,$options:e=>Ed(e),$forceUpdate:e=>e.f||(e.f=()=>yd(e.update)),$nextTick:e=>e.n||(e.n=ng.bind(e.proxy)),$watch:e=>j_.bind(e)}),bc=(e,t)=>e!==yt&&!e.__isScriptSetup&&rt(e,t),tN={get({_:e},t){const{ctx:o,setupState:i,data:n,props:r,accessCache:s,type:c,appContext:a}=e;let l;if(t[0]!=="$"){const g=s[t];if(g!==void 0)switch(g){case 1:return i[t];case 2:return n[t];case 4:return o[t];case 3:return r[t]}else{if(bc(i,t))return s[t]=1,i[t];if(n!==yt&&rt(n,t))return s[t]=2,n[t];if((l=e.propsOptions[0])&&rt(l,t))return s[t]=3,r[t];if(o!==yt&&rt(o,t))return s[t]=4,o[t];cu&&(s[t]=0)}}const u=Or[t];let h,f;if(u)return t==="$attrs"&&to(e,"get",t),u(e);if((h=c.__cssModules)&&(h=h[t]))return h;if(o!==yt&&rt(o,t))return s[t]=4,o[t];if(f=a.config.globalProperties,rt(f,t))return f[t]},set({_:e},t,o){const{data:i,setupState:n,ctx:r}=e;return bc(n,t)?(n[t]=o,!0):i!==yt&&rt(i,t)?(i[t]=o,!0):rt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=o,!0)},has({_:{data:e,setupState:t,accessCache:o,ctx:i,appContext:n,propsOptions:r}},s){let c;return!!o[s]||e!==yt&&rt(e,s)||bc(t,s)||(c=r[0])&&rt(c,s)||rt(i,s)||rt(Or,s)||rt(n.config.globalProperties,s)},defineProperty(e,t,o){return o.get!=null?e._.accessCache[t]=0:rt(o,"value")&&this.set(e,t,o.value,null),Reflect.defineProperty(e,t,o)}};let cu=!0;function oN(e){const t=Ed(e),o=e.proxy,i=e.ctx;cu=!1,t.beforeCreate&&Ap(t.beforeCreate,e,"bc");const{data:n,computed:r,methods:s,watch:c,provide:a,inject:l,created:u,beforeMount:h,mounted:f,beforeUpdate:g,updated:b,activated:C,deactivated:T,beforeDestroy:S,beforeUnmount:_,destroyed:y,unmounted:w,render:I,renderTracked:k,renderTriggered:B,errorCaptured:H,serverPrefetch:P,expose:R,inheritAttrs:F,components:M,directives:G,filters:E}=t;if(l&&nN(l,i,null,e.appContext.config.unwrapInjectedRef),s)for(const Q in s){const _e=s[Q];Ye(_e)&&(i[Q]=_e.bind(o))}if(n){const Q=n.call(o,o);bt(Q)&&(e.data=ss(Q))}if(cu=!0,r)for(const Q in r){const _e=r[Q],be=Ye(_e)?_e.bind(o,o):Ye(_e.get)?_e.get.bind(o,o):xo,Ce=!Ye(_e)&&Ye(_e.set)?_e.set.bind(o):xo,x=mo({get:be,set:Ce});Object.defineProperty(i,Q,{enumerable:!0,configurable:!0,get:()=>x.value,set:$=>x.value=$})}if(c)for(const Q in c)Eg(c[Q],i,o,Q);if(a){const Q=Ye(a)?a.call(o):a;Reflect.ownKeys(Q).forEach(_e=>{ra(_e,Q[_e])})}u&&Ap(u,e,"c");function re(Q,_e){Qe(_e)?_e.forEach(be=>Q(be.bind(o))):_e&&Q(_e.bind(o))}if(re(Q_,h),re(mg,f),re(G_,g),re(vg,b),re(V_,C),re(H_,T),re(Y_,H),re(J_,k),re(W_,B),re(gg,_),re(bg,w),re(K_,P),Qe(R))if(R.length){const Q=e.exposed||(e.exposed={});R.forEach(_e=>{Object.defineProperty(Q,_e,{get:()=>o[_e],set:be=>o[_e]=be})})}else e.exposed||(e.exposed={});I&&e.render===xo&&(e.render=I),F!=null&&(e.inheritAttrs=F),M&&(e.components=M),G&&(e.directives=G)}function nN(e,t,o=xo,i=!1){Qe(e)&&(e=uu(e));for(const n in e){const r=e[n];let s;bt(r)?"default"in r?s=Ko(r.from||n,r.default,!0):s=Ko(r.from||n):s=Ko(r),Ht(s)&&i?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:c=>s.value=c}):t[n]=s}}function Ap(e,t,o){vo(Qe(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,o)}function Eg(e,t,o,i){const n=i.includes(".")?cg(o,i):()=>o[i];if(It(e)){const r=t[e];Ye(r)&&sa(n,r)}else if(Ye(e))sa(n,e.bind(o));else if(bt(e))if(Qe(e))e.forEach(r=>Eg(r,t,o,i));else{const r=Ye(e.handler)?e.handler.bind(o):t[e.handler];Ye(r)&&sa(n,r,e)}}function Ed(e){const t=e.type,{mixins:o,extends:i}=t,{mixins:n,optionsCache:r,config:{optionMergeStrategies:s}}=e.appContext,c=r.get(t);let a;return c?a=c:!n.length&&!o&&!i?a=t:(a={},n.length&&n.forEach(l=>Aa(a,l,s,!0)),Aa(a,t,s)),bt(t)&&r.set(t,a),a}function Aa(e,t,o,i=!1){const{mixins:n,extends:r}=t;r&&Aa(e,r,o,!0),n&&n.forEach(s=>Aa(e,s,o,!0));for(const s in t)if(!(i&&s==="expose")){const c=iN[s]||o&&o[s];e[s]=c?c(e[s],t[s]):t[s]}return e}const iN={data:_p,props:jn,emits:jn,methods:jn,computed:jn,beforeCreate:Wt,created:Wt,beforeMount:Wt,mounted:Wt,beforeUpdate:Wt,updated:Wt,beforeDestroy:Wt,beforeUnmount:Wt,destroyed:Wt,unmounted:Wt,activated:Wt,deactivated:Wt,errorCaptured:Wt,serverPrefetch:Wt,components:jn,directives:jn,watch:sN,provide:_p,inject:rN};function _p(e,t){return t?e?function(){return Ft(Ye(e)?e.call(this,this):e,Ye(t)?t.call(this,this):t)}:t:e}function rN(e,t){return jn(uu(e),uu(t))}function uu(e){if(Qe(e)){const t={};for(let o=0;o<e.length;o++)t[e[o]]=e[o];return t}return e}function Wt(e,t){return e?[...new Set([].concat(e,t))]:t}function jn(e,t){return e?Ft(Ft(Object.create(null),e),t):t}function sN(e,t){if(!e)return t;if(!t)return e;const o=Ft(Object.create(null),e);for(const i in t)o[i]=Wt(e[i],t[i]);return o}function aN(e,t,o,i=!1){const n={},r={};ba(r,Qa,1),e.propsDefaults=Object.create(null),Ag(e,t,n,r);for(const s in e.propsOptions[0])s in n||(n[s]=void 0);o?e.props=i?n:A_(n):e.type.props?e.props=n:e.props=r,e.attrs=r}function lN(e,t,o,i){const{props:n,attrs:r,vnode:{patchFlag:s}}=e,c=at(n),[a]=e.propsOptions;let l=!1;if((i||s>0)&&!(s&16)){if(s&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(ja(e.emitsOptions,f))continue;const g=t[f];if(a)if(rt(r,f))g!==r[f]&&(r[f]=g,l=!0);else{const b=Bo(f);n[b]=du(a,c,b,g,e,!1)}else g!==r[f]&&(r[f]=g,l=!0)}}}else{Ag(e,t,n,r)&&(l=!0);let u;for(const h in c)(!t||!rt(t,h)&&((u=si(h))===h||!rt(t,u)))&&(a?o&&(o[h]!==void 0||o[u]!==void 0)&&(n[h]=du(a,c,h,void 0,e,!0)):delete n[h]);if(r!==c)for(const h in r)(!t||!rt(t,h))&&(delete r[h],l=!0)}l&&Jo(e,"set","$attrs")}function Ag(e,t,o,i){const[n,r]=e.propsOptions;let s=!1,c;if(t)for(let a in t){if(na(a))continue;const l=t[a];let u;n&&rt(n,u=Bo(a))?!r||!r.includes(u)?o[u]=l:(c||(c={}))[u]=l:ja(e.emitsOptions,a)||(!(a in i)||l!==i[a])&&(i[a]=l,s=!0)}if(r){const a=at(o),l=c||yt;for(let u=0;u<r.length;u++){const h=r[u];o[h]=du(n,a,h,l[h],e,!rt(l,h))}}return s}function du(e,t,o,i,n,r){const s=e[o];if(s!=null){const c=rt(s,"default");if(c&&i===void 0){const a=s.default;if(s.type!==Function&&Ye(a)){const{propsDefaults:l}=n;o in l?i=l[o]:(ji(n),i=l[o]=a.call(null,t),Zn())}else i=a}s[0]&&(r&&!c?i=!1:s[1]&&(i===""||i===si(o))&&(i=!0))}return i}function _g(e,t,o=!1){const i=t.propsCache,n=i.get(e);if(n)return n;const r=e.props,s={},c=[];let a=!1;if(!Ye(e)){const u=h=>{a=!0;const[f,g]=_g(h,t,!0);Ft(s,f),g&&c.push(...g)};!o&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!a)return bt(e)&&i.set(e,Di),Di;if(Qe(r))for(let u=0;u<r.length;u++){const h=Bo(r[u]);Np(h)&&(s[h]=yt)}else if(r)for(const u in r){const h=Bo(u);if(Np(h)){const f=r[u],g=s[h]=Qe(f)||Ye(f)?{type:f}:Object.assign({},f);if(g){const b=xp(Boolean,g.type),C=xp(String,g.type);g[0]=b>-1,g[1]=C<0||b<C,(b>-1||rt(g,"default"))&&c.push(h)}}}const l=[s,c];return bt(e)&&i.set(e,l),l}function Np(e){return e[0]!=="$"}function Cp(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Sp(e,t){return Cp(e)===Cp(t)}function xp(e,t){return Qe(t)?t.findIndex(o=>Sp(o,e)):Ye(t)&&Sp(t,e)?0:-1}const Ng=e=>e[0]==="_"||e==="$stable",Ad=e=>Qe(e)?e.map(Oo):[Oo(e)],cN=(e,t,o)=>{if(t._n)return t;const i=Jt((...n)=>Ad(t(...n)),o);return i._c=!1,i},Cg=(e,t,o)=>{const i=e._ctx;for(const n in e){if(Ng(n))continue;const r=e[n];if(Ye(r))t[n]=cN(n,r,i);else if(r!=null){const s=Ad(r);t[n]=()=>s}}},Sg=(e,t)=>{const o=Ad(t);e.slots.default=()=>o},uN=(e,t)=>{if(e.vnode.shapeFlag&32){const o=t._;o?(e.slots=at(t),ba(t,"_",o)):Cg(t,e.slots={})}else e.slots={},t&&Sg(e,t);ba(e.slots,Qa,1)},dN=(e,t,o)=>{const{vnode:i,slots:n}=e;let r=!0,s=yt;if(i.shapeFlag&32){const c=t._;c?o&&c===1?r=!1:(Ft(n,t),!o&&c===1&&delete n._):(r=!t.$stable,Cg(t,n)),s=t}else t&&(Sg(e,t),s={default:1});if(r)for(const c in n)!Ng(c)&&!(c in s)&&delete n[c]};function xg(){return{app:null,config:{isNativeTag:UA,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hN=0;function fN(e,t){return function(i,n=null){Ye(i)||(i=Object.assign({},i)),n!=null&&!bt(n)&&(n=null);const r=xg(),s=new Set;let c=!1;const a=r.app={_uid:hN++,_component:i,_props:n,_container:null,_context:r,_instance:null,version:LN,get config(){return r.config},set config(l){},use(l,...u){return s.has(l)||(l&&Ye(l.install)?(s.add(l),l.install(a,...u)):Ye(l)&&(s.add(l),l(a,...u))),a},mixin(l){return r.mixins.includes(l)||r.mixins.push(l),a},component(l,u){return u?(r.components[l]=u,a):r.components[l]},directive(l,u){return u?(r.directives[l]=u,a):r.directives[l]},mount(l,u,h){if(!c){const f=Te(i,n);return f.appContext=r,u&&t?t(f,l):e(f,l,h),c=!0,a._container=l,l.__vue_app__=a,Ga(f.component)||f.component.proxy}},unmount(){c&&(e(null,a._container),delete a._container.__vue_app__)},provide(l,u){return r.provides[l]=u,a}};return a}}function hu(e,t,o,i,n=!1){if(Qe(e)){e.forEach((f,g)=>hu(f,t&&(Qe(t)?t[g]:t),o,i,n));return}if(kr(i)&&!n)return;const r=i.shapeFlag&4?Ga(i.component)||i.component.proxy:i.el,s=n?null:r,{i:c,r:a}=e,l=t&&t.r,u=c.refs===yt?c.refs={}:c.refs,h=c.setupState;if(l!=null&&l!==a&&(It(l)?(u[l]=null,rt(h,l)&&(h[l]=null)):Ht(l)&&(l.value=null)),Ye(a))_n(a,c,12,[s,u]);else{const f=It(a),g=Ht(a);if(f||g){const b=()=>{if(e.f){const C=f?rt(h,a)?h[a]:u[a]:a.value;n?Qe(C)&&cd(C,r):Qe(C)?C.includes(r)||C.push(r):f?(u[a]=[r],rt(h,a)&&(h[a]=u[a])):(a.value=[r],e.k&&(u[e.k]=a.value))}else f?(u[a]=s,rt(h,a)&&(h[a]=s)):g&&(a.value=s,e.k&&(u[e.k]=s))};s?(b.id=-1,Xt(b,o)):b()}}}const Xt=$_;function pN(e){return mN(e)}function mN(e,t){const o=QA();o.__VUE__=!0;const{insert:i,remove:n,patchProp:r,createElement:s,createText:c,createComment:a,setText:l,setElementText:u,parentNode:h,nextSibling:f,setScopeId:g=xo,insertStaticContent:b}=e,C=(v,N,L,Z=null,ce=null,pe=null,de=!1,me=null,Ne=!!N.dynamicChildren)=>{if(v===N)return;v&&!Qn(v,N)&&(Z=W(v),$(v,ce,pe,!0),v=null),N.patchFlag===-2&&(Ne=!1,N.dynamicChildren=null);const{type:ye,ref:De,shapeFlag:Me}=N;switch(ye){case za:T(v,N,L,Z);break;case go:S(v,N,L,Z);break;case yc:v==null&&_(N,L,Z,de);break;case Fe:M(v,N,L,Z,ce,pe,de,me,Ne);break;default:Me&1?I(v,N,L,Z,ce,pe,de,me,Ne):Me&6?G(v,N,L,Z,ce,pe,de,me,Ne):(Me&64||Me&128)&&ye.process(v,N,L,Z,ce,pe,de,me,Ne,se)}De!=null&&ce&&hu(De,v&&v.ref,pe,N||v,!N)},T=(v,N,L,Z)=>{if(v==null)i(N.el=c(N.children),L,Z);else{const ce=N.el=v.el;N.children!==v.children&&l(ce,N.children)}},S=(v,N,L,Z)=>{v==null?i(N.el=a(N.children||""),L,Z):N.el=v.el},_=(v,N,L,Z)=>{[v.el,v.anchor]=b(v.children,N,L,Z,v.el,v.anchor)},y=({el:v,anchor:N},L,Z)=>{let ce;for(;v&&v!==N;)ce=f(v),i(v,L,Z),v=ce;i(N,L,Z)},w=({el:v,anchor:N})=>{let L;for(;v&&v!==N;)L=f(v),n(v),v=L;n(N)},I=(v,N,L,Z,ce,pe,de,me,Ne)=>{de=de||N.type==="svg",v==null?k(N,L,Z,ce,pe,de,me,Ne):P(v,N,ce,pe,de,me,Ne)},k=(v,N,L,Z,ce,pe,de,me)=>{let Ne,ye;const{type:De,props:Me,shapeFlag:A,transition:D,dirs:j}=v;if(Ne=v.el=s(v.type,pe,Me&&Me.is,Me),A&8?u(Ne,v.children):A&16&&H(v.children,Ne,null,Z,ce,pe&&De!=="foreignObject",de,me),j&&Fn(v,null,Z,"created"),B(Ne,v,v.scopeId,de,Z),Me){for(const le in Me)le!=="value"&&!na(le)&&r(Ne,le,null,Me[le],pe,v.children,Z,ce,q);"value"in Me&&r(Ne,"value",null,Me.value),(ye=Me.onVnodeBeforeMount)&&ko(ye,Z,v)}j&&Fn(v,null,Z,"beforeMount");const ie=(!ce||ce&&!ce.pendingBranch)&&D&&!D.persisted;ie&&D.beforeEnter(Ne),i(Ne,N,L),((ye=Me&&Me.onVnodeMounted)||ie||j)&&Xt(()=>{ye&&ko(ye,Z,v),ie&&D.enter(Ne),j&&Fn(v,null,Z,"mounted")},ce)},B=(v,N,L,Z,ce)=>{if(L&&g(v,L),Z)for(let pe=0;pe<Z.length;pe++)g(v,Z[pe]);if(ce){let pe=ce.subTree;if(N===pe){const de=ce.vnode;B(v,de,de.scopeId,de.slotScopeIds,ce.parent)}}},H=(v,N,L,Z,ce,pe,de,me,Ne=0)=>{for(let ye=Ne;ye<v.length;ye++){const De=v[ye]=me?gn(v[ye]):Oo(v[ye]);C(null,De,N,L,Z,ce,pe,de,me)}},P=(v,N,L,Z,ce,pe,de)=>{const me=N.el=v.el;let{patchFlag:Ne,dynamicChildren:ye,dirs:De}=N;Ne|=v.patchFlag&16;const Me=v.props||yt,A=N.props||yt;let D;L&&Bn(L,!1),(D=A.onVnodeBeforeUpdate)&&ko(D,L,N,v),De&&Fn(N,v,L,"beforeUpdate"),L&&Bn(L,!0);const j=ce&&N.type!=="foreignObject";if(ye?R(v.dynamicChildren,ye,me,L,Z,j,pe):de||_e(v,N,me,null,L,Z,j,pe,!1),Ne>0){if(Ne&16)F(me,N,Me,A,L,Z,ce);else if(Ne&2&&Me.class!==A.class&&r(me,"class",null,A.class,ce),Ne&4&&r(me,"style",Me.style,A.style,ce),Ne&8){const ie=N.dynamicProps;for(let le=0;le<ie.length;le++){const ue=ie[le],Se=Me[ue],ze=A[ue];(ze!==Se||ue==="value")&&r(me,ue,Se,ze,ce,v.children,L,Z,q)}}Ne&1&&v.children!==N.children&&u(me,N.children)}else!de&&ye==null&&F(me,N,Me,A,L,Z,ce);((D=A.onVnodeUpdated)||De)&&Xt(()=>{D&&ko(D,L,N,v),De&&Fn(N,v,L,"updated")},Z)},R=(v,N,L,Z,ce,pe,de)=>{for(let me=0;me<N.length;me++){const Ne=v[me],ye=N[me],De=Ne.el&&(Ne.type===Fe||!Qn(Ne,ye)||Ne.shapeFlag&70)?h(Ne.el):L;C(Ne,ye,De,null,Z,ce,pe,de,!0)}},F=(v,N,L,Z,ce,pe,de)=>{if(L!==Z){if(L!==yt)for(const me in L)!na(me)&&!(me in Z)&&r(v,me,L[me],null,de,N.children,ce,pe,q);for(const me in Z){if(na(me))continue;const Ne=Z[me],ye=L[me];Ne!==ye&&me!=="value"&&r(v,me,ye,Ne,de,N.children,ce,pe,q)}"value"in Z&&r(v,"value",L.value,Z.value)}},M=(v,N,L,Z,ce,pe,de,me,Ne)=>{const ye=N.el=v?v.el:c(""),De=N.anchor=v?v.anchor:c("");let{patchFlag:Me,dynamicChildren:A,slotScopeIds:D}=N;D&&(me=me?me.concat(D):D),v==null?(i(ye,L,Z),i(De,L,Z),H(N.children,L,De,ce,pe,de,me,Ne)):Me>0&&Me&64&&A&&v.dynamicChildren?(R(v.dynamicChildren,A,L,ce,pe,de,me),(N.key!=null||ce&&N===ce.subTree)&&_d(v,N,!0)):_e(v,N,L,De,ce,pe,de,me,Ne)},G=(v,N,L,Z,ce,pe,de,me,Ne)=>{N.slotScopeIds=me,v==null?N.shapeFlag&512?ce.ctx.activate(N,L,Z,de,Ne):E(N,L,Z,ce,pe,de,Ne):ne(v,N,Ne)},E=(v,N,L,Z,ce,pe,de)=>{const me=v.component=xN(v,Z,ce);if(Va(v)&&(me.ctx.renderer=se),IN(me),me.asyncDep){if(ce&&ce.registerDep(me,re),!v.el){const Ne=me.subTree=Te(go);S(null,Ne,N,L)}return}re(me,v,N,L,ce,pe,de)},ne=(v,N,L)=>{const Z=N.component=v.component;if(F_(v,N,L))if(Z.asyncDep&&!Z.asyncResolved){Q(Z,N,L);return}else Z.next=N,P_(Z.update),Z.update();else N.el=v.el,Z.vnode=N},re=(v,N,L,Z,ce,pe,de)=>{const me=()=>{if(v.isMounted){let{next:De,bu:Me,u:A,parent:D,vnode:j}=v,ie=De,le;Bn(v,!1),De?(De.el=j.el,Q(v,De,de)):De=j,Me&&ia(Me),(le=De.props&&De.props.onVnodeBeforeUpdate)&&ko(le,D,De,j),Bn(v,!0);const ue=vc(v),Se=v.subTree;v.subTree=ue,C(Se,ue,h(Se.el),W(Se),v,ce,pe),De.el=ue.el,ie===null&&B_(v,ue.el),A&&Xt(A,ce),(le=De.props&&De.props.onVnodeUpdated)&&Xt(()=>ko(le,D,De,j),ce)}else{let De;const{el:Me,props:A}=N,{bm:D,m:j,parent:ie}=v,le=kr(N);if(Bn(v,!1),D&&ia(D),!le&&(De=A&&A.onVnodeBeforeMount)&&ko(De,ie,N),Bn(v,!0),Me&&U){const ue=()=>{v.subTree=vc(v),U(Me,v.subTree,v,ce,null)};le?N.type.__asyncLoader().then(()=>!v.isUnmounted&&ue()):ue()}else{const ue=v.subTree=vc(v);C(null,ue,L,Z,v,ce,pe),N.el=ue.el}if(j&&Xt(j,ce),!le&&(De=A&&A.onVnodeMounted)){const ue=N;Xt(()=>ko(De,ie,ue),ce)}(N.shapeFlag&256||ie&&kr(ie.vnode)&&ie.vnode.shapeFlag&256)&&v.a&&Xt(v.a,ce),v.isMounted=!0,N=L=Z=null}},Ne=v.effect=new hd(me,()=>yd(ye),v.scope),ye=v.update=()=>Ne.run();ye.id=v.uid,Bn(v,!0),ye()},Q=(v,N,L)=>{N.component=v;const Z=v.vnode.props;v.vnode=N,v.next=null,lN(v,N.props,Z,L),dN(v,N.children,L),Zi(),bp(),Xi()},_e=(v,N,L,Z,ce,pe,de,me,Ne=!1)=>{const ye=v&&v.children,De=v?v.shapeFlag:0,Me=N.children,{patchFlag:A,shapeFlag:D}=N;if(A>0){if(A&128){Ce(ye,Me,L,Z,ce,pe,de,me,Ne);return}else if(A&256){be(ye,Me,L,Z,ce,pe,de,me,Ne);return}}D&8?(De&16&&q(ye,ce,pe),Me!==ye&&u(L,Me)):De&16?D&16?Ce(ye,Me,L,Z,ce,pe,de,me,Ne):q(ye,ce,pe,!0):(De&8&&u(L,""),D&16&&H(Me,L,Z,ce,pe,de,me,Ne))},be=(v,N,L,Z,ce,pe,de,me,Ne)=>{v=v||Di,N=N||Di;const ye=v.length,De=N.length,Me=Math.min(ye,De);let A;for(A=0;A<Me;A++){const D=N[A]=Ne?gn(N[A]):Oo(N[A]);C(v[A],D,L,null,ce,pe,de,me,Ne)}ye>De?q(v,ce,pe,!0,!1,Me):H(N,L,Z,ce,pe,de,me,Ne,Me)},Ce=(v,N,L,Z,ce,pe,de,me,Ne)=>{let ye=0;const De=N.length;let Me=v.length-1,A=De-1;for(;ye<=Me&&ye<=A;){const D=v[ye],j=N[ye]=Ne?gn(N[ye]):Oo(N[ye]);if(Qn(D,j))C(D,j,L,null,ce,pe,de,me,Ne);else break;ye++}for(;ye<=Me&&ye<=A;){const D=v[Me],j=N[A]=Ne?gn(N[A]):Oo(N[A]);if(Qn(D,j))C(D,j,L,null,ce,pe,de,me,Ne);else break;Me--,A--}if(ye>Me){if(ye<=A){const D=A+1,j=D<De?N[D].el:Z;for(;ye<=A;)C(null,N[ye]=Ne?gn(N[ye]):Oo(N[ye]),L,j,ce,pe,de,me,Ne),ye++}}else if(ye>A)for(;ye<=Me;)$(v[ye],ce,pe,!0),ye++;else{const D=ye,j=ye,ie=new Map;for(ye=j;ye<=A;ye++){const et=N[ye]=Ne?gn(N[ye]):Oo(N[ye]);et.key!=null&&ie.set(et.key,ye)}let le,ue=0;const Se=A-j+1;let ze=!1,Je=0;const dt=new Array(Se);for(ye=0;ye<Se;ye++)dt[ye]=0;for(ye=D;ye<=Me;ye++){const et=v[ye];if(ue>=Se){$(et,ce,pe,!0);continue}let io;if(et.key!=null)io=ie.get(et.key);else for(le=j;le<=A;le++)if(dt[le-j]===0&&Qn(et,N[le])){io=le;break}io===void 0?$(et,ce,pe,!0):(dt[io-j]=ye+1,io>=Je?Je=io:ze=!0,C(et,N[io],L,null,ce,pe,de,me,Ne),ue++)}const ot=ze?vN(dt):Di;for(le=ot.length-1,ye=Se-1;ye>=0;ye--){const et=j+ye,io=N[et],wo=et+1<De?N[et+1].el:Z;dt[ye]===0?C(null,io,L,wo,ce,pe,de,me,Ne):ze&&(le<0||ye!==ot[le]?x(io,L,wo,2):le--)}}},x=(v,N,L,Z,ce=null)=>{const{el:pe,type:de,transition:me,children:Ne,shapeFlag:ye}=v;if(ye&6){x(v.component.subTree,N,L,Z);return}if(ye&128){v.suspense.move(N,L,Z);return}if(ye&64){de.move(v,N,L,se);return}if(de===Fe){i(pe,N,L);for(let Me=0;Me<Ne.length;Me++)x(Ne[Me],N,L,Z);i(v.anchor,N,L);return}if(de===yc){y(v,N,L);return}if(Z!==2&&ye&1&&me)if(Z===0)me.beforeEnter(pe),i(pe,N,L),Xt(()=>me.enter(pe),ce);else{const{leave:Me,delayLeave:A,afterLeave:D}=me,j=()=>i(pe,N,L),ie=()=>{Me(pe,()=>{j(),D&&D()})};A?A(pe,j,ie):ie()}else i(pe,N,L)},$=(v,N,L,Z=!1,ce=!1)=>{const{type:pe,props:de,ref:me,children:Ne,dynamicChildren:ye,shapeFlag:De,patchFlag:Me,dirs:A}=v;if(me!=null&&hu(me,null,L,v,!0),De&256){N.ctx.deactivate(v);return}const D=De&1&&A,j=!kr(v);let ie;if(j&&(ie=de&&de.onVnodeBeforeUnmount)&&ko(ie,N,v),De&6)Y(v.component,L,Z);else{if(De&128){v.suspense.unmount(L,Z);return}D&&Fn(v,null,N,"beforeUnmount"),De&64?v.type.remove(v,N,L,ce,se,Z):ye&&(pe!==Fe||Me>0&&Me&64)?q(ye,N,L,!1,!0):(pe===Fe&&Me&384||!ce&&De&16)&&q(Ne,N,L),Z&&oe(v)}(j&&(ie=de&&de.onVnodeUnmounted)||D)&&Xt(()=>{ie&&ko(ie,N,v),D&&Fn(v,null,N,"unmounted")},L)},oe=v=>{const{type:N,el:L,anchor:Z,transition:ce}=v;if(N===Fe){z(L,Z);return}if(N===yc){w(v);return}const pe=()=>{n(L),ce&&!ce.persisted&&ce.afterLeave&&ce.afterLeave()};if(v.shapeFlag&1&&ce&&!ce.persisted){const{leave:de,delayLeave:me}=ce,Ne=()=>de(L,pe);me?me(v.el,pe,Ne):Ne()}else pe()},z=(v,N)=>{let L;for(;v!==N;)L=f(v),n(v),v=L;n(N)},Y=(v,N,L)=>{const{bum:Z,scope:ce,update:pe,subTree:de,um:me}=v;Z&&ia(Z),ce.stop(),pe&&(pe.active=!1,$(de,v,N,L)),me&&Xt(me,N),Xt(()=>{v.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},q=(v,N,L,Z=!1,ce=!1,pe=0)=>{for(let de=pe;de<v.length;de++)$(v[de],N,L,Z,ce)},W=v=>v.shapeFlag&6?W(v.component.subTree):v.shapeFlag&128?v.suspense.next():f(v.anchor||v.el),te=(v,N,L)=>{v==null?N._vnode&&$(N._vnode,null,null,!0):C(N._vnode||null,v,N,null,null,null,L),bp(),rg(),N._vnode=v},se={p:C,um:$,m:x,r:oe,mt:E,mc:H,pc:_e,pbc:R,n:W,o:e};let ae,U;return t&&([ae,U]=t(se)),{render:te,hydrate:ae,createApp:fN(te,ae)}}function Bn({effect:e,update:t},o){e.allowRecurse=t.allowRecurse=o}function _d(e,t,o=!1){const i=e.children,n=t.children;if(Qe(i)&&Qe(n))for(let r=0;r<i.length;r++){const s=i[r];let c=n[r];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=n[r]=gn(n[r]),c.el=s.el),o||_d(s,c)),c.type===za&&(c.el=s.el)}}function vN(e){const t=e.slice(),o=[0];let i,n,r,s,c;const a=e.length;for(i=0;i<a;i++){const l=e[i];if(l!==0){if(n=o[o.length-1],e[n]<l){t[i]=n,o.push(i);continue}for(r=0,s=o.length-1;r<s;)c=r+s>>1,e[o[c]]<l?r=c+1:s=c;l<e[o[r]]&&(r>0&&(t[i]=o[r-1]),o[r]=i)}}for(r=o.length,s=o[r-1];r-- >0;)o[r]=s,s=t[s];return o}const gN=e=>e.__isTeleport,Mr=e=>e&&(e.disabled||e.disabled===""),Ip=e=>typeof SVGElement<"u"&&e instanceof SVGElement,fu=(e,t)=>{const o=e&&e.to;return It(o)?t?t(o):null:o},bN={__isTeleport:!0,process(e,t,o,i,n,r,s,c,a,l){const{mc:u,pc:h,pbc:f,o:{insert:g,querySelector:b,createText:C,createComment:T}}=l,S=Mr(t.props);let{shapeFlag:_,children:y,dynamicChildren:w}=t;if(e==null){const I=t.el=C(""),k=t.anchor=C("");g(I,o,i),g(k,o,i);const B=t.target=fu(t.props,b),H=t.targetAnchor=C("");B&&(g(H,B),s=s||Ip(B));const P=(R,F)=>{_&16&&u(y,R,F,n,r,s,c,a)};S?P(o,k):B&&P(B,H)}else{t.el=e.el;const I=t.anchor=e.anchor,k=t.target=e.target,B=t.targetAnchor=e.targetAnchor,H=Mr(e.props),P=H?o:k,R=H?I:B;if(s=s||Ip(k),w?(f(e.dynamicChildren,w,P,n,r,s,c),_d(e,t,!0)):a||h(e,t,P,R,n,r,s,c,!1),S)H||Gs(t,o,I,l,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const F=t.target=fu(t.props,b);F&&Gs(t,F,null,l,0)}else H&&Gs(t,k,B,l,1)}Ig(t)},remove(e,t,o,i,{um:n,o:{remove:r}},s){const{shapeFlag:c,children:a,anchor:l,targetAnchor:u,target:h,props:f}=e;if(h&&r(u),(s||!Mr(f))&&(r(l),c&16))for(let g=0;g<a.length;g++){const b=a[g];n(b,t,o,!0,!!b.dynamicChildren)}},move:Gs,hydrate:yN};function Gs(e,t,o,{o:{insert:i},m:n},r=2){r===0&&i(e.targetAnchor,t,o);const{el:s,anchor:c,shapeFlag:a,children:l,props:u}=e,h=r===2;if(h&&i(s,t,o),(!h||Mr(u))&&a&16)for(let f=0;f<l.length;f++)n(l[f],t,o,2);h&&i(c,t,o)}function yN(e,t,o,i,n,r,{o:{nextSibling:s,parentNode:c,querySelector:a}},l){const u=t.target=fu(t.props,a);if(u){const h=u._lpa||u.firstChild;if(t.shapeFlag&16)if(Mr(t.props))t.anchor=l(s(e),t,c(e),o,i,n,r),t.targetAnchor=h;else{t.anchor=s(e);let f=h;for(;f;)if(f=s(f),f&&f.nodeType===8&&f.data==="teleport anchor"){t.targetAnchor=f,u._lpa=t.targetAnchor&&s(t.targetAnchor);break}l(h,t,u,o,i,n,r)}Ig(t)}return t.anchor&&s(t.anchor)}const wN=bN;function Ig(e){const t=e.ctx;if(t&&t.ut){let o=e.children[0].el;for(;o!==e.targetAnchor;)o.nodeType===1&&o.setAttribute("data-v-owner",t.uid),o=o.nextSibling;t.ut()}}const Fe=Symbol(void 0),za=Symbol(void 0),go=Symbol(void 0),yc=Symbol(void 0),Lr=[];let So=null;function J(e=!1){Lr.push(So=e?null:[])}function EN(){Lr.pop(),So=Lr[Lr.length-1]||null}let Wr=1;function Tp(e){Wr+=e}function Tg(e){return e.dynamicChildren=Wr>0?So||Di:null,EN(),Wr>0&&So&&So.push(e),e}function X(e,t,o,i,n,r){return Tg(m(e,t,o,i,n,r,!0))}function Ge(e,t,o,i,n){return Tg(Te(e,t,o,i,n,!0))}function _a(e){return e?e.__v_isVNode===!0:!1}function Qn(e,t){return e.type===t.type&&e.key===t.key}const Qa="__vInternal",Rg=({key:e})=>e??null,aa=({ref:e,ref_key:t,ref_for:o})=>e!=null?It(e)||Ht(e)||Ye(e)?{i:$t,r:e,k:t,f:!!o}:e:null;function m(e,t=null,o=null,i=0,n=null,r=e===Fe?0:1,s=!1,c=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Rg(t),ref:t&&aa(t),scopeId:qa,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:$t};return c?(Nd(a,o),r&128&&e.normalize(a)):o&&(a.shapeFlag|=It(o)?8:16),Wr>0&&!s&&So&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&So.push(a),a}const Te=AN;function AN(e,t=null,o=null,i=0,n=null,r=!1){if((!e||e===Z_)&&(e=go),_a(e)){const c=Cn(e,t,!0);return o&&Nd(c,o),Wr>0&&!r&&So&&(c.shapeFlag&6?So[So.indexOf(e)]=c:So.push(c)),c.patchFlag|=-2,c}if(kN(e)&&(e=e.__vccOpts),t){t=_N(t);let{class:c,style:a}=t;c&&!It(c)&&(t.class=ve(c)),bt(a)&&(Wv(a)&&!Qe(a)&&(a=Ft({},a)),t.style=Oe(a))}const s=It(e)?1:U_(e)?128:gN(e)?64:bt(e)?4:Ye(e)?2:0;return m(e,t,o,i,n,s,r,!0)}function _N(e){return e?Wv(e)||Qa in e?Ft({},e):e:null}function Cn(e,t,o=!1){const{props:i,ref:n,patchFlag:r,children:s}=e,c=t?NN(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Rg(c),ref:t&&t.ref?o&&n?Qe(n)?n.concat(aa(t)):[n,aa(t)]:aa(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fe?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Cn(e.ssContent),ssFallback:e.ssFallback&&Cn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function gt(e=" ",t=0){return Te(za,null,e,t)}function Ie(e="",t=!1){return t?(J(),Ge(go,null,e)):Te(go,null,e)}function Oo(e){return e==null||typeof e=="boolean"?Te(go):Qe(e)?Te(Fe,null,e.slice()):typeof e=="object"?gn(e):Te(za,null,String(e))}function gn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Cn(e)}function Nd(e,t){let o=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Qe(t))o=16;else if(typeof t=="object")if(i&65){const n=t.default;n&&(n._c&&(n._d=!1),Nd(e,n()),n._c&&(n._d=!0));return}else{o=32;const n=t._;!n&&!(Qa in t)?t._ctx=$t:n===3&&$t&&($t.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ye(t)?(t={default:t,_ctx:$t},o=32):(t=String(t),i&64?(o=16,t=[gt(t)]):o=8);e.children=t,e.shapeFlag|=o}function NN(...e){const t={};for(let o=0;o<e.length;o++){const i=e[o];for(const n in i)if(n==="class")t.class!==i.class&&(t.class=ve([t.class,i.class]));else if(n==="style")t.style=Oe([t.style,i.style]);else if(La(n)){const r=t[n],s=i[n];s&&r!==s&&!(Qe(r)&&r.includes(s))&&(t[n]=r?[].concat(r,s):s)}else n!==""&&(t[n]=i[n])}return t}function ko(e,t,o,i=null){vo(e,t,7,[o,i])}const CN=xg();let SN=0;function xN(e,t,o){const i=e.type,n=(t?t.appContext:e.appContext)||CN,r={uid:SN++,vnode:e,type:i,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new GA(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_g(i,n),emitsOptions:ag(i,n),emit:null,emitted:null,propsDefaults:yt,inheritAttrs:i.inheritAttrs,ctx:yt,data:yt,props:yt,attrs:yt,slots:yt,refs:yt,setupState:yt,setupContext:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=O_.bind(null,r),e.ce&&e.ce(r),r}let xt=null;const Pg=()=>xt||$t,ji=e=>{xt=e,e.scope.on()},Zn=()=>{xt&&xt.scope.off(),xt=null};function Dg(e){return e.vnode.shapeFlag&4}let Jr=!1;function IN(e,t=!1){Jr=t;const{props:o,children:i}=e.vnode,n=Dg(e);aN(e,o,n,t),uN(e,i);const r=n?TN(e,t):void 0;return Jr=!1,r}function TN(e,t){const o=e.type;e.accessCache=Object.create(null),e.proxy=Jv(new Proxy(e.ctx,tN));const{setup:i}=o;if(i){const n=e.setupContext=i.length>1?PN(e):null;ji(e),Zi();const r=_n(i,e,0,[e.props,n]);if(Xi(),Zn(),Mv(r)){if(r.then(Zn,Zn),t)return r.then(s=>{Rp(e,s,t)}).catch(s=>{$a(s,e,0)});e.asyncDep=r}else Rp(e,r,t)}else kg(e,t)}function Rp(e,t,o){Ye(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:bt(t)&&(e.setupState=eg(t)),kg(e,o)}let Pp;function kg(e,t,o){const i=e.type;if(!e.render){if(!t&&Pp&&!i.render){const n=i.template||Ed(e).template;if(n){const{isCustomElement:r,compilerOptions:s}=e.appContext.config,{delimiters:c,compilerOptions:a}=i,l=Ft(Ft({isCustomElement:r,delimiters:c},s),a);i.render=Pp(n,l)}}e.render=i.render||xo}ji(e),Zi(),oN(e),Xi(),Zn()}function RN(e){return new Proxy(e.attrs,{get(t,o){return to(e,"get","$attrs"),t[o]}})}function PN(e){const t=i=>{e.exposed=i||{}};let o;return{get attrs(){return o||(o=RN(e))},slots:e.slots,emit:e.emit,expose:t}}function Ga(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(eg(Jv(e.exposed)),{get(t,o){if(o in t)return t[o];if(o in Or)return Or[o](e)},has(t,o){return o in t||o in Or}}))}function DN(e,t=!0){return Ye(e)?e.displayName||e.name:e.name||t&&e.__name}function kN(e){return Ye(e)&&"__vccOpts"in e}const mo=(e,t)=>I_(e,t,Jr);function Cd(e,t,o){const i=arguments.length;return i===2?bt(t)&&!Qe(t)?_a(t)?Te(e,null,[t]):Te(e,t):Te(e,null,t):(i>3?o=Array.prototype.slice.call(arguments,2):i===3&&_a(o)&&(o=[o]),Te(e,t,o))}const ON=Symbol(""),MN=()=>Ko(ON),LN="3.2.47",FN="http://www.w3.org/2000/svg",Gn=typeof document<"u"?document:null,Dp=Gn&&Gn.createElement("template"),BN={insert:(e,t,o)=>{t.insertBefore(e,o||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,o,i)=>{const n=t?Gn.createElementNS(FN,e):Gn.createElement(e,o?{is:o}:void 0);return e==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:e=>Gn.createTextNode(e),createComment:e=>Gn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Gn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,o,i,n,r){const s=o?o.previousSibling:t.lastChild;if(n&&(n===r||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),o),!(n===r||!(n=n.nextSibling)););else{Dp.innerHTML=i?`<svg>${e}</svg>`:e;const c=Dp.content;if(i){const a=c.firstChild;for(;a.firstChild;)c.appendChild(a.firstChild);c.removeChild(a)}t.insertBefore(c,o)}return[s?s.nextSibling:t.firstChild,o?o.previousSibling:t.lastChild]}};function UN(e,t,o){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):o?e.setAttribute("class",t):e.className=t}function $N(e,t,o){const i=e.style,n=It(o);if(o&&!n){if(t&&!It(t))for(const r in t)o[r]==null&&pu(i,r,"");for(const r in o)pu(i,r,o[r])}else{const r=i.display;n?t!==o&&(i.cssText=o):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=r)}}const kp=/\s*!important$/;function pu(e,t,o){if(Qe(o))o.forEach(i=>pu(e,t,i));else if(o==null&&(o=""),t.startsWith("--"))e.setProperty(t,o);else{const i=jN(e,t);kp.test(o)?e.setProperty(si(i),o.replace(kp,""),"important"):e[i]=o}}const Op=["Webkit","Moz","ms"],wc={};function jN(e,t){const o=wc[t];if(o)return o;let i=Bo(t);if(i!=="filter"&&i in e)return wc[t]=i;i=Ba(i);for(let n=0;n<Op.length;n++){const r=Op[n]+i;if(r in e)return wc[t]=r}return t}const Mp="http://www.w3.org/1999/xlink";function qN(e,t,o,i,n){if(i&&t.startsWith("xlink:"))o==null?e.removeAttributeNS(Mp,t.slice(6,t.length)):e.setAttributeNS(Mp,t,o);else{const r=FA(t);o==null||r&&!kv(o)?e.removeAttribute(t):e.setAttribute(t,r?"":o)}}function VN(e,t,o,i,n,r,s){if(t==="innerHTML"||t==="textContent"){i&&s(i,n,r),e[t]=o??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=o;const a=o??"";(e.value!==a||e.tagName==="OPTION")&&(e.value=a),o==null&&e.removeAttribute(t);return}let c=!1;if(o===""||o==null){const a=typeof e[t];a==="boolean"?o=kv(o):o==null&&a==="string"?(o="",c=!0):a==="number"&&(o=0,c=!0)}try{e[t]=o}catch{}c&&e.removeAttribute(t)}function Qo(e,t,o,i){e.addEventListener(t,o,i)}function HN(e,t,o,i){e.removeEventListener(t,o,i)}function zN(e,t,o,i,n=null){const r=e._vei||(e._vei={}),s=r[t];if(i&&s)s.value=i;else{const[c,a]=QN(t);if(i){const l=r[t]=WN(i,n);Qo(e,c,l,a)}else s&&(HN(e,c,s,a),r[t]=void 0)}}const Lp=/(?:Once|Passive|Capture)$/;function QN(e){let t;if(Lp.test(e)){t={};let i;for(;i=e.match(Lp);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):si(e.slice(2)),t]}let Ec=0;const GN=Promise.resolve(),KN=()=>Ec||(GN.then(()=>Ec=0),Ec=Date.now());function WN(e,t){const o=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=o.attached)return;vo(JN(i,o.value),t,5,[i])};return o.value=e,o.attached=KN(),o}function JN(e,t){if(Qe(t)){const o=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{o.call(e),e._stopped=!0},t.map(i=>n=>!n._stopped&&i&&i(n))}else return t}const Fp=/^on[a-z]/,YN=(e,t,o,i,n=!1,r,s,c,a)=>{t==="class"?UN(e,i,n):t==="style"?$N(e,o,i):La(t)?ld(t)||zN(e,t,o,i,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ZN(e,t,i,n))?VN(e,t,i,r,s,c,a):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),qN(e,t,i,n))};function ZN(e,t,o,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&Fp.test(t)&&Ye(o)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Fp.test(t)&&It(o)?!1:t in e}const dn="transition",vr="animation",as=(e,{slots:t})=>Cd(dg,Mg(e),t);as.displayName="Transition";const Og={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},XN=as.props=Ft({},dg.props,Og),Un=(e,t=[])=>{Qe(e)?e.forEach(o=>o(...t)):e&&e(...t)},Bp=e=>e?Qe(e)?e.some(t=>t.length>1):e.length>1:!1;function Mg(e){const t={};for(const M in e)M in Og||(t[M]=e[M]);if(e.css===!1)return t;const{name:o="v",type:i,duration:n,enterFromClass:r=`${o}-enter-from`,enterActiveClass:s=`${o}-enter-active`,enterToClass:c=`${o}-enter-to`,appearFromClass:a=r,appearActiveClass:l=s,appearToClass:u=c,leaveFromClass:h=`${o}-leave-from`,leaveActiveClass:f=`${o}-leave-active`,leaveToClass:g=`${o}-leave-to`}=e,b=eC(n),C=b&&b[0],T=b&&b[1],{onBeforeEnter:S,onEnter:_,onEnterCancelled:y,onLeave:w,onLeaveCancelled:I,onBeforeAppear:k=S,onAppear:B=_,onAppearCancelled:H=y}=t,P=(M,G,E)=>{mn(M,G?u:c),mn(M,G?l:s),E&&E()},R=(M,G)=>{M._isLeaving=!1,mn(M,h),mn(M,g),mn(M,f),G&&G()},F=M=>(G,E)=>{const ne=M?B:_,re=()=>P(G,M,E);Un(ne,[G,re]),Up(()=>{mn(G,M?a:r),Ho(G,M?u:c),Bp(ne)||$p(G,i,C,re)})};return Ft(t,{onBeforeEnter(M){Un(S,[M]),Ho(M,r),Ho(M,s)},onBeforeAppear(M){Un(k,[M]),Ho(M,a),Ho(M,l)},onEnter:F(!1),onAppear:F(!0),onLeave(M,G){M._isLeaving=!0;const E=()=>R(M,G);Ho(M,h),Fg(),Ho(M,f),Up(()=>{M._isLeaving&&(mn(M,h),Ho(M,g),Bp(w)||$p(M,i,T,E))}),Un(w,[M,E])},onEnterCancelled(M){P(M,!1),Un(y,[M])},onAppearCancelled(M){P(M,!0),Un(H,[M])},onLeaveCancelled(M){R(M),Un(I,[M])}})}function eC(e){if(e==null)return null;if(bt(e))return[Ac(e.enter),Ac(e.leave)];{const t=Ac(e);return[t,t]}}function Ac(e){return zA(e)}function Ho(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.add(o)),(e._vtc||(e._vtc=new Set)).add(t)}function mn(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const{_vtc:o}=e;o&&(o.delete(t),o.size||(e._vtc=void 0))}function Up(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let tC=0;function $p(e,t,o,i){const n=e._endId=++tC,r=()=>{n===e._endId&&i()};if(o)return setTimeout(r,o);const{type:s,timeout:c,propCount:a}=Lg(e,t);if(!s)return i();const l=s+"end";let u=0;const h=()=>{e.removeEventListener(l,f),r()},f=g=>{g.target===e&&++u>=a&&h()};setTimeout(()=>{u<a&&h()},c+1),e.addEventListener(l,f)}function Lg(e,t){const o=window.getComputedStyle(e),i=b=>(o[b]||"").split(", "),n=i(`${dn}Delay`),r=i(`${dn}Duration`),s=jp(n,r),c=i(`${vr}Delay`),a=i(`${vr}Duration`),l=jp(c,a);let u=null,h=0,f=0;t===dn?s>0&&(u=dn,h=s,f=r.length):t===vr?l>0&&(u=vr,h=l,f=a.length):(h=Math.max(s,l),u=h>0?s>l?dn:vr:null,f=u?u===dn?r.length:a.length:0);const g=u===dn&&/\b(transform|all)(,|$)/.test(i(`${dn}Property`).toString());return{type:u,timeout:h,propCount:f,hasTransform:g}}function jp(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((o,i)=>qp(o)+qp(e[i])))}function qp(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Fg(){return document.body.offsetHeight}const Bg=new WeakMap,Ug=new WeakMap,$g={name:"TransitionGroup",props:Ft({},XN,{tag:String,moveClass:String}),setup(e,{slots:t}){const o=Pg(),i=ug();let n,r;return vg(()=>{if(!n.length)return;const s=e.moveClass||`${e.name||"v"}-move`;if(!sC(n[0].el,o.vnode.el,s))return;n.forEach(nC),n.forEach(iC);const c=n.filter(rC);Fg(),c.forEach(a=>{const l=a.el,u=l.style;Ho(l,s),u.transform=u.webkitTransform=u.transitionDuration="";const h=l._moveCb=f=>{f&&f.target!==l||(!f||/transform$/.test(f.propertyName))&&(l.removeEventListener("transitionend",h),l._moveCb=null,mn(l,s))};l.addEventListener("transitionend",h)})}),()=>{const s=at(e),c=Mg(s);let a=s.tag||Fe;n=r,r=t.default?wd(t.default()):[];for(let l=0;l<r.length;l++){const u=r[l];u.key!=null&&Kr(u,Gr(u,c,i,o))}if(n)for(let l=0;l<n.length;l++){const u=n[l];Kr(u,Gr(u,c,i,o)),Bg.set(u,u.el.getBoundingClientRect())}return Te(a,null,r)}}},oC=e=>delete e.mode;$g.props;const jg=$g;function nC(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function iC(e){Ug.set(e,e.el.getBoundingClientRect())}function rC(e){const t=Bg.get(e),o=Ug.get(e),i=t.left-o.left,n=t.top-o.top;if(i||n){const r=e.el.style;return r.transform=r.webkitTransform=`translate(${i}px,${n}px)`,r.transitionDuration="0s",e}}function sC(e,t,o){const i=e.cloneNode();e._vtc&&e._vtc.forEach(s=>{s.split(/\s+/).forEach(c=>c&&i.classList.remove(c))}),o.split(/\s+/).forEach(s=>s&&i.classList.add(s)),i.style.display="none";const n=t.nodeType===1?t:t.parentNode;n.appendChild(i);const{hasTransform:r}=Lg(i);return n.removeChild(i),r}const Sn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Qe(t)?o=>ia(t,o):t};function aC(e){e.target.composing=!0}function Vp(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ke={created(e,{modifiers:{lazy:t,trim:o,number:i}},n){e._assign=Sn(n);const r=i||n.props&&n.props.type==="number";Qo(e,t?"change":"input",s=>{if(s.target.composing)return;let c=e.value;o&&(c=c.trim()),r&&(c=ya(c)),e._assign(c)}),o&&Qo(e,"change",()=>{e.value=e.value.trim()}),t||(Qo(e,"compositionstart",aC),Qo(e,"compositionend",Vp),Qo(e,"change",Vp))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:o,trim:i,number:n}},r){if(e._assign=Sn(r),e.composing||document.activeElement===e&&e.type!=="range"&&(o||i&&e.value.trim()===t||(n||e.type==="number")&&ya(e.value)===t))return;const s=t??"";e.value!==s&&(e.value=s)}},qn={deep:!0,created(e,t,o){e._assign=Sn(o),Qo(e,"change",()=>{const i=e._modelValue,n=qi(e),r=e.checked,s=e._assign;if(Qe(i)){const c=ad(i,n),a=c!==-1;if(r&&!a)s(i.concat(n));else if(!r&&a){const l=[...i];l.splice(c,1),s(l)}}else if(Yi(i)){const c=new Set(i);r?c.add(n):c.delete(n),s(c)}else s(qg(e,r))})},mounted:Hp,beforeUpdate(e,t,o){e._assign=Sn(o),Hp(e,t,o)}};function Hp(e,{value:t,oldValue:o},i){e._modelValue=t,Qe(t)?e.checked=ad(t,i.props.value)>-1:Yi(t)?e.checked=t.has(i.props.value):t!==o&&(e.checked=ti(t,qg(e,!0)))}const Ii={created(e,{value:t},o){e.checked=ti(t,o.props.value),e._assign=Sn(o),Qo(e,"change",()=>{e._assign(qi(e))})},beforeUpdate(e,{value:t,oldValue:o},i){e._assign=Sn(i),t!==o&&(e.checked=ti(t,i.props.value))}},ls={deep:!0,created(e,{value:t,modifiers:{number:o}},i){const n=Yi(t);Qo(e,"change",()=>{const r=Array.prototype.filter.call(e.options,s=>s.selected).map(s=>o?ya(qi(s)):qi(s));e._assign(e.multiple?n?new Set(r):r:r[0])}),e._assign=Sn(i)},mounted(e,{value:t}){zp(e,t)},beforeUpdate(e,t,o){e._assign=Sn(o)},updated(e,{value:t}){zp(e,t)}};function zp(e,t){const o=e.multiple;if(!(o&&!Qe(t)&&!Yi(t))){for(let i=0,n=e.options.length;i<n;i++){const r=e.options[i],s=qi(r);if(o)Qe(t)?r.selected=ad(t,s)>-1:r.selected=t.has(s);else if(ti(qi(r),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!o&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function qi(e){return"_value"in e?e._value:e.value}function qg(e,t){const o=t?"_trueValue":"_falseValue";return o in e?e[o]:t}const lC=["ctrl","shift","alt","meta"],cC={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>lC.some(o=>e[`${o}Key`]&&!t.includes(o))},ge=(e,t)=>(o,...i)=>{for(let n=0;n<t.length;n++){const r=cC[t[n]];if(r&&r(o,t))return}return e(o,...i)},uC={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},vt=(e,t)=>o=>{if(!("key"in o))return;const i=si(o.key);if(t.some(n=>n===i||uC[n]===i))return e(o)},K={beforeMount(e,{value:t},{transition:o}){e._vod=e.style.display==="none"?"":e.style.display,o&&t?o.beforeEnter(e):gr(e,t)},mounted(e,{value:t},{transition:o}){o&&t&&o.enter(e)},updated(e,{value:t,oldValue:o},{transition:i}){!t!=!o&&(i?t?(i.beforeEnter(e),gr(e,!0),i.enter(e)):i.leave(e,()=>{gr(e,!1)}):gr(e,t))},beforeUnmount(e,{value:t}){gr(e,t)}};function gr(e,t){e.style.display=t?e._vod:"none"}const dC=Ft({patchProp:YN},BN);let Qp;function hC(){return Qp||(Qp=pN(dC))}const fC=(...e)=>{const t=hC().createApp(...e),{mount:o}=t;return t.mount=i=>{const n=pC(i);if(!n)return;const r=t._component;!Ye(r)&&!r.render&&!r.template&&(r.template=n.innerHTML),n.innerHTML="";const s=o(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),s},t};function pC(e){return It(e)?document.querySelector(e):e}var mu=function(e,t){return mu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,i){o.__proto__=i}||function(o,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])},mu(e,t)};function co(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");mu(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}var Ae=function(){return Ae=Object.assign||function(t){for(var o,i=1,n=arguments.length;i<n;i++){o=arguments[i];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t},Ae.apply(this,arguments)};function oi(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(o[i[n]]=e[i[n]]);return o}function bn(e,t,o,i){function n(r){return r instanceof o?r:new o(function(s){s(r)})}return new(o||(o=Promise))(function(r,s){function c(u){try{l(i.next(u))}catch(h){s(h)}}function a(u){try{l(i.throw(u))}catch(h){s(h)}}function l(u){u.done?r(u.value):n(u.value).then(c,a)}l((i=i.apply(e,t||[])).next())})}function yn(e,t){var o={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,n,r,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(l){return function(u){return a([l,u])}}function a(l){if(i)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(o=0)),o;)try{if(i=1,n&&(r=l[0]&2?n.return:l[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,l[1])).done)return r;switch(n=0,r&&(l=[l[0]&2,r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(r=o.trys,!(r=r.length>0&&r[r.length-1])&&(l[0]===6||l[0]===2)){o=0;continue}if(l[0]===3&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(l[0]===6&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(u){l=[6,u],n=0}finally{i=r=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Na(e,t,o){if(o||arguments.length===2)for(var i=0,n=t.length,r;i<n;i++)(r||!(i in t))&&(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function la(e,t){if(!!!e)throw new Error(t)}function mC(e){return typeof e=="object"&&e!==null}function vC(e,t){if(!!!e)throw new Error(t??"Unexpected invariant triggered.")}const gC=/\r\n|[\n\r]/g;function vu(e,t){let o=0,i=1;for(const n of e.body.matchAll(gC)){if(typeof n.index=="number"||vC(!1),n.index>=t)break;o=n.index+n[0].length,i+=1}return{line:i,column:t+1-o}}function bC(e){return Vg(e.source,vu(e.source,e.start))}function Vg(e,t){const o=e.locationOffset.column-1,i="".padStart(o)+e.body,n=t.line-1,r=e.locationOffset.line-1,s=t.line+r,c=t.line===1?o:0,a=t.column+c,l=`${e.name}:${s}:${a}
`,u=i.split(/\r\n|[\n\r]/g),h=u[n];if(h.length>120){const f=Math.floor(a/80),g=a%80,b=[];for(let C=0;C<h.length;C+=80)b.push(h.slice(C,C+80));return l+Gp([[`${s} |`,b[0]],...b.slice(1,f+1).map(C=>["|",C]),["|","^".padStart(g)],["|",b[f+1]]])}return l+Gp([[`${s-1} |`,u[n-1]],[`${s} |`,h],["|","^".padStart(a)],[`${s+1} |`,u[n+1]]])}function Gp(e){const t=e.filter(([i,n])=>n!==void 0),o=Math.max(...t.map(([i])=>i.length));return t.map(([i,n])=>i.padStart(o)+(n?" "+n:"")).join(`
`)}function yC(e){const t=e[0];return t==null||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}class Sd extends Error{constructor(t,...o){var i,n,r;const{nodes:s,source:c,positions:a,path:l,originalError:u,extensions:h}=yC(o);super(t),this.name="GraphQLError",this.path=l??void 0,this.originalError=u??void 0,this.nodes=Kp(Array.isArray(s)?s:s?[s]:void 0);const f=Kp((i=this.nodes)===null||i===void 0?void 0:i.map(b=>b.loc).filter(b=>b!=null));this.source=c??(f==null||(n=f[0])===null||n===void 0?void 0:n.source),this.positions=a??(f==null?void 0:f.map(b=>b.start)),this.locations=a&&c?a.map(b=>vu(c,b)):f==null?void 0:f.map(b=>vu(b.source,b.start));const g=mC(u==null?void 0:u.extensions)?u==null?void 0:u.extensions:void 0;this.extensions=(r=h??g)!==null&&r!==void 0?r:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),u!=null&&u.stack?Object.defineProperty(this,"stack",{value:u.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Sd):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let t=this.message;if(this.nodes)for(const o of this.nodes)o.loc&&(t+=`

`+bC(o.loc));else if(this.source&&this.locations)for(const o of this.locations)t+=`

`+Vg(this.source,o);return t}toJSON(){const t={message:this.message};return this.locations!=null&&(t.locations=this.locations),this.path!=null&&(t.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(t.extensions=this.extensions),t}}function Kp(e){return e===void 0||e.length===0?void 0:e}function Lt(e,t,o){return new Sd(`Syntax Error: ${o}`,{source:e,positions:[t]})}class wC{constructor(t,o,i){this.start=t.start,this.end=o.end,this.startToken=t,this.endToken=o,this.source=i}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class Hg{constructor(t,o,i,n,r,s){this.kind=t,this.start=o,this.end=i,this.line=n,this.column=r,this.value=s,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const zg={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},EC=new Set(Object.keys(zg));function Wp(e){const t=e==null?void 0:e.kind;return typeof t=="string"&&EC.has(t)}var Ti;(function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"})(Ti||(Ti={}));var gu;(function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(gu||(gu={}));var $e;(function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})($e||($e={}));function bu(e){return e===9||e===32}function Yr(e){return e>=48&&e<=57}function Qg(e){return e>=97&&e<=122||e>=65&&e<=90}function Gg(e){return Qg(e)||e===95}function AC(e){return Qg(e)||Yr(e)||e===95}function _C(e){var t;let o=Number.MAX_SAFE_INTEGER,i=null,n=-1;for(let s=0;s<e.length;++s){var r;const c=e[s],a=NC(c);a!==c.length&&(i=(r=i)!==null&&r!==void 0?r:s,n=s,s!==0&&a<o&&(o=a))}return e.map((s,c)=>c===0?s:s.slice(o)).slice((t=i)!==null&&t!==void 0?t:0,n+1)}function NC(e){let t=0;for(;t<e.length&&bu(e.charCodeAt(t));)++t;return t}function CC(e,t){const o=e.replace(/"""/g,'\\"""'),i=o.split(/\r\n|[\n\r]/g),n=i.length===1,r=i.length>1&&i.slice(1).every(g=>g.length===0||bu(g.charCodeAt(0))),s=o.endsWith('\\"""'),c=e.endsWith('"')&&!s,a=e.endsWith("\\"),l=c||a,u=!(t!=null&&t.minimize)&&(!n||e.length>70||l||r||s);let h="";const f=n&&bu(e.charCodeAt(0));return(u&&!f||r)&&(h+=`
`),h+=o,(u||l)&&(h+=`
`),'"""'+h+'"""'}var Re;(function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"})(Re||(Re={}));class SC{constructor(t){const o=new Hg(Re.SOF,0,0,0,0);this.source=t,this.lastToken=o,this.token=o,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let t=this.token;if(t.kind!==Re.EOF)do if(t.next)t=t.next;else{const o=IC(this,t.end);t.next=o,o.prev=t,t=o}while(t.kind===Re.COMMENT);return t}}function xC(e){return e===Re.BANG||e===Re.DOLLAR||e===Re.AMP||e===Re.PAREN_L||e===Re.PAREN_R||e===Re.SPREAD||e===Re.COLON||e===Re.EQUALS||e===Re.AT||e===Re.BRACKET_L||e===Re.BRACKET_R||e===Re.BRACE_L||e===Re.PIPE||e===Re.BRACE_R}function er(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function Ka(e,t){return Kg(e.charCodeAt(t))&&Wg(e.charCodeAt(t+1))}function Kg(e){return e>=55296&&e<=56319}function Wg(e){return e>=56320&&e<=57343}function ni(e,t){const o=e.source.body.codePointAt(t);if(o===void 0)return Re.EOF;if(o>=32&&o<=126){const i=String.fromCodePoint(o);return i==='"'?`'"'`:`"${i}"`}return"U+"+o.toString(16).toUpperCase().padStart(4,"0")}function Rt(e,t,o,i,n){const r=e.line,s=1+o-e.lineStart;return new Hg(t,o,i,r,s,n)}function IC(e,t){const o=e.source.body,i=o.length;let n=t;for(;n<i;){const r=o.charCodeAt(n);switch(r){case 65279:case 9:case 32:case 44:++n;continue;case 10:++n,++e.line,e.lineStart=n;continue;case 13:o.charCodeAt(n+1)===10?n+=2:++n,++e.line,e.lineStart=n;continue;case 35:return TC(e,n);case 33:return Rt(e,Re.BANG,n,n+1);case 36:return Rt(e,Re.DOLLAR,n,n+1);case 38:return Rt(e,Re.AMP,n,n+1);case 40:return Rt(e,Re.PAREN_L,n,n+1);case 41:return Rt(e,Re.PAREN_R,n,n+1);case 46:if(o.charCodeAt(n+1)===46&&o.charCodeAt(n+2)===46)return Rt(e,Re.SPREAD,n,n+3);break;case 58:return Rt(e,Re.COLON,n,n+1);case 61:return Rt(e,Re.EQUALS,n,n+1);case 64:return Rt(e,Re.AT,n,n+1);case 91:return Rt(e,Re.BRACKET_L,n,n+1);case 93:return Rt(e,Re.BRACKET_R,n,n+1);case 123:return Rt(e,Re.BRACE_L,n,n+1);case 124:return Rt(e,Re.PIPE,n,n+1);case 125:return Rt(e,Re.BRACE_R,n,n+1);case 34:return o.charCodeAt(n+1)===34&&o.charCodeAt(n+2)===34?MC(e,n):PC(e,n)}if(Yr(r)||r===45)return RC(e,n,r);if(Gg(r))return LC(e,n);throw Lt(e.source,n,r===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:er(r)||Ka(o,n)?`Unexpected character: ${ni(e,n)}.`:`Invalid character: ${ni(e,n)}.`)}return Rt(e,Re.EOF,i,i)}function TC(e,t){const o=e.source.body,i=o.length;let n=t+1;for(;n<i;){const r=o.charCodeAt(n);if(r===10||r===13)break;if(er(r))++n;else if(Ka(o,n))n+=2;else break}return Rt(e,Re.COMMENT,t,n,o.slice(t+1,n))}function RC(e,t,o){const i=e.source.body;let n=t,r=o,s=!1;if(r===45&&(r=i.charCodeAt(++n)),r===48){if(r=i.charCodeAt(++n),Yr(r))throw Lt(e.source,n,`Invalid number, unexpected digit after 0: ${ni(e,n)}.`)}else n=_c(e,n,r),r=i.charCodeAt(n);if(r===46&&(s=!0,r=i.charCodeAt(++n),n=_c(e,n,r),r=i.charCodeAt(n)),(r===69||r===101)&&(s=!0,r=i.charCodeAt(++n),(r===43||r===45)&&(r=i.charCodeAt(++n)),n=_c(e,n,r),r=i.charCodeAt(n)),r===46||Gg(r))throw Lt(e.source,n,`Invalid number, expected digit but got: ${ni(e,n)}.`);return Rt(e,s?Re.FLOAT:Re.INT,t,n,i.slice(t,n))}function _c(e,t,o){if(!Yr(o))throw Lt(e.source,t,`Invalid number, expected digit but got: ${ni(e,t)}.`);const i=e.source.body;let n=t+1;for(;Yr(i.charCodeAt(n));)++n;return n}function PC(e,t){const o=e.source.body,i=o.length;let n=t+1,r=n,s="";for(;n<i;){const c=o.charCodeAt(n);if(c===34)return s+=o.slice(r,n),Rt(e,Re.STRING,t,n+1,s);if(c===92){s+=o.slice(r,n);const a=o.charCodeAt(n+1)===117?o.charCodeAt(n+2)===123?DC(e,n):kC(e,n):OC(e,n);s+=a.value,n+=a.size,r=n;continue}if(c===10||c===13)break;if(er(c))++n;else if(Ka(o,n))n+=2;else throw Lt(e.source,n,`Invalid character within String: ${ni(e,n)}.`)}throw Lt(e.source,n,"Unterminated string.")}function DC(e,t){const o=e.source.body;let i=0,n=3;for(;n<12;){const r=o.charCodeAt(t+n++);if(r===125){if(n<5||!er(i))break;return{value:String.fromCodePoint(i),size:n}}if(i=i<<4|Pr(r),i<0)break}throw Lt(e.source,t,`Invalid Unicode escape sequence: "${o.slice(t,t+n)}".`)}function kC(e,t){const o=e.source.body,i=Jp(o,t+2);if(er(i))return{value:String.fromCodePoint(i),size:6};if(Kg(i)&&o.charCodeAt(t+6)===92&&o.charCodeAt(t+7)===117){const n=Jp(o,t+8);if(Wg(n))return{value:String.fromCodePoint(i,n),size:12}}throw Lt(e.source,t,`Invalid Unicode escape sequence: "${o.slice(t,t+6)}".`)}function Jp(e,t){return Pr(e.charCodeAt(t))<<12|Pr(e.charCodeAt(t+1))<<8|Pr(e.charCodeAt(t+2))<<4|Pr(e.charCodeAt(t+3))}function Pr(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function OC(e,t){const o=e.source.body;switch(o.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw Lt(e.source,t,`Invalid character escape sequence: "${o.slice(t,t+2)}".`)}function MC(e,t){const o=e.source.body,i=o.length;let n=e.lineStart,r=t+3,s=r,c="";const a=[];for(;r<i;){const l=o.charCodeAt(r);if(l===34&&o.charCodeAt(r+1)===34&&o.charCodeAt(r+2)===34){c+=o.slice(s,r),a.push(c);const u=Rt(e,Re.BLOCK_STRING,t,r+3,_C(a).join(`
`));return e.line+=a.length-1,e.lineStart=n,u}if(l===92&&o.charCodeAt(r+1)===34&&o.charCodeAt(r+2)===34&&o.charCodeAt(r+3)===34){c+=o.slice(s,r),s=r+1,r+=4;continue}if(l===10||l===13){c+=o.slice(s,r),a.push(c),l===13&&o.charCodeAt(r+1)===10?r+=2:++r,c="",s=r,n=r;continue}if(er(l))++r;else if(Ka(o,r))r+=2;else throw Lt(e.source,r,`Invalid character within String: ${ni(e,r)}.`)}throw Lt(e.source,r,"Unterminated string.")}function LC(e,t){const o=e.source.body,i=o.length;let n=t+1;for(;n<i;){const r=o.charCodeAt(n);if(AC(r))++n;else break}return Rt(e,Re.NAME,t,n,o.slice(t,n))}const FC=10,Jg=2;function Yg(e){return Wa(e,[])}function Wa(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return BC(e,t);default:return String(e)}}function BC(e,t){if(e===null)return"null";if(t.includes(e))return"[Circular]";const o=[...t,e];if(UC(e)){const i=e.toJSON();if(i!==e)return typeof i=="string"?i:Wa(i,o)}else if(Array.isArray(e))return jC(e,o);return $C(e,o)}function UC(e){return typeof e.toJSON=="function"}function $C(e,t){const o=Object.entries(e);return o.length===0?"{}":t.length>Jg?"["+qC(e)+"]":"{ "+o.map(([n,r])=>n+": "+Wa(r,t)).join(", ")+" }"}function jC(e,t){if(e.length===0)return"[]";if(t.length>Jg)return"[Array]";const o=Math.min(FC,e.length),i=e.length-o,n=[];for(let r=0;r<o;++r)n.push(Wa(e[r],t));return i===1?n.push("... 1 more item"):i>1&&n.push(`... ${i} more items`),"["+n.join(", ")+"]"}function qC(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){const o=e.constructor.name;if(typeof o=="string"&&o!=="")return o}return t}const VC=function(t,o){return t instanceof o};class xd{constructor(t,o="GraphQL request",i={line:1,column:1}){typeof t=="string"||la(!1,`Body must be a string. Received: ${Yg(t)}.`),this.body=t,this.name=o,this.locationOffset=i,this.locationOffset.line>0||la(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||la(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function HC(e){return VC(e,xd)}function zC(e,t){return new QC(e,t).parseDocument()}class QC{constructor(t,o={}){const i=HC(t)?t:new xd(t);this._lexer=new SC(i),this._options=o,this._tokenCounter=0}parseName(){const t=this.expectToken(Re.NAME);return this.node(t,{kind:$e.NAME,value:t.value})}parseDocument(){return this.node(this._lexer.token,{kind:$e.DOCUMENT,definitions:this.many(Re.SOF,this.parseDefinition,Re.EOF)})}parseDefinition(){if(this.peek(Re.BRACE_L))return this.parseOperationDefinition();const t=this.peekDescription(),o=t?this._lexer.lookahead():this._lexer.token;if(o.kind===Re.NAME){switch(o.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(t)throw Lt(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(o.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(o)}parseOperationDefinition(){const t=this._lexer.token;if(this.peek(Re.BRACE_L))return this.node(t,{kind:$e.OPERATION_DEFINITION,operation:Ti.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const o=this.parseOperationType();let i;return this.peek(Re.NAME)&&(i=this.parseName()),this.node(t,{kind:$e.OPERATION_DEFINITION,operation:o,name:i,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const t=this.expectToken(Re.NAME);switch(t.value){case"query":return Ti.QUERY;case"mutation":return Ti.MUTATION;case"subscription":return Ti.SUBSCRIPTION}throw this.unexpected(t)}parseVariableDefinitions(){return this.optionalMany(Re.PAREN_L,this.parseVariableDefinition,Re.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:$e.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Re.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Re.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const t=this._lexer.token;return this.expectToken(Re.DOLLAR),this.node(t,{kind:$e.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:$e.SELECTION_SET,selections:this.many(Re.BRACE_L,this.parseSelection,Re.BRACE_R)})}parseSelection(){return this.peek(Re.SPREAD)?this.parseFragment():this.parseField()}parseField(){const t=this._lexer.token,o=this.parseName();let i,n;return this.expectOptionalToken(Re.COLON)?(i=o,n=this.parseName()):n=o,this.node(t,{kind:$e.FIELD,alias:i,name:n,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Re.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(t){const o=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(Re.PAREN_L,o,Re.PAREN_R)}parseArgument(t=!1){const o=this._lexer.token,i=this.parseName();return this.expectToken(Re.COLON),this.node(o,{kind:$e.ARGUMENT,name:i,value:this.parseValueLiteral(t)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const t=this._lexer.token;this.expectToken(Re.SPREAD);const o=this.expectOptionalKeyword("on");return!o&&this.peek(Re.NAME)?this.node(t,{kind:$e.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(t,{kind:$e.INLINE_FRAGMENT,typeCondition:o?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const t=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(t,{kind:$e.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:$e.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(t){const o=this._lexer.token;switch(o.kind){case Re.BRACKET_L:return this.parseList(t);case Re.BRACE_L:return this.parseObject(t);case Re.INT:return this.advanceLexer(),this.node(o,{kind:$e.INT,value:o.value});case Re.FLOAT:return this.advanceLexer(),this.node(o,{kind:$e.FLOAT,value:o.value});case Re.STRING:case Re.BLOCK_STRING:return this.parseStringLiteral();case Re.NAME:switch(this.advanceLexer(),o.value){case"true":return this.node(o,{kind:$e.BOOLEAN,value:!0});case"false":return this.node(o,{kind:$e.BOOLEAN,value:!1});case"null":return this.node(o,{kind:$e.NULL});default:return this.node(o,{kind:$e.ENUM,value:o.value})}case Re.DOLLAR:if(t)if(this.expectToken(Re.DOLLAR),this._lexer.token.kind===Re.NAME){const i=this._lexer.token.value;throw Lt(this._lexer.source,o.start,`Unexpected variable "$${i}" in constant value.`)}else throw this.unexpected(o);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const t=this._lexer.token;return this.advanceLexer(),this.node(t,{kind:$e.STRING,value:t.value,block:t.kind===Re.BLOCK_STRING})}parseList(t){const o=()=>this.parseValueLiteral(t);return this.node(this._lexer.token,{kind:$e.LIST,values:this.any(Re.BRACKET_L,o,Re.BRACKET_R)})}parseObject(t){const o=()=>this.parseObjectField(t);return this.node(this._lexer.token,{kind:$e.OBJECT,fields:this.any(Re.BRACE_L,o,Re.BRACE_R)})}parseObjectField(t){const o=this._lexer.token,i=this.parseName();return this.expectToken(Re.COLON),this.node(o,{kind:$e.OBJECT_FIELD,name:i,value:this.parseValueLiteral(t)})}parseDirectives(t){const o=[];for(;this.peek(Re.AT);)o.push(this.parseDirective(t));return o}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(t){const o=this._lexer.token;return this.expectToken(Re.AT),this.node(o,{kind:$e.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t)})}parseTypeReference(){const t=this._lexer.token;let o;if(this.expectOptionalToken(Re.BRACKET_L)){const i=this.parseTypeReference();this.expectToken(Re.BRACKET_R),o=this.node(t,{kind:$e.LIST_TYPE,type:i})}else o=this.parseNamedType();return this.expectOptionalToken(Re.BANG)?this.node(t,{kind:$e.NON_NULL_TYPE,type:o}):o}parseNamedType(){return this.node(this._lexer.token,{kind:$e.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(Re.STRING)||this.peek(Re.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("schema");const i=this.parseConstDirectives(),n=this.many(Re.BRACE_L,this.parseOperationTypeDefinition,Re.BRACE_R);return this.node(t,{kind:$e.SCHEMA_DEFINITION,description:o,directives:i,operationTypes:n})}parseOperationTypeDefinition(){const t=this._lexer.token,o=this.parseOperationType();this.expectToken(Re.COLON);const i=this.parseNamedType();return this.node(t,{kind:$e.OPERATION_TYPE_DEFINITION,operation:o,type:i})}parseScalarTypeDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("scalar");const i=this.parseName(),n=this.parseConstDirectives();return this.node(t,{kind:$e.SCALAR_TYPE_DEFINITION,description:o,name:i,directives:n})}parseObjectTypeDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("type");const i=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(t,{kind:$e.OBJECT_TYPE_DEFINITION,description:o,name:i,interfaces:n,directives:r,fields:s})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(Re.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(Re.BRACE_L,this.parseFieldDefinition,Re.BRACE_R)}parseFieldDefinition(){const t=this._lexer.token,o=this.parseDescription(),i=this.parseName(),n=this.parseArgumentDefs();this.expectToken(Re.COLON);const r=this.parseTypeReference(),s=this.parseConstDirectives();return this.node(t,{kind:$e.FIELD_DEFINITION,description:o,name:i,arguments:n,type:r,directives:s})}parseArgumentDefs(){return this.optionalMany(Re.PAREN_L,this.parseInputValueDef,Re.PAREN_R)}parseInputValueDef(){const t=this._lexer.token,o=this.parseDescription(),i=this.parseName();this.expectToken(Re.COLON);const n=this.parseTypeReference();let r;this.expectOptionalToken(Re.EQUALS)&&(r=this.parseConstValueLiteral());const s=this.parseConstDirectives();return this.node(t,{kind:$e.INPUT_VALUE_DEFINITION,description:o,name:i,type:n,defaultValue:r,directives:s})}parseInterfaceTypeDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("interface");const i=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(t,{kind:$e.INTERFACE_TYPE_DEFINITION,description:o,name:i,interfaces:n,directives:r,fields:s})}parseUnionTypeDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("union");const i=this.parseName(),n=this.parseConstDirectives(),r=this.parseUnionMemberTypes();return this.node(t,{kind:$e.UNION_TYPE_DEFINITION,description:o,name:i,directives:n,types:r})}parseUnionMemberTypes(){return this.expectOptionalToken(Re.EQUALS)?this.delimitedMany(Re.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("enum");const i=this.parseName(),n=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();return this.node(t,{kind:$e.ENUM_TYPE_DEFINITION,description:o,name:i,directives:n,values:r})}parseEnumValuesDefinition(){return this.optionalMany(Re.BRACE_L,this.parseEnumValueDefinition,Re.BRACE_R)}parseEnumValueDefinition(){const t=this._lexer.token,o=this.parseDescription(),i=this.parseEnumValueName(),n=this.parseConstDirectives();return this.node(t,{kind:$e.ENUM_VALUE_DEFINITION,description:o,name:i,directives:n})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw Lt(this._lexer.source,this._lexer.token.start,`${Ks(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("input");const i=this.parseName(),n=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();return this.node(t,{kind:$e.INPUT_OBJECT_TYPE_DEFINITION,description:o,name:i,directives:n,fields:r})}parseInputFieldsDefinition(){return this.optionalMany(Re.BRACE_L,this.parseInputValueDef,Re.BRACE_R)}parseTypeSystemExtension(){const t=this._lexer.lookahead();if(t.kind===Re.NAME)switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(t)}parseSchemaExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const o=this.parseConstDirectives(),i=this.optionalMany(Re.BRACE_L,this.parseOperationTypeDefinition,Re.BRACE_R);if(o.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:$e.SCHEMA_EXTENSION,directives:o,operationTypes:i})}parseScalarTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const o=this.parseName(),i=this.parseConstDirectives();if(i.length===0)throw this.unexpected();return this.node(t,{kind:$e.SCALAR_TYPE_EXTENSION,name:o,directives:i})}parseObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const o=this.parseName(),i=this.parseImplementsInterfaces(),n=this.parseConstDirectives(),r=this.parseFieldsDefinition();if(i.length===0&&n.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:$e.OBJECT_TYPE_EXTENSION,name:o,interfaces:i,directives:n,fields:r})}parseInterfaceTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const o=this.parseName(),i=this.parseImplementsInterfaces(),n=this.parseConstDirectives(),r=this.parseFieldsDefinition();if(i.length===0&&n.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:$e.INTERFACE_TYPE_EXTENSION,name:o,interfaces:i,directives:n,fields:r})}parseUnionTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const o=this.parseName(),i=this.parseConstDirectives(),n=this.parseUnionMemberTypes();if(i.length===0&&n.length===0)throw this.unexpected();return this.node(t,{kind:$e.UNION_TYPE_EXTENSION,name:o,directives:i,types:n})}parseEnumTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const o=this.parseName(),i=this.parseConstDirectives(),n=this.parseEnumValuesDefinition();if(i.length===0&&n.length===0)throw this.unexpected();return this.node(t,{kind:$e.ENUM_TYPE_EXTENSION,name:o,directives:i,values:n})}parseInputObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const o=this.parseName(),i=this.parseConstDirectives(),n=this.parseInputFieldsDefinition();if(i.length===0&&n.length===0)throw this.unexpected();return this.node(t,{kind:$e.INPUT_OBJECT_TYPE_EXTENSION,name:o,directives:i,fields:n})}parseDirectiveDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Re.AT);const i=this.parseName(),n=this.parseArgumentDefs(),r=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const s=this.parseDirectiveLocations();return this.node(t,{kind:$e.DIRECTIVE_DEFINITION,description:o,name:i,arguments:n,repeatable:r,locations:s})}parseDirectiveLocations(){return this.delimitedMany(Re.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const t=this._lexer.token,o=this.parseName();if(Object.prototype.hasOwnProperty.call(gu,o.value))return o;throw this.unexpected(t)}node(t,o){return this._options.noLocation!==!0&&(o.loc=new wC(t,this._lexer.lastToken,this._lexer.source)),o}peek(t){return this._lexer.token.kind===t}expectToken(t){const o=this._lexer.token;if(o.kind===t)return this.advanceLexer(),o;throw Lt(this._lexer.source,o.start,`Expected ${Zg(t)}, found ${Ks(o)}.`)}expectOptionalToken(t){return this._lexer.token.kind===t?(this.advanceLexer(),!0):!1}expectKeyword(t){const o=this._lexer.token;if(o.kind===Re.NAME&&o.value===t)this.advanceLexer();else throw Lt(this._lexer.source,o.start,`Expected "${t}", found ${Ks(o)}.`)}expectOptionalKeyword(t){const o=this._lexer.token;return o.kind===Re.NAME&&o.value===t?(this.advanceLexer(),!0):!1}unexpected(t){const o=t??this._lexer.token;return Lt(this._lexer.source,o.start,`Unexpected ${Ks(o)}.`)}any(t,o,i){this.expectToken(t);const n=[];for(;!this.expectOptionalToken(i);)n.push(o.call(this));return n}optionalMany(t,o,i){if(this.expectOptionalToken(t)){const n=[];do n.push(o.call(this));while(!this.expectOptionalToken(i));return n}return[]}many(t,o,i){this.expectToken(t);const n=[];do n.push(o.call(this));while(!this.expectOptionalToken(i));return n}delimitedMany(t,o){this.expectOptionalToken(t);const i=[];do i.push(o.call(this));while(this.expectOptionalToken(t));return i}advanceLexer(){const{maxTokens:t}=this._options,o=this._lexer.advance();if(t!==void 0&&o.kind!==Re.EOF&&(++this._tokenCounter,this._tokenCounter>t))throw Lt(this._lexer.source,o.start,`Document contains more that ${t} tokens. Parsing aborted.`)}}function Ks(e){const t=e.value;return Zg(e.kind)+(t!=null?` "${t}"`:"")}function Zg(e){return xC(e)?`"${e}"`:e}function GC(e){return`"${e.replace(KC,WC)}"`}const KC=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function WC(e){return JC[e.charCodeAt(0)]}const JC=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],Id=Object.freeze({});function Yo(e,t,o=zg){const i=new Map;for(const S of Object.values($e))i.set(S,YC(t,S));let n,r=Array.isArray(e),s=[e],c=-1,a=[],l=e,u,h;const f=[],g=[];do{c++;const S=c===s.length,_=S&&a.length!==0;if(S){if(u=g.length===0?void 0:f[f.length-1],l=h,h=g.pop(),_)if(r){l=l.slice();let w=0;for(const[I,k]of a){const B=I-w;k===null?(l.splice(B,1),w++):l[B]=k}}else{l=Object.defineProperties({},Object.getOwnPropertyDescriptors(l));for(const[w,I]of a)l[w]=I}c=n.index,s=n.keys,a=n.edits,r=n.inArray,n=n.prev}else if(h){if(u=r?c:s[c],l=h[u],l==null)continue;f.push(u)}let y;if(!Array.isArray(l)){var b,C;Wp(l)||la(!1,`Invalid AST Node: ${Yg(l)}.`);const w=S?(b=i.get(l.kind))===null||b===void 0?void 0:b.leave:(C=i.get(l.kind))===null||C===void 0?void 0:C.enter;if(y=w==null?void 0:w.call(t,l,u,h,f,g),y===Id)break;if(y===!1){if(!S){f.pop();continue}}else if(y!==void 0&&(a.push([u,y]),!S))if(Wp(y))l=y;else{f.pop();continue}}if(y===void 0&&_&&a.push([u,l]),S)f.pop();else{var T;n={inArray:r,index:c,keys:s,edits:a,prev:n},r=Array.isArray(l),s=r?l:(T=o[l.kind])!==null&&T!==void 0?T:[],c=-1,a=[],h&&g.push(h),h=l}}while(n!==void 0);return a.length!==0?a[a.length-1][1]:e}function YC(e,t){const o=e[t];return typeof o=="object"?o:typeof o=="function"?{enter:o,leave:void 0}:{enter:e.enter,leave:e.leave}}function Xg(e){return Yo(e,XC)}const ZC=80,XC={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>je(e.definitions,`

`)},OperationDefinition:{leave(e){const t=tt("(",je(e.variableDefinitions,", "),")"),o=je([e.operation,je([e.name,t]),je(e.directives," ")]," ");return(o==="query"?"":o+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:o,directives:i})=>e+": "+t+tt(" = ",o)+tt(" ",je(i," "))},SelectionSet:{leave:({selections:e})=>Ao(e)},Field:{leave({alias:e,name:t,arguments:o,directives:i,selectionSet:n}){const r=tt("",e,": ")+t;let s=r+tt("(",je(o,", "),")");return s.length>ZC&&(s=r+tt(`(
`,ca(je(o,`
`)),`
)`)),je([s,je(i," "),n]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+tt(" ",je(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:o})=>je(["...",tt("on ",e),je(t," "),o]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:o,directives:i,selectionSet:n})=>`fragment ${e}${tt("(",je(o,", "),")")} on ${t} ${tt("",je(i," ")," ")}`+n},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?CC(e):GC(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+je(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+je(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+tt("(",je(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:o})=>tt("",e,`
`)+je(["schema",je(t," "),Ao(o)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:o})=>tt("",e,`
`)+je(["scalar",t,je(o," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:o,directives:i,fields:n})=>tt("",e,`
`)+je(["type",t,tt("implements ",je(o," & ")),je(i," "),Ao(n)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:o,type:i,directives:n})=>tt("",e,`
`)+t+(Yp(o)?tt(`(
`,ca(je(o,`
`)),`
)`):tt("(",je(o,", "),")"))+": "+i+tt(" ",je(n," "))},InputValueDefinition:{leave:({description:e,name:t,type:o,defaultValue:i,directives:n})=>tt("",e,`
`)+je([t+": "+o,tt("= ",i),je(n," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:o,directives:i,fields:n})=>tt("",e,`
`)+je(["interface",t,tt("implements ",je(o," & ")),je(i," "),Ao(n)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:o,types:i})=>tt("",e,`
`)+je(["union",t,je(o," "),tt("= ",je(i," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:o,values:i})=>tt("",e,`
`)+je(["enum",t,je(o," "),Ao(i)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:o})=>tt("",e,`
`)+je([t,je(o," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:o,fields:i})=>tt("",e,`
`)+je(["input",t,je(o," "),Ao(i)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:o,repeatable:i,locations:n})=>tt("",e,`
`)+"directive @"+t+(Yp(o)?tt(`(
`,ca(je(o,`
`)),`
)`):tt("(",je(o,", "),")"))+(i?" repeatable":"")+" on "+je(n," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>je(["extend schema",je(e," "),Ao(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>je(["extend scalar",e,je(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:o,fields:i})=>je(["extend type",e,tt("implements ",je(t," & ")),je(o," "),Ao(i)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:o,fields:i})=>je(["extend interface",e,tt("implements ",je(t," & ")),je(o," "),Ao(i)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:o})=>je(["extend union",e,je(t," "),tt("= ",je(o," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:o})=>je(["extend enum",e,je(t," "),Ao(o)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:o})=>je(["extend input",e,je(t," "),Ao(o)]," ")}};function je(e,t=""){var o;return(o=e==null?void 0:e.filter(i=>i).join(t))!==null&&o!==void 0?o:""}function Ao(e){return tt(`{
`,ca(je(e,`
`)),`
}`)}function tt(e,t,o=""){return t!=null&&t!==""?e+t+o:""}function ca(e){return tt("  ",e.replace(/\n/g,`
  `))}function Yp(e){var t;return(t=e==null?void 0:e.some(o=>o.includes(`
`)))!==null&&t!==void 0?t:!1}function Zp(e){return e.kind===$e.FIELD||e.kind===$e.FRAGMENT_SPREAD||e.kind===$e.INLINE_FRAGMENT}var ua=new Map,yu=new Map,eb=!0,Ca=!1;function tb(e){return e.replace(/[\s,]+/g," ").trim()}function eS(e){return tb(e.source.body.substring(e.start,e.end))}function tS(e){var t=new Set,o=[];return e.definitions.forEach(function(i){if(i.kind==="FragmentDefinition"){var n=i.name.value,r=eS(i.loc),s=yu.get(n);s&&!s.has(r)?eb&&console.warn("Warning: fragment with name "+n+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):s||yu.set(n,s=new Set),s.add(r),t.has(r)||(t.add(r),o.push(i))}else o.push(i)}),Ae(Ae({},e),{definitions:o})}function oS(e){var t=new Set(e.definitions);t.forEach(function(i){i.loc&&delete i.loc,Object.keys(i).forEach(function(n){var r=i[n];r&&typeof r=="object"&&t.add(r)})});var o=e.loc;return o&&(delete o.startToken,delete o.endToken),e}function nS(e){var t=tb(e);if(!ua.has(t)){var o=zC(e,{experimentalFragmentVariables:Ca,allowLegacyFragmentVariables:Ca});if(!o||o.kind!=="Document")throw new Error("Not a valid GraphQL document.");ua.set(t,oS(tS(o)))}return ua.get(t)}function Dt(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];typeof e=="string"&&(e=[e]);var i=e[0];return t.forEach(function(n,r){n&&n.kind==="Document"?i+=n.loc.source.body:i+=n,i+=e[r+1]}),nS(i)}function iS(){ua.clear(),yu.clear()}function rS(){eb=!1}function sS(){Ca=!0}function aS(){Ca=!1}var br={gql:Dt,resetCaches:iS,disableFragmentWarnings:rS,enableExperimentalFragmentVariables:sS,disableExperimentalFragmentVariables:aS};(function(e){e.gql=br.gql,e.resetCaches=br.resetCaches,e.disableFragmentWarnings=br.disableFragmentWarnings,e.enableExperimentalFragmentVariables=br.enableExperimentalFragmentVariables,e.disableExperimentalFragmentVariables=br.disableExperimentalFragmentVariables})(Dt||(Dt={}));Dt.default=Dt;const he=Dt,He=(e,t)=>{const o=e.__vccOpts||e;for(const[i,n]of t)o[i]=n;return o},lS={name:"Notificacion",props:{estaNotificacion:{type:Object,default:function(){return{}}}},methods:{visitar(){var e="/";this.estaNotificacion.elementoTarget.tipo=="actividadEstudiantil"?e+="actividad/"+this.estaNotificacion.elementoTarget.id:this.estaNotificacion.elementoTarget.tipo==="nodoAtlasSolidaridad"&&(e+="atlasSolidaridad/"+this.estaNotificacion.elementoTarget.id),this.eliminarse(),this.$router.push(e).catch(t=>{console.log(`Error de navegación: ${t.message.substr(0,28)}`)})},eliminarse(){let e=this.estaNotificacion.id;console.log(`Eliminandose: ${e}`),this.$apollo.mutate({mutation:he`
          mutation ($idNotificacion: ID!) {
            eliminarNotificacion(idNotificacion: $idNotificacion)
          }
        `,variables:{idNotificacion:e},update:(t,{data:{eliminarNotificacion:o}})=>{if(o){let i=t.readQuery({query:Zr,variables:{idNotificacion:e}}),n=JSON.parse(JSON.stringify(i)),r=n.yo.notificaciones.findIndex(s=>s.id==e);r>-1&&n.yo.notificaciones.splice(r,1),t.writeQuery({query:Zr,variables:{idNotificacion:e},data:n})}}})}},computed:{mensaje:function(){var e="";return this.estaNotificacion.elementoTarget.tipo=="actividadEstudiantil"?this.estaNotificacion.elementoTarget.nombre?e+="Tienes una nueva respuesta en la actividad <span style='color: white' class='textoTarget'>"+this.estaNotificacion.elementoTarget.nombre+"</span>":e+="Tienes una nueva respuesta en una actividad":e=this.estaNotificacion.texto,e},fechaFormateada:function(){let e=new Date(this.estaNotificacion.fecha).toString(),t=e.indexOf("("),o=e.substr(0,t),i=o.indexOf("GMT");return i>-1&&(o=o.substr(0,i)),o}}},cS={id:"info"},uS=["src"],dS=["innerHTML"];function hS(e,t,o,i,n,r){return J(),Ge(as,{name:"recogerseArriba"},{default:Jt(()=>[m("div",{class:"notificacion",onClick:t[0]||(t[0]=(...s)=>r.visitar&&r.visitar(...s))},[m("div",cS,Ee(r.fechaFormateada),1),m("img",{src:this.serverUrl+"/api/usuarios/fotografias/"+o.estaNotificacion.causante.id,alt:"",id:"caritaCausante"},null,8,uS),m("div",{id:"texto",innerHTML:r.mensaje},null,8,dS)])]),_:1})}const fS=He(lS,[["render",hS],["__scopeId","data-v-294d3aee"]]),ob="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAMAAAAPkIrYAAABEVBMVEUAAAACAgIAAAAAAAABAQE0NDR7e3sBAQEEBAR5eXkeHh4MDAwwMDADAwMGBgYVFRUKCgoPDw8ODg4ICAggICATExMPDw9QUFBZWVkGBgYBAQEJCQkCAgIZGRkLCws2NjZkZGQODg4GBgYGBgYODg4MDAwPDw8SEhIICAgRERENDQ0bGxslJSUREREWFhYbGxsdHR0cHBwvLy9vb28xMTH///8ICAgODg4ICAgGBgYSEhIUFBQYGBgjIyMaGhoEBAQMDAwoKCgoKCgtLS0kJCQ7OzsMDAwDAwMAAAAjIyMPDw8QEBANDQ0HBwcMDAwcHBwKCgohISEtLS0NDQ0HBwc4ODgVFRVAQEBYWFg1NTUAAADjrFRNAAAAWnRSTlMA/qU/eUQdwVcCH78M79mVV9HB42dXPBIF+eLSWVc/Kgvy8u7OubOwpaN6aVhYT0tENzAdHAPq4daxi4B4cF1OSUhCOSMi8cPBr6almZmSdWlkT05OQDAgHRixeboEAAABzElEQVRYw+3WWU/CQBSG4YPiUnAB29KioIgCyg6K+77v+/r9/x8iTVpGI+kMHi686Hs1SZMnnTmTphQUFBTUa2OJ6vPLfjptmpVYu9FvxWLm/kHiU1WyCpAWn1OiThbgFuqW9+xJZX9tavEoQ341821M4c2WgWWSZgAbJMsOYYYUugaOpacF7KlY78AWSXoDGqRSSH4UDUBt3EkUSFICiChZWWwqWKtK1hlyRI9Vv8szC3woWfOYItKB3KmftaJkrTnWOoDQIduadiyrFm1jzX5YTiVAp+4NAsM9WTQJ1PtlZYBtpjWPqLvScce2vLu6jlumlUXeXW3gimklseSuZrDEtICbfllNYKdjDfCsRfENiPMsrQDkqRfrdeh3R/V6rVLUgQWrF2sSPumrpGTJqeS2TWqWR42XDMNIpZyfiFjFNNPpcrlcPagdNk61H2PwszwqQkpdSCxByRvxswTFtzxqd4tveRSSFte6dDdoAPEM0+qcVQ5YK81Ztqa1Wi3tD5agyJ6CT1FNav2Y4H3WF5NYkXA4QiLteO9hp1gM/27CwYTFaqyDCYuPCYuPCYuPCYuPCYuPnQuLjUFYbExYfExY7OxUKkFBQUH/sC/SIJ/NRVDIKwAAAABJRU5ErkJggg==",pS={name:"NotificacionActividadForos",props:{estaNotificacion:{type:Object,default:function(){return{}}}},methods:{visitar(){var e="/";if(e+=this.estaNotificacion.tipoParent+"/"+this.estaNotificacion.idParent,this.estaNotificacion.tipoParent=="libro"){console.log("Es el enlace a un libro");var t=this.tallerCuentosUrl+"?t="+this.usuario.token+"&l="+this.estaNotificacion.idParent;console.log(`Abriendo enlace: ${t}`),window.open(t,"_blank"),this.eliminarse()}else this.eliminarse(),this.$router.push(e).catch(o=>{console.log(`Error de navegación: ${o.message.substr(0,28)}`),o.message.substr(0,28)=="Avoided redundant navigation"&&console.log("Error por navegación")})},eliminarse(){let e=this.estaNotificacion.idParent;console.log(`Eliminandose: ${e}`),this.$apollo.mutate({mutation:he`
          mutation($idParent: ID!) {
            eliminarNotificacionActividadForos(idParent: $idParent)
          }
        `,variables:{idParent:e},update:(t,{data:{eliminarNotificacionActividadForos:o}})=>{if(o){let i=t.readQuery({query:Zr}),n=JSON.parse(JSON.stringify(i)),r=n.yo.notificacionesActividadForos.findIndex(s=>s.idParent==e);r>-1&&n.yo.notificacionesActividadForos.splice(r,1),t.writeQuery({query:Zr,data:n})}}})}},computed:{mensaje:function(){let e=this.estaNotificacion.tipoParent;e=="nodoConocimiento"&&(e="nodo de conocimiento");var o="Hay nuevas respuestas en los foros del "+("<span style='color:red'>"+e+"</span>")+" "+this.estaNotificacion.nombreParent;return o},tallerCuentosUrl(){return"https://pe-pe-pe.herokuapp.com/tallerCuentos"}}},mS=e=>(Ze("data-v-b9c79077"),e=e(),Xe(),e),vS=mS(()=>m("img",{src:ob,alt:"Conversación",id:"iconoConversacion"},null,-1)),gS=["innerHTML"];function bS(e,t,o,i,n,r){return J(),X("div",{class:"notificacionActividadForos",onClick:t[0]||(t[0]=(...s)=>r.visitar&&r.visitar(...s))},[vS,m("div",{id:"texto",innerHTML:r.mensaje},null,8,gS)])}const yS=He(pS,[["render",bS],["__scopeId","data-v-b9c79077"]]),zt="/caracol/assets/equis-115f5fad.svg",wS={name:"CuadritoMensajeUsuario",props:{mensajes:Array},data(){return{mostrar:!1,idOcultador:null}},methods:{dismiss(){this.mostrar=!1}},watch:{mensajes(){this.mostrar=!0,this.idOcultador=setTimeout(()=>{this.mostrar=!1},6e3)}}},ES={class:"boton",id:"botonDismiss"},AS={key:0,id:"mensaje"};function _S(e,t,o,i,n,r){return J(),X("div",{class:ve(["cuadritoMensajeUsuario",{mostrar:n.mostrar}])},[m("div",ES,[m("img",{src:zt,alt:"Equis",style:{},onClick:t[0]||(t[0]=(...s)=>r.dismiss&&r.dismiss(...s))})]),o.mensajes&&o.mensajes.length>0?(J(),X("div",AS,Ee(o.mensajes[o.mensajes.length-1]),1)):Ie("",!0)],2)}const NS=He(wS,[["render",_S],["__scopeId","data-v-07b6a5e0"]]);let Vi=window.location.host;Vi.includes("localhost")&&(Vi="localhost:3000");console.log(`Host location: ${Vi}`);let nb="http://",ib="ws://";Vi.includes("heroku")&&(console.log("Protocolo https"),nb="https://",ib="wss://");let rb=nb+Vi+"/graphql",CS=ib+Vi+"/graphql";var SS=new Intl.NumberFormat("en-US",{style:"currency",currency:"COP"});const Sa=he`
  query auth_usuario_local{
    auth_usuario @client{
      id
      username
      permisos
      token
    }
  }
`,xS={apollo:{usuario:{query:Sa,fetchPolicy:"cache-only",update({auth_usuario:e}){return e}},estadoRed:{query:he`
            query{
                estadoRed @client
            }
        `}},data(){return{serverUrl:rb,usuario:null}},computed:{usuarioLogeado(){return this.usuario!=null&&this.usuario.id},usuarioSuperadministrador:function(){var e,t;return(t=(e=this.usuario)==null?void 0:e.permisos)==null?void 0:t.includes("superadministrador")},produccion(){return!0},usuarioProfe:function(){var e;return(e=this.usuario)!=null&&e.permisos?this.usuario.permisos.includes("maestraVida-profesor"):!1}},methods:{selectTargetFocus(e){e.target&&e.target.select()},toReadableTime(e){var t=new Date(e),o=""+t.getHours();o.length===1&&(o="0"+o);var i=""+t.getMinutes();return i.length===1&&(i="0"+i),o+":"+i},toReadableDate(e){var t=new Date(e),o=t.getFullYear();const i=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],n=["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"];var r=i[t.getMonth()],s=t.getDate(),c=n[t.getDay()],a=c+" "+s+" de "+r;return o!=new Date(Date.now()).getFullYear()&&(a="("+o+") "+a),a},toReadableFullDate(e){return this.toReadableDate(e)+" - "+this.toReadableTime(e)},enrichedToReadableDate(e){var t=new Date(e),o=t.getFullYear(),i=t.getMonth(),n=t.getDate(),r=new Date,s=new Date(r.getTime()+864e5),c=new Date(r.getTime()-864e5);return o===r.getFullYear()&&i===r.getMonth()&&n===r.getDate()?"Hoy":o===s.getFullYear()&&i===s.getMonth()&&n===s.getDate()?"Mañana":o===c.getFullYear()&&i===c.getMonth()&&n===c.getDate()?"Ayer":this.toReadableDate(e)},enrichedToReadableFullDate(e){return this.enrichedToReadableDate(e)+" - "+this.toReadableTime(e)},toReadableMoney(e){var t=SS.format(e);return t}}},IS="/caracol/assets/stream-ec9379f8.svg",TS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAsVBMVEUAAAAAAAAAAAABAQEFBQUBAQEDAwMBAQECAgIBAQEAAAAAAAAFBQUAAAAAAAABAQEKCgoREREBAQECAgIBAQEHBwcBAQEBAQEBAQECAgIBAQEHBwceHh4AAAABAQEAAAABAQECAgIBAQEBAQEFBQUEBAQKCgoBAQEBAQEBAQECAgIDAwMCAgIBAQEJCQkNDQ0BAQEGBgYFBQUDAwMBAQEBAQEGBgYICAgAAAAAAAAAAABES1EIAAAAOnRSTlMA7PQwArcHQaM9qPhU/PrIHArDXVgQ1q+dhHIhBe/f28ynjn9jSA3jvrSVemxoJxirTjGZk4k1FTg3rkgIUQAAAZtJREFUSMftlVmPgjAQgEvltBQEuZFDxPu+d+f//7A12UhWbQGf9sXvhclMvobM9EAcemNHs9A79G1iJMHmDUPxcBBKoE7aKwUsRRRLWGltWDMhchx9CGVb47AUABvUICCVvVZCMQXBVsPRYp4Raq7cRqPMIV9eXPEWyrEeJLDTGowRFsIYVQz2Pph6vQGm8zTTM2R1zoraCmMZ+5trjLN0/5oVC/5MrSFErHw8p2uO4hCfvZqObfZ85CFxEKdi9JmFztS88jY2UQfMvFEgDnHqMf8spGXNPj0w0qKKxzxF7GKFnda4ivpRPsq/KLKEv7jKgqxZJwz7/LtUx7PXM3aVEh1xGQSwfElGcBwgPlrqXZ5Smzytv65DOD1lzhCiWjam8HjOlanZ9Jau6NB6aCJdoQbcnfG3P9Zc6HeaWMD6sV+J0ATJtIe+R750R6CzKs4gr2L1eW7yHetI+lWsEr0q1IzNMbqTqpF5q1fc9WEk/74FPkSoFYoNwXg7icvb10UtnTlNPDM1cNFDbdmud55nnvboHeTt1hXZpR+YEyU0uY0rZgAAAABJRU5ErkJggg==",RS=he`
  query{
    estadoRed
  }
`,Zr=he`
  query {
    yo {
      id
      nombres
      apellidos
      notificaciones {
        id
        fecha
        texto
        elementoTarget {
          tipo
          id
          nombre
        }
        causante {
          id
          tipo
        }
      }
      notificacionesActividadForos {
        idParent
        tipoParent
        numeroRespuestasNuevas
        nombreParent
      }
      permisos
      foros {
        idForo
        conversaciones {
          idConversacion
          respuestasLeidas
        }
      }
    }
  }
`;function PS(e){var t=e.split(".")[1],o=t.replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(atob(o).split("").map(function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(i)}const DS={name:"App",apollo:{yo:{query:Zr,fetchPolicy:"network-only",skip(){return!this.usuarioLogeado}}},components:{Notificacion:fS,NotificacionActividadForos:yS,CuadritoMensajeUsuario:NS},data(){return{accionesLogeado:!1,mostrandoNotificaciones:!1,yo:{notificaciones:[],notificacionesActividadForos:[]},mostrandoNav:!1,navSeleccionado:"home",errores:[]}},computed:{tallerCuentosUrl(){return"https://192.168.1.100:3000"},username:function(){return this.usuario.username},colorBlancoAccionLogeado:function(){return this.accionesLogeado?{backgroundColor:"white"}:{}},notificacionesOrdenadas:function(){var e=JSON.parse(JSON.stringify(this.yo.notificaciones));return e.sort((t,o)=>new Date(o.fecha)-new Date(t.fecha))}},methods:{setEstadoRed(){console.log(`Detectado estado de red en ${navigator.onLine}`),this.$apollo.provider.defaultClient.writeQuery({query:RS,data:{estadoRed:navigator.onLine}})},logearUsuario(e){console.log("Logeando usuario");let t=PS(e);const o=this.$apollo.provider.defaultClient;let i={id:t.id,username:t.username,permisos:t.permisos,token:e};o.writeQuery({query:Sa,data:{auth_usuario:i}}),this.$router.push({name:"perfilPersonal"}),this.setEstadoRed()},async deslogearse(){const e=this.$apollo.provider.defaultClient;e.writeQuery({query:Sa,data:{auth_usuario:null}}),console.log("Navegando a loginScreen"),await this.$router.push({name:"loginScreen"}),console.log("On loginScreen"),this.$nextTick(()=>{e.resetStore().then(()=>{console.log("Store reset"),this.setEstadoRed()}).catch(t=>{console.log("Error resetting store: "+t),this.setEstadoRed()})})}},created(){this.setEstadoRed(),window.addEventListener("online",this.setEstadoRed),window.addEventListener("offline",this.setEstadoRed)},destroyed(){window.removeEventListener("online",this.setEstadoRed),window.removeEventListener("offline",this.setEstadoRed)}},To=e=>(Ze("data-v-74963349"),e=e(),Xe(),e),kS={id:"app"},OS={id:"navBar"},MS=To(()=>m("img",{id:"botonDesplegarNav",src:IS,alt:"Menu"},null,-1)),LS=To(()=>m("div",{id:"logoPepepe"},"Pepepe",-1)),FS=[MS,LS],BS=To(()=>m("div",{class:"botonNavBarra botonNav hoverNegro",id:"navActividadesVirtuales"}," Foros ",-1)),US={id:"bloqueHerramientas",class:"bloqueBotones"},$S=To(()=>m("div",{class:"botonNavBarra botonNav hoverNegro",id:"navAtlas"}," Herramientas ",-1)),jS={id:"enlacesHijosHerramientas",class:"contenedorHijos"},qS=To(()=>m("div",{class:"botonNavBarra botonNav hoverNegro botonNavHijo",id:"navAtlas"}," Atlas de conocimientos ",-1)),VS=To(()=>m("div",{class:"botonNavBarra botonNav hoverNegro",id:"navActividadesVirtuales"}," Personas ",-1)),HS=To(()=>m("div",{class:"botonNavBarra botonNav hoverNegro",id:"navActividadesVirtuales"}," Horario semanal ",-1)),zS=To(()=>m("div",{class:"botonNavBarra botonNav hoverNegro",id:"navRutaGrado"}," Mi ruta de grado ",-1)),QS=To(()=>m("div",{class:"botonNavBarra botonNav hoverNegro"}," Registrar usuario ",-1)),GS={id:"botonesNavDerecha"},KS={key:0,id:"bloqueNotificaciones"},WS={id:"numeroNotificaciones"},JS=["title"],YS={id:"contenedorNotificaciones"},ZS={key:0,id:"botonesLogeado"},XS=To(()=>m("div",{class:"botonesLogeado hoverNegro",id:"Perfil"},"Perfil",-1)),ex=To(()=>m("div",null,"Login",-1));function tx(e,t,o,i,n,r){const s=Pe("router-link"),c=Pe("notificacion-actividad-foros"),a=Pe("notificacion"),l=Pe("router-view"),u=Pe("cuadrito-mensaje-usuario");return J(),X("div",kS,[m("div",OS,[m("div",{id:"zonaIcono",onClick:t[0]||(t[0]=h=>n.mostrandoNav=!n.mostrandoNav)},FS),m("div",{id:"botonesNavEnlaces",class:ve({enlacesOcultos:!n.mostrandoNav}),onClick:t[1]||(t[1]=h=>n.mostrandoNav=!1)},[e.usuarioLogeado==!0&&e.usuario.permisos&&e.usuario.permisos.includes("maestraVida")?(J(),Ge(s,{key:0,to:"/foros"},{default:Jt(()=>[BS]),_:1})):Ie("",!0),m("div",US,[$S,m("div",jS,[Te(s,{to:"/atlas"},{default:Jt(()=>[qS]),_:1})])]),e.usuarioLogeado?(J(),Ge(s,{key:1,to:"/personas"},{default:Jt(()=>[VS]),_:1})):Ie("",!0),Te(s,{to:"/espacios"},{default:Jt(()=>[HS]),_:1}),n.yo&&n.yo.id?(J(),Ge(s,{key:2,to:"/rutaGrado/"+n.yo.id},{default:Jt(()=>[zS]),_:1},8,["to"])):Ie("",!0),e.usuarioSuperadministrador?(J(),Ge(s,{key:3,to:"/registro",id:"navRegistro"},{default:Jt(()=>[QS]),_:1})):Ie("",!0)],2),m("div",GS,[e.usuarioLogeado?V((J(),X("div",KS,[m("span",WS,Ee(n.yo.notificaciones.length+n.yo.notificacionesActividadForos.length),1),m("img",{src:TS,alt:"Notificaciones",title:n.yo.notificaciones.length+"Notificaciones",id:"imagenCampanita",onClick:t[2]||(t[2]=h=>n.mostrandoNotificaciones=!n.mostrandoNotificaciones)},null,8,JS),V(m("div",YS,[(J(!0),X(Fe,null,qe(n.yo.notificacionesActividadForos,h=>(J(),Ge(c,{estaNotificacion:h,key:h.id},null,8,["estaNotificacion"]))),128)),(J(!0),X(Fe,null,qe(r.notificacionesOrdenadas,h=>(J(),Ge(a,{key:h.id,estaNotificacion:h},null,8,["estaNotificacion"]))),128))],512),[[K,n.mostrandoNotificaciones]])],512)),[[K,n.yo.notificaciones.length>0||n.yo.notificacionesActividadForos.length>0]]):Ie("",!0),e.usuarioLogeado?(J(),X("div",{key:1,class:"botonNavBarra botonNav navLogin hoverNegro",id:"navLogged",onClick:t[4]||(t[4]=h=>n.accionesLogeado=!n.accionesLogeado),onMouseleave:t[5]||(t[5]=h=>n.accionesLogeado=!1)},[gt(Ee(r.username)+" ",1),n.accionesLogeado?(J(),X("div",ZS,[Te(s,{to:"/miperfil"},{default:Jt(()=>[XS]),_:1}),m("div",{class:"botonesLogeado hoverNegro",id:"desconexion",onClick:t[3]||(t[3]=(...h)=>r.deslogearse&&r.deslogearse(...h))}," Desconexion ")])):Ie("",!0)],32)):(J(),Ge(s,{key:2,to:"/login",class:"botonNavBarra botonNav navLogin hoverNegro",id:"navLogin"},{default:Jt(()=>[ex]),_:1}))])]),Te(l,{onLogearse:r.logearUsuario,id:"visorRouter",yo:n.yo},null,8,["onLogearse","yo"]),Te(u,{style:{"z-index":"100"},mensajes:this.errores},null,8,["mensajes"])])}const ox=He(DS,[["render",tx],["__scopeId","data-v-74963349"]]);/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Si=typeof window<"u";function nx(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ht=Object.assign;function Nc(e,t){const o={};for(const i in t){const n=t[i];o[i]=Io(n)?n.map(e):e(n)}return o}const Fr=()=>{},Io=Array.isArray,ix=/\/$/,rx=e=>e.replace(ix,"");function Cc(e,t,o="/"){let i,n={},r="",s="";const c=t.indexOf("#");let a=t.indexOf("?");return c<a&&c>=0&&(a=-1),a>-1&&(i=t.slice(0,a),r=t.slice(a+1,c>-1?c:t.length),n=e(r)),c>-1&&(i=i||t.slice(0,c),s=t.slice(c,t.length)),i=cx(i??t,o),{fullPath:i+(r&&"?")+r+s,path:i,query:n,hash:s}}function sx(e,t){const o=t.query?e(t.query):"";return t.path+(o&&"?")+o+(t.hash||"")}function Xp(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function ax(e,t,o){const i=t.matched.length-1,n=o.matched.length-1;return i>-1&&i===n&&Hi(t.matched[i],o.matched[n])&&sb(t.params,o.params)&&e(t.query)===e(o.query)&&t.hash===o.hash}function Hi(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function sb(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const o in e)if(!lx(e[o],t[o]))return!1;return!0}function lx(e,t){return Io(e)?em(e,t):Io(t)?em(t,e):e===t}function em(e,t){return Io(t)?e.length===t.length&&e.every((o,i)=>o===t[i]):e.length===1&&e[0]===t}function cx(e,t){if(e.startsWith("/"))return e;if(!e)return t;const o=t.split("/"),i=e.split("/");let n=o.length-1,r,s;for(r=0;r<i.length;r++)if(s=i[r],s!==".")if(s==="..")n>1&&n--;else break;return o.slice(0,n).join("/")+"/"+i.slice(r-(r===i.length?1:0)).join("/")}var Xr;(function(e){e.pop="pop",e.push="push"})(Xr||(Xr={}));var Br;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Br||(Br={}));function ux(e){if(!e)if(Si){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),rx(e)}const dx=/^[^#]+#/;function hx(e,t){return e.replace(dx,"#")+t}function fx(e,t){const o=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-o.left-(t.left||0),top:i.top-o.top-(t.top||0)}}const Ja=()=>({left:window.pageXOffset,top:window.pageYOffset});function px(e){let t;if("el"in e){const o=e.el,i=typeof o=="string"&&o.startsWith("#"),n=typeof o=="string"?i?document.getElementById(o.slice(1)):document.querySelector(o):o;if(!n)return;t=fx(n,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function tm(e,t){return(history.state?history.state.position-t:-1)+e}const wu=new Map;function mx(e,t){wu.set(e,t)}function vx(e){const t=wu.get(e);return wu.delete(e),t}let gx=()=>location.protocol+"//"+location.host;function ab(e,t){const{pathname:o,search:i,hash:n}=t,r=e.indexOf("#");if(r>-1){let c=n.includes(e.slice(r))?e.slice(r).length:1,a=n.slice(c);return a[0]!=="/"&&(a="/"+a),Xp(a,"")}return Xp(o,e)+i+n}function bx(e,t,o,i){let n=[],r=[],s=null;const c=({state:f})=>{const g=ab(e,location),b=o.value,C=t.value;let T=0;if(f){if(o.value=g,t.value=f,s&&s===b){s=null;return}T=C?f.position-C.position:0}else i(g);n.forEach(S=>{S(o.value,b,{delta:T,type:Xr.pop,direction:T?T>0?Br.forward:Br.back:Br.unknown})})};function a(){s=o.value}function l(f){n.push(f);const g=()=>{const b=n.indexOf(f);b>-1&&n.splice(b,1)};return r.push(g),g}function u(){const{history:f}=window;f.state&&f.replaceState(ht({},f.state,{scroll:Ja()}),"")}function h(){for(const f of r)f();r=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",u),{pauseListeners:a,listen:l,destroy:h}}function om(e,t,o,i=!1,n=!1){return{back:e,current:t,forward:o,replaced:i,position:window.history.length,scroll:n?Ja():null}}function yx(e){const{history:t,location:o}=window,i={value:ab(e,o)},n={value:t.state};n.value||r(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(a,l,u){const h=e.indexOf("#"),f=h>-1?(o.host&&document.querySelector("base")?e:e.slice(h))+a:gx()+e+a;try{t[u?"replaceState":"pushState"](l,"",f),n.value=l}catch(g){console.error(g),o[u?"replace":"assign"](f)}}function s(a,l){const u=ht({},t.state,om(n.value.back,a,n.value.forward,!0),l,{position:n.value.position});r(a,u,!0),i.value=a}function c(a,l){const u=ht({},n.value,t.state,{forward:a,scroll:Ja()});r(u.current,u,!0);const h=ht({},om(i.value,a,null),{position:u.position+1},l);r(a,h,!1),i.value=a}return{location:i,state:n,push:c,replace:s}}function wx(e){e=ux(e);const t=yx(e),o=bx(e,t.state,t.location,t.replace);function i(r,s=!0){s||o.pauseListeners(),history.go(r)}const n=ht({location:"",base:e,go:i,createHref:hx.bind(null,e)},t,o);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>t.state.value}),n}function Ex(e){return typeof e=="string"||e&&typeof e=="object"}function lb(e){return typeof e=="string"||typeof e=="symbol"}const hn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},cb=Symbol("");var nm;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(nm||(nm={}));function zi(e,t){return ht(new Error,{type:e,[cb]:!0},t)}function Vo(e,t){return e instanceof Error&&cb in e&&(t==null||!!(e.type&t))}const im="[^/]+?",Ax={sensitive:!1,strict:!1,start:!0,end:!0},_x=/[.+*?^${}()[\]/\\]/g;function Nx(e,t){const o=ht({},Ax,t),i=[];let n=o.start?"^":"";const r=[];for(const l of e){const u=l.length?[]:[90];o.strict&&!l.length&&(n+="/");for(let h=0;h<l.length;h++){const f=l[h];let g=40+(o.sensitive?.25:0);if(f.type===0)h||(n+="/"),n+=f.value.replace(_x,"\\$&"),g+=40;else if(f.type===1){const{value:b,repeatable:C,optional:T,regexp:S}=f;r.push({name:b,repeatable:C,optional:T});const _=S||im;if(_!==im){g+=10;try{new RegExp(`(${_})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${b}" (${_}): `+w.message)}}let y=C?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;h||(y=T&&l.length<2?`(?:/${y})`:"/"+y),T&&(y+="?"),n+=y,g+=20,T&&(g+=-8),C&&(g+=-20),_===".*"&&(g+=-50)}u.push(g)}i.push(u)}if(o.strict&&o.end){const l=i.length-1;i[l][i[l].length-1]+=.7000000000000001}o.strict||(n+="/?"),o.end?n+="$":o.strict&&(n+="(?:/|$)");const s=new RegExp(n,o.sensitive?"":"i");function c(l){const u=l.match(s),h={};if(!u)return null;for(let f=1;f<u.length;f++){const g=u[f]||"",b=r[f-1];h[b.name]=g&&b.repeatable?g.split("/"):g}return h}function a(l){let u="",h=!1;for(const f of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const g of f)if(g.type===0)u+=g.value;else if(g.type===1){const{value:b,repeatable:C,optional:T}=g,S=b in l?l[b]:"";if(Io(S)&&!C)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const _=Io(S)?S.join("/"):S;if(!_)if(T)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${b}"`);u+=_}}return u||"/"}return{re:s,score:i,keys:r,parse:c,stringify:a}}function Cx(e,t){let o=0;for(;o<e.length&&o<t.length;){const i=t[o]-e[o];if(i)return i;o++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Sx(e,t){let o=0;const i=e.score,n=t.score;for(;o<i.length&&o<n.length;){const r=Cx(i[o],n[o]);if(r)return r;o++}if(Math.abs(n.length-i.length)===1){if(rm(i))return 1;if(rm(n))return-1}return n.length-i.length}function rm(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const xx={type:0,value:""},Ix=/[a-zA-Z0-9_]/;function Tx(e){if(!e)return[[]];if(e==="/")return[[xx]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${o})/"${l}": ${g}`)}let o=0,i=o;const n=[];let r;function s(){r&&n.push(r),r=[]}let c=0,a,l="",u="";function h(){l&&(o===0?r.push({type:0,value:l}):o===1||o===2||o===3?(r.length>1&&(a==="*"||a==="+")&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:l,regexp:u,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):t("Invalid state to consume buffer"),l="")}function f(){l+=a}for(;c<e.length;){if(a=e[c++],a==="\\"&&o!==2){i=o,o=4;continue}switch(o){case 0:a==="/"?(l&&h(),s()):a===":"?(h(),o=1):f();break;case 4:f(),o=i;break;case 1:a==="("?o=2:Ix.test(a)?f():(h(),o=0,a!=="*"&&a!=="?"&&a!=="+"&&c--);break;case 2:a===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+a:o=3:u+=a;break;case 3:h(),o=0,a!=="*"&&a!=="?"&&a!=="+"&&c--,u="";break;default:t("Unknown state");break}}return o===2&&t(`Unfinished custom RegExp for param "${l}"`),h(),s(),n}function Rx(e,t,o){const i=Nx(Tx(e.path),o),n=ht(i,{record:e,parent:t,children:[],alias:[]});return t&&!n.record.aliasOf==!t.record.aliasOf&&t.children.push(n),n}function Px(e,t){const o=[],i=new Map;t=lm({strict:!1,end:!0,sensitive:!1},t);function n(u){return i.get(u)}function r(u,h,f){const g=!f,b=Dx(u);b.aliasOf=f&&f.record;const C=lm(t,u),T=[b];if("alias"in u){const y=typeof u.alias=="string"?[u.alias]:u.alias;for(const w of y)T.push(ht({},b,{components:f?f.record.components:b.components,path:w,aliasOf:f?f.record:b}))}let S,_;for(const y of T){const{path:w}=y;if(h&&w[0]!=="/"){const I=h.record.path,k=I[I.length-1]==="/"?"":"/";y.path=h.record.path+(w&&k+w)}if(S=Rx(y,h,C),f?f.alias.push(S):(_=_||S,_!==S&&_.alias.push(S),g&&u.name&&!am(S)&&s(u.name)),b.children){const I=b.children;for(let k=0;k<I.length;k++)r(I[k],S,f&&f.children[k])}f=f||S,(S.record.components&&Object.keys(S.record.components).length||S.record.name||S.record.redirect)&&a(S)}return _?()=>{s(_)}:Fr}function s(u){if(lb(u)){const h=i.get(u);h&&(i.delete(u),o.splice(o.indexOf(h),1),h.children.forEach(s),h.alias.forEach(s))}else{const h=o.indexOf(u);h>-1&&(o.splice(h,1),u.record.name&&i.delete(u.record.name),u.children.forEach(s),u.alias.forEach(s))}}function c(){return o}function a(u){let h=0;for(;h<o.length&&Sx(u,o[h])>=0&&(u.record.path!==o[h].record.path||!ub(u,o[h]));)h++;o.splice(h,0,u),u.record.name&&!am(u)&&i.set(u.record.name,u)}function l(u,h){let f,g={},b,C;if("name"in u&&u.name){if(f=i.get(u.name),!f)throw zi(1,{location:u});C=f.record.name,g=ht(sm(h.params,f.keys.filter(_=>!_.optional).map(_=>_.name)),u.params&&sm(u.params,f.keys.map(_=>_.name))),b=f.stringify(g)}else if("path"in u)b=u.path,f=o.find(_=>_.re.test(b)),f&&(g=f.parse(b),C=f.record.name);else{if(f=h.name?i.get(h.name):o.find(_=>_.re.test(h.path)),!f)throw zi(1,{location:u,currentLocation:h});C=f.record.name,g=ht({},h.params,u.params),b=f.stringify(g)}const T=[];let S=f;for(;S;)T.unshift(S.record),S=S.parent;return{name:C,path:b,params:g,matched:T,meta:Ox(T)}}return e.forEach(u=>r(u)),{addRoute:r,resolve:l,removeRoute:s,getRoutes:c,getRecordMatcher:n}}function sm(e,t){const o={};for(const i of t)i in e&&(o[i]=e[i]);return o}function Dx(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:kx(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function kx(e){const t={},o=e.props||!1;if("component"in e)t.default=o;else for(const i in e.components)t[i]=typeof o=="boolean"?o:o[i];return t}function am(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Ox(e){return e.reduce((t,o)=>ht(t,o.meta),{})}function lm(e,t){const o={};for(const i in e)o[i]=i in t?t[i]:e[i];return o}function ub(e,t){return t.children.some(o=>o===e||ub(e,o))}const db=/#/g,Mx=/&/g,Lx=/\//g,Fx=/=/g,Bx=/\?/g,hb=/\+/g,Ux=/%5B/g,$x=/%5D/g,fb=/%5E/g,jx=/%60/g,pb=/%7B/g,qx=/%7C/g,mb=/%7D/g,Vx=/%20/g;function Td(e){return encodeURI(""+e).replace(qx,"|").replace(Ux,"[").replace($x,"]")}function Hx(e){return Td(e).replace(pb,"{").replace(mb,"}").replace(fb,"^")}function Eu(e){return Td(e).replace(hb,"%2B").replace(Vx,"+").replace(db,"%23").replace(Mx,"%26").replace(jx,"`").replace(pb,"{").replace(mb,"}").replace(fb,"^")}function zx(e){return Eu(e).replace(Fx,"%3D")}function Qx(e){return Td(e).replace(db,"%23").replace(Bx,"%3F")}function Gx(e){return e==null?"":Qx(e).replace(Lx,"%2F")}function xa(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Kx(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let n=0;n<i.length;++n){const r=i[n].replace(hb," "),s=r.indexOf("="),c=xa(s<0?r:r.slice(0,s)),a=s<0?null:xa(r.slice(s+1));if(c in t){let l=t[c];Io(l)||(l=t[c]=[l]),l.push(a)}else t[c]=a}return t}function cm(e){let t="";for(let o in e){const i=e[o];if(o=zx(o),i==null){i!==void 0&&(t+=(t.length?"&":"")+o);continue}(Io(i)?i.map(r=>r&&Eu(r)):[i&&Eu(i)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+o,r!=null&&(t+="="+r))})}return t}function Wx(e){const t={};for(const o in e){const i=e[o];i!==void 0&&(t[o]=Io(i)?i.map(n=>n==null?null:""+n):i==null?i:""+i)}return t}const Jx=Symbol(""),um=Symbol(""),Rd=Symbol(""),vb=Symbol(""),Au=Symbol("");function yr(){let e=[];function t(i){return e.push(i),()=>{const n=e.indexOf(i);n>-1&&e.splice(n,1)}}function o(){e=[]}return{add:t,list:()=>e,reset:o}}function wn(e,t,o,i,n){const r=i&&(i.enterCallbacks[n]=i.enterCallbacks[n]||[]);return()=>new Promise((s,c)=>{const a=h=>{h===!1?c(zi(4,{from:o,to:t})):h instanceof Error?c(h):Ex(h)?c(zi(2,{from:t,to:h})):(r&&i.enterCallbacks[n]===r&&typeof h=="function"&&r.push(h),s())},l=e.call(i&&i.instances[n],t,o,a);let u=Promise.resolve(l);e.length<3&&(u=u.then(a)),u.catch(h=>c(h))})}function Sc(e,t,o,i){const n=[];for(const r of e)for(const s in r.components){let c=r.components[s];if(!(t!=="beforeRouteEnter"&&!r.instances[s]))if(Yx(c)){const l=(c.__vccOpts||c)[t];l&&n.push(wn(l,o,i,r,s))}else{let a=c();n.push(()=>a.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${r.path}"`));const u=nx(l)?l.default:l;r.components[s]=u;const f=(u.__vccOpts||u)[t];return f&&wn(f,o,i,r,s)()}))}}return n}function Yx(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function dm(e){const t=Ko(Rd),o=Ko(vb),i=mo(()=>t.resolve(Mi(e.to))),n=mo(()=>{const{matched:a}=i.value,{length:l}=a,u=a[l-1],h=o.matched;if(!u||!h.length)return-1;const f=h.findIndex(Hi.bind(null,u));if(f>-1)return f;const g=hm(a[l-2]);return l>1&&hm(u)===g&&h[h.length-1].path!==g?h.findIndex(Hi.bind(null,a[l-2])):f}),r=mo(()=>n.value>-1&&tI(o.params,i.value.params)),s=mo(()=>n.value>-1&&n.value===o.matched.length-1&&sb(o.params,i.value.params));function c(a={}){return eI(a)?t[Mi(e.replace)?"replace":"push"](Mi(e.to)).catch(Fr):Promise.resolve()}return{route:i,href:mo(()=>i.value.href),isActive:r,isExactActive:s,navigate:c}}const Zx=fg({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:dm,setup(e,{slots:t}){const o=ss(dm(e)),{options:i}=Ko(Rd),n=mo(()=>({[fm(e.activeClass,i.linkActiveClass,"router-link-active")]:o.isActive,[fm(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:o.isExactActive}));return()=>{const r=t.default&&t.default(o);return e.custom?r:Cd("a",{"aria-current":o.isExactActive?e.ariaCurrentValue:null,href:o.href,onClick:o.navigate,class:n.value},r)}}}),Xx=Zx;function eI(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function tI(e,t){for(const o in t){const i=t[o],n=e[o];if(typeof i=="string"){if(i!==n)return!1}else if(!Io(n)||n.length!==i.length||i.some((r,s)=>r!==n[s]))return!1}return!0}function hm(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const fm=(e,t,o)=>e??t??o,oI=fg({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:o}){const i=Ko(Au),n=mo(()=>e.route||i.value),r=Ko(um,0),s=mo(()=>{let l=Mi(r);const{matched:u}=n.value;let h;for(;(h=u[l])&&!h.components;)l++;return l}),c=mo(()=>n.value.matched[s.value]);ra(um,mo(()=>s.value+1)),ra(Jx,c),ra(Au,n);const a=__();return sa(()=>[a.value,c.value,e.name],([l,u,h],[f,g,b])=>{u&&(u.instances[h]=l,g&&g!==u&&l&&l===f&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),l&&u&&(!g||!Hi(u,g)||!f)&&(u.enterCallbacks[h]||[]).forEach(C=>C(l))},{flush:"post"}),()=>{const l=n.value,u=e.name,h=c.value,f=h&&h.components[u];if(!f)return pm(o.default,{Component:f,route:l});const g=h.props[u],b=g?g===!0?l.params:typeof g=="function"?g(l):g:null,T=Cd(f,ht({},b,t,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(h.instances[u]=null)},ref:a}));return pm(o.default,{Component:T,route:l})||T}}});function pm(e,t){if(!e)return null;const o=e(t);return o.length===1?o[0]:o}const nI=oI;function iI(e){const t=Px(e.routes,e),o=e.parseQuery||Kx,i=e.stringifyQuery||cm,n=e.history,r=yr(),s=yr(),c=yr(),a=N_(hn);let l=hn;Si&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Nc.bind(null,Y=>""+Y),h=Nc.bind(null,Gx),f=Nc.bind(null,xa);function g(Y,q){let W,te;return lb(Y)?(W=t.getRecordMatcher(Y),te=q):te=Y,t.addRoute(te,W)}function b(Y){const q=t.getRecordMatcher(Y);q&&t.removeRoute(q)}function C(){return t.getRoutes().map(Y=>Y.record)}function T(Y){return!!t.getRecordMatcher(Y)}function S(Y,q){if(q=ht({},q||a.value),typeof Y=="string"){const v=Cc(o,Y,q.path),N=t.resolve({path:v.path},q),L=n.createHref(v.fullPath);return ht(v,N,{params:f(N.params),hash:xa(v.hash),redirectedFrom:void 0,href:L})}let W;if("path"in Y)W=ht({},Y,{path:Cc(o,Y.path,q.path).path});else{const v=ht({},Y.params);for(const N in v)v[N]==null&&delete v[N];W=ht({},Y,{params:h(Y.params)}),q.params=h(q.params)}const te=t.resolve(W,q),se=Y.hash||"";te.params=u(f(te.params));const ae=sx(i,ht({},Y,{hash:Hx(se),path:te.path})),U=n.createHref(ae);return ht({fullPath:ae,hash:se,query:i===cm?Wx(Y.query):Y.query||{}},te,{redirectedFrom:void 0,href:U})}function _(Y){return typeof Y=="string"?Cc(o,Y,a.value.path):ht({},Y)}function y(Y,q){if(l!==Y)return zi(8,{from:q,to:Y})}function w(Y){return B(Y)}function I(Y){return w(ht(_(Y),{replace:!0}))}function k(Y){const q=Y.matched[Y.matched.length-1];if(q&&q.redirect){const{redirect:W}=q;let te=typeof W=="function"?W(Y):W;return typeof te=="string"&&(te=te.includes("?")||te.includes("#")?te=_(te):{path:te},te.params={}),ht({query:Y.query,hash:Y.hash,params:"path"in te?{}:Y.params},te)}}function B(Y,q){const W=l=S(Y),te=a.value,se=Y.state,ae=Y.force,U=Y.replace===!0,v=k(W);if(v)return B(ht(_(v),{state:typeof v=="object"?ht({},se,v.state):se,force:ae,replace:U}),q||W);const N=W;N.redirectedFrom=q;let L;return!ae&&ax(i,te,W)&&(L=zi(16,{to:N,from:te}),Ce(te,te,!0,!1)),(L?Promise.resolve(L):P(N,te)).catch(Z=>Vo(Z)?Vo(Z,2)?Z:be(Z):Q(Z,N,te)).then(Z=>{if(Z){if(Vo(Z,2))return B(ht({replace:U},_(Z.to),{state:typeof Z.to=="object"?ht({},se,Z.to.state):se,force:ae}),q||N)}else Z=F(N,te,!0,U,se);return R(N,te,Z),Z})}function H(Y,q){const W=y(Y,q);return W?Promise.reject(W):Promise.resolve()}function P(Y,q){let W;const[te,se,ae]=rI(Y,q);W=Sc(te.reverse(),"beforeRouteLeave",Y,q);for(const v of te)v.leaveGuards.forEach(N=>{W.push(wn(N,Y,q))});const U=H.bind(null,Y,q);return W.push(U),Ni(W).then(()=>{W=[];for(const v of r.list())W.push(wn(v,Y,q));return W.push(U),Ni(W)}).then(()=>{W=Sc(se,"beforeRouteUpdate",Y,q);for(const v of se)v.updateGuards.forEach(N=>{W.push(wn(N,Y,q))});return W.push(U),Ni(W)}).then(()=>{W=[];for(const v of Y.matched)if(v.beforeEnter&&!q.matched.includes(v))if(Io(v.beforeEnter))for(const N of v.beforeEnter)W.push(wn(N,Y,q));else W.push(wn(v.beforeEnter,Y,q));return W.push(U),Ni(W)}).then(()=>(Y.matched.forEach(v=>v.enterCallbacks={}),W=Sc(ae,"beforeRouteEnter",Y,q),W.push(U),Ni(W))).then(()=>{W=[];for(const v of s.list())W.push(wn(v,Y,q));return W.push(U),Ni(W)}).catch(v=>Vo(v,8)?v:Promise.reject(v))}function R(Y,q,W){for(const te of c.list())te(Y,q,W)}function F(Y,q,W,te,se){const ae=y(Y,q);if(ae)return ae;const U=q===hn,v=Si?history.state:{};W&&(te||U?n.replace(Y.fullPath,ht({scroll:U&&v&&v.scroll},se)):n.push(Y.fullPath,se)),a.value=Y,Ce(Y,q,W,U),be()}let M;function G(){M||(M=n.listen((Y,q,W)=>{if(!z.listening)return;const te=S(Y),se=k(te);if(se){B(ht(se,{replace:!0}),te).catch(Fr);return}l=te;const ae=a.value;Si&&mx(tm(ae.fullPath,W.delta),Ja()),P(te,ae).catch(U=>Vo(U,12)?U:Vo(U,2)?(B(U.to,te).then(v=>{Vo(v,20)&&!W.delta&&W.type===Xr.pop&&n.go(-1,!1)}).catch(Fr),Promise.reject()):(W.delta&&n.go(-W.delta,!1),Q(U,te,ae))).then(U=>{U=U||F(te,ae,!1),U&&(W.delta&&!Vo(U,8)?n.go(-W.delta,!1):W.type===Xr.pop&&Vo(U,20)&&n.go(-1,!1)),R(te,ae,U)}).catch(Fr)}))}let E=yr(),ne=yr(),re;function Q(Y,q,W){be(Y);const te=ne.list();return te.length?te.forEach(se=>se(Y,q,W)):console.error(Y),Promise.reject(Y)}function _e(){return re&&a.value!==hn?Promise.resolve():new Promise((Y,q)=>{E.add([Y,q])})}function be(Y){return re||(re=!Y,G(),E.list().forEach(([q,W])=>Y?W(Y):q()),E.reset()),Y}function Ce(Y,q,W,te){const{scrollBehavior:se}=e;if(!Si||!se)return Promise.resolve();const ae=!W&&vx(tm(Y.fullPath,0))||(te||!W)&&history.state&&history.state.scroll||null;return ng().then(()=>se(Y,q,ae)).then(U=>U&&px(U)).catch(U=>Q(U,Y,q))}const x=Y=>n.go(Y);let $;const oe=new Set,z={currentRoute:a,listening:!0,addRoute:g,removeRoute:b,hasRoute:T,getRoutes:C,resolve:S,options:e,push:w,replace:I,go:x,back:()=>x(-1),forward:()=>x(1),beforeEach:r.add,beforeResolve:s.add,afterEach:c.add,onError:ne.add,isReady:_e,install(Y){const q=this;Y.component("RouterLink",Xx),Y.component("RouterView",nI),Y.config.globalProperties.$router=q,Object.defineProperty(Y.config.globalProperties,"$route",{enumerable:!0,get:()=>Mi(a)}),Si&&!$&&a.value===hn&&($=!0,w(n.location).catch(se=>{}));const W={};for(const se in hn)W[se]=mo(()=>a.value[se]);Y.provide(Rd,q),Y.provide(vb,ss(W)),Y.provide(Au,a);const te=Y.unmount;oe.add(Y),Y.unmount=function(){oe.delete(Y),oe.size<1&&(l=hn,M&&M(),M=null,a.value=hn,$=!1,re=!1),te()}}};return z}function Ni(e){return e.reduce((t,o)=>t.then(()=>o()),Promise.resolve())}function rI(e,t){const o=[],i=[],n=[],r=Math.max(t.matched.length,e.matched.length);for(let s=0;s<r;s++){const c=t.matched[s];c&&(e.matched.find(l=>Hi(l,c))?i.push(c):o.push(c));const a=e.matched[s];a&&(t.matched.find(l=>Hi(l,a))||n.push(a))}return[o,i,n]}var xc="Invariant Violation",mm=Object.setPrototypeOf,sI=mm===void 0?function(e,t){return e.__proto__=t,e}:mm,ut=function(e){co(t,e);function t(o){o===void 0&&(o=xc);var i=e.call(this,typeof o=="number"?xc+": "+o+" (see https://github.com/apollographql/invariant-packages)":o)||this;return i.framesToPop=1,i.name=xc,sI(i,t.prototype),i}return t}(Error);function Le(e,t){if(!e)throw new ut(t)}var gb=["debug","log","warn","error","silent"],aI=gb.indexOf("log");function Ws(e){return function(){if(gb.indexOf(e)>=aI){var t=console[e]||console.log;return t.apply(console,arguments)}}}(function(e){e.debug=Ws("debug"),e.log=Ws("log"),e.warn=Ws("warn"),e.error=Ws("error")})(Le||(Le={}));function po(e){try{return e()}catch{}}const vm=po(function(){return globalThis})||po(function(){return window})||po(function(){return self})||po(function(){return global})||po(function(){return po.constructor("return this")()});var gm="__",bm=[gm,gm].join("DEV");function lI(){try{return!!__DEV__}catch{return Object.defineProperty(vm,bm,{value:po(function(){return"production"})!=="production",enumerable:!1,configurable:!0,writable:!0}),vm[bm]}}const Ic=lI();function En(e){try{return e()}catch{}}var _u=En(function(){return globalThis})||En(function(){return window})||En(function(){return self})||En(function(){return global})||En(function(){return En.constructor("return this")()}),Nu=!1;function cI(){_u&&!En(function(){return"production"})&&!En(function(){return process})&&(Object.defineProperty(_u,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),Nu=!0)}cI();function ym(){Nu&&(delete _u.process,Nu=!1)}function uI(){return ym()}function dI(){__DEV__?Le(typeof Ic=="boolean",Ic):Le(typeof Ic=="boolean",39)}uI();dI();function Ya(e,t){var o=e.directives;return!o||!o.length?!0:pI(o).every(function(i){var n=i.directive,r=i.ifArgument,s=!1;return r.value.kind==="Variable"?(s=t&&t[r.value.name.value],__DEV__?Le(s!==void 0,"Invalid variable referenced in @".concat(n.name.value," directive.")):Le(s!==void 0,40)):s=r.value.value,n.name.value==="skip"?!s:s})}function Pd(e,t,o){var i=new Set(e),n=i.size;return Yo(t,{Directive:function(r){if(i.delete(r.name.value)&&(!o||!i.size))return Id}}),o?!i.size:i.size<n}function hI(e){return e&&Pd(["client","export"],e,!0)}function fI(e){var t=e.name.value;return t==="skip"||t==="include"}function pI(e){var t=[];return e&&e.length&&e.forEach(function(o){if(fI(o)){var i=o.arguments,n=o.name.value;__DEV__?Le(i&&i.length===1,"Incorrect number of arguments for the @".concat(n," directive.")):Le(i&&i.length===1,41);var r=i[0];__DEV__?Le(r.name&&r.name.value==="if","Invalid argument for the @".concat(n," directive.")):Le(r.name&&r.name.value==="if",42);var s=r.value;__DEV__?Le(s&&(s.kind==="Variable"||s.kind==="BooleanValue"),"Argument for the @".concat(n," directive must be a variable or a boolean value.")):Le(s&&(s.kind==="Variable"||s.kind==="BooleanValue"),43),t.push({directive:o,ifArgument:r})}}),t}function mI(e,t){var o=t,i=[];e.definitions.forEach(function(r){if(r.kind==="OperationDefinition")throw __DEV__?new ut("Found a ".concat(r.operation," operation").concat(r.name?" named '".concat(r.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new ut(44);r.kind==="FragmentDefinition"&&i.push(r)}),typeof o>"u"&&(__DEV__?Le(i.length===1,"Found ".concat(i.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):Le(i.length===1,45),o=i[0].name.value);var n=Ae(Ae({},e),{definitions:Na([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:o}}]}}],e.definitions,!0)});return n}function Dd(e){e===void 0&&(e=[]);var t={};return e.forEach(function(o){t[o.name.value]=o}),t}function kd(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":{var o=e.name.value;if(typeof t=="function")return t(o);var i=t&&t[o];return __DEV__?Le(i,"No fragment named ".concat(o)):Le(i,46),i||null}default:return null}}function Et(e){return e!==null&&typeof e=="object"}function Fi(e){return{__ref:String(e)}}function ft(e){return!!(e&&typeof e=="object"&&typeof e.__ref=="string")}function vI(e){return Et(e)&&e.kind==="Document"&&Array.isArray(e.definitions)}function gI(e){return e.kind==="StringValue"}function bI(e){return e.kind==="BooleanValue"}function yI(e){return e.kind==="IntValue"}function wI(e){return e.kind==="FloatValue"}function EI(e){return e.kind==="Variable"}function AI(e){return e.kind==="ObjectValue"}function _I(e){return e.kind==="ListValue"}function NI(e){return e.kind==="EnumValue"}function CI(e){return e.kind==="NullValue"}function Qi(e,t,o,i){if(yI(o)||wI(o))e[t.value]=Number(o.value);else if(bI(o)||gI(o))e[t.value]=o.value;else if(AI(o)){var n={};o.fields.map(function(s){return Qi(n,s.name,s.value,i)}),e[t.value]=n}else if(EI(o)){var r=(i||{})[o.name.value];e[t.value]=r}else if(_I(o))e[t.value]=o.values.map(function(s){var c={};return Qi(c,t,s,i),c[t.value]});else if(NI(o))e[t.value]=o.value;else if(CI(o))e[t.value]=null;else throw __DEV__?new ut('The inline argument "'.concat(t.value,'" of kind "').concat(o.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new ut(55)}function SI(e,t){var o=null;e.directives&&(o={},e.directives.forEach(function(n){o[n.name.value]={},n.arguments&&n.arguments.forEach(function(r){var s=r.name,c=r.value;return Qi(o[n.name.value],s,c,t)})}));var i=null;return e.arguments&&e.arguments.length&&(i={},e.arguments.forEach(function(n){var r=n.name,s=n.value;return Qi(i,r,s,t)})),Od(e.name.value,i,o)}var xI=["connection","include","skip","client","rest","export"],Od=Object.assign(function(e,t,o){if(t&&o&&o.connection&&o.connection.key)if(o.connection.filter&&o.connection.filter.length>0){var i=o.connection.filter?o.connection.filter:[];i.sort();var n={};return i.forEach(function(c){n[c]=t[c]}),"".concat(o.connection.key,"(").concat(wr(n),")")}else return o.connection.key;var r=e;if(t){var s=wr(t);r+="(".concat(s,")")}return o&&Object.keys(o).forEach(function(c){xI.indexOf(c)===-1&&(o[c]&&Object.keys(o[c]).length?r+="@".concat(c,"(").concat(wr(o[c]),")"):r+="@".concat(c))}),r},{setStringify:function(e){var t=wr;return wr=e,t}}),wr=function(t){return JSON.stringify(t,II)};function II(e,t){return Et(t)&&!Array.isArray(t)&&(t=Object.keys(t).sort().reduce(function(o,i){return o[i]=t[i],o},{})),t}function Za(e,t){if(e.arguments&&e.arguments.length){var o={};return e.arguments.forEach(function(i){var n=i.name,r=i.value;return Qi(o,n,r,t)}),o}return null}function ii(e){return e.alias?e.alias.value:e.name.value}function Cu(e,t,o){if(typeof e.__typename=="string")return e.__typename;for(var i=0,n=t.selections;i<n.length;i++){var r=n[i];if(ri(r)){if(r.name.value==="__typename")return e[ii(r)]}else{var s=Cu(e,kd(r,o).selectionSet,o);if(typeof s=="string")return s}}}function ri(e){return e.kind==="Field"}function TI(e){return e.kind==="InlineFragment"}function Xa(e){__DEV__?Le(e&&e.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):Le(e&&e.kind==="Document",47);var t=e.definitions.filter(function(o){return o.kind!=="FragmentDefinition"}).map(function(o){if(o.kind!=="OperationDefinition")throw __DEV__?new ut('Schema type definitions not allowed in queries. Found: "'.concat(o.kind,'"')):new ut(48);return o});return __DEV__?Le(t.length<=1,"Ambiguous GraphQL document: contains ".concat(t.length," operations")):Le(t.length<=1,49),e}function cs(e){return Xa(e),e.definitions.filter(function(t){return t.kind==="OperationDefinition"})[0]}function Su(e){return e.definitions.filter(function(t){return t.kind==="OperationDefinition"&&!!t.name}).map(function(t){return t.name.value})[0]||null}function Md(e){return e.definitions.filter(function(t){return t.kind==="FragmentDefinition"})}function bb(e){var t=cs(e);return __DEV__?Le(t&&t.operation==="query","Must contain a query definition."):Le(t&&t.operation==="query",50),t}function RI(e){__DEV__?Le(e.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):Le(e.kind==="Document",51),__DEV__?Le(e.definitions.length<=1,"Fragment must have exactly one definition."):Le(e.definitions.length<=1,52);var t=e.definitions[0];return __DEV__?Le(t.kind==="FragmentDefinition","Must be a fragment definition."):Le(t.kind==="FragmentDefinition",53),t}function el(e){Xa(e);for(var t,o=0,i=e.definitions;o<i.length;o++){var n=i[o];if(n.kind==="OperationDefinition"){var r=n.operation;if(r==="query"||r==="mutation"||r==="subscription")return n}n.kind==="FragmentDefinition"&&!t&&(t=n)}if(t)return t;throw __DEV__?new ut("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new ut(54)}function Ld(e){var t=Object.create(null),o=e&&e.variableDefinitions;return o&&o.length&&o.forEach(function(i){i.defaultValue&&Qi(t,i.variable.name,i.defaultValue)}),t}var At=Array.isArray;function bo(e){return Array.isArray(e)&&e.length>0}var wm={kind:$e.FIELD,name:{kind:$e.NAME,value:"__typename"}};function yb(e,t){return!e||e.selectionSet.selections.every(function(o){return o.kind===$e.FRAGMENT_SPREAD&&yb(t[o.name.value],t)})}function PI(e){return yb(cs(e)||RI(e),Dd(Md(e)))?null:e}function DI(e){var t=new Set,o=[];return e.forEach(function(i){i.name?t.add(i.name):i.test&&o.push(i.test)}),function(i){return t.has(i.name.value)||o.some(function(n){return n(i)})}}function Em(e){var t=new Map;return function(i){i===void 0&&(i=e);var n=t.get(i);return n||t.set(i,n={variables:new Set,fragmentSpreads:new Set}),n}}function wb(e,t){for(var o=Em(""),i=Em(""),n=function(_){for(var y=0,w=void 0;y<_.length&&(w=_[y]);++y)if(!At(w)){if(w.kind===$e.OPERATION_DEFINITION)return o(w.name&&w.name.value);if(w.kind===$e.FRAGMENT_DEFINITION)return i(w.name.value)}return __DEV__&&Le.error("Could not find operation or fragment"),null},r=0,s=t.definitions.length-1;s>=0;--s)t.definitions[s].kind===$e.OPERATION_DEFINITION&&++r;var c=DI(e),a=e.some(function(_){return _.remove}),l=function(_){return a&&_&&_.some(c)},u=new Map,h=!1,f={enter:function(_){if(l(_.directives))return h=!0,null}},g=Yo(t,{Field:f,InlineFragment:f,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(_,y,w,I,k){var B=n(k);B&&B.variables.add(_.name.value)}},FragmentSpread:{enter:function(_,y,w,I,k){if(l(_.directives))return h=!0,null;var B=n(k);B&&B.fragmentSpreads.add(_.name.value)}},FragmentDefinition:{enter:function(_,y,w,I){u.set(JSON.stringify(I),_)},leave:function(_,y,w,I){var k=u.get(JSON.stringify(I));if(_===k)return _;if(r>0&&_.selectionSet.selections.every(function(B){return B.kind===$e.FIELD&&B.name.value==="__typename"}))return i(_.name.value).removed=!0,h=!0,null}},Directive:{leave:function(_){if(c(_))return h=!0,null}}});if(!h)return t;var b=function(_){return _.transitiveVars||(_.transitiveVars=new Set(_.variables),_.removed||_.fragmentSpreads.forEach(function(y){b(i(y)).transitiveVars.forEach(function(w){_.transitiveVars.add(w)})})),_},C=new Set;g.definitions.forEach(function(_){_.kind===$e.OPERATION_DEFINITION?b(o(_.name&&_.name.value)).fragmentSpreads.forEach(function(y){C.add(y)}):_.kind===$e.FRAGMENT_DEFINITION&&r===0&&!i(_.name.value).removed&&C.add(_.name.value)}),C.forEach(function(_){b(i(_)).fragmentSpreads.forEach(function(y){C.add(y)})});var T=function(_){return!!(!C.has(_)||i(_).removed)},S={enter:function(_){if(T(_.name.value))return null}};return PI(Yo(g,{FragmentSpread:S,FragmentDefinition:S,OperationDefinition:{leave:function(_){if(_.variableDefinitions){var y=b(o(_.name&&_.name.value)).transitiveVars;if(y.size<_.variableDefinitions.length)return Ae(Ae({},_),{variableDefinitions:_.variableDefinitions.filter(function(w){return y.has(w.variable.name.value)})})}}}}))}var Fd=Object.assign(function(e){return Yo(e,{SelectionSet:{enter:function(t,o,i){if(!(i&&i.kind===$e.OPERATION_DEFINITION)){var n=t.selections;if(n){var r=n.some(function(c){return ri(c)&&(c.name.value==="__typename"||c.name.value.lastIndexOf("__",0)===0)});if(!r){var s=i;if(!(ri(s)&&s.directives&&s.directives.some(function(c){return c.name.value==="export"})))return Ae(Ae({},t),{selections:Na(Na([],n,!0),[wm],!1)})}}}}}})},{added:function(e){return e===wm}}),kI={test:function(e){var t=e.name.value==="connection";return t&&(!e.arguments||!e.arguments.some(function(o){return o.name.value==="key"}))&&__DEV__&&Le.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key."),t}};function OI(e){return wb([kI],Xa(e))}function MI(e){var t=el(e),o=t.operation;if(o==="query")return e;var i=Yo(e,{OperationDefinition:{enter:function(n){return Ae(Ae({},n),{operation:"query"})}}});return i}function LI(e){Xa(e);var t=wb([{test:function(o){return o.name.value==="client"},remove:!0}],e);return t}var FI=Object.prototype.hasOwnProperty;function Am(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Bd(e)}function Bd(e){var t=e[0]||{},o=e.length;if(o>1)for(var i=new xn,n=1;n<o;++n)t=i.merge(t,e[n]);return t}var BI=function(e,t,o){return this.merge(e[o],t[o])},xn=function(){function e(t){t===void 0&&(t=BI),this.reconciler=t,this.isObject=Et,this.pastCopies=new Set}return e.prototype.merge=function(t,o){for(var i=this,n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return Et(o)&&Et(t)?(Object.keys(o).forEach(function(s){if(FI.call(t,s)){var c=t[s];if(o[s]!==c){var a=i.reconciler.apply(i,Na([t,o,s],n,!1));a!==c&&(t=i.shallowCopyForMerge(t),t[s]=a)}}else t=i.shallowCopyForMerge(t),t[s]=o[s]}),t):o},e.prototype.shallowCopyForMerge=function(t){return Et(t)&&(this.pastCopies.has(t)||(Array.isArray(t)?t=t.slice(0):t=Ae({__proto__:Object.getPrototypeOf(t)},t),this.pastCopies.add(t))),t},e}();function UI(e,t){var o=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(o)return(o=o.call(e)).next.bind(o);if(Array.isArray(e)||(o=$I(e))||t&&e&&typeof e.length=="number"){o&&(e=o);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $I(e,t){if(e){if(typeof e=="string")return _m(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _m(e,t)}}function _m(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,i=new Array(t);o<t;o++)i[o]=e[o];return i}function Nm(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ud(e,t,o){return t&&Nm(e.prototype,t),o&&Nm(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}var $d=function(){return typeof Symbol=="function"},jd=function(e){return $d()&&!!Symbol[e]},qd=function(e){return jd(e)?Symbol[e]:"@@"+e};$d()&&!jd("observable")&&(Symbol.observable=Symbol("observable"));var jI=qd("iterator"),xu=qd("observable"),Eb=qd("species");function Ia(e,t){var o=e[t];if(o!=null){if(typeof o!="function")throw new TypeError(o+" is not a function");return o}}function Er(e){var t=e.constructor;return t!==void 0&&(t=t[Eb],t===null&&(t=void 0)),t!==void 0?t:mt}function qI(e){return e instanceof mt}function Gi(e){Gi.log?Gi.log(e):setTimeout(function(){throw e})}function da(e){Promise.resolve().then(function(){try{e()}catch(t){Gi(t)}})}function Ab(e){var t=e._cleanup;if(t!==void 0&&(e._cleanup=void 0,!!t))try{if(typeof t=="function")t();else{var o=Ia(t,"unsubscribe");o&&o.call(t)}}catch(i){Gi(i)}}function Iu(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function VI(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var o=0;o<t.length&&(_b(e,t[o].type,t[o].value),e._state!=="closed");++o);}}function _b(e,t,o){e._state="running";var i=e._observer;try{var n=Ia(i,t);switch(t){case"next":n&&n.call(i,o);break;case"error":if(Iu(e),n)n.call(i,o);else throw o;break;case"complete":Iu(e),n&&n.call(i);break}}catch(r){Gi(r)}e._state==="closed"?Ab(e):e._state==="running"&&(e._state="ready")}function Tc(e,t,o){if(e._state!=="closed"){if(e._state==="buffering"){e._queue.push({type:t,value:o});return}if(e._state!=="ready"){e._state="buffering",e._queue=[{type:t,value:o}],da(function(){return VI(e)});return}_b(e,t,o)}}var HI=function(){function e(o,i){this._cleanup=void 0,this._observer=o,this._queue=void 0,this._state="initializing";var n=new zI(this);try{this._cleanup=i.call(void 0,n)}catch(r){n.error(r)}this._state==="initializing"&&(this._state="ready")}var t=e.prototype;return t.unsubscribe=function(){this._state!=="closed"&&(Iu(this),Ab(this))},Ud(e,[{key:"closed",get:function(){return this._state==="closed"}}]),e}(),zI=function(){function e(o){this._subscription=o}var t=e.prototype;return t.next=function(i){Tc(this._subscription,"next",i)},t.error=function(i){Tc(this._subscription,"error",i)},t.complete=function(){Tc(this._subscription,"complete")},Ud(e,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),e}(),mt=function(){function e(o){if(!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if(typeof o!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=o}var t=e.prototype;return t.subscribe=function(i){return(typeof i!="object"||i===null)&&(i={next:i,error:arguments[1],complete:arguments[2]}),new HI(i,this._subscriber)},t.forEach=function(i){var n=this;return new Promise(function(r,s){if(typeof i!="function"){s(new TypeError(i+" is not a function"));return}function c(){a.unsubscribe(),r()}var a=n.subscribe({next:function(l){try{i(l,c)}catch(u){s(u),a.unsubscribe()}},error:s,complete:r})})},t.map=function(i){var n=this;if(typeof i!="function")throw new TypeError(i+" is not a function");var r=Er(this);return new r(function(s){return n.subscribe({next:function(c){try{c=i(c)}catch(a){return s.error(a)}s.next(c)},error:function(c){s.error(c)},complete:function(){s.complete()}})})},t.filter=function(i){var n=this;if(typeof i!="function")throw new TypeError(i+" is not a function");var r=Er(this);return new r(function(s){return n.subscribe({next:function(c){try{if(!i(c))return}catch(a){return s.error(a)}s.next(c)},error:function(c){s.error(c)},complete:function(){s.complete()}})})},t.reduce=function(i){var n=this;if(typeof i!="function")throw new TypeError(i+" is not a function");var r=Er(this),s=arguments.length>1,c=!1,a=arguments[1],l=a;return new r(function(u){return n.subscribe({next:function(h){var f=!c;if(c=!0,!f||s)try{l=i(l,h)}catch(g){return u.error(g)}else l=h},error:function(h){u.error(h)},complete:function(){if(!c&&!s)return u.error(new TypeError("Cannot reduce an empty sequence"));u.next(l),u.complete()}})})},t.concat=function(){for(var i=this,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];var c=Er(this);return new c(function(a){var l,u=0;function h(f){l=f.subscribe({next:function(g){a.next(g)},error:function(g){a.error(g)},complete:function(){u===r.length?(l=void 0,a.complete()):h(c.from(r[u++]))}})}return h(i),function(){l&&(l.unsubscribe(),l=void 0)}})},t.flatMap=function(i){var n=this;if(typeof i!="function")throw new TypeError(i+" is not a function");var r=Er(this);return new r(function(s){var c=[],a=n.subscribe({next:function(u){if(i)try{u=i(u)}catch(f){return s.error(f)}var h=r.from(u).subscribe({next:function(f){s.next(f)},error:function(f){s.error(f)},complete:function(){var f=c.indexOf(h);f>=0&&c.splice(f,1),l()}});c.push(h)},error:function(u){s.error(u)},complete:function(){l()}});function l(){a.closed&&c.length===0&&s.complete()}return function(){c.forEach(function(u){return u.unsubscribe()}),a.unsubscribe()}})},t[xu]=function(){return this},e.from=function(i){var n=typeof this=="function"?this:e;if(i==null)throw new TypeError(i+" is not an object");var r=Ia(i,xu);if(r){var s=r.call(i);if(Object(s)!==s)throw new TypeError(s+" is not an object");return qI(s)&&s.constructor===n?s:new n(function(c){return s.subscribe(c)})}if(jd("iterator")&&(r=Ia(i,jI),r))return new n(function(c){da(function(){if(!c.closed){for(var a=UI(r.call(i)),l;!(l=a()).done;){var u=l.value;if(c.next(u),c.closed)return}c.complete()}})});if(Array.isArray(i))return new n(function(c){da(function(){if(!c.closed){for(var a=0;a<i.length;++a)if(c.next(i[a]),c.closed)return;c.complete()}})});throw new TypeError(i+" is not observable")},e.of=function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];var s=typeof this=="function"?this:e;return new s(function(c){da(function(){if(!c.closed){for(var a=0;a<n.length;++a)if(c.next(n[a]),c.closed)return;c.complete()}})})},Ud(e,null,[{key:Eb,get:function(){return this}}]),e}();$d()&&Object.defineProperty(mt,Symbol("extensions"),{value:{symbol:xu,hostReportError:Gi},configurable:!0});function QI(e){var t,o=e.Symbol;if(typeof o=="function")if(o.observable)t=o.observable;else{typeof o.for=="function"?t=o.for("https://github.com/benlesh/symbol-observable"):t=o("https://github.com/benlesh/symbol-observable");try{o.observable=t}catch{}}else t="@@observable";return t}var xi;typeof self<"u"?xi=self:typeof window<"u"?xi=window:typeof global<"u"?xi=global:typeof rd<"u"?xi=rd:xi=Function("return this")();QI(xi);var Cm=mt.prototype,Sm="@@observable";Cm[Sm]||(Cm[Sm]=function(){return this});var GI=Object.prototype.toString;function Nb(e){return Tu(e)}function Tu(e,t){switch(GI.call(e)){case"[object Array]":{if(t=t||new Map,t.has(e))return t.get(e);var o=e.slice(0);return t.set(e,o),o.forEach(function(n,r){o[r]=Tu(n,t)}),o}case"[object Object]":{if(t=t||new Map,t.has(e))return t.get(e);var i=Object.create(Object.getPrototypeOf(e));return t.set(e,i),Object.keys(e).forEach(function(n){i[n]=Tu(e[n],t)}),i}default:return e}}function KI(e){var t=new Set([e]);return t.forEach(function(o){Et(o)&&WI(o)===o&&Object.getOwnPropertyNames(o).forEach(function(i){Et(o[i])&&t.add(o[i])})}),e}function WI(e){if(__DEV__&&!Object.isFrozen(e))try{Object.freeze(e)}catch(t){if(t instanceof TypeError)return null;throw t}return e}function Ru(e){return __DEV__&&KI(e),e}function Ur(e,t,o){var i=[];e.forEach(function(n){return n[t]&&i.push(n)}),i.forEach(function(n){return n[t](o)})}function Rc(e,t,o){return new mt(function(i){var n=i.next,r=i.error,s=i.complete,c=0,a=!1,l={then:function(g){return new Promise(function(b){return b(g())})}};function u(g,b){return g?function(C){++c;var T=function(){return g(C)};l=l.then(T,T).then(function(S){--c,n&&n.call(i,S),a&&h.complete()},function(S){throw--c,S}).catch(function(S){r&&r.call(i,S)})}:function(C){return b&&b.call(i,C)}}var h={next:u(t,n),error:u(o,r),complete:function(){a=!0,c||s&&s.call(i)}},f=e.subscribe(h);return function(){return f.unsubscribe()}})}var ai=typeof WeakMap=="function"&&po(function(){return navigator.product})!=="ReactNative",JI=typeof WeakSet=="function",Cb=typeof Symbol=="function"&&typeof Symbol.for=="function",tl=Cb&&Symbol.asyncIterator;po(function(){return window.document.createElement});po(function(){return navigator.userAgent.indexOf("jsdom")>=0});function Sb(e){function t(o){Object.defineProperty(e,o,{value:mt})}return Cb&&Symbol.species&&t(Symbol.species),t("@@species"),e}function xm(e){return e&&typeof e.then=="function"}var Dr=function(e){co(t,e);function t(o){var i=e.call(this,function(n){return i.addObserver(n),function(){return i.removeObserver(n)}})||this;return i.observers=new Set,i.promise=new Promise(function(n,r){i.resolve=n,i.reject=r}),i.handlers={next:function(n){i.sub!==null&&(i.latest=["next",n],i.notify("next",n),Ur(i.observers,"next",n))},error:function(n){var r=i.sub;r!==null&&(r&&setTimeout(function(){return r.unsubscribe()}),i.sub=null,i.latest=["error",n],i.reject(n),i.notify("error",n),Ur(i.observers,"error",n))},complete:function(){var n=i,r=n.sub,s=n.sources,c=s===void 0?[]:s;if(r!==null){var a=c.shift();a?xm(a)?a.then(function(l){return i.sub=l.subscribe(i.handlers)}):i.sub=a.subscribe(i.handlers):(r&&setTimeout(function(){return r.unsubscribe()}),i.sub=null,i.latest&&i.latest[0]==="next"?i.resolve(i.latest[1]):i.resolve(),i.notify("complete"),Ur(i.observers,"complete"))}}},i.nextResultListeners=new Set,i.cancel=function(n){i.reject(n),i.sources=[],i.handlers.complete()},i.promise.catch(function(n){}),typeof o=="function"&&(o=[new mt(o)]),xm(o)?o.then(function(n){return i.start(n)},i.handlers.error):i.start(o),i}return t.prototype.start=function(o){this.sub===void 0&&(this.sources=Array.from(o),this.handlers.complete())},t.prototype.deliverLastMessage=function(o){if(this.latest){var i=this.latest[0],n=o[i];n&&n.call(o,this.latest[1]),this.sub===null&&i==="next"&&o.complete&&o.complete()}},t.prototype.addObserver=function(o){this.observers.has(o)||(this.deliverLastMessage(o),this.observers.add(o))},t.prototype.removeObserver=function(o){this.observers.delete(o)&&this.observers.size<1&&this.handlers.complete()},t.prototype.notify=function(o,i){var n=this.nextResultListeners;n.size&&(this.nextResultListeners=new Set,n.forEach(function(r){return r(o,i)}))},t.prototype.beforeNext=function(o){var i=!1;this.nextResultListeners.add(function(n,r){i||(i=!0,o(n,r))})},t}(mt);Sb(Dr);function Bi(e){return"incremental"in e}function YI(e){return"hasNext"in e&&"data"in e}function ZI(e){return Bi(e)||YI(e)}function xb(e,t){var o=e,i=new xn;return Bi(t)&&bo(t.incremental)&&t.incremental.forEach(function(n){for(var r=n.data,s=n.path,c=s.length-1;c>=0;--c){var a=s[c],l=!isNaN(+a),u=l?[]:{};u[a]=r,r=u}o=i.merge(o,r)}),o}function ha(e){var t=Pu(e);return bo(t)}function Pu(e){var t=bo(e.errors)?e.errors.slice(0):[];return Bi(e)&&bo(e.incremental)&&e.incremental.forEach(function(o){o.errors&&t.push.apply(t,o.errors)}),t}function ol(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=Object.create(null);return e.forEach(function(i){i&&Object.keys(i).forEach(function(n){var r=i[n];r!==void 0&&(o[n]=r)})}),o}var Im=new Map;function Du(e){var t=Im.get(e)||1;return Im.set(e,t+1),"".concat(e,":").concat(t,":").concat(Math.random().toString(36).slice(2))}function XI(e){var t=Du("stringifyForDisplay");return JSON.stringify(e,function(o,i){return i===void 0?t:i}).split(JSON.stringify(t)).join("<undefined>")}function Pc(e,t){return ol(e,t,t.variables&&{variables:Ae(Ae({},e&&e.variables),t.variables)})}function Tm(e){return new mt(function(t){t.error(e)})}var ku=function(e,t,o){var i=new Error(o);throw i.name="ServerError",i.response=e,i.statusCode=e.status,i.result=t,i};function eT(e){for(var t=["query","operationName","variables","extensions","context"],o=0,i=Object.keys(e);o<i.length;o++){var n=i[o];if(t.indexOf(n)<0)throw __DEV__?new ut("illegal argument: ".concat(n)):new ut(27)}return e}function tT(e,t){var o=Ae({},e),i=function(r){typeof r=="function"?o=Ae(Ae({},o),r(o)):o=Ae(Ae({},o),r)},n=function(){return Ae({},o)};return Object.defineProperty(t,"setContext",{enumerable:!1,value:i}),Object.defineProperty(t,"getContext",{enumerable:!1,value:n}),t}function oT(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName=typeof t.query!="string"?Su(t.query)||void 0:""),t}function Rm(e,t){return t?t(e):mt.of()}function Ar(e){return typeof e=="function"?new Ro(e):e}function Js(e){return e.request.length<=1}var nT=function(e){co(t,e);function t(o,i){var n=e.call(this,o)||this;return n.link=i,n}return t}(Error),Ro=function(){function e(t){t&&(this.request=t)}return e.empty=function(){return new e(function(){return mt.of()})},e.from=function(t){return t.length===0?e.empty():t.map(Ar).reduce(function(o,i){return o.concat(i)})},e.split=function(t,o,i){var n=Ar(o),r=Ar(i||new e(Rm));return Js(n)&&Js(r)?new e(function(s){return t(s)?n.request(s)||mt.of():r.request(s)||mt.of()}):new e(function(s,c){return t(s)?n.request(s,c)||mt.of():r.request(s,c)||mt.of()})},e.execute=function(t,o){return t.request(tT(o.context,oT(eT(o))))||mt.of()},e.concat=function(t,o){var i=Ar(t);if(Js(i))return __DEV__&&Le.warn(new nT("You are calling concat on a terminating link, which will have no effect",i)),i;var n=Ar(o);return Js(n)?new e(function(r){return i.request(r,function(s){return n.request(s)||mt.of()})||mt.of()}):new e(function(r,s){return i.request(r,function(c){return n.request(c,s)||mt.of()})||mt.of()})},e.prototype.split=function(t,o,i){return this.concat(e.split(t,o,i||new e(Rm)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(t,o){throw __DEV__?new ut("request is not implemented"):new ut(22)},e.prototype.onError=function(t,o){if(o&&o.error)return o.error(t),!1;throw t},e.prototype.setOnError=function(t){return this.onError=t,this},e}(),Ib=Ro.from,iT=Ro.split,Ou=Ro.execute,rT="3.7.10";function sT(e){return!!e.body}function aT(e){return!!e.getReader}function lT(e){return!!(tl&&e[Symbol.asyncIterator])}function cT(e){return!!e.stream}function uT(e){return!!e.arrayBuffer}function dT(e){return!!e.pipe}function hT(e){var t,o=e[Symbol.asyncIterator]();return t={next:function(){return o.next()}},t[Symbol.asyncIterator]=function(){return this},t}function fT(e){var t=null,o=null,i=!1,n=[],r=[];function s(h){if(!o){if(r.length){var f=r.shift();if(Array.isArray(f)&&f[0])return f[0]({value:h,done:!1})}n.push(h)}}function c(h){o=h;var f=r.slice();f.forEach(function(g){g[1](h)}),!t||t()}function a(){i=!0;var h=r.slice();h.forEach(function(f){f[0]({value:void 0,done:!0})}),!t||t()}t=function(){t=null,e.removeListener("data",s),e.removeListener("error",c),e.removeListener("end",a),e.removeListener("finish",a),e.removeListener("close",a)},e.on("data",s),e.on("error",c),e.on("end",a),e.on("finish",a),e.on("close",a);function l(){return new Promise(function(h,f){if(o)return f(o);if(n.length)return h({value:n.shift(),done:!1});if(i)return h({value:void 0,done:!0});r.push([h,f])})}var u={next:function(){return l()}};return tl&&(u[Symbol.asyncIterator]=function(){return this}),u}function pT(e){var t=!1,o={next:function(){return t?Promise.resolve({value:void 0,done:!0}):(t=!0,new Promise(function(i,n){e.then(function(r){i({value:r,done:!1})}).catch(n)}))}};return tl&&(o[Symbol.asyncIterator]=function(){return this}),o}function Pm(e){var t={next:function(){return e.read()}};return tl&&(t[Symbol.asyncIterator]=function(){return this}),t}function mT(e){var t=e;if(sT(e)&&(t=e.body),lT(t))return hT(t);if(aT(t))return Pm(t.getReader());if(cT(t))return Pm(t.stream().getReader());if(uT(t))return pT(t.arrayBuffer());if(dT(t))return fT(t);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var Dm=Object.prototype.hasOwnProperty;function vT(e,t){var o,i,n;return bn(this,void 0,void 0,function(){var r,s,c,a,l,u,h,f,g,b,C,T,S,_,y,w,I,k,B,H;return yn(this,function(P){switch(P.label){case 0:if(TextDecoder===void 0)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");r=new TextDecoder("utf-8"),s=(o=e.headers)===null||o===void 0?void 0:o.get("content-type"),c="boundary=",a=s!=null&&s.includes(c)?s==null?void 0:s.substring((s==null?void 0:s.indexOf(c))+c.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",l="--".concat(a),u="",h=mT(e),f=!0,P.label=1;case 1:return f?[4,h.next()]:[3,3];case 2:for(g=P.sent(),b=g.value,C=g.done,T=typeof b=="string"?b:r.decode(b),f=!C,u+=T,S=u.indexOf(l);S>-1;){if(_=void 0,H=[u.slice(0,S),u.slice(S+l.length)],_=H[0],u=H[1],_.trim()){if(y=_.indexOf(`\r
\r
`),w=gT(_.slice(0,y)),I=w["content-type"],I&&I.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");k=_.slice(y);try{B=Tb(e,k.replace(`\r
`,"")),(Object.keys(B).length>1||"data"in B||"incremental"in B||"errors"in B)&&((i=t.next)===null||i===void 0||i.call(t,B))}catch(R){Vd(R,t)}}S=u.indexOf(l)}return[3,1];case 3:return(n=t.complete)===null||n===void 0||n.call(t),[2]}})})}function gT(e){var t={};return e.split(`
`).forEach(function(o){var i=o.indexOf(":");if(i>-1){var n=o.slice(0,i).trim().toLowerCase(),r=o.slice(i+1).trim();t[n]=r}}),t}function Tb(e,t){if(e.status>=300){var o=function(){try{return JSON.parse(t)}catch{return t}};ku(e,o(),"Response not successful: Received status code ".concat(e.status))}try{return JSON.parse(t)}catch(n){var i=n;throw i.name="ServerParseError",i.response=e,i.statusCode=e.status,i.bodyText=t,i}}function Vd(e,t){var o,i;e.name!=="AbortError"&&(e.result&&e.result.errors&&e.result.data&&((o=t.next)===null||o===void 0||o.call(t,e.result)),(i=t.error)===null||i===void 0||i.call(t,e))}function bT(e,t,o){yT(t)(e).then(function(i){var n,r;(n=o.next)===null||n===void 0||n.call(o,i),(r=o.complete)===null||r===void 0||r.call(o)}).catch(function(i){return Vd(i,o)})}function yT(e){return function(t){return t.text().then(function(o){return Tb(t,o)}).then(function(o){return t.status>=300&&ku(t,o,"Response not successful: Received status code ".concat(t.status)),!Array.isArray(o)&&!Dm.call(o,"data")&&!Dm.call(o,"errors")&&ku(t,o,"Server response was missing for query '".concat(Array.isArray(e)?e.map(function(i){return i.operationName}):e.operationName,"'.")),o})}}var Mu=function(e,t){var o;try{o=JSON.stringify(e)}catch(n){var i=__DEV__?new ut("Network request failed. ".concat(t," is not serializable: ").concat(n.message)):new ut(24);throw i.parseError=n,i}return o},wT={includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},ET={accept:"*/*","content-type":"application/json"},AT={method:"POST"},_T={http:wT,headers:ET,options:AT},NT=function(e,t){return t(e)};function CT(e,t){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];var n={},r={};o.forEach(function(h){n=Ae(Ae(Ae({},n),h.options),{headers:Ae(Ae({},n.headers),h.headers)}),h.credentials&&(n.credentials=h.credentials),r=Ae(Ae({},r),h.http)}),n.headers&&(n.headers=ST(n.headers,r.preserveHeaderCase));var s=e.operationName,c=e.extensions,a=e.variables,l=e.query,u={operationName:s,variables:a};return r.includeExtensions&&(u.extensions=c),r.includeQuery&&(u.query=t(l,Xg)),{options:n,body:u}}function ST(e,t){if(!t){var o=Object.create(null);return Object.keys(Object(e)).forEach(function(r){o[r.toLowerCase()]=e[r]}),o}var i=Object.create(null);Object.keys(Object(e)).forEach(function(r){i[r.toLowerCase()]={originalName:r,value:e[r]}});var n=Object.create(null);return Object.keys(i).forEach(function(r){n[i[r].originalName]=i[r].value}),n}var xT=function(e){if(!e&&typeof fetch>"u")throw __DEV__?new ut(`
"fetch" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:

import fetch from 'cross-fetch';
import { ApolloClient, HttpLink } from '@apollo/client';
const client = new ApolloClient({
  link: new HttpLink({ uri: '/graphql', fetch })
});
    `):new ut(23)},IT=function(){if(typeof AbortController>"u")return{controller:!1,signal:!1};var e=new AbortController,t=e.signal;return{controller:e,signal:t}},TT=function(e,t){var o=e.getContext(),i=o.uri;return i||(typeof t=="function"?t(e):t||"/graphql")};function RT(e,t){var o=[],i=function(h,f){o.push("".concat(h,"=").concat(encodeURIComponent(f)))};if("query"in t&&i("query",t.query),t.operationName&&i("operationName",t.operationName),t.variables){var n=void 0;try{n=Mu(t.variables,"Variables map")}catch(h){return{parseError:h}}i("variables",n)}if(t.extensions){var r=void 0;try{r=Mu(t.extensions,"Extensions map")}catch(h){return{parseError:h}}i("extensions",r)}var s="",c=e,a=e.indexOf("#");a!==-1&&(s=e.substr(a),c=e.substr(0,a));var l=c.indexOf("?")===-1?"?":"&",u=c+l+o.join("&")+s;return{newURI:u}}var km=po(function(){return fetch}),Rb=function(e){e===void 0&&(e={});var t=e.uri,o=t===void 0?"/graphql":t,i=e.fetch,n=e.print,r=n===void 0?NT:n,s=e.includeExtensions,c=e.preserveHeaderCase,a=e.useGETForQueries,l=e.includeUnusedVariables,u=l===void 0?!1:l,h=oi(e,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);__DEV__&&xT(i||km);var f={http:{includeExtensions:s,preserveHeaderCase:c},options:h.fetchOptions,credentials:h.credentials,headers:h.headers};return new Ro(function(g){var b=TT(g,o),C=g.getContext(),T={};if(C.clientAwareness){var S=C.clientAwareness,_=S.name,y=S.version;_&&(T["apollographql-client-name"]=_),y&&(T["apollographql-client-version"]=y)}var w=Ae(Ae({},T),C.headers),I={http:C.http,options:C.fetchOptions,credentials:C.credentials,headers:w},k=CT(g,r,_T,f,I),B=k.options,H=k.body;if(H.variables&&!u){var P=new Set(Object.keys(H.variables));Yo(g.query,{Variable:function(_e,be,Ce){Ce&&Ce.kind!=="VariableDefinition"&&P.delete(_e.name.value)}}),P.size&&(H.variables=Ae({},H.variables),P.forEach(function(_e){delete H.variables[_e]}))}var R;if(!B.signal){var F=IT(),M=F.controller,G=F.signal;R=M,R&&(B.signal=G)}var E=function(_e){return _e.kind==="OperationDefinition"&&_e.operation==="mutation"};if(a&&!g.query.definitions.some(E)&&(B.method="GET"),Pd(["defer"],g.query)&&(B.headers=B.headers||{},B.headers.accept="multipart/mixed; deferSpec=20220824, application/json"),B.method==="GET"){var ne=RT(b,H),re=ne.newURI,Q=ne.parseError;if(Q)return Tm(Q);b=re}else try{B.body=Mu(H,"Payload")}catch(_e){return Tm(_e)}return new mt(function(_e){var be=i||po(function(){return fetch})||km;return be(b,B).then(function(Ce){var x;g.setContext({response:Ce});var $=(x=Ce.headers)===null||x===void 0?void 0:x.get("content-type");return $!==null&&/^multipart\/mixed/i.test($)?vT(Ce,_e):bT(Ce,g,_e)}).catch(function(Ce){return Vd(Ce,_e)}),function(){R&&R.abort()}})})},PT=function(e){co(t,e);function t(o){o===void 0&&(o={});var i=e.call(this,Rb(o).request)||this;return i.options=o,i}return t}(Ro),Pb=Object.prototype,Om=Pb.toString,DT=Pb.hasOwnProperty,Mm=Function.prototype.toString,Lu=new Map;function Pt(e,t){try{return Fu(e,t)}finally{Lu.clear()}}function Fu(e,t){if(e===t)return!0;var o=Om.call(e),i=Om.call(t);if(o!==i)return!1;switch(o){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":{if(Fm(e,t))return!0;var n=Lm(e),r=Lm(t),s=n.length;if(s!==r.length)return!1;for(var c=0;c<s;++c)if(!DT.call(t,n[c]))return!1;for(var c=0;c<s;++c){var a=n[c];if(!Fu(e[a],t[a]))return!1}return!0}case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!==e)return t!==t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e=="".concat(t);case"[object Map]":case"[object Set]":{if(e.size!==t.size)return!1;if(Fm(e,t))return!0;for(var l=e.entries(),u=o==="[object Map]";;){var h=l.next();if(h.done)break;var f=h.value,g=f[0],b=f[1];if(!t.has(g)||u&&!Fu(b,t.get(g)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":{var C=e.byteLength;if(C===t.byteLength)for(;C--&&e[C]===t[C];);return C===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{var T=Mm.call(e);return T!==Mm.call(t)?!1:!MT(T,OT)}}return!1}function Lm(e){return Object.keys(e).filter(kT,e)}function kT(e){return this[e]!==void 0}var OT="{ [native code] }";function MT(e,t){var o=e.length-t.length;return o>=0&&e.indexOf(t,o)===o}function Fm(e,t){var o=Lu.get(e);if(o){if(o.has(t))return!0}else Lu.set(e,o=new Set);return o.add(t),!1}var LT=function(){return Object.create(null)},Db=Array.prototype,FT=Db.forEach,BT=Db.slice,us=function(){function e(t,o){t===void 0&&(t=!0),o===void 0&&(o=LT),this.weakness=t,this.makeData=o}return e.prototype.lookup=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return this.lookupArray(t)},e.prototype.lookupArray=function(t){var o=this;return FT.call(t,function(i){return o=o.getChildTrie(i)}),o.data||(o.data=this.makeData(BT.call(t)))},e.prototype.getChildTrie=function(t){var o=this.weakness&&UT(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),i=o.get(t);return i||o.set(t,i=new e(this.weakness,this.makeData)),i},e}();function UT(e){switch(typeof e){case"object":if(e===null)break;case"function":return!0}return!1}var Ut=null,Bm={},$T=1,jT=function(){return function(){function e(){this.id=["slot",$T++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var t=Ut;t;t=t.parent)if(this.id in t.slots){var o=t.slots[this.id];if(o===Bm)break;return t!==Ut&&(Ut.slots[this.id]=o),!0}return Ut&&(Ut.slots[this.id]=Bm),!1},e.prototype.getValue=function(){if(this.hasValue())return Ut.slots[this.id]},e.prototype.withValue=function(t,o,i,n){var r,s=(r={__proto__:null},r[this.id]=t,r),c=Ut;Ut={parent:c,slots:s};try{return o.apply(n,i)}finally{Ut=c}},e.bind=function(t){var o=Ut;return function(){var i=Ut;try{return Ut=o,t.apply(this,arguments)}finally{Ut=i}}},e.noContext=function(t,o,i){if(Ut){var n=Ut;try{return Ut=null,t.apply(i,o)}finally{Ut=n}}else return t.apply(i,o)},e}()};function Um(e){try{return e()}catch{}}var Dc="@wry/context:Slot",qT=Um(function(){return globalThis})||Um(function(){return global})||Object.create(null),$m=qT,nl=$m[Dc]||Array[Dc]||function(e){try{Object.defineProperty($m,Dc,{value:e,enumerable:!1,writable:!1,configurable:!0})}finally{return e}}(jT());nl.bind;nl.noContext;function VT(){}var HT=function(){function e(t,o){t===void 0&&(t=1/0),o===void 0&&(o=VT),this.max=t,this.dispose=o,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(t){return this.map.has(t)},e.prototype.get=function(t){var o=this.getNode(t);return o&&o.value},e.prototype.getNode=function(t){var o=this.map.get(t);if(o&&o!==this.newest){var i=o.older,n=o.newer;n&&(n.older=i),i&&(i.newer=n),o.older=this.newest,o.older.newer=o,o.newer=null,this.newest=o,o===this.oldest&&(this.oldest=n)}return o},e.prototype.set=function(t,o){var i=this.getNode(t);return i?i.value=o:(i={key:t,value:o,newer:null,older:this.newest},this.newest&&(this.newest.newer=i),this.newest=i,this.oldest=this.oldest||i,this.map.set(t,i),i.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(t){var o=this.map.get(t);return o?(o===this.newest&&(this.newest=o.older),o===this.oldest&&(this.oldest=o.newer),o.newer&&(o.newer.older=o.older),o.older&&(o.older.newer=o.newer),this.map.delete(t),this.dispose(o.value,t),!0):!1},e}(),il=new nl,kc,zT=Object.prototype.hasOwnProperty,Hd=(kc=Array.from,kc===void 0?function(e){var t=[];return e.forEach(function(o){return t.push(o)}),t}:kc);function Ta(e){var t=e.unsubscribe;typeof t=="function"&&(e.unsubscribe=void 0,t())}var es=[],QT=100;function Ki(e,t){if(!e)throw new Error(t||"assertion failure")}function GT(e,t){var o=e.length;return o>0&&o===t.length&&e[o-1]===t[o-1]}function kb(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}function KT(e){return e.slice(0)}var WT=function(){function e(t){this.fn=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++e.count}return e.prototype.peek=function(){if(this.value.length===1&&!In(this))return jm(this),this.value[0]},e.prototype.recompute=function(t){return Ki(!this.recomputing,"already recomputing"),jm(this),In(this)?JT(this,t):kb(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Ob(this),Ta(this))},e.prototype.dispose=function(){var t=this;this.setDirty(),Ub(this),zd(this,function(o,i){o.setDirty(),$b(o,t)})},e.prototype.forget=function(){this.dispose()},e.prototype.dependOn=function(t){t.add(this),this.deps||(this.deps=es.pop()||new Set),this.deps.add(t)},e.prototype.forgetDeps=function(){var t=this;this.deps&&(Hd(this.deps).forEach(function(o){return o.delete(t)}),this.deps.clear(),es.push(this.deps),this.deps=null)},e.count=0,e}();function jm(e){var t=il.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),In(e)?Lb(t,e):Fb(t,e),t}function JT(e,t){return Ub(e),il.withValue(e,YT,[e,t]),XT(e,t)&&ZT(e),kb(e.value)}function YT(e,t){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,t)}catch(o){e.value[1]=o}e.recomputing=!1}function In(e){return e.dirty||!!(e.dirtyChildren&&e.dirtyChildren.size)}function ZT(e){e.dirty=!1,!In(e)&&Mb(e)}function Ob(e){zd(e,Lb)}function Mb(e){zd(e,Fb)}function zd(e,t){var o=e.parents.size;if(o)for(var i=Hd(e.parents),n=0;n<o;++n)t(i[n],e)}function Lb(e,t){Ki(e.childValues.has(t)),Ki(In(t));var o=!In(e);if(!e.dirtyChildren)e.dirtyChildren=es.pop()||new Set;else if(e.dirtyChildren.has(t))return;e.dirtyChildren.add(t),o&&Ob(e)}function Fb(e,t){Ki(e.childValues.has(t)),Ki(!In(t));var o=e.childValues.get(t);o.length===0?e.childValues.set(t,KT(t.value)):GT(o,t.value)||e.setDirty(),Bb(e,t),!In(e)&&Mb(e)}function Bb(e,t){var o=e.dirtyChildren;o&&(o.delete(t),o.size===0&&(es.length<QT&&es.push(o),e.dirtyChildren=null))}function Ub(e){e.childValues.size>0&&e.childValues.forEach(function(t,o){$b(e,o)}),e.forgetDeps(),Ki(e.dirtyChildren===null)}function $b(e,t){t.parents.delete(e),e.childValues.delete(t),Bb(e,t)}function XT(e,t){if(typeof e.subscribe=="function")try{Ta(e),e.unsubscribe=e.subscribe.apply(null,t)}catch{return e.setDirty(),!1}return!0}var e2={setDirty:!0,dispose:!0,forget:!0};function jb(e){var t=new Map,o=e&&e.subscribe;function i(n){var r=il.getValue();if(r){var s=t.get(n);s||t.set(n,s=new Set),r.dependOn(s),typeof o=="function"&&(Ta(s),s.unsubscribe=o(n))}}return i.dirty=function(r,s){var c=t.get(r);if(c){var a=s&&zT.call(e2,s)?s:"setDirty";Hd(c).forEach(function(l){return l[a]()}),t.delete(r),Ta(c)}},i}function qb(){var e=new us(typeof WeakMap=="function");return function(){return e.lookupArray(arguments)}}qb();var Oc=new Set;function Ra(e,t){t===void 0&&(t=Object.create(null));var o=new HT(t.max||Math.pow(2,16),function(l){return l.dispose()}),i=t.keyArgs,n=t.makeCacheKey||qb(),r=function(){var l=n.apply(null,i?i.apply(null,arguments):arguments);if(l===void 0)return e.apply(null,arguments);var u=o.get(l);u||(o.set(l,u=new WT(e)),u.subscribe=t.subscribe,u.forget=function(){return o.delete(l)});var h=u.recompute(Array.prototype.slice.call(arguments));return o.set(l,u),Oc.add(o),il.hasValue()||(Oc.forEach(function(f){return f.clean()}),Oc.clear()),h};Object.defineProperty(r,"size",{get:function(){return o.map.size},configurable:!1,enumerable:!1});function s(l){var u=o.get(l);u&&u.setDirty()}r.dirtyKey=s,r.dirty=function(){s(n.apply(null,arguments))};function c(l){var u=o.get(l);if(u)return u.peek()}r.peekKey=c,r.peek=function(){return c(n.apply(null,arguments))};function a(l){return o.delete(l)}return r.forgetKey=a,r.forget=function(){return a(n.apply(null,arguments))},r.makeCacheKey=n,r.getKey=i?function(){return n.apply(null,i.apply(null,arguments))}:n,Object.freeze(r)}var t2=function(){function e(){this.getFragmentDoc=Ra(mI)}return e.prototype.batch=function(t){var o=this,i=typeof t.optimistic=="string"?t.optimistic:t.optimistic===!1?null:void 0,n;return this.performTransaction(function(){return n=t.update(o)},i),n},e.prototype.recordOptimisticTransaction=function(t,o){this.performTransaction(t,o)},e.prototype.transformDocument=function(t){return t},e.prototype.transformForLink=function(t){return t},e.prototype.identify=function(t){},e.prototype.gc=function(){return[]},e.prototype.modify=function(t){return!1},e.prototype.readQuery=function(t,o){return o===void 0&&(o=!!t.optimistic),this.read(Ae(Ae({},t),{rootId:t.id||"ROOT_QUERY",optimistic:o}))},e.prototype.readFragment=function(t,o){return o===void 0&&(o=!!t.optimistic),this.read(Ae(Ae({},t),{query:this.getFragmentDoc(t.fragment,t.fragmentName),rootId:t.id,optimistic:o}))},e.prototype.writeQuery=function(t){var o=t.id,i=t.data,n=oi(t,["id","data"]);return this.write(Object.assign(n,{dataId:o||"ROOT_QUERY",result:i}))},e.prototype.writeFragment=function(t){var o=t.id,i=t.data,n=t.fragment,r=t.fragmentName,s=oi(t,["id","data","fragment","fragmentName"]);return this.write(Object.assign(s,{query:this.getFragmentDoc(n,r),dataId:o,result:i}))},e.prototype.updateQuery=function(t,o){return this.batch({update:function(i){var n=i.readQuery(t),r=o(n);return r==null?n:(i.writeQuery(Ae(Ae({},t),{data:r})),r)}})},e.prototype.updateFragment=function(t,o){return this.batch({update:function(i){var n=i.readFragment(t),r=o(n);return r==null?n:(i.writeFragment(Ae(Ae({},t),{data:r})),r)}})},e}(),Vb=function(e){co(t,e);function t(o,i,n,r){var s,c=e.call(this,o)||this;if(c.message=o,c.path=i,c.query=n,c.variables=r,Array.isArray(c.path)){c.missing=c.message;for(var a=c.path.length-1;a>=0;--a)c.missing=(s={},s[c.path[a]]=c.missing,s)}else c.missing=c.path;return c.__proto__=t.prototype,c}return t}(Error),Mt=Object.prototype.hasOwnProperty;function _r(e){return e==null}function Hb(e,t){var o=e.__typename,i=e.id,n=e._id;if(typeof o=="string"&&(t&&(t.keyObject=_r(i)?_r(n)?void 0:{_id:n}:{id:i}),_r(i)&&!_r(n)&&(i=n),!_r(i)))return"".concat(o,":").concat(typeof i=="number"||typeof i=="string"?i:JSON.stringify(i))}var zb={dataIdFromObject:Hb,addTypename:!0,resultCaching:!0,canonizeResults:!1};function o2(e){return ol(zb,e)}function Qb(e){var t=e.canonizeResults;return t===void 0?zb.canonizeResults:t}function n2(e,t){return ft(t)?e.get(t.__ref,"__typename"):t&&t.__typename}var Gb=/^[_a-z][_0-9a-z]*/i;function Tn(e){var t=e.match(Gb);return t?t[0]:e}function Bu(e,t,o){return Et(t)?At(t)?t.every(function(i){return Bu(e,i,o)}):e.selections.every(function(i){if(ri(i)&&Ya(i,o)){var n=ii(i);return Mt.call(t,n)&&(!i.selectionSet||Bu(i.selectionSet,t[n],o))}return!0}):!1}function Ri(e){return Et(e)&&!ft(e)&&!At(e)}function i2(){return new xn}function Kb(e,t){var o=Dd(Md(e));return{fragmentMap:o,lookupFragment:function(i){var n=o[i];return!n&&t&&(n=t.lookup(i)),n||null}}}var fa=Object.create(null),Mc=function(){return fa},qm=Object.create(null),ts=function(){function e(t,o){var i=this;this.policies=t,this.group=o,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(n,r){return Ru(ft(n)?i.get(n.__ref,r):n&&n[r])},this.canRead=function(n){return ft(n)?i.has(n.__ref):typeof n=="object"},this.toReference=function(n,r){if(typeof n=="string")return Fi(n);if(ft(n))return n;var s=i.policies.identify(n)[0];if(s){var c=Fi(s);return r&&i.merge(s,n),c}}}return e.prototype.toObject=function(){return Ae({},this.data)},e.prototype.has=function(t){return this.lookup(t,!0)!==void 0},e.prototype.get=function(t,o){if(this.group.depend(t,o),Mt.call(this.data,t)){var i=this.data[t];if(i&&Mt.call(i,o))return i[o]}if(o==="__typename"&&Mt.call(this.policies.rootTypenamesById,t))return this.policies.rootTypenamesById[t];if(this instanceof vn)return this.parent.get(t,o)},e.prototype.lookup=function(t,o){if(o&&this.group.depend(t,"__exists"),Mt.call(this.data,t))return this.data[t];if(this instanceof vn)return this.parent.lookup(t,o);if(this.policies.rootTypenamesById[t])return Object.create(null)},e.prototype.merge=function(t,o){var i=this,n;ft(t)&&(t=t.__ref),ft(o)&&(o=o.__ref);var r=typeof t=="string"?this.lookup(n=t):t,s=typeof o=="string"?this.lookup(n=o):o;if(s){__DEV__?Le(typeof n=="string","store.merge expects a string ID"):Le(typeof n=="string",1);var c=new xn(s2).merge(r,s);if(this.data[n]=c,c!==r&&(delete this.refs[n],this.group.caching)){var a=Object.create(null);r||(a.__exists=1),Object.keys(s).forEach(function(l){if(!r||r[l]!==c[l]){a[l]=1;var u=Tn(l);u!==l&&!i.policies.hasKeyArgs(c.__typename,u)&&(a[u]=1),c[l]===void 0&&!(i instanceof vn)&&delete c[l]}}),a.__typename&&!(r&&r.__typename)&&this.policies.rootTypenamesById[n]===c.__typename&&delete a.__typename,Object.keys(a).forEach(function(l){return i.group.dirty(n,l)})}}},e.prototype.modify=function(t,o){var i=this,n=this.lookup(t);if(n){var r=Object.create(null),s=!1,c=!0,a={DELETE:fa,INVALIDATE:qm,isReference:ft,toReference:this.toReference,canRead:this.canRead,readField:function(l,u){return i.policies.readField(typeof l=="string"?{fieldName:l,from:u||Fi(t)}:l,{store:i})}};if(Object.keys(n).forEach(function(l){var u=Tn(l),h=n[l];if(h!==void 0){var f=typeof o=="function"?o:o[l]||o[u];if(f){var g=f===Mc?fa:f(Ru(h),Ae(Ae({},a),{fieldName:u,storeFieldName:l,storage:i.getStorage(t,l)}));g===qm?i.group.dirty(t,l):(g===fa&&(g=void 0),g!==h&&(r[l]=g,s=!0,h=g))}h!==void 0&&(c=!1)}}),s)return this.merge(t,r),c&&(this instanceof vn?this.data[t]=void 0:delete this.data[t],this.group.dirty(t,"__exists")),!0}return!1},e.prototype.delete=function(t,o,i){var n,r=this.lookup(t);if(r){var s=this.getFieldValue(r,"__typename"),c=o&&i?this.policies.getStoreFieldName({typename:s,fieldName:o,args:i}):o;return this.modify(t,c?(n={},n[c]=Mc,n):Mc)}return!1},e.prototype.evict=function(t,o){var i=!1;return t.id&&(Mt.call(this.data,t.id)&&(i=this.delete(t.id,t.fieldName,t.args)),this instanceof vn&&this!==o&&(i=this.parent.evict(t,o)||i),(t.fieldName||i)&&this.group.dirty(t.id,t.fieldName||"__exists")),i},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var t=this,o=this.toObject(),i=[];return this.getRootIdSet().forEach(function(n){Mt.call(t.policies.rootTypenamesById,n)||i.push(n)}),i.length&&(o.__META={extraRootIds:i.sort()}),o},e.prototype.replace=function(t){var o=this;if(Object.keys(this.data).forEach(function(r){t&&Mt.call(t,r)||o.delete(r)}),t){var i=t.__META,n=oi(t,["__META"]);Object.keys(n).forEach(function(r){o.merge(r,n[r])}),i&&i.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(t){return this.rootIds[t]=(this.rootIds[t]||0)+1},e.prototype.release=function(t){if(this.rootIds[t]>0){var o=--this.rootIds[t];return o||delete this.rootIds[t],o}return 0},e.prototype.getRootIdSet=function(t){return t===void 0&&(t=new Set),Object.keys(this.rootIds).forEach(t.add,t),this instanceof vn?this.parent.getRootIdSet(t):Object.keys(this.policies.rootTypenamesById).forEach(t.add,t),t},e.prototype.gc=function(){var t=this,o=this.getRootIdSet(),i=this.toObject();o.forEach(function(s){Mt.call(i,s)&&(Object.keys(t.findChildRefIds(s)).forEach(o.add,o),delete i[s])});var n=Object.keys(i);if(n.length){for(var r=this;r instanceof vn;)r=r.parent;n.forEach(function(s){return r.delete(s)})}return n},e.prototype.findChildRefIds=function(t){if(!Mt.call(this.refs,t)){var o=this.refs[t]=Object.create(null),i=this.data[t];if(!i)return o;var n=new Set([i]);n.forEach(function(r){ft(r)&&(o[r.__ref]=!0),Et(r)&&Object.keys(r).forEach(function(s){var c=r[s];Et(c)&&n.add(c)})})}return this.refs[t]},e.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},e}(),Wb=function(){function e(t,o){o===void 0&&(o=null),this.caching=t,this.parent=o,this.d=null,this.resetCaching()}return e.prototype.resetCaching=function(){this.d=this.caching?jb():null,this.keyMaker=new us(ai)},e.prototype.depend=function(t,o){if(this.d){this.d(Lc(t,o));var i=Tn(o);i!==o&&this.d(Lc(t,i)),this.parent&&this.parent.depend(t,o)}},e.prototype.dirty=function(t,o){this.d&&this.d.dirty(Lc(t,o),o==="__exists"?"forget":"setDirty")},e}();function Lc(e,t){return t+"#"+e}function Vm(e,t){$r(e)&&e.group.depend(t,"__exists")}(function(e){var t=function(o){co(i,o);function i(n){var r=n.policies,s=n.resultCaching,c=s===void 0?!0:s,a=n.seed,l=o.call(this,r,new Wb(c))||this;return l.stump=new r2(l),l.storageTrie=new us(ai),a&&l.replace(a),l}return i.prototype.addLayer=function(n,r){return this.stump.addLayer(n,r)},i.prototype.removeLayer=function(){return this},i.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},i}(e);e.Root=t})(ts||(ts={}));var vn=function(e){co(t,e);function t(o,i,n,r){var s=e.call(this,i.policies,r)||this;return s.id=o,s.parent=i,s.replay=n,s.group=r,n(s),s}return t.prototype.addLayer=function(o,i){return new t(o,this,i,this.group)},t.prototype.removeLayer=function(o){var i=this,n=this.parent.removeLayer(o);return o===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(r){var s=i.data[r],c=n.lookup(r);c?s?s!==c&&Object.keys(s).forEach(function(a){Pt(s[a],c[a])||i.group.dirty(r,a)}):(i.group.dirty(r,"__exists"),Object.keys(c).forEach(function(a){i.group.dirty(r,a)})):i.delete(r)}),n):n===this.parent?this:n.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return Ae(Ae({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(o){var i=this.parent.findChildRefIds(o);return Mt.call(this.data,o)?Ae(Ae({},i),e.prototype.findChildRefIds.call(this,o)):i},t.prototype.getStorage=function(){for(var o=this.parent;o.parent;)o=o.parent;return o.getStorage.apply(o,arguments)},t}(ts),r2=function(e){co(t,e);function t(o){return e.call(this,"EntityStore.Stump",o,function(){},new Wb(o.group.caching,o.group))||this}return t.prototype.removeLayer=function(){return this},t.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},t}(vn);function s2(e,t,o){var i=e[o],n=t[o];return Pt(i,n)?i:n}function $r(e){return!!(e instanceof ts&&e.group.caching)}function a2(e){return Et(e)?At(e)?e.slice(0):Ae({__proto__:Object.getPrototypeOf(e)},e):e}var Uu=function(){function e(){this.known=new(JI?WeakSet:Set),this.pool=new us(ai),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return e.prototype.isKnown=function(t){return Et(t)&&this.known.has(t)},e.prototype.pass=function(t){if(Et(t)){var o=a2(t);return this.passes.set(o,t),o}return t},e.prototype.admit=function(t){var o=this;if(Et(t)){var i=this.passes.get(t);if(i)return i;var n=Object.getPrototypeOf(t);switch(n){case Array.prototype:{if(this.known.has(t))return t;var r=t.map(this.admit,this),s=this.pool.lookupArray(r);return s.array||(this.known.add(s.array=r),__DEV__&&Object.freeze(r)),s.array}case null:case Object.prototype:{if(this.known.has(t))return t;var c=Object.getPrototypeOf(t),a=[c],l=this.sortedKeys(t);a.push(l.json);var u=a.length;l.sorted.forEach(function(g){a.push(o.admit(t[g]))});var s=this.pool.lookupArray(a);if(!s.object){var h=s.object=Object.create(c);this.known.add(h),l.sorted.forEach(function(g,b){h[g]=a[u+b]}),__DEV__&&Object.freeze(h)}return s.object}}}return t},e.prototype.sortedKeys=function(t){var o=Object.keys(t),i=this.pool.lookupArray(o);if(!i.keys){o.sort();var n=JSON.stringify(o);(i.keys=this.keysByJSON.get(n))||this.keysByJSON.set(n,i.keys={sorted:o,json:n})}return i.keys},e}(),Xn=Object.assign(function(e){if(Et(e)){$u===void 0&&Hm();var t=$u.admit(e),o=ju.get(t);return o===void 0&&ju.set(t,o=JSON.stringify(t)),o}return JSON.stringify(e)},{reset:Hm}),$u,ju;function Hm(){$u=new Uu,ju=new(ai?WeakMap:Map)}function zm(e){return[e.selectionSet,e.objectOrReference,e.context,e.context.canonizeResults]}var l2=function(){function e(t){var o=this;this.knownResults=new(ai?WeakMap:Map),this.config=ol(t,{addTypename:t.addTypename!==!1,canonizeResults:Qb(t)}),this.canon=t.canon||new Uu,this.executeSelectionSet=Ra(function(i){var n,r=i.context.canonizeResults,s=zm(i);s[3]=!r;var c=(n=o.executeSelectionSet).peek.apply(n,s);return c?r?Ae(Ae({},c),{result:o.canon.admit(c.result)}):c:(Vm(i.context.store,i.enclosingRef.__ref),o.execSelectionSetImpl(i))},{max:this.config.resultCacheMaxSize,keyArgs:zm,makeCacheKey:function(i,n,r,s){if($r(r.store))return r.store.makeCacheKey(i,ft(n)?n.__ref:n,r.varString,s)}}),this.executeSubSelectedArray=Ra(function(i){return Vm(i.context.store,i.enclosingRef.__ref),o.execSubSelectedArrayImpl(i)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(i){var n=i.field,r=i.array,s=i.context;if($r(s.store))return s.store.makeCacheKey(n,r,s.varString)}})}return e.prototype.resetCanon=function(){this.canon=new Uu},e.prototype.diffQueryAgainstStore=function(t){var o=t.store,i=t.query,n=t.rootId,r=n===void 0?"ROOT_QUERY":n,s=t.variables,c=t.returnPartialData,a=c===void 0?!0:c,l=t.canonizeResults,u=l===void 0?this.config.canonizeResults:l,h=this.config.cache.policies;s=Ae(Ae({},Ld(bb(i))),s);var f=Fi(r),g=this.executeSelectionSet({selectionSet:el(i).selectionSet,objectOrReference:f,enclosingRef:f,context:Ae({store:o,query:i,policies:h,variables:s,varString:Xn(s),canonizeResults:u},Kb(i,this.config.fragments))}),b;if(g.missing&&(b=[new Vb(c2(g.missing),g.missing,i,s)],!a))throw b[0];return{result:g.result,complete:!b,missing:b}},e.prototype.isFresh=function(t,o,i,n){if($r(n.store)&&this.knownResults.get(t)===i){var r=this.executeSelectionSet.peek(i,o,n,this.canon.isKnown(t));if(r&&t===r.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(t){var o=this,i=t.selectionSet,n=t.objectOrReference,r=t.enclosingRef,s=t.context;if(ft(n)&&!s.policies.rootTypenamesById[n.__ref]&&!s.store.has(n.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(n.__ref," object")};var c=s.variables,a=s.policies,l=s.store,u=l.getFieldValue(n,"__typename"),h=[],f,g=new xn;this.config.addTypename&&typeof u=="string"&&!a.rootIdsByTypename[u]&&h.push({__typename:u});function b(y,w){var I;return y.missing&&(f=g.merge(f,(I={},I[w]=y.missing,I))),y.result}var C=new Set(i.selections);C.forEach(function(y){var w,I;if(Ya(y,c))if(ri(y)){var k=a.readField({fieldName:y.name.value,field:y,variables:s.variables,from:n},s),B=ii(y);k===void 0?Fd.added(y)||(f=g.merge(f,(w={},w[B]="Can't find field '".concat(y.name.value,"' on ").concat(ft(n)?n.__ref+" object":"object "+JSON.stringify(n,null,2)),w))):At(k)?k=b(o.executeSubSelectedArray({field:y,array:k,enclosingRef:r,context:s}),B):y.selectionSet?k!=null&&(k=b(o.executeSelectionSet({selectionSet:y.selectionSet,objectOrReference:k,enclosingRef:ft(k)?k:r,context:s}),B)):s.canonizeResults&&(k=o.canon.pass(k)),k!==void 0&&h.push((I={},I[B]=k,I))}else{var H=kd(y,s.lookupFragment);if(!H&&y.kind===$e.FRAGMENT_SPREAD)throw __DEV__?new ut("No fragment named ".concat(y.name.value)):new ut(5);H&&a.fragmentMatches(H,u)&&H.selectionSet.selections.forEach(C.add,C)}});var T=Bd(h),S={result:T,missing:f},_=s.canonizeResults?this.canon.admit(S):Ru(S);return _.result&&this.knownResults.set(_.result,i),_},e.prototype.execSubSelectedArrayImpl=function(t){var o=this,i=t.field,n=t.array,r=t.enclosingRef,s=t.context,c,a=new xn;function l(u,h){var f;return u.missing&&(c=a.merge(c,(f={},f[h]=u.missing,f))),u.result}return i.selectionSet&&(n=n.filter(s.store.canRead)),n=n.map(function(u,h){return u===null?null:At(u)?l(o.executeSubSelectedArray({field:i,array:u,enclosingRef:r,context:s}),h):i.selectionSet?l(o.executeSelectionSet({selectionSet:i.selectionSet,objectOrReference:u,enclosingRef:ft(u)?u:r,context:s}),h):(__DEV__&&u2(s.store,i,u),u)}),{result:s.canonizeResults?this.canon.admit(n):n,missing:c}},e}();function c2(e){try{JSON.stringify(e,function(t,o){if(typeof o=="string")throw o;return o})}catch(t){return t}}function u2(e,t,o){if(!t.selectionSet){var i=new Set([o]);i.forEach(function(n){Et(n)&&(__DEV__?Le(!ft(n),"Missing selection set for object of type ".concat(n2(e,n)," returned for query field ").concat(t.name.value)):Le(!ft(n),6),Object.values(n).forEach(i.add,i))})}}var Qd=new nl,Qm=new WeakMap;function jr(e){var t=Qm.get(e);return t||Qm.set(e,t={vars:new Set,dep:jb()}),t}function Gm(e){jr(e).vars.forEach(function(t){return t.forgetCache(e)})}function d2(e){jr(e).vars.forEach(function(t){return t.attachCache(e)})}function h2(e){var t=new Set,o=new Set,i=function(r){if(arguments.length>0){if(e!==r){e=r,t.forEach(function(a){jr(a).dep.dirty(i),f2(a)});var s=Array.from(o);o.clear(),s.forEach(function(a){return a(e)})}}else{var c=Qd.getValue();c&&(n(c),jr(c).dep(i))}return e};i.onNextChange=function(r){return o.add(r),function(){o.delete(r)}};var n=i.attachCache=function(r){return t.add(r),jr(r).vars.add(i),i};return i.forgetCache=function(r){return t.delete(r)},i}function f2(e){e.broadcastWatches&&e.broadcastWatches()}var Km=Object.create(null);function Gd(e){var t=JSON.stringify(e);return Km[t]||(Km[t]=Object.create(null))}function Wm(e){var t=Gd(e);return t.keyFieldsFn||(t.keyFieldsFn=function(o,i){var n=function(s,c){return i.readField(c,s)},r=i.keyObject=Kd(e,function(s){var c=Ui(i.storeObject,s,n);return c===void 0&&o!==i.storeObject&&Mt.call(o,s[0])&&(c=Ui(o,s,Yb)),__DEV__?Le(c!==void 0,"Missing field '".concat(s.join("."),"' while extracting keyFields from ").concat(JSON.stringify(o))):Le(c!==void 0,2),c});return"".concat(i.typename,":").concat(JSON.stringify(r))})}function Jm(e){var t=Gd(e);return t.keyArgsFn||(t.keyArgsFn=function(o,i){var n=i.field,r=i.variables,s=i.fieldName,c=Kd(e,function(l){var u=l[0],h=u.charAt(0);if(h==="@"){if(n&&bo(n.directives)){var f=u.slice(1),g=n.directives.find(function(S){return S.name.value===f}),b=g&&Za(g,r);return b&&Ui(b,l.slice(1))}return}if(h==="$"){var C=u.slice(1);if(r&&Mt.call(r,C)){var T=l.slice(0);return T[0]=C,Ui(r,T)}return}if(o)return Ui(o,l)}),a=JSON.stringify(c);return(o||a!=="{}")&&(s+=":"+a),s})}function Kd(e,t){var o=new xn;return Jb(e).reduce(function(i,n){var r,s=t(n);if(s!==void 0){for(var c=n.length-1;c>=0;--c)s=(r={},r[n[c]]=s,r);i=o.merge(i,s)}return i},Object.create(null))}function Jb(e){var t=Gd(e);if(!t.paths){var o=t.paths=[],i=[];e.forEach(function(n,r){At(n)?(Jb(n).forEach(function(s){return o.push(i.concat(s))}),i.length=0):(i.push(n),At(e[r+1])||(o.push(i.slice(0)),i.length=0))})}return t.paths}function Yb(e,t){return e[t]}function Ui(e,t,o){return o=o||Yb,Zb(t.reduce(function i(n,r){return At(n)?n.map(function(s){return i(s,r)}):n&&o(n,r)},e))}function Zb(e){return Et(e)?At(e)?e.map(Zb):Kd(Object.keys(e).sort(),function(t){return Ui(e,t)}):e}Od.setStringify(Xn);function qu(e){return e.args!==void 0?e.args:e.field?Za(e.field,e.variables):null}var p2=function(){},Ym=function(e,t){return t.fieldName},Zm=function(e,t,o){var i=o.mergeObjects;return i(e,t)},Xm=function(e,t){return t},m2=function(){function e(t){this.config=t,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=Ae({dataIdFromObject:Hb},t),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),t.possibleTypes&&this.addPossibleTypes(t.possibleTypes),t.typePolicies&&this.addTypePolicies(t.typePolicies)}return e.prototype.identify=function(t,o){var i,n=this,r=o&&(o.typename||((i=o.storeObject)===null||i===void 0?void 0:i.__typename))||t.__typename;if(r===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var s=o&&o.storeObject||t,c=Ae(Ae({},o),{typename:r,storeObject:s,readField:o&&o.readField||function(){var f=Wd(arguments,s);return n.readField(f,{store:n.cache.data,variables:f.variables})}}),a,l=r&&this.getTypePolicy(r),u=l&&l.keyFn||this.config.dataIdFromObject;u;){var h=u(t,c);if(At(h))u=Wm(h);else{a=h;break}}return a=a?String(a):void 0,c.keyObject?[a,c.keyObject]:[a]},e.prototype.addTypePolicies=function(t){var o=this;Object.keys(t).forEach(function(i){var n=t[i],r=n.queryType,s=n.mutationType,c=n.subscriptionType,a=oi(n,["queryType","mutationType","subscriptionType"]);r&&o.setRootTypename("Query",i),s&&o.setRootTypename("Mutation",i),c&&o.setRootTypename("Subscription",i),Mt.call(o.toBeAdded,i)?o.toBeAdded[i].push(a):o.toBeAdded[i]=[a]})},e.prototype.updateTypePolicy=function(t,o){var i=this,n=this.getTypePolicy(t),r=o.keyFields,s=o.fields;function c(a,l){a.merge=typeof l=="function"?l:l===!0?Zm:l===!1?Xm:a.merge}c(n,o.merge),n.keyFn=r===!1?p2:At(r)?Wm(r):typeof r=="function"?r:n.keyFn,s&&Object.keys(s).forEach(function(a){var l=i.getFieldPolicy(t,a,!0),u=s[a];if(typeof u=="function")l.read=u;else{var h=u.keyArgs,f=u.read,g=u.merge;l.keyFn=h===!1?Ym:At(h)?Jm(h):typeof h=="function"?h:l.keyFn,typeof f=="function"&&(l.read=f),c(l,g)}l.read&&l.merge&&(l.keyFn=l.keyFn||Ym)})},e.prototype.setRootTypename=function(t,o){o===void 0&&(o=t);var i="ROOT_"+t.toUpperCase(),n=this.rootTypenamesById[i];o!==n&&(__DEV__?Le(!n||n===t,"Cannot change root ".concat(t," __typename more than once")):Le(!n||n===t,3),n&&delete this.rootIdsByTypename[n],this.rootIdsByTypename[o]=i,this.rootTypenamesById[i]=o)},e.prototype.addPossibleTypes=function(t){var o=this;this.usingPossibleTypes=!0,Object.keys(t).forEach(function(i){o.getSupertypeSet(i,!0),t[i].forEach(function(n){o.getSupertypeSet(n,!0).add(i);var r=n.match(Gb);(!r||r[0]!==n)&&o.fuzzySubtypes.set(n,new RegExp(n))})})},e.prototype.getTypePolicy=function(t){var o=this;if(!Mt.call(this.typePolicies,t)){var i=this.typePolicies[t]=Object.create(null);i.fields=Object.create(null);var n=this.supertypeMap.get(t);n&&n.size&&n.forEach(function(s){var c=o.getTypePolicy(s),a=c.fields,l=oi(c,["fields"]);Object.assign(i,l),Object.assign(i.fields,a)})}var r=this.toBeAdded[t];return r&&r.length&&r.splice(0).forEach(function(s){o.updateTypePolicy(t,s)}),this.typePolicies[t]},e.prototype.getFieldPolicy=function(t,o,i){if(t){var n=this.getTypePolicy(t).fields;return n[o]||i&&(n[o]=Object.create(null))}},e.prototype.getSupertypeSet=function(t,o){var i=this.supertypeMap.get(t);return!i&&o&&this.supertypeMap.set(t,i=new Set),i},e.prototype.fragmentMatches=function(t,o,i,n){var r=this;if(!t.typeCondition)return!0;if(!o)return!1;var s=t.typeCondition.name.value;if(o===s)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(s))for(var c=this.getSupertypeSet(o,!0),a=[c],l=function(b){var C=r.getSupertypeSet(b,!1);C&&C.size&&a.indexOf(C)<0&&a.push(C)},u=!!(i&&this.fuzzySubtypes.size),h=!1,f=0;f<a.length;++f){var g=a[f];if(g.has(s))return c.has(s)||(h&&__DEV__&&Le.warn("Inferring subtype ".concat(o," of supertype ").concat(s)),c.add(s)),!0;g.forEach(l),u&&f===a.length-1&&Bu(t.selectionSet,i,n)&&(u=!1,h=!0,this.fuzzySubtypes.forEach(function(b,C){var T=o.match(b);T&&T[0]===o&&l(C)}))}return!1},e.prototype.hasKeyArgs=function(t,o){var i=this.getFieldPolicy(t,o,!1);return!!(i&&i.keyFn)},e.prototype.getStoreFieldName=function(t){var o=t.typename,i=t.fieldName,n=this.getFieldPolicy(o,i,!1),r,s=n&&n.keyFn;if(s&&o)for(var c={typename:o,fieldName:i,field:t.field||null,variables:t.variables},a=qu(t);s;){var l=s(a,c);if(At(l))s=Jm(l);else{r=l||i;break}}return r===void 0&&(r=t.field?SI(t.field,t.variables):Od(i,qu(t))),r===!1?i:i===Tn(r)?r:i+":"+r},e.prototype.readField=function(t,o){var i=t.from;if(i){var n=t.field||t.fieldName;if(n){if(t.typename===void 0){var r=o.store.getFieldValue(i,"__typename");r&&(t.typename=r)}var s=this.getStoreFieldName(t),c=Tn(s),a=o.store.getFieldValue(i,s),l=this.getFieldPolicy(t.typename,c,!1),u=l&&l.read;if(u){var h=ev(this,i,t,o,o.store.getStorage(ft(i)?i.__ref:i,s));return Qd.withValue(this.cache,u,[a,h])}return a}}},e.prototype.getReadFunction=function(t,o){var i=this.getFieldPolicy(t,o,!1);return i&&i.read},e.prototype.getMergeFunction=function(t,o,i){var n=this.getFieldPolicy(t,o,!1),r=n&&n.merge;return!r&&i&&(n=this.getTypePolicy(i),r=n&&n.merge),r},e.prototype.runMergeFunction=function(t,o,i,n,r){var s=i.field,c=i.typename,a=i.merge;return a===Zm?Xb(n.store)(t,o):a===Xm?o:(n.overwrite&&(t=void 0),a(t,o,ev(this,void 0,{typename:c,fieldName:s.name.value,field:s,variables:n.variables},n,r||Object.create(null))))},e}();function ev(e,t,o,i,n){var r=e.getStoreFieldName(o),s=Tn(r),c=o.variables||i.variables,a=i.store,l=a.toReference,u=a.canRead;return{args:qu(o),field:o.field||null,fieldName:s,storeFieldName:r,variables:c,isReference:ft,toReference:l,storage:n,cache:e.cache,canRead:u,readField:function(){return e.readField(Wd(arguments,t,c),i)},mergeObjects:Xb(i.store)}}function Wd(e,t,o){var i=e[0],n=e[1],r=e.length,s;return typeof i=="string"?s={fieldName:i,from:r>1?n:t}:(s=Ae({},i),Mt.call(s,"from")||(s.from=t)),__DEV__&&s.from===void 0&&__DEV__&&Le.warn("Undefined 'from' passed to readField with arguments ".concat(XI(Array.from(e)))),s.variables===void 0&&(s.variables=o),s}function Xb(e){return function(o,i){if(At(o)||At(i))throw __DEV__?new ut("Cannot automatically merge arrays"):new ut(4);if(Et(o)&&Et(i)){var n=e.getFieldValue(o,"__typename"),r=e.getFieldValue(i,"__typename"),s=n&&r&&n!==r;if(s)return i;if(ft(o)&&Ri(i))return e.merge(o.__ref,i),o;if(Ri(o)&&ft(i))return e.merge(o,i.__ref),i;if(Ri(o)&&Ri(i))return Ae(Ae({},o),i)}return i}}function Fc(e,t,o){var i="".concat(t).concat(o),n=e.flavors.get(i);return n||e.flavors.set(i,n=e.clientOnly===t&&e.deferred===o?e:Ae(Ae({},e),{clientOnly:t,deferred:o})),n}var v2=function(){function e(t,o,i){this.cache=t,this.reader=o,this.fragments=i}return e.prototype.writeToStore=function(t,o){var i=this,n=o.query,r=o.result,s=o.dataId,c=o.variables,a=o.overwrite,l=cs(n),u=i2();c=Ae(Ae({},Ld(l)),c);var h=Ae(Ae({store:t,written:Object.create(null),merge:function(g,b){return u.merge(g,b)},variables:c,varString:Xn(c)},Kb(n,this.fragments)),{overwrite:!!a,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),f=this.processSelectionSet({result:r||Object.create(null),dataId:s,selectionSet:l.selectionSet,mergeTree:{map:new Map},context:h});if(!ft(f))throw __DEV__?new ut("Could not identify object ".concat(JSON.stringify(r))):new ut(7);return h.incomingById.forEach(function(g,b){var C=g.storeObject,T=g.mergeTree,S=g.fieldNodeSet,_=Fi(b);if(T&&T.map.size){var y=i.applyMerges(T,_,C,h);if(ft(y))return;C=y}if(__DEV__&&!h.overwrite){var w=Object.create(null);S.forEach(function(B){B.selectionSet&&(w[B.name.value]=!0)});var I=function(B){return w[Tn(B)]===!0},k=function(B){var H=T&&T.map.get(B);return!!(H&&H.info&&H.info.merge)};Object.keys(C).forEach(function(B){I(B)&&!k(B)&&g2(_,C,B,h.store)})}t.merge(b,C)}),t.retain(f.__ref),f},e.prototype.processSelectionSet=function(t){var o=this,i=t.dataId,n=t.result,r=t.selectionSet,s=t.context,c=t.mergeTree,a=this.cache.policies,l=Object.create(null),u=i&&a.rootTypenamesById[i]||Cu(n,r,s.fragmentMap)||i&&s.store.get(i,"__typename");typeof u=="string"&&(l.__typename=u);var h=function(){var y=Wd(arguments,l,s.variables);if(ft(y.from)){var w=s.incomingById.get(y.from.__ref);if(w){var I=a.readField(Ae(Ae({},y),{from:w.storeObject}),s);if(I!==void 0)return I}}return a.readField(y,s)},f=new Set;this.flattenFields(r,n,s,u).forEach(function(y,w){var I,k=ii(w),B=n[k];if(f.add(w),B!==void 0){var H=a.getStoreFieldName({typename:u,fieldName:w.name.value,field:w,variables:y.variables}),P=tv(c,H),R=o.processFieldValue(B,w,w.selectionSet?Fc(y,!1,!1):y,P),F=void 0;w.selectionSet&&(ft(R)||Ri(R))&&(F=h("__typename",R));var M=a.getMergeFunction(u,w.name.value,F);M?P.info={field:w,typename:u,merge:M}:ov(c,H),l=y.merge(l,(I={},I[H]=R,I))}else __DEV__&&!y.clientOnly&&!y.deferred&&!Fd.added(w)&&!a.getReadFunction(u,w.name.value)&&__DEV__&&Le.error("Missing field '".concat(ii(w),"' while writing result ").concat(JSON.stringify(n,null,2)).substring(0,1e3))});try{var g=a.identify(n,{typename:u,selectionSet:r,fragmentMap:s.fragmentMap,storeObject:l,readField:h}),b=g[0],C=g[1];i=i||b,C&&(l=s.merge(l,C))}catch(y){if(!i)throw y}if(typeof i=="string"){var T=Fi(i),S=s.written[i]||(s.written[i]=[]);if(S.indexOf(r)>=0||(S.push(r),this.reader&&this.reader.isFresh(n,T,r,s)))return T;var _=s.incomingById.get(i);return _?(_.storeObject=s.merge(_.storeObject,l),_.mergeTree=Vu(_.mergeTree,c),f.forEach(function(y){return _.fieldNodeSet.add(y)})):s.incomingById.set(i,{storeObject:l,mergeTree:Pa(c)?void 0:c,fieldNodeSet:f}),T}return l},e.prototype.processFieldValue=function(t,o,i,n){var r=this;return!o.selectionSet||t===null?__DEV__?Nb(t):t:At(t)?t.map(function(s,c){var a=r.processFieldValue(s,o,i,tv(n,c));return ov(n,c),a}):this.processSelectionSet({result:t,selectionSet:o.selectionSet,context:i,mergeTree:n})},e.prototype.flattenFields=function(t,o,i,n){n===void 0&&(n=Cu(o,t,i.fragmentMap));var r=new Map,s=this.cache.policies,c=new us(!1);return function a(l,u){var h=c.lookup(l,u.clientOnly,u.deferred);h.visited||(h.visited=!0,l.selections.forEach(function(f){if(Ya(f,i.variables)){var g=u.clientOnly,b=u.deferred;if(!(g&&b)&&bo(f.directives)&&f.directives.forEach(function(S){var _=S.name.value;if(_==="client"&&(g=!0),_==="defer"){var y=Za(S,i.variables);(!y||y.if!==!1)&&(b=!0)}}),ri(f)){var C=r.get(f);C&&(g=g&&C.clientOnly,b=b&&C.deferred),r.set(f,Fc(i,g,b))}else{var T=kd(f,i.lookupFragment);if(!T&&f.kind===$e.FRAGMENT_SPREAD)throw __DEV__?new ut("No fragment named ".concat(f.name.value)):new ut(8);T&&s.fragmentMatches(T,n,o,i.variables)&&a(T.selectionSet,Fc(i,g,b))}}}))}(t,i),r},e.prototype.applyMerges=function(t,o,i,n,r){var s,c=this;if(t.map.size&&!ft(i)){var a=!At(i)&&(ft(o)||Ri(o))?o:void 0,l=i;a&&!r&&(r=[ft(a)?a.__ref:a]);var u,h=function(f,g){return At(f)?typeof g=="number"?f[g]:void 0:n.store.getFieldValue(f,String(g))};t.map.forEach(function(f,g){var b=h(a,g),C=h(l,g);if(C!==void 0){r&&r.push(g);var T=c.applyMerges(f,b,C,n,r);T!==C&&(u=u||new Map,u.set(g,T)),r&&Le(r.pop()===g)}}),u&&(i=At(l)?l.slice(0):Ae({},l),u.forEach(function(f,g){i[g]=f}))}return t.info?this.cache.policies.runMergeFunction(o,i,t.info,n,r&&(s=n.store).getStorage.apply(s,r)):i},e}(),ey=[];function tv(e,t){var o=e.map;return o.has(t)||o.set(t,ey.pop()||{map:new Map}),o.get(t)}function Vu(e,t){if(e===t||!t||Pa(t))return e;if(!e||Pa(e))return t;var o=e.info&&t.info?Ae(Ae({},e.info),t.info):e.info||t.info,i=e.map.size&&t.map.size,n=i?new Map:e.map.size?e.map:t.map,r={info:o,map:n};if(i){var s=new Set(t.map.keys());e.map.forEach(function(c,a){r.map.set(a,Vu(c,t.map.get(a))),s.delete(a)}),s.forEach(function(c){r.map.set(c,Vu(t.map.get(c),e.map.get(c)))})}return r}function Pa(e){return!e||!(e.info||e.map.size)}function ov(e,t){var o=e.map,i=o.get(t);i&&Pa(i)&&(ey.push(i),o.delete(t))}var nv=new Set;function g2(e,t,o,i){var n=function(h){var f=i.getFieldValue(h,o);return typeof f=="object"&&f},r=n(e);if(r){var s=n(t);if(s&&!ft(r)&&!Pt(r,s)&&!Object.keys(r).every(function(h){return i.getFieldValue(s,h)!==void 0})){var c=i.getFieldValue(e,"__typename")||i.getFieldValue(t,"__typename"),a=Tn(o),l="".concat(c,".").concat(a);if(!nv.has(l)){nv.add(l);var u=[];!At(r)&&!At(s)&&[r,s].forEach(function(h){var f=i.getFieldValue(h,"__typename");typeof f=="string"&&!u.includes(f)&&u.push(f)}),__DEV__&&Le.warn("Cache data may be lost when replacing the ".concat(a," field of a ").concat(c,` object.

To address this problem (which is not a bug in Apollo Client), `).concat(u.length?"either ensure all objects of type "+u.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(l,` field, so InMemoryCache can safely merge these objects:

  existing: `).concat(JSON.stringify(r).slice(0,1e3),`
  incoming: `).concat(JSON.stringify(s).slice(0,1e3),`

For more information about these options, please refer to the documentation:

  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers
  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects
`))}}}}var b2=function(e){co(t,e);function t(o){o===void 0&&(o={});var i=e.call(this)||this;return i.watches=new Set,i.typenameDocumentCache=new Map,i.makeVar=h2,i.txCount=0,i.config=o2(o),i.addTypename=!!i.config.addTypename,i.policies=new m2({cache:i,dataIdFromObject:i.config.dataIdFromObject,possibleTypes:i.config.possibleTypes,typePolicies:i.config.typePolicies}),i.init(),i}return t.prototype.init=function(){var o=this.data=new ts.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=o.stump,this.resetResultCache()},t.prototype.resetResultCache=function(o){var i=this,n=this.storeReader,r=this.config.fragments;this.storeWriter=new v2(this,this.storeReader=new l2({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:Qb(this.config),canon:o?void 0:n&&n.canon,fragments:r}),r),this.maybeBroadcastWatch=Ra(function(s,c){return i.broadcastWatch(s,c)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(s){var c=s.optimistic?i.optimisticData:i.data;if($r(c)){var a=s.optimistic,l=s.id,u=s.variables;return c.makeCacheKey(s.query,s.callback,Xn({optimistic:a,id:l,variables:u}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(s){return s.resetCaching()})},t.prototype.restore=function(o){return this.init(),o&&this.data.replace(o),this},t.prototype.extract=function(o){return o===void 0&&(o=!1),(o?this.optimisticData:this.data).extract()},t.prototype.read=function(o){var i=o.returnPartialData,n=i===void 0?!1:i;try{return this.storeReader.diffQueryAgainstStore(Ae(Ae({},o),{store:o.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:n})).result||null}catch(r){if(r instanceof Vb)return null;throw r}},t.prototype.write=function(o){try{return++this.txCount,this.storeWriter.writeToStore(this.data,o)}finally{!--this.txCount&&o.broadcast!==!1&&this.broadcastWatches()}},t.prototype.modify=function(o){if(Mt.call(o,"id")&&!o.id)return!1;var i=o.optimistic?this.optimisticData:this.data;try{return++this.txCount,i.modify(o.id||"ROOT_QUERY",o.fields)}finally{!--this.txCount&&o.broadcast!==!1&&this.broadcastWatches()}},t.prototype.diff=function(o){return this.storeReader.diffQueryAgainstStore(Ae(Ae({},o),{store:o.optimistic?this.optimisticData:this.data,rootId:o.id||"ROOT_QUERY",config:this.config}))},t.prototype.watch=function(o){var i=this;return this.watches.size||d2(this),this.watches.add(o),o.immediate&&this.maybeBroadcastWatch(o),function(){i.watches.delete(o)&&!i.watches.size&&Gm(i),i.maybeBroadcastWatch.forget(o)}},t.prototype.gc=function(o){Xn.reset();var i=this.optimisticData.gc();return o&&!this.txCount&&(o.resetResultCache?this.resetResultCache(o.resetResultIdentities):o.resetResultIdentities&&this.storeReader.resetCanon()),i},t.prototype.retain=function(o,i){return(i?this.optimisticData:this.data).retain(o)},t.prototype.release=function(o,i){return(i?this.optimisticData:this.data).release(o)},t.prototype.identify=function(o){if(ft(o))return o.__ref;try{return this.policies.identify(o)[0]}catch(i){__DEV__&&Le.warn(i)}},t.prototype.evict=function(o){if(!o.id){if(Mt.call(o,"id"))return!1;o=Ae(Ae({},o),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(o,this.data)}finally{!--this.txCount&&o.broadcast!==!1&&this.broadcastWatches()}},t.prototype.reset=function(o){var i=this;return this.init(),Xn.reset(),o&&o.discardWatches?(this.watches.forEach(function(n){return i.maybeBroadcastWatch.forget(n)}),this.watches.clear(),Gm(this)):this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(o){var i=this.optimisticData.removeLayer(o);i!==this.optimisticData&&(this.optimisticData=i,this.broadcastWatches())},t.prototype.batch=function(o){var i=this,n=o.update,r=o.optimistic,s=r===void 0?!0:r,c=o.removeOptimistic,a=o.onWatchUpdated,l,u=function(f){var g=i,b=g.data,C=g.optimisticData;++i.txCount,f&&(i.data=i.optimisticData=f);try{return l=n(i)}finally{--i.txCount,i.data=b,i.optimisticData=C}},h=new Set;return a&&!this.txCount&&this.broadcastWatches(Ae(Ae({},o),{onWatchUpdated:function(f){return h.add(f),!1}})),typeof s=="string"?this.optimisticData=this.optimisticData.addLayer(s,u):s===!1?u(this.data):u(),typeof c=="string"&&(this.optimisticData=this.optimisticData.removeLayer(c)),a&&h.size?(this.broadcastWatches(Ae(Ae({},o),{onWatchUpdated:function(f,g){var b=a.call(this,f,g);return b!==!1&&h.delete(f),b}})),h.size&&h.forEach(function(f){return i.maybeBroadcastWatch.dirty(f)})):this.broadcastWatches(o),l},t.prototype.performTransaction=function(o,i){return this.batch({update:o,optimistic:i||i!==null})},t.prototype.transformDocument=function(o){if(this.addTypename){var i=this.typenameDocumentCache.get(o);return i||(i=Fd(o),this.typenameDocumentCache.set(o,i),this.typenameDocumentCache.set(i,i)),i}return o},t.prototype.transformForLink=function(o){var i=this.config.fragments;return i?i.transform(o):o},t.prototype.broadcastWatches=function(o){var i=this;this.txCount||this.watches.forEach(function(n){return i.maybeBroadcastWatch(n,o)})},t.prototype.broadcastWatch=function(o,i){var n=o.lastDiff,r=this.diff(o);i&&(o.optimistic&&typeof i.optimistic=="string"&&(r.fromOptimisticTransaction=!0),i.onWatchUpdated&&i.onWatchUpdated.call(this,o,r,n)===!1)||(!n||!Pt(n.result,r.result))&&o.callback(o.lastDiff=r,n)},t}(t2);function y2(e){return e.hasOwnProperty("graphQLErrors")}var w2=function(e){var t="";if(bo(e.graphQLErrors)||bo(e.clientErrors)){var o=(e.graphQLErrors||[]).concat(e.clientErrors||[]);o.forEach(function(i){var n=i?i.message:"Error message not found.";t+="".concat(n,`
`)})}return e.networkError&&(t+="".concat(e.networkError.message,`
`)),t=t.replace(/\n$/,""),t},Vn=function(e){co(t,e);function t(o){var i=o.graphQLErrors,n=o.clientErrors,r=o.networkError,s=o.errorMessage,c=o.extraInfo,a=e.call(this,s)||this;return a.name="ApolloError",a.graphQLErrors=i||[],a.clientErrors=n||[],a.networkError=r||null,a.message=s||w2(a),a.extraInfo=c,a.__proto__=t.prototype,a}return t}(Error),pt;(function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"})(pt||(pt={}));function os(e){return e?e<7:!1}var E2=Object.assign,A2=Object.hasOwnProperty,Hu=function(e){co(t,e);function t(o){var i=o.queryManager,n=o.queryInfo,r=o.options,s=e.call(this,function(T){try{var S=T._subscription._observer;S&&!S.error&&(S.error=_2)}catch{}var _=!s.observers.size;s.observers.add(T);var y=s.last;return y&&y.error?T.error&&T.error(y.error):y&&y.result&&T.next&&T.next(y.result),_&&s.reobserve().catch(function(){}),function(){s.observers.delete(T)&&!s.observers.size&&s.tearDownQuery()}})||this;s.observers=new Set,s.subscriptions=new Set,s.queryInfo=n,s.queryManager=i,s.isTornDown=!1;var c=i.defaultOptions.watchQuery,a=c===void 0?{}:c,l=a.fetchPolicy,u=l===void 0?"cache-first":l,h=r.fetchPolicy,f=h===void 0?u:h,g=r.initialFetchPolicy,b=g===void 0?f==="standby"?u:f:g;s.options=Ae(Ae({},r),{initialFetchPolicy:b,fetchPolicy:f}),s.queryId=n.queryId||i.generateQueryId();var C=cs(s.query);return s.queryName=C&&C.name&&C.name.value,s}return Object.defineProperty(t.prototype,"query",{get:function(){return this.queryManager.transform(this.options.query).document},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var o=this;return new Promise(function(i,n){var r={next:function(c){i(c),o.observers.delete(r),o.observers.size||o.queryManager.removeQuery(o.queryId),setTimeout(function(){s.unsubscribe()},0)},error:n},s=o.subscribe(r)})},t.prototype.getCurrentResult=function(o){o===void 0&&(o=!0);var i=this.getLastResult(!0),n=this.queryInfo.networkStatus||i&&i.networkStatus||pt.ready,r=Ae(Ae({},i),{loading:os(n),networkStatus:n}),s=this.options.fetchPolicy,c=s===void 0?"cache-first":s;if(!(c==="network-only"||c==="no-cache"||c==="standby"||this.queryManager.transform(this.options.query).hasForcedResolvers)){var a=this.queryInfo.getDiff();(a.complete||this.options.returnPartialData)&&(r.data=a.result),Pt(r.data,{})&&(r.data=void 0),a.complete?(delete r.partial,a.complete&&r.networkStatus===pt.loading&&(c==="cache-first"||c==="cache-only")&&(r.networkStatus=pt.ready,r.loading=!1)):r.partial=!0,__DEV__&&!a.complete&&!this.options.partialRefetch&&!r.loading&&!r.data&&!r.error&&oy(a.missing)}return o&&this.updateLastResult(r),r},t.prototype.isDifferentFromLastResult=function(o,i){return!this.last||!Pt(this.last.result,o)||i&&!Pt(this.last.variables,i)},t.prototype.getLast=function(o,i){var n=this.last;if(n&&n[o]&&(!i||Pt(n.variables,this.variables)))return n[o]},t.prototype.getLastResult=function(o){return this.getLast("result",o)},t.prototype.getLastError=function(o){return this.getLast("error",o)},t.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(o){var i,n={pollInterval:0},r=this.options.fetchPolicy;if(r==="cache-and-network"?n.fetchPolicy=r:r==="no-cache"?n.fetchPolicy="no-cache":n.fetchPolicy="network-only",__DEV__&&o&&A2.call(o,"variables")){var s=bb(this.query),c=s.variableDefinitions;(!c||!c.some(function(a){return a.variable.name.value==="variables"}))&&__DEV__&&Le.warn("Called refetch(".concat(JSON.stringify(o),") for query ").concat(((i=s.name)===null||i===void 0?void 0:i.value)||JSON.stringify(s),`, which does not declare a $variables variable.
Did you mean to call refetch(variables) instead of refetch({ variables })?`))}return o&&!Pt(this.options.variables,o)&&(n.variables=this.options.variables=Ae(Ae({},this.options.variables),o)),this.queryInfo.resetLastWrite(),this.reobserve(n,pt.refetch)},t.prototype.fetchMore=function(o){var i=this,n=Ae(Ae({},o.query?o:Ae(Ae(Ae(Ae({},this.options),{query:this.query}),o),{variables:Ae(Ae({},this.options.variables),o.variables)})),{fetchPolicy:"no-cache"}),r=this.queryManager.generateQueryId(),s=this.queryInfo,c=s.networkStatus;s.networkStatus=pt.fetchMore,n.notifyOnNetworkStatusChange&&this.observe();var a=new Set;return this.queryManager.fetchQuery(r,n,pt.fetchMore).then(function(l){return i.queryManager.removeQuery(r),s.networkStatus===pt.fetchMore&&(s.networkStatus=c),i.queryManager.cache.batch({update:function(u){var h=o.updateQuery;h?u.updateQuery({query:i.query,variables:i.variables,returnPartialData:!0,optimistic:!1},function(f){return h(f,{fetchMoreResult:l.data,variables:n.variables})}):u.writeQuery({query:n.query,variables:n.variables,data:l.data})},onWatchUpdated:function(u){a.add(u.query)}}),l}).finally(function(){a.has(i.query)||ty(i)})},t.prototype.subscribeToMore=function(o){var i=this,n=this.queryManager.startGraphQLSubscription({query:o.document,variables:o.variables,context:o.context}).subscribe({next:function(r){var s=o.updateQuery;s&&i.updateQuery(function(c,a){var l=a.variables;return s(c,{subscriptionData:r,variables:l})})},error:function(r){if(o.onError){o.onError(r);return}__DEV__&&Le.error("Unhandled GraphQL subscription error",r)}});return this.subscriptions.add(n),function(){i.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(o){return this.reobserve(o)},t.prototype.setVariables=function(o){return Pt(this.variables,o)?this.observers.size?this.result():Promise.resolve():(this.options.variables=o,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:o},pt.setVariables):Promise.resolve())},t.prototype.updateQuery=function(o){var i=this.queryManager,n=i.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,r=o(n,{variables:this.variables});r&&(i.cache.writeQuery({query:this.options.query,data:r,variables:this.variables}),i.broadcastQueries())},t.prototype.startPolling=function(o){this.options.pollInterval=o,this.updatePolling()},t.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},t.prototype.applyNextFetchPolicy=function(o,i){if(i.nextFetchPolicy){var n=i.fetchPolicy,r=n===void 0?"cache-first":n,s=i.initialFetchPolicy,c=s===void 0?r:s;r==="standby"||(typeof i.nextFetchPolicy=="function"?i.fetchPolicy=i.nextFetchPolicy(r,{reason:o,options:i,observable:this,initialFetchPolicy:c}):o==="variables-changed"?i.fetchPolicy=c:i.fetchPolicy=i.nextFetchPolicy)}return i.fetchPolicy},t.prototype.fetch=function(o,i){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,o,i)},t.prototype.updatePolling=function(){var o=this;if(!this.queryManager.ssrMode){var i=this,n=i.pollingInfo,r=i.options.pollInterval;if(!r){n&&(clearTimeout(n.timeout),delete this.pollingInfo);return}if(!(n&&n.interval===r)){__DEV__?Le(r,"Attempted to start a polling query without a polling interval."):Le(r,13);var s=n||(this.pollingInfo={});s.interval=r;var c=function(){o.pollingInfo&&(os(o.queryInfo.networkStatus)?a():o.reobserve({fetchPolicy:o.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},pt.poll).then(a,a))},a=function(){var l=o.pollingInfo;l&&(clearTimeout(l.timeout),l.timeout=setTimeout(c,l.interval))};a()}}},t.prototype.updateLastResult=function(o,i){return i===void 0&&(i=this.variables),this.last=Ae(Ae({},this.last),{result:this.queryManager.assumeImmutableResults?o:Nb(o),variables:i}),bo(o.errors)||delete this.last.error,this.last},t.prototype.reobserve=function(o,i){var n=this;this.isTornDown=!1;var r=i===pt.refetch||i===pt.fetchMore||i===pt.poll,s=this.options.variables,c=this.options.fetchPolicy,a=ol(this.options,o||{}),l=r?a:E2(this.options,a);r||(this.updatePolling(),o&&o.variables&&!Pt(o.variables,s)&&l.fetchPolicy!=="standby"&&l.fetchPolicy===c&&(this.applyNextFetchPolicy("variables-changed",l),i===void 0&&(i=pt.setVariables)));var u=l.variables&&Ae({},l.variables),h=this.fetch(l,i),f={next:function(g){n.reportResult(g,u)},error:function(g){n.reportError(g,u)}};return r||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=h,this.observer=f),h.addObserver(f),h.promise},t.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},t.prototype.reportResult=function(o,i){var n=this.getLastError();(n||this.isDifferentFromLastResult(o,i))&&((n||!o.partial||this.options.returnPartialData)&&this.updateLastResult(o,i),Ur(this.observers,"next",o))},t.prototype.reportError=function(o,i){var n=Ae(Ae({},this.getLastResult()),{error:o,errors:o.graphQLErrors,networkStatus:pt.error,loading:!1});this.updateLastResult(n,i),Ur(this.observers,"error",this.last.error=o)},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(o){return o.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t}(mt);Sb(Hu);function ty(e){var t=e.options,o=t.fetchPolicy,i=t.nextFetchPolicy;return o==="cache-and-network"||o==="network-only"?e.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return this.nextFetchPolicy=i,typeof i=="function"?i.apply(this,arguments):o}}):e.reobserve()}function _2(e){__DEV__&&Le.error("Unhandled error",e.message,e.stack)}function oy(e){__DEV__&&e&&__DEV__&&Le.debug("Missing cache result fields: ".concat(JSON.stringify(e)),e)}var ny=function(){function e(t){var o=t.cache,i=t.client,n=t.resolvers,r=t.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=o,i&&(this.client=i),n&&this.addResolvers(n),r&&this.setFragmentMatcher(r)}return e.prototype.addResolvers=function(t){var o=this;this.resolvers=this.resolvers||{},Array.isArray(t)?t.forEach(function(i){o.resolvers=Am(o.resolvers,i)}):this.resolvers=Am(this.resolvers,t)},e.prototype.setResolvers=function(t){this.resolvers={},this.addResolvers(t)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(t){var o=t.document,i=t.remoteResult,n=t.context,r=t.variables,s=t.onlyRunForcedResolvers,c=s===void 0?!1:s;return bn(this,void 0,void 0,function(){return yn(this,function(a){return o?[2,this.resolveDocument(o,i.data,n,r,this.fragmentMatcher,c).then(function(l){return Ae(Ae({},i),{data:l.result})})]:[2,i]})})},e.prototype.setFragmentMatcher=function(t){this.fragmentMatcher=t},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(t){return Pd(["client"],t)&&this.resolvers?t:null},e.prototype.serverQuery=function(t){return LI(t)},e.prototype.prepareContext=function(t){var o=this.cache;return Ae(Ae({},t),{cache:o,getCacheKey:function(i){return o.identify(i)}})},e.prototype.addExportedVariables=function(t,o,i){return o===void 0&&(o={}),i===void 0&&(i={}),bn(this,void 0,void 0,function(){return yn(this,function(n){return t?[2,this.resolveDocument(t,this.buildRootValueFromCache(t,o)||{},this.prepareContext(i),o).then(function(r){return Ae(Ae({},o),r.exportedVariables)})]:[2,Ae({},o)]})})},e.prototype.shouldForceResolvers=function(t){var o=!1;return Yo(t,{Directive:{enter:function(i){if(i.name.value==="client"&&i.arguments&&(o=i.arguments.some(function(n){return n.name.value==="always"&&n.value.kind==="BooleanValue"&&n.value.value===!0}),o))return Id}}}),o},e.prototype.buildRootValueFromCache=function(t,o){return this.cache.diff({query:MI(t),variables:o,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(t,o,i,n,r,s){return i===void 0&&(i={}),n===void 0&&(n={}),r===void 0&&(r=function(){return!0}),s===void 0&&(s=!1),bn(this,void 0,void 0,function(){var c,a,l,u,h,f,g,b,C,T,S;return yn(this,function(_){return c=el(t),a=Md(t),l=Dd(a),u=this.collectSelectionsToResolve(c,l),h=c.operation,f=h?h.charAt(0).toUpperCase()+h.slice(1):"Query",g=this,b=g.cache,C=g.client,T={fragmentMap:l,context:Ae(Ae({},i),{cache:b,client:C}),variables:n,fragmentMatcher:r,defaultOperationType:f,exportedVariables:{},selectionsToResolve:u,onlyRunForcedResolvers:s},S=!1,[2,this.resolveSelectionSet(c.selectionSet,S,o,T).then(function(y){return{result:y,exportedVariables:T.exportedVariables}})]})})},e.prototype.resolveSelectionSet=function(t,o,i,n){return bn(this,void 0,void 0,function(){var r,s,c,a,l,u=this;return yn(this,function(h){return r=n.fragmentMap,s=n.context,c=n.variables,a=[i],l=function(f){return bn(u,void 0,void 0,function(){var g,b;return yn(this,function(C){return!o&&!n.selectionsToResolve.has(f)?[2]:Ya(f,c)?ri(f)?[2,this.resolveField(f,o,i,n).then(function(T){var S;typeof T<"u"&&a.push((S={},S[ii(f)]=T,S))})]:(TI(f)?g=f:(g=r[f.name.value],__DEV__?Le(g,"No fragment named ".concat(f.name.value)):Le(g,11)),g&&g.typeCondition&&(b=g.typeCondition.name.value,n.fragmentMatcher(i,b,s))?[2,this.resolveSelectionSet(g.selectionSet,o,i,n).then(function(T){a.push(T)})]:[2]):[2]})})},[2,Promise.all(t.selections.map(l)).then(function(){return Bd(a)})]})})},e.prototype.resolveField=function(t,o,i,n){return bn(this,void 0,void 0,function(){var r,s,c,a,l,u,h,f,g,b=this;return yn(this,function(C){return i?(r=n.variables,s=t.name.value,c=ii(t),a=s!==c,l=i[c]||i[s],u=Promise.resolve(l),(!n.onlyRunForcedResolvers||this.shouldForceResolvers(t))&&(h=i.__typename||n.defaultOperationType,f=this.resolvers&&this.resolvers[h],f&&(g=f[a?s:c],g&&(u=Promise.resolve(Qd.withValue(this.cache,g,[i,Za(t,r),n.context,{field:t,fragmentMap:n.fragmentMap}]))))),[2,u.then(function(T){var S,_;if(T===void 0&&(T=l),t.directives&&t.directives.forEach(function(w){w.name.value==="export"&&w.arguments&&w.arguments.forEach(function(I){I.name.value==="as"&&I.value.kind==="StringValue"&&(n.exportedVariables[I.value.value]=T)})}),!t.selectionSet||T==null)return T;var y=(_=(S=t.directives)===null||S===void 0?void 0:S.some(function(w){return w.name.value==="client"}))!==null&&_!==void 0?_:!1;if(Array.isArray(T))return b.resolveSubSelectedArray(t,o||y,T,n);if(t.selectionSet)return b.resolveSelectionSet(t.selectionSet,o||y,T,n)})]):[2,null]})})},e.prototype.resolveSubSelectedArray=function(t,o,i,n){var r=this;return Promise.all(i.map(function(s){if(s===null)return null;if(Array.isArray(s))return r.resolveSubSelectedArray(t,o,s,n);if(t.selectionSet)return r.resolveSelectionSet(t.selectionSet,o,s,n)}))},e.prototype.collectSelectionsToResolve=function(t,o){var i=function(s){return!Array.isArray(s)},n=this.selectionsToResolveCache;function r(s){if(!n.has(s)){var c=new Set;n.set(s,c),Yo(s,{Directive:function(a,l,u,h,f){a.name.value==="client"&&f.forEach(function(g){i(g)&&Zp(g)&&c.add(g)})},FragmentSpread:function(a,l,u,h,f){var g=o[a.name.value];__DEV__?Le(g,"No fragment named ".concat(a.name.value)):Le(g,12);var b=r(g);b.size>0&&(f.forEach(function(C){i(C)&&Zp(C)&&c.add(C)}),c.add(a),b.forEach(function(C){c.add(C)}))}})}return n.get(s)}return r(t)},e}(),Pi=new(ai?WeakMap:Map);function Bc(e,t){var o=e[t];typeof o=="function"&&(e[t]=function(){return Pi.set(e,(Pi.get(e)+1)%1e15),o.apply(this,arguments)})}function iv(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var Uc=function(){function e(t,o){o===void 0&&(o=t.generateQueryId()),this.queryId=o,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var i=this.cache=t.cache;Pi.has(i)||(Pi.set(i,0),Bc(i,"evict"),Bc(i,"modify"),Bc(i,"reset"))}return e.prototype.init=function(t){var o=t.networkStatus||pt.loading;return this.variables&&this.networkStatus!==pt.loading&&!Pt(this.variables,t.variables)&&(o=pt.setVariables),Pt(t.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:t.document,variables:t.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:o}),t.observableQuery&&this.setObservableQuery(t.observableQuery),t.lastRequestId&&(this.lastRequestId=t.lastRequestId),this},e.prototype.reset=function(){iv(this),this.dirty=!1},e.prototype.getDiff=function(t){t===void 0&&(t=this.variables);var o=this.getDiffOptions(t);if(this.lastDiff&&Pt(o,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=t);var i=this.observableQuery;if(i&&i.options.fetchPolicy==="no-cache")return{complete:!1};var n=this.cache.diff(o);return this.updateLastDiff(n,o),n},e.prototype.updateLastDiff=function(t,o){this.lastDiff=t?{diff:t,options:o||this.getDiffOptions()}:void 0},e.prototype.getDiffOptions=function(t){var o;return t===void 0&&(t=this.variables),{query:this.document,variables:t,returnPartialData:!0,optimistic:!0,canonizeResults:(o=this.observableQuery)===null||o===void 0?void 0:o.options.canonizeResults}},e.prototype.setDiff=function(t){var o=this,i=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(t),!this.dirty&&!Pt(i&&i.result,t&&t.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return o.notify()},0)))},e.prototype.setObservableQuery=function(t){var o=this;t!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=t,t?(t.queryInfo=this,this.listeners.add(this.oqListener=function(){var i=o.getDiff();i.fromOptimisticTransaction?t.observe():ty(t)})):delete this.oqListener)},e.prototype.notify=function(){var t=this;iv(this),this.shouldNotify()&&this.listeners.forEach(function(o){return o(t)}),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(os(this.networkStatus)&&this.observableQuery){var t=this.observableQuery.options.fetchPolicy;if(t!=="cache-only"&&t!=="cache-and-network")return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=e.prototype.cancel,this.subscriptions.forEach(function(o){return o.unsubscribe()});var t=this.observableQuery;t&&t.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(t){var o=this;t===void 0&&(t=this.variables);var i=this.observableQuery;if(!(i&&i.options.fetchPolicy==="no-cache")){var n=Ae(Ae({},this.getDiffOptions(t)),{watcher:this,callback:function(r){return o.setDiff(r)}});(!this.lastWatch||!Pt(n,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=n))}},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(t,o){var i=this.lastWrite;return!(i&&i.dmCount===Pi.get(this.cache)&&Pt(o,i.variables)&&Pt(t.data,i.result.data))},e.prototype.markResult=function(t,o,i,n){var r=this,s=new xn,c=bo(t.errors)?t.errors.slice(0):[];if(this.reset(),"incremental"in t&&bo(t.incremental)){var a=xb(this.getDiff().result,t);t.data=a}else if("hasNext"in t&&t.hasNext){var l=this.getDiff();t.data=s.merge(l.result,t.data)}this.graphQLErrors=c,i.fetchPolicy==="no-cache"?this.updateLastDiff({result:t.data,complete:!0},this.getDiffOptions(i.variables)):n!==0&&(zu(t,i.errorPolicy)?this.cache.performTransaction(function(u){if(r.shouldWrite(t,i.variables))u.writeQuery({query:o,data:t.data,variables:i.variables,overwrite:n===1}),r.lastWrite={result:t,variables:i.variables,dmCount:Pi.get(r.cache)};else if(r.lastDiff&&r.lastDiff.diff.complete){t.data=r.lastDiff.diff.result;return}var h=r.getDiffOptions(i.variables),f=u.diff(h);r.stopped||r.updateWatch(i.variables),r.updateLastDiff(f,h),f.complete&&(t.data=f.result)}):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=pt.ready},e.prototype.markError=function(t){return this.networkStatus=pt.error,this.lastWrite=void 0,this.reset(),t.graphQLErrors&&(this.graphQLErrors=t.graphQLErrors),t.networkError&&(this.networkError=t.networkError),t},e}();function zu(e,t){t===void 0&&(t="none");var o=t==="ignore"||t==="all",i=!ha(e);return!i&&o&&e.data&&(i=!0),i}var N2=Object.prototype.hasOwnProperty,C2=function(){function e(t){var o=t.cache,i=t.link,n=t.defaultOptions,r=t.queryDeduplication,s=r===void 0?!1:r,c=t.onBroadcast,a=t.ssrMode,l=a===void 0?!1:a,u=t.clientAwareness,h=u===void 0?{}:u,f=t.localState,g=t.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(ai?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=o,this.link=i,this.defaultOptions=n||Object.create(null),this.queryDeduplication=s,this.clientAwareness=h,this.localState=f||new ny({cache:o}),this.ssrMode=l,this.assumeImmutableResults=!!g,(this.onBroadcast=c)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var t=this;this.queries.forEach(function(o,i){t.stopQueryNoBroadcast(i)}),this.cancelPendingFetches(__DEV__?new ut("QueryManager stopped while query was in flight"):new ut(14))},e.prototype.cancelPendingFetches=function(t){this.fetchCancelFns.forEach(function(o){return o(t)}),this.fetchCancelFns.clear()},e.prototype.mutate=function(t){var o,i,n=t.mutation,r=t.variables,s=t.optimisticResponse,c=t.updateQueries,a=t.refetchQueries,l=a===void 0?[]:a,u=t.awaitRefetchQueries,h=u===void 0?!1:u,f=t.update,g=t.onQueryUpdated,b=t.fetchPolicy,C=b===void 0?((o=this.defaultOptions.mutate)===null||o===void 0?void 0:o.fetchPolicy)||"network-only":b,T=t.errorPolicy,S=T===void 0?((i=this.defaultOptions.mutate)===null||i===void 0?void 0:i.errorPolicy)||"none":T,_=t.keepRootFields,y=t.context;return bn(this,void 0,void 0,function(){var w,I,k,B,H,P;return yn(this,function(R){switch(R.label){case 0:return __DEV__?Le(n,"mutation option is required. You must specify your GraphQL document in the mutation option."):Le(n,15),__DEV__?Le(C==="network-only"||C==="no-cache","Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):Le(C==="network-only"||C==="no-cache",16),w=this.generateMutationId(),I=this.transform(n),k=I.document,B=I.hasClientExports,n=this.cache.transformForLink(k),r=this.getVariables(n,r),B?[4,this.localState.addExportedVariables(n,r,y)]:[3,2];case 1:r=R.sent(),R.label=2;case 2:return H=this.mutationStore&&(this.mutationStore[w]={mutation:n,variables:r,loading:!0,error:null}),s&&this.markMutationOptimistic(s,{mutationId:w,document:n,variables:r,fetchPolicy:C,errorPolicy:S,context:y,updateQueries:c,update:f,keepRootFields:_}),this.broadcastQueries(),P=this,[2,new Promise(function(F,M){return Rc(P.getObservableFromLink(n,Ae(Ae({},y),{optimisticResponse:s}),r,!1),function(G){if(ha(G)&&S==="none")throw new Vn({graphQLErrors:Pu(G)});H&&(H.loading=!1,H.error=null);var E=Ae({},G);return typeof l=="function"&&(l=l(E)),S==="ignore"&&ha(E)&&delete E.errors,P.markMutationResult({mutationId:w,result:E,document:n,variables:r,fetchPolicy:C,errorPolicy:S,context:y,update:f,updateQueries:c,awaitRefetchQueries:h,refetchQueries:l,removeOptimistic:s?w:void 0,onQueryUpdated:g,keepRootFields:_})}).subscribe({next:function(G){P.broadcastQueries(),(!("hasNext"in G)||G.hasNext===!1)&&F(G)},error:function(G){H&&(H.loading=!1,H.error=G),s&&P.cache.removeOptimistic(w),P.broadcastQueries(),M(G instanceof Vn?G:new Vn({networkError:G}))}})})]}})})},e.prototype.markMutationResult=function(t,o){var i=this;o===void 0&&(o=this.cache);var n=t.result,r=[],s=t.fetchPolicy==="no-cache";if(!s&&zu(n,t.errorPolicy)){if(Bi(n)||r.push({result:n.data,dataId:"ROOT_MUTATION",query:t.document,variables:t.variables}),Bi(n)&&bo(n.incremental)){var c=o.diff({id:"ROOT_MUTATION",query:this.transform(t.document).asQuery,variables:t.variables,optimistic:!1,returnPartialData:!0}),a=void 0;c.result&&(a=xb(c.result,n)),typeof a<"u"&&(n.data=a,r.push({result:a,dataId:"ROOT_MUTATION",query:t.document,variables:t.variables}))}var l=t.updateQueries;l&&this.queries.forEach(function(h,f){var g=h.observableQuery,b=g&&g.queryName;if(!(!b||!N2.call(l,b))){var C=l[b],T=i.queries.get(f),S=T.document,_=T.variables,y=o.diff({query:S,variables:_,returnPartialData:!0,optimistic:!1}),w=y.result,I=y.complete;if(I&&w){var k=C(w,{mutationResult:n,queryName:S&&Su(S)||void 0,queryVariables:_});k&&r.push({result:k,dataId:"ROOT_QUERY",query:S,variables:_})}}})}if(r.length>0||t.refetchQueries||t.update||t.onQueryUpdated||t.removeOptimistic){var u=[];if(this.refetchQueries({updateCache:function(h){s||r.forEach(function(C){return h.write(C)});var f=t.update,g=!ZI(n)||Bi(n)&&!n.hasNext;if(f){if(!s){var b=h.diff({id:"ROOT_MUTATION",query:i.transform(t.document).asQuery,variables:t.variables,optimistic:!1,returnPartialData:!0});b.complete&&(n=Ae(Ae({},n),{data:b.result}),"incremental"in n&&delete n.incremental,"hasNext"in n&&delete n.hasNext)}g&&f(h,n,{context:t.context,variables:t.variables})}!s&&!t.keepRootFields&&g&&h.modify({id:"ROOT_MUTATION",fields:function(C,T){var S=T.fieldName,_=T.DELETE;return S==="__typename"?C:_}})},include:t.refetchQueries,optimistic:!1,removeOptimistic:t.removeOptimistic,onQueryUpdated:t.onQueryUpdated||null}).forEach(function(h){return u.push(h)}),t.awaitRefetchQueries||t.onQueryUpdated)return Promise.all(u).then(function(){return n})}return Promise.resolve(n)},e.prototype.markMutationOptimistic=function(t,o){var i=this,n=typeof t=="function"?t(o.variables):t;return this.cache.recordOptimisticTransaction(function(r){try{i.markMutationResult(Ae(Ae({},o),{result:{data:n}}),r)}catch(s){__DEV__&&Le.error(s)}},o.mutationId)},e.prototype.fetchQuery=function(t,o,i){return this.fetchQueryObservable(t,o,i).promise},e.prototype.getQueryStore=function(){var t=Object.create(null);return this.queries.forEach(function(o,i){t[i]={variables:o.variables,networkStatus:o.networkStatus,networkError:o.networkError,graphQLErrors:o.graphQLErrors}}),t},e.prototype.resetErrors=function(t){var o=this.queries.get(t);o&&(o.networkError=void 0,o.graphQLErrors=[])},e.prototype.transform=function(t){var o=this.transformCache;if(!o.has(t)){var i=this.cache.transformDocument(t),n=OI(i),r=this.localState.clientQuery(i),s=n&&this.localState.serverQuery(n),c={document:i,hasClientExports:hI(i),hasForcedResolvers:this.localState.shouldForceResolvers(i),clientQuery:r,serverQuery:s,defaultVars:Ld(cs(i)),asQuery:Ae(Ae({},i),{definitions:i.definitions.map(function(l){return l.kind==="OperationDefinition"&&l.operation!=="query"?Ae(Ae({},l),{operation:"query"}):l})})},a=function(l){l&&!o.has(l)&&o.set(l,c)};a(t),a(i),a(r),a(s)}return o.get(t)},e.prototype.getVariables=function(t,o){return Ae(Ae({},this.transform(t).defaultVars),o)},e.prototype.watchQuery=function(t){t=Ae(Ae({},t),{variables:this.getVariables(t.query,t.variables)}),typeof t.notifyOnNetworkStatusChange>"u"&&(t.notifyOnNetworkStatusChange=!1);var o=new Uc(this),i=new Hu({queryManager:this,queryInfo:o,options:t});return this.queries.set(i.queryId,o),o.init({document:i.query,observableQuery:i,variables:i.variables}),i},e.prototype.query=function(t,o){var i=this;return o===void 0&&(o=this.generateQueryId()),__DEV__?Le(t.query,"query option is required. You must specify your GraphQL document in the query option."):Le(t.query,17),__DEV__?Le(t.query.kind==="Document",'You must wrap the query string in a "gql" tag.'):Le(t.query.kind==="Document",18),__DEV__?Le(!t.returnPartialData,"returnPartialData option only supported on watchQuery."):Le(!t.returnPartialData,19),__DEV__?Le(!t.pollInterval,"pollInterval option only supported on watchQuery."):Le(!t.pollInterval,20),this.fetchQuery(o,t).finally(function(){return i.stopQuery(o)})},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(t){this.stopQueryInStoreNoBroadcast(t),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(t){var o=this.queries.get(t);o&&o.stop()},e.prototype.clearStore=function(t){return t===void 0&&(t={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new ut("Store reset while query was in flight (not completed in link chain)"):new ut(21)),this.queries.forEach(function(o){o.observableQuery?o.networkStatus=pt.loading:o.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(t)},e.prototype.getObservableQueries=function(t){var o=this;t===void 0&&(t="active");var i=new Map,n=new Map,r=new Set;return Array.isArray(t)&&t.forEach(function(s){typeof s=="string"?n.set(s,!1):vI(s)?n.set(o.transform(s).document,!1):Et(s)&&s.query&&r.add(s)}),this.queries.forEach(function(s,c){var a=s.observableQuery,l=s.document;if(a){if(t==="all"){i.set(c,a);return}var u=a.queryName,h=a.options.fetchPolicy;if(h==="standby"||t==="active"&&!a.hasObservers())return;(t==="active"||u&&n.has(u)||l&&n.has(l))&&(i.set(c,a),u&&n.set(u,!0),l&&n.set(l,!0))}}),r.size&&r.forEach(function(s){var c=Du("legacyOneTimeQuery"),a=o.getQuery(c).init({document:s.query,variables:s.variables}),l=new Hu({queryManager:o,queryInfo:a,options:Ae(Ae({},s),{fetchPolicy:"network-only"})});Le(l.queryId===c),a.setObservableQuery(l),i.set(c,l)}),__DEV__&&n.size&&n.forEach(function(s,c){s||__DEV__&&Le.warn("Unknown query ".concat(typeof c=="string"?"named ":"").concat(JSON.stringify(c,null,2)," requested in refetchQueries options.include array"))}),i},e.prototype.reFetchObservableQueries=function(t){var o=this;t===void 0&&(t=!1);var i=[];return this.getObservableQueries(t?"all":"active").forEach(function(n,r){var s=n.options.fetchPolicy;n.resetLastResults(),(t||s!=="standby"&&s!=="cache-only")&&i.push(n.refetch()),o.getQuery(r).setDiff(null)}),this.broadcastQueries(),Promise.all(i)},e.prototype.setObservableQuery=function(t){this.getQuery(t.queryId).setObservableQuery(t)},e.prototype.startGraphQLSubscription=function(t){var o=this,i=t.query,n=t.fetchPolicy,r=t.errorPolicy,s=t.variables,c=t.context,a=c===void 0?{}:c;i=this.transform(i).document,s=this.getVariables(i,s);var l=function(h){return o.getObservableFromLink(i,a,h).map(function(f){if(n!=="no-cache"&&(zu(f,r)&&o.cache.write({query:i,result:f.data,dataId:"ROOT_SUBSCRIPTION",variables:h}),o.broadcastQueries()),ha(f))throw new Vn({graphQLErrors:f.errors});return f})};if(this.transform(i).hasClientExports){var u=this.localState.addExportedVariables(i,s,a).then(l);return new mt(function(h){var f=null;return u.then(function(g){return f=g.subscribe(h)},h.error),function(){return f&&f.unsubscribe()}})}return l(s)},e.prototype.stopQuery=function(t){this.stopQueryNoBroadcast(t),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(t){this.stopQueryInStoreNoBroadcast(t),this.removeQuery(t)},e.prototype.removeQuery=function(t){this.fetchCancelFns.delete(t),this.queries.has(t)&&(this.getQuery(t).stop(),this.queries.delete(t))},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(t){return t.notify()})},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(t,o,i,n){var r=this,s;n===void 0&&(n=(s=o==null?void 0:o.queryDeduplication)!==null&&s!==void 0?s:this.queryDeduplication);var c,a=this.transform(t).serverQuery;if(a){var l=this,u=l.inFlightLinkObservables,h=l.link,f={query:a,variables:i,operationName:Su(a)||void 0,context:this.prepareContext(Ae(Ae({},o),{forceFetch:!n}))};if(o=f.context,n){var g=u.get(a)||new Map;u.set(a,g);var b=Xn(i);if(c=g.get(b),!c){var C=new Dr([Ou(h,f)]);g.set(b,c=C),C.beforeNext(function(){g.delete(b)&&g.size<1&&u.delete(a)})}}else c=new Dr([Ou(h,f)])}else c=new Dr([mt.of({data:{}})]),o=this.prepareContext(o);var T=this.transform(t).clientQuery;return T&&(c=Rc(c,function(S){return r.localState.runResolvers({document:T,remoteResult:S,context:o,variables:i})})),c},e.prototype.getResultsFromLink=function(t,o,i){var n=t.lastRequestId=this.generateRequestId(),r=this.cache.transformForLink(this.transform(t.document).document);return Rc(this.getObservableFromLink(r,i.context,i.variables),function(s){var c=Pu(s),a=c.length>0;if(n>=t.lastRequestId){if(a&&i.errorPolicy==="none")throw t.markError(new Vn({graphQLErrors:c}));t.markResult(s,r,i,o),t.markReady()}var l={data:s.data,loading:!1,networkStatus:pt.ready};return a&&i.errorPolicy!=="ignore"&&(l.errors=c,l.networkStatus=pt.error),l},function(s){var c=y2(s)?s:new Vn({networkError:s});throw n>=t.lastRequestId&&t.markError(c),c})},e.prototype.fetchQueryObservable=function(t,o,i){var n=this;i===void 0&&(i=pt.loading);var r=this.transform(o.query).document,s=this.getVariables(r,o.variables),c=this.getQuery(t),a=this.defaultOptions.watchQuery,l=o.fetchPolicy,u=l===void 0?a&&a.fetchPolicy||"cache-first":l,h=o.errorPolicy,f=h===void 0?a&&a.errorPolicy||"none":h,g=o.returnPartialData,b=g===void 0?!1:g,C=o.notifyOnNetworkStatusChange,T=C===void 0?!1:C,S=o.context,_=S===void 0?{}:S,y=Object.assign({},o,{query:r,variables:s,fetchPolicy:u,errorPolicy:f,returnPartialData:b,notifyOnNetworkStatusChange:T,context:_}),w=function(B){y.variables=B;var H=n.fetchQueryByPolicy(c,y,i);return y.fetchPolicy!=="standby"&&H.length>0&&c.observableQuery&&c.observableQuery.applyNextFetchPolicy("after-fetch",o),H},I=function(){return n.fetchCancelFns.delete(t)};this.fetchCancelFns.set(t,function(B){I(),setTimeout(function(){return k.cancel(B)})});var k=new Dr(this.transform(y.query).hasClientExports?this.localState.addExportedVariables(y.query,y.variables,y.context).then(w):w(y.variables));return k.promise.then(I,I),k},e.prototype.refetchQueries=function(t){var o=this,i=t.updateCache,n=t.include,r=t.optimistic,s=r===void 0?!1:r,c=t.removeOptimistic,a=c===void 0?s?Du("refetchQueries"):void 0:c,l=t.onQueryUpdated,u=new Map;n&&this.getObservableQueries(n).forEach(function(f,g){u.set(g,{oq:f,lastDiff:o.getQuery(g).getDiff()})});var h=new Map;return i&&this.cache.batch({update:i,optimistic:s&&a||!1,removeOptimistic:a,onWatchUpdated:function(f,g,b){var C=f.watcher instanceof Uc&&f.watcher.observableQuery;if(C){if(l){u.delete(C.queryId);var T=l(C,g,b);return T===!0&&(T=C.refetch()),T!==!1&&h.set(C,T),T}l!==null&&u.set(C.queryId,{oq:C,lastDiff:b,diff:g})}}}),u.size&&u.forEach(function(f,g){var b=f.oq,C=f.lastDiff,T=f.diff,S;if(l){if(!T){var _=b.queryInfo;_.reset(),T=_.getDiff()}S=l(b,T,C)}(!l||S===!0)&&(S=b.refetch()),S!==!1&&h.set(b,S),g.indexOf("legacyOneTimeQuery")>=0&&o.stopQueryNoBroadcast(g)}),a&&this.cache.removeOptimistic(a),h},e.prototype.fetchQueryByPolicy=function(t,o,i){var n=this,r=o.query,s=o.variables,c=o.fetchPolicy,a=o.refetchWritePolicy,l=o.errorPolicy,u=o.returnPartialData,h=o.context,f=o.notifyOnNetworkStatusChange,g=t.networkStatus;t.init({document:this.transform(r).document,variables:s,networkStatus:i});var b=function(){return t.getDiff(s)},C=function(w,I){I===void 0&&(I=t.networkStatus||pt.loading);var k=w.result;__DEV__&&!u&&!Pt(k,{})&&oy(w.missing);var B=function(H){return mt.of(Ae({data:H,loading:os(I),networkStatus:I},w.complete?null:{partial:!0}))};return k&&n.transform(r).hasForcedResolvers?n.localState.runResolvers({document:r,remoteResult:{data:k},context:h,variables:s,onlyRunForcedResolvers:!0}).then(function(H){return B(H.data||void 0)}):l==="none"&&I===pt.refetch&&Array.isArray(w.missing)?B(void 0):B(k)},T=c==="no-cache"?0:i===pt.refetch&&a!=="merge"?1:2,S=function(){return n.getResultsFromLink(t,T,{variables:s,context:h,fetchPolicy:c,errorPolicy:l})},_=f&&typeof g=="number"&&g!==i&&os(i);switch(c){default:case"cache-first":{var y=b();return y.complete?[C(y,t.markReady())]:u||_?[C(y),S()]:[S()]}case"cache-and-network":{var y=b();return y.complete||u||_?[C(y),S()]:[S()]}case"cache-only":return[C(b(),t.markReady())];case"network-only":return _?[C(b()),S()]:[S()];case"no-cache":return _?[C(t.getDiff()),S()]:[S()];case"standby":return[]}},e.prototype.getQuery=function(t){return t&&!this.queries.has(t)&&this.queries.set(t,new Uc(this,t)),this.queries.get(t)},e.prototype.prepareContext=function(t){t===void 0&&(t={});var o=this.localState.prepareContext(t);return Ae(Ae({},o),{clientAwareness:this.clientAwareness})},e}(),rv=!1,S2=function(){function e(t){var o=this;this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var i=t.uri,n=t.credentials,r=t.headers,s=t.cache,c=t.ssrMode,a=c===void 0?!1:c,l=t.ssrForceFetchDelay,u=l===void 0?0:l,h=t.connectToDevTools,f=h===void 0?typeof window=="object"&&!window.__APOLLO_CLIENT__&&__DEV__:h,g=t.queryDeduplication,b=g===void 0?!0:g,C=t.defaultOptions,T=t.assumeImmutableResults,S=T===void 0?!1:T,_=t.resolvers,y=t.typeDefs,w=t.fragmentMatcher,I=t.name,k=t.version,B=t.link;if(B||(B=i?new PT({uri:i,credentials:n,headers:r}):Ro.empty()),!s)throw __DEV__?new ut(`To initialize Apollo Client, you must specify a 'cache' property in the options object. 
For more information, please visit: https://go.apollo.dev/c/docs`):new ut(9);if(this.link=B,this.cache=s,this.disableNetworkFetches=a||u>0,this.queryDeduplication=b,this.defaultOptions=C||Object.create(null),this.typeDefs=y,u&&setTimeout(function(){return o.disableNetworkFetches=!1},u),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),f&&typeof window=="object"&&(window.__APOLLO_CLIENT__=this),!rv&&f&&__DEV__&&(rv=!0,typeof window<"u"&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var H=window.navigator,P=H&&H.userAgent,R=void 0;typeof P=="string"&&(P.indexOf("Chrome/")>-1?R="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":P.indexOf("Firefox/")>-1&&(R="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),R&&__DEV__&&Le.log("Download the Apollo DevTools for a better development experience: "+R)}this.version=rT,this.localState=new ny({cache:s,client:this,resolvers:_,fragmentMatcher:w}),this.queryManager=new C2({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,queryDeduplication:b,ssrMode:a,clientAwareness:{name:I,version:k},localState:this.localState,assumeImmutableResults:S,onBroadcast:f?function(){o.devToolsHookCb&&o.devToolsHookCb({action:{},state:{queries:o.queryManager.getQueryStore(),mutations:o.queryManager.mutationStore||{}},dataWithOptimisticResults:o.cache.extract(!0)})}:void 0})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(t){return this.defaultOptions.watchQuery&&(t=Pc(this.defaultOptions.watchQuery,t)),this.disableNetworkFetches&&(t.fetchPolicy==="network-only"||t.fetchPolicy==="cache-and-network")&&(t=Ae(Ae({},t),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(t)},e.prototype.query=function(t){return this.defaultOptions.query&&(t=Pc(this.defaultOptions.query,t)),__DEV__?Le(t.fetchPolicy!=="cache-and-network","The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):Le(t.fetchPolicy!=="cache-and-network",10),this.disableNetworkFetches&&t.fetchPolicy==="network-only"&&(t=Ae(Ae({},t),{fetchPolicy:"cache-first"})),this.queryManager.query(t)},e.prototype.mutate=function(t){return this.defaultOptions.mutate&&(t=Pc(this.defaultOptions.mutate,t)),this.queryManager.mutate(t)},e.prototype.subscribe=function(t){return this.queryManager.startGraphQLSubscription(t)},e.prototype.readQuery=function(t,o){return o===void 0&&(o=!1),this.cache.readQuery(t,o)},e.prototype.readFragment=function(t,o){return o===void 0&&(o=!1),this.cache.readFragment(t,o)},e.prototype.writeQuery=function(t){var o=this.cache.writeQuery(t);return t.broadcast!==!1&&this.queryManager.broadcastQueries(),o},e.prototype.writeFragment=function(t){var o=this.cache.writeFragment(t);return t.broadcast!==!1&&this.queryManager.broadcastQueries(),o},e.prototype.__actionHookForDevTools=function(t){this.devToolsHookCb=t},e.prototype.__requestRaw=function(t){return Ou(this.link,t)},e.prototype.resetStore=function(){var t=this;return Promise.resolve().then(function(){return t.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(t.resetStoreCallbacks.map(function(o){return o()}))}).then(function(){return t.reFetchObservableQueries()})},e.prototype.clearStore=function(){var t=this;return Promise.resolve().then(function(){return t.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(t.clearStoreCallbacks.map(function(o){return o()}))})},e.prototype.onResetStore=function(t){var o=this;return this.resetStoreCallbacks.push(t),function(){o.resetStoreCallbacks=o.resetStoreCallbacks.filter(function(i){return i!==t})}},e.prototype.onClearStore=function(t){var o=this;return this.clearStoreCallbacks.push(t),function(){o.clearStoreCallbacks=o.clearStoreCallbacks.filter(function(i){return i!==t})}},e.prototype.reFetchObservableQueries=function(t){return this.queryManager.reFetchObservableQueries(t)},e.prototype.refetchQueries=function(t){var o=this.queryManager.refetchQueries(t),i=[],n=[];o.forEach(function(s,c){i.push(c),n.push(s)});var r=Promise.all(n);return r.queries=i,r.results=n,r.catch(function(s){__DEV__&&Le.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(s))}),r},e.prototype.getObservableQueries=function(t){return t===void 0&&(t="active"),this.queryManager.getObservableQueries(t)},e.prototype.extract=function(t){return this.cache.extract(t)},e.prototype.restore=function(t){return this.cache.restore(t)},e.prototype.addResolvers=function(t){this.localState.addResolvers(t)},e.prototype.setResolvers=function(t){this.localState.setResolvers(t)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(t){this.localState.setFragmentMatcher(t)},e.prototype.setLink=function(t){this.link=this.queryManager.link=t},e}();function x2(e,t){var o=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(o!=null){var i,n,r,s,c=[],a=!0,l=!1;try{if(r=(o=o.call(e)).next,t===0){if(Object(o)!==o)return;a=!1}else for(;!(a=(i=r.call(o)).done)&&(c.push(i.value),c.length!==t);a=!0);}catch(u){l=!0,n=u}finally{try{if(!a&&o.return!=null&&(s=o.return(),Object(s)!==s))return}finally{if(l)throw n}}return c}}function sv(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),o.push.apply(o,i)}return o}function Ci(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?sv(Object(o),!0).forEach(function(i){Go(e,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):sv(Object(o)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(o,i))})}return e}function Qu(e){return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function ds(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function av(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ay(i.key),i)}}function hs(e,t,o){return t&&av(e.prototype,t),o&&av(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function Go(e,t,o){return t=ay(t),t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function iy(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gu(e,t)}function qt(e){return qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},qt(e)}function Gu(e,t){return Gu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},Gu(e,t)}function I2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T2(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wn(e)}function ry(e){var t=I2();return function(){var i=qt(e),n;if(t){var r=qt(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return T2(this,n)}}function R2(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=qt(e),e!==null););return e}function eo(){return typeof Reflect<"u"&&Reflect.get?eo=Reflect.get.bind():eo=function(t,o,i){var n=R2(t,o);if(n){var r=Object.getOwnPropertyDescriptor(n,o);return r.get?r.get.call(arguments.length<3?t:i):r.value}},eo.apply(this,arguments)}function lv(e,t){return k2(e)||x2(e,t)||sy(e,t)||L2()}function P2(e){return D2(e)||O2(e)||sy(e)||M2()}function D2(e){if(Array.isArray(e))return Ku(e)}function k2(e){if(Array.isArray(e))return e}function O2(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sy(e,t){if(e){if(typeof e=="string")return Ku(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Ku(e,t)}}function Ku(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,i=new Array(t);o<t;o++)i[o]=e[o];return i}function M2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F2(e,t){if(typeof e!="object"||e===null)return e;var o=e[Symbol.toPrimitive];if(o!==void 0){var i=o.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ay(e){var t=F2(e,"string");return typeof t=="symbol"?t:String(t)}function Wu(e,t,o,i){var n,r=!1,s=0;function c(){n&&clearTimeout(n)}function a(){c(),r=!0}typeof t!="boolean"&&(i=o,o=t,t=void 0);function l(){for(var u=arguments.length,h=new Array(u),f=0;f<u;f++)h[f]=arguments[f];var g=this,b=Date.now()-s;if(r)return;function C(){s=Date.now(),o.apply(g,h)}function T(){n=void 0}i&&!n&&C(),c(),i===void 0&&b>e?C():t!==!0&&(n=setTimeout(i?T:C,i===void 0?e-b:e))}return l.cancel=a,l}function B2(e,t,o){return o===void 0?Wu(e,t,!1):Wu(e,o,t!==!1)}var ly=Object.freeze({__proto__:null,debounce:B2,throttle:Wu});function cy(e){return function(t,o){return e(o,t)}}var cv=cy(ly.throttle),uv=cy(ly.debounce),Ju=function(t,o){for(;typeof t=="function";)t=t.call(o);return t},Yu=function(t,o){return Object.entries(t).filter(function(i){var n=lv(i,1),r=n[0];return!o.includes(r)}).reduce(function(i,n){var r=lv(n,2),s=r[0],c=r[1];return i[s]=c,i},{})},dv=function(t){t.graphQLErrors&&t.graphQLErrors.length&&(t.gqlError=t.graphQLErrors[0])},Lo=typeof window>"u",U2={query:"_skipAllQueries",subscription:"_skipAllSubscriptions"},uy=function(){function e(t,o,i){ds(this,e),Go(this,"type",null),Go(this,"vueApolloSpecialKeys",[]),this.vm=t,this.key=o,this.initialOptions=i,this.options=Object.assign({},i),this._skip=!1,this._pollInterval=null,this._watchers=[],this._destroyed=!1,this.lastApolloOptions=null}return hs(e,[{key:"autostart",value:function(){var o=this;typeof this.options.skip=="function"?this._skipWatcher=this.vm.$watch(function(){return o.options.skip.call(o.vm,o.vm,o.key)},this.skipChanged.bind(this),{immediate:!0,deep:this.options.deep}):!this.options.skip&&!this.allSkip?this.start():this._skip=!0,typeof this.options.pollInterval=="function"&&(this._pollWatcher=this.vm.$watch(this.options.pollInterval.bind(this.vm),this.pollIntervalChanged.bind(this),{immediate:!0}))}},{key:"pollIntervalChanged",value:function(o,i){o!==i&&(this.pollInterval=o,o==null?this.stopPolling():this.startPolling(o))}},{key:"skipChanged",value:function(o,i){o!==i&&(this.skip=o)}},{key:"pollInterval",get:function(){return this._pollInterval},set:function(o){this._pollInterval=o}},{key:"skip",get:function(){return this._skip},set:function(o){o||this.allSkip?this.stop():this.start(),this._skip=o}},{key:"allSkip",get:function(){return this.vm.$apollo[U2[this.type]]}},{key:"refresh",value:function(){this._skip||(this.stop(),this.start())}},{key:"start",value:function(){var o=this;this.starting=!0;for(var i=function(){var a=r[n];if(typeof o.initialOptions[a]=="function"){var l=o.initialOptions[a].bind(o.vm);o.options[a]=l();var u=function(f){o._destroyed||(o.options[a]=f,o.refresh())};Lo||(u=o.options.throttle?cv(u,o.options.throttle):u,u=o.options.debounce?uv(u,o.options.debounce):u),o._watchers.push(o.vm.$watch(l,u,{deep:o.options.deep}))}},n=0,r=["query","document","context"];n<r.length;n++)i();if(typeof this.options.variables=="function"){var s=this.executeApollo.bind(this);Lo||(s=this.options.throttle?cv(s,this.options.throttle):s,s=this.options.debounce?uv(s,this.options.debounce):s),this._watchers.push(this.vm.$watch(function(){return typeof o.options.variables=="function"?o.options.variables.call(o.vm):o.options.variables},s,{immediate:!0,deep:this.options.deep}))}else this.executeApollo(this.options.variables)}},{key:"stop",value:function(){for(var o=0,i=this._watchers;o<i.length;o++){var n=i[o];n()}this.sub&&(this.sub.unsubscribe(),this.sub=null)}},{key:"generateApolloOptions",value:function(o){var i=Yu(this.options,this.vueApolloSpecialKeys);return i.variables=o,this.lastApolloOptions=i,i}},{key:"executeApollo",value:function(o){this.starting=!1}},{key:"nextResult",value:function(o){var i=o.error;i&&dv(i)}},{key:"callHandlers",value:function(o){for(var i=!1,n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];for(var c=0;c<o.length;c++){var a=o[c];if(a){i=!0;var l=a.apply(this.vm,r);if(typeof l<"u"&&!l)break}}return i}},{key:"errorHandler",value:function(){for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return this.callHandlers.apply(this,[[this.options.error,this.vm.$apollo.error,this.vm.$apollo.provider.errorHandler]].concat(i))}},{key:"catchError",value:function(o){dv(o);var i=this.errorHandler(o,this.vm,this.key,this.type,this.lastApolloOptions);if(!i)if(o.graphQLErrors&&o.graphQLErrors.length!==0){console.error("GraphQL execution errors for ".concat(this.type," '").concat(this.key,"'"));for(var n=0,r=o.graphQLErrors;n<r.length;n++){var s=r[n];console.error(s)}}else if(o.networkError)console.error("Error sending the ".concat(this.type," '").concat(this.key,"'"),o.networkError);else if(console.error("[vue-apollo] An error has occurred for ".concat(this.type," '").concat(this.key,"'")),Array.isArray(o)){var c;(c=console).error.apply(c,P2(o))}else console.error(o)}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.stop(),this._skipWatcher&&this._skipWatcher())}}]),e}(),$2=["variables","watch","update","result","error","loadingKey","watchLoading","skip","throttle","debounce","subscribeToMore","prefetch","manual"],j2=function(e){iy(o,e);var t=ry(o);function o(i,n,r){var s,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return ds(this,o),i.$data.$apolloData&&!i.$data.$apolloData.queries[n]&&(i.$data.$apolloData.queries[n]={loading:!1}),s=t.call(this,i,n,r),Go(Wn(s),"type","query"),Go(Wn(s),"vueApolloSpecialKeys",$2),Go(Wn(s),"_loading",!1),Go(Wn(s),"_linkedSubscriptions",[]),Lo&&(s.firstRun=new Promise(function(a,l){s._firstRunResolve=a,s._firstRunReject=l})),Lo&&(s.options.fetchPolicy="network-only"),r.manual||(s.hasDataField=Object.prototype.hasOwnProperty.call(s.vm.$data,n),s.hasDataField?Object.defineProperty(s.vm.$data.$apolloData.data,n,{get:function(){return s.vm.$data[n]},enumerable:!0,configurable:!0}):Object.defineProperty(s.vm.$data,n,{get:function(){return s.vm.$data.$apolloData.data[n]},enumerable:!0,configurable:!0})),c&&s.autostart(),s}return hs(o,[{key:"client",get:function(){return this.vm.$apollo.getClient(this.options)}},{key:"loading",get:function(){return this.vm.$data.$apolloData&&this.vm.$data.$apolloData.queries[this.key]?this.vm.$data.$apolloData.queries[this.key].loading:this._loading},set:function(n){this._loading!==n&&(this._loading=n,this.vm.$data.$apolloData&&this.vm.$data.$apolloData.queries[this.key]&&(this.vm.$data.$apolloData.queries[this.key].loading=n,this.vm.$data.$apolloData.loading+=n?1:-1))}},{key:"stop",value:function(){eo(qt(o.prototype),"stop",this).call(this),this.loadingDone(),this.observer&&(this.observer.stopPolling(),this.observer=null)}},{key:"generateApolloOptions",value:function(n){var r=eo(qt(o.prototype),"generateApolloOptions",this).call(this,n);return this.vm.$isServer&&delete r.pollInterval,r}},{key:"executeApollo",value:function(n){if(!this._destroyed){var r=JSON.stringify(n);if(this.sub){if(r===this.previousVariablesJson)return;this.sub.unsubscribe();for(var s=0,c=this._linkedSubscriptions;s<c.length;s++){var a=c[s];a.stop()}}if(this.previousVariablesJson=r,this.observer=this.vm.$apollo.watchQuery(this.generateApolloOptions(n)),this.startQuerySubscription(),this.options.fetchPolicy!=="no-cache"||this.options.notifyOnNetworkStatusChange){var l=this.retrieveCurrentResult();(this.options.notifyOnNetworkStatusChange||this.observer.getCurrentResult&&!l.loading)&&this.nextResult(l)}eo(qt(o.prototype),"executeApollo",this).call(this,n);for(var u=0,h=this._linkedSubscriptions;u<h.length;u++){var f=h[u];f.start()}}}},{key:"startQuerySubscription",value:function(){this.sub&&!this.sub.closed||(this.sub=this.observer.subscribe({next:this.nextResult.bind(this),error:this.catchError.bind(this)}))}},{key:"retrieveCurrentResult",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.observer.getCurrentResult?this.observer.getCurrentResult():this.observer.currentResult();return(n||r.loading)&&(this.loading||this.applyLoadingModifier(1),this.loading=!0),r}},{key:"nextResult",value:function(n){eo(qt(o.prototype),"nextResult",this).call(this,n);var r=n.data,s=n.loading,c=n.error,a=n.errors,l=a&&a.length;if((c||l)&&this.firstRunReject(c),s||this.loadingDone(),!c&&l){var u=new Error("GraphQL error: ".concat(a.map(function(f){return f.message}).join(" | ")));Object.assign(u,{graphQLErrors:a,networkError:null}),eo(qt(o.prototype),"catchError",this).call(this,u)}if(!(this.observer.options.errorPolicy==="none"&&(c||l))){var h=typeof this.options.result=="function";r==null||(this.options.manual?h||console.error("".concat(this.key," query must have a 'result' hook in manual mode")):typeof this.options.update=="function"?this.setData(this.options.update.call(this.vm,r)):typeof r[this.key]>"u"&&Object.keys(r).length?console.error("Missing ".concat(this.key," attribute on result"),r):this.setData(r[this.key])),h&&this.options.result.call(this.vm,n,this.key)}}},{key:"setData",value:function(n){var r=this.hasDataField?this.vm.$data:this.vm.$data.$apolloData.data;r[this.key]=n}},{key:"catchError",value:function(n){eo(qt(o.prototype),"catchError",this).call(this,n),this.firstRunReject(n),this.loadingDone(n),this.nextResult(this.observer.getCurrentResult?this.observer.getCurrentResult():this.observer.currentResult()),this.resubscribeToQuery()}},{key:"resubscribeToQuery",value:function(){var n=this.observer.getLastError(),r=this.observer.getLastResult();this.observer.resetLastResults(),this.startQuerySubscription(),Object.assign(this.observer,{lastError:n,lastResult:r})}},{key:"loadingKey",get:function(){return this.options.loadingKey||this.vm.$apollo.loadingKey}},{key:"watchLoading",value:function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return this.callHandlers.apply(this,[[this.options.watchLoading,this.vm.$apollo.watchLoading,this.vm.$apollo.provider.watchLoading]].concat(r,[this]))}},{key:"applyLoadingModifier",value:function(n){var r=this.loadingKey;r&&typeof this.vm[r]=="number"&&(this.vm[r]+=n),this.watchLoading(n===1,n)}},{key:"loadingDone",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.loading&&this.applyLoadingModifier(-1),this.loading=!1,n||this.firstRunResolve()}},{key:"fetchMore",value:function(){var n=this;if(this.observer){var r;return this.retrieveCurrentResult(!0),(r=this.observer).fetchMore.apply(r,arguments).then(function(s){return s.loading||n.loadingDone(),s})}}},{key:"subscribeToMore",value:function(){if(this.observer){var n;return{unsubscribe:(n=this.observer).subscribeToMore.apply(n,arguments)}}}},{key:"refetch",value:function(n){var r=this;if(n&&(this.options.variables=n),this.observer){var s=this.observer.refetch(n).then(function(c){return c.loading||r.loadingDone(),c});return this.retrieveCurrentResult(),s}}},{key:"setVariables",value:function(n,r){if(this.options.variables=n,this.observer){var s=this.observer.setVariables(n,r);return this.retrieveCurrentResult(),s}}},{key:"setOptions",value:function(n){if(Object.assign(this.options,n),this.observer){var r=this.observer.setOptions(n);return this.retrieveCurrentResult(),r}}},{key:"startPolling",value:function(){if(this.observer){var n;return(n=this.observer).startPolling.apply(n,arguments)}}},{key:"stopPolling",value:function(){if(this.observer){var n;return(n=this.observer).stopPolling.apply(n,arguments)}}},{key:"firstRunResolve",value:function(){this._firstRunResolve&&(this._firstRunResolve(),this._firstRunResolve=null)}},{key:"firstRunReject",value:function(n){this._firstRunReject&&(this._firstRunReject(n),this._firstRunReject=null)}},{key:"destroy",value:function(){eo(qt(o.prototype),"destroy",this).call(this),this.loading&&this.watchLoading(!1,-1),this.loading=!1}}]),o}(uy),q2=function(e){iy(o,e);var t=ry(o);function o(i,n,r){var s,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return ds(this,o),s=t.call(this,i,n,r),Go(Wn(s),"type","subscription"),Go(Wn(s),"vueApolloSpecialKeys",["variables","result","error","throttle","debounce","linkedQuery"]),c&&s.autostart(),s}return hs(o,[{key:"generateApolloOptions",value:function(n){var r=eo(qt(o.prototype),"generateApolloOptions",this).call(this,n);return r.onError=this.catchError.bind(this),r}},{key:"executeApollo",value:function(n){if(!this._destroyed){var r=JSON.stringify(n);if(this.sub){if(r===this.previousVariablesJson)return;this.sub.unsubscribe()}this.previousVariablesJson=r;var s=this.generateApolloOptions(n);if(typeof s.updateQuery=="function"&&(s.updateQuery=s.updateQuery.bind(this.vm)),this.options.linkedQuery){if(typeof this.options.result=="function"){var c=this.options.result.bind(this.vm),a=s.updateQuery&&s.updateQuery.bind(this.vm);s.updateQuery=function(){return c.apply(void 0,arguments),a&&a.apply(void 0,arguments)}}this.sub=this.options.linkedQuery.subscribeToMore(s)}else this.observer=this.vm.$apollo.subscribe(s),this.sub=this.observer.subscribe({next:this.nextResult.bind(this),error:this.catchError.bind(this)});eo(qt(o.prototype),"executeApollo",this).call(this,n)}}},{key:"nextResult",value:function(n){eo(qt(o.prototype),"nextResult",this).call(this,n),typeof this.options.result=="function"&&this.options.result.call(this.vm,n,this.key)}},{key:"catchError",value:function(n){eo(qt(o.prototype),"catchError",this).call(this,n),this.skip||(this.stop(),this.start())}}]),o}(uy),V2=function(){function e(t,o){ds(this,e),this._apolloSubscriptions=[],this._watchers=[],this.vm=t,this.provider=o,this.queries={},this.subscriptions={},this.client=void 0,this.loadingKey=void 0,this.error=void 0}return hs(e,[{key:"getClient",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!o||!o.client){if(Qu(this.client)==="object")return this.client;if(this.client)if(this.provider.clients){var i=this.provider.clients[this.client];if(!i)throw new Error("[vue-apollo] Missing client '".concat(this.client,"' in 'apolloProvider'"));return i}else throw new Error("[vue-apollo] Missing 'clients' options in 'apolloProvider'");return this.provider.defaultClient}var n=this.provider.clients[o.client];if(!n)throw new Error("[vue-apollo] Missing client '".concat(o.client,"' in 'apolloProvider'"));return n}},{key:"query",value:function(o){return this.getClient(o).query(o)}},{key:"watchQuery",value:function(o){var i=this,n=this.getClient(o).watchQuery(o),r=n.subscribe.bind(n);return n.subscribe=function(s){var c=r(s);return i._apolloSubscriptions.push(c),c},n}},{key:"mutate",value:function(o){return this.getClient(o).mutate(o)}},{key:"subscribe",value:function(o){var i=this;if(!Lo){var n=this.getClient(o).subscribe(o),r=n.subscribe.bind(n);return n.subscribe=function(s){var c=r(s);return i._apolloSubscriptions.push(c),c},n}}},{key:"loading",get:function(){return this.vm.$data.$apolloData.loading!==0}},{key:"data",get:function(){return this.vm.$data.$apolloData.data}},{key:"addSmartQuery",value:function(o,i){var n=this,r=Ju(i,this.vm);if(!r.query){var s=r;r={query:s}}var c=this.vm.$options.apollo,a=this.provider.defaultOptions,l;if(a&&a.$query&&(l=a.$query),c&&c.$query&&(l=Ci(Ci({},l||{}),c.$query)),l)for(var u in l)typeof r[u]>"u"&&(r[u]=l[u]);var h=this.queries[o]=new j2(this.vm,o,r,!1);if((!Lo||r.prefetch!==!1)&&h.autostart(),!Lo){var f=r.subscribeToMore;f&&(Array.isArray(f)?f.forEach(function(g,b){n.addSmartSubscription("".concat(o).concat(b),Ci(Ci({},g),{},{linkedQuery:h}))}):this.addSmartSubscription(o,Ci(Ci({},f),{},{linkedQuery:h})))}return h}},{key:"addSmartSubscription",value:function(o,i){if(!Lo){i=Ju(i,this.vm);var n=this.subscriptions[o]=new q2(this.vm,o,i,!1);if(n.autostart(),i.linkedQuery){var r=i.linkedQuery._linkedSubscriptions.findIndex(function(s){return s.key===o});r!==-1?i.linkedQuery._linkedSubscriptions[r]=n:i.linkedQuery._linkedSubscriptions.push(n)}return n}}},{key:"defineReactiveSetter",value:function(o,i,n){var r=this;this._watchers.push(this.vm.$watch(i,function(s){r[o]=s},{immediate:!0,deep:n}))}},{key:"skipAllQueries",set:function(o){this._skipAllQueries=o;for(var i in this.queries)this.queries[i].skip=o}},{key:"skipAllSubscriptions",set:function(o){this._skipAllSubscriptions=o;for(var i in this.subscriptions)this.subscriptions[i].skip=o}},{key:"skipAll",set:function(o){this.skipAllQueries=o,this.skipAllSubscriptions=o}},{key:"destroy",value:function(){for(var o=0,i=this._watchers;o<i.length;o++){var n=i[o];n()}for(var r in this.queries)this.queries[r].destroy();for(var s in this.subscriptions)this.subscriptions[s].destroy();this._apolloSubscriptions.forEach(function(c){c.unsubscribe()}),this._apolloSubscriptions=null,this.vm=null}}]),e}();function $c(e,t){return typeof e<"u"&&Object.prototype.hasOwnProperty.call(e,t)}function H2(){var e=this,t=this.$apolloProvider;if(!(this._apolloLaunched||!t)){this._apolloLaunched=!0;var o=this.$options.apollo;if(o){this.$_apolloPromises=[],o.$init||(o.$init=!0,t.defaultOptions&&(o=this.$options.apollo=Object.assign({},t.defaultOptions,o))),$n(this.$apollo,"skipAll",o.$skipAll,o.$deep),$n(this.$apollo,"skipAllQueries",o.$skipAllQueries,o.$deep),$n(this.$apollo,"skipAllSubscriptions",o.$skipAllSubscriptions,o.$deep),$n(this.$apollo,"client",o.$client,o.$deep),$n(this.$apollo,"loadingKey",o.$loadingKey,o.$deep),$n(this.$apollo,"error",o.$error,o.$deep),$n(this.$apollo,"watchLoading",o.$watchLoading,o.$deep),Object.defineProperty(this,"$apolloData",{get:function(){return e.$data.$apolloData},enumerable:!0,configurable:!0});for(var i in o)if(i.charAt(0)!=="$"){var n=o[i],r=this.$apollo.addSmartQuery(i,n);Lo&&(n=Ju(n,this),t.prefetch!==!1&&n.prefetch!==!1&&o.$prefetch!==!1&&!r.skip&&this.$_apolloPromises.push(r.firstRun))}if(o.subscribe&&console.warn("vue-apollo -> `subscribe` option is deprecated. Use the `$subscribe` option instead."),o.$subscribe)for(var s in o.$subscribe)this.$apollo.addSmartSubscription(s,o.$subscribe[s])}}}function $n(e,t,o,i){typeof o<"u"&&(typeof o=="function"?e.defineReactiveSetter(t,o,i):e[t]=o)}function Ys(){this.$apollo&&(this.$apollo.destroy(),this.$apollo=null)}function z2(e,t){e.mixin({data:function(){var i={$apolloData:{queries:{},loading:0,data:{}}},n=this.$options.apollo;if(n){for(var r in n)if(r.charAt(0)!=="$"){var s=n[r];!s.manual&&!$c(this.$options.props,r)&&!$c(this.$options.computed,r)&&!$c(this.$options.methods,r)&&(i[r]=null)}}return i},beforeCreate:function(){var i=this;if(this.$apollo=new V2(this,t),Lo){var n=this.$options.ssrRender;this.$options.ssrRender=function(r){var s=n.call(i,r);return Ys.call(i),s}}},serverPrefetch:function(){var i=this;if(this.$_apolloPromises)return Promise.all(this.$_apolloPromises).then(function(){var n={vm:i,provider:i.$apollo.provider,loading:!1,queries:{},subscriptions:{}};Ys.call(i),i.$apollo=n}).catch(function(n){return Ys.call(i),Promise.reject(n)})},created:H2,unmounted:Ys})}var Zs=["$subscribe"],Q2=function(){function e(t){if(ds(this,e),!t)throw new Error("Options argument required");this.clients=t.clients||{},t.defaultClient&&(this.clients.defaultClient=this.defaultClient=t.defaultClient),this.defaultOptions=t.defaultOptions,this.watchLoading=t.watchLoading,this.errorHandler=t.errorHandler,this.prefetch=t.prefetch}return hs(e,[{key:"install",value:function(o){o.config.optionMergeStrategies.apollo=function(i,n,r){if(!i)return n;if(!n)return i;for(var s=Object.assign({},Yu(i,Zs),i.data),c=Object.assign({},Yu(n,Zs),n.data),a={},l=0;l<Zs.length;l++){var u=Zs[l];a[u]=hv(i[u],n[u])}return Object.assign(a,hv(s,c))},o.config.globalProperties.$apolloProvider=this,z2(o,this)}}]),e}();function hv(e,t){return e?Object.assign(Object.assign(Object.create(null),e),t):t}function G2(e){return new Q2(e)}function dy(e){return new Ro(function(t,o){return new mt(function(i){var n,r,s;try{n=o(t).subscribe({next:function(c){if(c.errors&&(s=e({graphQLErrors:c.errors,response:c,operation:t,forward:o}),s)){r=s.subscribe({next:i.next.bind(i),error:i.error.bind(i),complete:i.complete.bind(i)});return}i.next(c)},error:function(c){if(s=e({operation:t,networkError:c,graphQLErrors:c&&c.result&&c.result.errors,forward:o}),s){r=s.subscribe({next:i.next.bind(i),error:i.error.bind(i),complete:i.complete.bind(i)});return}i.error(c)},complete:function(){s||i.complete.bind(i)()}})}catch(c){e({networkError:c,operation:t,forward:o}),i.error(c)}return function(){n&&n.unsubscribe(),r&&n.unsubscribe()}})})}(function(e){co(t,e);function t(o){var i=e.call(this)||this;return i.link=dy(o),i}return t.prototype.request=function(o,i){return this.link.request(o,i)},t})(Ro);function K2(e){return new Ro(function(t,o){var i=oi(t,[]);return new mt(function(n){var r,s=!1;return Promise.resolve(i).then(function(c){return e(c,t.getContext())}).then(t.setContext).then(function(){s||(r=o(t).subscribe({next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)}))}).catch(n.error.bind(n)),function(){s=!0,r&&r.unsubscribe()}})})}function W2(e){return Et(e)&&"code"in e&&"reason"in e}var J2=function(e){co(t,e);function t(o){var i=e.call(this)||this;return i.client=o,i}return t.prototype.request=function(o){var i=this;return new mt(function(n){return i.client.subscribe(Ae(Ae({},o),{query:Xg(o.query)}),{next:n.next.bind(n),complete:n.complete.bind(n),error:function(r){return r instanceof Error?n.error(r):W2(r)?n.error(new Error("Socket closed with event ".concat(r.code," ").concat(r.reason||""))):n.error(new Vn({graphQLErrors:Array.isArray(r)?r:[r]}))}})})},t}(Ro),fv=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;for(var i=Array(e),n=0,t=0;t<o;t++)for(var r=arguments[t],s=0,c=r.length;s<c;s++,n++)i[n]=r[s];return i},Y2=function(){function e(t){var o=t.debug,i=o===void 0?!1:o;this.debug=i,this.lines=[]}return e.prototype.emit=function(t,o){if(t in console){var i=e.prefix;console[t].apply(console,fv([i],o))}},e.prototype.tailLogs=function(){var t=this;this.lines.forEach(function(o){var i=o[0],n=o[1];return t.emit(i,n)})},e.prototype.getLogs=function(){return this.lines},e.prototype.write=function(t,o){var i=e.buffer;this.lines=fv(this.lines.slice(1-i),[[t,o]]),(this.debug||t!=="log")&&this.emit(t,o)},e.prototype.info=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];this.write("log",t)},e.prototype.warn=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];this.write("warn",t)},e.prototype.error=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];this.write("error",t)},e.buffer=30,e.prefix="[apollo-cache-persist]",e}(),Z2=function(){function e(t){var o=t.cache,i=t.serialize,n=i===void 0?!0:i;this.cache=o,this.serialize=n}return e.prototype.extract=function(){var t=this.cache.extract();return this.serialize&&(t=JSON.stringify(t)),t},e.prototype.restore=function(t){this.serialize&&typeof t=="string"&&(t=JSON.parse(t)),t!=null&&this.cache.restore(t)},e}(),Xs=globalThis&&globalThis.__awaiter||function(e,t,o,i){function n(r){return r instanceof o?r:new o(function(s){s(r)})}return new(o||(o=Promise))(function(r,s){function c(u){try{l(i.next(u))}catch(h){s(h)}}function a(u){try{l(i.throw(u))}catch(h){s(h)}}function l(u){u.done?r(u.value):n(u.value).then(c,a)}l((i=i.apply(e,t||[])).next())})},ea=globalThis&&globalThis.__generator||function(e,t){var o={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,n,r,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(l){return function(u){return a([l,u])}}function a(l){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(r=l[0]&2?n.return:l[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,l[1])).done)return r;switch(n=0,r&&(l=[l[0]&2,r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(r=o.trys,!(r=r.length>0&&r[r.length-1])&&(l[0]===6||l[0]===2)){o=0;continue}if(l[0]===3&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(l[0]===6&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(u){l=[6,u],n=0}finally{i=r=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},hy=function(){function e(t){var o=t.storage,i=t.key,n=i===void 0?"apollo-cache-persist":i;this.storage=o,this.key=n}return e.prototype.read=function(){return Xs(this,void 0,void 0,function(){return ea(this,function(t){return[2,this.storage.getItem(this.key)]})})},e.prototype.write=function(t){return Xs(this,void 0,void 0,function(){return ea(this,function(o){switch(o.label){case 0:return[4,this.storage.setItem(this.key,t)];case 1:return o.sent(),[2]}})})},e.prototype.purge=function(){return Xs(this,void 0,void 0,function(){return ea(this,function(t){switch(t.label){case 0:return[4,this.storage.removeItem(this.key)];case 1:return t.sent(),[2]}})})},e.prototype.getSize=function(){return Xs(this,void 0,void 0,function(){var t;return ea(this,function(o){switch(o.label){case 0:return[4,this.storage.getItem(this.key)];case 1:return t=o.sent(),t==null?[2,0]:[2,typeof t=="string"?t.length:null]}})})},e}(),jc=globalThis&&globalThis.__awaiter||function(e,t,o,i){function n(r){return r instanceof o?r:new o(function(s){s(r)})}return new(o||(o=Promise))(function(r,s){function c(u){try{l(i.next(u))}catch(h){s(h)}}function a(u){try{l(i.throw(u))}catch(h){s(h)}}function l(u){u.done?r(u.value):n(u.value).then(c,a)}l((i=i.apply(e,t||[])).next())})},qc=globalThis&&globalThis.__generator||function(e,t){var o={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,n,r,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(l){return function(u){return a([l,u])}}function a(l){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(r=l[0]&2?n.return:l[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,l[1])).done)return r;switch(n=0,r&&(l=[l[0]&2,r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(r=o.trys,!(r=r.length>0&&r[r.length-1])&&(l[0]===6||l[0]===2)){o=0;continue}if(l[0]===3&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(l[0]===6&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(u){l=[6,u],n=0}finally{i=r=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},fy=function(){function e(t,o){var i=t.log,n=t.cache,r=t.storage,s=o.maxSize,c=s===void 0?1024*1024:s,a=o.persistenceMapper;this.log=i,this.cache=n,this.storage=r,this.paused=!1,a&&(this.persistenceMapper=a),c&&(this.maxSize=c)}return e.prototype.persist=function(){return jc(this,void 0,void 0,function(){var t,o;return qc(this,function(i){switch(i.label){case 0:return i.trys.push([0,6,,7]),t=this.cache.extract(),!this.paused&&this.persistenceMapper?[4,this.persistenceMapper(t)]:[3,2];case 1:t=i.sent(),i.label=2;case 2:return this.maxSize!=null&&typeof t=="string"&&t.length>this.maxSize&&!this.paused?[4,this.purge()]:[3,4];case 3:return i.sent(),this.paused=!0,[2];case 4:return this.paused?[2]:[4,this.storage.write(t)];case 5:return i.sent(),this.log.info(typeof t=="string"?"Persisted cache of size "+t.length+" characters":"Persisted cache"),[3,7];case 6:throw o=i.sent(),this.log.error("Error persisting cache",o),o;case 7:return[2]}})})},e.prototype.restore=function(){return jc(this,void 0,void 0,function(){var t,o;return qc(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),[4,this.storage.read()];case 1:return t=i.sent(),t==null?[3,3]:[4,this.cache.restore(t)];case 2:return i.sent(),this.log.info(typeof t=="string"?"Restored cache of size "+t.length+" characters":"Restored cache"),[3,4];case 3:this.log.info("No stored cache to restore"),i.label=4;case 4:return[3,6];case 5:throw o=i.sent(),this.log.error("Error restoring cache",o),o;case 6:return[2]}})})},e.prototype.purge=function(){return jc(this,void 0,void 0,function(){var t;return qc(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.storage.purge()];case 1:return o.sent(),this.log.info("Purged cache storage"),[3,3];case 2:throw t=o.sent(),this.log.error("Error purging cache storage",t),t;case 3:return[2]}})})},e}();const py=function(e){var t=e.cache;return function(o){var i=t.write,n=t.evict,r=t.modify;return t.write=function(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];var a=i.apply(t,s);return o(),a},t.evict=function(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];var a=n.apply(t,s);return o(),a},t.modify=function(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];var a=r.apply(t,s);return o(),a},function(){t.write=i,t.evict=n,t.modify=r}}},X2=function(e){var t=e.log,o=e.cache;return function(i){return t.warn("Trigger option `background` not available on web; using `write` trigger"),py({cache:o})(i)}};var eR=function(){function e(t,o){var i=this,n=t.log,r=t.persistor;this.fire=function(){if(!i.debounce){i.persist();return}i.timeout!=null&&clearTimeout(i.timeout),i.timeout=setTimeout(i.persist,i.debounce)},this.persist=function(){i.paused||i.persistor.persist()};var s=e.defaultDebounce,c=o.cache,a=o.debounce,l=o.trigger,u=l===void 0?"write":l;if(u)switch(this.debounce=a??s,this.persistor=r,this.paused=!1,u){case"write":this.uninstall=py({cache:c})(this.fire);break;case"background":a&&n.warn("Debounce is not recommended with `background` trigger"),this.debounce=a,this.uninstall=X2({cache:c,log:n})(this.fire);break;default:if(typeof u=="function")this.uninstall=u(this.fire);else throw Error("Unrecognized trigger option: "+u)}}return e.prototype.pause=function(){this.paused=!0},e.prototype.resume=function(){this.paused=!1},e.prototype.remove=function(){this.uninstall&&(this.uninstall(),this.uninstall=null,this.paused=!0)},e.defaultDebounce=1e3,e}(),my=function(){function e(t){if(!t.cache)throw new Error("In order to persist your Apollo Cache, you need to pass in a cache. Please see https://www.apollographql.com/docs/react/basics/caching.html for our default InMemoryCache.");if(!t.storage)throw new Error("In order to persist your Apollo Cache, you need to pass in an underlying storage provider. Please see https://github.com/apollographql/apollo-cache-persist#storage-providers");var o=new Y2(t),i=new Z2(t),n=new hy(t),r=new fy({log:o,cache:i,storage:n},t),s=new eR({log:o,persistor:r},t);this.log=o,this.cache=i,this.storage=n,this.persistor=r,this.trigger=s}return e.prototype.persist=function(){return this.persistor.persist()},e.prototype.restore=function(){return this.persistor.restore()},e.prototype.purge=function(){return this.persistor.purge()},e.prototype.pause=function(){this.trigger.pause()},e.prototype.resume=function(){this.trigger.resume()},e.prototype.remove=function(){this.trigger.remove()},e.prototype.getLogs=function(t){if(t===void 0&&(t=!1),t)this.log.tailLogs();else return this.log.getLogs()},e.prototype.getSize=function(){return this.storage.getSize()},e}(),Jd=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])},e(t,o)};return function(t,o){e(t,o);function i(){this.constructor=t}t.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}}();(function(e){Jd(t,e);function t(o){var i=e.call(this,o)||this;return i.storage=new oR(o),i.persistor=new tR({log:i.log,cache:i.cache,storage:i.storage},o),i}return t.prototype.restoreSync=function(){this.persistor.restoreSync()},t})(my);var tR=function(e){Jd(t,e);function t(o,i){var n=o.log,r=o.cache,s=o.storage;return e.call(this,{log:n,cache:r,storage:s},i)||this}return t.prototype.restoreSync=function(){this.cache.restore(this.storage.readSync())},t}(fy),oR=function(e){Jd(t,e);function t(o){return e.call(this,o)||this}return t.prototype.readSync=function(){return this.storage.getItem(this.key)},t}(hy),nR=function(){function e(t){this.storage=t}return e.prototype.getItem=function(t){return this.storage.getItem(t)},e.prototype.removeItem=function(t){return this.storage.removeItem(t)},e.prototype.setItem=function(t,o){return o!==null?this.storage.setItem(t,o):this.removeItem(t)},e}();const vy=new b2({typePolicies:{Query:{fields:{nodoConocimiento:{read(e,{variables:t,toReference:o}){return t!=null&&t.idNodo?o({__typename:"NodoConocimiento",id:t.idNodo}):!1}}}}}}),iR=new my({cache:vy,storage:new nR(window.localStorage)});function Zt(e){return e===null?"null":Array.isArray(e)?"array":typeof e}function Hn(e){return Zt(e)==="object"}function rR(e){return Array.isArray(e)&&e.length>0&&e.every(t=>"message"in t)}function pv(e,t){return e.length<124?e:t}const sR="graphql-transport-ws";var lo;(function(e){e[e.InternalServerError=4500]="InternalServerError",e[e.InternalClientError=4005]="InternalClientError",e[e.BadRequest=4400]="BadRequest",e[e.BadResponse=4004]="BadResponse",e[e.Unauthorized=4401]="Unauthorized",e[e.Forbidden=4403]="Forbidden",e[e.SubprotocolNotAcceptable=4406]="SubprotocolNotAcceptable",e[e.ConnectionInitialisationTimeout=4408]="ConnectionInitialisationTimeout",e[e.ConnectionAcknowledgementTimeout=4504]="ConnectionAcknowledgementTimeout",e[e.SubscriberAlreadyExists=4409]="SubscriberAlreadyExists",e[e.TooManyInitialisationRequests=4429]="TooManyInitialisationRequests"})(lo||(lo={}));var Ct;(function(e){e.ConnectionInit="connection_init",e.ConnectionAck="connection_ack",e.Ping="ping",e.Pong="pong",e.Subscribe="subscribe",e.Next="next",e.Error="error",e.Complete="complete"})(Ct||(Ct={}));function gy(e){if(!Hn(e))throw new Error(`Message is expected to be an object, but got ${Zt(e)}`);if(!e.type)throw new Error("Message is missing the 'type' property");if(typeof e.type!="string")throw new Error(`Message is expects the 'type' property to be a string, but got ${Zt(e.type)}`);switch(e.type){case Ct.ConnectionInit:case Ct.ConnectionAck:case Ct.Ping:case Ct.Pong:{if(e.payload!=null&&!Hn(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object or nullish or missing, but got "${e.payload}"`);break}case Ct.Subscribe:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Zt(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!Hn(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${Zt(e.payload)}`);if(typeof e.payload.query!="string")throw new Error(`"${e.type}" message payload expects the 'query' property to be a string, but got ${Zt(e.payload.query)}`);if(e.payload.variables!=null&&!Hn(e.payload.variables))throw new Error(`"${e.type}" message payload expects the 'variables' property to be a an object or nullish or missing, but got ${Zt(e.payload.variables)}`);if(e.payload.operationName!=null&&Zt(e.payload.operationName)!=="string")throw new Error(`"${e.type}" message payload expects the 'operationName' property to be a string or nullish or missing, but got ${Zt(e.payload.operationName)}`);if(e.payload.extensions!=null&&!Hn(e.payload.extensions))throw new Error(`"${e.type}" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ${Zt(e.payload.extensions)}`);break}case Ct.Next:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Zt(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!Hn(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${Zt(e.payload)}`);break}case Ct.Error:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Zt(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!rR(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an array of GraphQL errors, but got ${JSON.stringify(e.payload)}`);break}case Ct.Complete:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Zt(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);break}default:throw new Error(`Invalid message 'type' property "${e.type}"`)}return e}function aR(e,t){return gy(typeof e=="string"?JSON.parse(e,t):e)}function Nr(e,t){return gy(e),JSON.stringify(e,t)}function lR(e){const{url:t,connectionParams:o,lazy:i=!0,onNonLazyError:n=console.error,lazyCloseTimeout:r=0,keepAlive:s=0,disablePong:c,connectionAckWaitTimeout:a=0,retryAttempts:l=5,retryWait:u=async function(ne){let re=1e3;for(let Q=0;Q<ne;Q++)re*=2;await new Promise(Q=>setTimeout(Q,re+Math.floor(Math.random()*(3e3-300)+300)))},shouldRetry:h=ta,isFatalConnectionProblem:f,on:g,webSocketImpl:b,generateID:C=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,ne=>{const re=Math.random()*16|0;return(ne=="x"?re:re&3|8).toString(16)})},jsonMessageReplacer:T,jsonMessageReviver:S}=e;let _;if(b){if(!uR(b))throw new Error("Invalid WebSocket implementation provided");_=b}else typeof WebSocket<"u"?_=WebSocket:typeof global<"u"?_=global.WebSocket||global.MozWebSocket:typeof window<"u"&&(_=window.WebSocket||window.MozWebSocket);if(!_)throw new Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");const y=_,w=(()=>{const E=(()=>{const re={};return{on(Q,_e){return re[Q]=_e,()=>{delete re[Q]}},emit(Q){var _e;"id"in Q&&((_e=re[Q.id])===null||_e===void 0||_e.call(re,Q))}}})(),ne={connecting:g!=null&&g.connecting?[g.connecting]:[],opened:g!=null&&g.opened?[g.opened]:[],connected:g!=null&&g.connected?[g.connected]:[],ping:g!=null&&g.ping?[g.ping]:[],pong:g!=null&&g.pong?[g.pong]:[],message:g!=null&&g.message?[E.emit,g.message]:[E.emit],closed:g!=null&&g.closed?[g.closed]:[],error:g!=null&&g.error?[g.error]:[]};return{onMessage:E.on,on(re,Q){const _e=ne[re];return _e.push(Q),()=>{_e.splice(_e.indexOf(Q),1)}},emit(re,...Q){for(const _e of[...ne[re]])_e(...Q)}}})();function I(E){const ne=[w.on("error",re=>{ne.forEach(Q=>Q()),E(re)}),w.on("closed",re=>{ne.forEach(Q=>Q()),E(re)})]}let k,B=0,H,P=!1,R=0,F=!1;async function M(){clearTimeout(H);const[E,ne]=await(k??(k=new Promise((_e,be)=>(async()=>{if(P){if(await u(R),!B)return k=void 0,be({code:1e3,reason:"All Subscriptions Gone"});R++}w.emit("connecting");const Ce=new y(typeof t=="function"?await t():t,sR);let x,$;function oe(){isFinite(s)&&s>0&&(clearTimeout($),$=setTimeout(()=>{Ce.readyState===y.OPEN&&(Ce.send(Nr({type:Ct.Ping})),w.emit("ping",!1,void 0))},s))}I(Y=>{k=void 0,clearTimeout(x),clearTimeout($),be(Y),ta(Y)&&Y.code===4499&&(Ce.close(4499,"Terminated"),Ce.onerror=null,Ce.onclose=null)}),Ce.onerror=Y=>w.emit("error",Y),Ce.onclose=Y=>w.emit("closed",Y),Ce.onopen=async()=>{try{w.emit("opened",Ce);const Y=typeof o=="function"?await o():o;if(Ce.readyState!==y.OPEN)return;Ce.send(Nr(Y?{type:Ct.ConnectionInit,payload:Y}:{type:Ct.ConnectionInit},T)),isFinite(a)&&a>0&&(x=setTimeout(()=>{Ce.close(lo.ConnectionAcknowledgementTimeout,"Connection acknowledgement timeout")},a)),oe()}catch(Y){w.emit("error",Y),Ce.close(lo.InternalClientError,pv(Y instanceof Error?Y.message:new Error(Y).message,"Internal client error"))}};let z=!1;Ce.onmessage=({data:Y})=>{try{const q=aR(Y,S);if(w.emit("message",q),q.type==="ping"||q.type==="pong"){w.emit(q.type,!0,q.payload),q.type==="pong"?oe():c||(Ce.send(Nr(q.payload?{type:Ct.Pong,payload:q.payload}:{type:Ct.Pong})),w.emit("pong",!1,q.payload));return}if(z)return;if(q.type!==Ct.ConnectionAck)throw new Error(`First message cannot be of type ${q.type}`);clearTimeout(x),z=!0,w.emit("connected",Ce,q.payload),P=!1,R=0,_e([Ce,new Promise((W,te)=>I(te))])}catch(q){Ce.onmessage=null,w.emit("error",q),Ce.close(lo.BadResponse,pv(q instanceof Error?q.message:new Error(q).message,"Bad response"))}}})())));E.readyState===y.CLOSING&&await ne;let re=()=>{};const Q=new Promise(_e=>re=_e);return[E,re,Promise.race([Q.then(()=>{if(!B){const _e=()=>E.close(1e3,"Normal Closure");isFinite(r)&&r>0?H=setTimeout(()=>{E.readyState===y.OPEN&&_e()},r):_e()}}),ne])]}function G(E){if(ta(E)&&(cR(E.code)||[lo.InternalServerError,lo.InternalClientError,lo.BadRequest,lo.BadResponse,lo.Unauthorized,lo.SubprotocolNotAcceptable,lo.SubscriberAlreadyExists,lo.TooManyInitialisationRequests].includes(E.code)))throw E;if(F)return!1;if(ta(E)&&E.code===1e3)return B>0;if(!l||R>=l||!h(E)||f!=null&&f(E))throw E;return P=!0}return i||(async()=>{for(B++;;)try{const[,,E]=await M();await E}catch(E){try{if(!G(E))return}catch(ne){return n==null?void 0:n(ne)}}})(),{on:w.on,subscribe(E,ne){const re=C(E);let Q=!1,_e=!1,be=()=>{B--,Q=!0};return(async()=>{for(B++;;)try{const[Ce,x,$]=await M();if(Q)return x();const oe=w.onMessage(re,z=>{switch(z.type){case Ct.Next:{ne.next(z.payload);return}case Ct.Error:{_e=!0,Q=!0,ne.error(z.payload),be();return}case Ct.Complete:{Q=!0,be();return}}});Ce.send(Nr({id:re,type:Ct.Subscribe,payload:E},T)),be=()=>{!Q&&Ce.readyState===y.OPEN&&Ce.send(Nr({id:re,type:Ct.Complete},T)),B--,Q=!0,x()},await $.finally(oe);return}catch(Ce){if(!G(Ce))return}})().then(()=>{_e||ne.complete()}).catch(Ce=>{ne.error(Ce)}),()=>{Q||be()}},async dispose(){if(F=!0,k){const[E]=await k;E.close(1e3,"Normal Closure")}},terminate(){k&&w.emit("closed",{code:4499,reason:"Terminated",wasClean:!1})}}}function ta(e){return Hn(e)&&"code"in e&&"reason"in e}function cR(e){return[1e3,1001,1006,1005,1012,1013,1013].includes(e)?!1:e>=1e3&&e<=1999}function uR(e){return typeof e=="function"&&"constructor"in e&&"CLOSED"in e&&"CLOSING"in e&&"CONNECTING"in e&&"OPEN"in e}const dR=Rb({uri:rb}),hR=K2((e,{headers:t})=>{let o=by(),i="";return o&&(i="Bearer "+o),{headers:{...t,authorization:i}}}),fR=new J2(lR({url:CS,connectionParams:()=>({authentication:by(),mensaje:"hola"})})),pR=iT(({query:e})=>{const t=el(e);return t.kind==="OperationDefinition"&&t.operation==="subscription"},fR,Ib([hR,dR])),mR=dy(({graphQLErrors:e,networkError:t})=>{console.log("NODE_ENV: production")}),Da=new S2({link:Ib([mR,pR]),cache:vy}),vR=G2({defaultClient:Da,defaultOptions:{$fetchPolicy:"cache-and-network"}});function by(){var t,o;let e=Da.readQuery({query:Dt`
      query {
        auth_usuario @client {
          id
          token
        }
      }
    `});return(t=e==null?void 0:e.auth_usuario)!=null&&t.token?(o=e==null?void 0:e.auth_usuario)==null?void 0:o.token:""}const gR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAABm1BMVEUAAAB9fX2jo6NeXl6Pj4+Pj4+ioqIvLy82NjY1NTWMjIxLS0tra2uOjo4tLS1VVVWioqJXV1ehoaGhoaFdXV2Li4s5OTl5eXksLCwaGhpTU1MdHR17e3uOjo5BQUGOjo4vLy9UVFSOjo4dHR0wMDCPj49nZ2dDQ0MfHx9paWkyMjI+Pj4mJiY3NzcdHR17e3tqamqOjo6Ojo56enqgoKA7OztpaWmQkJChoaFPT08mJiY9PT2NjY2Pj49/f3+fn5+lpaVoaGh6enp7e3sdHR1oaGhTU1NBQUEvLy9UVFR7e3t7e3saGhpoaGg+Pj4dHR1qamp7e3tCQkJCQkKPj498fHweHh5paWmPj49paWlCQkJnZ2dVVVV9fX0vLy9nZ2d7e3tUVFQfHx9ra2t8fHxVVVVERERERERqampAQECPj49DQ0MzMzNVVVV6enpVVVVpaWl6enpFRUUmJiYaGhpmZmZTU1NTU1MyMjJ7e3ufn596enqPj493d3d8fHwbGxukpKRoaGhUVFQrKysaGhp7e3s/Pz8+Pj49PT291zY1AAAAgXRSTlMABlYN4txVHhcSEQoD4N6UUDAuJxgLB/39+/ba2NfHxcS7qKSej4mBdm1sZmBaWlZWUEtJSEdAOjc2NDEpHBoYCPz49vXv7+/s6+bl5ODg09HKwby7u7u6ubGwrKinp6KhoKCWlY2NgoF6eXlzcWxrY2JRT01IQz09PDs2MC8nJSDBqhNCAAABgklEQVRIx+3SRVPDQBTA8VdClTptcZeWCnVX3N3d3d0lJG352GwuDKewb4YZLv3fkskvu/N2odAfZZErkSK2WTXbDpQp5RaAkiae56tidMJZr22Ow9swIRV0y9xrOY5rtsjHBHJNRewcSSsHWzfPN9ENwFVOSL0C4MrmVABVitVyrt8OtAX3juKgcBwHqYVrNJ+vjQKiksUcyYohzKRAdtUYc/CZz/VdAibGWjvlAGRKBlAxBoMaJwzLvQM6E4rsfJDOUKfSIBAdhqh1AjkBTNGGysoNE6Ay3d4xgE4iwYq2pTUPUnSw7MgNRjBzLKkVdTILAtkHTOc9LDseAlSerdYQmP3ul59DTKdFx6gGYLa7yqrd32/MEb3sUQWi+Tuz2ewM+SjhC5PflxaRjOLkooyQ6hR4pzU1hxIwEiGLiJOHQULWJapGaXFxTRje9TKZvhTEO50YWnmCZB0hGh/ZWSBg/PUapV7NZFAtUo10PkEeMxmg7LmlrtGLvdVJFRT6v74ABqxMskl6QHIAAAAASUVORK5CYII=",bR={name:"Loading",props:{texto:{type:String},colorLetra:{type:String,default:"black"}},computed:{estiloTexto(){return{color:this.colorLetra}}}},yR=e=>(Ze("data-v-47eb51b8"),e=e(),Xe(),e),wR={class:"loading"},ER=yR(()=>m("img",{src:gR,alt:"Cargando",id:"iconoLoading"},null,-1));function AR(e,t,o,i,n,r){return J(),X("div",wR,[ER,o.texto?(J(),X("span",{key:0,style:Oe([r.estiloTexto]),class:"textoLoading"},Ee(o.texto),5)):Ie("",!0)])}const it=He(bR,[["render",AR],["__scopeId","data-v-47eb51b8"]]),ns=he`
  fragment fragDatoNodoConocimiento on DatoNodoUsuario {
    id
    idNodo
    nombreNodo
    aprendido
    estudiado
    periodoRepaso
    iteracionesRepaso{
        id
        intervalo
    }
  }
`,rl="/caracol/assets/ellipsisVertical-b6601740.svg",Yd="/caracol/assets/lightbulbEmpty-b30e6079.svg",sl="/caracol/assets/fireSolid-fd34d4dd.svg",al="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAh1BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD3YishAAAALHRSTlMAHWYM844W+fbOXRF7rtQHbBPl3NiGVcSrdjLqx7M6JebtiVG2PDmSZUW4lkeFA2IAAAKHSURBVFjDpZfterIwDIZTOlS+XgTlQ1FEdLp34/yPb6R0VCjYcvX54bVR7tCmSdrAnEiaBE61aZpN5QR1SmCRPu1dM9Lu+alLewdOSzYOng5efzSz+qiVJrZX/u46s90HoQCUPNw6W/PH1+1b/HLidH6jwxF6y7mN02Wed7vZV340NRr5VbcOd463u3Gfwoyo333BnhwNAzZ4frvj5MxeCsIJ/htHNhYoZG3wvbtsgX0/PoJSx5jNYXL9e62AJfsJP7iMX4GWVsyCO9h/9G6snTAkxt16jYcT+u8I2jqiJ08v8YtT+oIFspDoo9q74v7DIp0xL/4yq8YVLawYBL2W8Ang3z4slI9f7aZwwPyhGsz/w5fYaFq02AFQO70JrNhWuYMp7Fj9w/yP1Py/rlL0mx1hfSh5EOd6POrZP8oxoPkKbtp8c++fpRj9AATnRbX55ke4EddAmJ1Mlxc+QGXt/ykk7W+tzYuA595LWCFxtXlrXAMCcNrfBwjRZ7E+3XR4KNsnDlTME71Ch725VfOd/2PAzKajzEYLah4ohibgyLC2cgtKHkLGygaEBZmXDchLEBYUPF+C7MRevszLTpS2MXqxIPPyNsqBFDk6vAikRDplIkfNi1CWkwktqHmRTHI6owUVL9JZKijcgpLnBWWupHmOiuclbbaoRo6KX7GiOl/WvUxUcVmirPODpaBT54hF5nlxsJgfbZAYHK5Gx3vhDXLYWnzBsAyvOJnxJcv0mmd60TS86uZyib0vu2ybXffz0LDhULQ8hb+abnkK0fIom6503HSlf01XdtFv+0pCw5CS0rX7tq9QetlL3jWeiWfa+mqqtPdjem+XSkxu/2Ns/2MnSObb/1/3C6xgJU1VjAAAAABJRU5ErkJggg==",Zd="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAABvFBMVEUAAABeJYxUIXxsLZ6KQsNkJ5SAM75kJ5RmJ5dmKJhkJ5SIOsVkJ5RqKZ1wLKdmJ5dmKJdpKZxmJ5dqKZ5kJ5RzLappKZ1rKp9mJ5eKOslmJ5dkJ5NvK6VzLatmJ5dvK6Z1Lq5qKZ5oKJpyLKlnKJlyLKhlJ5ZlJ5ZqKZ1kJ5RtKqJ1La5sKqB0Lax4L7JeJY2AMr97MLZ/MrxkJ5RsKqFwLKdtK6JoKJtnKJltKqJtKqNhJpBzLappKZ1lJ5ZiJpFxLKhrKp9eJYxmKJdeJYxiJpFoKJtpKZxwK6ZxLKdbI4eXT9BiJpFVIX5/Mb2LO8tjJ5JnKJlmKJdfJY5mKJhfJY5kJ5VrKqBrKqBsKqCfXNSveNuLPsllJ5dsKqFrKp91Lq54L7J/Mrx3L7F1Lq5pKZxjJpJlJ5doKJtpKZtiJpJqKZ5sKqFqKZ1uK6R1La1vK6VoKJp0LaxwLKZ1La1mKJdoKZtnKJlsKqJjJ5NpKZxnKJloKJtiJpFkJ5RmJ5d5L7R0LaxZIoRoKJqENMOCM8BnKJmCM8FpKZxmKJd1Lq1eJYx0La10La1mKJdeJYxvLKWKOcplJ5dkJ5RBXGG2AAAAknRSTlMAzyYCBPYL+vQH+AnxhBrv0tGkFekqvImDDvbzIRG7RjgdvKmecOnlzsGHeE5DPi8sIxe4fHdsYE4+PCAP+/rz6OjW1cS9sJKFaVhDPjs0E/zs5eHf09GAckMMCAf3zsutVDw8NtnT0MWmpaGfmJCBgXNaV1VK29rSzcnAtKqfj09KM/JDQzgw9eevfGxdL+CtQwpd6DoAAAY6SURBVFjD7VlnW9NQFK4mNOlIN23pooNCacsoMgsie0/ZMmSpIEOGigoO3Hvc/GFPklvoSNoU/aCPng99mvTc995z7tlVyCJVg9XfoFL8PmruZtnu5t8IePkSQpcu/wf8YwBJ1ah5mAMcNo+qyF9FU8Uq+u0Bf9c1hK51+QP2/orYxTEJpSvKWCfpMZZFPLHsGD1ptT9wXczElZV7/usFKIMKyjy1a8q84YrWwkYHKyDQpRMUQtREKS3gs05j2JsfJOGrDfGLWdrQYwuuDHQg1DGwErT1GGiW36R830fIx9MUm5z8stumem/N/LnZzNd46023+a2cpmKNXDxdxKCGJYuhvriZTLdD0hxnQovwc6sxopOHF7OXAb/6TnhVI27YmjXbHW7H659cctQ3svwKdKcvmWshpDyFaJkr0YMuSwMjuRU5ErgKmz+u82V3Pdc9A7BdXR7JhVf4EfBabzYu5PLlG403OcRADql19vcIaZ8Wk8nOrHEPTSE0NeTWpLx+0aMFqT/pstpLHdwH9fQlkeQw1QfMZnkBZ3qbzEG1MknbL3vgjGX1C1kupJhTzM3iMzzC3cRsjFOIM2b4oMY3mCb3+a8vluDtY2CXIp9JDQyN5NmBm3Y6nSiFnNPP4/NnUjd2sqh10yfpv3uwWl+nSRxAF3mkRkAUbWlva2u30BQCUj+K6IjEzdzTg8r3pfy60gjsJb4EXmGvhRNUa9wORl8PDr6OBreNWk54S291AtFVAluWeyXiVRhUf2cugVf1DB6R3jO7XkTgV0Xrsx495+MlXxOIp6B1R5/oEQnugI5wS+J8z7RwvFu1hSoiiUdVOPOQBSlLEmd022Bb46roAfvA5ZdWMaOvFxipK/eVGYq+f4WCjXt1eIu1ENxUrUrMR45ZVNCnwfcbsQDe3SpSJGlV3QVES3ABn4MpQKxfzF8OPyA0Hcf7Nj0Cea9UiSu76gpI/eQtlqXiCOLOAxEn2QUb3DILDzU7cHm37pMCesYZDx+COTzH2jbfBcnsmaLE/CyiP+P3p7BCX6sUxwM9zuhBmiYMX08j9iTTo+cmETJ4sV5sDtBLoRQe6NvDIiejweYLu3e+zRCjn0aop0Z4ePcELGNWxb8Xz//7YFPHhThCgUr1DWQ6i23sTBPkl3GEQuvSeArCa4CbiBKC/+22IopJN5ya75wKE5ZAIfWOUhIQaHQLWGawzLOgxMBoGocZtFJ2iq3fBBLXE5J4QEQdaGjLLTwclCLWaj6TtfkyR8NdCH0buMzTUDmLLLxlSRcxUQtiy4cE/oEJhLqG+a/NKkVD9yWeoL6iOoSvXCZv/8Etkw7GFe0QI6YE/g4KajPha3eDwsoiMWobxCqUoME20WWsNTugIn9AMZGnOJHfYKuWoDdSIidfykTypUQxYL6Xkmw2pSvYbDYhxAVzm80mNpsVMBuPOd1SA2DYQRx4whSitouy1qOcYTM4+gbFDFvFgOvZhARJHoDrGdeJLAl83QhFw6EgwDy43hijkhkcFNLBYaMaey0UEHQ/mWGpkxCEksOXBwcT6fCFJfZ2IjRZkRlgrbBPPYnRb+EAiylXgEXWWKYUdkg2pvQUIErk4RGXAtzYPkyQAhgRJ20syytJLcXxpcVvQwn2QITN5U9Ko/M502gEn0nDp9Fm0UTvSEr0OqlE33KYmuhXQ/C0p8xdilRLlSJHKaVIi20RbLaSkF8s+ZOLJe9+erE0Z4DHsPIi5dybaN22gS/nrqeVc6FK2QXnkljBedyfWnA6a4vklsQL8Z0jB0ohevr5WzKlJFabfHkU7TUVtifjaly0s2quaD9vsEiuaEcGYM+rrXj3ZcYktBWmmZS2gnx5wik0osne+LzKbHyUEo3PCadyuy5Ha7bMt2bRGzJbs+WYvObRcM+Vq3nslNc8Qnv7Edo9djxre+s+3eLa21fL0N7mpmrbB74Bt2VpwA18A26PyRwR1GUdETQx/IBDbYjo8hhiaPkhxnTaEOOG7myIoYUhxgXHLLvnY5bdk05hzOLYmPUReQ6CbMZFoexpPR8EtQoFjAMPgvIdVfUdl4mOqvx7lcoLDtMa7aLDNCXxS+M+JuARxn0eYdz3Zw0k/4oZ7D8K+Nv/XIC/P6wy//74CRM6iF15FgnzAAAAAElFTkSuQmCC",fs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAqFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAs30iGAAAAN3RSTlMA/ID3Cw8F6qwT8jmmfUZAMR8Y3dGSG+/ZsJ2Gb10H5sO+u7ZnSqF1V8iZjGBrW1Iu4MyCKOxPW1J8IAAAAv9JREFUSMftltmWqjAQRUmQGUREZbgtIOI8D931/392ISl6oYLNYvVjnyfLYlNJqJxE+NPv6cv0ffOrG7t2IZe77sJqM2BKtQ6woXNYNzrAfZHDYr8t0ZN6AmqgcFgZVJPNGlqzTZBhEG05PJbxjyzYpKthEztZQi5CMbybJI/MO4aUFNmwibaAySsnKY0J2UkYnHAJVg3znQHXPwH1ASQTUDtMzuvnrV0xb8rfMHzgT3mJyaQejtTHygij/lXeXKc9Titk+eg8DQDm+zMr1cPK4lRoEMWmovnDezUmbPHjYC8JMhb2qNCoxc68jQu6r+ak52+uvpfz6uJWfPDV9va+2+S8ftFWABtqT3rSxLY2LARaJH/WraCpU4aOFTO2nRYKuA/rMvUhbrk9JBVizjqG4XA6BrPXCp6KOMbVSNdHvB0piMc3vmH0B3LZKxtW7wCFyIGN4Qompgd9Y/jkV6kuKttz8fMcA63a0EzjpS93tsu3n6Kerh9cw4dCavHckeg2ewmaQcxeaeukIDTewn51+UJgIuPs8BGAO3n1MMeFrW0YFgGmbQUeAdIsN9JeYW0ERNR1EbhGLzAK4XvMo4uD8MMjr8OGJaV0jsOW0urun7gwUlUV/4Ow2lN8wYKi5Jp4Nu5mpoOAC7aXZXkYQCF38fCpZqLohQO0XMo//ZwVltDfFJ4NPVGcrZ9c114YEbcyFa68KU3mHNxYN6Dy/oyMhT38sT0nq0/m+asJb899242hHLUsAdQsk44KqFLrLXlJCHyLJBdQFkI7UagRbc9+PpJeGxuyrbE1Lpz7K6gOOzjtCgO03hqgpaDrR4KWBQrnvXmmCdIOh2A1fyPsPW7zg/28WGqDRdIPph+ZNccNfT5u1Kj+lExqDjr6fNBdtXo4xfyuWrnlEVse7uLp+3AHCFse7uW1opyyE5I8WjrlpAmbUvOlhCZ+epBxluPHC418SP3Ect5tiqHUcJXCZPdLXHvZJWx3gIf42ZOh0EFHlznvUeikk+q66kn406/pP19rpKSAcXvNAAAAAElFTkSuQmCC",ka="/caracol/assets/check-29c8fc2c.svg",yy="/caracol/assets/readme-6fab676e.svg",_R="/caracol/assets/clock-b0bfc5ef.svg",NR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAyCAMAAADC1sOAAAAAtFBMVEUAAAABAQEAAAAAAAAAAAAQEBAAAAAAAAADAwMQEBAAAAACAgIAAAAAAAAAAAAAAAABAQEBAQEAAAAAAAABAQECAgIEBAQEBAQAAAABAQEAAAABAQEBAQEEBAQHBwcBAQEAAAAAAAAAAAACAgICAgIDAwMCAgICAgIFBQUAAAABAQEAAAABAQECAgIEBAQFBQUAAAABAQEBAQECAgIAAAAAAAABAQEBAQECAgICAgIFBQUAAAATATehAAAAO3RSTlMAby7r/AXgxTkJ9AyjX9uCaSH37tdFGxfAu6l3VE0k6LSvlopsWDw1KeTSyY19LA/xhklA+ZyTXV9wY7WFmHcAAAIsSURBVEjHxZXZmqIwEEZRI5s0gmwCYiNIi/uuPfO//3tN0l9/gMrm1Zw7Q06KVJUU91/o22LyZ7g5+t9nXWqxf6cppkHAIDIf+mKDZEU8wQM9LxlU719EPfwwMj4p8u8P71T1/vMVKET1/KCbTtOupV1XI1A+h06ZoN8IOzDUpv180UmUn7Ce+CpMFVDc++A58klhJ43PLxGYYAztkuDS3CxRbCaoH1UZHDNl8bAW06V1wFXx5dLnSvH63zKNMOGqEd3D4eAXbi0AssbVoYuiWHitIYAN9wY7FRDSd4wtgHnTpmKdnDXNk91kTAqpD2RgyzXR4XPlCBhis4FMkVxA2LcwMkVXgRvXwsiUhUEz1cbIlNMIoyBv7m4FMTJlQiB/5T3H98o5IFOYIeaGjHr4bhajpTGkBSQYnfIGmHfKmWUCJ8ogf1vmigqU6RKIWxpUoOwFIJRaGcff71IELNNmIxe4+wVEa2HE/exfrgIzqdGIC1tugDxpMuzimZZBg+zfGkpXgHS4dzjzgGnVbpEGlKeviburEfYbQRDmBcXxqKLoNQL7Li+KS+I4Gysl6BFolZPHxcCki0J5ji3Wt72XIidsCBqb18vYvskiaCUnuaCstt3+w7DrjEExS4fRLrqAwiuaaA+kfl9yuvfIBGNmVVRSE8AghiqEXjhefRIwzK1TPVf8NcETaryob7gPRR1luy/LWSdt7jI98K8hLbGrDJNUat2cgwG9fPmzf5+aajk37m2HAAAAAElFTkSuQmCC",CR={components:{Loading:it},name:"NodoConocimiento",props:{esteNodo:{type:Object,required:!0},datosUsuarioEsteNodo:{type:Object},esNodoObjetivo:Boolean,esTarget:Boolean,yo:Object,modoAtlas:String,centroVista:Object,idNodoMenuCx:String,idsNodosAprendidos:Array,idsNodosEstudiados:Array,idsNodosFrescos:Array,idsNodosPresentesCabeza:Array,idsNodosRepasar:Array,nodoSeleccionado:Object,escondido:Boolean,seleccionado:Boolean,fantasmeado:Boolean,previoDeSeleccionado:Boolean,continuacionDeSeleccionado:Boolean,usuarioAdministradorAtlas:{type:Boolean,default:!1},esquinasDiagrama:Object,callingPosiciones:Boolean,factorZoom:Number,configuracionAtlas:Object},data(){return{arrastrandoNodo:!1,nombreEditable:!1,nombreEditandose:!1,baseSize:{x:50,y:50},posicion:{x:0,y:0},togglingNodoEnColeccion:null,estiloNombreBase:{minWidth:20,fontSize:12,minHeight:10,padding:5,borderRadius:4},mostrarDescripcion:!1,creandoIteracionRepaso:!1,enviandoFechaEstudiado:!1,togglingAprendido:!1,settingTipoNodo:!1,editandoDiasRepaso:!1,settingPeriodoRepaso:!1}},computed:{menuCx(){return this.idNodoMenuCx==this.esteNodo.id},size(){let e=3,t=this.baseSize.x,o=this.baseSize.y;return t=Math.round(t*(1+this.esteNodo.nivel/e)),o=Math.round(o*(1+this.esteNodo.nivel/e)),this.seleccionado&&(t=Math.round(t*1.1),o=Math.round(o*1.1)),{x:t,y:o}},estiloPosicion(){const e=this.posicion.x-this.esquinasDiagrama.x1,t=this.posicion.y-this.esquinasDiagrama.y1,o=Math.round((t-this.size.y/2)*this.factorZoom),i=Math.round((e-this.size.x/2)*this.factorZoom);return{top:o+"px",left:i+"px"}},estiloZeta(){let e=0;return(this.arrastrandoNodo||this.seleccionado)&&(e=10),this.menuCx&&(e=11),{zIndex:e}},estiloSize(){return{width:this.size.x*this.factorZoom+"px",height:this.size.y*this.factorZoom+"px"}},permisosUsuario:function(){return this.usuario.permisos},aprendible(){if(!this.esteNodo.vinculos.some(t=>t.rol=="target"))return!0;var e=this.esteNodo.vinculos.filter(t=>t.rol=="target").map(t=>t.idRef);return e.every(t=>this.idsNodosPresentesCabeza.includes(t))},nodoAprendido(){return this.idsNodosAprendidos.includes(this.esteNodo.id)},nodoEstudiado(){return this.idsNodosEstudiados.includes(this.esteNodo.id)},nodoRepasar(){return this.idsNodosRepasar.includes(this.esteNodo.id)},nodoPresenteCabeza(){return this.idsNodosPresentesCabeza.includes(this.esteNodo.id)},estiloCartelNombre(){var e="var(--atlasConocimientoBaseNodo)",t="black";return this.modoAtlas==="estudiante"?this.nodoPresenteCabeza?e="var(--atlasConocimientoCheck)":this.nodoRepasar?e="var(--atlasConocimientoRepaso)":this.aprendible?e="var(--atlasConocimientoAvailable)":t="#313131":this.modoAtlas==="experto"&&this.usuarioExpertoNodo&&(e="var(--atlasConocimientoCheck)"),{backgroundColor:e,color:t,minWidth:parseInt(this.estiloNombreBase.minWidth*this.factorZoom)+"px",fontSize:parseInt(this.estiloNombreBase.fontSize*this.factorZoom)+"px",minHeight:parseInt(this.estiloNombreBase.minHeight*this.factorZoom)+"px",padding:parseInt(this.estiloNombreBase.padding*this.factorZoom)+"px",borderRadius:parseInt(this.estiloNombreBase.borderRadius*this.factorZoom)+"px"}},usuarioExpertoNodo(){return!this.usuario||!this.usuario.id?!1:this.esteNodo.expertos.includes(this.usuario.id)},estiloFuerzaCentroMasa(){return{width:Math.round(this.esteNodo.fuerzaCentroMasa.fuerza*this.factorZoom)+"px",height:Math.round(3*this.factorZoom)+"px",transform:"rotate("+this.esteNodo.fuerzaCentroMasa.direccion+"rad)"}},estiloFuerzaColision(){return{width:Math.round(this.factorZoom*this.esteNodo.fuerzaColision.fuerza)+"px",height:Math.round(3*this.factorZoom)+"px",transform:"rotate("+this.esteNodo.fuerzaColision.direccion+"rad)"}},estiloBolita(){let e="2px solid transparent",t="rgb(195 195 195)";return this.previoDeSeleccionado&&(e="3px solid var(--atlasConocimientoSeleccion)",t="rgb(195 195 195)"),this.continuacionDeSeleccionado&&(e="3px solid var(--atlasConocimientoContinuacion)",t="rgb(195 195 195)"),this.seleccionado&&(e="2px solid transparent",t="var(--atlasConocimientoSeleccion)"),{border:e,backgroundColor:t}},diasRepaso(){var e;return(e=this.datosUsuarioEsteNodo)!=null&&e.periodoRepaso?Math.floor(this.datosUsuarioEsteNodo.periodoRepaso/864e5):2},noEstudiable(){return!this.aprendible&&!this.nodoAprendido}},methods:{setTipoNodo(e){if(this.usuarioExpertoNodo){if(this.esteNodo.tipoNodo===e){console.log("Operación innecesaria");return}this.settingTipoNodo=!0,this.$apollo.mutate({mutation:he`
            mutation ($idNodo: ID!, $nuevoTipoNodo: String!) {
              setTipoNodo(idNodo: $idNodo, nuevoTipoNodo: $nuevoTipoNodo) {
                id
                tipoNodo
              }
            }
          `,variables:{idNodo:this.esteNodo.id,nuevoTipoNodo:e}}).then(()=>{this.settingTipoNodo=!1}).catch(t=>{this.settingTipoNodo=!1,console.log(`Error: ${t}`)})}},setPeriodoRepaso(){const e=parseInt(this.$refs.inputDiasRepaso.value);if(e<1){console.log("Periodo ilegal");return}var t=e*864e5;if(t===this.datosUsuarioEsteNodo.periodoRepaso){this.editandoDiasRepaso=!1;return}this.settingPeriodoRepaso=!0,this.$apollo.mutate({mutation:he`
            mutation ($idNodo: ID!, $nuevoPeriodoRepaso: Int!) {
              setPeriodoRepasoNodoConocimientoUsuario(
                idNodo: $idNodo
                nuevoPeriodoRepaso: $nuevoPeriodoRepaso
              ) {
                id
                idNodo
                periodoRepaso
              }
            }
          `,variables:{idNodo:this.esteNodo.id,nuevoPeriodoRepaso:t}}).then(()=>{this.settingPeriodoRepaso=!1,this.editandoDiasRepaso=!1}).catch(o=>{console.log(`Error: ${o}`),this.settingPeriodoRepaso=!1})},clickCartelNombre(e){this.seleccionado&&(e.stopPropagation(),this.mostrarDescripcion=!this.mostrarDescripcion)},toggleAprendido(){var e=!this.nodoAprendido;this.togglingAprendido=!0,this.$apollo.mutate({mutation:he`
            mutation ($idNodo: ID!, $nuevoEstadoAprendido: Boolean!) {
              setNodoAtlasAprendidoUsuario(
                idNodo: $idNodo
                nuevoEstadoAprendido: $nuevoEstadoAprendido
              ) {
                ...fragDatoNodoConocimiento
              }
            }
            ${ns}
          `,variables:{idNodo:this.esteNodo.id,nuevoEstadoAprendido:e}}).then(({data:{setNodoAtlasAprendidoUsuario:t}})=>{console.log(`${t.length} nodos modificados`);for(const s of t)console.log("Nombre: "+s.nombreNodo);this.togglingAprendido=!1;const o=this.$apollo.provider.defaultClient,i=o.readQuery({query:St});var n=JSON.parse(JSON.stringify(i)),r=!1;for(const s of t)this.yo.atlas.datosNodos.some(c=>c.id===s.id)||(console.log(`No estaba en caché. Pushing ${JSON.stringify(s)}`),r=!0,n.yo.atlas.datosNodos.push(s));r&&o.writeQuery({query:St,data:n})}).catch(t=>{console.log(`Error: ${t}`),this.togglingAprendido=!1})},abrirPaginaNodo(){this.$router.push(this.$route.path+"/nodoConocimiento/"+this.esteNodo.id)},copiarId(e){let t=e.target.innerText.trim();const o=document.createElement("textarea");o.value=t,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o)},eliminarEsteNodo(){if(!this.usuarioSuperadministrador&&!this.usuarioAdministradorAtlas){console.log("No autorizado");return}this.$emit("eliminar",this.esteNodo.id)},arrastrarNodo(e){if(!this.arrastrandoNodo)return;let t=document.getElementById("contenedorNodos").getBoundingClientRect(),o=Math.round((e.clientY-t.top)/this.factorZoom),i=Math.round((e.clientX-t.left)/this.factorZoom);this.posicion.y=o,this.posicion.x=i},guardarPosicion(){this.arrastrandoNodo&&(this.$emit("cambioDePosicionManual",this.esteNodo.id,{x:this.posicion.x,y:this.posicion.y}),this.arrastrandoNodo=!1)},crearVinculo(e,t,o){if(console.log(`Creando vinculo entre ${t} y ${o}`),!this.usuarioSuperadministrador&&!this.usuarioAdministradorAtlas){console.log("No autorizado");return}console.log(`creando un vinculo tipo ${e} entre ${t.nombre} y ${o.nombre} `),this.$emit("creacionVinculo",{tipo:e,idNodoFrom:t.id,idNodoTo:o.id})},eliminarVinculo(e,t){if(console.log("Desconectando"),!this.usuarioSuperadministrador&&!this.usuarioAdministradorAtlas){console.log("No autorizado");return}this.$emit("eliminacionVinculo",{idNodoFrom:e.id,idNodoTo:t.id})},stopProp(e){console.log("Stopping"),e.stopPropagation()},toggleNodoEnColeccion(e){!this.usuario||!this.usuario.id||(this.togglingNodoEnColeccion=e,this.$apollo.mutate({mutation:he`
            mutation ($idNodo: ID!, $idColeccion: ID!, $idUsuario: ID!) {
              toggleNodoColeccionNodosAtlasConocimientoUsuario(
                idNodo: $idNodo
                idColeccion: $idColeccion
                idUsuario: $idUsuario
              ) {
                id
                idsNodos
                nodos {
                  id
                  nombre
                }
              }
            }
          `,variables:{idNodo:this.esteNodo.id,idColeccion:e,idUsuario:this.usuario.id}}).then(()=>{this.togglingNodoEnColeccion=null}).catch(t=>{this.togglingNodoEnColeccion=null,console.log(`Error: ${t}`),console.log(`Con codigo ${JSON.stringify(t)}. Con tipo: ${t.type}`)}))},iniciarGestionRepasos(){var e=this.yo.atlas.datosNodos.find(t=>t.idNodo===this.esteNodo.id&&t.iteracionesRepaso.length>0);e?(console.log("Este nodo ya tenía repasos"),this.$router.push({name:"ventanaRepasos",params:{idRepaso:e.id}})):(console.log("Este nodo no tenía repasos. Creando"),this.addIteracionRepaso())},addIteracionRepaso(){console.log("Enviando para add to lista repasos"),this.creandoIteracionRepaso=!0,this.$apollo.mutate({mutation:he`
            mutation ($idUsuario: ID!, $idNodo: ID!) {
              crearIteracionRepasoNodoConocimientoUsuario(
                idUsuario: $idUsuario
                idNodo: $idNodo
              ) {
                id
                iteracionesRepaso {
                  id
                  intervalo
                }
              }
            }
          `,variables:{idUsuario:this.usuario.id,idNodo:this.esteNodo.id}}).then(({data:{crearIteracionRepasoNodoConocimientoUsuario:e}})=>{this.creandoIteracionRepaso=!1,this.$router.push({name:"ventanaRepasos",params:{idRepaso:e.id}})}).catch(e=>{console.log(`Error: ${e}`),this.creandoIteracionRepaso=!1})},marcarEstudiado(){if(this.usuarioLogeado){var e=new Date;this.enviandoFechaEstudiado=!0,this.$apollo.mutate({mutation:he`
            mutation ($idUsuario: ID!, $idNodo: ID!, $fecha: Date!) {
              setDateNodoConocimientoEstudiadoUsuario(
                idUsuario: $idUsuario
                idNodo: $idNodo
                fecha: $fecha
              ) {
                ...fragDatoNodoConocimiento
              }
            }
            ${ns}
          `,variables:{idUsuario:this.usuario.id,idNodo:this.esteNodo.id,fecha:e}}).then(({data:{setDateNodoConocimientoEstudiadoUsuario:t}})=>{if(this.enviandoFechaEstudiado=!1,!this.yo.atlas.datosNodos.some(i=>i.id===t.id)){console.log(`No estaba en caché. Pushing ${JSON.stringify(t)}`);const i=this.$apollo.provider.defaultClient,n=i.readQuery({query:St});var o=JSON.parse(JSON.stringify(n));o.yo.atlas.datosNodos.push(t),i.writeQuery({query:St,data:o})}}).catch(t=>{console.log(`Error: ${t}`),this.enviandoFechaEstudiado=!1})}}},watch:{esteNodo(){this.posicion={...this.esteNodo.coords}},editandoDiasRepaso(e){e&&this.$nextTick(()=>{this.$refs.inputDiasRepaso.value=this.diasRepaso,this.$refs.inputDiasRepaso.focus()})},menuCx(e){e||(this.editandoDiasRepaso=!1)},seleccionado(e){e&&console.log(`seleccionado ${this.esteNodo.nombre}`)}},mounted(){this.posicion={...this.esteNodo.coords}}},yo=e=>(Ze("data-v-32379a3c"),e=e(),Xe(),e),SR=yo(()=>m("img",{src:rl,alt:"Opciones"},null,-1)),xR=[SR],IR={id:"zonaArrastre"},TR=yo(()=>m("div",{class:"flechitaFuerza"},null,-1)),RR=[TR],PR=yo(()=>m("div",{class:"flechitaFuerza"},null,-1)),DR=[PR],kR={key:0,src:Yd},OR={key:1,src:sl},MR={src:Zd,alt:"Objetivo",class:"imagenTarget"},LR=yo(()=>m("img",{src:Yd,alt:"Concepto"},null,-1)),FR=[LR],BR=yo(()=>m("img",{src:sl,alt:"Habilidad"},null,-1)),UR=[BR],$R=yo(()=>m("img",{class:"iconoMenuCx",src:Zd,alt:"mira"},null,-1)),jR={class:"botonMenuCx selectorSubseccionMenuCx"},qR=yo(()=>m("img",{src:fs,alt:"nodos",class:"iconoMenuCx"},null,-1)),VR={class:"subseccionMenuCx"},HR=["onClick"],zR={src:yy,alt:"Read",class:"iconoMenuCx"},QR=yo(()=>m("img",{src:_R,alt:"Reloj",class:"iconoMenuCx"},null,-1)),GR=yo(()=>m("span",null,null,-1)),KR={class:"seccionMenuCx"},WR=yo(()=>m("label",{for:"inputDiasRepaso"},"Dias de repaso: ",-1)),JR={class:"seccionMenuCx"},YR={key:2,class:"cuadritoDescripcionNodo"},ZR={class:"descripcionNodo"},XR=yo(()=>m("div",{class:"linea1"},null,-1)),eP=yo(()=>m("div",{class:"linea2"},null,-1)),tP=[XR,eP];function oP(e,t,o,i,n,r){const s=Pe("loading");return J(),X("div",{class:ve(["nodoConocimiento",{escondido:o.escondido,deNodoSeleccionado:o.seleccionado,fantasmeado:o.fantasmeado}]),style:Oe([r.estiloPosicion,r.estiloSize,r.estiloZeta,r.estiloBolita]),onClickCapture:t[25]||(t[25]=ge((...c)=>r.stopProp&&r.stopProp(...c),["ctrl"])),onMouseup:t[26]||(t[26]=ge((...c)=>r.guardarPosicion&&r.guardarPosicion(...c),["left"])),onMousemove:t[27]||(t[27]=(...c)=>r.arrastrarNodo&&r.arrastrarNodo(...c)),onMouseleave:t[28]||(t[28]=c=>n.arrastrandoNodo=!1),onDblclick:t[29]||(t[29]=(...c)=>r.abrirPaginaNodo&&r.abrirPaginaNodo(...c))},[V(m("div",{class:"boton",id:"botonAbrirMenuCx",onClick:t[0]||(t[0]=ge(c=>e.$emit("abroMenuContextual"),["stop"]))},xR,512),[[K,o.seleccionado&&!r.menuCx]]),V(m("div",IR,null,512),[[K,n.arrastrandoNodo]]),e.usuarioSuperadministrador?V((J(),X("div",{key:0,id:"fuerzaCentroMasa",class:"fuerzaMovimiento",style:Oe([r.estiloFuerzaCentroMasa])},RR,4)),[[K,o.configuracionAtlas.posicionando]]):Ie("",!0),e.usuarioSuperadministrador?V((J(),X("div",{key:1,id:"fuerzaColision",class:"fuerzaMovimiento",style:Oe([r.estiloFuerzaColision])},DR,4)),[[K,o.configuracionAtlas.posicionando]]):Ie("",!0),m("div",{id:"iconoNodo",class:ve({deNodoSeleccionado:o.seleccionado,previoDeSeleccionado:o.previoDeSeleccionado,noEstudiable:r.noEstudiable})},[o.esteNodo.tipoNodo==="concepto"?(J(),X("img",kR)):(J(),X("img",OR))],2),V(m("img",{src:al,alt:"Aprendido",title:"Este tema ya ha sido aprendido",style:Oe([{width:parseInt(20*o.factorZoom)+"px",left:parseInt(-10*o.factorZoom)+"px",top:parseInt(-10*o.factorZoom)+"px"}]),class:"imagenAprendido"},null,4),[[K,r.nodoAprendido&&o.modoAtlas==="estudiante"]]),V(m("img",MR,null,512),[[K,o.esTarget]]),V(m("div",{id:"menuContextual",onMousedown:t[16]||(t[16]=ge(()=>{},["stop"])),onDblclick:t[17]||(t[17]=ge(()=>{},["stop"])),onClick:t[18]||(t[18]=ge(()=>{},["stop"])),onMouseup:t[19]||(t[19]=ge(()=>{},["stop"]))},[m("div",{class:"seccionMenuCx",onClick:t[1]||(t[1]=(...c)=>r.abrirPaginaNodo&&r.abrirPaginaNodo(...c))},Ee(o.esteNodo.nombre),1),r.usuarioExpertoNodo?(J(),X("div",{key:0,id:"opcionesTipoNodo",class:ve({deshabilitado:n.settingTipoNodo})},[m("div",{class:ve(["boton selector",{activo:o.esteNodo.tipoNodo==="concepto"}]),onClick:t[2]||(t[2]=ge(c=>r.setTipoNodo("concepto"),["stop"]))},FR,2),m("div",{class:ve(["boton selector",{activo:o.esteNodo.tipoNodo==="skill"}]),onClick:t[3]||(t[3]=ge(c=>r.setTipoNodo("skill"),["stop"]))},UR,2)],2)):Ie("",!0),V(Te(s,{style:{margin:"5px auto"}},null,512),[[K,n.settingTipoNodo]]),e.usuarioSuperadministrador==!0||o.usuarioAdministradorAtlas==!0?(J(),X("div",{key:1,class:"botonMenuCx",onClick:t[4]||(t[4]=ge((...c)=>r.eliminarEsteNodo&&r.eliminarEsteNodo(...c),["stop"]))}," Eliminar ")):Ie("",!0),m("div",{class:ve(["botonMenuCx",{deshabilitado:o.esTarget}]),onClick:t[5]||(t[5]=ge(c=>e.$emit("mePongoEnMira"),["stop"]))},[$R,gt(" Poner en la mira ")],2),e.usuarioSuperadministrador?(J(),X("div",{key:2,class:"botonMenuCx",onClick:t[6]||(t[6]=ge((...c)=>r.copiarId&&r.copiarId(...c),["stop"]))},Ee(o.esteNodo.id),1)):Ie("",!0),V(m("div",jR,[qR,gt(" Colecciones "),m("div",VR,[(J(!0),X(Fe,null,qe(o.yo.atlas.colecciones,c=>(J(),X("div",{class:"botonMenuCx",key:c.id,onClick:ge(a=>r.toggleNodoEnColeccion(c.id),["stop"])},[V(m("img",{src:ka,alt:"Check",style:Oe([{height:"12px","margin-right":"10px","border-radius":"50%"},[{backgroundColor:c.idsNodos.includes(o.esteNodo.id)?"var(--atlasVerde)":""}]])},null,4),[[K,n.togglingNodoEnColeccion!=c.id]]),V(Te(s,null,null,512),[[K,n.togglingNodoEnColeccion===c.id]]),gt(" "+Ee(c.nombre),1)],8,HR))),128))])],512),[[K,o.yo.atlas&&o.yo.atlas.colecciones&&o.yo.atlas.colecciones.length>0]]),e.usuarioLogeado?(J(),X("div",{key:3,class:"botonMenuCx",onClick:t[7]||(t[7]=ge((...c)=>r.toggleAprendido&&r.toggleAprendido(...c),["stop"]))},[V(m("img",{src:ka,alt:"check",class:"iconoMenuCx",style:Oe([{"border-radius":"50%"},[{backgroundColor:r.nodoAprendido?"var(--atlasConocimientoCheck)":""}]])},null,4),[[K,!n.togglingAprendido]]),V(Te(s,{texto:""},null,512),[[K,n.togglingAprendido]]),gt(" "+Ee(r.nodoAprendido?"Desm":"M")+"arcar como aprendido ",1)])):Ie("",!0),e.usuarioLogeado?V((J(),X("div",{key:4,class:ve(["botonMenuCx",{deshabilitado:n.enviandoFechaEstudiado}]),onClick:t[8]||(t[8]=ge((...c)=>r.marcarEstudiado&&r.marcarEstudiado(...c),["stop"]))},[V(m("img",zR,null,512),[[K,!n.enviandoFechaEstudiado]]),V(Te(s,{texto:""},null,512),[[K,n.enviandoFechaEstudiado]]),m("span",null,Ee("Estudiado "+e.enrichedToReadableDate(o.datosUsuarioEsteNodo.estudiado)),1)],2)),[[K,r.aprendible]]):Ie("",!0),e.usuarioLogeado?V((J(),X("div",{key:5,class:ve(["botonMenuCx",{deshabilitado:n.creandoIteracionRepaso}]),onClick:t[9]||(t[9]=ge(c=>n.editandoDiasRepaso=!n.editandoDiasRepaso,["stop"]))},[QR,V(m("span",null,Ee("Repaso cada "+r.diasRepaso+" dia"),513),[[K,r.diasRepaso>1]]),V(m("span",null,"s",512),[[K,r.diasRepaso>1]]),GR,V(Te(s,{texto:""},null,512),[[K,n.creandoIteracionRepaso]])],2)),[[K,r.nodoEstudiado&&!r.nodoAprendido&&!n.editandoDiasRepaso]]):Ie("",!0),V(m("div",KR,[V(Te(s,null,null,512),[[K,n.settingPeriodoRepaso]]),WR,m("input",{style:{width:"min(70px, 80vw)"},type:"number",name:"inputDiasRepaso",class:ve({deshabilitado:n.settingPeriodoRepaso}),ref:"inputDiasRepaso",min:"1",id:"inputDiasRepaso",onFocus:t[10]||(t[10]=c=>c.target.select()),onBlur:t[11]||(t[11]=c=>n.editandoDiasRepaso=!1),onKeypress:t[12]||(t[12]=vt((...c)=>r.setPeriodoRepaso&&r.setPeriodoRepaso(...c),["enter"]))},null,34)],512),[[K,n.editandoDiasRepaso]]),o.nodoSeleccionado&&o.nodoSeleccionado.id!=o.esteNodo.id&&(e.usuarioSuperadministrador==!0||o.usuarioAdministradorAtlas==!0)?(J(),X(Fe,{key:6},[m("div",JR,Ee(o.nodoSeleccionado.nombre),1),m("div",{class:"botonMenuCx",onClick:t[13]||(t[13]=ge(c=>r.crearVinculo("continuacion",o.nodoSeleccionado,o.esteNodo),["stop"]))}," Continua aquí "),m("div",{class:"botonMenuCx",onClick:t[14]||(t[14]=ge(c=>r.crearVinculo("continuacion",o.esteNodo,o.nodoSeleccionado),["stop"]))}," Continua desde aquí "),V(m("div",{class:"botonMenuCx",onClick:t[15]||(t[15]=ge(c=>r.eliminarVinculo(o.esteNodo,o.nodoSeleccionado),["stop"]))}," Desconectar ",512),[[K,o.esteNodo.vinculos.some(c=>c.idRef==o.nodoSeleccionado.id)]])],64)):Ie("",!0)],544),[[K,r.menuCx]]),m("div",{onClick:t[20]||(t[20]=(...c)=>r.clickCartelNombre&&r.clickCartelNombre(...c)),id:"nombre",style:Oe([r.estiloCartelNombre]),ref:"nombre"},Ee(o.callingPosiciones?o.esteNodo.puntaje:o.esteNodo.nombre),5),o.esteNodo&&o.esteNodo.descripcion?V((J(),X("div",YR,[m("div",ZR,Ee(o.esteNodo.descripcion),1),m("img",{onClick:t[21]||(t[21]=ge((...c)=>r.abrirPaginaNodo&&r.abrirPaginaNodo(...c),["stop"])),src:NR,alt:"Ir",title:"Abrir este nodo",class:"botonAbrirNodo"}),m("div",{class:"botonEquis",onClick:t[22]||(t[22]=ge(c=>n.mostrarDescripcion=!1,["stop"])),onMousedown:t[23]||(t[23]=ge(()=>{},["stop"])),onMouseup:t[24]||(t[24]=ge(()=>{},["stop"])),id:"botonCerrarDescripcion"},tP,32)],512)),[[K,o.seleccionado&&!o.callingPosiciones&&n.mostrarDescripcion]]):Ie("",!0)],38)}const nP=He(CR,[["render",oP],["__scopeId","data-v-32379a3c"]]),iP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAnFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD4jUzeAAAAM3RSTlMA+xEW+PI/BSPvyIob4YV/XzwfAnZyZUeUVgnqwrdrNg7Tz7utb9vVv6SdmEwxKeWyjk9WFiZCAAAB0ElEQVRIx+2U2bKqMBBFu0kgcJhFQHGeZ8+w///frmKdstSEK+9nvVCws6pJuiv0xyOB00/6qaB3caMN44qcx8E7QmfH9XJP1o/D/0slNjDolSKjLPjZX1+OzULmA15e0S/T2AbnjcrFGHaIqtJffp3oynkGNDkJsKxIjUNc+KYa6wNcmnduY1iR2AJYL3su3RBrfFomZQevQ2IGfE0yujOR8E39YOSkFuBx9hj0YBvKRBhUVACrlx9mjPXKBj1Sayyyl2SEhX6uGD+UAs5rlMNWOsUBAooRKm3k6pQ+ZEY7jHSnD6T6PtoZ9RBpIgGU+iqsqHKU7vgNVVKgQ3ocsHYvQqJvULrwlDaYY29Qthjpg7ieC8fzNZNU6JVAIiYqsH0O9vCmpOcA+0yqFM+bZ0RkQAwwt16LhwinZOLIGFrPxhzSITM5MDs9disEF9REzpC+uA/XgSELEZ+bnPITkMtiIqbBZDViIHTIxyDxo5PRsXwbVxhXvGhKNKm/cJfM0nhxW+ONitthjIFNCHSpAeWmZeqq+30xU9aHxjHzjdCido4DDNs60a/DqzbOR+1I920nrh3BSKiVIxy0UajLYMAT1IKVvBhHaoWb9AX9ceEfSSU0mMLFKFUAAAAASUVORK5CYII=",rP={components:{Loading:it},name:"BuscadorNodosConocimiento",data(){return{textoBusqueda:"",cantidadPalabrasValidas:0,resultados:[],mostrandoInput:!1,mostrandoLista:!1,esperandoResultados:!1}},props:{cerrarBusqueda:Number},methods:{cerrar(){this.mostrandoInput=!1},buscarDatabase(){console.log("******Descargando resultados de búsqueda"),this.esperandoResultados=!0,this.$apollo.query({query:he`
            query ($palabrasBuscadas: String!) {
              busquedaAmplia(palabrasBuscadas: $palabrasBuscadas) {
                id
                nombre
                resumen
                autoCoords {
                  x
                  y
                }
              }
            }
          `,variables:{palabrasBuscadas:this.textoBusqueda},fetchPolicy:"network-only"}).then(({data:{busquedaAmplia:e}})=>{this.resultados=e,this.esperandoResultados=!1,this.mostrandoLista=!0}).catch(e=>{console.log(`Error: ${e}`),this.esperandoResultados=!1})}},watch:{textoBusqueda:function(){this.mostrandoLista=!1},cerrarBusqueda(){this.mostrandoInput=!1,this.mostrandoLista=!1}}},sP={id:"barraSuperior"},aP={id:"listaResultados"},lP=["onClick"];function cP(e,t,o,i,n,r){const s=Pe("loading");return J(),X("div",{id:"buscadorNodosConocimiento",style:Oe([{width:n.mostrandoInput?"min(100vh, 350px)":"30px"}])},[m("div",sP,[m("img",{src:iP,alt:"Lupa",title:"Buscar nodos de conocimiento",id:"imagenLupa",class:ve({opaco:!n.mostrandoInput}),onClick:t[0]||(t[0]=ge(c=>n.mostrandoInput=!0,["stop"]))},null,2),Te(as,{name:"unfold"},{default:Jt(()=>[V(m("input",{type:"text",placeholder:"Buscar","onUpdate:modelValue":t[1]||(t[1]=c=>n.textoBusqueda=c),id:"inputBuscador",autocomplete:"off",onClick:t[2]||(t[2]=ge(()=>{},["stop"])),onKeypress:t[3]||(t[3]=vt((...c)=>r.buscarDatabase&&r.buscarDatabase(...c),["enter"]))},null,544),[[Ke,n.textoBusqueda],[K,n.mostrandoInput]])]),_:1})]),V(Te(s,{texto:"Buscando"},null,512),[[K,n.esperandoResultados]]),V(m("div",aP,[(J(!0),X(Fe,null,qe(n.resultados,c=>(J(),X("div",{class:"resultado",key:c.id,onClick:ge(a=>{e.$emit("nodoSeleccionado",c),n.mostrandoInput=!1,n.mostrandoLista=!1},["stop"])},Ee(c.nombre),9,lP))),128))],512),[[K,n.mostrandoLista]])],4)}const uP=He(rP,[["render",cP],["__scopeId","data-v-7d062236"]]),dP={name:"PieProgreso",props:{progreso:{type:Number,default:0},cifrasDecimales:{type:Number,default(){return 0}},size:{type:Number,default:40}},data(){return{}},computed:{estiloCirculoVacio(){return{width:this.size+"px",height:this.size+"px"}},estiloCanvasProgreso(){return{width:this.size+"px",height:this.size+"px"}},estiloNumero(){let e=70;return this.progreso>=100&&(e=60),{fontSize:e+"%"}}},methods:{trazarGraph(){const e=this.$refs.canvasProgreso.getContext("2d"),t=Math.round(this.size/2),o=2*Math.PI/100*this.progreso-Math.PI/2;e.clearRect(0,0,this.size,this.size),e.beginPath(),e.strokeStyle="#04AA6D",e.lineWidth=5,e.arc(t,t,Math.round(t*.8),-(Math.PI/2),o),e.stroke()}},watch:{progreso(){this.trazarGraph()}},mounted(){this.trazarGraph()}},hP={class:"pieProgreso"},fP={key:0},pP=["width","height"];function mP(e,t,o,i,n,r){return J(),X("div",hP,[m("div",{id:"circuloVacio",style:Oe([r.estiloCirculoVacio])},[m("div",{id:"numeroProgreso",style:Oe([r.estiloNumero])},[o.progreso?(J(),X("span",fP,Ee(o.progreso.toFixed(o.cifrasDecimales)),1)):Ie("",!0)],4),m("canvas",{id:"canvasProgreso",ref:"canvasProgreso",width:o.size,height:o.size,style:Oe([r.estiloCanvasProgreso])},null,12,pP)],4)])}const wy=He(dP,[["render",mP],["__scopeId","data-v-b6447bcb"]]),vP={components:{PieProgreso:wy,Loading:it},name:"IconoNodoConocimiento",apollo:{},data(){return{}},props:{esteNodo:Object,seleccionado:Boolean,datosEsteNodo:Object,mostrarPorcentajeCompletado:Boolean,porcentajeCompletado:Number,opcionesMenuCx:Array,menuCx:Boolean,siendoRemovido:Boolean},computed:{estiloCartelNombre(){var e="var(--atlasConocimientoBaseNodo)",t="black";return this.aprendido||this.estudiado?e="var(--atlasConocimientoCheck)":this.nodoRepasar?e="var(--atlasConocimientoRepaso)":this.aprendible?e="var(--atlasConocimientoAvailable)":t="#313131",{backgroundColor:e,color:t}},estudiado(){var e;return!!((e=this.datosEsteNodo)!=null&&e.estudiado)},estudiadoRecientemente(){if(!this.estudiado||!this.datosEsteNodo.periodoRepaso)return!1;let e=new Date,t=e;t.setHours(0),t.setMinutes(0),t.setSeconds(0);let o=new Date(this.datosEsteNodo.estudiado).getTime(),i=o+this.datosEsteNodo.periodoRepaso,n=e.getTime();return console.log(`${this.datosEsteNodo.nombreNodo}: Millis estudiado: ${o}, millisRepaso: ${i}, millisHoy ${n}`),i>n},repasar(){return this.estudiado&&!this.estudiadoRecientemente},aprendido(){var e;return(e=this.datosEsteNodo)==null?void 0:e.aprendido}},methods:{abrirPaginaNodo(){this.$router.push(this.$route.path+"/nodoConocimiento/"+this.esteNodo.id)}}},gP={key:0,src:al,alt:"Aprendido",title:"Este tema ya ha sido aprendido",id:"iconoAprendido"},bP={id:"iconoNodo"},yP={key:0,src:Yd},wP={key:1,src:sl},EP=["onClick"];function AP(e,t,o,i,n,r){const s=Pe("pie-progreso"),c=Pe("loading");return J(),X("div",{class:ve(["iconoNodoConocimiento",{deshabilitado:o.siendoRemovido}]),onDblclick:t[1]||(t[1]=ge((...a)=>r.abrirPaginaNodo&&r.abrirPaginaNodo(...a),["stop"]))},[r.aprendido?(J(),X("img",gP)):Ie("",!0),o.porcentajeCompletado?V((J(),Ge(s,{key:1,id:"piePorcentajeCompletado",cifrasDecimales:0,progreso:o.porcentajeCompletado,size:30},null,8,["progreso"])),[[K,o.mostrarPorcentajeCompletado]]):Ie("",!0),V(Te(c,{id:"loadingRemovido"},null,512),[[K,o.siendoRemovido]]),V(m("div",bP,[o.esteNodo.tipoNodo==="concepto"?(J(),X("img",yP)):(J(),X("img",wP))],512),[[K,!o.mostrarPorcentajeCompletado&&!o.siendoRemovido]]),m("div",{id:"nombre",ref:"nombre",style:Oe([r.estiloCartelNombre]),class:ve({seleccionado:o.seleccionado})},Ee(o.esteNodo.nombre),7),V(m("div",{class:"menuContextual",onClick:t[0]||(t[0]=ge(()=>{},["stop"]))},[(J(!0),X(Fe,null,qe(o.opcionesMenuCx,a=>(J(),X("div",{class:"botonMenuCx",key:a.accion,onClick:l=>e.$emit(a.accion)},Ee(a.texto),9,EP))),128))],512),[[K,o.menuCx]])],34)}const _P=He(vP,[["render",AP],["__scopeId","data-v-823e6785"]]),ps=/[^ a-zA-ZÀ-ž0-9_():.,-]/,Ey=/[^\n\r a-zA-ZÀ-ž0-9_()":;.,+¡!¿?@=-]/,Vc=he`
  query ($idsNodos: [ID!]!) {
    nodosConocimientoByIds(idsNodos: $idsNodos) {
      id
      nombre
      descripcion
      tipoNodo
    }
  }
`,NP={name:"ColeccionNodosConocimiento",components:{IconoNodoConocimiento:_P,Loading:it},apollo:{nodosConocimiento:{query:Vc,variables(){return{idsNodos:this.estaColeccion.idsNodos}},skip(){var e;return!((e=this.estaColeccion)!=null&&e.idsNodos.length)>0},update({nodosConocimientoByIds:e}){return e}},progresoNodos:{query:he`
        query ($idsNodos: [ID!]!) {
          nodosConocimientoByIds(idsNodos: $idsNodos) {
            id
            porcentajeCompletado
          }
        }
      `,variables(){return{idsNodos:this.estaColeccion.idsNodos}},skip(){var e;return!((e=this.nodosConocimiento)!=null&&e.length)>0},update({nodosConocimientoByIds:e}){return e}},progresoColeccion:{query:he`
        query ($idColeccion: ID!, $idUsuario: ID!) {
          coleccionNodosConocimiento(
            idColeccion: $idColeccion
            idUsuario: $idUsuario
          ) {
            id
            progreso
          }
        }
      `,variables(){return{idColeccion:this.estaColeccion.id,idUsuario:this.yo.id}},skip(){var e,t;return!((e=this.yo)!=null&&e.id)||!((t=this.estaColeccion)!=null&&t.id)},update({coleccionNodosConocimiento:e}){return e.progreso}}},props:{estaColeccion:Object,yo:Object},data(){return{idNodoSeleccionado:null,idNodoMenuCx:null,idNodoSiendoRemovido:null,nodosConocimiento:[],progresoNodos:[],progresoColeccion:null,editandoTitulo:!1,guardandoNuevoTitulo:!1,mostrarPorcentajesNodos:!1,opcionesMenuCxNodos:[{texto:"Remover",accion:"removerme"}]}},methods:{iniciarEdicionTitulo(){this.$refs.inputNuevoTitulo.value=this.estaColeccion.titulo,this.editandoTitulo=!0},guardarNuevoTitulo(){var e=this.$refs.inputNuevoTitulo.value;if(console.log(`seting nombre de coleccion con value: ${e}`),ps.test(e))return alert("¡El nombre contenía caracteres ilegales!"),!0;this.guardandoNuevoTitulo=!0,this.$apollo.mutate({mutation:he`
            mutation ($idColeccion: ID!, $nuevoNombre: String!) {
              setNombreColeccionNodosAtlasConocimientoUsuario(
                idColeccion: $idColeccion
                nuevoNombre: $nuevoNombre
              ) {
                id
                atlas {
                  colecciones {
                    id
                    nombre
                  }
                }
              }
            }
          `,variables:{idColeccion:this.estaColeccion.id,nuevoNombre:e}}).then(()=>{this.guardandoNuevoTitulo=!1,this.editandoTitulo=!1}).catch(t=>{console.log(`Error: ${t}`),this.guardandoNuevoTitulo=!1})},removerNodo(e){this.idNodoSiendoRemovido=e,this.$apollo.mutate({mutation:he`
            mutation ($idColeccion: ID!, $idNodo: ID!) {
              removeNodoColeccionNodosAtlasConocimientoUsuario(
                idColeccion: $idColeccion
                idNodo: $idNodo
              )
            }
          `,variables:{idColeccion:this.estaColeccion.id,idNodo:e}}).then(()=>{this.idNodoSiendoRemovido=null,this.idNodoSeleccionado=null;const t=this.$apollo.provider.defaultClient,o=t.readQuery({query:Vc,variables:{idsNodos:this.estaColeccion.idsNodos}});let i=JSON.parse(JSON.stringify(o));const n=i.nodosConocimientoByIds.findIndex(r=>r.id===e);n>-1?(i.nodosConocimientoByIds.splice(n,1),t.writeQuery({query:Vc,variables:{idsNodos:this.estaColeccion.idsNodos},data:i})):console.log("El nodo no estaba en la colección.")}).catch(t=>{console.log(`Error: ${t}`),this.idNodoSiendoRemovido=null})}}},CP={id:"barraProgreso"},SP={id:"numeroProgreso"},xP={class:"barraSeccion",id:"barraSuperior"},IP={class:"listaNodos"};function TP(e,t,o,i,n,r){const s=Pe("loading"),c=Pe("icono-nodo-conocimiento");return J(),X("div",{class:"coleccionNodosConocimiento",onClick:t[4]||(t[4]=a=>n.idNodoMenuCx=null)},[V(m("div",{id:"zonaBarraProgreso",onMouseenter:t[0]||(t[0]=a=>n.mostrarPorcentajesNodos=!0),onMouseleave:t[1]||(t[1]=a=>n.mostrarPorcentajesNodos=!1)},[m("div",CP,[m("div",{id:"barraProgresoVerde",style:Oe([{width:n.progresoColeccion+"%"}])},null,4)]),m("div",SP,Ee(n.progresoColeccion)+"%",1)],544),[[K,!e.$apollo.queries.progresoColeccion.loading]]),V(Te(s,null,null,512),[[K,e.$apollo.queries.progresoColeccion.loading]]),m("div",xP,[V(m("div",{id:"elTitulo",onClick:t[2]||(t[2]=ge((...a)=>r.iniciarEdicionTitulo&&r.iniciarEdicionTitulo(...a),["stop"]))},Ee(o.estaColeccion.titulo),513),[[K,!n.editandoTitulo]]),V(m("input",{class:ve({deshabilitado:n.guardandoNuevoTitulo}),type:"text",id:"inputNuevoTitulo",style:{"text-align":"center"},ref:"inputNuevoTitulo",onKeypress:t[3]||(t[3]=vt((...a)=>r.guardarNuevoTitulo&&r.guardarNuevoTitulo(...a),["enter"]))},null,34),[[K,n.editandoTitulo]])]),m("div",IP,[(J(!0),X(Fe,null,qe(n.nodosConocimiento,a=>(J(),Ge(c,{key:a.id,esteNodo:a,seleccionado:n.idNodoSeleccionado===a.id,datosEsteNodo:o.yo.atlas.datosNodos.find(l=>l.idNodo===a.id),mostrarPorcentajeCompletado:n.mostrarPorcentajesNodos,siendoRemovido:n.idNodoSiendoRemovido===a.id,porcentajeCompletado:(n.progresoNodos.find(l=>l.id===a.id)||{}).porcentajeCompletado,menuCx:n.idNodoMenuCx===a.id,opcionesMenuCx:n.opcionesMenuCxNodos,onContextmenu:ge(l=>n.idNodoMenuCx=a.id,["stop","prevent"]),onClick:ge(l=>n.idNodoSeleccionado=n.idNodoSeleccionado===a.id?null:a.id,["self","stop"]),onRemoverme:l=>r.removerNodo(a.id)},null,8,["esteNodo","seleccionado","datosEsteNodo","mostrarPorcentajeCompletado","siendoRemovido","porcentajeCompletado","menuCx","opcionesMenuCx","onContextmenu","onClick","onRemoverme"]))),128))])])}const RP=He(NP,[["render",TP],["__scopeId","data-v-8c395b3e"]]),PP={components:{Loading:it},name:"SelectorConjunto",props:{seleccionado:Boolean,estaColeccion:Object,menuCx:Boolean},data(){return{eliminandose:!1}},methods:{eliminarse(){confirm("Confirmar eliminación de colección? (Esta acción no se puede deshacer)")&&(this.eliminandose=!0,this.$apollo.mutate({mutation:Dt`
            mutation ($idColeccion: ID!) {
              eliminarColeccionNodosAtlasConocimientoUsuario(
                idColeccion: $idColeccion
              ) 
            }
          `,variables:{idColeccion:this.estaColeccion.id}}).then(()=>{this.eliminandose=!1;const e=this.$apollo.provider.defaultClient,t=e.readQuery({query:St});var o=JSON.parse(JSON.stringify(t)),i=o.yo.atlas.colecciones;const n=i.findIndex(r=>r.id===this.estaColeccion.id);n>-1?(console.log("Retirando colección de caché"),i.splice(n,1),e.writeQuery({query:St,data:o})):console.log("La colección a borrar no estaba en caché")}).catch(e=>{console.log(`Error: ${e}`),this.eliminandose=!1}))}}},DP={id:"zonaIcono"},kP={src:fs,alt:"Coleccion",style:{height:"30px"}},OP={id:"zonaInformacion"},MP={id:"nombre"};function LP(e,t,o,i,n,r){const s=Pe("loading");return J(),X("div",{class:ve(["selectorConjunto",{seleccionado:o.seleccionado,deshabilitado:n.eliminandose}])},[V(m("div",{class:"menuContextual",id:"menuContextual",onClick:t[1]||(t[1]=ge(()=>{},["stop"]))},[m("div",{class:"botonMenuCx",onClick:t[0]||(t[0]=ge((...c)=>r.eliminarse&&r.eliminarse(...c),["stop"]))},"Eliminar")],512),[[K,o.menuCx]]),m("div",DP,[V(m("img",kP,null,512),[[K,!n.eliminandose]]),V(Te(s,null,null,512),[[K,n.eliminandose]])]),m("div",OP,[m("div",MP,Ee(o.estaColeccion.nombre),1)])],2)}const FP=He(PP,[["render",LP],["__scopeId","data-v-fc51eaef"]]),li="/caracol/assets/plusCircle-b5e3a2dd.svg",BP=/[^ a-zA-ZÀ-ž0-9_():.,-]/,UP={components:{ColeccionNodosConocimiento:RP,SelectorConjunto:FP,Loading:it},name:"PanelConjuntosNodos",props:{yo:Object,modoAtlas:String},data(){return{abierto:!1,idColeccionSeleccionada:0,editandoNombreColeccion:!1,idNodoSeleccionado:null,idColeccionAbierta:null,idColeccionMenuCx:null,enviandoQueryColecciones:!1,enviandoQueryNodosSeccion:!1,creandoColeccion:!1}},methods:{abrirPaginaNodo(e){e&&this.$router.push("/nodoConocimiento/"+e)},crearNuevaColeccion(){this.enviandoQueryColecciones=!0,this.creandoColeccion=!0,this.$apollo.mutate({mutation:he`
            mutation {
              crearColeccionNodosAtlasConocimientoUsuario {
                ...fragColecciones
              }
            }
            ${Cy}
          `}).then(({data:{crearColeccionNodosAtlasConocimientoUsuario:e}})=>{this.enviandoQueryColecciones=!1;const t=this.$apollo.provider.defaultClient,o=t.readQuery({query:St});var i=JSON.parse(JSON.stringify(o)),n=i.yo.atlas.colecciones;n.findIndex(s=>s.id===e.id)===-1?(n.push(e),t.writeQuery({query:St,data:i})):console.log("La colección ya estaba incluida"),this.creandoColeccion=!1}).catch(e=>{console.log(`Error: ${e}`),this.creandoColeccion=!1})},seleccionarColeccion(e,t){if(this.idColeccionSeleccionada===t){const o=this.conjuntos.find(i=>i.id===t).nombre;console.log(`Seting value del input a ${o}`),this.editandoNombreColeccion=!0,document.getElementById("inputNombreColeccion"+t).value=o}else this.editandoNombreColeccion=!1;this.idColeccionSeleccionada=t,this.idNodoSeleccionado=null},guardarNuevoNombreColeccion(e,t){var o=e.target.value;if(console.log(`seting nombre de coleccion ${t} con value: ${o}`),BP.test(o))return alert("¡El nombre contenía caracteres ilegales!"),!0;this.enviandoQueryColecciones=!0,this.$apollo.mutate({mutation:he`
            mutation ($idColeccion: ID!, $nuevoNombre: String!) {
              setNombreColeccionNodosAtlasConocimientoUsuario(
                idColeccion: $idColeccion
                nuevoNombre: $nuevoNombre
              ) {
                id
                atlas {
                  colecciones {
                    id
                    nombre
                    idsNodos
                    nodos {
                      id
                      nombre
                    }
                  }
                }
              }
            }
          `,variables:{idColeccion:t,nuevoNombre:o}}).then(()=>{this.enviandoQueryColecciones=!1,this.editandoNombreColeccion=!1}).catch(i=>{console.log(`Error: ${i}`),this.enviandoQueryColecciones=!1})}},computed:{idsNodosObjetivos(){return!this.yo||!this.yo.atlas||!this.yo.atlas.datosNodos?[]:this.yo.atlas.datosNodos.filter(e=>e.objetivo==!0).map(e=>e.idNodo)},nodosObjetivo(){return this.yo?this.todosNodos.filter(e=>this.idsNodosObjetivos.includes(e.id)):[]},conjuntos(){return this.conjuntosUsuario},conjuntosUsuario(){if(!this.yo||!this.yo.atlas||!this.yo.atlas.colecciones)return[];var e=JSON.parse(JSON.stringify(this.yo.atlas.colecciones));return e.forEach(t=>{t.titulo=t.nombre,t.modo="estudiante",t.editable=!0,t.editandoNombre=!1}),e},coleccionSeleccionada(){return this.conjuntos.find(e=>e.id===this.idColeccionSeleccionada)},coleccionAbierta(){return this.idColeccionAbierta?this.conjuntos.find(e=>e.id===this.idColeccionAbierta):null}},watch:{abierto(){this.idNodoSeleccionado=null}}},$P=e=>(Ze("data-v-06e7ad61"),e=e(),Xe(),e),jP={class:"barraSeccion"},qP={key:0},VP={style:{"margin-left":"auto"}},HP=$P(()=>m("img",{src:li,alt:"Nuevo",style:{}},null,-1)),zP=[HP],QP={key:0,class:"anuncioZonaVacia"};function GP(e,t,o,i,n,r){const s=Pe("loading"),c=Pe("selector-conjunto"),a=Pe("coleccion-nodos-conocimiento");return V((J(),X("div",{id:"panelConjuntosNodos",onMouseup:t[4]||(t[4]=ge(()=>{},["left","stop"])),onMousedown:t[5]||(t[5]=ge(()=>{},["left","stop"])),onTouchmove:t[6]||(t[6]=ge(()=>{},["stop"]))},[m("div",jP,[m("span",{onClick:t[0]||(t[0]=l=>n.idColeccionAbierta=null)}," Colecciones"),r.coleccionAbierta?(J(),X("span",qP,Ee(" > "+r.coleccionAbierta.titulo),1)):Ie("",!0),m("div",VP,[V(m("div",{onClick:t[1]||(t[1]=(...l)=>r.crearNuevaColeccion&&r.crearNuevaColeccion(...l)),class:"boton"},zP,512),[[K,!n.creandoColeccion]]),V(Te(s,null,null,512),[[K,n.creandoColeccion]])])]),V(m("div",{id:"listaConjuntos",onClick:[t[2]||(t[2]=l=>n.idColeccionMenuCx=null),t[3]||(t[3]=ge(l=>n.idColeccionSeleccionada=null,["self"]))]},[r.conjuntos.length<1?(J(),X("div",QP," Aún no hay colecciones ")):Ie("",!0),(J(!0),X(Fe,null,qe(r.conjuntos,l=>(J(),Ge(c,{key:l.id,seleccionado:l.id===n.idColeccionSeleccionada,menuCx:n.idColeccionMenuCx===l.id,estaColeccion:l,onContextmenu:ge(u=>n.idColeccionMenuCx=l.id,["exact","stop","prevent"]),onDblclick:u=>n.idColeccionAbierta=l.id,onClick:u=>n.idColeccionSeleccionada=n.idColeccionSeleccionada===l.id?null:l.id},null,8,["seleccionado","menuCx","estaColeccion","onContextmenu","onDblclick","onClick"]))),128))],512),[[K,!r.coleccionAbierta]]),r.coleccionAbierta?(J(),Ge(a,{key:0,yo:o.yo,estaColeccion:r.coleccionAbierta},null,8,["yo","estaColeccion"])):Ie("",!0)],544)),[[K,n.abierto]])}const KP=He(UP,[["render",GP],["__scopeId","data-v-06e7ad61"]]),WP={name:"EnlacesNodoConocimiento",props:{yo:Object,idNodoSeleccionado:String,idsNodosPreviosSeleccionado:Array,idsNodosContinuacionSeleccionado:Array,conectadoSeleccionado:Boolean,esteNodo:Object,todosNodos:Array,factorZoom:Number,callingPosiciones:Boolean,nodoSeleccionado:Object,childSeleccionado:Boolean,idsTodosNodosRender:Array,esquinasDiagrama:Object,transicionarPosicionNodos:Boolean,idsNodosPresentesCabeza:Array,redibujarEnlaces:{type:Number,default:0}},data(){return{esquinasSeleccionado:{x1:0,x2:0,y1:0,y2:0},posicionSeleccionado:{x:0,y:0},factorFuerza:15,vinculosGrises:[]}},methods:{drawVinculos(){var e=JSON.parse(JSON.stringify(this.esteNodo.vinculos.filter(t=>t.rol==="target"&&this.idsTodosNodosRender.includes(t.idRef))));e.forEach(t=>{const o=this.todosNodos.find(u=>u.id===t.idRef).coords,i={x:o.x-this.posNodo.x,y:o.y-this.posNodo.y},n=Math.PI+Math.atan2(i.y,i.x),r=Math.hypot(i.x,i.y),s=t.rol==="target"&&this.idsNodosPresentesCabeza.includes(this.esteNodo.id)||t.rol==="source"&&this.idsNodosPresentesCabeza.includes(t.idRef),c=t.rol==="source"&&!this.idsNodosPresentesCabeza.includes(this.esteNodo.id)||t.rol==="target"&&this.idsNodosPresentesCabeza.includes(t.idRef),a=!s&&!c;let l="black";c&&(l="var(--atlasConocimientoAvailable)"),a&&(l="black"),s&&(l="var(--atlasConocimientoCheck)"),t.inaccesible=a,t.estilo={transform:"rotate("+n+"rad)",top:Math.round((i.y-1)*this.factorZoom)+"px",left:Math.round(i.x*this.factorZoom)+"px",width:Math.round(r*this.factorZoom)+"px",backgroundColor:l,borderLeftColor:l}}),this.vinculosGrises=e}},computed:{estiloPosicion(){const e=this.esteNodo.autoCoords.x-this.esquinasDiagrama.x1,t=this.esteNodo.autoCoords.y-this.esquinasDiagrama.y1;return{left:e*this.factorZoom+"px",top:t*this.factorZoom+"px"}},estiloFuerzaColision(){return{transform:"rotate("+this.esteNodo.fuerzaColision.direccion+"rad)",top:"0px",left:"0px",width:Math.ceil(this.esteNodo.fuerzaColision.fuerza*this.factorFuerza*this.factorZoom)+"px"}},estiloFuerzaCentroMasa(){return{transform:"rotate("+this.esteNodo.fuerzaCentroMasa.direccion+"rad)",top:"0px",left:"0px",width:Math.round(this.esteNodo.fuerzaCentroMasa.fuerza*this.factorFuerza*this.factorZoom)+"px"}},altoVinculos(){return{height:Math.ceil(1*this.factorZoom)+"px"}},sizeFlecha(){return{borderWidth:Math.round(7*this.factorZoom)+"px"}},posNodo(){return this.esteNodo.coords},seleccionado(){return this.nodoSeleccionado?this.nodoSeleccionado.id===this.esteNodo.id:!1},enAmbitoNodoSeleccionado(){return console.log("checking if enlace enAmbitoNodoSeleccionado"),this.idNodoSeleccionado&&(this.idsNodosPreviosSeleccionado.includes(this.esteNodo.id)||this.idsNodosContinuacionSeleccionado.includes(this.esteNodo.id))}}};function JP(e,t,o,i,n,r){return J(),X("div",{class:"enlacesNodoConocimiento",style:Oe([r.estiloPosicion])},[Te(jg,{tag:"div"},{default:Jt(()=>[(J(!0),X(Fe,null,qe(n.vinculosGrises,s=>(J(),X("div",{class:ve(["vinculo vinculoGris",{irrelevante:o.idNodoSeleccionado&&o.esteNodo.id!=o.idNodoSeleccionado&&(!r.enAmbitoNodoSeleccionado||!o.idsNodosPreviosSeleccionado.includes(s.idRef)&&!o.idsNodosContinuacionSeleccionado.includes(s.idRef)&&s.idRef!=o.idNodoSeleccionado),inaccesible:s.inaccesible}]),key:s.id,style:Oe([s.estilo,r.altoVinculos])},[m("div",{class:"flechaVinculo",style:Oe([r.sizeFlecha])},null,4)],6))),128))]),_:1}),V(m("div",{class:"fuerza",style:Oe([r.estiloFuerzaColision,{opacity:o.nodoSeleccionado?1:.3}]),id:"fuerzaColision"},null,4),[[K,o.callingPosiciones]]),V(m("div",{class:"fuerza",style:Oe([r.estiloFuerzaCentroMasa,{opacity:o.nodoSeleccionado?1:.3}]),id:"fuerzaCentroMasa"},null,4),[[K,o.callingPosiciones]])],4)}const YP=He(WP,[["render",JP],["__scopeId","data-v-b413db9d"]]);var Cr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zu(e,t,o){var i,n,r,s,c;t==null&&(t=100);function a(){var u=Date.now()-s;u<t&&u>=0?i=setTimeout(a,t-u):(i=null,o||(c=e.apply(r,n),r=n=null))}var l=function(){r=this,n=arguments,s=Date.now();var u=o&&!i;return i||(i=setTimeout(a,t)),u&&(c=e.apply(r,n),r=n=null),c};return l.clear=function(){i&&(clearTimeout(i),i=null)},l.flush=function(){i&&(c=e.apply(r,n),r=n=null,clearTimeout(i),i=null)},l}Zu.debounce=Zu;var Jn=Zu;const ZP={props:{elNodo:{type:Object}},components:{Loading:it},name:"ControlesNodo",data(){return{desplegado:!1,mostrando:"",montado:!1,heightNombre:0,heigthAll:0,settingDateEstudiado:!1,diasRepaso:0,guardandoPeriodoRepaso:!1,nivelesConexion:0}},computed:{estiloPos(){let e=0;return this.elNodo&&(e=this.heightNombre),this.desplegado&&(e=this.heigthAll),{transform:`translate(-50%, -${e}px)`}}},methods:{marcarEstudiado(){this.settingDateEstudiado=!0,this.$apollo.mutate({mutation:Dt`
                    mutation( $idUsuario: ID!, $idNodo: ID!, $fecha: Date!){
                        setDateNodoConocimientoEstudiadoUsuario(idUsuario: $idUsuario, idNodo: $idNodo, fecha: $fecha){
                            ...fragDatoNodoConocimiento
                        }
                    }
                    ${ns}
                    `,variables:{idUsuario:this.usuario.id,idNodo:this.elNodo.id,fecha:new Date}}).then(({data:{setDateNodoConocimientoEstudiadoUsuario:e}})=>{this.settingDateEstudiado=!1,console.log(`Completado. Recibido; ${JSON.stringify(e)}`);let t=this.$apollo.provider.defaultClient,o=t.readQuery({query:St,variables:{idUsuario:this.usuario.id}});if(o.yo.atlas.datosNodos.indexOf(n=>n.idNodo===this.elNodo.id)===-1){let n=JSON.parse(JSON.stringify(o));n.yo.atlas.datosNodos.push(e),t.writeQuery({query:St,variables:{idUsuario:this.usuario.id},data:n})}}).catch(e=>{console.log("Error: "+e),this.settingDateEstudiado=!1})},setPeriodoRepaso(){if(!this.elNodo)return;this.diasRepaso=this.$refs.inputDiasRepaso.value;let e=parseInt(this.diasRepaso*864e5);e<864e5||(this.guardandoPeriodoRepaso=!0,this.$apollo.mutate({mutation:Dt`
                    mutation($idNodo: ID!, $nuevoPeriodoRepaso: Float!){
                        setPeriodoRepasoNodoConocimientoUsuario(idNodo: $idNodo, nuevoPeriodoRepaso: $nuevoPeriodoRepaso){
                             ...fragDatoNodoConocimiento
                        }
                    }
                    ${ns}
                    `,variables:{idNodo:this.elNodo.id,nuevoPeriodoRepaso:e}}).then(()=>{this.guardandoPeriodoRepaso=!1,this.mostrando=""}).catch(t=>{console.log("Error: "+t),this.guardandoPeriodoRepaso=!1}))}},watch:{elNodo(e){e||(this.nivelesConexion=0),e?this.$nextTick(()=>{this.heightNombre=this.$refs.nombre.clientHeight,this.heigthAll=this.$el.clientHeight}):(this.mostrando="",this.heightNombre=0,this.heigthAll=0)},nivelesConexion:{handler(e){this.$emit("nivelesConexion",e)},immediate:!0}},mounted(){this.montado=!0,this.desplegado=!1}},Ay="/caracol/assets/chevron-96483fd8.svg",XP="/caracol/assets/expandSolid-e988a130.svg",eD="/caracol/assets/bookSolid-eae94e37.svg",_y="/caracol/assets/stopwatchSolid-d874903c.svg",tD="/caracol/assets/crosshairsSolid-e6c81b12.svg",oD="/caracol/assets/codeBranch-1d161a21.svg",ci=e=>(Ze("data-v-ae2205ce"),e=e(),Xe(),e),nD={id:"zonaControlVerConexiones"},iD=ci(()=>m("img",{src:Ay,alt:"Arrow"},null,-1)),rD=[iD],sD=ci(()=>m("img",{src:Ay,alt:"Arrow"},null,-1)),aD=[sD],lD=ci(()=>m("div",{class:"boton botonControl"},[m("img",{src:XP,alt:"Repaso"})],-1)),cD={class:"bloqueControl"},uD={src:eD,alt:"Repaso"},dD={class:"bloqueControl"},hD=ci(()=>m("img",{src:_y,alt:"Repaso"},null,-1)),fD=[hD],pD={class:"bloqueControl"},mD={class:"bloqueControl"},vD=ci(()=>m("img",{src:oD,alt:"Repaso"},null,-1)),gD=[vD],bD={id:"zonaMostrada"},yD={class:"bloqueConfiguracion bloqueSplash",id:"configuracionTiempoRepaso"},wD=ci(()=>m("img",{src:zt,alt:"Cerrar"},null,-1)),ED=[wD],AD=ci(()=>m("h3",{class:"tituloSplash"},[m("img",{src:_y,alt:"Crono"}),gt(" Periodo de repaso ")],-1)),_D={class:"descripcionSplash"};function ND(e,t){var n,r;const o=Pe("router-link"),i=Pe("loading");return J(),X("div",{class:ve(["controlesNodo",{desplegado:e.desplegado}]),style:Oe(e.estiloPos)},[m("div",nD,[m("div",{class:"boton botonConexiones",onClick:t[0]||(t[0]=ge(s=>e.nivelesConexion--,["stop"]))},rD),V(m("div",{id:"indicadorNiveles"},Ee(e.nivelesConexion),513),[[K,e.nivelesConexion]]),m("div",{class:"boton botonConexiones",onClick:t[1]||(t[1]=ge(s=>e.nivelesConexion++,["stop"])),style:{transform:"rotate(180deg)"}},aD)]),m("div",{id:"nombre",ref:"nombre",onClick:t[2]||(t[2]=ge(s=>e.desplegado=!e.desplegado,["stop"]))},Ee(((n=e.elNodo)==null?void 0:n.nombre)||""),513),m("div",{id:"zonaControles",onClick:t[9]||(t[9]=ge(()=>{},["stop"]))},[e.elNodo?(J(),X("div",{key:0,class:"bloqueControl",style:{width:"100%","margin-bottom":"20px"},onClick:t[3]||(t[3]=()=>{})},[Te(o,{to:{name:"visorNodoConocimiento",params:{idNodo:e.elNodo.id}}},{default:Jt(()=>[lD]),_:1},8,["to"])])):Ie("",!0),m("div",cD,[m("div",{class:"boton botonControl",onClick:t[4]||(t[4]=(...s)=>e.marcarEstudiado&&e.marcarEstudiado(...s))},[V(Te(i,null,null,512),[[K,e.settingDateEstudiado]]),V(m("img",uD,null,512),[[K,!e.settingDateEstudiado]])])]),m("div",dD,[m("div",{class:"boton botonControl",onClick:t[5]||(t[5]=s=>e.mostrando=e.mostrando==="tiempoRepaso"?"":"tiempoRepaso")},fD)]),m("div",pD,[m("div",{class:"boton botonControl",onClick:t[7]||(t[7]=(...s)=>e.marcarEnLaMira&&e.marcarEnLaMira(...s))},[m("img",{src:tD,onClick:t[6]||(t[6]=s=>e.$emit("setMeTarget")),alt:"Repaso"})])]),m("div",mD,[m("div",{class:"boton botonControl",onClick:t[8]||(t[8]=s=>e.mostrando=e.mostrando==="enlaces"?null:"enlaces")},gD)])]),V(m("div",bD,null,512),[[K,e.mostrando]]),(J(),Ge(wN,{to:"body"},[V(m("div",yD,[m("div",{class:"boton",id:"botonCerrar",onClick:t[10]||(t[10]=s=>e.mostrando="")},ED),AD,V(m("input",{type:"number",ref:"inputDiasRepaso",id:"inputDiasRepaso",min:"0",max:"180","onUpdate:modelValue":t[11]||(t[11]=s=>e.diasRepaso=s)},null,512),[[Ke,e.diasRepaso]]),m("div",_D," Selecciona la cantidad de días entre repasos para el nodo "+Ee(((r=e.elNodo)==null?void 0:r.nombre)||"")+". ",1),m("div",{class:ve(["botonTexto",{deshabilitado:e.guardandoPeriodoRepaso}]),onClick:t[12]||(t[12]=(...s)=>e.setPeriodoRepaso&&e.setPeriodoRepaso(...s))}," Aceptar ",2),V(Te(i,null,null,512),[[K,e.guardandoPeriodoRepaso]])],512),[[K,e.mostrando==="tiempoRepaso"]])]))],6)}const CD=He(ZP,[["render",ND],["__scopeId","data-v-ae2205ce"]]),Xd="/caracol/assets/locationCrosshair-033bceb2.svg",SD="/caracol/assets/bombillo-276c3941.svg",eh="/caracol/assets/teacher-09fe7473.svg",Ny="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAABg1BMVEUAAAAAAAAAAAAaGhocHBwFBQUDAwMAAAAFBQUgICBiYmIREREKCgoLCwtQUFAAAAAVFRVHR0cJCQkCAgIBAQEDAwMTExMhISE1NTUHBwcDAwMHBwcICAgHBwcCAgIVFRUYGBgUFBQSEhJeXl4EBAQFBQUFBQUBAQELCwsAAAANDQ0vLy8LCwsVFRUREREZGRkAAAAHBwcJCQkHBwcHBwcGBgYICAgMDAwCAgIAAAAQEBAaGhoKCgoVFRUKCgoQEBAQEBAZGRkHBwciIiIhISEoKCgtLS0JCQkEBAQNDQ0KCgoDAwMKCgoZGRkICAgKCgoLCwsJCQkQEBAICAgODg4dHR0YGBgTExMICAgPDw8LCwscHBwgICAtLS0ZGRktLS04ODgqKiomJiYPDw8NDQ0UFBQQEBAAAAAMDAwODg4YGBgKCgoWFhYYGBgyMjIfHx80NDQAAAAICAgzMzMkJCQrKysAAAA0NDQzMzM8PDwTExMWFhZISEgpKSlFRUUfHx8AAACEqLVPAAAAgHRSTlMA/pkLmb8f399/CtfPZRvzvxW1/PXzuh4D5dvSo41lY09HLQbw7+riyL+sdW9YS0E/+NrWy8a7sqObmI2EeXl2aWheODQcCfPm1sXCwL+tpp6Wj4eDgHJvWUhDPj0sJxkWEhDg0dC/vr2uqqqihYSDenFqY1pSTklGQ0M5NSULCM5vugoAAAJJSURBVEjH7dNnV+JAFIDhuWRR1oYbmjTpKH0BpSOCYF/b2rvbe+/1/vRNmABhYTB89/2SczjnOZc7mZCbuha1JTTPDrg+xKEFhXT2RcXifAaxbkYVkzIgbUPxmDxKrYwpJcXGlOkHSskPr0TuE6V5cnTMrJsobszuB9DzLtJHEz8rk9FYMe8wkX5yqw0aX0rZpItLIrabHA+mrdI+sd3IBBMcVcoL4pPb481o5oGeWqHHgbuWwa+2l53RA96H6E+DVVzHE8SXzCmHgEKg14pPnfER6p3iyFksEFa1oB9QymxMIeKO8KtJAw4miX1eCG+ODC4tDU4bjVYRpjhCqj7tEZHHNfoeCr15Fwp9PHN/++qurtJxlgFCjrW+qlyYbGqpFQ1NLVaRvhqvcIAR3eCAnAxosEsQ3sB62ruEfIBETU4u3w53CsOr050WeY1rHGnrVicR/kgJmiSH610IyKuTyRZRoXGog4zs3W71Io5T844MJYYTQrJoIx1EJbsP8+uAqNVRgVPn4n1RdSGkWcSL8lavyNC93mRiq01AiVxLLqxyYLBzAjH2JideukJijd/K77v+ioNtvUkY6uK4FrVlsyqaBZ972MSz2XiVo4CtnvxhE1OyQZxxTI7THqKaYxOXoUHujEB4iFaEmSs2mQMZmSQ0B2hMTLKYxi7EqV8+Y5LfFjnJjNLsekOMSZx6GUHzsBToIkziEFeBxpS5MdovK5SY5NQskMfx/3bheMy1k/1A4H3z5k9btj/xgYxAtp9+aZ5joMCRm8g/1gHtCvE8ISoAAAAASUVORK5CYII=",Cy=he`
  fragment fragColecciones on ColeccionNodosAtlasConocimiento {
    id
    nombre
    idsNodos
    nodos {
      id
      nombre
    }
  }
`,Sy=he`
  fragment fragNodoConocimiento on NodoConocimiento {
    id
    nombre
    descripcion
    expertos
    tipoNodo
    nivel    
    coordsManuales {
      x
      y
    }
    coords {
      x
      y
    }
    autoCoords {
      x
      y
    }
    centroMasa {
      x
      y
    }
    stuck
    angulo
    puntaje
    vinculos {
      id
      idRef
      rol
      tipo
    }
    fuerzaCentroMasa {
      fuerza
      direccion
    }
    fuerzaColision {
      fuerza
      direccion
    }
  }
`,Sr=he`
  query todosNodos {
    todosNodos {
      ...fragNodoConocimiento
    }
  }
  ${Sy}
`,St=he`
  query {
    yo {
      id
      atlas {
        datosNodos {
          ...fragDatoNodoConocimiento
        }
        configuracion {
          modo
        }
        colecciones {
          ...fragColecciones
        }
      }
    }
  }
  ${ns}
  ${Cy}
`,xD={components:{NodoConocimiento:nP,BuscadorNodosConocimiento:uP,Loading:it,PanelConjuntosNodos:KP,EnlacesNodoConocimiento:YP,PieProgreso:wy,ControlesNodo:CD},name:"AtlasConocimiento",apollo:{todosNodos:{query:Sr,result:function(){this.dibujarVinculosGrises()},update({todosNodos:e}){this.nodosDescargados=!0;var t=JSON.parse(JSON.stringify(e));t.forEach(i=>{i.coordsManuales=i.autoCoords,i.coords=i.autoCoords});const o=localStorage.getItem("atlasConocimientoIdLastNodoTarget");if(o){const i=e.find(n=>n.id===o);i&&(this.idNodoTarget=i.id)}return t},fetchPolicy:"cache-first"},yo:{query:St,skip(){return!this.usuarioLogeado||this.todosNodos.length<1},update({yo:e}){var o,i;const t=localStorage.getItem("atlasConocimientoIdLastColeccionTarget");if(console.log(`ID lastColeccionTarget: ${t}`),t&&((o=e.atlas)!=null&&o.colecciones)){const n=(i=e.atlas)==null?void 0:i.colecciones.find(r=>r.id===t);n&&(this.idColeccionSeleccionada=n.id)}return e},fetchPolicy:"cache-and-network"},configuracionAtlas:{query:he`
        query ($nombreAtlas: String!) {
          configuracionAtlas(nombreAtlas: $nombreAtlas) {
            id
            posicionando
          }
        }
      `,variables:{nombreAtlas:"conocimiento"},fetchPolicy:"network-only"},progresoNodoTarget:{query:he`
        query ($idNodo: ID!) {
          nodo(idNodo: $idNodo) {
            id
            porcentajeCompletado
          }
        }
      `,variables(){return{idNodo:this.idNodoTarget}},skip(){return!this.idNodoTarget},update({nodo:e}){return e.porcentajeCompletado}},progresoColeccionSeleccionada:{query:he`
        query ($idColeccion: ID!, $idUsuario: ID!) {
          coleccionNodosConocimiento(
            idColeccion: $idColeccion
            idUsuario: $idUsuario
          ) {
            id
            progreso
          }
        }
      `,variables(){return{idColeccion:this.idColeccionSeleccionada,idUsuario:this.usuario.id}},update({coleccionNodosConocimiento:e}){return e.progreso},skip(){return!this.idColeccionSeleccionada}},idsNodosEstudiables:{query:he`
        query {
          idsMisNodosEstudiables
        }
      `,update({idsMisNodosEstudiables:e}){return console.log("descargados "+e.length+" nodos"),e},skip(){return!this.usuarioLogeado},fetchPolicy:"cache-and-network"}},data(){return{firstLoad:!0,configuracionAtlas:{posicionando:!1},hovered:!1,todosNodos:[],nodosDescargados:!1,posicionCreandoNodo:null,idNodoSeleccionado:null,nivelesConexion:0,factorEscalera:.2,idsNodosCadenaPreviaSeleccionado:[],idNodoMenuCx:null,idsNecesariosParaTarget:[],enviandoQueryModo:!1,modoAtlas:"estudiante",enviandoQueryTarget:!1,redibujarEnlacesNodos:0,yo:{atlas:{datosNodos:[],configuracion:{modo:"estudiante"}}},centroVistaDecimal:{x:218,y:39},showingZoomInfo:!1,zoom:60,minZoom:20,maxZoom:200,pinching:!1,lastPinchDistance:0,panningVista:!1,vistaPanned:!1,actualizarVinculosGrises:0,ultimoTouchX:0,ultimoTouchY:0,cerrarBusqueda:0,callingPosiciones:!1,mostrandoMenuContextual:!1,offsetMenuContextual:{top:"0px",left:"0px"},enviandoQueryConfiguracionAtlas:!1,idColeccionSeleccionada:null,seleccionandoColeccion:!1,mostrandoOpcionesColeccion:!1,indexLastLocateNextAvailable:0,indexLastLocateNextCheck:0,indexLastLocateNextRepaso:0,idColeccionTargetOnLastLocalizacion:null,idNodoTarget:null,idsNodosEstudiables:[]}},computed:{nodosRenderConEstilos(){return this.nodosRender.map(e=>(e.vinculos=e.vinculos.map(t=>{if(t.rol==="source")return{...t};if(!this.nodosRender.find(b=>b.id===t.idRef))return{...t};let i=t.rol==="target"?e.id:t.idRef,n=t.rol==="target"?t.idRef:e.id,r=this.nodosRender.find(b=>b.id===i),s=this.nodosRender.find(b=>b.id===n),c=r.coords,a=s.coords,l=Math.atan2(a.y-c.y,a.x-c.x),u=Math.sqrt(Math.pow(a.y-c.y,2)+Math.pow(a.x-c.x,2)),h=100,f=u,g={paddingLeft:Math.round(h/2)+"px",paddingRight:Math.round(h/2)+"px",width:Math.round(f)+"px",transform:"rotate("+l+"rad)"};return{...t,estilo:g}}),{...e}))},nombreColeccionSeleccionada(){var e;return this.idColeccionSeleccionada?((e=this.coleccionSeleccionada)==null?void 0:e.nombre)||"Cargando":"Atlas"},coleccionSeleccionada(){return this.idColeccionSeleccionada?this.coleccionesUsuario.find(e=>e.id===this.idColeccionSeleccionada):null},coleccionesUsuario(){var e,t;return(t=(e=this.yo)==null?void 0:e.atlas)!=null&&t.colecciones?this.yo.atlas.colecciones:[]},nodoSeleccionado:function(){return this.idNodoSeleccionado?this.todosNodos.find(e=>e.id===this.idNodoSeleccionado):null},idUsuario:function(){return this.usuario.id},usuarioAdministradorAtlas:function(){return this.usuario.permisos?!!this.usuario.permisos.includes("atlasAdministrador"):!1},nodoTarget(){return this.idNodoTarget?this.todosNodos.find(e=>e.id===this.idNodoTarget):null},idsNodosAprendidos(){return this.yo.atlas.datosNodos.filter(e=>e.aprendido===!0).map(e=>e.idNodo)},datosNodosEstudiados(){return this.yo.atlas.datosNodos.filter(e=>!e.aprendido&&e.estudiado)},idsNodosEstudiados(){return this.datosNodosEstudiados.map(e=>e.idNodo)},datosNodosRepasar(){if(!this.yo||!this.yo.atlas||!this.yo.atlas.datosNodos)return[];var e=this.datosNodosEstudiados.filter(n=>n.periodoRepaso);let o=new Date;return o.setHours(0),o.setMinutes(0),o.setSeconds(0),e.filter(n=>new Date(n.estudiado).getTime()+n.periodoRepaso<o.getTime())},idsNodosRepasar(){return this.datosNodosRepasar.map(e=>e.idNodo)},idsNodosRepasarPresentes(){return this.idTarget?this.idsNodosRepasar.filter(e=>this.idsNodosRender.includes(e)):this.idsNodosRepasar},datosNodosFrescos(){return this.datosNodosEstudiados.filter(e=>!this.idsNodosRepasar.includes(e.idNodo))},idsNodosFrescos(){return this.datosNodosFrescos.map(e=>e.idNodo)},idsNodosPresentesCabeza(){return this.idsNodosFrescos.filter(e=>!this.idsNodosAprendidos.includes(e)).concat(this.idsNodosAprendidos)},centroVista(){return{x:Math.round(this.centroVistaDecimal.x),y:Math.round(this.centroVistaDecimal.y)}},factorZoom(){return Number((this.zoom/100).toFixed(2))},esquinasDiagrama(){const e=this.todosNodos.reduce((r,s)=>s.autoCoords.x>r?s.autoCoords.x:r,0),t=this.todosNodos.reduce((r,s)=>s.autoCoords.y>r?s.autoCoords.y:r,0),o=this.todosNodos.reduce((r,s)=>s.autoCoords.x<r?s.autoCoords.x:r,0),i=this.todosNodos.reduce((r,s)=>s.autoCoords.y<r?s.autoCoords.y:r,0);let n=400;return{x1:o-n,y1:i-n,x2:e+n,y2:t+n}},offsetContenedorNodos(){const e=this.esquinasDiagrama.x2-this.esquinasDiagrama.x1,t=this.esquinasDiagrama.y2-this.esquinasDiagrama.y1;return{width:e*this.factorZoom+"px",height:t*this.factorZoom+"px"}},nodosRender(){if(this.$route.name!="atlas")return[];if(this.idNodoTarget)return this.todosNodos.filter(e=>this.idsNecesariosParaTarget.includes(e.id)).concat([this.todosNodos.find(e=>this.idNodoTarget===e.id)]);if(this.coleccionSeleccionada){let e=this.coleccionSeleccionada.idsNodos,t=[],o=[];for(;e.length>0;){o=this.todosNodos.filter(n=>e.includes(n.id)),t.push(...o);let i=t.map(n=>n.id);e=[];for(const n of o){let s=n.vinculos.filter(c=>c.tipo==="continuacion"&&c.rol==="target").map(c=>c.idRef).filter(c=>!i.includes(c));e.push(...s)}}return t}return this.todosNodos},idsNodosRender(){return this.nodosRender.map(e=>e.id)},idsTodosNodosRender(){return this.nodosRender.map(e=>e.id)},offsetLoadingCreandoNodo(){if(!this.posicionCreandoNodo)return null;const e=(this.posicionCreandoNodo.x-this.esquinasDiagrama.x1)*this.factorZoom,t=(this.posicionCreandoNodo.y-this.esquinasDiagrama.y1)*this.factorZoom;return{left:e+"px",top:t+"px"}},nodoAbierto(){return this.$route.name==="visorNodoConocimiento"},idTarget(){return this.idNodoTarget||this.idColeccionSeleccionada},idsNodosConectadosSeleccionado(){if(!this.nodoSeleccionado)return[];if(!this.nivelesConexion)return[];let e="target";this.nivelesConexion>0&&(e="source");let t=[this.nodoSeleccionado],o=[];for(let i=0;i<Math.abs(this.nivelesConexion)&&!(o.length>1e3);i++){let n=t.map(r=>r.vinculos.filter(s=>s.tipo==="continuacion"&&s.rol===e).map(s=>s.idRef)).flat();t=this.todosNodos.filter(r=>n.includes(r.id)),o.push(...t.map(r=>r.id))}return o},idsRedSeleccion(){var e;return this.nodoSeleccionado?[...this.idsNodosConectadosSeleccionado,(e=this.nodoSeleccionado)==null?void 0:e.id]:[]}},methods:{updateCentroVistaSegunScroll:Jn(function(){const e=this.$refs.contenedorDiagrama;var t=e.scrollTop/this.factorZoom,o=e.scrollLeft/this.factorZoom;let i=e.clientWidth/this.factorZoom,n=e.clientHeight/this.factorZoom,r=this.esquinasDiagrama.x1+o+i/2,s=this.esquinasDiagrama.y1+t+n/2;this.centroVistaDecimal.x=Math.round(r),this.centroVistaDecimal.y=Math.round(s)},50),localizarNext(e){var o;let t=[...this.nodosRender];if(this.idColeccionTargetOnLastLocalizacion=this.idColeccionSeleccionada,e==="available"){let i=0,n=t.find(r=>{if(this.idsNodosPresentesCabeza.includes(r.id)||this.indexLastLocateNextAvailable===r.id)return!1;let s=r.vinculos.filter(a=>a.tipo==="continuacion"&&a.rol==="target").map(a=>a.idRef);return!(t.filter(a=>s.includes(a.id)).some(a=>!this.idsNodosPresentesCabeza.includes(a.id))||(i++,i<=this.indexLastLocateNextAvailable))});n?(this.centrarEnNodoById(n.id),this.indexLastLocateNextAvailable=i):this.indexLastLocateNextAvailable=0}else if(e==="check"){let i=0,n=t.find(r=>{if(this.idsNodosPresentesCabeza.includes(r.id))return console.log("Estaba fresco"),i++,!(i<=this.indexLastLocateCheck)});n?(this.centrarEnNodoById(n.id),this.indexLastLocateCheck=i):this.indexLastLocateCheck=0}else if(e==="repaso"){if(!((o=this.idsNodosRepasarPresentes)!=null&&o.length)>0)return;this.indexLastLocateNextRepaso++,this.indexLastLocateNextRepaso>=this.idsNodosRepasarPresentes.length&&(this.indexLastLocateNextRepaso=0),this.centrarEnNodoById(this.idsNodosRepasarPresentes[this.indexLastLocateNextRepaso])}},setIdColeccionSeleccionada(e){this.indexLastLocateNextAvailable=0,this.indexLastLocateNextCheck=0,this.idColeccionSeleccionada=e},iniciarCallingPosiciones(){var e=prompt("¿Cuantos ciclos?");isNaN(e)||(e=Math.round(e),!(e<1)&&(console.log(`Enviando reposicionamiento de ${e} ciclos`),this.callingPosiciones=!0,this.$apollo.mutate({mutation:he`
            mutation ($ciclos: Int!) {
              posicionarNodosConocimientoByFuerzas(ciclos: $ciclos)
            }
          `,variables:{ciclos:e}}).then(()=>{this.callingPosiciones=!1}).catch(t=>{this.callingPosiciones=!1,console.log(`Error: ${t}`)})))},togglePosicionamiento(){this.enviandoQueryConfiguracionAtlas=!0,this.$apollo.mutate({mutation:he`
            mutation ($nombreAtlas: String!) {
              togglePosicionamientoAutomaticoAtlas(nombreAtlas: $nombreAtlas) {
                id
                posicionando
              }
            }
          `,variables:{nombreAtlas:"conocimiento"}}).then(()=>{this.enviandoQueryConfiguracionAtlas=!1}).catch(()=>{this.enviandoQueryConfiguracionAtlas=!1})},abrirMenuContextual(e){let t=this.$refs.contenedorDiagrama.getBoundingClientRect(),o=Math.round(e.pageY-t.top),i=Math.round(e.pageX-t.left);this.offsetMenuContextual.top=o+"px",this.offsetMenuContextual.left=i+"px",this.mostrandoMenuContextual=!0},crearNodoEnMenuContextual(){const e=this.$refs.contenedorNodos.getBoundingClientRect(),t=parseInt(this.offsetMenuContextual.left)-parseInt(e.left),o=parseInt(this.offsetMenuContextual.top)-(parseInt(e.top)-parseInt(this.$el.offsetTop)),i=t,n=o;console.log(`xPix: ${parseInt(this.offsetMenuContextual.left)}`),console.log(`posXContenedorNodos: ${parseInt(e.left)}, ${e.top}`),console.log(`distanciaLeftPx: ${t}`),console.log(`distanciaTopPx: ${o}`),console.log(`Scroll x contenedorDiagrama: ${this.$refs.contenedorDiagrama.scrollLeft}`);var r={x:parseInt(i/this.factorZoom+this.esquinasDiagrama.x1),y:parseInt(n/this.factorZoom+this.esquinasDiagrama.y1)};console.log(`Creando nuevo nodo en ${JSON.stringify(r)}`),this.crearNodo(r)},encontrarNodosNecesariosDeNodo(e,t){const o=this.todosNodos.find(n=>n.id==e);return o&&o.vinculos.filter(n=>n.rol=="target").map(n=>n.idRef).forEach(n=>{t.includes(n)||(t.push(n),t=this.encontrarNodosNecesariosDeNodo(n,t))}),t},clickFondoAtlas(){if(this.$route.name!="atlas"){this.$router.push({name:"atlas"});return}this.vistaPanned||(this.idNodoSeleccionado=null),this.panningVista=!1,this.vistaPanned=!1,this.$refs.panelConjuntosNodos.abierto=!1,this.mostrandoMenuContextual=!1},setEstadoObjetivoNodoCache(e,t){console.log(`Seting en cache al nodo ${t} con estado objetivo: ${e}`);const o=this.$apollo.provider.defaultClient,i=o.readQuery({query:St});var n=JSON.parse(JSON.stringify(i)),r=n.yo.atlas.datosNodos.findIndex(s=>s.idNodo==t);r>-1?n.yo.atlas.datosNodos[r].objetivo=e:(console.log("No estaba en caché. Pushing"),n.yo.atlas.datosNodos.push({__typename:"DatoNodoUsuario",idNodo:t,objetivo:e,aprendido:!1})),o.writeQuery({query:St,data:n})},setNodoAprendidoCache(e,t){console.log(`Seting en cache al nodo ${t} con estado aprendido: ${e}`);const o=this.$apollo.provider.defaultClient,i=o.readQuery({query:St});var n=JSON.parse(JSON.stringify(i)),r=n.yo.atlas.datosNodos.findIndex(s=>s.idNodo==t);r>-1?n.yo.atlas.datosNodos[r].aprendido=e:(console.log("No estaba en caché. Pushing"),n.yo.atlas.datosNodos.push({__typename:"DatoNodoUsuario",idNodo:t,objetivo:!1,aprendido:e})),o.writeQuery({query:St,data:n})},setNodoTargetCache(e){console.log(`Seting en cache al nodo ${e} como target`);const t=this.$apollo.provider.defaultClient,o=t.readQuery({query:St});var i=JSON.parse(JSON.stringify(o));i.yo.atlas.idNodoTarget=e,t.writeQuery({query:St,data:i})},setModo(e){this.usuarioLogeado&&(this.modoAtlas=e)},configurarNodoTarget(e){this.enviandoQueryTarget=!0,console.log("Configurando nodo target"),!e||e===this.idNodoTarget?(console.log("Nulificando"),setTimeout(()=>{this.nulificarNodoTarget()},100)):setTimeout(()=>{this.setNodoTarget(e)},100)},setNodoTarget(e){e&&this.idNodoTarget!=e&&(this.idNodoTarget=e)},nulificarNodoTarget(){console.log("Nulificando nodo target"),this.idNodoTarget=null},centrarEnNodo(e){const t=this.$refs.contenedorDiagrama.getBoundingClientRect(),o={x:(e.autoCoords.x-this.esquinasDiagrama.x1)*this.factorZoom,y:(e.autoCoords.y-this.esquinasDiagrama.y1)*this.factorZoom},i={x:parseInt(o.x-t.width/2),y:parseInt(o.y-t.height/2)};this.$refs.contenedorDiagrama.scrollLeft=i.x,this.$refs.contenedorDiagrama.scrollTop=i.y,this.seleccionNodo(e)},centrarEnNodoById(e){console.log(`Centrando en nodo con id ${e}`);var t=this.todosNodos.find(o=>o.id===e);if(t){this.centrarEnNodo(t);return}this.$apollo.query({query:he`
            query ($idNodo: ID!) {
              nodo(idNodo: $idNodo) {
                id
                autoCoords {
                  x
                  y
                }
              }
            }
          `,variables:{idNodo:e}}).then(({data:{nodo:o}})=>{console.log(`Recibido nodo así: ${JSON.stringify(o)}`),this.centrarEnNodo(o)}).catch(o=>{console.log(`Error: ${o}`)})},iniciaMovimientoTouch(e){if(e.touches.length===2){var t=Math.hypot(e.touches[0].pageX-e.touches[1].pageX,e.touches[0].pageY-e.touches[1].pageY);this.lastPinchDistance=t,this.pinching=!0;return}this.ultimoTouchX=e.changedTouches[0].clientX,this.ultimoTouchY=e.changedTouches[0].clientY},finTouch(){this.pinching=!1},cambiarCoordsManualesNodo(e,t){if(!this.usuarioSuperadministrador&&!this.usuarioAdministradorAtlas){console.log("No autorizado");return}this.todosNodos[this.todosNodos.findIndex(o=>o.id==e)].coords=t,this.$apollo.mutate({mutation:he`
            mutation ($idNodo: String, $coordsManuales: CoordsInput) {
              setCoordsManuales(
                idNodo: $idNodo
                coordsManuales: $coordsManuales
              ) {
                modificados {
                  id
                  coordsManuales {
                    x
                    y
                  }
                  coords {
                    x
                    y
                  }
                }
              }
            }
          `,variables:{idNodo:e,coordsManuales:t}}).then(()=>{this.$refs.canvases.crearImagenTodosVinculos()}).catch(o=>{console.log(`Error: ${o}`)})},eliminarNodo(e){if(!this.usuarioSuperadministrador&&!this.usuarioAdministradorAtlas){console.log("No autorizado");return}confirm("¿Seguro de que quieres eliminar este nodo?")&&(console.log("enviando mutacion de eliminar nodo"),this.$apollo.mutate({mutation:he`
            mutation ($idNodo: ID!) {
              eliminarNodo(idNodo: $idNodo)
            }
          `,variables:{idNodo:e},update(t,{data:{eliminarNodo:o}}){if(!o){console.log("Nodo no fue eliminado");return}const i=t.readQuery({query:Sr});var n=JSON.parse(JSON.stringify(i));const r=n.todosNodos.findIndex(s=>s.id==e);r>-1?(n.todosNodos.splice(r,1),t.writeQuery({query:Sr,data:n})):console.log("El nodo no estaba presente")}}).then(t=>{console.log(`quitando el objeto del array. ${t}`)}))},crearNodo(e){if(!this.usuarioSuperadministrador&&!this.usuarioAdministradorAtlas){console.log("Error usuario no autorizado");return}console.log("enviando una mutación de crear nodo");let t={coordsManuales:{x:e.x,y:e.y},coords:{x:e.x,y:e.y},autoCoords:{x:e.x,y:e.y}};console.log(`en las coordenadas: ${e.x}, ${e.y} `),this.posicionCreandoNodo={x:e.x,y:e.y},this.$apollo.mutate({mutation:he`
            mutation ($infoNodo: NodoConocimientoInput) {
              crearNodo(infoNodo: $infoNodo) {
                ...fragNodoConocimiento
              }
            }
            ${Sy}
          `,variables:{infoNodo:t}}).then(({data:{crearNodo:o}})=>{console.log(`Creado ${o.id}`);const i=this.$apollo.provider.defaultClient,n=i.readQuery({query:Sr});var r=JSON.parse(JSON.stringify(n));console.log("1");var s=r.todosNodos;console.log("2"),s.findIndex(a=>a.id===o.id)>-1?console.log("El nodo ya estaba en caché"):(s.push(o),i.writeQuery({query:Sr,data:r})),this.posicionCreandoNodo=null}).catch(o=>{this.posicionCreandoNodo=null,console.log(`Error. E: ${o}`)})},descargarCentroVista(){let e=this;this.$apollo.query({query:he`
            query {
              yo {
                id
                atlas {
                  centroVista {
                    x
                    y
                  }
                }
              }
            }
          `,variables:{idUsuario:this.usuario.id},fetchPolicy:"network-only"}).then(function({data:{yo:t}}){let o=t.atlas.centroVista;e.centroVista.x=o.x,e.centroVista.y=o.y}).catch(function(t){console.log(`error fetching centro vista: ${t}`)})},seleccionNodo(e){this.idNodoSeleccionado=e.id},async eliminarVinculo(e){if(!this.usuarioSuperadministrador&&!this.usuarioAdministradorAtlas){console.log("No autorizado");return}console.log(`eliminando un vinculo entre ${e.idNodoFrom} y ${e.idNodoTo} `),await this.$apollo.mutate({mutation:he`
            mutation ($idNodoFrom: ID!, $idNodoTo: ID!) {
              eliminarVinculoFromTo(
                idSource: $idNodoFrom
                idTarget: $idNodoTo
              ) {
                modificados {
                  id
                  vinculos {
                    idRef
                    tipo
                    rol
                  }
                }
              }
            }
          `,variables:{idNodoFrom:e.idNodoFrom,idNodoTo:e.idNodoTo}}).then(()=>{}).catch(t=>{console.log(`error: ${t}`)})},dibujarVinculosGrises(){this.actualizarVinculosGrises++},async crearVinculo(e){if(!this.usuarioSuperadministrador&&!this.usuarioAdministradorAtlas){console.log("No autorizado");return}console.log(`creando un vinculo ${JSON.stringify(e)} `),await this.$apollo.mutate({mutation:he`
            mutation ($tipo: String!, $idNodoFrom: ID!, $idNodoTo: ID!) {
              crearVinculo(
                tipo: $tipo
                idSource: $idNodoFrom
                idTarget: $idNodoTo
              ) {
                modificados {
                  id
                  vinculos {
                    idRef
                    rol
                    tipo
                  }
                }
              }
            }
          `,variables:{tipo:"continuacion",idNodoFrom:e.idNodoFrom,idNodoTo:e.idNodoTo}}).then(()=>{}).catch(t=>{console.log(`error: ${t}`)})},sendUpdatesNodos(){},zoomVista:Jn(function(e,t){let o=this.$refs.contenedorDiagrama,i=o.getBoundingClientRect(),n={x:i.width/2-t.x,y:i.height/2-t.y},r={x:this.esquinasDiagrama.x1+o.scrollLeft/this.factorZoom+t.x/this.factorZoom,y:this.esquinasDiagrama.y1+o.scrollTop/this.factorZoom+t.y/this.factorZoom};var s=this.zoom+e;s<this.minZoom?s=this.minZoom:s>this.maxZoom&&(s=this.maxZoom),this.zoom=s;let c=s/100,a={x:r.x+n.x/c,y:r.y+n.y/c},l=(a.x-this.esquinasDiagrama.x1)*c-i.width/2,u=(a.y-this.esquinasDiagrama.y1)*c-i.height/2;this.$refs.contenedorDiagrama.scrollLeft=Math.round(l),this.$refs.contenedorDiagrama.scrollTop=Math.round(u)},100),zoomWheel(e){if(!this.hovered||!e.ctrlKey)return;e.preventDefault();var t=this.$refs.contenedorDiagrama;let o=t.getBoundingClientRect(),i={x:e.clientX-o.left,y:e.clientY-o.top};const n=.05;this.zoomVista(-Math.round(e.deltaY*n),i)},hideZoomInfo:Jn(function(){this.showingZoomInfo=!1},1e3),drawVinculos:Jn(function(){if(this.$refs.enlacesNodos)for(const e of this.$refs.enlacesNodos)e.drawVinculos()},400)},watch:{idColeccionSeleccionada(e){this.seleccionandoColeccion=!1,localStorage.setItem("atlasConocimientoIdLastColeccionTarget",e),e&&console.log("Setting lastTarget")},seleccionandoColeccion(){this.mostrandoOpcionesColeccion=!1},route:function(e){console.log(`cambio de navegación a ${e.path}`)},idNodoTarget(e){if(localStorage.setItem("atlasConocimientoIdLastNodoTarget",e),!e){this.idsNecesariosParaTarget=[];return}this.idsNecesariosParaTarget=this.encontrarNodosNecesariosDeNodo(e,[])},zoom(){this.showingZoomInfo=!0,this.hideZoomInfo(),this.drawVinculos()}},mounted(){screen.width<600&&(this.zoom=40)},created(){window.addEventListener("wheel",this.zoomWheel,{passive:!1})},removed(){window.removeEventListener("wheel",this.zoomWheel)}},Xo=e=>(Ze("data-v-869d5b55"),e=e(),Xe(),e),ID={key:0,id:"zonaSeleccionColeccion"},TD={style:{"z-index":"1"}},RD=Xo(()=>m("img",{src:rl,alt:"Opciones",style:{}},null,-1)),PD=[RD],DD={id:"contenedorControlesColeccion"},kD=Xo(()=>m("img",{src:Xd,alt:"Localizar",style:{filter:"var(--filtroAtlasAvailable)"}},null,-1)),OD=[kD],MD=Xo(()=>m("img",{src:Xd,alt:"Localizar",style:{filter:"var(--filtroAtlasCheck)"}},null,-1)),LD=[MD],FD=Xo(()=>m("img",{src:Xd,alt:"Localizar",style:{filter:"var(--filtroAtlasRepaso)"}},null,-1)),BD=[FD],UD={id:"listaSelectoresColeccion"},$D=Xo(()=>m("img",{src:fs,alt:"Coleccion",style:{height:"15px"}},null,-1)),jD=["onClick"],qD=Xo(()=>m("img",{src:fs,alt:"Coleccion",style:{height:"15px"}},null,-1)),VD={id:"zonaNodoTarget"},HD=Xo(()=>m("img",{style:{height:"25px",filter:"var(--filtroBlanco)",margin:"2px 5px","margin-right":"15px"},src:Zd,alt:"Target"},null,-1)),zD=Xo(()=>m("img",{src:zt,alt:"Equis"},null,-1)),QD=[zD],GD=["onDblclick","onClick"],KD={class:"bolita"},WD={key:0,src:SD,alt:"Skill"},JD={key:1,src:sl,alt:"Skill"},YD={class:"cajaTexto"},ZD={class:"laLinea"},XD={id:"barraInferior"},ek=Xo(()=>m("img",{src:fs,alt:"Nodos de usuario"},null,-1)),tk=[ek],ok=["title"],nk={key:0,src:eh,alt:"Experto"},ik={key:1,src:Ny,alt:"Estudiante"},rk={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},sk=["fill"];function ak(e,t,o,i,n,r){const s=Pe("router-view"),c=Pe("pie-progreso"),a=Pe("buscador-nodos-conocimiento"),l=Pe("panel-conjuntos-nodos"),u=Pe("loading"),h=Pe("controles-nodo");return J(),X("div",{class:"atlasConocimiento",style:Oe({overflowY:r.nodoAbierto?"scroll":"hidden"}),onMousedown:t[20]||(t[20]=ge(f=>n.panningVista=!0,["left","exact","stop"])),onMouseenter:t[21]||(t[21]=f=>n.hovered=!0),onMouseleave:t[22]||(t[22]=f=>n.hovered=!1),onClick:t[23]||(t[23]=f=>{n.idNodoMenuCx=null,n.cerrarBusqueda++})},[Te(s,{yo:n.yo,datosNodosRepasar:r.datosNodosRepasar,datosNodosUrgentes:r.datosNodosRepasar,onCentrarEnNodo:t[0]||(t[0]=f=>r.centrarEnNodoById(f))},null,8,["yo","datosNodosRepasar","datosNodosUrgentes"]),n.yo.atlas&&n.yo.atlas.colecciones?V((J(),X("div",ID,[m("div",{id:"nombreColeccion",onClick:t[1]||(t[1]=ge(f=>n.seleccionandoColeccion=!n.seleccionandoColeccion,["stop"]))},[r.coleccionSeleccionada&&e.progresoColeccionSeleccionada?(J(),Ge(c,{key:0,progreso:e.progresoColeccionSeleccionada,style:{"margin-right":"10px"}},null,8,["progreso"])):Ie("",!0),m("span",TD,Ee(r.nombreColeccionSeleccionada),1)]),V(m("div",{class:"boton",id:"botonMostrarOpcionesColeccion",onClick:t[2]||(t[2]=f=>n.mostrandoOpcionesColeccion=!n.mostrandoOpcionesColeccion)},PD,512),[[K,!n.seleccionandoColeccion]]),V(m("div",DD,[m("div",{class:"boton controlColeccion",onClick:t[3]||(t[3]=f=>r.localizarNext("available"))},OD),m("div",{class:"boton controlColeccion",onClick:t[4]||(t[4]=f=>r.localizarNext("check"))},LD),m("div",{class:ve(["boton controlColeccion",{deshabilitado:!r.idsNodosRepasarPresentes||r.idsNodosRepasarPresentes.length===0}]),onClick:t[5]||(t[5]=f=>r.localizarNext("repaso"))},BD,2)],512),[[K,n.mostrandoOpcionesColeccion]]),V(m("div",UD,[V(m("div",{class:"selectorColeccion",onClick:t[6]||(t[6]=ge(f=>r.setIdColeccionSeleccionada(null),["stop"]))},[$D,gt(" Atlas ")],512),[[K,n.idColeccionSeleccionada]]),(J(!0),X(Fe,null,qe(r.coleccionesUsuario.filter(f=>n.idColeccionSeleccionada!=f.id),f=>(J(),X("div",{class:"selectorColeccion",onClick:ge(g=>r.setIdColeccionSeleccionada(f.id),["stop"]),key:f.id},[qD,gt(" "+Ee(f.nombre),1)],8,jD))),128))],512),[[K,n.seleccionandoColeccion]])],512)),[[K,!n.idNodoTarget]]):Ie("",!0),Te(as,{name:"fadeOut"},{default:Jt(()=>[V(m("div",{id:"infoZoom"},"x"+Ee(r.factorZoom),513),[[K,n.showingZoomInfo]])]),_:1}),V(m("div",{id:"menuContextual",style:Oe([n.offsetMenuContextual])},[r.usuarioAdministradorAtlas||e.usuarioProfe?(J(),X("div",{key:0,class:ve(["botonMenuContextual",{deshabilitado:n.posicionCreandoNodo}]),id:"botonCrearNuevoNodo",onClick:t[7]||(t[7]=(...f)=>r.crearNodoEnMenuContextual&&r.crearNodoEnMenuContextual(...f))}," Crear Nodo de conocimiento ",2)):Ie("",!0)],4),[[K,n.mostrandoMenuContextual]]),V(m("div",VD,[r.nodoTarget?(J(),X("div",{key:0,id:"nombreNodoTarget",onClick:t[8]||(t[8]=f=>r.centrarEnNodo(r.nodoTarget))},[V(Te(c,{progreso:e.progresoNodoTarget,size:40,cifrasDecimales:0},null,8,["progreso"]),[[K,e.progresoNodoTarget&&!e.$apollo.queries.progresoNodoTarget.loading]]),HD,gt(" "+Ee(r.nodoTarget.nombre),1)])):Ie("",!0),m("div",{class:"boton",onClick:t[9]||(t[9]=ge(f=>r.configurarNodoTarget(null),["stop"]))},QD)],512),[[K,n.idNodoTarget]]),e.usuarioSuperadministrador&&e.usuario.username=="juanMamian"?(J(),X("div",{key:1,id:"botonCallingPosiciones",onClick:t[10]||(t[10]=ge((...f)=>r.iniciarCallingPosiciones&&r.iniciarCallingPosiciones(...f),["stop"])),class:ve({deshabilitado:n.callingPosiciones}),style:Oe([{backgroundColor:n.callingPosiciones?"green":"transparent"}])},null,6)):Ie("",!0),Te(a,{onNodoSeleccionado:r.centrarEnNodo,ref:"buscadorNodos",cerrarBusqueda:n.cerrarBusqueda},null,8,["onNodoSeleccionado","cerrarBusqueda"]),Te(l,{ref:"panelConjuntosNodos",yo:n.yo,modoAtlas:n.modoAtlas,onCentrarEnNodo:t[11]||(t[11]=f=>r.centrarEnNodo(n.todosNodos.find(g=>g.id==f)))},null,8,["yo","modoAtlas"]),V(m("div",{id:"contenedorDiagrama",ref:"contenedorDiagrama",onScroll:t[14]||(t[14]=(...f)=>r.updateCentroVistaSegunScroll&&r.updateCentroVistaSegunScroll(...f))},[m("div",{id:"contenedorNodos",onContextmenu:t[12]||(t[12]=ge((...f)=>r.abrirMenuContextual&&r.abrirMenuContextual(...f),["self","exact","prevent"])),onMouseup:t[13]||(t[13]=ge((...f)=>r.clickFondoAtlas&&r.clickFondoAtlas(...f),["left","self"])),ref:"contenedorNodos",style:Oe([r.offsetContenedorNodos])},[V(Te(u,{texto:"",style:Oe([{position:"absolute"},[r.offsetLoadingCreandoNodo]])},null,8,["style"]),[[K,n.posicionCreandoNodo]]),(J(!0),X(Fe,null,qe(r.nodosRenderConEstilos,f=>(J(),X("div",{class:ve(["placeholderNodoConocimiento",{fantasmeado:n.idNodoSeleccionado&&n.nivelesConexion&&n.idNodoSeleccionado!=f.id&&!r.idsNodosConectadosSeleccionado.includes(f.id),continuacionSeleccionado:n.nivelesConexion>0&&r.idsNodosConectadosSeleccionado.includes(f.id),previoSeleccionado:n.nivelesConexion<0&&r.idsNodosConectadosSeleccionado.includes(f.id),seleccionado:n.idNodoSeleccionado===f.id,aprendido:r.idsNodosAprendidos.includes(f.id),estudiado:r.idsNodosEstudiados.includes(f.id),fresco:r.idsNodosFrescos.includes(f.id),aprendible:n.idsNodosEstudiables.includes(f.id),repasar:r.idsNodosRepasar.includes(f.id)}]),onDblclick:g=>e.$router.push({name:"visorNodoConocimiento",params:{idNodo:f.id}}),onClick:ge(g=>{n.idNodoSeleccionado=f.id},["stop"]),style:Oe([{transform:`scale(${r.factorZoom})`,top:(f.coords.y-r.esquinasDiagrama.y1)*r.factorZoom+"px",left:(f.coords.x-r.esquinasDiagrama.x1)*r.factorZoom+"px"}]),key:"placeholderNodo"+f.id},[m("div",KD,[f.tipoNodo==="concepto"?(J(),X("img",WD)):(J(),X("img",JD))]),m("div",YD,Ee(f.nombre),1),(J(!0),X(Fe,null,qe(f.vinculos.filter(g=>g.estilo),g=>(J(),X("div",{class:"lineaVinculo",key:g.id,style:Oe([g.estilo])},[V(m("div",ZD,null,512),[[K,!n.idNodoSeleccionado||!n.nivelesConexion||r.idsRedSeleccion.includes(f.id)&&r.idsRedSeleccion.includes(g.idRef)]])],4))),128))],46,GD))),128))],36)],544),[[K,!e.$apollo.queries.yo.loading]]),m("div",XD,[m("div",{class:"boton",title:"Mostrar colecciones",onClick:t[15]||(t[15]=f=>e.$refs.panelConjuntosNodos.abierto=!0)},tk),m("div",{class:ve(["boton",{deshabilitado:n.enviandoQueryModo}]),title:"Cambiar a modo "+n.modoAtlas=="experto"?"estudiante":"experto",onClick:t[16]||(t[16]=f=>r.setModo(n.modoAtlas==="estudiante"?"experto":"estudiante"))},[n.modoAtlas==="experto"?(J(),X("img",nk)):Ie("",!0),n.modoAtlas==="estudiante"?(J(),X("img",ik)):Ie("",!0)],10,ok),m("div",{class:"boton",title:"Mostrar temas para repasar",onClick:t[17]||(t[17]=f=>e.$router.push({name:"ventanaRepasos"}))},[(J(),X("svg",rk,[m("path",{d:"M256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512zM232 256C232 264 236 271.5 242.7 275.1L338.7 339.1C349.7 347.3 364.6 344.3 371.1 333.3C379.3 322.3 376.3 307.4 365.3 300L280 243.2V120C280 106.7 269.3 96 255.1 96C242.7 96 231.1 106.7 231.1 120L232 256z",fill:r.datosNodosRepasar.length>0?"var(--atlasConocimientoRepaso)":""},null,8,sk)]))])]),Te(h,{elNodo:r.nodoSeleccionado,onSetMeTarget:t[18]||(t[18]=f=>{r.setNodoTarget(r.nodoSeleccionado.id),r.centrarEnNodoById(r.nodoSeleccionado.id)}),onNivelesConexion:t[19]||(t[19]=f=>n.nivelesConexion=f)},null,8,["elNodo"]),V(Te(u,{id:"simboloDescargandoNodos",texto:"descargando nodos de conocimiento"},null,512),[[K,!n.nodosDescargados||e.$apollo.queries.yo.loading]])],36)}const lk=He(xD,[["render",ak],["__scopeId","data-v-869d5b55"]]),ms="/caracol/assets/link-90c9ac52.svg",vs="/caracol/assets/file-2ee96f5f.svg",ck={name:"NodoConocimientoVistaListaAdmin",props:{esteNodo:Object},data(){return{}},computed:{usuarioExperto(){return this.usuarioLogeado?this.esteNodo.expertos.includes(this.usuario.id):!1}},methods:{guardarEnlaceSeccion(e,t){var o=e.target.value.trim();console.log("Guardando nuevo enlace: "+o),this.$apollo.mutate({mutation:he`
            mutation ($idNodo: ID!, $idSeccion: ID!, $nuevoEnlace: String!) {
              setNuevoEnlaceSeccionNodo(
                idNodo: $idNodo
                idSeccion: $idSeccion
                nuevoEnlace: $nuevoEnlace
              ) {
                id
                modo
                enlace
              }
            }
          `,variables:{idNodo:this.esteNodo.id,idSeccion:t,nuevoEnlace:o}}).then(()=>{}).catch(i=>{console.log("Error: "+i)})}}},uk={class:"nodoConocimientoVistaListaAdmin"},dk=["href"],hk={class:"nombre"},fk={id:"listaSecciones"},pk={class:"barraSuperior"},mk={class:"imagenTipoSeccion"},vk={key:0,src:ms,alt:"Enlace"},gk={key:1,src:vs,alt:"Archivo"},bk={class:"nombre"},yk={class:"zonaSource"},wk=["value","onKeypress"];function Ek(e,t,o,i,n,r){return J(),X("div",uk,[m("div",{class:ve(["barraSuperior",{deUsuario:r.usuarioExperto}])},[m("a",{href:e.clienteUrl+"/#/atlas/nodoConocimiento/"+o.esteNodo.id,target:"_blank"},[m("div",hk,Ee(o.esteNodo.nombre),1)],8,dk)],2),m("div",fk,[(J(!0),X(Fe,null,qe(o.esteNodo.secciones,s=>(J(),X("div",{class:"seccion",key:s.id},[m("div",pk,[m("div",mk,[s.modo==="enlace"?(J(),X("img",vk)):Ie("",!0),s.modo==="archivo"?(J(),X("img",gk)):Ie("",!0)]),m("div",bk,Ee(s.nombre),1),m("div",yk,[m("input",{type:"text",value:s.enlace,onKeypress:vt(c=>r.guardarEnlaceSeccion(c,s.id),["enter"]),class:"inputEnlace"},null,40,wk)])])]))),128))])])}const Ak=He(ck,[["render",Ek],["__scopeId","data-v-cb421092"]]),_k=he`
  query{
    todosNodos {
      id
      nombre
      secciones {
        id
        nombre
        enlace
        modo
      }
      expertos
    }
  }
  
`,Nk={components:{NodoConocimientoVistaListaAdmin:Ak},name:"AdminNodosConocimiento",apollo:{todosNodos:{query:_k,fetchPolicy:"cache-and-network"}},data(){return{idNodoSeleccionado:null,todosNodos:[]}},computed:{nodosOrdenados(){return this.usuarioLogeado?[...this.todosNodos].sort((e,t)=>{var o=0;return e.expertos.includes(this.usuario.id)&&o--,t.expertos.includes(this.usuario.id)&&o++,o}):this.todosNodos}}},Ck={class:"adminNodosConocimiento"},Sk={id:"listaNodos"};function xk(e,t,o,i,n,r){const s=Pe("nodo-conocimiento-vista-lista-admin");return J(),X("div",Ck,[m("div",Sk,[(J(!0),X(Fe,null,qe(r.nodosOrdenados,c=>(J(),Ge(s,{key:c.id,esteNodo:c},null,8,["esteNodo"]))),128))])])}const Ik=He(Nk,[["render",xk],["__scopeId","data-v-cbc5b8c7"]]);function xy(e,t){return function(){return e.apply(t,arguments)}}const{toString:Iy}=Object.prototype,{getPrototypeOf:th}=Object,oh=(e=>t=>{const o=Iy.call(t);return e[o]||(e[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),en=e=>(e=e.toLowerCase(),t=>oh(t)===e),ll=e=>t=>typeof t===e,{isArray:tr}=Array,is=ll("undefined");function Tk(e){return e!==null&&!is(e)&&e.constructor!==null&&!is(e.constructor)&&Rn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ty=en("ArrayBuffer");function Rk(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Ty(e.buffer),t}const Pk=ll("string"),Rn=ll("function"),Ry=ll("number"),nh=e=>e!==null&&typeof e=="object",Dk=e=>e===!0||e===!1,pa=e=>{if(oh(e)!=="object")return!1;const t=th(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},kk=en("Date"),Ok=en("File"),Mk=en("Blob"),Lk=en("FileList"),Fk=e=>nh(e)&&Rn(e.pipe),Bk=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||Iy.call(e)===t||Rn(e.toString)&&e.toString()===t)},Uk=en("URLSearchParams"),$k=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gs(e,t,{allOwnKeys:o=!1}={}){if(e===null||typeof e>"u")return;let i,n;if(typeof e!="object"&&(e=[e]),tr(e))for(i=0,n=e.length;i<n;i++)t.call(null,e[i],i,e);else{const r=o?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let c;for(i=0;i<s;i++)c=r[i],t.call(null,e[c],c,e)}}function Py(e,t){t=t.toLowerCase();const o=Object.keys(e);let i=o.length,n;for(;i-- >0;)if(n=o[i],t===n.toLowerCase())return n;return null}const Dy=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),ky=e=>!is(e)&&e!==Dy;function Xu(){const{caseless:e}=ky(this)&&this||{},t={},o=(i,n)=>{const r=e&&Py(t,n)||n;pa(t[r])&&pa(i)?t[r]=Xu(t[r],i):pa(i)?t[r]=Xu({},i):tr(i)?t[r]=i.slice():t[r]=i};for(let i=0,n=arguments.length;i<n;i++)arguments[i]&&gs(arguments[i],o);return t}const jk=(e,t,o,{allOwnKeys:i}={})=>(gs(t,(n,r)=>{o&&Rn(n)?e[r]=xy(n,o):e[r]=n},{allOwnKeys:i}),e),qk=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Vk=(e,t,o,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),o&&Object.assign(e.prototype,o)},Hk=(e,t,o,i)=>{let n,r,s;const c={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),r=n.length;r-- >0;)s=n[r],(!i||i(s,e,t))&&!c[s]&&(t[s]=e[s],c[s]=!0);e=o!==!1&&th(e)}while(e&&(!o||o(e,t))&&e!==Object.prototype);return t},zk=(e,t,o)=>{e=String(e),(o===void 0||o>e.length)&&(o=e.length),o-=t.length;const i=e.indexOf(t,o);return i!==-1&&i===o},Qk=e=>{if(!e)return null;if(tr(e))return e;let t=e.length;if(!Ry(t))return null;const o=new Array(t);for(;t-- >0;)o[t]=e[t];return o},Gk=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&th(Uint8Array)),Kk=(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=i.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},Wk=(e,t)=>{let o;const i=[];for(;(o=e.exec(t))!==null;)i.push(o);return i},Jk=en("HTMLFormElement"),Yk=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,i,n){return i.toUpperCase()+n}),mv=(({hasOwnProperty:e})=>(t,o)=>e.call(t,o))(Object.prototype),Zk=en("RegExp"),Oy=(e,t)=>{const o=Object.getOwnPropertyDescriptors(e),i={};gs(o,(n,r)=>{t(n,r,e)!==!1&&(i[r]=n)}),Object.defineProperties(e,i)},Xk=e=>{Oy(e,(t,o)=>{if(Rn(e)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const i=e[o];if(Rn(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},eO=(e,t)=>{const o={},i=n=>{n.forEach(r=>{o[r]=!0})};return tr(e)?i(e):i(String(e).split(t)),o},tO=()=>{},oO=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Hc="abcdefghijklmnopqrstuvwxyz",vv="0123456789",My={DIGIT:vv,ALPHA:Hc,ALPHA_DIGIT:Hc+Hc.toUpperCase()+vv},nO=(e=16,t=My.ALPHA_DIGIT)=>{let o="";const{length:i}=t;for(;e--;)o+=t[Math.random()*i|0];return o};function iO(e){return!!(e&&Rn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const rO=e=>{const t=new Array(10),o=(i,n)=>{if(nh(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[n]=i;const r=tr(i)?[]:{};return gs(i,(s,c)=>{const a=o(s,n+1);!is(a)&&(r[c]=a)}),t[n]=void 0,r}}return i};return o(e,0)},xe={isArray:tr,isArrayBuffer:Ty,isBuffer:Tk,isFormData:Bk,isArrayBufferView:Rk,isString:Pk,isNumber:Ry,isBoolean:Dk,isObject:nh,isPlainObject:pa,isUndefined:is,isDate:kk,isFile:Ok,isBlob:Mk,isRegExp:Zk,isFunction:Rn,isStream:Fk,isURLSearchParams:Uk,isTypedArray:Gk,isFileList:Lk,forEach:gs,merge:Xu,extend:jk,trim:$k,stripBOM:qk,inherits:Vk,toFlatObject:Hk,kindOf:oh,kindOfTest:en,endsWith:zk,toArray:Qk,forEachEntry:Kk,matchAll:Wk,isHTMLForm:Jk,hasOwnProperty:mv,hasOwnProp:mv,reduceDescriptors:Oy,freezeMethods:Xk,toObjectSet:eO,toCamelCase:Yk,noop:tO,toFiniteNumber:oO,findKey:Py,global:Dy,isContextDefined:ky,ALPHABET:My,generateString:nO,isSpecCompliantForm:iO,toJSONObject:rO};function st(e,t,o,i,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),o&&(this.config=o),i&&(this.request=i),n&&(this.response=n)}xe.inherits(st,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:xe.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Ly=st.prototype,Fy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Fy[e]={value:e}});Object.defineProperties(st,Fy);Object.defineProperty(Ly,"isAxiosError",{value:!0});st.from=(e,t,o,i,n,r)=>{const s=Object.create(Ly);return xe.toFlatObject(e,s,function(a){return a!==Error.prototype},c=>c!=="isAxiosError"),st.call(s,e.message,t,o,i,n),s.cause=e,s.name=e.name,r&&Object.assign(s,r),s};const sO=null;function ed(e){return xe.isPlainObject(e)||xe.isArray(e)}function By(e){return xe.endsWith(e,"[]")?e.slice(0,-2):e}function gv(e,t,o){return e?e.concat(t).map(function(n,r){return n=By(n),!o&&r?"["+n+"]":n}).join(o?".":""):t}function aO(e){return xe.isArray(e)&&!e.some(ed)}const lO=xe.toFlatObject(xe,{},null,function(t){return/^is[A-Z]/.test(t)});function cl(e,t,o){if(!xe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,o=xe.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,T){return!xe.isUndefined(T[C])});const i=o.metaTokens,n=o.visitor||u,r=o.dots,s=o.indexes,a=(o.Blob||typeof Blob<"u"&&Blob)&&xe.isSpecCompliantForm(t);if(!xe.isFunction(n))throw new TypeError("visitor must be a function");function l(b){if(b===null)return"";if(xe.isDate(b))return b.toISOString();if(!a&&xe.isBlob(b))throw new st("Blob is not supported. Use a Buffer instead.");return xe.isArrayBuffer(b)||xe.isTypedArray(b)?a&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function u(b,C,T){let S=b;if(b&&!T&&typeof b=="object"){if(xe.endsWith(C,"{}"))C=i?C:C.slice(0,-2),b=JSON.stringify(b);else if(xe.isArray(b)&&aO(b)||(xe.isFileList(b)||xe.endsWith(C,"[]"))&&(S=xe.toArray(b)))return C=By(C),S.forEach(function(y,w){!(xe.isUndefined(y)||y===null)&&t.append(s===!0?gv([C],w,r):s===null?C:C+"[]",l(y))}),!1}return ed(b)?!0:(t.append(gv(T,C,r),l(b)),!1)}const h=[],f=Object.assign(lO,{defaultVisitor:u,convertValue:l,isVisitable:ed});function g(b,C){if(!xe.isUndefined(b)){if(h.indexOf(b)!==-1)throw Error("Circular reference detected in "+C.join("."));h.push(b),xe.forEach(b,function(S,_){(!(xe.isUndefined(S)||S===null)&&n.call(t,S,xe.isString(_)?_.trim():_,C,f))===!0&&g(S,C?C.concat(_):[_])}),h.pop()}}if(!xe.isObject(e))throw new TypeError("data must be an object");return g(e),t}function bv(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function ih(e,t){this._pairs=[],e&&cl(e,this,t)}const Uy=ih.prototype;Uy.append=function(t,o){this._pairs.push([t,o])};Uy.toString=function(t){const o=t?function(i){return t.call(this,i,bv)}:bv;return this._pairs.map(function(n){return o(n[0])+"="+o(n[1])},"").join("&")};function cO(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function $y(e,t,o){if(!t)return e;const i=o&&o.encode||cO,n=o&&o.serialize;let r;if(n?r=n(t,o):r=xe.isURLSearchParams(t)?t.toString():new ih(t,o).toString(i),r){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+r}return e}class uO{constructor(){this.handlers=[]}use(t,o,i){return this.handlers.push({fulfilled:t,rejected:o,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){xe.forEach(this.handlers,function(i){i!==null&&t(i)})}}const yv=uO,jy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},dO=typeof URLSearchParams<"u"?URLSearchParams:ih,hO=typeof FormData<"u"?FormData:null,fO=typeof Blob<"u"?Blob:null,pO=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),mO=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Fo={isBrowser:!0,classes:{URLSearchParams:dO,FormData:hO,Blob:fO},isStandardBrowserEnv:pO,isStandardBrowserWebWorkerEnv:mO,protocols:["http","https","file","blob","url","data"]};function vO(e,t){return cl(e,new Fo.classes.URLSearchParams,Object.assign({visitor:function(o,i,n,r){return Fo.isNode&&xe.isBuffer(o)?(this.append(i,o.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}function gO(e){return xe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function bO(e){const t={},o=Object.keys(e);let i;const n=o.length;let r;for(i=0;i<n;i++)r=o[i],t[r]=e[r];return t}function qy(e){function t(o,i,n,r){let s=o[r++];const c=Number.isFinite(+s),a=r>=o.length;return s=!s&&xe.isArray(n)?n.length:s,a?(xe.hasOwnProp(n,s)?n[s]=[n[s],i]:n[s]=i,!c):((!n[s]||!xe.isObject(n[s]))&&(n[s]=[]),t(o,i,n[s],r)&&xe.isArray(n[s])&&(n[s]=bO(n[s])),!c)}if(xe.isFormData(e)&&xe.isFunction(e.entries)){const o={};return xe.forEachEntry(e,(i,n)=>{t(gO(i),n,o,0)}),o}return null}const yO={"Content-Type":void 0};function wO(e,t,o){if(xe.isString(e))try{return(t||JSON.parse)(e),xe.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(o||JSON.stringify)(e)}const ul={transitional:jy,adapter:["xhr","http"],transformRequest:[function(t,o){const i=o.getContentType()||"",n=i.indexOf("application/json")>-1,r=xe.isObject(t);if(r&&xe.isHTMLForm(t)&&(t=new FormData(t)),xe.isFormData(t))return n&&n?JSON.stringify(qy(t)):t;if(xe.isArrayBuffer(t)||xe.isBuffer(t)||xe.isStream(t)||xe.isFile(t)||xe.isBlob(t))return t;if(xe.isArrayBufferView(t))return t.buffer;if(xe.isURLSearchParams(t))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return vO(t,this.formSerializer).toString();if((c=xe.isFileList(t))||i.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return cl(c?{"files[]":t}:t,a&&new a,this.formSerializer)}}return r||n?(o.setContentType("application/json",!1),wO(t)):t}],transformResponse:[function(t){const o=this.transitional||ul.transitional,i=o&&o.forcedJSONParsing,n=this.responseType==="json";if(t&&xe.isString(t)&&(i&&!this.responseType||n)){const s=!(o&&o.silentJSONParsing)&&n;try{return JSON.parse(t)}catch(c){if(s)throw c.name==="SyntaxError"?st.from(c,st.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fo.classes.FormData,Blob:Fo.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};xe.forEach(["delete","get","head"],function(t){ul.headers[t]={}});xe.forEach(["post","put","patch"],function(t){ul.headers[t]=xe.merge(yO)});const rh=ul,EO=xe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),AO=e=>{const t={};let o,i,n;return e&&e.split(`
`).forEach(function(s){n=s.indexOf(":"),o=s.substring(0,n).trim().toLowerCase(),i=s.substring(n+1).trim(),!(!o||t[o]&&EO[o])&&(o==="set-cookie"?t[o]?t[o].push(i):t[o]=[i]:t[o]=t[o]?t[o]+", "+i:i)}),t},wv=Symbol("internals");function xr(e){return e&&String(e).trim().toLowerCase()}function ma(e){return e===!1||e==null?e:xe.isArray(e)?e.map(ma):String(e)}function _O(e){const t=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=o.exec(e);)t[i[1]]=i[2];return t}function NO(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function zc(e,t,o,i,n){if(xe.isFunction(i))return i.call(this,t,o);if(n&&(t=o),!!xe.isString(t)){if(xe.isString(i))return t.indexOf(i)!==-1;if(xe.isRegExp(i))return i.test(t)}}function CO(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,o,i)=>o.toUpperCase()+i)}function SO(e,t){const o=xe.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+o,{value:function(n,r,s){return this[i].call(this,t,n,r,s)},configurable:!0})})}class dl{constructor(t){t&&this.set(t)}set(t,o,i){const n=this;function r(c,a,l){const u=xr(a);if(!u)throw new Error("header name must be a non-empty string");const h=xe.findKey(n,u);(!h||n[h]===void 0||l===!0||l===void 0&&n[h]!==!1)&&(n[h||a]=ma(c))}const s=(c,a)=>xe.forEach(c,(l,u)=>r(l,u,a));return xe.isPlainObject(t)||t instanceof this.constructor?s(t,o):xe.isString(t)&&(t=t.trim())&&!NO(t)?s(AO(t),o):t!=null&&r(o,t,i),this}get(t,o){if(t=xr(t),t){const i=xe.findKey(this,t);if(i){const n=this[i];if(!o)return n;if(o===!0)return _O(n);if(xe.isFunction(o))return o.call(this,n,i);if(xe.isRegExp(o))return o.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,o){if(t=xr(t),t){const i=xe.findKey(this,t);return!!(i&&this[i]!==void 0&&(!o||zc(this,this[i],i,o)))}return!1}delete(t,o){const i=this;let n=!1;function r(s){if(s=xr(s),s){const c=xe.findKey(i,s);c&&(!o||zc(i,i[c],c,o))&&(delete i[c],n=!0)}}return xe.isArray(t)?t.forEach(r):r(t),n}clear(t){const o=Object.keys(this);let i=o.length,n=!1;for(;i--;){const r=o[i];(!t||zc(this,this[r],r,t,!0))&&(delete this[r],n=!0)}return n}normalize(t){const o=this,i={};return xe.forEach(this,(n,r)=>{const s=xe.findKey(i,r);if(s){o[s]=ma(n),delete o[r];return}const c=t?CO(r):String(r).trim();c!==r&&delete o[r],o[c]=ma(n),i[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const o=Object.create(null);return xe.forEach(this,(i,n)=>{i!=null&&i!==!1&&(o[n]=t&&xe.isArray(i)?i.join(", "):i)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,o])=>t+": "+o).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...o){const i=new this(t);return o.forEach(n=>i.set(n)),i}static accessor(t){const i=(this[wv]=this[wv]={accessors:{}}).accessors,n=this.prototype;function r(s){const c=xr(s);i[c]||(SO(n,s),i[c]=!0)}return xe.isArray(t)?t.forEach(r):r(t),this}}dl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);xe.freezeMethods(dl.prototype);xe.freezeMethods(dl);const Wo=dl;function Qc(e,t){const o=this||rh,i=t||o,n=Wo.from(i.headers);let r=i.data;return xe.forEach(e,function(c){r=c.call(o,r,n.normalize(),t?t.status:void 0)}),n.normalize(),r}function Vy(e){return!!(e&&e.__CANCEL__)}function bs(e,t,o){st.call(this,e??"canceled",st.ERR_CANCELED,t,o),this.name="CanceledError"}xe.inherits(bs,st,{__CANCEL__:!0});function xO(e,t,o){const i=o.config.validateStatus;!o.status||!i||i(o.status)?e(o):t(new st("Request failed with status code "+o.status,[st.ERR_BAD_REQUEST,st.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}const IO=Fo.isStandardBrowserEnv?function(){return{write:function(o,i,n,r,s,c){const a=[];a.push(o+"="+encodeURIComponent(i)),xe.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),xe.isString(r)&&a.push("path="+r),xe.isString(s)&&a.push("domain="+s),c===!0&&a.push("secure"),document.cookie=a.join("; ")},read:function(o){const i=document.cookie.match(new RegExp("(^|;\\s*)("+o+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(o){this.write(o,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function TO(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function RO(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function Hy(e,t){return e&&!TO(t)?RO(e,t):t}const PO=Fo.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");let i;function n(r){let s=r;return t&&(o.setAttribute("href",s),s=o.href),o.setAttribute("href",s),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:o.pathname.charAt(0)==="/"?o.pathname:"/"+o.pathname}}return i=n(window.location.href),function(s){const c=xe.isString(s)?n(s):s;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}();function DO(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function kO(e,t){e=e||10;const o=new Array(e),i=new Array(e);let n=0,r=0,s;return t=t!==void 0?t:1e3,function(a){const l=Date.now(),u=i[r];s||(s=l),o[n]=a,i[n]=l;let h=r,f=0;for(;h!==n;)f+=o[h++],h=h%e;if(n=(n+1)%e,n===r&&(r=(r+1)%e),l-s<t)return;const g=u&&l-u;return g?Math.round(f*1e3/g):void 0}}function Ev(e,t){let o=0;const i=kO(50,250);return n=>{const r=n.loaded,s=n.lengthComputable?n.total:void 0,c=r-o,a=i(c),l=r<=s;o=r;const u={loaded:r,total:s,progress:s?r/s:void 0,bytes:c,rate:a||void 0,estimated:a&&s&&l?(s-r)/a:void 0,event:n};u[t?"download":"upload"]=!0,e(u)}}const OO=typeof XMLHttpRequest<"u",MO=OO&&function(e){return new Promise(function(o,i){let n=e.data;const r=Wo.from(e.headers).normalize(),s=e.responseType;let c;function a(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}xe.isFormData(n)&&(Fo.isStandardBrowserEnv||Fo.isStandardBrowserWebWorkerEnv)&&r.setContentType(!1);let l=new XMLHttpRequest;if(e.auth){const g=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";r.set("Authorization","Basic "+btoa(g+":"+b))}const u=Hy(e.baseURL,e.url);l.open(e.method.toUpperCase(),$y(u,e.params,e.paramsSerializer),!0),l.timeout=e.timeout;function h(){if(!l)return;const g=Wo.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),C={data:!s||s==="text"||s==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:g,config:e,request:l};xO(function(S){o(S),a()},function(S){i(S),a()},C),l=null}if("onloadend"in l?l.onloadend=h:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(h)},l.onabort=function(){l&&(i(new st("Request aborted",st.ECONNABORTED,e,l)),l=null)},l.onerror=function(){i(new st("Network Error",st.ERR_NETWORK,e,l)),l=null},l.ontimeout=function(){let b=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const C=e.transitional||jy;e.timeoutErrorMessage&&(b=e.timeoutErrorMessage),i(new st(b,C.clarifyTimeoutError?st.ETIMEDOUT:st.ECONNABORTED,e,l)),l=null},Fo.isStandardBrowserEnv){const g=(e.withCredentials||PO(u))&&e.xsrfCookieName&&IO.read(e.xsrfCookieName);g&&r.set(e.xsrfHeaderName,g)}n===void 0&&r.setContentType(null),"setRequestHeader"in l&&xe.forEach(r.toJSON(),function(b,C){l.setRequestHeader(C,b)}),xe.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),s&&s!=="json"&&(l.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&l.addEventListener("progress",Ev(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",Ev(e.onUploadProgress)),(e.cancelToken||e.signal)&&(c=g=>{l&&(i(!g||g.type?new bs(null,e,l):g),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c)));const f=DO(u);if(f&&Fo.protocols.indexOf(f)===-1){i(new st("Unsupported protocol "+f+":",st.ERR_BAD_REQUEST,e));return}l.send(n||null)})},va={http:sO,xhr:MO};xe.forEach(va,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const LO={getAdapter:e=>{e=xe.isArray(e)?e:[e];const{length:t}=e;let o,i;for(let n=0;n<t&&(o=e[n],!(i=xe.isString(o)?va[o.toLowerCase()]:o));n++);if(!i)throw i===!1?new st(`Adapter ${o} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(xe.hasOwnProp(va,o)?`Adapter '${o}' is not available in the build`:`Unknown adapter '${o}'`);if(!xe.isFunction(i))throw new TypeError("adapter is not a function");return i},adapters:va};function Gc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new bs(null,e)}function Av(e){return Gc(e),e.headers=Wo.from(e.headers),e.data=Qc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),LO.getAdapter(e.adapter||rh.adapter)(e).then(function(i){return Gc(e),i.data=Qc.call(e,e.transformResponse,i),i.headers=Wo.from(i.headers),i},function(i){return Vy(i)||(Gc(e),i&&i.response&&(i.response.data=Qc.call(e,e.transformResponse,i.response),i.response.headers=Wo.from(i.response.headers))),Promise.reject(i)})}const _v=e=>e instanceof Wo?e.toJSON():e;function Wi(e,t){t=t||{};const o={};function i(l,u,h){return xe.isPlainObject(l)&&xe.isPlainObject(u)?xe.merge.call({caseless:h},l,u):xe.isPlainObject(u)?xe.merge({},u):xe.isArray(u)?u.slice():u}function n(l,u,h){if(xe.isUndefined(u)){if(!xe.isUndefined(l))return i(void 0,l,h)}else return i(l,u,h)}function r(l,u){if(!xe.isUndefined(u))return i(void 0,u)}function s(l,u){if(xe.isUndefined(u)){if(!xe.isUndefined(l))return i(void 0,l)}else return i(void 0,u)}function c(l,u,h){if(h in t)return i(l,u);if(h in e)return i(void 0,l)}const a={url:r,method:r,data:r,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c,headers:(l,u)=>n(_v(l),_v(u),!0)};return xe.forEach(Object.keys(e).concat(Object.keys(t)),function(u){const h=a[u]||n,f=h(e[u],t[u],u);xe.isUndefined(f)&&h!==c||(o[u]=f)}),o}const zy="1.3.4",sh={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{sh[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const Nv={};sh.transitional=function(t,o,i){function n(r,s){return"[Axios v"+zy+"] Transitional option '"+r+"'"+s+(i?". "+i:"")}return(r,s,c)=>{if(t===!1)throw new st(n(s," has been removed"+(o?" in "+o:"")),st.ERR_DEPRECATED);return o&&!Nv[s]&&(Nv[s]=!0,console.warn(n(s," has been deprecated since v"+o+" and will be removed in the near future"))),t?t(r,s,c):!0}};function FO(e,t,o){if(typeof e!="object")throw new st("options must be an object",st.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let n=i.length;for(;n-- >0;){const r=i[n],s=t[r];if(s){const c=e[r],a=c===void 0||s(c,r,e);if(a!==!0)throw new st("option "+r+" must be "+a,st.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new st("Unknown option "+r,st.ERR_BAD_OPTION)}}const td={assertOptions:FO,validators:sh},fn=td.validators;class Oa{constructor(t){this.defaults=t,this.interceptors={request:new yv,response:new yv}}request(t,o){typeof t=="string"?(o=o||{},o.url=t):o=t||{},o=Wi(this.defaults,o);const{transitional:i,paramsSerializer:n,headers:r}=o;i!==void 0&&td.assertOptions(i,{silentJSONParsing:fn.transitional(fn.boolean),forcedJSONParsing:fn.transitional(fn.boolean),clarifyTimeoutError:fn.transitional(fn.boolean)},!1),n!==void 0&&td.assertOptions(n,{encode:fn.function,serialize:fn.function},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let s;s=r&&xe.merge(r.common,r[o.method]),s&&xe.forEach(["delete","get","head","post","put","patch","common"],b=>{delete r[b]}),o.headers=Wo.concat(s,r);const c=[];let a=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(o)===!1||(a=a&&C.synchronous,c.unshift(C.fulfilled,C.rejected))});const l=[];this.interceptors.response.forEach(function(C){l.push(C.fulfilled,C.rejected)});let u,h=0,f;if(!a){const b=[Av.bind(this),void 0];for(b.unshift.apply(b,c),b.push.apply(b,l),f=b.length,u=Promise.resolve(o);h<f;)u=u.then(b[h++],b[h++]);return u}f=c.length;let g=o;for(h=0;h<f;){const b=c[h++],C=c[h++];try{g=b(g)}catch(T){C.call(this,T);break}}try{u=Av.call(this,g)}catch(b){return Promise.reject(b)}for(h=0,f=l.length;h<f;)u=u.then(l[h++],l[h++]);return u}getUri(t){t=Wi(this.defaults,t);const o=Hy(t.baseURL,t.url);return $y(o,t.params,t.paramsSerializer)}}xe.forEach(["delete","get","head","options"],function(t){Oa.prototype[t]=function(o,i){return this.request(Wi(i||{},{method:t,url:o,data:(i||{}).data}))}});xe.forEach(["post","put","patch"],function(t){function o(i){return function(r,s,c){return this.request(Wi(c||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:s}))}}Oa.prototype[t]=o(),Oa.prototype[t+"Form"]=o(!0)});const ga=Oa;class ah{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(r){o=r});const i=this;this.promise.then(n=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](n);i._listeners=null}),this.promise.then=n=>{let r;const s=new Promise(c=>{i.subscribe(c),r=c}).then(n);return s.cancel=function(){i.unsubscribe(r)},s},t(function(r,s,c){i.reason||(i.reason=new bs(r,s,c),o(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const o=this._listeners.indexOf(t);o!==-1&&this._listeners.splice(o,1)}static source(){let t;return{token:new ah(function(n){t=n}),cancel:t}}}const BO=ah;function UO(e){return function(o){return e.apply(null,o)}}function $O(e){return xe.isObject(e)&&e.isAxiosError===!0}const od={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(od).forEach(([e,t])=>{od[t]=e});const jO=od;function Qy(e){const t=new ga(e),o=xy(ga.prototype.request,t);return xe.extend(o,ga.prototype,t,{allOwnKeys:!0}),xe.extend(o,t,null,{allOwnKeys:!0}),o.create=function(n){return Qy(Wi(e,n))},o}const kt=Qy(rh);kt.Axios=ga;kt.CanceledError=bs;kt.CancelToken=BO;kt.isCancel=Vy;kt.VERSION=zy;kt.toFormData=cl;kt.AxiosError=st;kt.Cancel=kt.CanceledError;kt.all=function(t){return Promise.all(t)};kt.spread=UO;kt.isAxiosError=$O;kt.mergeConfig=Wi;kt.AxiosHeaders=Wo;kt.formToJSON=e=>qy(xe.isHTMLForm(e)?new FormData(e):e);kt.HttpStatusCode=jO;kt.default=kt;const hl=kt,Dn="/caracol/assets/trash-63deb6cc.svg",qO="/caracol/assets/arrowUp-364c5229.svg",VO={components:{Loading:it},name:"ArchivoSeccionNodo",props:{esteArchivo:Object,usuarioExperto:Boolean,idNodo:String,idSeccion:String},data(){return{eliminandose:!1,marcandoPrimario:!1}},methods:{eliminarse(){if(this.usuarioExperto){if(!confirm("Borrando archivo ¿Continuar?")){console.log("Cancelado");return}this.eliminandose=!0,this.$apollo.mutate({mutation:he`
            mutation ($idNodo: ID!, $idSeccion: ID!, $nombreArchivo: String!) {
              eliminarArchivoSeccionNodo(
                idNodo: $idNodo
                idSeccion: $idSeccion
                nombreArchivo: $nombreArchivo
              )
            }
          `,variables:{idNodo:this.idNodo,idSeccion:this.idSeccion,nombreArchivo:this.esteArchivo.nombre}}).then(({data:{eliminarArchivoSeccionNodo:e}})=>{if(this.eliminandose=!1,!e){console.log("Archivo no eliminado");return}this.$emit("meElimine")}).catch(e=>{this.eliminandose=!1,console.log(`Error. E: ${e}`)})}},marcarPrimario(){this.marcandoPrimario=!0,this.$apollo.mutate({mutation:he`
          mutation($idNodo:ID!, $idSeccion: ID!, $nombreArchivo:String!){
            marcarPrimarioArchivoSeccionNodo(idNodo:$idNodo, idSeccion:$idSeccion, nombreArchivo: $nombreArchivo)
          }
        `,variables:{idNodo:this.idNodo,idSeccion:this.idSeccion,nombreArchivo:this.esteArchivo.nombre}}).then(()=>{this.marcandoPrimario=!1,this.$emit("soyPrimario")}).catch(()=>{this.marcandoPrimario=!1})}}},lh=e=>(Ze("data-v-468eec1c"),e=e(),Xe(),e),HO={id:"barraSuperior"},zO=lh(()=>m("div",{id:"icono"},[m("img",{src:vs,alt:"Archivo"})],-1)),QO={id:"nombre"},GO={class:"contenedorControles",style:{"margin-left":"auto","margin-right":"10px"}},KO=lh(()=>m("img",{src:Dn,alt:"Basura"},null,-1)),WO=[KO],JO=lh(()=>m("img",{src:qO,alt:"Subir"},null,-1)),YO=[JO];function ZO(e,t,o,i,n,r){const s=Pe("loading");return J(),X("div",{class:ve(["archivoSeccionNodo",{deshabilitado:n.eliminandose}])},[m("div",HO,[zO,m("div",QO,Ee(o.esteArchivo.nombre),1),m("div",GO,[m("div",{class:"boton",title:"Eliminar",onClick:t[0]||(t[0]=(...c)=>r.eliminarse&&r.eliminarse(...c))},WO),V(m("div",{class:"boton",onClick:t[1]||(t[1]=(...c)=>r.marcarPrimario&&r.marcarPrimario(...c))},YO,512),[[K,!o.esteArchivo.primario&&!n.marcandoPrimario]]),V(Te(s,{texto:""},null,512),[[K,n.marcandoPrimario]])])])],2)}const XO=He(VO,[["render",ZO],["__scopeId","data-v-468eec1c"]]),e5="/caracol/assets/edit-47695e84.svg",t5={props:{estaSeccion:Object,idNodo:String,usuarioExperto:Boolean},components:{ArchivoSeccionNodo:XO,Loading:it},name:"SeccionNodoConocimiento",data(){return{editando:!1,subiendoArchivo:!1,versionArchivo:0,editandoNombre:!1,enviandoNuevoNombre:!1,guardandoNuevoEnlace:!1,inputNuevoEnlace:this.estaSeccion.enlace,modo:""}},methods:{subirArchivoContenido(e){const t=e.target;var o=new FormData;const i=t.files[0];o.append("nuevoArchivo",i),o.append("idNodo",this.idNodo),o.append("idSeccion",this.estaSeccion.id),this.subiendoArchivo=!0,hl({method:"post",url:this.serverUrl+"/api/atlas/subirArchivoContenidoSeccionNodo",data:o,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.usuario.token}}).then(({data:{infoArchivo:n}})=>{this.subiendoArchivo=!1,this.versionArchivo++,this.$emit("subiArchivo",n)}).catch(n=>{this.subiendoArchivo=!1,console.log(`Error subiendo archivo. E: ${n}`)})},iniciarEdicionNombre(){this.$refs.inputNuevoNombre.value=this.estaSeccion.nombre,this.editandoNombre=!0},guardarNuevoNombre(){var e=this.$refs.inputNuevoNombre.value.trim();if(e==this.estaSeccion.nombre){this.editandoNombre=!1;return}if(!(e.length<1)){if(ps.test(e)){console.log("Caracteres ilegales");return}console.log("guardando nuevo nombre"),this.enviandoNuevoNombre=!0,this.$apollo.mutate({mutation:he`
            mutation (
              $idNodo: ID!
              $idSeccion: ID!
              $nuevoNombre: String!
            ) {
              editarNombreSeccionNodoConocimiento(
                idNodo: $idNodo
                idSeccion: $idSeccion
                nuevoNombre: $nuevoNombre
              ) {
                id
                nombre
              }
            }
          `,variables:{idNodo:this.idNodo,idSeccion:this.estaSeccion.id,nuevoNombre:e}}).then(t=>{console.log(`fin de la mutacion. Data: ${JSON.stringify(t)} `),this.enviandoNuevoNombre=!1,this.editandoNombre=!1}).catch(t=>{this.enviandoNuevoNombre=!1,console.log(`Error. E :${t}`)})}},toggleModo(){const e=this.modo==="archivo"?"enlace":"archivo";console.log("Cambiando a "+e),this.modo=e},guardarNuevoEnlace(){console.log("guardar nuevo enlace");var e=this.$refs.inputNuevoEnlace.value.trim();console.log(e),!(e===this.estaSeccion.enlace||!e||e.length<5)&&(!this.usuarioExperto&&!this.usuarioSuperadministrador||(this.guardandoNuevoEnlace=!0,this.$apollo.mutate({mutation:he`
          mutation($idNodo: ID!, $idSeccion:ID!, $nuevoEnlace:String!){
            setNuevoEnlaceSeccionNodo(idNodo: $idNodo, idSeccion: $idSeccion, nuevoEnlace: $nuevoEnlace){
              id
              modo
              enlace
            }
          }
        `,variables:{idNodo:this.idNodo,idSeccion:this.estaSeccion.id,nuevoEnlace:e}}).then(()=>{this.guardandoNuevoEnlace=!1}).catch(t=>{console.log("Error: "+t),this.guardandoNuevoEnlace=!0})))}},computed:{direccionNodo:function(){return this.serverUrl+"/assetsAtlas/contenidosNodos/"+this.idNodo},archivosOrdenados(){var e=JSON.parse(JSON.stringify(this.estaSeccion.archivos));return e.sort(t=>t.primario?-1:0),e},srcIframe(){if(this.estaSeccion.modo==="enlace"&&this.estaSeccion.enlace){var e=this.estaSeccion.enlace;let t=window.location.href;return e.substring(0,25)==="https://pe-pe-pe.herokuapp.com"&&t.substring(0,20)!="http://192.168.1.100"&&(e="https://pe-pe-pe.herokuapp.com"+e.substring(25),console.log("Enlace queda: "+e)),console.log("El enlace es: "+e),e}return this.direccionNodo+"/"+this.estaSeccion.id+"/?v="+this.versionArchivo}},watch:{"estaSeccion.modo":{handler:function(){this.modo=this.estaSeccion.modo},immediate:!0}}},Gy=e=>(Ze("data-v-384c2e49"),e=e(),Xe(),e),o5={class:"seccionNodoConocimiento"},n5={class:"contenedorControles"},i5=Gy(()=>m("img",{src:e5,alt:"Editar"},null,-1)),r5=[i5],s5=["src"],a5=["src"],l5={key:0,id:"zonaAdministracion"},c5=["value"],u5={class:"contenedorControles"},d5=Gy(()=>m("img",{src:li,alt:"Plus"},null,-1)),h5=[d5],f5=["title"],p5={src:vs,alt:"Archivo"},m5={src:ms,alt:"Archivo"},v5={id:"listaArchivos"},g5={id:"zonaEnlace"};function b5(e,t,o,i,n,r){const s=Pe("loading"),c=Pe("archivo-seccion-nodo");return J(),X("div",o5,[m("div",n5,[o.usuarioExperto||e.usuarioSuperadministrador?(J(),X("div",{key:0,class:"boton",onClick:t[0]||(t[0]=a=>n.editando=!n.editando)},r5)):Ie("",!0)]),V((J(),X("div",{id:"zonaFront",class:"frontDeSeccion",key:n.versionArchivo},[o.estaSeccion.modo==="enlace"||o.estaSeccion.tipoPrimario&&o.estaSeccion.tipoPrimario.substring(0,5)!="image"?(J(),X("iframe",{key:0,id:"iframeSeccion",src:r.srcIframe,frameborder:"0"},null,8,s5)):Ie("",!0),o.estaSeccion.modo==="archivo"&&o.estaSeccion.tipoPrimario&&o.estaSeccion.tipoPrimario.substring(0,5)==="image"?(J(),X("img",{key:1,src:r.direccionNodo+"/"+o.estaSeccion.id+"/?v="+n.versionArchivo},null,8,a5)):Ie("",!0)])),[[K,!n.editando]]),o.usuarioExperto||e.usuarioSuperadministrador?V((J(),X("div",l5,[V(m("div",{id:"nombre",onClick:t[1]||(t[1]=(...a)=>r.iniciarEdicionNombre&&r.iniciarEdicionNombre(...a))},Ee(o.estaSeccion.nombre),513),[[K,!n.editandoNombre]]),V(m("input",{type:"text",name:"",value:o.estaSeccion.nombre,id:"inputNuevoNombre",ref:"inputNuevoNombre",class:ve({deshabilitado:n.enviandoNuevoNombre}),onBlur:t[2]||(t[2]=(...a)=>r.guardarNuevoNombre&&r.guardarNuevoNombre(...a)),onKeypress:t[3]||(t[3]=vt((...a)=>r.guardarNuevoNombre&&r.guardarNuevoNombre(...a),["enter"]))},null,42,c5),[[K,n.editandoNombre]]),V(Te(s,{texto:""},null,512),[[K,n.enviandoNuevoNombre]]),m("div",u5,[n.modo==="archivo"?V((J(),X("div",{key:0,class:"boton",title:"Subir un archivo",onClick:t[4]||(t[4]=a=>e.$refs.inputArchivoContenido.click())},h5,512)),[[K,!n.subiendoArchivo]]):Ie("",!0),V(Te(s,{texto:""},null,512),[[K,n.subiendoArchivo]]),m("div",{class:"boton",title:o.estaSeccion.modo==="archivo"?"Cambiar modo a enlace":"Cambiar modo a archivo",onClick:t[5]||(t[5]=ge((...a)=>r.toggleModo&&r.toggleModo(...a),["stop"]))},[V(m("img",p5,null,512),[[K,n.modo==="archivo"]]),V(m("img",m5,null,512),[[K,n.modo==="enlace"]])],8,f5)]),V(m("div",v5,[V(m("input",{type:"file",class:"inputArchivoContenido",ref:"inputArchivoContenido",onChange:t[6]||(t[6]=a=>r.subirArchivoContenido(a))},null,544),[[K,!1]]),(J(!0),X(Fe,null,qe(r.archivosOrdenados,a=>(J(),Ge(c,{esteArchivo:a,usuarioExperto:o.usuarioExperto,idNodo:o.idNodo,idSeccion:o.estaSeccion.id,key:a.id,onMeElimine:l=>e.$emit("archivoEliminado",a.nombre),onSoyPrimario:l=>{e.$emit("tengoNuevoPrimario",a.nombre),n.versionArchivo++}},null,8,["esteArchivo","usuarioExperto","idNodo","idSeccion","onMeElimine","onSoyPrimario"]))),128))],512),[[K,n.modo==="archivo"]]),V(m("div",g5,[V(m("input",{type:"text",id:"inputNuevoEnlace",ref:"inputNuevoEnlace","onUpdate:modelValue":t[7]||(t[7]=a=>n.inputNuevoEnlace=a),onBlur:t[8]||(t[8]=(...a)=>r.guardarNuevoEnlace&&r.guardarNuevoEnlace(...a)),placeholder:"Enlace al recurso",onKeypress:t[9]||(t[9]=vt((...a)=>r.guardarNuevoEnlace&&r.guardarNuevoEnlace(...a),["enter"]))},null,544),[[Ke,n.inputNuevoEnlace]])],512),[[K,n.modo==="enlace"]])],512)),[[K,n.editando]]):Ie("",!0)])}const y5=He(t5,[["render",b5],["__scopeId","data-v-384c2e49"]]);he`
  fragment fragEvento on EventoCalendario{
    id
    nombre
    descripcion
    horarioInicio
    horarioFinal
    responsables  
    participantes
    origen
    idOrigen    
  }
`;he`
fragment fragResponsables on Usuario {
  id
  username
  nombres
  apellidos
  email
  permisos
  numeroTel
  lugarResidencia
}
`;const Ky=he`
fragment fragMinimoPersona on Usuario {
  id
  nombres
  apellidos
  username
  titulo
}
`,w5=he`
  fragment fragParticipacion on ParticipacionActividadGrupoEstudiantil{
    id
      fechaUpload
      archivo {
        extension
        nombre
        googleDriveDirectLink,        
      }
      comentario
      enlaceAdjunto
      infoAutor{
        ...fragMinimoPersona
      }
  }
  ${Ky}
`,E5=he`
fragment fragDesarrollo on DesarrolloActividadGrupoEstudiantil{
    id
    estado
    leidoPorProfe
    infoEstudiante{
      ...fragMinimoPersona
    }
    participaciones {
      ...fragParticipacion
    }
}
${w5}
`;he`
fragment fragActividad on ActividadGrupoEstudiantil {
  id
  nombre
  fechaUpload
  hayGuia
  infoCreador{
    ...fragMinimoPersona
  }
  desarrollos {
    ...fragDesarrollo 
  }
}
${E5}
`;he`
  fragment fragBienProyecto on BienProyecto{
    id
      nombre
      descripcion
      unidad
      cantidad
      fechaCierre
      fechaReparticion
      instruccionesRecibir
      listaPeticiones{
        idBeneficiario
        cantidadSolicitada
        cantidadAsignada
      }
  }
`;he`
fragment fragServicioProyecto on ServicioProyecto{
  id
  nombre
  descripcion
  listaPeticiones{
    idBeneficiario
  }
}
`;const A5=he`
  fragment fragTrabajoProyecto on TrabajoDeProyecto{
    id
      nombre
      descripcion
      estadoDesarrollo
      vinculos{
        idRef
        tipo
        tipoRef
      }
      coords{
        x
        y
      }
  }
`,_5=he`
  fragment fragObjetivoProyecto on ObjetivoDeProyecto{
    id
    nombre
    descripcion
    estadoDesarrollo
    vinculos{
      idRef
      tipo
      tipoRef
    }
    coords{
      x
      y
    }
  }
`;he`
  fragment fragProyecto on Proyecto{
    id
    nombre
    descripcion
    idForo
    responsables
    participantes
    posiblesResponsables    
    objetivos {
      ...fragObjetivoProyecto
    }
    trabajos {
      ...fragTrabajoProyecto
    }
  }  
  ${A5}
  ${_5}
`;const N5=he`
  fragment fragQuote on Quote{
    mensaje    
    infoAutor{
      id
      nombres
      apellidos
      username
    }
    fecha
  }
`,C5=he`
  fragment fragInterpolacion on Interpolacion{
    tipo
    enlaceIframe
    mensaje    
  }
`,Wy=he`
  fragment fragRespuesta on RespuestaConversacionForo{
    id
    fecha
    mensaje
    interpolaciones{
      ...fragInterpolacion
      quote{
        ...fragQuote
        interpolaciones{
          ...fragInterpolacion
          quote{
            ...fragQuote
            interpolaciones{
              ...fragInterpolacion
              quote{
                ...fragQuote
                interpolaciones{
                  ...fragInterpolacion
                  quote{
                    ...fragQuote
                    interpolaciones{
                      ...fragInterpolacion
                      quote{
                        ...fragQuote
                        interpolaciones{
                          ...fragInterpolacion
                          quote{
                            ...fragQuote
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
    enlaceAdjunto
    infoAutor{
      id
      nombres
      apellidos
      username
    }
    archivo{
      googleDriveDirectLink
    }
  }
  ${N5}, 
  ${C5}
`,Jy=he`
  fragment fragConversacion on Conversacion{
    id
    titulo    
    estado
    acceso   
    cantidadRespuestas
    infoUltimaRespuesta{
      fecha      
    }
  }
`,S5=he`
  query ($idUsuario: ID!) {
    Usuario(idUsuario: $idUsuario) {
      ...fragMinimoPersona
    }
  }
  ${Ky}
`,x5={name:"IconoPersonaAutonomo",apollo:{estaPersona:{query:S5,variables(){return{idUsuario:this.idPersona}},update({Usuario:e}){return e},skip(){return!this.idPersona}}},data(){return{estaPersona:{permisos:[]},nuevoPermiso:null,mounted:!1,fotografiaEnabled:!1,basicWidthFoto:70,basicFontSizeNombre:15}},props:{idPersona:String,seleccionado:Boolean,menuContextual:Boolean,factorEscala:{type:String,default:"1"},opcionesMenuCx:{type:Array}},computed:{soyYo(){return this.mounted&&this.idPersona&&this.usuario?this.usuario.id==this.idPersona:!1},offsetFoto(){return{width:this.basicWidthFoto*this.factor+"px",height:this.basicWidthFoto*this.factor+"px"}},offsetIcono(){return{width:this.basicWidthFoto*this.factor+"px"}},factor(){return Number(this.factorEscala)}},methods:{addPermisos(){console.log(`enviando ${this.nuevoPermiso} para el usuario con id ${this.idPersona}`),this.$apollo.mutate({mutation:he`
            mutation ($nuevoPermiso: String!, $idUsuario: ID!) {
              addPermisoUsuario(
                nuevoPermiso: $nuevoPermiso
                idUsuario: $idUsuario
              ) {
                id
                permisos
              }
            }
          `,variables:{nuevoPermiso:this.nuevoPermiso,idUsuario:this.idPersona}}).then(()=>{}).catch(e=>{console.log("error: "+e)})},copiarId(e){let t=e.target.innerText.trim();const o=document.createElement("textarea");o.value=t,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o)},fotografiaCargada(){console.log("Fotografía cargada")}},mounted(){this.mounted=!0},beforeRouteUpdate(){console.log("Before update")}},I5=e=>(Ze("data-v-b62346f2"),e=e(),Xe(),e),T5=["src"],R5={id:"contenedorAlertas"},P5=I5(()=>m("br",null,null,-1)),D5={id:"menuCxPersona"},k5={key:0,class:"botonMenuCx"},O5=["onClick"];function M5(e,t,o,i,n,r){return J(),X("div",{class:ve(["iconoPersonaAutonomo",{yo:r.soyYo}]),style:Oe([r.offsetIcono])},[V(m("img",{class:"fotografia",src:this.serverUrl+"/api/usuarios/fotografias/"+o.idPersona,style:Oe([r.offsetFoto]),onLoad:t[0]||(t[0]=s=>n.fotografiaEnabled=!0),alt:"Usuario"},null,44,T5),[[K,n.fotografiaEnabled]]),m("div",R5,[eN(e.$slots,"alertas",{},void 0,!0)]),m("div",{class:ve(["nombres",{nombreSeleccionado:o.seleccionado}]),style:Oe([{fontSize:n.basicFontSizeNombre*r.factor+"px"}])},[gt(Ee(n.estaPersona.nombres)+" ",1),P5,m("b",null,Ee(n.estaPersona.titulo),1)],6),V(m("div",D5,[m("div",{class:"botonMenuCx",onClick:t[1]||(t[1]=ge((...s)=>r.copiarId&&r.copiarId(...s),["stop"]))},Ee(o.idPersona),1),e.usuarioSuperadministrador?(J(),X("div",k5,Ee(n.estaPersona.username),1)):Ie("",!0),e.usuarioSuperadministrador?V((J(),X("input",{key:1,type:"text","onUpdate:modelValue":t[2]||(t[2]=s=>n.nuevoPermiso=s),placeholder:"Nuevo permiso"},null,512)),[[Ke,n.nuevoPermiso]]):Ie("",!0),e.usuarioSuperadministrador?(J(),X("div",{key:2,class:"botonMenuCx",onClick:t[3]||(t[3]=ge((...s)=>r.addPermisos&&r.addPermisos(...s),["stop"]))},"Dar permiso")):Ie("",!0),(J(!0),X(Fe,null,qe(o.opcionesMenuCx,(s,c)=>(J(),X("div",{class:"botonMenuCx",key:c,onClick:a=>e.$emit(s.evento)},Ee(s.textoVisible),9,O5))),128))],512),[[K,o.menuContextual]])],6)}const ui=He(x5,[["render",M5],["__scopeId","data-v-b62346f2"]]),L5={name:"Interpolacion",props:{estaInterpolacion:Object},data(){return{altoIframe:{height:"200px"}}},mounted(){this.estaInterpolacion.tipo=="video"&&this.$set(this.altoIframe,"height",this.$refs.elIframe.offsetWidth/1.77+"px")}},F5={class:"interpolacion"},B5={key:0,id:"bloqueIframe"},U5=["src"],$5={key:1,id:"bloqueQuote"},j5={id:"infoQuote"},q5={class:"quote"},V5={id:"bloqueMensaje"},H5={id:"elMensaje"};function z5(e,t,o,i,n,r){const s=Pe("interpolacion",!0);return J(),X("div",F5,[o.estaInterpolacion.tipo=="video"?(J(),X("div",B5,[V(m("iframe",{id:"elIframe",ref:"elIframe",src:o.estaInterpolacion.enlaceIframe,style:Oe([n.altoIframe]),frameborder:"0"},null,12,U5),[[K,o.estaInterpolacion.enlaceIframe]])])):Ie("",!0),o.estaInterpolacion.tipo=="quote"?(J(),X("div",$5,[m("div",j5,Ee(o.estaInterpolacion.quote.infoAutor.nombres)+" escribio: ",1),m("div",q5,[gt(Ee(o.estaInterpolacion.quote.mensaje)+" ",1),(J(!0),X(Fe,null,qe(o.estaInterpolacion.quote.interpolaciones,c=>(J(),Ge(s,{key:c.id,estaInterpolacion:c},null,8,["estaInterpolacion"]))),128))])])):Ie("",!0),m("div",V5,[m("div",H5,Ee(o.estaInterpolacion.mensaje),1)])])}const Yy=He(L5,[["render",z5],["__scopeId","data-v-986343d9"]]);var Q5=/[^\n\r a-zA-ZÀ-ž0-9_()":;.,+¡!¿?@=-]/;const G5={components:{Interpolacion:Yy},name:"CreadorInterpolacion",props:{estaInterpolacion:Object},data(){return{mensaje:null,enlaceIframe:null,enlaceIframeSet:null,enlaceAceptado:!1}},methods:{onPasteEnlace(){this.enlaceAceptado=!1,console.log("Paste")},setEnlaceIframe(){if(!(!this.enlaceIframe||this.enlaceIframe.substr(0,8)!="https://")){if(this.enlaceIframe.substr(12,17)=="youtube.com/watch"&&(this.enlaceIframe=this.enlaceIframe.substr(0,24)+"embed/"+this.enlaceIframe.substr(32)),this.enlaceIframe.substr(0,24)!="https://www.youtube.com/"){console.log("Enlace no válido"),this.enlaceIframe.alert("Enlace no válido");return}this.enlaceIframeSet=this.enlaceIframe,this.$emit("enlaceIframeSet",this.enlaceIframeSet),this.enlaceAceptado=!0}},checkHeight(){for(;this.$refs.inputMensaje.scrollHeight>this.$refs.inputMensaje.offsetHeight;)this.$refs.inputMensaje.rows++},addToMensaje(e){e&&(this.mensaje+=`

`+e,this.$nextTick(()=>{this.checkHeight()}))},temp(){console.log("1")}},computed:{mensajeIlegal(){return!!(!this.mensaje||this.mensaje.length<1||Q5.test(this.mensaje))}}},Zy=e=>(Ze("data-v-38178547"),e=e(),Xe(),e),K5={class:"creadorInterpolacion"},W5=Zy(()=>m("div",{class:"rayaX1"},null,-1)),J5=Zy(()=>m("div",{class:"rayaX2"},null,-1)),Y5=[W5,J5],Z5={key:0,id:"bloqueIframe"},X5=["src"],eM={id:"zonaInputEnlace"},tM={key:1,id:"bloqueQuote"},oM={id:"infoQuote"},nM={id:"quote"},iM={id:"zonaMensaje"};function rM(e,t,o,i,n,r){const s=Pe("interpolacion");return J(),X("div",K5,[m("div",{class:"bEliminarInterpolacion bolitaX",onClick:t[0]||(t[0]=c=>e.$emit("eliminarse",n.mensaje))},Y5),o.estaInterpolacion.tipo=="video"?(J(),X("div",Z5,[o.estaInterpolacion.tipo=="video"?V((J(),X("iframe",{key:0,id:"elIframe",src:o.estaInterpolacion.enlaceIframe,frameborder:"0"},null,8,X5)),[[K,o.estaInterpolacion.enlaceIframe]]):Ie("",!0),m("div",eM,[V(m("input",{type:"text",id:"inputEnlace","onUpdate:modelValue":t[1]||(t[1]=c=>n.enlaceIframe=c),onInput:t[2]||(t[2]=c=>n.enlaceAceptado=!1),onKeypress:t[3]||(t[3]=vt((...c)=>r.setEnlaceIframe&&r.setEnlaceIframe(...c),["enter"])),onPaste:t[4]||(t[4]=(...c)=>r.onPasteEnlace&&r.onPasteEnlace(...c)),placeholder:"Introduce el enlace"},null,544),[[Ke,n.enlaceIframe]]),m("img",{src:al,width:"17px",style:Oe([{cursor:"pointer"},[{backgroundColor:n.enlaceAceptado?"green":""}]]),alt:"Ok",title:"Aceptar",class:"bAceptar",onClick:t[5]||(t[5]=(...c)=>r.setEnlaceIframe&&r.setEnlaceIframe(...c))},null,4)])])):Ie("",!0),o.estaInterpolacion.tipo=="quote"?(J(),X("div",tM,[m("div",oM,Ee(o.estaInterpolacion.quote.infoAutor.nombres)+" escribio: ",1),m("div",nM,[gt(Ee(o.estaInterpolacion.quote.mensaje)+" ",1),(J(!0),X(Fe,null,qe(o.estaInterpolacion.quote.interpolaciones,c=>(J(),Ge(s,{key:c.id,estaInterpolacion:c},null,8,["estaInterpolacion"]))),128))])])):Ie("",!0),m("div",iM,[V(m("textarea",{name:"inputMensaje",id:"inputMensaje",ref:"inputMensaje",class:ve({letrasRojas:r.mensajeIlegal}),"onUpdate:modelValue":t[6]||(t[6]=c=>n.mensaje=c),onInput:t[7]||(t[7]=(...c)=>r.checkHeight&&r.checkHeight(...c))},null,34),[[Ke,n.mensaje]])])])}const sM=He(G5,[["render",rM],["__scopeId","data-v-38178547"]]),aM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAApVBMVEUAAADM28LI2L3h5tzj6d7R3srn7eTL2cPT38vW4s7g6uDF1bvH173C07fa4NTO3cTk7N7W4tPK2sDa5NTi7OLo8Oja5NXJ2b7M28LD1bfk7ODZ5dLY49DR38jd59fV4czT4MvP3sbP3cXK2r/H2LzW4s7S38rS38nQ3sfL2sHF1rna4tL////5+/j9/v3u8+v3+fXw9O31+PLy9u/7/Pr4+vfr8egF2h3MAAAALHRSTlMAcFEYHCQVFQUcDxkRDAh8ICBjJhEMAVc/KyjQx5XwrqiJg11Ku6Kcj2o4NHigeIkAAAKNSURBVGje3dl9U+IwEAbwR0opUKjg8S6e53nvV+RFuO//0W4SZXYYzG5owo74/COObX/QNLuGwDeDtMBBmmkDMZNkcKTZiyN8gpBWqNAIPyzie+xXJGYQEs60FU5pokpGOCGVH8ws4ND4KRCUITxSV5hbfQQnDygi0SbxX0RJ54yfg5IpGEAi/iG+Ej4/wgvT5ckBzTq0513ezWrD5FIuK5f3+OlCyKV8EP7SVxUzPqVflhWzOF4NUIuJicgJR/xb1enva+U6oyN9kltv42fA7fJV7oTbVXcgm6U567uX8dUcuiLk6OHNHcgSVrn3NdZ4IkQKIVibk79AyvWLUQ15Ve78DA4ZMAgpssEgXaQMslceJOMZPJLxCJ7NRa7dlZSMimNCypXjuN9kBCC8ckNGIIKNudQNY4QipIwZIxQhpfaWsUEUhAr55OCQRzIiIKRMQRmTEQ3B9lD5ZusuIiOlTU4GFfZoSPmaLkwm1KNiIHR+uV2Y65qWXTMv7P3bRUHIeAKs8m++fBmPpv0RByHDKCb7i+ekBCFk0JNMz+6UXvJILiBk2Mztb/uWPCGFRSYcQoYjY59S30IiIFtr8E1rzSNDZkxoosstPmDgyWDyqzQHC0jOIAtrCPlhFR6puxAyhNzbOepEOuzt2lGx4jO3SpUx2a2o7Eq5taNfMsiMWTpM4ZfP7qVDKq1P/gCnKNztGrmQ3WPNNw9HiOYSu62w+qXUz4dk0M0MZ0oC7QxxlgzEeRk/Iwh5r9/eJW8Vsg8Tna2Nhso0bCE8cs1KFYxoSiFumIano7AjlClU57bCplDxrnY9ejqdsKPSMAY67bWvs3XZ0+l57a7OfuJMaYs3KZT+NRimIxym793k/gPFdL6ma6aH6QAAAABJRU5ErkJggg==",lM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAMAAAAL34HQAAAAjVBMVEUAAABJSUo5Tk9BSFdGTVxHTl1FTVxGTV1FTF0+RFdFTFw8RVVHTV1JUF9JT15FTF1FTVxGTV1GTVxHT15GUV9ESltITl5GTV1HTV1JUF9FTVxGTl1GTV1GTFtGTV1ITlxGTFxGTVxFTVtGTVxGTF1GTVxHTl1FTFtHTV1HT1tFTV1ITl1GTVxHR1VHTl5Dm7GSAAAALnRSTlMABgokwLbn/OMp3R73SIRVqO9tsRA0YevIwnVc8z2fLJWOQdeCfGcxyxrPT7oJm8OXKQAAAppJREFUeNrt2WuPojAYhuEiCijoCIg4nBQ8jYd5///PW0vXYLLLMmmBZSbP9c2YNDeBljYwAAAAAAAAAAAAAACARlr7mKpplE1a5+/iFVOxvlInTL9g8mKLujI+M1mXMXUnZ7LeHOrO3maSInowjZJLgmvIcEgIDS6khyRlkg5E5ETbKTeflGMt0qmM25K4PCh/pRkfeM4kLYjo4zmVTyYRHZgkm1+VsWVC4apmbZ5Z8SMrlJ8+Hs/SmRC0mzWz5aePWZOlehOVs6qbmCpnuSe7FCxJOcs86Dan56SaRcmsZJF6FpnPsVSzKupZFWQh6ztn3aJ4NbysOCRz7F36zpq9lzZ1WRkR8TD7C1nh77ES5SxrPiqtdjVZSxI+Ir0py1mPhMhs7Z24NuuzhOtx+6+sfncQS6rsD+chZhHN8qCXrOul2tg3ZAlWntZlhc9/bolqFmWnNRddG7Iqxq7Q/ppFvrfmvHsL65YpUGNWJczm2p9Z1VitL6fNWYKbBQ3Lae9Zwk4bZNZ9NcQsJxrgTXT8mA0uK1m+jdjQstzs9tn9xmYZedxh35xVLVk1WRMx1nGsnLXXmXBsyqoW+LqssHj+SPp8VVt5qg1uB8E3D4Pbb5Vbrf6yrEIrfeY1z9ai2pg2ZSWxJnimahbtJz73btZkBX64ifSvHcgsMdYk7OGcuNpehnh8HeipGlnI+llZjlUKW8kyLM5Qz0o8vVT4LWQttjp33tEP/VyweWa9DerjisiqLleW1+E3HzoySRefWruJh5dHPvXpITyedRlFRtxi2sYjH70sEAYJhiXDJeFlrCRVmtRdmelMkr2h7uyYtLVLXRkHTJ63p06Y9zlTERz9cfuy04Up0kbtYwAAAAAAAAAAAAAAAAD/yS+cHKxqoQUmgQAAAABJRU5ErkJggg==",cM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAeFBMVEUAAAAXEAoUDQhlRSs0JBYrHRJLMh9FLhxeQCcaEgtiQykyIhUlGQ85JhgsHhJTOCIpGxEgFg1ZPCU/KhpWOSN0TzF6UzQvIBNrSS14UjNPNSFjRClyTjF8VTVcPiZnRyxuSy93UTIDAgEKBwQRDAcPCgYIBQMGBAI5vVJyAAAAInRSTlMA/v6A/v79/aX+kP7+/f7d/v6+/c00Ef5iHfGLPQewd1IkgWmI6gAAAZ1JREFUaN7t1eluqzAQhuGxwxInmDVrl7N8A+b+7/AcqdCChJrUxZVazfNrBBIvBgtICCGEEOK7ecpSGtWlUtmB1pc6RYMccAyUtLq018O0Rx8XRe6Qh4v8YUT0n0V/GU61i6r05B1pen4ZGPZliHgRoAvfSI5hUK9vZbvk0Bhw4RmJMewAg4zedSyhr6EjdDRogkcoRRU+smUdPrLh9isinUS+IHKGCRdxw0apVTp+VvK1Iwd2NNfBjtfaTT2evCNHjZqmLhgPWJ6rTr4RylDRVImOlv8nJXlHCu4TelM7WFr1nYy3XtBo10JRgMjJoLPX8QmBLyEidKzQqygpHqxx0BtaOTJqOsCxA/hMFCAySGKjTZZeyTPi1Vzye91IxG6BeVo1Uugl59lKQpHIRPocPmI5Dh/JYcJHYiga/Y32U1ESIhJjrt0EiGyNmtmvvJJlEpGIRH5YJP9QpCUvEZjuVTtDXrYOj/evOic/Gpruk3D/i/wUDL2jO1hGTr4sA6xuaR1Qkb+D4R43uTaiT9k10S324ZmEEEIIIb6xf4x8QD01P3dKAAAAAElFTkSuQmCC",uM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAMAAABG8BK2AAAAsVBMVEUAAAAAAAABAQEKCgoICAgEBAQHBwcEBAQAAAALCwsBAQEDAwMFBQUDAwMDAwMEBAQEBAQBAQENDQ0AAAAHBwcBAQEDAwMEBAQAAAABAQECAgICAgIODg4BAQECAgIGBgYBAQECAgICAgIDAwMEBAQBAQEEBAQCAgICAgIfHx8BAQEKCgoFBQUBAQEBAQECAgICAgIBAQEJCQkLCwsBAQEEBAQDAwMAAAACAgIDAwMAAAA7PaJUAAAAOnRSTlMA+t4VBFwodsAOonlOIX1nY68a8DLQjzrr48e2H7yBRfWynXJwyj6QhwhAGFbn16qZXycLpUlqAsKU+ypwswAAA9RJREFUWMPlWNmWojAQlX1HFBBX3Ntdu13aHv//wyYLIWkL1B7OmZfOE0rqJlV1b6VC7dcNy0vcwPB9I3ATz/onCFXXFqYcSjcypFA2F5qu/hCkqdkyQRCHJNva5gcgntGVBGvxuWt4L4Ios3lm1I4bLaOuaXWj1Yjb2Z/zmfIKijum02W7HilqHiolqtsyfTN2nyfH6ZDNm1NdhVGfmsTBjvMkbfqErDcIlBKHgwGZMNEfobz1iDtG80EOHeJa7618ytrEMxrDxzseNvAsc126F4LS6j+LX79FcEr2o2OPJP+VbPoS9ksvzNEEozivccvBOBOr6A3eqf8q0X08u2BNt4PjUm530i9bN+E8wPHpuIAQY5yjfinIR2MnSVI4T3UW5wbm8z29ZpgvpZmO7FyeXY3lHfNndqdprEajlE+DGx+dQAjm/LveDayAMu663Zs45EvG58H90k00UQpKUD72xHr0de51yNPhRF8EEvJRXFtDf5glaqzLtMxo1nWV2AQw245iosU1oQLgt9MSotFyZdLwH0mUltm7KXq2VS4DGXlcLP2UgHBBf5K6tYJ21CeKClVozFJ7PrL1XL4jBPN14l4IXi3Qq3oRyqp51PuWsuZxvGAY88Tihn4sclGiULWjolJ33u92cs8Q/F1ip84qo2UbYVqMe8jFWIF06THqxp+C8kTuKjEKDmNgEiI5qYAusnA8pVkQY8K/KE8xElaYsCWkAm1PdxyFsTWgyMuaqHOJyTwo0FMqUeru95Q3cpIjj73vIgrYM0iUtaR7aGybm/U7edQY8iARKS7swCfZF9lCLW8Tz02XrurIoZz2M+RzVLtTkV8Cc7SpxZ9milgS+tYxOR5z5BqAKXbKO1OLdKWYNBhTzf+i/y0IEaFTMMQqXTd08KyMOYxAKaUFDDFMuDYiNY4w7rrM7BkyHSDhkH6rA8nvB0vZKEfZc8cB/YAY9A524pOTuUeB2jYo+FwMUJpDbDVX+ILWxbcP77NkBUC4NGGh2OJwHtScQqnz1lcs0DmCQsHLFocZs6W9CXJenncDuBexbMFimISChqNDluiTaA3tYEnfxISsTeGYG4EGAZR0eMBQqhy2ejSN6TE5A/bwgKFbEI67iBpLO5QFRiEw+HG3KTt866FI3XgL7cXDF7YCDsNscxRTJB3sq7reg8ZkO8i02P4TQXPQmJS2SYr23t3HveVQheagTXrUtKnWRuGUg+MKmraqLWT1hrZae30F7XXVZr/61ePpRcipdhGqfi2rfkmsfmV9foFegAt0d6b8l+v86x8Xqn/qqP7h5beNvx6U8A4TgRU+AAAAAElFTkSuQmCC",dM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAMAAAAPkIrYAAABjFBMVEUAAAA+MzgAAAAiHBwgGBg+OzsiIh4eGxlEPj8WFBMhHh0nIyRAPT1ORkYfGhYjHhwfGhoeGRgeGRkgGxkmHx8oIiMoJCQlIyEpJyUrJyQpKCkiICAqJiQwKyscFxggHR0dFxYhHhwhHBwgGxoeGxsmISEdGRkjHh4dGhkgHRweGhsjHR4mJCE+PTlST08rKCgbFhYjGRogGxocGBcgHhwpJiUiHRwiHxwgGRkYFBMkHx8uKCcfHBoqJycsKSkdGRchGx0hHx9fX18kHRsaFRQmISIlHx4cGBckHB4sJSYhHRwdGRkhHx0cFhgiIB8cGhoeGxkhFxYdFxQaFxYZFhYoJSYaFxQaFxQVERFXUFckGBoiGRggGRkiGhogGRcnGRsjFxgjGBciHBwjGxshHBolGRclGBkhGBolGxkmFxkjGhckGBUhGxgkGhUlFxUfGBkhFxggGBQlFxcjGhkfGhkfGxciGRYgGRYdFxUeGhMgGhslFxgiGxUiFxYdGRkhGhEfFxccGBMhFxElHR4/VDeRAAAAWnRSTlMABBD+/AoH/h7JokYZD/bx5uHcya1tZ2BSOzIpJB/7+ffr2NPMxKqnl5WOiII1Fhb9+PPx0c66sbGgjnVvW1dLPy0I+unh0MbFmYN9eXBqYFLo2Na1nldWOyk6oaQ9AAADUElEQVRYw+3VV1MaURTA8SUgEFAporRg75qYbm/pvdd7t/cGuyu9aEzyxXNXTSZPEW+cPGT2/8rwmzl7OAvh5eXl5fX/5evNF87FuZJLz04mnv41dOVSev5RfPjgILTxV07fpVdPppKjgiCIoepYFtvpCWcWl5P9FknaQFU7nepyH5YT7N15Pj1xo9qs0jZggSxLxWJgA8fJrkcm7lmKYDa/NmibHR14rSFr7PIZF9aXG5q9eU8URZ7nBdFsNKhrK+uPr3GSpC73nGVh+c35h/FhyzRNZPl5wRTpWGormgrsc1ItNNj9wjJPpxKjlEkqUFX1I0qwErPRvpcPSNvmoJnY7ca5U8g8W3nT7xeApOs6B9DWBDRiKzG3EwwvxPwKtG26utpzqrMU3ZiZ6O/ojkNT7raKbY0RBN7vv7+W9RE7KRJSQlmH9Kkj5l5EJm/4G1+bnXqdtqG7ekNiGPB9eHwBba3nxThNwzIA5bKZPGWLwcWRg5ZFIwtRkKQAsiRJBoFHz/Po48LadWhDCFmEiZEg8efCm5H4VafebB5RFPqOrqvXpgYLBGr7Ngl1eGIFhrp47rknA3fRszIViqLKFCVevz0YPlrs+n3yEMgsCgDAJfNd/TyXNlfjDZ5CCVZs5tXxunZnR0QFMIyGKJQd8XV7NdmFByPfeXJsJnOy+K2plkUqMqNpMnBDI3ZfOJ26ORc9ka48G/O7FtB+Wsn8GV8xP8fIRUb8vNhSFCCfUMKMD+99nH5YFUVBoCB6VDJgAWDt0SEsqncx1ux0dJWROY7d2+MMg1Na45dwqOh04Nu3L186KsPsGaVSyTBqNbLyHoe68K6xbyCryCCrdGzBSn8ay7po7ZdKxaKOLG3PzajR1ZsFPItEliFJrqW1223XCs0RuJZRQvetqqrWZjkUGvEjplV1nJqOjlmV2m0OutEDS7hW06lRVOCwXuPYY6oxR2BapuPogZXVqwc0hO6EkLyxjWlNmk797kI4uBir0CQLACQrt3oxrQGRnxj0oUsaeltBxw2AcnWewLX4VJQ46sO4SCqKYl3fxrVur/06va1bvEWSh5NLBGa//9tkpyuVSmjeR5xHu9OhVvwTcT59fjyMtnhOBV9mCC8vLy+vf9UP6nkGH0hHtzsAAAAASUVORK5CYII=";var hM=/[^\n\r a-zA-ZÀ-ž0-9_()":;.,+¡!¿?@=-]/;const fM={components:{Loading:it,CreadorInterpolacion:sM},name:"CuadroResponder",props:{tituloNuevaConversacion:String,idConversacion:String,idForo:String,parent:Object},data(){return{mensaje:null,cuadroAbierto:!1,enviandoRespuesta:!1,nombreArchivoSeleccionado:null,introduciendoEnlace:!1,enlaceAdjuntable:null,enlaceAdjunto:[],interpolaciones:[]}},methods:{evaluarAdjunto(){if(this.mensajeIlegal)return;this.enviandoRespuesta=!0;let e=this.$refs.inputArchivoAdjunto;var t=new FormData;if(this.setInterpolacionesData(),e.value){const i=e.files[0],n=i.type;console.log(`subiendo un ${n}`),t.append("archivoAdjunto",i);var o=this;hl({method:"post",url:this.serverUrl+"/api/foros/adjuntarArchivoParaRespuesta",data:t,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.usuario.token}}).then(({data:{infoArchivo:r}})=>{let s={infoArchivo:{idGoogleDrive:r.idGoogleDrive,googleDriveDirectLink:r.googleDriveDirectLink,extension:r.extensionDeArchivo,nombre:r.extensionDeArchivo},mensaje:o.mensaje,interpolaciones:this.interpolaciones};this.enlaceAdjunto&&this.enlaceAdjunto.length>0&&(s.enlaceAdjunto=this.enlaceAdjunto),this.idConversacion?this.enviarNuevaRespuesta(s):this.crearConversacionConRespuesta(s)}).catch(r=>{this.enviandoRespuesta=!1,console.log(`Errores: ${r}`),r.response&&r.response.data.msjUsuario&&alert(r.response.data.msjUsuario)})}else{let i={infoArchivo:null,mensaje:this.mensaje,interpolaciones:this.interpolaciones};this.enlaceAdjunto&&this.enlaceAdjunto.length>0&&(i.enlaceAdjunto=this.enlaceAdjunto),this.idConversacion?this.enviarNuevaRespuesta(i):this.crearConversacionConRespuesta(i)}},crearConversacionConRespuesta(e){if(this.tituloNuevaConversacion){var t={titulo:this.tituloNuevaConversacion,primeraRespuesta:e};this.enviandoRespuesta=!0;var o=this;this.$apollo.mutate({mutation:he`
            mutation(
              $idForo: ID!
              $input: InputIniciarConversacion
              $parent: InputParent
            ) {
              iniciarConversacionConPrimerMensajeForo(
                idForo: $idForo
                input: $input
                parent: $parent
              ) {
                ...fragConversacion
              }
            }
            ${Jy}
          `,variables:{idForo:o.idForo,input:t,parent:o.parent}}).then(({data:{iniciarConversacionConPrimerMensajeForo:i}})=>{o.enviandoRespuesta=!1,o.$emit("hiceConversacion",i),this.reset()}).catch(i=>{o.enviandoRespuesta=!1,console.log(`Error. E: ${i}`)})}},enviarNuevaRespuesta(e){if(!this.mensajeIlegal){var t=this;this.enviandoRespuesta=!0,this.$apollo.mutate({mutation:he`
            mutation(
              $idConversacion: ID!
              $nuevaRespuesta: InputNuevaRespuesta
              $parent: InputParent
            ) {
              postRespuestaConversacion(
                idConversacion: $idConversacion
                nuevaRespuesta: $nuevaRespuesta
                parent: $parent
              ) {
                ...fragRespuesta
              }
            }
            ${Wy}
          `,variables:{idConversacion:t.idConversacion,nuevaRespuesta:e,parent:t.parent}}).then(({data:{postRespuestaConversacion:o}})=>{t.enviandoRespuesta=!1,this.$emit("hiceRespuesta",o),this.cerrarse()}).catch(o=>{t.enviandoRespuesta=!1,console.log(`Error. E: ${o}`)})}},toggleCuadroAbierto(){this.cuadroAbierto=!this.cuadroAbierto},cerrarse(){this.reset(),this.cuadroAbierto=!1},actualizarNombreDeArchivo(){if(!this.$refs.inputArchivoAdjunto.value){console.log("Nullificando el nombre de archivo seleccionado"),this.nombreArchivoSeleccionado=null;return}this.nombreArchivoSeleccionado=this.$refs.inputArchivoAdjunto.files[0].name},abrirSelectorDeArchivos(){this.$refs.inputArchivoAdjunto.click()},reset(){this.nombreArchivoSeleccionado=null,this.$refs.inputArchivoAdjunto.value=null,this.mensaje=null,this.interpolaciones=[],this.enlaceAdjuntable=null,this.enlaceAdjunto=[]},interpolarQuote(e){var t={tipo:"quote",quote:e};this.interpolaciones.push(t),this.cuadroAbierto||(this.cuadroAbierto=!0),this.$nextTick(()=>{this.$el.scrollIntoView({behavior:"smooth"})})},insertarCreadorInterpolacion(e){var t={tipo:e};this.interpolaciones.push(t)},checkHeight(){for(console.log(`El textarea tiene un height de ${this.$refs.inputMensaje.offsetHeight} pero un scroll height de ${this.$refs.inputMensaje.scrollHeight}`);this.$refs.inputMensaje.scrollHeight>this.$refs.inputMensaje.offsetHeight;)this.$refs.inputMensaje.rows++},eliminarInterpolacion(e,t){e&&(t==0?this.mensaje?(this.mensaje+=`

`+e,this.$nextTick(()=>{this.checkHeight()})):this.mensaje=e:(console.log(`añadiendo el mensaje ${e} al creador de interpolacion ${t-1}`),this.$refs.creadoresInterpolacion[t-1].addToMensaje(e))),this.interpolaciones.splice(t,1)},setEnlaceIframeInterpolacion(e,t){console.log("Seting enlace iframe en el array de interpolaciones"),this.$set(this.interpolaciones[t],"enlaceIframe",e)},retirarTypeName(e){return console.log("Retirando typenames"),e.forEach(t=>{delete t.__typename,t.quote&&(delete t.quote.__typename,t.quote.infoAutor&&delete t.quote.infoAutor.__typename,t.quote.interpolaciones&&(t.quote.interpolaciones=this.retirarTypeName(t.quote.interpolaciones)))}),e},setInterpolacionesData(){this.interpolaciones.forEach((e,t)=>{e.mensaje=this.$refs.creadoresInterpolacion[t].mensaje}),this.interpolaciones=this.retirarTypeName(this.interpolaciones)}},computed:{mensajeIlegal(){var e=this.mensaje?this.mensaje:"";return this.interpolaciones.forEach(t=>{t.mensaje&&(e+=t.mensaje)}),!!hM.test(e)},enlaceAdjuntableIlegal(){return this.enlaceAdjuntable?this.enlaceAdjuntable.substr(0,8)!="https://"?(console.log(`El inicio ${this.enlaceAdjuntable.substr(0,8)} difiere del esperado`),!0):this.enlaceAdjuntable.length<7:!0}},mounted(){console.log("Revisando si hay idConversacion"),this.idConversacion||(this.cuadroAbierto=!0)}},ch=e=>(Ze("data-v-3b79e7de"),e=e(),Xe(),e),pM={class:"cuadroResponder"},mM={id:"barraSuperior"},vM=ch(()=>m("span",{id:"tituloCuadro"},"Envía una respuesta",-1)),gM={id:"zonaMensaje"},bM={id:"zonaInsertar"},yM={id:"adjuntarArchivo"},wM=ch(()=>m("br",null,null,-1)),EM={id:"bloqueAdjuntarEnlace",class:"bloqueAdjuntar"},AM={id:"zonaIntroducirEnlace"},_M={id:"nombreEnlaceAdjuntado"},NM=["onClick"],CM=ch(()=>m("div",{class:"linea1"},[m("div",{class:"linea2"})],-1)),SM=[CM];function xM(e,t,o,i,n,r){const s=Pe("creador-interpolacion"),c=Pe("loading");return J(),X("div",pM,[V(m("div",mM,[m("img",{src:aM,alt:"Contestar",title:"Contestar en esta conversación",id:"imgMensaje",onClick:t[0]||(t[0]=(...a)=>r.toggleCuadroAbierto&&r.toggleCuadroAbierto(...a))}),vM],512),[[K,o.idConversacion]]),V(m("div",gM,[V(m("textarea",{name:"inputMensaje",id:"inputMensaje",ref:"inputMensaje",class:ve({letrasRojas:r.mensajeIlegal}),"onUpdate:modelValue":t[1]||(t[1]=a=>n.mensaje=a),rows:"2",onInput:t[2]||(t[2]=(...a)=>r.checkHeight&&r.checkHeight(...a))},null,34),[[Ke,n.mensaje]]),(J(!0),X(Fe,null,qe(n.interpolaciones,(a,l)=>(J(),Ge(s,{ref_for:!0,ref:"creadoresInterpolacion",key:l,estaInterpolacion:a,onEliminarse:u=>r.eliminarInterpolacion(u,l),onEnlaceIframeSet:u=>r.setEnlaceIframeInterpolacion(u,l)},null,8,["estaInterpolacion","onEliminarse","onEnlaceIframeSet"]))),128))],512),[[K,n.cuadroAbierto]]),V(m("div",bM,[m("img",{src:lM,alt:"Video",onClick:t[3]||(t[3]=a=>r.insertarCreadorInterpolacion("video")),class:"bInsertar",title:"Insertar un enlace a un video"})],512),[[K,n.cuadroAbierto]]),V(m("div",yM,[m("input",{type:"file",id:"inputArchivoAdjunto",ref:"inputArchivoAdjunto",onChange:t[4]||(t[4]=(...a)=>r.actualizarNombreDeArchivo&&r.actualizarNombreDeArchivo(...a))},null,544),m("img",{src:cM,alt:"Ajuntar archivo",id:"imgAdjuntar",title:"adjuntar un archivo",onClick:t[5]||(t[5]=(...a)=>r.abrirSelectorDeArchivos&&r.abrirSelectorDeArchivos(...a))}),wM,V(m("div",{id:"nombreArchivoSeleccionado"},Ee(n.nombreArchivoSeleccionado),513),[[K,n.nombreArchivoSeleccionado]])],512),[[K,n.cuadroAbierto]]),V(m("div",EM,[m("div",AM,[m("img",{src:uM,alt:"Ajuntar enlace",id:"imgAdjuntarEnlace",title:"adjuntar un enlace",onClick:t[6]||(t[6]=a=>n.introduciendoEnlace=!0)}),V(m("input",{type:"text",class:"inputAdjuntarEnlace",placeholder:"escribe o pega el enlace","onUpdate:modelValue":t[7]||(t[7]=a=>n.enlaceAdjuntable=a)},null,512),[[K,n.introduciendoEnlace===!0],[Ke,n.enlaceAdjuntable]]),V(m("img",{src:al,alt:"Confirmar",id:"bAceptarAdjuntarEnlace",onClick:t[8]||(t[8]=ge(a=>{n.enlaceAdjunto.push(n.enlaceAdjuntable),n.enlaceAdjuntable=null,n.introduciendoEnlace=!1},["stop"]))},null,512),[[K,n.introduciendoEnlace&&!r.enlaceAdjuntableIlegal]])]),(J(!0),X(Fe,null,qe(n.enlaceAdjunto,(a,l)=>(J(),X("div",{class:"enlaceAdjuntado",key:l},[m("div",_M,[m("span",null,Ee(a),1)]),m("div",{id:"bCancelarEnlaceAdjunto",onClick:ge(u=>n.enlaceAdjunto.splice(l,1),["stop"])},SM,8,NM)]))),128))],512),[[K,n.cuadroAbierto]]),V(m("img",{class:ve({deshabilitado:r.mensajeIlegal}),src:dM,alt:"Enviar",title:"Enviar respuesta",id:"bEnviar",onClick:t[9]||(t[9]=(...a)=>r.evaluarAdjunto&&r.evaluarAdjunto(...a))},null,2),[[K,n.cuadroAbierto&&!n.enviandoRespuesta]]),V(Te(c,{texto:"Enviando respuesta..."},null,512),[[K,n.enviandoRespuesta]])])}const Xy=He(fM,[["render",xM],["__scopeId","data-v-3b79e7de"]]),IM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAMAAAAPdrEwAAAA3lBMVEUAAAD/9fT/6uX/4eH/7evV1Nv+7uz/7OnS1d3/9/X/6eb/6OXU2ODaztL/3t7W0Nb27u7S1d3Y2+L14+Lg1tvQ0trR1t/uu7u/n5///////v7T1d3s7PA10Zb8/v0x0JPu+vXw+/dz3rM50Zc00JWt69Ns27D2/Prz9Pb5+vrY2uHo+fLu7/K57dhX16X6/fzv7/Li+O9C05vV19/k+PDf9u3F8N+y69Sd5smI4r6E4bx437ZR1qNO1aHz+/f09PbV8+fd3+Wp6c+W5cVw3bJn261e2ald2Kla2Kfw8fNijA/eAAAAGXRSTlMA+1ka2c5B2dbCtllQTC9X59jWuWxiWQ8IBi+1PwAAAb5JREFUWMPt2GlPgzAYwHE3ZffhrStbwa2KkzHcfcGcu/3+X8hnWTaMBkalTSDpP+EFb34h5WnS9EwkEomi1Lmv/iMnMsmL093k6eVCGvmpLNHb2VjJTw1ZKtLScX/0uyxLeW60nCpyoiEpx4mGrnKcaEi6p6VRvVF26wMfaSiVo6XLsmuf9f3wHey7R0q6c4L+ejt0ffvAbEHQjq6/HrtM0NCAu1f6VSzObEKC0shXDk2/1t416oiehgnxUaccLtr3goTpN3oW4rn+E4L40EhvtXTEhVZHljVS+dBVRakKWtCC9kOjnzRiSWtd06HNrsaO1uaTvnmgzf5krrGiTcNWNoa2pzVjo9iGyYhWR4SQ5kDf0fqgCS8jlRGNZ5MaIdZwpSiroUVIbTLDbGiwe2Ow2+39Uxv3MLsJQfoCzAoE+kJne5xUh7ayoxV7qLLejdNBEz4b/uaU+UZHmrEmZG1oiDUN4f5y2cd8ziG418PROz0xprFHgWgYi2fXYFiC0N1tpeZSZdsKRsM+cYk0g9EtfrQ+fnFtrAegwX7yCIV2rqNDZ+npLMXFJ13pAtPrWqdkJsH6ktnpTCQSiSLUN5DlNzinQAMLAAAAAElFTkSuQmCC",TM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAt1BMVEUAAAAJCQkBAQEBAQEAAAAFBQUBAQEMDAwgICADAwMFBQUICAgKCgoMDAwXFxcFBQUCAgIEBAQPDw8VFRUPDw8yMjIDAwMDAwMGBgYHBwcNDQ0SEhITExMCAgIDAwMICAgjIyMCAgIFBQUFBQUGBgYHBwcNDQ0CAgIDAwMCAgICAgIFBQULCwsCAgIDAwMFBQUGBgYGBgYICAgNDQ0ICAgHBwcJCQkQEBAFBQUNDQ0LCwsKCgoAAAAVYtoZAAAAPHRSTlMAHPv427ffLgjWql5bPRSg7bsYDwsD5MCnhjgzIOavfQXyrZuBairY09DGs0bqzJKOcW47iXlmJZZUT1Yx0+xAAAADDklEQVRYw+2Y2XaqMBSGA4oVRBBEQMQRnFqnWq0d8v7PdY6l+wiBNImw1rnpf6eGLzt7yhb0q19VL2fxGfveuvFXa8+P3xdOGdokOCtDGacku8o5aN6J6+r+Fhdoq+ndO3BN/amGKao96cJWtk3AFSPNtpjzjipmSD1O+HnhXsZMyXuJlzfQMJe0AR8vUDCnlIDLvifMLYXDxnCGBaSFzPjusZD2rFg/Y0E9M/JZFQUu2z/Wm4mFZf5Uha2aOLDWovMMBd8hxWAYWJ2JjpYv2OFSrXfwTdO6qrrEvjOHFuIOybNeF7YhtfsuTtQ5bCTDvrRGmVUdWqDHJM+/oETvamLeHJx9yKwbU1q+RfDc287Hr372hkBSZq1VfOaHIQEcNW+A9dX7H5SKGj4UAnWyq/ZTP0ZXiy+pHpf2t6wXAvu0MgX/Lu3bZ6lObp1XLmni1I+vMsaNMOXwXaaLFQIfcyXQTeW8nM3gbmb1YyFQzWX1nAiCdTPRzqxWC4ENTGq1QaATvurQg89hZnWDE4gtyIfJt4PPsPhlKgYEvU2+S2P9nXFg8xzfB+y8EGUeJTv0Ig7gCheoRZT52k5cqGadzUobsgYMD77YGZCW7LTRio4cEM9HX3HuKhizE7tPvYHCfwZOP5KQyETVM5sDHCWJSUw8OdiRjuFrX9jaJDtt4faIkwPDZctoX45FNuxkFNqAPe6R4hvL4boCIilJQQ94kEI514xpg2F26D8l9gEPL78c2oxzvG2bNoho2ZS5WtRap5LDRujyhnPSqMOInr1wd4Edd7LZ8aEIzSJdYnj1iDBNZ67YKIL0iocl1IzKjnPlB06VPnBClQpJPqKf1Ttws+CWYUgyRXi+hJhaiPzxeUAcGoy4eS+ISwuf87xgH1P2qcaR0PsQcas3n7J4q3mPnwfTGl1TM0CoIiC8xKgOOPQ/Yc4rD6y5ynkA1t0JVE6mt1rW68uVZ47hVVUJ4GiAeo5hS5JtOBDXMsBRJnnLA2fAKw8E+yoDgn2VAcG+yoDAqwwI561IxixaoF/9J/0BY7A5D9cSe1UAAAAASUVORK5CYII=",RM={components:{Interpolacion:Yy},name:"Respuesta",props:{estaRespuesta:{type:Object},idConversacion:String},computed:{fechaFormateada:function(){let e=new Date(this.estaRespuesta.fecha).toString(),t=e.indexOf("("),o=e.substr(0,t),i=o.indexOf("GMT");return i>-1&&(o=o.substr(0,i)),o},usuarioAutor:function(){return this.usuario.id==this.estaRespuesta.infoAutor.id}},methods:{emitirSolicitudCita(){var e={mensaje:this.estaRespuesta.mensaje,interpolaciones:this.estaRespuesta.interpolaciones,infoAutor:this.estaRespuesta.infoAutor,fecha:this.estaRespuesta.fecha};e.interpolaciones.forEach(t=>{delete t.__typename}),delete e.infoAutor.__typename,this.$emit("meQuierenCitar",e)},eliminarse(){let e=this;confirm("Eliminando respuesta ¿Continuar?")&&this.$apollo.mutate({mutation:he`
          mutation($idRespuesta: ID!, $idConversacion: ID!) {
            eliminarRespuesta(
              idRespuesta: $idRespuesta
              idConversacion: $idConversacion
            )
          }
        `,variables:{idRespuesta:this.estaRespuesta.id,idConversacion:this.idConversacion},update(t,{data:{eliminarRespuesta:o}}){o&&(console.log("Respuesta eliminada"),e.$emit("meElimine"))}})}}},PM=e=>(Ze("data-v-8192fae5"),e=e(),Xe(),e),DM={class:"respuesta"},kM={class:"infoRespuesta"},OM=["src","alt"],MM={id:"zonaCuerpoMensaje"},LM={class:"mensajeRespuesta"},FM={key:0,id:"archivo"},BM=["href"],UM=PM(()=>m("img",{src:IM,alt:"Descargar archivo",id:"imgDownloadArchivo"},null,-1)),$M=[UM],jM={class:"enlacesAdjuntos"},qM=["href"],VM={class:"enlaceAdjunto"},HM={class:"controles"};function zM(e,t,o,i,n,r){const s=Pe("interpolacion");return J(),X("div",DM,[m("div",kM,Ee(r.fechaFormateada),1),m("img",{src:this.serverUrl+"/api/usuarios/fotografias/"+o.estaRespuesta.infoAutor.id,alt:o.estaRespuesta.infoAutor.nombre,class:"caritaAutor"},null,8,OM),m("div",MM,[m("div",LM,Ee(o.estaRespuesta.mensaje),1),(J(!0),X(Fe,null,qe(o.estaRespuesta.interpolaciones,c=>(J(),Ge(s,{key:c.id,estaInterpolacion:c},null,8,["estaInterpolacion"]))),128))]),o.estaRespuesta.archivo&&o.estaRespuesta.archivo.googleDriveDirectLink?(J(),X("div",FM,[m("a",{href:o.estaRespuesta.archivo.googleDriveDirectLink},$M,8,BM)])):Ie("",!0),V(m("div",jM,[(J(!0),X(Fe,null,qe(o.estaRespuesta.enlaceAdjunto,(c,a)=>(J(),X("a",{target:"_blank",href:c,key:a},[m("div",VM,Ee(c),1)],8,qM))),128))],512),[[K,o.estaRespuesta.enlaceAdjunto&&o.estaRespuesta.enlaceAdjunto.length>0]]),m("div",HM,[m("img",{src:TM,alt:"Cita",title:"Citar esta respuesta",class:"botonInsertar",onClick:t[0]||(t[0]=(...c)=>r.emitirSolicitudCita&&r.emitirSolicitudCita(...c))}),e.usuarioSuperadministrador?(J(),X("div",{key:0,class:"controlRespuesta",id:"bEliminar",onClick:t[1]||(t[1]=(...c)=>r.eliminarse&&r.eliminarse(...c))}," Eliminar ")):Ie("",!0)])])}const QM=He(RM,[["render",zM],["__scopeId","data-v-8192fae5"]]),GM=he`
  query($idConversacion: ID!, $pagina: Int!) {
    respuestasPaginaDeConversacion(
      idConversacion: $idConversacion
      pagina: $pagina
    ) {
      pagina
      numPaginas
      respuestas {
        ...fragRespuesta
      }
    }
  }
  ${Wy}
`,KM={components:{Respuesta:QM,CuadroResponder:Xy},name:"Conversacion",apollo:{numPaginas:{query:GM,variables(){return{idConversacion:this.estaConversacion.id,pagina:this.numPaginaSeleccionada}},update({respuestasPaginaDeConversacion:{pagina:e,numPaginas:t,respuestas:o}}){return this.$set(this.respuestasPorPagina,e,o),this.numPaginaSeleccionada!=e&&(this.numPaginaSeleccionada=e),this.loading=!1,t},skip(){return!this.seleccionado},fetchPolicy:"no-cache"}},data(){return{numPaginas:0,numPaginaSeleccionada:0,respuestasPorPagina:{},loading:!0}},props:{estaConversacion:{type:Object,default(){return{respuestas:[]}}},idForo:String,parent:Object,seleccionado:Boolean,usuarioMiembro:{type:Boolean,default:!1}},methods:{addRespuesta(e){var t=this.numPaginas;(this.respuestasPorPagina[t].length>=5||t<1)&&(t++,this.respuestasPorPagina[t]||this.$set(this.respuestasPorPagina,t,[])),this.respuestasPorPagina[t].push(e),this.$refs.cuadroResponder.cerrarse(),this.numPaginaSeleccionada!=t&&(this.numPaginaSeleccionada=t),console.log("Emitiendo 'respuesta publicada'"),this.$emit("respuestaPublicada")},updateRespuestaEliminada(e,t){console.log(`Respuesta ${e} eliminada de la pagina ${t}`),this.numPaginas==1&&this.respuestasPorPagina[1].length<2?(console.log("Era la ultima respuesta"),this.$emit("meElimine")):(console.log("Refreshing respuestas pagina"),this.$apollo.queries.numPaginas.refresh())},citarRespuesta(e){this.$refs.cuadroResponder.interpolarQuote(e)}},computed:{cantidadRespuestasLeidasUsuario(){if(this.usuario&&this.usuario.foros){const e=this.usuario.foros.find(o=>o.idForo==this.idForo);if(!e)return 0;const t=e.conversaciones.find(o=>o.idConversacion==this.estaConversacion.id);return t?t.respuestasLeidas:0}else return 0},fechaFormateada:function(){if(!this.estaConversacion.infoUltimaRespuesta||!this.estaConversacion.infoUltimaRespuesta.fecha)return"Fecha desconocida";let e=new Date(this.estaConversacion.infoUltimaRespuesta.fecha).toString(),t=e.indexOf("("),o=e.substr(0,t),i=o.indexOf("GMT");return i>-1&&(o=o.substr(0,i)),o}},watch:{seleccionado(e,t){e&&!t&&this.$emit("meAbrieron")}}},e0=e=>(Ze("data-v-4ee811e9"),e=e(),Xe(),e),WM={class:"infoConversacion"},JM={class:"tituloConversacion"},YM=e0(()=>m("img",{src:ob,alt:"Conversacion",class:"imagenConversacion"},null,-1)),ZM={class:"datosConversacion"},XM={key:0,class:"zonaSelectorPaginas"},eL=["onClick"],tL={class:"zonaRespuestas"},oL={class:"zonaPaginas"},nL=e0(()=>m("div",{class:"controlesConversacion"},null,-1));function iL(e,t,o,i,n,r){const s=Pe("respuesta"),c=Pe("cuadro-responder");return J(),X("div",{class:ve(["conversacion",{seleccionado:o.seleccionado,deshabilitado:o.seleccionado&&n.loading,conRespuestasNoLeidas:o.estaConversacion.cantidadRespuestas>r.cantidadRespuestasLeidasUsuario}])},[m("div",WM,Ee(o.estaConversacion.cantidadRespuestas)+" publicacion"+Ee(o.estaConversacion.cantidadRespuestas>1?"es":"")+". Última publicación en "+Ee(r.fechaFormateada),1),m("div",JM,[YM,gt(" "+Ee(o.estaConversacion.titulo)+" ",1),m("span",ZM,[V(m("span",{class:"dato datoRespuestasNoLeidas",title:"Respuestas nuevas en esta conversación"},Ee(o.estaConversacion.cantidadRespuestas-r.cantidadRespuestasLeidasUsuario),513),[[K,o.estaConversacion.cantidadRespuestas>r.cantidadRespuestasLeidasUsuario]])])]),n.numPaginas>0?V((J(),X("div",XM,[(J(!0),X(Fe,null,qe(n.numPaginas,a=>(J(),X("div",{class:ve(["selectorPagina",{selectorSeleccionado:a==n.numPaginaSeleccionada}]),key:a,onClick:l=>n.numPaginaSeleccionada=a},Ee(a),11,eL))),128))],512)),[[K,o.seleccionado]]):Ie("",!0),V(m("div",tL,[m("div",oL,[(J(!0),X(Fe,null,qe(n.numPaginas,a=>V((J(),X("div",{class:"pagina",key:"pagina"+a},[(J(!0),X(Fe,null,qe(n.respuestasPorPagina[a],l=>(J(),Ge(s,{key:l.id,idConversacion:o.estaConversacion.id,estaRespuesta:l,onMeQuierenCitar:r.citarRespuesta,onMeElimine:u=>r.updateRespuestaEliminada(l.id,a)},null,8,["idConversacion","estaRespuesta","onMeQuierenCitar","onMeElimine"]))),128))])),[[K,n.numPaginaSeleccionada==a]])),128))]),e.usuarioLogeado&&(o.estaConversacion.acceso=="publico"||o.usuarioMiembro==!0)&&o.estaConversacion.id?(J(),Ge(c,{key:0,ref:"cuadroResponder",parent:o.parent,idConversacion:o.estaConversacion.id,onHiceRespuesta:t[0]||(t[0]=a=>r.addRespuesta(a))},null,8,["parent","idConversacion"])):Ie("",!0)],512),[[K,o.seleccionado]]),nL],2)}const rL=He(KM,[["render",iL],["__scopeId","data-v-4ee811e9"]]),sL=/[^ a-zA-ZÀ-ž0-9_():.,-¡!¿?]/,aL=he`
  query($idForo: ID!) {
    foro(idForo: $idForo) {
      id
      acceso
      miembros
    }
  }
`,lL=he`
  query($idForo: ID!, $pagina: Int!) {
    conversacionesPaginaForo(idForo: $idForo, pagina: $pagina) {
      pagina
      numPaginas
      conversaciones {
        ...fragConversacion
      }
    }
  }
  ${Jy}
`,cL={components:{Conversacion:rL,CuadroResponder:Xy},name:"Foro",apollo:{esteForo:{query:aL,variables(){return{idForo:this.idForo}},fetchPolicy:"cache-and-network",update:e=>e.foro,skip(){return!this.idForo}},numPaginas:{query:lL,variables(){return{idForo:this.idForo,pagina:this.numPaginaSeleccionada}},fetchPolicy:"no-cache",skip(){return!this.idForo},update({conversacionesPaginaForo:{conversaciones:e,pagina:t,numPaginas:o}}){return this.numPaginaSeleccionada!=t&&(this.numPaginaSeleccionada=t),this.conversacionesPorPagina[t]=e,o}}},props:{idForo:String,parent:Object},data(){return{esteForo:{miembros:[],conversaciones:[]},idConversacionSeleccionada:null,creandoConversacion:!1,numPaginaSeleccionada:0,conversacionesPorPagina:{},tituloNuevaConversacion:null}},methods:{addConversacion(e){this.creandoConversacion=!1,this.setTodaConversacionLeida(e.id),this.tituloNuevaConversacion=null,this.numPaginaSeleccionada=1,this.$apollo.queries.numPaginas.refetch()},refreshPagina(){this.idConversacionSeleccionada=null,this.$apollo.queries.numPaginas.refresh()},setTodaConversacionLeida(e){!this.usuario||!this.usuario.id||(console.log("Setting toda conversación leida"),this.$apollo.mutate({mutation:he`
              mutation($idUsuario: ID!, $idForo: ID!, $idConversacion: ID!) {
                setTodasRespuestasConversacionLeidasPorUsuario(
                  idUsuario: $idUsuario
                  idForo: $idForo
                  idConversacion: $idConversacion
                )
              }
            `,variables:{idUsuario:this.usuario.id,idForo:this.idForo,idConversacion:e}}).then(({data:{setTodasRespuestasConversacionLeidasPorUsuario:t}})=>{console.log(`Resultado: ${t}`),this.$store.commit("setRespuestasLeidasConversacionUsuario",{idForo:this.idForo,idConversacion:e,respuestasLeidas:t})}).catch(t=>{console.log(`Error. E: ${t}`)}))},setConversacionLeida(e,t){!this.usuario||!this.usuario.id||(console.log("Setting conversación leida"),this.$apollo.mutate({mutation:he`
              mutation(
                $idUsuario: ID!
                $idForo: ID!
                $idConversacion: ID!
                $cantidadRespuestasLeidas: Int!
              ) {
                setCantidadRespuestasConversacionLeidasPorUsuario(
                  idUsuario: $idUsuario
                  idForo: $idForo
                  idConversacion: $idConversacion
                  cantidadRespuestasLeidas: $cantidadRespuestasLeidas
                )
              }
            `,variables:{idUsuario:this.usuario.id,idForo:this.idForo,idConversacion:e,cantidadRespuestasLeidas:parseInt(t)}}).then(({data:{setCantidadRespuestasConversacionLeidasPorUsuario:o}})=>{console.log(`Resultado: ${o}`),o&&this.$store.commit("setRespuestasLeidasConversacionUsuario",{idForo:this.idForo,idConversacion:e,respuestasLeidas:t})}).catch(o=>{console.log(`Error. E: ${o}`)}))}},computed:{usuarioMiembro(){return this.esteForo.acceso=="publico"?!0:!!(this.esteForo.acceso=="privado"&&this.esteForo.miembros.includes(this.usuario.id))},conversacionAbierta(){return this.idConversacionSeleccionada},tituloNuevaConversacionIlegal(){return!!(!this.tituloNuevaConversacion||this.tituloNuevaConversacion.length<1||sL.test(this.tituloNuevaConversacion))}}},uL=e=>(Ze("data-v-2d0c355b"),e=e(),Xe(),e),dL={class:"foro"},hL={class:"barraSuperiorForo"},fL={id:"anuncio"},pL={id:"controlesForo"},mL={class:"zonaConversaciones"},vL={key:0,id:"zonaCrearConversacion"},gL=uL(()=>m("h3",null,"Creando conversación",-1)),bL={key:1,class:"zonaSelectorPagina"},yL=["onClick"],wL={key:2,class:"zonaPaginasConversaciones"};function EL(e,t,o,i,n,r){const s=Pe("cuadro-responder"),c=Pe("conversacion");return J(),X("div",dL,[m("div",hL,[V(m("div",fL," Conversaciones ",512),[[K,n.idConversacionSeleccionada===null]]),V(m("div",{id:"bRegresarConversaciones",onClick:t[0]||(t[0]=a=>{n.idConversacionSeleccionada=null,e.$apollo.queries.numPaginas.refetch()})}," Volver a conversaciones ",512),[[K,n.idConversacionSeleccionada!=null]]),m("div",pL,[e.usuarioLogeado&&(n.esteForo.acceso=="publico"||r.usuarioMiembro==!0)&&n.esteForo.id?V((J(),X("div",{key:0,class:"controlesForo botonesControles",id:"bCrearConversacion",onClick:t[1]||(t[1]=a=>n.creandoConversacion=!n.creandoConversacion)},Ee(n.creandoConversacion?"Cancelar":"Crear conversación"),513)),[[K,!r.conversacionAbierta]]):Ie("",!0)])]),m("div",mL,[e.usuarioLogeado&&(n.esteForo.acceso=="publico"||r.usuarioMiembro==!0)&&n.esteForo.id?V((J(),X("div",vL,[gL,V(m("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=a=>n.tituloNuevaConversacion=a),id:"inputTituloNuevaConversacion",placeholder:"Titulo de la nueva conversación",class:ve({letrasRojas:r.tituloNuevaConversacionIlegal})},null,2),[[Ke,n.tituloNuevaConversacion]]),Te(s,{idForo:n.esteForo.id,parent:o.parent,tituloNuevaConversacion:n.tituloNuevaConversacion,class:ve({deshabilitado:r.tituloNuevaConversacionIlegal}),onHiceConversacion:t[3]||(t[3]=a=>r.addConversacion(a))},null,8,["idForo","parent","tituloNuevaConversacion","class"])],512)),[[K,n.creandoConversacion]]):Ie("",!0),e.numPaginas&&!r.conversacionAbierta?(J(),X("div",bL,[(J(!0),X(Fe,null,qe(e.numPaginas,a=>(J(),X("div",{class:ve(["selectorPagina",{selectorSeleccionado:a==n.numPaginaSeleccionada}]),key:a,onClick:l=>n.numPaginaSeleccionada=a},Ee(a),11,yL))),128))])):Ie("",!0),e.numPaginas?(J(),X("div",wL,[(J(!0),X(Fe,null,qe(e.numPaginas,a=>(J(),X("div",{class:"paginaConversaciones",key:a}))),128)),(J(!0),X(Fe,null,qe(n.conversacionesPorPagina[n.numPaginaSeleccionada],a=>V((J(),Ge(c,{key:a.id,estaConversacion:a,seleccionado:n.idConversacionSeleccionada==a.id,usuarioMiembro:r.usuarioMiembro,idForo:o.idForo,parent:o.parent,onClick:l=>n.idConversacionSeleccionada=a.id,onMeAbrieron:l=>r.setTodaConversacionLeida(a.id),onMeElimine:r.refreshPagina,onRespuestaPublicada:l=>r.setTodaConversacionLeida(a.id,a.cantidadRespuestas)},null,8,["estaConversacion","seleccionado","usuarioMiembro","idForo","parent","onClick","onMeAbrieron","onMeElimine","onRespuestaPublicada"])),[[K,n.idConversacionSeleccionada==a.id||!r.conversacionAbierta]])),128))])):Ie("",!0)])])}const AL=He(cL,[["render",EL],["__scopeId","data-v-2d0c355b"]]),_L="/caracol/assets/lightbulb-c35fefca.svg",NL="/caracol/assets/comments-73835909.svg",Pn="/caracol/assets/save-cb166dd5.svg",t0="/caracol/assets/mas-f020d2eb.svg",o0="/caracol/assets/handshake-4991aa21.svg",nd="/caracol/assets/minus-0a59d746.svg",_o=he`
  query ($idNodo: ID!) {
    nodo(idNodo: $idNodo) {
      nombre
      id
      descripcion
      clases {
        id
        nombre
        idExperto
        descripcion
        interesados
      }
      keywords
      expertos
      posiblesExpertos
      clases {
        id
      }
      idForoPublico
      idForoExpertos
      secciones {
        id
        nombre
        modo
        enlace
        archivos {
          nombre
          primario
        }
        tipoPrimario
      }
      vinculos {
        idRef
        rol
        tipo
      }
    }
  }
`,CL={components:{SeccionNodoConocimiento:y5,Loading:it,IconoPersonaAutonomo:ui,Foro:AL},name:"VisorNodoConocimiento",apollo:{esteNodo:{query:_o,variables(){return{idNodo:this.$route.params.idNodo}},update({nodo:e}){return document.title=e.nombre,e}}},data(){return{esteNodo:{expertos:[],posiblesExpertos:[]},mostrandoContenido:"estudiar",mostrandoSeccion:null,mostrandoMenuSecciones:!1,creandoNuevaSeccion:!1,idExpertoSeleccionado:null,enviandoQueryExpertos:!1,editandoNombre:!1,enviandoNuevoNombre:!1,nuevoDescripcion:null,editandoDescripcion:!1}},methods:{deleteArchivoSeccionCache(e,t){const o=this.$apollo.provider.defaultClient,i=o.readQuery({query:_o,variables:{idNodo:this.esteNodo.id}});var n=JSON.parse(JSON.stringify(i)),r=n.nodo.secciones.find(c=>c.id==t);if(!r){console.log("Seccion no encontrada");return}var s=r.archivos.findIndex(c=>c.nombre===e);s>-1?(r.archivos.splice(s,1),o.writeQuery({query:_o,variables:{idNodo:this.esteNodo.id},data:n})):console.log("Archivo no encontrado")},addArchivoSeccionCache(e,t){const o=this.$apollo.provider.defaultClient,i=o.readQuery({query:_o,variables:{idNodo:this.esteNodo.id}});var n=JSON.parse(JSON.stringify(i)),r=n.nodo.secciones.find(s=>s.id==t);r.archivos.push(e),o.writeQuery({query:_o,variables:{idNodo:this.esteNodo.id},data:n})},eliminarSeccion(e){if(!this.usuarioExperto&&!this.usuarioSuperadministrador||!confirm("Eliminando esta sección con todos sus contenidos. ¿Continuar?"))return;console.log(`Enviando mutación de eliminar seccion ${e}`);const t=this;this.$apollo.mutate({mutation:he`
            mutation ($idNodo: ID!, $idSeccion: ID!) {
              eliminarSeccionNodoConocimiento(
                idNodo: $idNodo
                idSeccion: $idSeccion
              )
            }
          `,variables:{idNodo:this.esteNodo.id,idSeccion:e}}).then(({data:{eliminarSeccionNodoConocimiento:o}})=>{if(console.log(`resultado: ${o}`),o){let n=t.$apollo.provider.defaultClient;const r=n.readQuery({query:_o,variables:{idNodo:t.esteNodo.id}});var i=JSON.parse(JSON.stringify(r));const s=i.nodo.secciones.findIndex(c=>c.id==e);s>-1?(i.nodo.secciones.splice(s,1),n.writeQuery({query:_o,variables:{idNodo:t.esteNodo.id},data:i})):console.log("Seccion no encontrada")}}).catch(o=>{console.log(`Error: E: ${o}`)})},crearNuevaSeccion(){if(!this.usuarioExperto&&!this.usuarioSuperadministrador)return;this.creandoNuevaSeccion=!0;const e=this;this.$apollo.mutate({mutation:he`
            mutation ($idNodo: ID!) {
              crearNuevaSeccionNodoConocimiento(idNodo: $idNodo) {
                id
                nombre
                modo
                archivos {
                  nombre
                  primario
                }
                tipoPrimario
              }
            }
          `,variables:{idNodo:this.esteNodo.id}}).then(({data:{crearNuevaSeccionNodoConocimiento:t}})=>{let o=e.$apollo.provider.defaultClient;const i=o.readQuery({query:_o,variables:{idNodo:e.esteNodo.id}});var n=JSON.parse(JSON.stringify(i));n.nodo.secciones.push(t),o.writeQuery({query:_o,variables:{idNodo:e.esteNodo.id},data:n}),this.creandoNuevaSeccion=!1}).catch(t=>{console.log(`Error. E: ${t}`),this.creandoNuevaSeccion=!1})},setPrimarioSeccionCache(e,t){const o=this.$apollo.provider.defaultClient,i=o.readQuery({query:_o,variables:{idNodo:this.esteNodo.id}});var n=JSON.parse(JSON.stringify(i)),r=n.nodo.secciones.find(c=>c.id==t);if(!r){console.log("Seccion no encontrada");return}var s=r.archivos.findIndex(c=>c.nombre===e);r.archivos.forEach(c=>c.primario=!1),r.archivos[s].primario=!0,o.writeQuery({query:_o,variables:{idNodo:this.esteNodo.id},data:n})},intentarEntrarExpertos(e){console.log(`enviando id ${this.usuario.id} para entrar a expertos del nodo con id ${this.esteNodo.id}`),this.enviandoQueryExpertos=!0,this.$apollo.mutate({mutation:he`
            mutation ($idNodo: ID!, $idUsuario: ID!) {
              addExpertoNodo(idNodo: $idNodo, idUsuario: $idUsuario) {
                id
                expertos
                posiblesExpertos
              }
            }
          `,variables:{idNodo:this.esteNodo.id,idUsuario:e}}).then(()=>{this.enviandoQueryExpertos=!1}).catch(t=>{this.enviandoQueryExpertos=!1,console.log("error: "+t)})},abandonarListaExpertos(e){console.log("Abandonando la responsabilidad en este nodo"),!(!this.usuarioExperto&&!this.esteNodo.posiblesExpertos.includes(this.usuario.id))&&(this.enviandoQueryExpertos=!0,this.$apollo.mutate({mutation:he`
            mutation ($idNodo: ID!, $idUsuario: ID!) {
              removeExpertoNodo(idNodo: $idNodo, idUsuario: $idUsuario) {
                id
                expertos
                posiblesExpertos
              }
            }
          `,variables:{idNodo:this.esteNodo.id,idUsuario:e}}).then(()=>{this.enviandoQueryExpertos=!1}).catch(t=>{this.enviandoQueryExpertos=!1,console.log("error: "+t)}))},iniciarEdicionNombre(){!this.usuarioExperto&&!this.usuarioAdministradorAtlas&&!this.usuarioSuperadministrador||(this.$refs.inputNuevoNombre.value=this.esteNodo.nombre,this.editandoNombre=!0)},guardarNuevoNombre(){var e=this.$refs.inputNuevoNombre.value.trim();if(e==this.esteNodo.nombre){this.editandoNombre=!1;return}if(!(e.length<1)){if(ps.test(e)){console.log("Caracteres ilegales");return}console.log("guardando nuevo nombre"),this.enviandoNuevoNombre=!0,this.$apollo.mutate({mutation:he`
            mutation ($idNodo: ID!, $nuevoNombre: String!) {
              editarNombreNodo(idNodo: $idNodo, nuevoNombre: $nuevoNombre) {
                modificados {
                  id
                  nombre
                }
              }
            }
          `,variables:{idNodo:this.esteNodo.id,nuevoNombre:e}}).then(t=>{console.log(`fin de la mutacion. Data: ${JSON.stringify(t)} `),this.enviandoNuevoNombre=!1,this.editandoNombre=!1}).catch(t=>{this.enviandoNuevoNombre=!1,console.log(`Error. E :${t}`)})}},toggleEditandoDescripcion(){!this.usuarioExperto&&!this.usuarioSuperadministrador&&!this.usuarioAdministradorAtlas||(this.$refs.inputNuevoDescripcion.style.height=this.$refs.descripcion.offsetHeight+"px",this.editandoDescripcion=!this.editandoDescripcion,this.nuevoDescripcion=this.esteNodo.descripcion,this.editandoDescripcion&&this.$nextTick(()=>{this.$refs.inputNuevoDescripcion.focus()}))},guardarNuevoDescripcion(){var e=this.$refs.inputNuevoDescripcion.value;if(e==this.esteNodo.descripcion){this.editandoDescripcion=!1;return}console.log("guardando nuevo descripcion"),this.enviandoNuevoDescripcion=!0,this.$apollo.mutate({mutation:he`
            mutation (
              $idNodo: ID!
              $nuevoDescripcion: String!
            ) {
              editarDescripcionNodoConocimiento(
                idNodo: $idNodo
                nuevoDescripcion: $nuevoDescripcion
              ) {
                id
                descripcion
              }
            }
          `,variables:{idNodo:this.esteNodo.id,nuevoDescripcion:e}}).then(()=>{this.enviandoNuevoDescripcion=!1,this.editandoDescripcion=!1}).catch(t=>{this.enviandoNuevoDescripcion=!1,console.log(`Error. E :${t}`)})}},computed:{seccionSeleccionada(){return this.mostrandoSeccion?this.esteNodo.secciones.find(e=>e.id===this.mostrandoSeccion):null},usuarioExperto:function(){return!this.esteNodo.expertos||!this.usuarioLogeado?!1:!!this.esteNodo.expertos.includes(this.usuario.id)},usuarioAdministradorAtlas:function(){return this.usuario.permisos?!!this.usuario.permisos.includes("atlasAdminstrador"):!1},infoAsParent(){return{id:this.esteNodo.id,tipo:"nodoConocimiento",nombre:this.esteNodo.nombre}}}},Uo=e=>(Ze("data-v-436f0caf"),e=e(),Xe(),e),SL={class:"visorNodoConocimiento"},xL={id:"zonaTitulo"},IL=Uo(()=>m("div",{id:"iconoNodo"},[m("img",{src:_L,alt:"Idea"})],-1)),TL={id:"zonaNombre"},RL={id:"zonaSelectoresContenido"},PL=["title"],DL=Uo(()=>m("img",{src:yy,alt:"Readme"},null,-1)),kL=[DL],OL=["title"],ML=Uo(()=>m("img",{src:eh,alt:"Teacher"},null,-1)),LL=[ML],FL=["title"],BL=Uo(()=>m("img",{src:NL,alt:"Readme"},null,-1)),UL=[BL],$L={id:"zonaContenidos"},jL={id:"zonaSecciones"},qL={id:"zonaTituloSeccion"},VL={class:"contenedorControles"},HL=Uo(()=>m("img",{src:li,alt:"Plus"},null,-1)),zL=[HL],QL=["onClick"],GL={class:"nombreSeccionSelector"},KL=["onClick"],WL=Uo(()=>m("img",{src:Dn,alt:"Eliminar"},null,-1)),JL=[WL],YL={id:"zonaDescripcion"},ZL={class:"contenedorBotonesCampo"},XL={id:"zonaExpertos"},eF={class:"contenedorControles"},tF=["title"],oF=Uo(()=>m("img",{src:t0,alt:"Mas"},null,-1)),nF=[oF],iF=Uo(()=>m("img",{src:o0,alt:"Handshake"},null,-1)),rF=[iF],sF=Uo(()=>m("img",{src:nd,alt:"Menos"},null,-1)),aF=[sF],lF={id:"zonaForos",ref:"zonaForos"},cF={key:0,class:"nombreForo"},uF={key:2},dF=Uo(()=>m("div",{class:"nombreForo"},"Foro público",-1));function hF(e,t,o,i,n,r){const s=Pe("loading"),c=Pe("seccion-nodo-conocimiento"),a=Pe("icono-persona-autonomo"),l=Pe("foro");return J(),X("div",SL,[V(Te(s,{texto:""},null,512),[[K,e.$apollo.queries.esteNodo.loading]]),V(m("div",xL,[IL,m("div",TL,[V(m("div",{id:"nombre",onClick:t[0]||(t[0]=(...u)=>r.iniciarEdicionNombre&&r.iniciarEdicionNombre(...u))},Ee(n.esteNodo.nombre),513),[[K,!n.editandoNombre]]),V(m("input",{onKeypress:t[1]||(t[1]=vt(ge((...u)=>r.guardarNuevoNombre&&r.guardarNuevoNombre(...u),["prevent"]),["enter"])),ref:"inputNuevoNombre",style:{width:"250px"},onBlur:t[2]||(t[2]=(...u)=>r.guardarNuevoNombre&&r.guardarNuevoNombre(...u)),type:"text",class:"inputNombreCosa",id:"inputNuevoNombre"},null,544),[[K,n.editandoNombre]])])],512),[[K,!e.$apollo.queries.esteNodo.loading]]),V(m("div",RL,[m("div",{class:ve(["boton selectorContenido selector",{activo:n.mostrandoContenido==="estudiar"}]),title:n.mostrandoContenido!="estudiar"?"Mostrar contenido":"",onClick:t[3]||(t[3]=u=>n.mostrandoContenido="estudiar")},kL,10,PL),m("div",{class:ve(["boton selectorContenido selector",{activo:n.mostrandoContenido==="expertos"}]),title:n.mostrandoContenido!="expertos"?"Mostrar expertos":"",onClick:t[4]||(t[4]=u=>n.mostrandoContenido="expertos")},LL,10,OL),m("div",{class:ve(["boton selectorContenido selector",{activo:n.mostrandoContenido==="foros"}]),title:n.mostrandoContenido!="foros"?"Mostrar foros":"",onClick:t[5]||(t[5]=u=>n.mostrandoContenido="foros")},UL,10,FL)],512),[[K,!e.$apollo.queries.esteNodo.loading]]),V(m("div",$L,[V(m("div",jL,[V(m("div",qL,[m("div",{id:"nombreSeccionSeleccionada",onClick:t[6]||(t[6]=u=>n.mostrandoMenuSecciones=!0)},Ee(r.seccionSeleccionada?r.seccionSeleccionada.nombre:"Descripción"),1)],512),[[K,!n.mostrandoMenuSecciones]]),V(m("div",{id:"contenedorSelectoresSeccion",onClick:t[9]||(t[9]=u=>n.mostrandoMenuSecciones=!1)},[m("div",VL,[r.usuarioExperto?V((J(),X("div",{key:0,class:"boton",title:"Crear nueva sección",onClick:t[7]||(t[7]=ge((...u)=>r.crearNuevaSeccion&&r.crearNuevaSeccion(...u),["stop"]))},zL,512)),[[K,!n.creandoNuevaSeccion]]):Ie("",!0),V(Te(s,{text:""},null,512),[[K,n.creandoNuevaSeccion]])]),m("div",{class:"selectorSeccion",onClick:t[8]||(t[8]=u=>n.mostrandoSeccion=null)}," Descripcion "),(J(!0),X(Fe,null,qe(n.esteNodo.secciones,u=>(J(),X("div",{class:"selectorSeccion",onClick:h=>n.mostrandoSeccion=u.id,key:u.id},[m("div",GL,Ee(u.nombre),1),V(m("div",{class:"boton",title:"Eliminar",onClick:ge(h=>r.eliminarSeccion(u.id),["stop"])},JL,8,KL),[[K,r.usuarioExperto||e.usuarioSuperadministrador]])],8,QL))),128))],512),[[K,n.mostrandoMenuSecciones]]),V(m("div",YL,[V(m("div",{id:"descripcion",class:"contenidoTexto",ref:"descripcion",onClick:t[10]||(t[10]=(...u)=>r.toggleEditandoDescripcion&&r.toggleEditandoDescripcion(...u))},Ee(n.esteNodo.descripcion),513),[[K,!n.editandoDescripcion]]),V(m("textarea",{id:"inputNuevoDescripcion",ref:"inputNuevoDescripcion",class:"inputTextoNodo","onUpdate:modelValue":t[11]||(t[11]=u=>n.nuevoDescripcion=u)},null,512),[[Ke,n.nuevoDescripcion],[K,n.editandoDescripcion]]),V(m("div",ZL,[m("img",{src:Pn,class:"botonGuardarCampo",alt:"Guardar",title:"Guardar descripción",id:"botonGuardarDescripcion",onClick:t[12]||(t[12]=(...u)=>r.guardarNuevoDescripcion&&r.guardarNuevoDescripcion(...u))}),m("img",{src:zt,class:"botonGuardarCampo",alt:"Cancelar",title:"Cancelar edición",id:"botonCancelarEdicionDescripcion",onClick:t[13]||(t[13]=u=>n.editandoDescripcion=!1)})],512),[[K,n.editandoDescripcion]])],512),[[K,!r.seccionSeleccionada&&!n.mostrandoMenuSecciones]]),n.esteNodo.id&&r.seccionSeleccionada?V((J(),Ge(c,{key:r.seccionSeleccionada.id,idNodo:n.esteNodo.id,estaSeccion:r.seccionSeleccionada,usuarioExperto:r.usuarioExperto,onSubiArchivo:t[14]||(t[14]=u=>r.addArchivoSeccionCache(u,r.seccionSeleccionada.id)),onArchivoEliminado:t[15]||(t[15]=u=>r.deleteArchivoSeccionCache(u,r.seccionSeleccionada.id)),onTengoNuevoPrimario:t[16]||(t[16]=u=>r.setPrimarioSeccionCache(u,r.seccionSeleccionada.id))},null,8,["idNodo","estaSeccion","usuarioExperto"])),[[K,r.seccionSeleccionada&&!n.mostrandoMenuSecciones]]):Ie("",!0)],512),[[K,n.mostrandoContenido==="estudiar"]]),V(m("div",XL,[m("div",eF,[V(m("div",{class:"boton",title:n.esteNodo.expertos.length<1?"Asumir":"Quiero aportar como experto en este tema",onClick:t[17]||(t[17]=u=>r.intentarEntrarExpertos(e.usuario.id))},nF,8,tF),[[K,!n.enviandoQueryExpertos&&!n.idExpertoSeleccionado&&!r.usuarioExperto]]),V(m("div",{class:"boton",title:"Aceptar como experto",onClick:t[18]||(t[18]=u=>r.intentarEntrarExpertos(n.idExpertoSeleccionado))},rF,512),[[K,!n.enviandoQueryExpertos&&n.idExpertoSeleccionado&&(n.esteNodo.posiblesExpertos.includes(n.idExpertoSeleccionado)&&r.usuarioExperto||e.usuarioSuperadministrador||r.usuarioAdministradorAtlas)]]),V(m("div",{class:"boton",title:"abandonar",onClick:t[19]||(t[19]=u=>r.abandonarListaExpertos(e.usuario.id))},aF,512),[[K,!n.enviandoQueryExpertos&&!n.idExpertoSeleccionado&&(r.usuarioExperto||n.esteNodo.posiblesExpertos.includes(n.idExpertoSeleccionado))]]),V(Te(s,{texto:""},null,512),[[K,n.enviandoQueryExpertos]])]),m("div",{id:"listaExpertos",onClick:t[20]||(t[20]=ge(u=>n.idExpertoSeleccionado=null,["self"]))},[(J(!0),X(Fe,null,qe(n.esteNodo.expertos.concat(n.esteNodo.posiblesExpertos),u=>(J(),Ge(a,{texto:"",seleccionado:n.idExpertoSeleccionado===u,key:u,factorEscala:"0.8",style:Oe({opacity:n.esteNodo.posiblesExpertos.includes(u)?.5:1}),idPersona:u,onClick:h=>n.idExpertoSeleccionado=u},null,8,["seleccionado","style","idPersona","onClick"]))),128))])],512),[[K,n.mostrandoContenido==="expertos"]]),V(m("div",lF,[r.usuarioExperto?(J(),X("div",cF,"Foro expertos")):Ie("",!0),r.usuarioExperto?(J(),Ge(l,{key:1,parent:r.infoAsParent,idForo:n.esteNodo.idForoExpertos},null,8,["parent","idForo"])):Ie("",!0),r.usuarioExperto?(J(),X("br",uF)):Ie("",!0),dF,Te(l,{parent:r.infoAsParent,idForo:n.esteNodo.idForoPublico},null,8,["parent","idForo"])],512),[[K,n.mostrandoContenido=="foros"]])],512),[[K,!e.$apollo.queries.esteNodo.loading]])])}const Cv=He(CL,[["render",hF],["__scopeId","data-v-436f0caf"]]),fF={components:{Loading:it},props:{estaIteracion:Object,idNodo:String,urgente:Boolean,porcentajeIntervaloTranscurrido:Number,primero:Boolean},name:"IteracionRepaso",data(){return{eliminandose:!1,editandoIntervalo:!1,nuevoTipoCantidadIntervalo:"dia",nuevoCantidadIntervalo:1,guardandoNuevoIntervalo:!1}},computed:{intervaloFormateado(){var i=0,n=this.tipoCantidadIntervalo;this.tipoCantidadIntervalo==="dia"?(i=this.estaIteracion.intervalo/864e5,n="día"):this.tipoCantidadIntervalo==="semana"?(i=this.estaIteracion.intervalo/6048e5,n="sem"):this.tipoCantidadIntervalo==="mes"&&(i=this.estaIteracion.intervalo/2592e6);var r=i+" "+n;return i>1&&n!="mes"&&(r+="s"),r},tipoCantidadIntervalo(){var e="dia";return this.estaIteracion.intervalo>5184e5&&(e="semana",this.estaIteracion.intervalo>18144e5&&(e="mes")),e},colorBolita(){var e="whitesmoke";return this.urgente&&(e="var(--atlasConocimientoRepaso)"),{backgroundColor:e}}},methods:{iniciarEdicionIntervalo(){this.nuevoTipoCantidadIntervalo=this.tipoCantidadIntervalo,this.nuevoCantidadIntervalo=1,this.editandoIntervalo=!0},eliminarse(){this.eliminandose=!0,this.$apollo.mutate({mutation:he`
            mutation ($idUsuario: ID!, $idNodo: ID!, $idIteracion: ID!) {
              eliminarIteracionRepaso(
                idUsuario: $idUsuario
                idNodo: $idNodo
                idIteracion: $idIteracion
              )
            }
          `,variables:{idUsuario:this.usuario.id,idNodo:this.idNodo,idIteracion:this.estaIteracion.id}}).then(()=>{this.eliminandose=!1,this.$emit("meElimine")}).catch(e=>{this.eliminandose=!1,console.log(`Error: ${e}`)})},guardarNuevoIntervalo(){if(this.nuevoCantidadIntervalo<1)return;const e=6048e5,t=864e5,o=2592e6;var i=0;if(this.nuevoTipoCantidadIntervalo==="dia"){if(this.nuevoCantidadIntervalo>6)return;i=t*this.nuevoCantidadIntervalo}else if(this.nuevoTipoCantidadIntervalo==="semana"){if(this.nuevoCantidadIntervalo>3)return;i=e*this.nuevoCantidadIntervalo}else if(this.nuevoTipoCantidadIntervalo==="mes"){if(this.nuevoCantidadIntervalo>12)return;i=o*this.nuevoCantidadIntervalo}i===0||i===this.estaIteracion.intervalo||(this.guardandoNuevoIntervalo=!0,this.$apollo.mutate({mutation:he`
                mutation($idUsuario: ID!, $idNodo:ID!, $idIteracion:ID!, $nuevoIntervalo:Float!){
                    setIntervaloIteracionRepaso(idUsuario: $idUsuario, idNodo: $idNodo, idIteracion: $idIteracion, nuevoIntervalo: $nuevoIntervalo){
                        id
                        intervalo
                    }
                }
            `,variables:{idUsuario:this.usuario.id,idNodo:this.idNodo,idIteracion:this.estaIteracion.id,nuevoIntervalo:i}}).then(()=>{this.guardandoNuevoIntervalo=!1,this.editandoIntervalo=!1}).catch(n=>{console.log(`Error: ${n}`),this.guardandoNuevoIntervalo=!1}))}}},ys=e=>(Ze("data-v-20f980c6"),e=e(),Xe(),e),pF={id:"bloqueIntervalo"},mF={id:"textoIntervalo"},vF={id:"bloqueEdicionIntervalo"},gF=["max"],bF=ys(()=>m("option",{value:"dia"},"Dias",-1)),yF=ys(()=>m("option",{value:"semana"},"Semanas",-1)),wF=ys(()=>m("option",{value:"mes"},"Meses",-1)),EF=[bF,yF,wF],AF=ys(()=>m("img",{src:Pn,alt:"Guardar"},null,-1)),_F=[AF],NF=ys(()=>m("img",{src:Ny,alt:"Estudiante"},null,-1)),CF=[NF];function SF(e,t,o,i,n,r){const s=Pe("loading");return J(),X("div",{class:ve(["iteracionRepaso",{deshabilitado:n.eliminandose}])},[m("div",pF,[V(m("div",{id:"intervalo",onClick:t[0]||(t[0]=(...c)=>r.iniciarEdicionIntervalo&&r.iniciarEdicionIntervalo(...c))},[o.primero?(J(),X("div",{key:0,id:"porcentajeTranscurrido",style:Oe([{width:o.porcentajeIntervaloTranscurrido+"%"}])},null,4)):Ie("",!0),m("div",mF,Ee(r.intervaloFormateado),1)],512),[[K,!n.editandoIntervalo]]),V(m("div",vF,[V(m("input",{id:"inputCantidadIntervalo","onUpdate:modelValue":t[1]||(t[1]=c=>n.nuevoCantidadIntervalo=c),class:ve({deshabilitando:n.guardandoNuevoIntervalo}),max:n.nuevoTipoCantidadIntervalo==="dia"?6:n.nuevoTipoCantidadIntervalo==="semana"?3:12,type:"number"},null,10,gF),[[Ke,n.nuevoCantidadIntervalo]]),V(m("select",{"onUpdate:modelValue":t[2]||(t[2]=c=>n.nuevoTipoCantidadIntervalo=c),class:ve({deshabilitando:n.guardandoNuevoIntervalo})},EF,2),[[ls,n.nuevoTipoCantidadIntervalo]]),V(m("div",{class:"boton",title:"Guardar",onClick:t[3]||(t[3]=(...c)=>r.guardarNuevoIntervalo&&r.guardarNuevoIntervalo(...c))},_F,512),[[K,!n.guardandoNuevoIntervalo]]),V(Te(s,{texto:""},null,512),[[K,n.guardandoNuevoIntervalo]])],512),[[K,n.editandoIntervalo]])]),m("div",{id:"icono",onDblclick:t[4]||(t[4]=(...c)=>r.eliminarse&&r.eliminarse(...c)),onContextmenu:t[5]||(t[5]=ge((...c)=>r.eliminarse&&r.eliminarse(...c),["prevent","stop"])),style:Oe([r.colorBolita])},CF,36)],2)}const xF=He(fF,[["render",SF],["__scopeId","data-v-20f980c6"]]),ws="/caracol/assets/expand-b151da43.svg",IF="/caracol/assets/nodos-a81f5eef.svg",TF={components:{IteracionRepaso:xF,Loading:it},name:"ItemRepaso",props:{esteRepaso:Object,mostrarRepasos:Boolean},data(){return{creandoIteracion:!1}},methods:{crearIteracion(){var e=null;this.creandoIteracion=!0,this.$apollo.mutate({mutation:he`
            mutation ($idUsuario: ID!, $idNodo: ID!, $intervalo: Int) {
              crearIteracionRepasoNodoConocimientoUsuario(
                idUsuario: $idUsuario
                idNodo: $idNodo
                intervalo: $intervalo
              ) {
                id
                iteracionesRepaso {
                  id
                  intervalo
                }
              }
            }
          `,variables:{idUsuario:this.usuario.id,idNodo:this.esteRepaso.idNodo,intervalo:e}}).then(()=>{this.creandoIteracion=!1}).catch(t=>{this.creandoIteracion=!1,console.log(`Error: ${t}`)})},eliminarIteracionCache(e){const t=this.$apollo.provider.defaultClient,o=t.readQuery({query:St});var i=JSON.parse(JSON.stringify(o)),n=i.yo.atlas.datosNodos.find(s=>s.id===this.esteRepaso.id),r=n.iteracionesRepaso.findIndex(s=>s.id===e);r>-1?(n.iteracionesRepaso.splice(r,1),t.writeQuery({query:St,data:i})):console.log("La iteración no estaba en caché")}},computed:{colorBarraSuperior(){var e="transparent";return this.mostrarRepasos&&(e="var(--mainColor)"),{backgroundColor:e}}},mounted(){this.$emit("iniciado")}},uh=e=>(Ze("data-v-73fae921"),e=e(),Xe(),e),RF={class:"itemRepaso"},PF={id:"nombre"},DF={id:"bloqueBotones",class:"contenedorControles"},kF=uh(()=>m("img",{src:ws,alt:"Expandir"},null,-1)),OF=[kF],MF=uh(()=>m("img",{src:IF,alt:"Nodos"},null,-1)),LF=[MF],FF={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},BF=["fill"],UF={id:"zonaIteraciones"},$F={id:"listaIteraciones"},jF=uh(()=>m("img",{src:li,alt:"Plus"},null,-1)),qF=[jF];function VF(e,t,o,i,n,r){const s=Pe("iteracion-repaso"),c=Pe("loading");return J(),X("div",RF,[m("div",{id:"barraSuperior",style:Oe([r.colorBarraSuperior])},[m("div",PF,Ee(o.esteRepaso.nombreNodo),1),m("div",DF,[m("div",{class:"boton",title:"Abrir",onClick:t[0]||(t[0]=a=>e.$router.push({name:"visorNodoConocimiento",params:{idNodo:o.esteRepaso.idNodo}}))},OF),m("div",{class:"boton",title:"Ver en el atlas",onClick:t[1]||(t[1]=a=>e.$emit("centrarEnNodo"))},LF),m("div",{class:"boton",title:"Programar repasos",onClick:t[2]||(t[2]=a=>e.$emit("toggleAbierto"))},[(J(),X("svg",FF,[m("path",{d:"M256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512zM232 256C232 264 236 271.5 242.7 275.1L338.7 339.1C349.7 347.3 364.6 344.3 371.1 333.3C379.3 322.3 376.3 307.4 365.3 300L280 243.2V120C280 106.7 269.3 96 255.1 96C242.7 96 231.1 106.7 231.1 120L232 256z",fill:o.esteRepaso.porcentajeIntervaloTranscurrido>=100?"var(--atlasConocimientoRepaso)":""},null,8,BF)]))])])],4),V(m("div",UF,[m("div",$F,[(J(!0),X(Fe,null,qe(o.esteRepaso.iteracionesRepaso,(a,l)=>(J(),Ge(s,{key:a.id,primero:l===0,porcentajeIntervaloTranscurrido:o.esteRepaso.porcentajeIntervaloTranscurrido,urgente:l===0&&Date.now()>new Date(o.esteRepaso.estudiado).getTime()+a.intervalo,estaIteracion:a,idNodo:o.esteRepaso.idNodo,onMeElimine:u=>r.eliminarIteracionCache(a.id)},null,8,["primero","porcentajeIntervaloTranscurrido","urgente","estaIteracion","idNodo","onMeElimine"]))),128)),V(m("div",{class:"boton",title:"Crear nuevo repaso",id:"botonCrearIteracionRepaso",onClick:t[3]||(t[3]=(...a)=>r.crearIteracion&&r.crearIteracion(...a))},qF,512),[[K,!n.creandoIteracion]]),V(Te(c,{texto:""},null,512),[[K,n.creandoIteracion]])])],512),[[K,o.mostrarRepasos]])])}const HF=He(TF,[["render",VF],["__scopeId","data-v-73fae921"]]),zF={components:{ItemRepaso:HF},name:"VentanaRepasos",props:{yo:Object,datosNodosRepasar:Array,datosNodosUrgentes:Array},data(){return{idRepasoAbierto:null,iniciados:0,scrollIndex:null}},methods:{eliminarRepasoCache(e){const t=this.$apollo.provider.defaultClient,o=t.readQuery({query:St});var i=JSON.parse(JSON.stringify(o)),n=i.yo.atlas.repasos.findIndex(r=>r.id===e);n>-1?(i.yo.atlas.repasos.splice(n,1),t.writeQuery({query:St,data:i})):console.log("El repaso no estaba en caché")},toggleRepasoAbierto(e){e===this.idRepasoAbierto?this.idRepasoAbierto=null:this.idRepasoAbierto=e},contarIniciados(){if(this.iniciados++,console.log(`Iniciados: ${this.iniciados}`),this.iniciados===this.datosNodosRepasar.length&&(console.log("Todos completos"),this.$route.params.idRepaso)){const e=this.nodosRepasarOrdenados.findIndex(t=>t.id===this.$route.params.idRepaso);e>-1&&(this.scrollIndex=e)}}},computed:{nodosRepasarOrdenados(){var e=this.datosNodosRepasar.map(t=>{var o=new Date(t.estudiado).getTime()+t.periodoRepaso-Date.now(),i=Math.round(o*100/t.periodoRepaso),n=100-i;return n>100&&(n=100),{...t,tiempoRestanteToRepaso:o,porcentajeIntervaloRestante:i,porcentajeIntervaloTranscurrido:n}});return e.sort((t,o)=>t.tiempoRestanteToRepaso-o.tiempoRestanteToRepaso),e}},mounted(){console.log(`Montada con id repaso: ${this.$route.params.idRepaso}`),this.idRepasoAbierto=this.$route.params.idRepaso,this.scrollIndex&&setTimeout(()=>{console.log(`Scrolling into view el item ${this.scrollIndex}`),this.$refs.itemsRepaso[this.scrollIndex].$el.scrollIntoView()},500)}},n0=e=>(Ze("data-v-a9849b5d"),e=e(),Xe(),e),QF={class:"ventanaRepasos"},GF={id:"barraSuperior"},KF=n0(()=>m("div",{id:"titulo"},"Temas para repasar",-1)),WF=n0(()=>m("img",{src:zt,alt:"Equis"},null,-1)),JF=[WF],YF={id:"zonaTemas"},ZF={id:"listaTemas"};function XF(e,t,o,i,n,r){const s=Pe("item-repaso");return J(),X("div",QF,[m("div",GF,[KF,m("div",{class:"boton",id:"botonCerrar",title:"Cerrar",onClick:t[0]||(t[0]=c=>e.$router.push({name:"atlas"}))},JF)]),m("div",YF,[m("div",ZF,[(J(!0),X(Fe,null,qe(r.nodosRepasarOrdenados,c=>(J(),Ge(s,{key:c.id,ref_for:!0,ref:"itemsRepaso",esteRepaso:c,mostrarRepasos:n.idRepasoAbierto===c.id,onIniciado:r.contarIniciados,onToggleAbierto:a=>r.toggleRepasoAbierto(c.id),onMeElimine:a=>r.eliminarRepasoCache(c.id),onCentrarEnNodo:a=>e.$emit("centrarEnNodo",c.idNodo)},null,8,["esteRepaso","mostrarRepasos","onIniciado","onToggleAbierto","onMeElimine","onCentrarEnNodo"]))),128))])])])}const eB=He(zF,[["render",XF],["__scopeId","data-v-a9849b5d"]]),tB={components:{Loading:it},name:"NodoGrado",props:{esteNodo:Object,completado:Boolean,colorSubruta:String,seleccionado:Boolean,idUsuario:String},data(){return{menuCx:!1,mostrandoDescripcion:!1,togglingEstadoCompletado:!1}},computed:{colorBolita(){var e=this.colorSubruta;return this.completado&&(e="var(--atlasVerde)"),{backgroundColor:e}}},methods:{abrirDescripcion(){this.$emit("seleccioname"),this.mostrandoDescripcion=!0,this.menuCx=!1},abrirMenuCx(){this.$emit("seleccioname"),this.menuCx=!0},toggleCompletado(){if(!this.usuarioSuperadministrador&&!this.usuarioProfe){console.log("No autorizado");return}const e=!this.completado;this.togglingEstadoCompletado=!0,this.$apollo.mutate({mutation:he`
            mutation ($idUsuario: ID!, $idNodo: ID!, $nuevoEstado: Boolean!) {
              setNodoGradoCompletadoUsuario(
                idUsuario: $idUsuario
                idNodo: $idNodo
                nuevoEstado: $nuevoEstado
              ) {
                id
                nodosCompletadosRutaGrado
              }
            }
          `,variables:{idUsuario:this.idUsuario,idNodo:this.esteNodo.id,nuevoEstado:e}}).then(()=>{this.togglingEstadoCompletado=!1}).catch(t=>{console.log("Error: "+t),this.togglingEstadoCompletado=!1})}},watch:{seleccionado(e){e||(this.menuCx=!1,this.mostrandoDescripcion=!1)}}},oB=e=>(Ze("data-v-2ff4edc1"),e=e(),Xe(),e),nB={id:"cartel"},iB=oB(()=>m("img",{src:rl,alt:"Opciones",style:{}},null,-1)),rB=[iB];function sB(e,t,o,i,n,r){const s=Pe("loading");return J(),X("div",{class:ve(["nodoGrado",o.seleccionado]),onContextmenu:t[5]||(t[5]=ge((...c)=>r.abrirMenuCx&&r.abrirMenuCx(...c),["prevent"])),onDblclick:t[6]||(t[6]=ge((...c)=>r.abrirDescripcion&&r.abrirDescripcion(...c),["stop"]))},[m("div",{id:"laBolita",class:ve({seleccionado:o.seleccionado}),style:Oe([r.colorBolita])},null,6),m("div",nB,[gt(Ee(o.esteNodo.nombre)+" ",1),e.usuarioSuperadministrador||e.usuarioProfe?V((J(),X("div",{key:0,class:"boton",id:"botonOpciones",onClick:t[0]||(t[0]=ge((...c)=>r.abrirMenuCx&&r.abrirMenuCx(...c),["stop"]))},rB,512)),[[K,o.seleccionado]]):Ie("",!0)]),V(m("div",{class:"menuContextual",onClick:t[4]||(t[4]=ge(()=>{},["stop"]))},[m("div",{class:"botonMenuCx",onClick:t[1]||(t[1]=(...c)=>r.abrirDescripcion&&r.abrirDescripcion(...c))},"Ver descripción"),e.usuarioSuperadministrador?(J(),X("div",{key:0,class:"botonMenuCx",onClick:t[2]||(t[2]=c=>e.$emit("setColorSubruta"))}," Set color subruta ")):Ie("",!0),e.usuarioSuperadministrador||e.usuarioProfe?(J(),X("div",{key:1,class:ve(["botonMenuCx",{deshabilitado:n.togglingEstadoCompletado}]),onClick:t[3]||(t[3]=(...c)=>r.toggleCompletado&&r.toggleCompletado(...c))},[V(Te(s,null,null,512),[[K,n.togglingEstadoCompletado]]),gt(" "+Ee(o.completado?"Desmarcar como completado":"Marcar como completado"),1)],2)):Ie("",!0)],512),[[K,n.menuCx]]),V(m("div",{id:"descripcion"},Ee(o.esteNodo.descripcion),513),[[K,n.mostrandoDescripcion]])],34)}const aB=He(tB,[["render",sB],["__scopeId","data-v-2ff4edc1"]]),lB={components:{NodoGrado:aB},name:"RutaGrado",props:{idUsuario:String},apollo:{subrutas:{query:he`
        query {
          subrutasGradoMaestraVida {
            id
            nombre
            color
            nodos {
              id
              nombre
              descripcion
            }
          }
        }
      `,update({subrutasGradoMaestraVida:e}){return e}},nodosCompletados:{query:he`
        query ($idUsuario: ID!) {
          Usuario(idUsuario: $idUsuario) {
            id
            nodosCompletadosRutaGrado
          }
        }
      `,update({Usuario:e}){return e.nodosCompletadosRutaGrado},variables(){return{idUsuario:this.idUsuario}}}},data(){return{subrutas:[],nodosCompletados:[],idNodoSeleccionado:null,settingColorSubruta:!1}},methods:{setColorSubruta(e){let t=prompt("Introduce el código del nuevo color");this.settingColorSubruta=!0,this.$apollo.mutate({mutation:he`
          mutation($idSubruta: ID!, $nuevoColor: String!){
            setColorSubrutaGrado(idSubruta: $idSubruta, nuevoColor: $nuevoColor){
               id
               color
            }
          }
          `,variables:{idSubruta:e,nuevoColor:t}}).then(()=>{this.settingColorSubruta=!1}).catch(o=>{console.log("Error: "+o),this.settingColorSubruta=!1})}}},i0=e=>(Ze("data-v-fbf72c0b"),e=e(),Xe(),e),cB=i0(()=>m("div",{id:"titulo",class:"tituloComponente"},"Ruta de grado",-1)),uB={id:"laRutaGrado"},dB=i0(()=>m("div",{class:"lineaRuta"},null,-1));function hB(e,t,o,i,n,r){const s=Pe("nodo-grado");return J(),X("div",{class:"rutaGrado",onClick:t[0]||(t[0]=c=>n.idNodoSeleccionado=null)},[cB,m("div",uB,[(J(!0),X(Fe,null,qe(n.subrutas,c=>(J(),X("div",{class:"subruta",key:c.id},[dB,(J(!0),X(Fe,null,qe(c.nodos,a=>(J(),Ge(s,{key:a.id,esteNodo:a,completado:n.nodosCompletados.includes(a.id),colorSubruta:c.color,seleccionado:n.idNodoSeleccionado===a.id,idUsuario:o.idUsuario,onSetColorSubruta:l=>r.setColorSubruta(c.id),onClick:ge(l=>n.idNodoSeleccionado=n.idNodoSeleccionado===a.id?null:a.id,["stop"]),onSeleccioname:l=>n.idNodoSeleccionado=a.id},null,8,["esteNodo","completado","colorSubruta","seleccionado","idUsuario","onSetColorSubruta","onClick","onSeleccioname"]))),128))]))),128))])])}const r0=He(lB,[["render",hB],["__scopeId","data-v-fbf72c0b"]]);var Kc=/[^a-zA-Z0-9_ñÑ]/g;const Sv=6,Wc=4,fB={name:"LoginArea",components:{Loading:it},data(){return{username:"",password:"",loginFail:!1,loginFailMsg:"",enviandoDatos:!1}},computed:{usuarioConectado(){return this.usuario.username!=null},nombreUsuario(){return this.usuario.username},colorUsername(){return{color:Kc.test(this.username)||this.username.length<Wc?"red":"black"}},passIlegal(){return this.password.length<Sv},usernameIlegal(){return!!(!this.username||Kc.test(this.username)||this.username.length<Wc)}},methods:{iniciarSesion:function(){console.log("Iniciando login");let e=this;var t=this.$refs.inputPassword.value,o=this.$refs.inputUsername.value;if(console.log("Con pass length: "+this.password.length),this.password.length<Sv){console.log("Password ilegal");return}if(Kc.test(this.username)||this.username.length<Wc){console.log("Username ilegal");return}this.enviandoDatos=!0,console.log("query"),this.$apollo.query({query:Dt`
            query ($username: String!, $password: String!) {
              login(username: $username, password: $password)
            }
          `,variables:{username:o,password:t}}).then(({data:{login:i}})=>{this.$emit("logearse",i),e.$router.push("/"),this.enviandoDatos=!1}).catch(i=>{console.log(`Error: ${i}`),this.enviandoDatos=!1})}}},or=e=>(Ze("data-v-bcce45b1"),e=e(),Xe(),e),pB={id:"loginArea"},mB={id:"ventanaCentral"},vB=or(()=>m("p",{id:"tituloVentana"},"¡Bienvenidx!",-1)),gB=or(()=>m("br",null,null,-1)),bB=or(()=>m("div",{class:"instruccion"},"Escribe tus datos de login",-1)),yB=or(()=>m("br",null,null,-1)),wB=or(()=>m("br",null,null,-1)),EB=or(()=>m("br",null,null,-1));function AB(e,t,o,i,n,r){const s=Pe("loading");return J(),X("div",pB,[m("div",mB,[m("form",null,[vB,gB,bB,V(m("input",{type:"text",name:"username",style:Oe(r.colorUsername),"onUpdate:modelValue":t[0]||(t[0]=c=>n.username=c),ref:"inputUsername",placeholder:"Nombre de usuario",class:"inputs",onInput:t[1]||(t[1]=c=>n.loginFail=!1)},null,36),[[Ke,n.username]]),yB,V(m("input",{type:"password",name:"password",ref:"inputPassword",class:"inputs","onUpdate:modelValue":t[2]||(t[2]=c=>n.password=c),placeholder:"password",onInput:t[3]||(t[3]=c=>n.loginFail=!1),onKeypress:t[4]||(t[4]=vt((...c)=>r.iniciarSesion&&r.iniciarSesion(...c),["enter"]))},null,544),[[Ke,n.password]]),wB,EB,V(Te(s,{texto:"Conectando..."},null,8,["texto"]),[[K,n.enviandoDatos]]),m("div",{class:ve(["botonEnviar",{loginFail:n.loginFail,desaparecido:n.enviandoDatos,deshabilitado:r.passIlegal}]),onClick:t[5]||(t[5]=ge((...c)=>r.iniciarSesion&&r.iniciarSesion(...c),["stop","prevent"]))},Ee(n.loginFail?n.loginFailMsg:"Ingresar"),3)])])])}const _B=He(fB,[["render",AB],["__scopeId","data-v-bcce45b1"]]),NB=/\s\s+/,xv=6,CB=40,Ji=he`
  fragment fragPersonaAtlas on Usuario {
    id
    nombre
    username
    nombres    
    apellidos
    vinculos {
      id
      tipo
      idRef
    }
    coords {
      x
      y
    }
    responsables
    responsablesAmplio
    administradores
    fuerzaCentroMasa {
      fuerza
      direccion
    }
    fuerzaColision {
      fuerza
      direccion
    }
  }
`,SB=he`
 fragment fragRecursoExterno on RecursoExternoNodoSolidaridad{
  id
  nombre
  link
  tipo
 }
`,xB=he`
  fragment fragMovimientoDineroNodoSolidaridad on MovimientoDineroNodoSolidaridad{
    id
    fecha
    articulo,
    unidad,
    cantidad,
    movimientoUnitario,
    movimientoTotal,
    realizado
    informacion
  }
`,IB=he`
  fragment fragEventoNodoSolidaridad on EventoNodoSolidaridad{
    id    
    fecha,
    nombre,
    tipo,
    descripcion,    
  }
`,ei=he`
  fragment fragNodoSolidaridad on NodoSolidaridad{
    id
    nombre
    descripcion
    tipoNodo
    responsables
    responsablesAmplio    
    posiblesResponsables
    responsablesSolicitados
    administradores
    keywords
    tipoParent
    nodoParent
    publicitado
    recursosExternos{
      ...fragRecursoExterno
    }
    movimientosDinero{
      ...fragMovimientoDineroNodoSolidaridad
    }
    eventos{
      ...fragEventoNodoSolidaridad
    }
    coords {
        x
        y
    }
    autoCoords{
      x
      y
    }
    estadoDesarrollo
    vinculos {
        id
        idRef
        tipo        
    }
    stuck
    angulo
    centroMasa {
        x
        y
    }
    fuerzaCentroMasa{
      fuerza
      direccion
    }
    fuerzaColision{
      fuerza
      direccion  
    }
    puntaje
    nivel
    turnoNivel
    peso
  }
  ${xB}
  ${IB}
  ${SB}
`,pn=he`
    query{
      nodosSolidaridad{
        ...fragNodoSolidaridad
      }
    }
    ${ei}
    `,oa=he`
    query{
      personas{
        ...fragPersonaAtlas
      }
    }
    ${Ji}
`,TB={apollo:{nodoRoot:{query:he`
        query($idNodo: ID!, $tipoNodo: String!){
          nodoAtlasSolidaridadByIdAndTipo(idNodo:$idNodo, tipoNodo: $tipoNodo){
            nodoSolidaridad{
              ...fragNodoSolidaridad
            }
            persona{
              ...fragPersonaAtlas
            }
          }
        }
        ${ei}
        ${Ji}
      `,variables(){return{idNodo:this.idNodoRoot,tipoNodo:this.tipoNodoRoot}},skip(){return!this.idNodoRoot},update({nodoAtlasSolidaridadByIdAndTipo:e}){var t=e.nodoSolidaridad?[e.nodoSolidaridad]:[],o=e.persona?[e.persona]:[];if(!this.cacheNodosInicializado){const i=this.$apollo.provider.defaultClient;i.writeQuery({query:pn,data:{nodosSolidaridad:t}}),i.writeQuery({query:oa,data:{personas:o}}),this.cacheNodosInicializado=!0}return e.nodoSolidaridad?e.nodoSolidaridad:e.persona?e.persona:(console.log("Fallo al obtener nodoRoot"),null)}},nodosSolidaridad:{query:pn,fetchPolicy:"cache-only",skip(){return!this.nodoRoot}},personas:{query:oa,fetchPolicy:"cache-only",skip(){return!this.nodoRoot}},$subscribe:{nodoEditado:{query:he`
          subscription ($centro: CoordsInput!, $radio: Int!) {
            nodoEditado(centro: $centro, radio: $radio) {
              ...fragNodoSolidaridad
            }
          }
          ${ei}
        `,variables(){return{centro:{x:0,y:0},radio:0}},result:function({data:{nodoEditado:e}}){console.log(`nodo ${e.nombre} editado`)}},nodoEliminado:{query:he`
          subscription ($centro: CoordsInput!, $radio: Int!) {
            nodoEliminado(centro: $centro, radio: $radio)
          }
        `,variables(){return{centro:{x:0,y:0},radio:0}},result({data:{nodoEliminado:e}}){console.log(`Eliminando de cache a ${e}`),this.eliminarNodoCache(e)}},nodosEliminados:{query:he`
          subscription {
            nodosEliminados
          }
        `,result({data:{nodosEliminados:e}}){console.log(`Eliminando de cache a ${e}`),e.forEach(t=>{this.removeNodoFromNodosSolidaridad(t)})}}}},data(){return{datosYoDescargados:!1,nodosSolidaridad:[],personas:[],idsNodosEverPassedToFetchMore:[],infoNodosEverRendered:[],cacheNodosInicializado:!1}},methods:{addNodoToNodosSolidaridad(e){console.log("Adding nuevo nodo a nodosSolidaridad");const t=this.$apollo.provider.defaultClient,o=t.readQuery({query:pn});var i=JSON.parse(JSON.stringify(o));i.nodosSolidaridad.findIndex(r=>r.id===e.id)===-1&&(i.nodosSolidaridad.push(e),t.writeQuery({query:pn,data:i})),this.idNodoSeleccionado=e.id},removeNodoFromNodosSolidaridad(e){this.idNodoSeleccionado===e&&(this.idNodoSeleccionado=null);const t=this.$apollo.provider.defaultClient,o=t.readQuery({query:pn});var i=JSON.parse(JSON.stringify(o));const n=i.nodosSolidaridad.findIndex(r=>r.id===e);n>-1&&(i.nodosSolidaridad.splice(n,1),t.writeQuery({query:pn,data:i}))},fetchRelacionesNodosNeedingFetchMore:Jn(function(){this.$apollo.query({query:he`
            query($infoNodos: [InfoNodoDeAtlasSolidaridad!]!) {
              relacionesNodosAtlasByIds(infoNodos: $infoNodos) {
                  nodosSolidaridad {
                    ...fragNodoSolidaridad
                }
                  personas {
                    ...fragPersonaAtlas
                }
              }
            }
            ${ei}
            ${Ji}
            `,variables:{infoNodos:this.infoNodosNeedingFetchMore},fetchPolicy:"network-only"}).then(({data:{relacionesNodosAtlasByIds:e}})=>{this.idsNodosEverPassedToFetchMore=RB(this.idsNodosEverPassedToFetchMore.concat(this.idsNodosNeedingFetchMore));const t=this.nodosSolidaridad.map(a=>a.id),o=this.$apollo.provider.defaultClient,i=o.readQuery({query:pn});var n=JSON.parse(JSON.stringify(i));n.nodosSolidaridad||(n.nodosSolidaridad=[]),n.nodosSolidaridad.push(...e.nodosSolidaridad.filter(a=>!t.includes(a.id))),o.writeQuery({query:pn,data:n});const r=this.personas.map(a=>a.id),s=o.readQuery({query:oa});var c=JSON.parse(JSON.stringify(s));n.personas||(n.nodosSolidaridad=[]),c.personas.push(...e.personas.filter(a=>!r.includes(a.id))),o.writeQuery({query:oa,data:c})})},2e3)},computed:{indiceNodosUnder(){if(this.nodosSolidaridad.length+this.personas.length<1)return null;var e={};return this.todosNodos.forEach(t=>{let o=t.vinculos.filter(s=>s.tipo==="requiere").map(s=>s.idRef),i=this.nodosSolidaridad.filter(s=>o.includes(s.id)).sort((s,c)=>o.indexOf(s.id)-o.indexOf(c.id)),n=i.filter(s=>s.nodoParent===t.id),r=this.personas.filter(s=>t.responsables.includes(s.id));e[t.id]={nodosChildren:n,nodosRequeridos:i,responsables:r}}),e},infoNodosNeedingFetchMore(){return this.infoNodosEverRendered.filter(e=>!this.idsNodosEverPassedToFetchMore.includes(e.id))},todosNodos(){return this.nodosSolidaridad.concat(this.personas)},idsNodosNeedingFetchMore(){return this.infoNodosNeedingFetchMore.map(e=>e.id)}},watch:{idsNodosNeedingFetchMore(e){e.length>0&&this.fetchRelacionesNodosNeedingFetchMore()}}},RB=function(e){for(var t=e.concat(),o=0;o<t.length;++o)for(var i=o+1;i<t.length;++i)t[o]===t[i]&&t.splice(i--,1);return t},s0="/caracol/assets/search-f1647707.svg",di="/caracol/assets/info-75a47447.svg",PB={components:{Loading:it},name:"BuscadorNodos",props:{idNodoParent:String,listaIdsNodosRelevantes:Array},data(){return{textoBuscado:null,buscando:!1,mostrarCuadroBusqueda:!1,nodosEncontrados:[],verResultados:!1,mostrandoDescripcionDe:null}},methods:{buscar(){console.log("Iniciando búsqueda."),this.buscando=!0,this.$apollo.query({query:he`
            query ($textoBuscado: String!) {
              busquedaAmpliaNodosSolidaridad(textoBuscado: $textoBuscado) {
                id
                nombre
                tipoNodo
                descripcion
              }
            }
          `,variables:{textoBuscado:this.textoBuscado}}).then(({data:{busquedaAmpliaNodosSolidaridad:e}})=>{this.nodosEncontrados=e,this.buscando=!1,this.verResultados=!0}).catch(e=>{console.log(`Error: ${e}`),this.buscando=!1})}},computed:{nodosEncontradosRelevantes(){return this.listaIdsNodosRelevantes?this.nodosEncontrados.filter(e=>this.listaIdsNodosRelevantes.includes(e.id)):this.nodosEncontrados}}},dh=e=>(Ze("data-v-d4eb1002"),e=e(),Xe(),e),DB={id:"buscadorNodos"},kB={id:"zonaBuscador"},OB={id:"zonaResultados"},MB={id:"listaResultados"},LB=["href"],FB={class:"barraPrincipalNodo"},BB={id:"zonaIconoNodo"},UB={key:0,"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"cog",class:"svg-inline--fa fa-cog fa-w-16 iconoTipoNodo",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},$B=dh(()=>m("path",{fill:"currentColor",d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},null,-1)),jB=[$B],qB={key:1,"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"star",class:"svg-inline--fa fa-star fa-w-18 iconoTipoNodo",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},VB=dh(()=>m("path",{fill:"currentColor",d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},null,-1)),HB=[VB],zB={class:"nombre"},QB=["title","onClick"],GB=dh(()=>m("img",{src:di,alt:"Descripcion"},null,-1)),KB=[GB],WB={class:"zonaDescripcion"},JB={class:"descripcion"};function YB(e,t,o,i,n,r){const s=Pe("loading");return J(),X("div",DB,[m("div",kB,[V(m("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=c=>n.textoBuscado=c),class:ve({deshabilitado:n.buscando}),onKeypress:t[1]||(t[1]=vt((...c)=>r.buscar&&r.buscar(...c),["enter"]))},null,34),[[Ke,n.textoBuscado],[K,n.mostrarCuadroBusqueda]]),V(Te(s,{texto:""},null,512),[[K,n.buscando]]),V(m("img",{src:s0,alt:"Buscar",title:"buscar",id:"botonBuscar",onClick:t[2]||(t[2]=c=>n.mostrarCuadroBusqueda=!0)},null,512),[[K,!n.mostrarCuadroBusqueda]]),V(m("img",{src:zt,alt:"Cancelar",title:"Cancelar búsqueda",id:"botonCancelarBusqueda",onClick:t[3]||(t[3]=c=>n.mostrarCuadroBusqueda=!1)},null,512),[[K,n.mostrarCuadroBusqueda]])]),V(m("div",OB,[m("div",MB,[(J(!0),X(Fe,null,qe(r.nodosEncontradosRelevantes,c=>(J(),X("div",{class:"nodoEncontrado",key:c.id},[m("a",{href:e.clienteUrl+"/#/homeNodoSolidaridad/"+c.id},[m("div",FB,[m("div",BB,[c.tipoNodo==="trabajo"?(J(),X("svg",UB,jB)):(J(),X("svg",qB,HB))]),m("div",zB,Ee(c.nombre),1),m("div",{class:"zonaBotonesNodoResultado",onClick:t[4]||(t[4]=ge(()=>{},["stop","prevent"]))},[m("div",{class:ve(["botonVerDescripcion",{deshabilitado:!c.descripcion||c.descripcion.length<1||c.descripcion==="Sin descripcion"||c.descripcion==="Sin descripción"}]),title:n.mostrandoDescripcionDe===c.id?"Ocultar descripción del nodo":"Mostrar descripción del nodo",onClick:ge(a=>n.mostrandoDescripcionDe=n.mostrandoDescripcionDe===c.id?null:c.id,["stop","prevent"]),style:Oe({borderColor:n.mostrandoDescripcionDe===c.id?"white":"black"})},KB,14,QB)])])],8,LB),V(m("div",WB,[m("div",JB,Ee(c.descripcion),1)],512),[[K,n.mostrandoDescripcionDe===c.id]])]))),128))])],512),[[K,n.verResultados&&n.mostrarCuadroBusqueda]])])}const ZB=He(PB,[["render",YB],["__scopeId","data-v-d4eb1002"]]),a0=/[^ a-zA-ZÀ-ž0-9_():.,-]/,XB=/[^\n\r a-zA-ZÀ-ž0-9_()":;.,+¡!¿?@=-]/,e4=a0,t4=XB,o4=/[^ a-zA-Zñ0-9]/;he`
  query {
    yo {
      id
      nombre
      coords{
        x
        y
      }
      vinculos{
      id
        tipo
        idRef
      }
      fuerzaCentroMasa{
      fuerza
      direccion
    }
    fuerzaColision{
      fuerza
      direccion  
    }
      atlasSolidaridad {
        id
        coordsVista {
          x
          y
        }
        idsNodosDesplegados
      }
    }
  }
`;var n4={data(){return{enviandoQueryGeneral:!1}},methods:{eliminarse(){if(!this.usuarioSuperadministrador&&!this.usuarioAdministrador){console.log("No autorizado");return}if(!confirm("¿Confirmar eliminación de nodo? (Esta acción no puede deshacerse"))return;this.enviandoQueryGeneral=!0;const e=this;this.$apollo.mutate({mutation:he`
                  mutation ($idNodo: ID!) {
                    eliminarNodoSolidaridad(idNodo: $idNodo)
                  }
                `,variables:{idNodo:this.esteNodo.id}}).then(()=>{e.enviandoQueryGeneral=!1,this.$emit("meElimine")}).catch(t=>{console.log(`Error: ${t}`),e.enviandoQueryGeneral=!1})}}},i4={data(){return{idResponsableSeleccionado:null,enviandoQueryResponsables:!1,nuevoNombre:"Nuevo nombre",editandoNombre:!1,enviandoNuevoNombre:!1,nuevoDescripcion:"Nueva descripcion",editandoDescripcion:!1,enviandoNuevoDescripcion:!1,nuevoKeywords:null,editandoKeywords:!1,enviandoNuevoKeywords:!1,togglingEstado:!1}},methods:{guardarNuevoNombre(){if(this.nuevoNombre=this.$refs.inputNuevoNombre.value,this.nuevoNombreIlegal){console.log("No enviado");return}if(this.nuevoNombre==this.esteNodo.nombre){this.editandoNombre=!1;return}console.log("guardando nuevo nombre"),this.enviandoNuevoNombre=!0,this.$apollo.mutate({mutation:he`
                  mutation ($idNodo: ID!, $nuevoNombre: String!) {
                    editarNombreNodoSolidaridad(
                      idNodo: $idNodo
                      nuevoNombre: $nuevoNombre
                    ) {
                      id
                      nombre
                    }
                  }
                `,variables:{idNodo:this.esteNodo.id,nuevoNombre:this.nuevoNombre}}).then(()=>{this.enviandoNuevoNombre=!1,this.editandoNombre=!1}).catch(e=>{this.enviandoNuevoNombre=!1,console.log(`Error. E :${e}`)})},guardarNuevoDescripcion(){if(this.nuevoDescripcionIlegal){console.log("No enviado");return}if(this.nuevoDescripcion==this.esteNodo.descripcion){this.editandoDescripcion=!1;return}console.log("guardando nuevo descripcion"),this.enviandoNuevoDescripcion=!0,this.$apollo.mutate({mutation:he`
                  mutation ($idNodo: ID!, $nuevoDescripcion: String!) {
                    editarDescripcionNodoSolidaridad(
                      idNodo: $idNodo
                      nuevoDescripcion: $nuevoDescripcion
                    ) {
                      id
                      descripcion
                    }
                  }
                `,variables:{idNodo:this.esteNodo.id,nuevoDescripcion:this.nuevoDescripcion}}).then(()=>{this.enviandoNuevoDescripcion=!1,this.editandoDescripcion=!1}).catch(e=>{this.enviandoNuevoDescripcion=!1,console.log(`Error. E :${e}`)})},guardarNuevoKeywords(){if(this.nuevoKeywordsIlegal){console.log("Keywords ilegal");return}if(this.nuevoKeywords==this.esteNodo.keywords){this.editandoKeywords=!1;return}console.log("guardando nuevo keywords"),this.enviandoNuevoKeywords=!0,this.$apollo.mutate({mutation:he`
                  mutation ($idNodo: ID!, $nuevoKeywords: String!) {
                    editarKeywordsNodoSolidaridad(
                      idNodo: $idNodo
                      nuevoKeywords: $nuevoKeywords
                    ) {
                      id
                      keywords
                    }
                  }
                `,variables:{idNodo:this.esteNodo.id,nuevoKeywords:this.nuevoKeywords}}).then(()=>{this.enviandoNuevoKeywords=!1,this.editandoKeywords=!1}).catch(({graphQLErrors:e})=>{this.enviandoNuevoKeywords=!1,console.log(`Error. E :${e}`)})},toggleEditandoDescripcion(){this.usuarioAdministrador&&(this.$refs.inputNuevoDescripcion.style.height=this.$refs.descripcion.offsetHeight+"px",this.editandoDescripcion=!this.editandoDescripcion,this.nuevoDescripcion=this.esteNodo.descripcion,this.editandoDescripcion&&this.$nextTick(()=>{this.$refs.inputNuevoDescripcion.focus()}))},toggleEditandoKeywords(){this.usuarioAdministrador&&(this.$refs.inputNuevoKeywords.style.height=this.$refs.keywords.offsetHeight+"px",this.editandoKeywords=!this.editandoKeywords,this.nuevoKeywords=this.esteNodo.keywords,this.editandoKeywords&&this.$nextTick(()=>{this.$refs.inputNuevoKeywords.focus()}))},toggleEstadoNodo(){if(this.usuarioAdministrador){var e="noCompletado";this.esteNodo.estadoDesarrollo==="noCompletado"&&(e="completado"),this.togglingEstado=!0,this.$apollo.mutate({mutation:he`
                  mutation ($idNodo: ID!, $nuevoEstado: String!) {
                    setEstadoNodoSolidaridad(
                      idNodo: $idNodo
                      nuevoEstado: $nuevoEstado
                    ) {
                      id
                      estadoDesarrollo
                    }
                  }
                `,variables:{idNodo:this.esteNodo.id,nuevoEstado:e}}).then(()=>{this.togglingEstado=!1,console.log("toggled")}).catch(t=>{this.togglingEstado=!1,console.log(`Error: E:${t}`)})}},entrarResponsables(){console.log(`Enviando peticion de entrar a la lista de responsables del nodo con id ${this.esteNodo.id}`),this.enviandoQueryResponsables=!0,this.$apollo.mutate({mutation:he`
                  mutation ($idNodo: ID!) {
                    usuarioEntrarResponsableNodoSolidaridad(idNodo: $idNodo) {
                      id
                      responsables
                      posiblesResponsables
                    }
                  }
                `,variables:{idNodo:this.esteNodo.id}}).then(()=>{this.enviandoQueryResponsables=!1}).catch(e=>{this.enviandoQueryResponsables=!1,console.log("error: "+e)})},abandonarListaResponsables(){console.log("Abandonando la responsabilidad en este nodo"),this.enviandoQueryResponsables=!0,this.$apollo.mutate({mutation:he`
                  mutation ($idNodo: ID!, $idUsuario: ID!) {
                    removeResponsableNodoSolidaridad(
                      idNodo: $idNodo
                      idUsuario: $idUsuario
                    ) {
                      id
                      responsables
                      posiblesResponsables
                      administradores
                    }
                  }
                `,variables:{idNodo:this.esteNodo.id,idUsuario:this.usuario.id}}).then(()=>{this.enviandoQueryResponsables=!1,this.idResponsableSeleccionado=null}).catch(e=>{this.enviandoQueryResponsables=!1,console.log("error: "+e)})},retirarUsuarioFromListaResponsables(e){!this.usuarioSuperadministrador&&!this.usuarioParent||(console.log("Retirando usuario de este nodo"),this.enviandoQueryResponsables=!0,this.$apollo.mutate({mutation:he`
                  mutation ($idNodo: ID!, $idUsuario: ID!) {
                    removeResponsableNodoSolidaridad(
                      idNodo: $idNodo
                      idUsuario: $idUsuario
                    ) {
                      id
                      responsables
                      posiblesResponsables
                      administradores
                    }
                  }
                `,variables:{idNodo:this.esteNodo.id,idUsuario:e}}).then(()=>{this.enviandoQueryResponsables=!1,this.idResponsableSeleccionado=null}).catch(t=>{this.enviandoQueryResponsables=!1,console.log("error: "+t)}))},aceptarResponsable(e){console.log(`aceptando como responsable al usuario ${e}`),this.enviandoQueryResponsables=!0,this.$apollo.mutate({mutation:he`
                  mutation ($idNodo: ID!, $idUsuario: ID!) {
                    addResponsableNodoSolidaridad(
                      idNodo: $idNodo
                      idUsuario: $idUsuario
                    ) {
                      id
                      responsables
                      posiblesResponsables
                      responsablesSolicitados
                      administradores
                    }
                  }
                `,variables:{idNodo:this.esteNodo.id,idUsuario:e}}).then(()=>{this.enviandoQueryResponsables=!1,this.responsableSeleccionadoEstaAceptado=!0,this.versionCalendario++}).catch(t=>{this.enviandoQueryResponsables=!1,console.log("error: "+t)})},toggleEditandoNombre(e){!this.seleccionado&&!this.noSeleccionable||this.usuarioAdministrador&&(e.stopPropagation(),this.editandoNombre=!0,this.nuevoNombre=this.esteNodo.nombre,this.$nextTick(()=>{this.$refs.inputNuevoNombre.focus()}))},keydownInputNuevoNombre(e){e.key==="Escape"&&this.$refs.inputNuevoNombre.blur()},addResponsableManually(e){if(!this.usuarioLogeado||!this.usuario.permisos.includes("maestraVida-profesor")&&!this.usuarioSuperadministrador)return;console.log(`Adding ${e} a la lista de responsables`);const t=e;this.enviandoQueryResponsables=!0,this.$apollo.mutate({mutation:he`
                  mutation ($idNodo: ID!, $idUsuario: ID!) {
                    addResponsableNodoSolidaridad(
                      idNodo: $idNodo
                      idUsuario: $idUsuario
                    ) {
                      id
                      responsables
                      posiblesResponsables
                      responsablesSolicitados
                      administradores
                    }
                  }
                `,variables:{idNodo:this.esteNodo.id,idUsuario:t}}).then(()=>{this.enviandoQueryResponsables=!1,this.versionCalendario++}).catch(o=>{this.enviandoQueryResponsables=!1,console.log("error: "+o)})}},computed:{nuevoNombreIlegal(){return!!(this.nuevoNombre.length<1||e4.test(this.nuevoNombre))},nuevoDescripcionIlegal(){return!!(!this.nuevoDescripcion||this.nuevoDescripcion.length<1||t4.test(this.nuevoDescripcion))},nuevoKeywordsIlegal(){return!!(!this.nuevoKeywords||this.nuevoKeywords.length<1||o4.test(this.nuevoKeywords))}},watch:{mostrando(e){e!="descripcion"&&(this.editandoDescripcion=!1),e!="keywords"&&(this.editandoKeywords=!1),e==="descripcion"?(!this.esteNodo.descripcion||this.esteNodo.descripcion.length<1||this.esteNodo.descripcion==="Sin descripción"||this.esteNodo.descripcion==="Sin descripcion")&&(this.editandoDescripcion||this.toggleEditandoDescripcion()):e==="keywords"&&(!this.esteNodo.keywords||this.esteNodo.keywords.length<1)&&(this.editandoKeywords||this.toggleEditandoKeywords())}}},r4={computed:{usuarioResponsable(){return!this.usuarioLogeado||!this.usuario||!this.usuario.id?!1:this.esteNodo.responsables&&this.esteNodo.responsables.includes(this.usuario.id)},usuarioResponsableAmplio(){return!this.usuarioLogeado||!this.usuario||!this.usuario.id?!1:this.esteNodo.responsablesAmplio&&this.esteNodo.responsablesAmplio.includes(this.usuario.id)},usuarioPosibleResponsable:function(){return this.esteNodo.posiblesResponsables?!!this.esteNodo.posiblesResponsables.includes(this.usuario.id):!1},usuarioAdministrador(){return!this.usuario||!this.usuario.id?!1:this.esteNodo.administradores.includes(this.usuario.id)},usuarioParent(){return this.usuarioLogeado?this.esteNodo.tipoParent==="usuario"&&this.esteNodo.nodoParent===this.usuario.id:!1}}},s4={data(){return{creandoSubNodo:!1,enviandoEditVinculos:!1}},methods:{crearRequerimento(e,t,o){console.log(`Se fijara que ${e} requiere a ${o}`),this.enviandoEditVinculos=!0,this.$apollo.mutate({mutation:he`
            mutation ($idNodoRequiriente: ID!, $tipoRequiriente: String!, $idNodoRequerido: ID!) {
              crearRequerimentoEntreNodosAtlasSolidaridad(
                idNodoRequiriente: $idNodoRequiriente
                tipoRequiriente:$tipoRequiriente
                idNodoRequerido: $idNodoRequerido
              ) {
                nodosModificados{
                  __typename
                  id
                  vinculos {
                    id
                    idRef
                    tipo                
                  }
                  administradores
                  nodoParent
                }
                usuariosModificados{
                  id
                  vinculos {
                    id
                    idRef
                    tipo                
                  }
                }
                
              }
            }
          `,variables:{idNodoRequiriente:e,tipoRequiriente:t,idNodoRequerido:o}}).then(()=>{this.enviandoEditVinculos=!1}).catch(i=>{this.enviandoEditVinculos=!1,console.log(`Error: ${i}`)})},crearParenting(e,t,o){if(!this.usuarioSuperadministrador){console.log("Opción exclusiva de súperadministrador");return}console.log(`Se fijara que ${e} es parent de ${o}`),this.$apollo.mutate({mutation:he`
            mutation ($idNodoRequiriente: ID!, $tipoRequiriente:String!, $idNodoRequerido: ID!) {
              crearParentingEntreNodosAtlasSolidaridad(
                idNodoRequiriente: $idNodoRequiriente
                tipoRequiriente: $tipoRequiriente
                idNodoRequerido: $idNodoRequerido
              ) {
                nodosModificados{
                  id
                  vinculos {
                    id
                    idRef
                    tipo                
                  }
                  administradores
                  nodoParent
                }
                usuariosModificados{
                  id
                  vinculos {
                    id
                    idRef
                    tipo                
                  }
                }
              }
            }
          `,variables:{idNodoRequiriente:e,tipoRequiriente:t,idNodoRequerido:o}})},eliminarRequerimento(e,t,o){console.log(`Se eliminará el requerimento entre el nodo ${e} de tipo ${t} y el nodo ${o}`),this.enviandoEditVinculos=!0,this.$apollo.mutate({mutation:he`
            mutation ($idNodoRequiriente: ID!, $tipoRequiriente:String!, $idNodoRequerido: ID!) {
              deleteRequerimentoNodosAtlasSolidaridad(
                idNodoRequiriente: $idNodoRequiriente
                tipoRequiriente: $tipoRequiriente
                idNodoRequerido: $idNodoRequerido
              ) {
                  nodosModificados{
                    id
                    vinculos {
                      id
                      idRef
                      tipo                
                    }
                    administradores
                    nodoParent
                  }
                  usuariosModificados{
                    id
                    vinculos {
                      id
                      idRef
                      tipo                
                    }                                        
                  }              
              }
            }
          `,variables:{idNodoRequiriente:e,tipoRequiriente:t,idNodoRequerido:o}}).then(()=>{this.enviandoEditVinculos=!1}).catch(i=>{console.log(`Error: ${i}`),this.enviandoEditVinculos=!1})},afterCrearNodoUnder(e){this.$emit("nodoSolidaridadCreado",e)},crearNuevoNodoUnder(e){console.log(`Creando nodo under ${this.esteNodo.__typename}`),this.creandoSubNodo=!0,this.$apollo.mutate({mutation:he`
            mutation ($infoNodo: NodoSolidaridadInput!, $idNodoParent: ID!, $tipoParent:String!) {
              crearNuevoNodoSolidaridadUnderNodo(
                infoNodo: $infoNodo
                idNodoParent: $idNodoParent
                tipoParent:$tipoParent
              ) {
                nuevoNodo{
                  ...fragNodoSolidaridad
                }
                nodosModificados{
                  ...fragNodoSolidaridad                      
                }
                usuariosModificados{
                  ...fragPersonaAtlas
                }
              }
            }
            ${ei}
            ${Ji}
          `,variables:{infoNodo:e,idNodoParent:this.esteNodo.id,tipoParent:this.esteNodo.__typename.charAt(0).toLowerCase()+this.esteNodo.__typename.slice(1)}}).then(({data:{crearNuevoNodoSolidaridadUnderNodo:t}})=>{this.creandoSubNodo=!1,this.afterCrearNodoUnder(t.nuevoNodo)}).catch(t=>{this.creandoSubNodo=!1,console.log(`Error: ${t}`)})}}},a4={computed:{colorIcono(){return this.esteNodo.estadoDesarrollo==="completado"?"#2c710c":this.usuarioResponsableAmplio?"var(--atlasMorado)":this.usuarioAdministrador?"var(--atlasParent)":"black"}}};const l4="/caracol/assets/lapiz-cfa999ee.svg",c4="/caracol/assets/uploadCloud-381d952d.svg",u4={components:{Loading:it},name:"RecursoExternoNodo",props:{esteRecurso:Object,seleccionado:Boolean,usuarioResponsableAmplio:Boolean,idNodo:String},data(){return{nuevoNombre:"Nuevo nombre",enviandoNuevoNombre:!1,nuevoLink:null,enviandoNuevoLink:!1,editandoRecurso:!1,eliminando:!1,settingTarget:null}},computed:{nuevoNombreIlegal(){return!!(this.nuevoNombre.length<1||a0.test(this.nuevoNombre))},nuevoLinkIlegal(){return this.nuevoLink.length<5}},methods:{clickEnRecurso(){this.editandoRecurso||this.esteRecurso.tipo==="enlace"&&window.open(this.esteRecurso.link,"_blank")},guardarNuevoNombre(){if(this.nuevoNombre=this.$refs.inputNuevoNombre.value,this.nuevoNombreIlegal){console.log("No enviado");return}if(this.nuevoNombre==this.esteRecurso.nombre){this.editando;return}console.log("guardando nuevo nombre"),this.enviandoNuevoNombre=!0,this.$apollo.mutate({mutation:he`
            mutation (
              $idNodo: ID!
              $idRecursoExterno: ID!
              $nuevoNombre: String!
            ) {
              editarNombreRecursoExternoNodoSolidaridad(
                idNodo: $idNodo
                idRecursoExterno: $idRecursoExterno
                nuevoNombre: $nuevoNombre
              ) {
                id
                nombre
              }
            }
          `,variables:{idNodo:this.idNodo,idRecursoExterno:this.esteRecurso.id,nuevoNombre:this.nuevoNombre}}).then(()=>{this.enviandoNuevoNombre=!1,this.editandoRecurso=!1}).catch(e=>{this.enviandoNuevoNombre=!1,console.log(`Error. E :${e}`)})},guardarNuevoLink(){if(this.nuevoLinkIlegal){console.log("No enviado");return}this.nuevoLink!=this.esteRecurso.link&&(console.log("guardando nuevo link"),this.enviandoNuevoLink=!0,this.$apollo.mutate({mutation:he`
            mutation (
              $idNodo: ID!
              $idRecursoExterno: ID!
              $nuevoLink: String!
            ) {
              editarLinkRecursoExternoNodoSolidaridad(
                idNodo: $idNodo
                idRecursoExterno: $idRecursoExterno
                nuevoLink: $nuevoLink
              ) {
                id
                link
              }
            }
          `,variables:{idNodo:this.idNodo,idRecursoExterno:this.esteRecurso.id,nuevoLink:this.nuevoLink}}).then(()=>{this.enviandoNuevoLink=!1,this.settingTarget=null}).catch(e=>{this.enviandoNuevoLink=!1,console.log(`Error. E :${e}`)}))},iniciarEditandoRecurso(){this.nuevoNombre=this.esteRecurso.nombre,this.editandoRecurso=!0},eliminarse(){confirm("¿Confirmar la eliminación de este elemento? (Esta acción no puede deshacerse)")&&(this.eliminando=!0,this.$apollo.mutate({mutation:he`
            mutation ($idNodo: ID!, $idRecursoExterno: ID!) {
              eliminarRecursoExternoNodoSolidaridad(
                idNodo: $idNodo
                idRecursoExterno: $idRecursoExterno
              )
            }
          `,variables:{idNodo:this.idNodo,idRecursoExterno:this.esteRecurso.id}}).then(()=>{this.eliminando=!1,this.$emit("meElimine")}).catch(e=>{console.log(`Error: ${e}`),this.eliminando=!1}))},iniciarInputLink(){this.settingTarget="link",this.$nextTick(()=>{this.$refs.inputNuevoLink.focus()})}},watch:{settingTarget(e,t){e==="link"&&t!="link"&&(this.nuevoLink=this.esteRecurso.link,this.$refs.inputNuevoLink.focus())},editandoRecurso(e){e||(this.settingTarget=null)}}},l0=e=>(Ze("data-v-e79947a2"),e=e(),Xe(),e),d4={key:0,id:"iconoTipoRecurso",src:ms},h4={key:1,id:"iconoTipoRecurso",src:vs},f4={id:"zonaNombre"},p4={id:"zonaBotonesControl"},m4={id:"zonaEdicionRecurso"},v4={id:"bloqueBotonesSetTarget"},g4=l0(()=>m("img",{src:c4,alt:"Upload"},null,-1)),b4=[g4],y4=l0(()=>m("img",{src:ms,alt:"Enlace"},null,-1)),w4=[y4],E4={id:"zonaInputNuevoLink"};function A4(e,t,o,i,n,r){const s=Pe("loading");return J(),X("div",{class:ve(["recursoExternoNodo",{deshabilitado:n.eliminando,editandose:n.editandoRecurso}])},[m("div",{id:"barraSuperior",onClick:t[6]||(t[6]=(...c)=>r.clickEnRecurso&&r.clickEnRecurso(...c))},[o.esteRecurso.tipo==="enlace"?(J(),X("img",d4)):(J(),X("img",h4)),m("div",f4,[V(m("input",{onKeypress:t[0]||(t[0]=vt(ge((...c)=>r.guardarNuevoNombre&&r.guardarNuevoNombre(...c),["prevent"]),["enter"])),ref:"inputNuevoNombre","onUpdate:modelValue":t[1]||(t[1]=c=>n.nuevoNombre=c),type:"text",class:ve(["inputNuevoNombre inputNombreCosa",{deshabilitado:n.enviandoNuevoNombre}]),onClick:t[2]||(t[2]=ge(()=>{},["stop"]))},null,34),[[Ke,n.nuevoNombre],[K,n.editandoRecurso]]),V(m("div",{id:"elNombre"},Ee(o.esteRecurso.nombre),513),[[K,!n.editandoRecurso]])]),V(m("div",p4,[V(m("img",{src:l4,alt:"Editar",title:"Editar recurso",onClick:t[3]||(t[3]=ge((...c)=>r.iniciarEditandoRecurso&&r.iniciarEditandoRecurso(...c),["stop"])),class:"botonControl"},null,512),[[K,!n.editandoRecurso]]),V(m("img",{src:zt,alt:"Cancelar",title:"Cancelar edición",onClick:t[4]||(t[4]=ge(c=>n.editandoRecurso=!1,["stop"])),class:"botonControl"},null,512),[[K,n.editandoRecurso]]),V(m("img",{src:Dn,alt:"Eliminar",title:"Eliminar recurso",class:"botonControl",onClick:t[5]||(t[5]=ge((...c)=>r.eliminarse&&r.eliminarse(...c),["stop"]))},null,512),[[K,!n.editandoRecurso]])],512),[[K,o.usuarioResponsableAmplio]]),V(Te(s,{texto:""},null,512),[[K,n.eliminando]])]),V(m("div",m4,[m("div",v4,[m("div",{class:"boton botonSetTarget",style:Oe([{borderColor:n.settingTarget==="file"?"white":"transparent"}]),title:"Subir archivo"},b4,4),m("div",{class:"boton botonSetTarget",onClick:t[7]||(t[7]=ge((...c)=>r.iniciarInputLink&&r.iniciarInputLink(...c),["stop"])),style:Oe([{borderColor:n.settingTarget==="link"?"white":"transparent"}]),title:"Introducir enlace"},w4,4)]),m("div",E4,[V(m("input",{ref:"inputNuevoLink",onClick:t[8]||(t[8]=ge(()=>{},["stop"])),onKeypress:t[9]||(t[9]=vt((...c)=>r.guardarNuevoLink&&r.guardarNuevoLink(...c),["enter"])),type:"text",placeholder:"Introduce el enlace",class:ve(["inputNuevoLink",{deshabilitado:n.enviandoNuevoLink}]),style:{width:"90%"},"onUpdate:modelValue":t[10]||(t[10]=c=>n.nuevoLink=c)},null,34),[[K,n.settingTarget==="link"],[Ke,n.nuevoLink]])])],512),[[K,n.editandoRecurso]])],2)}const _4=He(u4,[["render",A4],["__scopeId","data-v-e79947a2"]]),hi=Dt`
fragment fragEventoPersonal on EventoPersonal{
  id
  idPersona
  idsParticipantes
  idParent
  tipoParent
  nombre
  descripcion
  horarioInicio
  horarioFinal
  idEventoMarco
  lugar  

}
`,nr=Dt`
fragment fragEventoPublico on EventoPublico{
  id
  nombre
  descripcion
  idAdministrador
  limiteDeCupos
  horarioInicio
  horarioFinal
  participantes
  lugar
  idParent
  tipoParent
  eventosEnmarcados{
    ...fragEventoPersonal
    nombresPersona
  }
}
${hi}
`,Iv=["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sábado"],Tv=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],Es={data(){return{}},computed:{tipoEvento(){return this.esteEvento.__typename.charAt(0).toLowerCase()+this.esteEvento.__typename.slice(1)},dateInicio(){return new Date(this.esteEvento.horarioInicio)},fechaInicioFormateada(){return this.dateInicio.toISOString().split("T")[0]},fechaFinalFormateada(){return this.dateFinal.toISOString().split("T")[0]},dateFinal(){return new Date(this.esteEvento.horarioFinal)},horarioInicioFormateado(){return this.timesLegibles.horarioInicio.horas+":"+this.timesLegibles.horarioInicio.minutos},horarioFinalFormateado(){return this.timesLegibles.horarioFinal.horas+":"+this.timesLegibles.horarioFinal.minutos},fechaInicioLegible(){const e=Iv[this.dateInicio.getDay()],t=this.dateInicio.getDate(),o=Tv[this.dateInicio.getMonth()];return e+" "+t+" de "+o},horaInicioLegible(){var e=this.dateInicio.getHours(),t=this.dateInicio.getMinutes();return(""+e).length<2&&(e="0"+e),(""+t).length<2&&(t="0"+t),e+":"+t},dateInicioLegible(){return this.fechaInicioLegible+", "+this.horaInicioLegible},fechaFinalLegible(){const e=Iv[this.dateFinal.getDay()],t=this.dateFinal.getDate(),o=Tv[this.dateFinal.getMonth()];return e+" "+t+" de "+o},horaFinalLegible(){var e=this.dateFinal.getHours(),t=this.dateFinal.getMinutes();return(""+e).length<2&&(e="0"+e),(""+t).length<2&&(t="0"+t),e+":"+t},dateFinalLegible(){return this.fechaFinalLegible+", "+this.horaFinalLegible},timesLegibles(){const e=this.millisInicioLocal%864e5,t=this.millisFinalLocal%864e5;return{horarioInicio:{horas:Math.floor(e/36e5),minutos:e%36e5/6e4},horarioFinal:{horas:Math.floor(t/36e5),minutos:t%36e5/6e4}}},millisFinalLocal(){const e=new Date(this.esteEvento.horarioFinal),t=e.getTime(),o=e.getTimezoneOffset()*6e4;return t-o},millisInicioLocal(){const e=new Date(this.esteEvento.horarioInicio),t=e.getTime(),o=e.getTimezoneOffset()*6e4;return t-o},duracionMinutos(){return Math.round((new Date(this.esteEvento.horarioFinal).getTime()-new Date(this.esteEvento.horarioInicio).getTime())/6e4)},duracionLegible(){const e=Math.floor(this.duracionMinutos/1440),t=Math.floor((this.duracionMinutos-e*1440)/60),o=this.duracionMinutos-e*1440-t*60;var i="";return(o>0||this.duracionMinutos===0)&&(i=o+"min"),t>0&&(i.length>0&&(i=", "+i),i=t+"h"+i),e>0&&(i.length>0&&(i=", "+i),i=e+"dias"+i),i}},methods:{eliminarse(){confirm("¿Confirmar la eliminación de este evento? (Esta acción no puede deshacerse)")&&(!this.administrador&&!this.usuarioSuperadministrador&&!this.usuarioProfe||(this.eliminandose=!0,this.$apollo.mutate({mutation:he`
                  mutation ($idEvento: ID!, $tipoEvento:String!) {
                    eliminarEvento(idEvento: $idEvento, tipoEvento:$tipoEvento)
                  }
                `,variables:{idEvento:this.esteEvento.id,tipoEvento:this.tipoEvento}}).then(()=>{this.$emit("meElimine")}).catch(e=>{console.log(`Error: ${e}`)})))}}},hh={data(){return{}},computed:{administrador(){return this.usuarioLogeado?this.usuario.id===this.esteEvento.idAdministrador:!1}}},N4={data(){return{}},computed:{administrador(){return this.usuarioLogeado?this.usuario.id===this.esteEvento.idPersona:!1}}},As={data(){return{nuevoNombre:"Nuevo nombre",editandoNombre:!1,enviandoNuevoNombre:!1,nuevoDescripcion:"Nueva descripcion",editandoDescripcion:!1,enviandoNuevoDescripcion:!1,editandoFechaInicio:!1,editandoHoraInicio:!1,nuevoDuracion:null,enviandoNuevoDateInicio:!1,enviandoNuevoDateFinal:!1,enviandoHorarios:!1,enviandoSomeHorario:!1,nuevoLimiteDeCupos:null,editandoLimiteDeCupos:!1,enviandoNuevoLimiteDeCupos:!1,minRepetir:1,maxRepetir:52,enviandoQueryRepetir:!1}},methods:{guardarNuevoNombre(){if(this.nuevoNombre=this.$refs.inputNuevoNombre.value,this.nuevoNombreIlegal){console.log("No enviado");return}if(this.nuevoNombre==this.esteEvento.nombre){this.editandoNombre=!1;return}console.log("guardando nuevo nombre"),this.enviandoNuevoNombre=!0,this.$apollo.mutate({mutation:he`
                  mutation ($idEvento: ID!, $tipoEvento:String!, $nuevoNombre: String!) {
                    editarNombreEvento(
                      idEvento: $idEvento
                      tipoEvento:$tipoEvento
                      nuevoNombre: $nuevoNombre
                    ) {
                    __typename
                    ... on EventoPersonal{
                        id
                      nombre
                    }
                    ... on EventoPublico{
                        id
                        nombre
                    }
                    
                    }
                  }
                `,variables:{idEvento:this.esteEvento.id,tipoEvento:this.tipoEvento,nuevoNombre:this.nuevoNombre}}).then(()=>{this.enviandoNuevoNombre=!1,this.editandoNombre=!1}).catch(e=>{this.enviandoNuevoNombre=!1,console.log(`Error. E :${e}`)})},guardarNuevoLimiteDeCupos(){if(this.nuevoLimiteDeCupos=this.$refs.inputNuevoLimiteDeCupos.value,this.nuevoLimiteDeCuposIlegal){console.log("No enviado");return}if(this.nuevoLimiteDeCupos==this.esteEvento.limiteDeCupos){this.editandoLimiteDeCupos=!1;return}console.log("guardando nuevo limite de cupos"),this.enviandonuevoLimiteDeCupos=!0,this.$apollo.mutate({mutation:he`
                  mutation ($idEvento: ID!, $tipoEvento:String!, $nuevoLimiteDeCupos: Int!) {
                    editarLimiteDeCuposEvento(
                      idEvento: $idEvento
                      tipoEvento:$tipoEvento
                      nuevoLimiteDeCupos: $nuevoLimiteDeCupos
                    ) {
                        id
                      limiteDeCupos                                      
                    }
                  }
                `,variables:{idEvento:this.esteEvento.id,tipoEvento:this.tipoEvento,nuevoLimiteDeCupos:parseInt(this.nuevoLimiteDeCupos)}}).then(()=>{this.enviandoNuevoLimiteDeCupos=!1,this.editandoLimiteDeCupos=!1}).catch(e=>{this.enviandoNuevoLimiteDeCupos=!1,console.log(`Error. E :${e}`)})},guardarNuevoDescripcion(){if(this.nuevoDescripcionIlegal){console.log("No enviado");return}if(this.nuevoDescripcion==this.esteEvento.descripcion){this.editandoDescripcion=!1;return}console.log("guardando nuevo descripcion"),this.enviandoNuevoDescripcion=!0,this.$apollo.mutate({mutation:he`
                  mutation ($idEvento: ID!, $tipoEvento:String!, $nuevoDescripcion: String!) {
                    editarDescripcionEvento(
                      idEvento: $idEvento
                      tipoEvento: $tipoEvento
                      nuevoDescripcion: $nuevoDescripcion
                    ) {
                        __typename
                        ... on EventoPublico{
                            id
                            descripcion  
                        }
                        ... on EventoPersonal{
                            id
                            descripcion  
                        }
                      
                    }
                  }
                `,variables:{idEvento:this.esteEvento.id,tipoEvento:this.tipoEvento,nuevoDescripcion:this.nuevoDescripcion}}).then(()=>{this.enviandoNuevoDescripcion=!1,this.editandoDescripcion=!1}).catch(e=>{this.enviandoNuevoDescripcion=!1,console.log(`Error. E :${e}`)})},toggleEditandoDescripcion(){this.administrador&&(this.$refs.inputNuevoDescripcion.style.height=this.$refs.descripcion.offsetHeight+"px",this.editandoDescripcion=!this.editandoDescripcion,this.nuevoDescripcion=this.esteEvento.descripcion,this.editandoDescripcion&&this.$nextTick(()=>{this.$refs.inputNuevoDescripcion.focus()}))},toggleEditandoNombre(e){this.administrador&&(e.stopPropagation(),this.editandoNombre=!0,this.nuevoNombre=this.esteEvento.nombre,this.$nextTick(()=>{this.$refs.inputNuevoNombre.focus()}))},toggleEditandoLimiteDeCupos(e){this.administrador&&(e.stopPropagation(),this.editandoLimiteDeCupos=!0,this.nuevoLimiteDeCupos=this.esteEvento.limiteDeCupos,this.$nextTick(()=>{this.$refs.inputNuevoLimiteDeCupos.focus()}))},keydownInputNuevoNombre(e){e.key==="Escape"&&this.$refs.inputNuevoNombre.blur()},setHoraFinal(){var e="hh:mm";this.horaFinalLegible&&(e=this.horaFinalLegible);var t=prompt("Introducir nueva hora de finalización",e);const o=t.indexOf(":"),i=parseInt(t.substr(0,o)),n=parseInt(t.substr(o+1));if(i!=null&&n!=null&&i>=0&&i<24&&n>=0&&n<60){var r=new Date(this.diaCalendarioOver.date);r.setHours(i),r.setMinutes(n),console.log("Se fijará la nueva hora de final en "+r),this.enviarNuevoHorarioFinal(r)}else{console.log("Hora inválida");return}},setHoraInicio(){var e="hh:mm";this.horaInicioLegible&&(e=this.horaInicioLegible);var t=prompt("Introducir nueva hora de inicio",e);const o=t.indexOf(":"),i=parseInt(t.substr(0,o)),n=parseInt(t.substr(o+1));if(i!=null&&n!=null&&i>=0&&i<24&&n>=0&&n<60){var r=new Date(this.diaCalendarioOver.date);r.setHours(i),r.setMinutes(n),console.log("Se fijará la nueva hora de inicio en "+r),this.enviarNuevaDateInicioHoldDuration(r)}else{console.log("Hora inválida");return}},enviarNuevaDateInicioHoldDuration(e){this.enviandoNuevoDateInicio=!0,this.enviandoSomeHorario=!0,this.$apollo.mutate({mutation:he`
                  mutation ($nuevoDate: Date!, $tipoEvento: String!, $idEvento: ID!) {
                    setDateInicioEventoHoldDuration(
                      nuevoDate: $nuevoDate
                      tipoEvento: $tipoEvento
                      idEvento: $idEvento
                    ) {
                      __typename
                      ... on EventoPersonal{
                        id
                        horarioInicio
                        horarioFinal
                      }
                      ... on EventoPublico{
                        id
                        horarioInicio
                        horarioFinal
                      }
                      
                    }
                  }
                `,variables:{nuevoDate:e,tipoEvento:this.tipoEvento,idEvento:this.esteEvento.id}}).then(()=>{this.$emit("eventoCambioFecha",this.esteEvento),this.enviandoSomeHorario=!1,this.enviandoNuevoDateInicio=!1,this.editandoFechaInicio=!1,this.editandoHoraInicio=!1}).catch(t=>{console.log(`Error: ${t}`),this.enviandoNuevoDateInicio=!1,this.enviandoSomeHorario=!1})},enviarNuevoHorarioFinal(e){this.enviandoNuevoDateFinal=!0,this.enviandoSomeHorario=!0,console.log(`Enviando nuevo horario final: ${e}`),this.$apollo.mutate({mutation:he`
                    mutation ($nuevoDate: Date!, $tipoEvento: String!, $idEvento: ID!) {
                        setDateFinalEvento(
                        nuevoDate: $nuevoDate
                        tipoEvento: $tipoEvento
                        idEvento: $idEvento
                        ){
                                __typename
                            ... on EventoPersonal{
                                id
                                horarioInicio
                                horarioFinal
                            }
                            ... on EventoPublico{
                                id
                                horarioInicio
                                horarioFinal
                            }
                        }
                  }
                `,variables:{nuevoDate:e,tipoEvento:this.esteEvento.__typename.charAt(0).toLowerCase()+this.esteEvento.__typename.slice(1),idEvento:this.esteEvento.id}}).then(()=>{this.enviandoNuevoDateFinal=!1,this.enviandoSomeHorario=!1,this.editandoDuracion=!1}).catch(t=>{console.log(`Error: ${t}`),this.enviandoNuevoDateFinal=!1,this.enviandoSomeHorario=!1})},iniciarEdicionDuracion(){this.nuevoDuracion=this.esteEvento.horarioFinal-this.esteEvento.horarioInicio,this.editandoDuracion=!0},repetirEvento(e,t){!this.usuarioSuperadministrador&&!this.administrador||(e=parseInt(e),!(e<this.minRepetir||e>this.maxRepetir)&&(console.log(`Se hara query de repetir este evento ${e} veces ${t}`),this.enviandoQueryRepetir=!0,this.$apollo.mutate({mutation:he`
                mutation($periodoRepetir: String, $cantidadRepetir: Int!, $idEvento:ID!, $tipoEvento:String!){
                  repetirEventoPeriodicamente(periodoRepetir:$periodoRepetir, cantidadRepetir: $cantidadRepetir, idEvento: $idEvento, tipoEvento:$tipoEvento){
                    __typename
                    ...on EventoPublico{
                        ...fragEventoPublico
                    }
                    ...on EventoPersonal{
                        ...fragEventoPersonal
                    }
                  }
                } 
                ${nr}
                ${hi}
              `,variables:{periodoRepetir:t,cantidadRepetir:e,idEvento:this.esteEvento.id,tipoEvento:this.tipoEvento}}).then(({data:{repetirEventoPeriodicamente:o}})=>{o&&(this.$emit("meRepetiPeriodicamente",o),this.mostrandoZonaRepetir=!1),this.enviandoQueryRepetir=!1}).catch(o=>{console.log(`Error: ${o}`),this.enviandoQueryRepetir=!1})))}},computed:{nuevoNombreIlegal(){return!!(this.nuevoNombre.length<1||ps.test(this.nuevoNombre))},nuevoDescripcionIlegal(){return!!(!this.nuevoDescripcion||this.nuevoDescripcion.length<1||Ey.test(this.nuevoDescripcion))},nuevoLimiteDeCuposIlegal(){return!this.nuevoLimiteDeCupos||this.nuevoLimiteDeCupos<1}},watch:{mostrando(e){e!="descripcion"&&(this.editandoDescripcion=!1),e==="descripcion"&&(!this.esteEvento.descripcion||this.esteEvento.descripcion.length<1)&&(this.editandoDescripcion||this.toggleEditandoDescripcion())}}},c0={data(){return{}},methods:{}},u0={props:{idEventoSeleccionado:String,esteEvento:Object,horaPx:Number,seleccionado:Boolean,infoOffset:Object,diaCalendarioOver:Object,enfasis:String,idUsuarioTarget:String},data(){return{eliminandose:!1,recogido:!1}},computed:{duracionMinutos(){return(this.dateFinal.getTime()-this.dateInicio.getTime())/6e4},estiloSize(){return{width:this.duracionMinutos/60*this.horaPx+"px"}},estiloPos(){return{left:(this.dateInicio.getHours()*36e5+this.dateInicio.getMinutes()*6e4)/36e5*this.horaPx+"px",top:this.infoOffset?this.infoOffset.top+"px":"0px"}},estiloZ(){return{zIndex:this.seleccionado?10:0}},claseOffset(){return this.infoOffset.clase}},methods:{},watch:{dateInicio(e){console.log(`Cambio de date inicio. Ahora inicio en ${e}`),(e<this.diaCalendarioOver.date||e.getTime()>this.diaCalendarioOver.date.getTime()+864e5)&&(console.log(`${this.esteEvento.nombre} dice: Me cambiaron de día`),this.$emit("meCambiaronDia",this.esteEvento))}}},d0={data(){return{mostrando:null,esteEvento:{},editandoDateInicio:!1,editandoHorarioFinal:!1,editandoDuracion:!1,mostrandoZonaRepetir:!1,periodoRepetir:"diariamente",cantidadRepetir:1}},methods:{cerrarVentana(){const e=this.tipoEvento==="eventoPublico"?this.$route.path.search("ventanaEventoPublico"):this.tipoEvento==="eventoPersonal"?this.$route.path.search("ventanaEventoPersonal"):null;if(!e)return;const t=this.$route.path.substring(0,e-1);this.$router.push(t)},iniciarEdicionFechaInicio(){!this.administrador&&!this.usuarioSuperadministrador&&!this.usuarioProfe||(console.log(`Iniciando edicion de fecha inicio con ${this.fechaInicioString}`),this.$refs.inputFechaInicio.value=this.fechaInicioFormateada,this.editandoFechaInicio=!0,this.$nextTick(()=>{this.$refs.inputFechaInicio.focus()}))},iniciarEdicionHoraInicio(){!this.administrador&&!this.usuarioSuperadministrador&&!this.usuarioProfe||(this.$refs.inputHoraInicio.value=this.horaInicioLegible,this.editandoHoraInicio=!0,this.$nextTick(()=>{this.$refs.inputHoraInicio.focus()}))},iniciarEdicionDuracion(){!this.administrador&&!this.usuarioSuperadministrador&&!this.usuarioProfe||(console.log(`Iniciando edicion de duración con ${this.duracionMinutos}`),this.$refs.inputDuracion.value=this.duracionMinutos,this.editandoDuracion=!0,this.$nextTick(()=>{this.$refs.inputDuracion.focus()}))},updateDuracion(e){console.log(`Updating duración to ${e} minutos`);const t=new Date(this.dateInicio.getTime()+e*6e4);this.enviarNuevoHorarioFinal(t)},enviarNuevoHorarioFinal(e){this.enviandoNuevoDateFinal=!0,this.enviandoSomeHorario=!0,console.log(`Enviando nuevo horario final: ${e}`),this.$apollo.mutate({mutation:he`
                    mutation ($nuevoDate: Date!, $tipoEvento: String!, $idEvento: ID!) {
                        setDateFinalEvento(
                        nuevoDate: $nuevoDate
                        tipoEvento: $tipoEvento
                        idEvento: $idEvento
                        ){
                                __typename
                            ... on EventoPersonal{
                                id
                                horarioInicio
                                horarioFinal
                            }
                            ... on EventoPublico{
                                id
                                horarioInicio
                                horarioFinal
                            }
                        }
                  }
                `,variables:{nuevoDate:e,tipoEvento:this.esteEvento.__typename.charAt(0).toLowerCase()+this.esteEvento.__typename.slice(1),idEvento:this.esteEvento.id}}).then(()=>{this.enviandoNuevoDateFinal=!1,this.enviandoSomeHorario=!1,this.editandoDuracion=!1}).catch(t=>{console.log(`Error: ${t}`),this.enviandoNuevoDateFinal=!1,this.enviandoSomeHorario=!1})},updateHorarioInicio(e){const t=e.target.value,o=parseInt(t.substring(0,2)),i=parseInt(t.substring(3));console.log(`nuevoTime: ${t}. ${o} horas y ${i} minutos`);const n=new Date(this.esteEvento.horarioFinal);var r=new Date(this.esteEvento.horarioInicio);console.log(`Actual date: ${r}`),r.setHours(o),r.setMinutes(i),console.log(`Nueva date inicio: ${r}`),!(r>n)&&(this.enviandoNuevoDateInicio=!0,this.$apollo.mutate({mutation:he`
                  mutation ($nuevoDate: Date!, $tipoEvento: String!, $idEvento: ID!) {
                    setDateInicioEvento(
                      nuevoDate: $nuevoDate
                      tipoEvento: $tipoEvento
                      idEvento: $idEvento
                    ){
                        __typename
                      ... on EventoPersonal{
                        id
                        horarioInicio
                        horarioFinal
                      }
                      ... on EventoPublico{
                        id
                        horarioInicio
                        horarioFinal
                      }
                    }
                  }
                `,variables:{nuevoDate:r,tipoEvento:this.tipoEvento,idEvento:this.esteEvento.id}}).then(()=>{this.enviandoNuevoDateInicio=!1,this.editandoDateInicio=!1}).catch(s=>{console.log(`Error: ${s}`),this.enviandoNuevoDateInicio=!1}))},iniciarEdicionHorarioFinal(){!this.administrador&&!this.usuarioSuperadministrador&&!this.usuarioProfe||(console.log("Iniciando edicion"),this.$refs.inputHorarioFinal.value=this.horaFinalString,this.editandoHorarioFinal=!0,this.$nextTick(()=>{this.$refs.inputHorarioFinal.focus()}))},updateHorarioFinal(e){const t=e.target.value,o=parseInt(t.substring(0,2)),i=parseInt(t.substring(3));console.log(`nuevoTime: ${t}. ${o} horas y ${i} minutos`);const n=new Date(this.esteEvento.horarioInicio);var r=new Date(this.esteEvento.horarioFinal);console.log(`Actual date: ${r}`),r.setHours(o),r.setMinutes(i),console.log(`Nueva date final: ${r}`),!(r<n)&&this.enviarNuevoHorarioFinal(r)},enviarNuevaDateInicioHoldDuration(e){this.enviandoNuevoDateInicio=!0,this.enviandoSomeHorario=!0,this.$apollo.mutate({mutation:he`
                  mutation ($nuevoDate: Date!, $tipoEvento: String!, $idEvento: ID!) {
                    setDateInicioEventoHoldDuration(
                      nuevoDate: $nuevoDate
                      tipoEvento: $tipoEvento
                      idEvento: $idEvento
                    ) {
                      __typename
                      ... on EventoPersonal{
                        id
                        horarioInicio
                        horarioFinal
                      }
                      ... on EventoPublico{
                        id
                        horarioInicio
                        horarioFinal
                      }
                      
                    }
                  }
                `,variables:{nuevoDate:e,tipoEvento:this.tipoEvento,idEvento:this.esteEvento.id}}).then(()=>{this.$emit("eventoCambioFecha",this.esteEvento),this.enviandoSomeHorario=!1,this.enviandoNuevoDateInicio=!1,this.editandoFechaInicio=!1,this.editandoHoraInicio=!1}).catch(t=>{console.log(`Error: ${t}`),this.enviandoNuevoDateInicio=!1,this.enviandoSomeHorario=!1})},updateFechaInicioHoldDuration(e){console.log(`se hara update de fecha inicio holding duration. ${e}`);const t=new Date(e),o=t.getUTCDate(),i=t.getUTCMonth(),n=t.getUTCFullYear();var r=new Date(this.esteEvento.horarioInicio);r.setDate(o),r.setMonth(i),r.setFullYear(n),console.log(`Quedará: ${r}`),this.enviarNuevaDateInicioHoldDuration(r)},updateHoraInicioHoldDuration(e){console.log(`se hara update de hora inicio holding duration. ${e}`);const t=e.substring(0,2),o=e.substring(3);var i=new Date(this.esteEvento.horarioInicio);i.setHours(t),i.setMinutes(o),console.log(`Quedará: ${i}`),this.enviarNuevaDateInicioHoldDuration(i)}},computed:{horaInicioString(){return new Date(this.esteEvento.horarioInicio).toTimeString().substring(0,5)},horaFinalString(){return new Date(this.esteEvento.horarioFinal).toTimeString().substring(0,5)}}},C4={props:{idParent:String,tipoParent:String},data(){return{creandoEventoPersonalUnder:!1}},methods:{crearEventoPersonalUnder(){console.log("Creando evento personal under"),this.creandoEventoPersonalUnder=!0,this.$apollo.mutate({mutation:he`
                    mutation($infoEventoPersonal: InputCrearEventoPersonal){
                        crearEventoPersonal(infoEventoPersonal:$infoEventoPersonal){
                            ...fragEventoPersonal
                        }
                    }
                ${hi}
                `,variables:{infoEventoPersonal:{idPersona:this.idUsuarioTarget,idEventoMarco:this.esteEvento.id,idParent:this.idParent,tipoParent:this.tipoParent}}}).then(({data:{crearEventoPersonal:e}})=>{this.creandoEventoPersonalUnder=!1,this.$emit("creadoEventoPersonal",e)}).catch(e=>{console.log(`Error: ${e}`),this.creandoEventoPersonalUnder=!1})}}},_s="/caracol/assets/user-7388aad2.svg",fl="/caracol/assets/calendarPlus-bcd804cb.svg",S4={name:"EventoPublicoCalendario",components:{IconoPersonaAutonomo:ui,Loading:it},props:{extranjero:Boolean},mixins:[Es,hh,u0,C4,As],data(){return{mostrando:null}},methods:{},computed:{}},pl=e=>(Ze("data-v-af923284"),e=e(),Xe(),e),x4={id:"zonaNombre"},I4={key:0,id:"cantidadAsistentes"},T4=pl(()=>m("img",{src:_s,alt:"User",style:{height:"13px","margin-right":"6px"}},null,-1)),R4=pl(()=>m("img",{src:fl,alt:"Asistir"},null,-1)),P4=[R4],D4=pl(()=>m("img",{src:Dn,alt:"Eliminar"},null,-1)),k4=[D4],O4=pl(()=>m("img",{src:ws,alt:"Expandir"},null,-1)),M4=[O4],L4={id:"contenedorMarcasTiempo"};function F4(e,t,o,i,n,r){const s=Pe("icono-persona-autonomo"),c=Pe("loading");return J(),X("div",{class:ve(["eventoPublicoCalendario",{deshabilitado:e.eliminandose,seleccionado:e.seleccionado,bloque:e.claseOffset==="bloque"||e.seleccionado,barra:e.claseOffset==="barra"&&!e.seleccionado}]),style:Oe([e.estiloPos,e.estiloZ])},[m("div",{id:"barra",style:Oe(e.estiloSize),class:ve({seleccionado:e.seleccionado,administrador:e.administrador})},null,6),m("div",{id:"bloque",style:Oe([e.estiloSize,{position:"relative"}]),class:ve({extranjero:o.extranjero,seleccionado:e.seleccionado})},[m("div",x4,[m("div",{id:"elNombre",class:ve({administrador:e.administrador})},Ee(e.esteEvento.nombre),3)]),e.esteEvento.eventosEnmarcados&&e.esteEvento.eventosEnmarcados.length>0?(J(),X("div",I4,[T4,gt(" "+Ee(e.esteEvento.eventosEnmarcados.length)+Ee(e.esteEvento.limiteDeCupos?"/"+e.esteEvento.limiteDeCupos:""),1)])):Ie("",!0),(e.idUsuarioTarget!=e.esteEvento.idAdministrador,J(),Ge(s,{key:1,class:ve({seleccionado:e.seleccionado}),style:{margin:"0px auto"},idPersona:e.esteEvento.idAdministrador,factorEscala:"0.7"},null,8,["class","idPersona","factorEscala"])),m("div",{id:"contenedorControlesEvento",class:ve({seleccionado:e.seleccionado})},[e.usuarioLogeado&&e.idUsuarioTarget!=e.esteEvento.idAdministrador?V((J(),X("div",{key:0,class:"boton botonControlEvento",title:"Asistir a este evento",onClick:t[0]||(t[0]=ge((...a)=>e.crearEventoPersonalUnder&&e.crearEventoPersonalUnder(...a),["stop"]))},P4,512)),[[K,!e.creandoEventoPersonalUnder]]):Ie("",!0),V(Te(c,null,null,512),[[K,e.creandoEventoPersonalUnder]]),e.administrador||e.usuarioSuperadministrador?(J(),X("div",{key:1,class:"boton botonControlEvento",title:"Eliminar este evento",onClick:t[1]||(t[1]=ge((...a)=>e.eliminarse&&e.eliminarse(...a),["stop"]))},k4)):Ie("",!0),m("div",{class:"boton botonControlEvento",title:"Expandir este evento",onClick:t[2]||(t[2]=ge(a=>e.$router.push(e.$route.path+"/ventanaEventoPublico/"+e.esteEvento.id),["stop"]))},M4)],2)],6),V(m("div",L4,[m("div",{class:ve(["marcaTiempo",{deshabilitado:e.enviandoNuevoDateInicio}]),id:"marcaTiempoInicio",onClick:t[3]||(t[3]=(...a)=>e.setHoraInicio&&e.setHoraInicio(...a))},Ee(e.horaInicioLegible),3),m("div",{class:ve(["marcaTiempo",{deshabilitado:e.enviandoNuevoDateFinal}]),id:"marcaTiempoFinal",onClick:t[4]||(t[4]=(...a)=>e.setHoraFinal&&e.setHoraFinal(...a))},Ee(e.horaFinalLegible),3)],512),[[K,e.seleccionado]])],6)}const B4=He(S4,[["render",F4],["__scopeId","data-v-af923284"]]),U4={name:"eventoPersonalCalendario",components:{},props:{esteEvento:Object,horaPx:Number,seleccionado:Boolean,infoOffset:Object,extranjero:Boolean,diaCalendarioOver:Object},mixins:[Es,u0,As],data(){return{mostrando:null}},methods:{},computed:{administrador(){return this.usuarioLogeado?this.usuario.id===this.esteEvento.idPersona:!1},modo(){return"bloque"}}},h0=e=>(Ze("data-v-872b7272"),e=e(),Xe(),e),$4={id:"zonaNombre"},j4=h0(()=>m("img",{src:Dn,alt:"Eliminar"},null,-1)),q4=[j4],V4=h0(()=>m("img",{src:ws,alt:"Expandir"},null,-1)),H4=[V4],z4={id:"contenedorMarcasTiempo"};function Q4(e,t,o,i,n,r){return J(),X("div",{class:ve(["eventoPersonalCalendario",{deshabilitado:e.eliminandose,seleccionado:o.seleccionado,bloque:e.claseOffset==="bloque"||o.seleccionado,barra:e.claseOffset==="barra"&&!o.seleccionado}]),style:Oe([e.estiloPos,e.estiloZ])},[m("div",{id:"barra",style:Oe(e.estiloSize),class:ve({seleccionado:o.seleccionado,extranjero:o.extranjero})},null,6),m("div",{id:"bloque",style:Oe(e.estiloSize),class:ve({extranjero:o.extranjero,seleccionado:o.seleccionado,deNodoSolidaridad:o.esteEvento.tipoParent==="nodoSolidaridad"})},[m("div",$4,[m("div",{id:"elNombre",class:ve({administrador:r.administrador})},Ee(o.esteEvento.nombre),3)]),m("div",{id:"contenedorControlesEvento",class:ve({seleccionado:o.seleccionado})},[r.administrador||e.usuarioSuperadministrador||e.usuarioProfe?(J(),X("div",{key:0,class:"boton botonControlEvento",title:"Eliminar este evento",onClick:t[0]||(t[0]=ge((...s)=>e.eliminarse&&e.eliminarse(...s),["stop"]))},q4)):Ie("",!0),m("div",{class:"boton botonControlEvento",title:"Expandir este evento",onClick:t[1]||(t[1]=ge(s=>e.$router.push(e.$route.path+"/ventanaEventoPersonal/"+o.esteEvento.id),["stop"]))},H4)],2)],6),V(m("div",z4,[m("div",{class:ve(["marcaTiempo",{deshabilitado:e.enviandoNuevoDateInicio}]),id:"marcaTiempoInicio",onClick:t[2]||(t[2]=(...s)=>e.setHoraInicio&&e.setHoraInicio(...s))},Ee(e.horaInicioLegible),3),m("div",{class:ve(["marcaTiempo",{deshabilitado:e.enviandoNuevoDateFinal}]),id:"marcaTiempoFinal",onClick:t[3]||(t[3]=(...s)=>e.setHoraFinal&&e.setHoraFinal(...s))},Ee(e.horaFinalLegible),3)],512),[[K,o.seleccionado]])],6)}const G4=He(U4,[["render",Q4],["__scopeId","data-v-872b7272"]]),Jc=he`
  query ($dateInicioDia: Date!) {
    eventosPublicosDia(dateInicioDia: $dateInicioDia) {
      ...fragEventoPublico
    }
  }
  ${nr}
`,Yc=he`
  query ($dateInicioDia: Date!, $idUsuario: ID!) {
    eventosPersonalesDia(dateInicioDia: $dateInicioDia, idUsuario: $idUsuario) {
      ...fragEventoPersonal
    }
  }
  ${hi}
`,K4=he`
  query ($dateInicioDia: Date!, $idParent: ID!, $tipoParent: String!) {
    eventosPersonalesDeParentDia(
      dateInicioDia: $dateInicioDia
      idParent: $idParent
      tipoParent: $tipoParent
    ) {
      ...fragEventoPersonal
    }
  }
  ${hi}
`,W4={components:{EventoPublicoCalendario:B4,EventoPersonalCalendario:G4,Loading:it},name:"DiaCalendario",apollo:{eventosPublicosDia:{query:Jc,variables(){return{dateInicioDia:this.esteDia.date}},fetchPolicy:"cache-and-network"},eventosPersonalesDia:{query:Yc,variables(){return{dateInicioDia:this.esteDia.date,idUsuario:this.idUsuarioTarget}},skip(){return!this.usuarioLogeado},fetchPolicy:"cache-and-network"},eventosPersonalesDeParentDia:{query:K4,variables(){return{dateInicioDia:this.esteDia.date,idParent:this.idParent,tipoParent:this.tipoParent}},skip(){return this.tipoParent!="nodoSolidaridad"||!this.usuarioLogeado||!this.idParent},fetchPolicy:"cache-and-network"}},props:{hoy:Boolean,esteDia:Object,eventoSiendoCreado:Object,horaPx:Number,scrollXCalendario:Number,idParent:String,idEventoSeleccionado:String,idUsuarioTarget:String,tipoParent:String,enfasis:String,modoEventosPublicosExtranjeros:String,usuarioVeEventosPublicos:Boolean},data(){return{eventosPublicosDia:[],eventosPersonalesDia:[],eventosPersonalesDeParentDia:[],abierto:!1,creandoEvento:!1}},methods:{clickContenedorEventos(e){if(console.log("Click en el contenedor de eventos"),this.eventoSiendoCreado){var t=JSON.parse(JSON.stringify(this.eventoSiendoCreado));this.$emit("iniciaCreacionEvento");const s=this.$refs.contenedorEventos.getBoundingClientRect(),c=e.pageX-s.left,a=c/this.horaPx;var o=Math.round((a-Math.floor(a))*60);o=Math.floor(o/15)*15;const l={horas:Math.floor(a),minutos:o},u=this.esteDia.date.getTime()+l.horas*60*6e4+l.minutos*6e4;console.log(`En ${c} -> ${l.horas}: ${l.minutos}`),console.log(`Date centralh: ${this.esteDia.date.getTime()+l.horas+l.minutos*6e4}`);var i=u,n=u+36e5;console.log(`Quedará entre: ${new Date(i)} y ${new Date(n)}`),t.horarioInicio=new Date(i),t.horarioFinal=new Date(n),t.tipoEvento==="eventoPublico"?(delete t.tipoEvento,this.crearEventoPublico(t)):t.tipoEvento==="eventoPersonal"?(delete t.tipoEvento,this.crearEventoPersonal(t)):console.log(`Tipo ${t.tipoEvento} no reconocido`)}else this.idEventoSeleccionado&&this.$emit("desSeleccionDeEvento")},addEventoCache(e){const t=new Date(e.horarioInicio).getTime(),o=this.esteDia.date.getTime(),i=this.esteDia.date.getTime()+864e5;if(t<o||t>i)return;const n=e.__typename.charAt(0).toLowerCase()+e.__typename.slice(1);var r=null;if(n==="eventoPublico")r={query:Jc,variables:{dateInicioDia:this.esteDia.date}};else if(n==="eventoPersonal")r={query:Yc,variables:{dateInicioDia:this.esteDia.date,idUsuario:this.idUsuarioTarget}};else{console.log(`Tipo evento ${n} no reconocido`);return}const s=this.$apollo.provider.defaultClient,c=s.readQuery({...r});var a=JSON.parse(JSON.stringify(c)),l=null;n==="eventoPublico"?l=a.eventosPublicosDia:n==="eventoPersonal"&&(l=a.eventosPersonalesDia),l.findIndex(h=>h.id===e.id)===-1&&(l.push(e),s.writeQuery({...r,data:a}))},crearEventoPublico(e){console.log(`Creando un evento publico con info ${JSON.stringify(e)}`),this.creandoEvento=!0,this.$apollo.mutate({mutation:he`
            mutation ($infoNuevoEvento: InputCrearEventoPublico) {
              crearEventoPublico(infoNuevoEvento: $infoNuevoEvento) {
                ...fragEventoPublico
              }
            }
            ${nr}
          `,variables:{infoNuevoEvento:e}}).then(({data:{crearEventoPublico:t}})=>{this.creandoEvento=!1,this.addEventoCache(t),this.$emit("cambioEventos")}).catch(t=>{console.log(`Error: ${t}`),this.creandoEvento=!1})},crearEventoPersonal(e){console.log(`Creando un evento personal con info ${JSON.stringify(e)}`),this.creandoEvento=!0,this.$apollo.mutate({mutation:he`
            mutation ($infoEventoPersonal: InputCrearEventoPersonal) {
              crearEventoPersonal(infoEventoPersonal: $infoEventoPersonal) {
                ...fragEventoPersonal
              }
            }
            ${hi}
          `,variables:{infoEventoPersonal:{...e,idPersona:this.idUsuarioTarget}}}).then(({data:{crearEventoPersonal:t}})=>{this.creandoEvento=!1,this.addEventoCache(t),this.$emit("cambioEventos")}).catch(t=>{console.log(`Error: ${t}`),this.creandoEvento=!1})},deleteEventoCache(e){const t=e.__typename.charAt(0).toLowerCase()+e.__typename.slice(1);console.log(`Deleting ${t} ${e.nombre} from cache`);var o=null;if(t==="eventoPublico")o={query:Jc,variables:{dateInicioDia:this.esteDia.date}};else if(t==="eventoPersonal")o={query:Yc,variables:{dateInicioDia:this.esteDia.date,idUsuario:this.idUsuarioTarget}};else{console.log(`Tipo evento ${t} no reconocido`);return}const i=this.$apollo.provider.defaultClient,n=i.readQuery({...o});var r=JSON.parse(JSON.stringify(n)),s=null;t==="eventoPublico"?s=r.eventosPublicosDia:t==="eventoPersonal"&&(s=r.eventosPersonalesDia);const c=s.findIndex(a=>a.id===e.id);c>-1&&(s.splice(c,1),i.writeQuery({...o,data:r}))}},computed:{diaSemana(){return["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"][this.esteDia.date.getDay()]},diaYMes(){const e=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];return this.esteDia.date.getDate()+" de "+e[this.esteDia.date.getMonth()]},eventosPublicosVisibles(){return this.enfasis==="eventosPublicos"?this.modoEventosPublicosExtranjeros==="invisibles"?this.eventosPublicosDia.filter(e=>e.idParent===this.idParent||e.idAdministrador===this.idUsuarioTarget):this.eventosPublicosDia:this.enfasis==="eventosPersonales"?this.usuarioVeEventosPublicos?this.eventosPublicosDia:this.eventosPublicosDia.filter(e=>e.idAdministrador===this.idUsuarioTarget):[]},eventosPublicosUsuarioTarget(){return this.eventosPublicosDia.filter(e=>e.idAdministrador===this.idUsuarioTarget)},estiloSizeContenedorEventos(){const e=Object.values(this.indiceOffset).reduce((t,o)=>o.top+o.height>t?o.top+o.height:t,0);return{width:this.horaPx*24+"px",height:e+45+"px"}},cantidadEventosPublicos(){return this.eventosPublicosDia.length},cantidadEventosRelevantes(){return this.enfasis==="eventosPublicos"?this.idParent?this.eventosPublicosDia.filter(e=>e.idParent===this.idParent).length:this.cantidadEventosPublicos:this.enfasis==="eventosPersonales"?this.idParent?this.eventosPersonalesDia.filter(e=>e.idParent===this.idParent).length:this.eventosPersonalesDia.length+this.eventosPublicosUsuarioTarget.length:0},indiceOffset(){var n={};if(!this.usuarioLogeado)return console.log("Cancelando índice offset"),null;this.todosEventosPersonalesDia.forEach(s=>{let c=160,a="bloque",l=5;this.enfasis==="eventosPersonales"?this.idParent&&s.idParent!=this.idParent&&(c=15,a="barra"):(c=15,a="barra"),n[s.id]={evento:s,top:l,height:c,bordeBot:l+c,clase:a}});var r=JSON.parse(JSON.stringify(this.eventosPublicosVisibles));return r.sort((s,c)=>{var a=0;return(s.idAdministrador===this.idUsuarioTarget||this.eventosPersonalesDia.some(l=>l.idEventoMarco===s.id))&&a++,(c.idAdministrador===this.idUsuarioTarget||this.eventosPersonalesDia.some(l=>l.idEventoMarco===c.id))&&a--,-a}),r.forEach(s=>{let c=this.eventosPersonalesDia.some(h=>h.idEventoMarco===s.id),a=160,l="bloque";this.enfasis==="eventosPublicos"&&s.idParent!=this.idParent&&this.modoEventosPublicosExtranjeros!="full"&&(a=15,l="barra");let u=0;this.enfasis==="eventosPersonales"&&c?u=30:u=Object.entries(n).map(g=>g[1]).filter(g=>{const b=g.evento.horarioInicio>s.horarioInicio&&g.evento.horarioInicio<s.horarioFinal,C=g.evento.horarioFinal>s.horarioInicio&&g.evento.horarioFinal<s.horarioFinal,T=g.evento.horarioInicio<=s.horarioInicio&&g.evento.horarioFinal>=s.horarioFinal;return b||C||T}).reduce((g,b)=>b.bordeBot>g?b.bordeBot:g,0)+5,n[s.id]={evento:s,top:u,height:a,bordeBot:u+a+15,clase:l}}),n},todosEventosPersonalesDia(){return this.eventosPersonalesDia.concat(this.eventosPersonalesDeParentDia.filter(e=>!this.eventosPersonalesDia.map(t=>t.id).includes(e.id)))},estiloSizeHora(){return{width:this.horaPx+"px"}},downloadingData(){return this.$apollo.queries.eventosPersonalesDeParentDia&&this.$apollo.queries.eventosPersonalesDeParentDia.loading||this.$apollo.queries.eventosPublicosDia&&this.$apollo.queries.eventosPublicosDia.loading||this.$apollo.queries.eventosPersonalesDia&&this.$apollo.queries.eventosPersonalesDia.loading}},watch:{},mounted(){const e=new Date().getHours();console.log(`Scrolling into ${e}`),this.$nextTick(()=>{this.$refs.labelsHoras[8].scrollIntoView({block:"nearest",inline:"start"})})}},J4={id:"barraSuperior"},Y4={id:"fechaDia"},Z4={id:"cantidadesEventos"},X4={id:"contenedorContenido"},e3={id:"barraHoras"};function t3(e,t,o,i,n,r){const s=Pe("loading"),c=Pe("evento-publico-calendario"),a=Pe("evento-personal-calendario");return J(),X("div",{class:ve(["diaCalendario",{abierto:n.abierto}])},[m("div",J4,[m("div",{id:"bloqueTituloDia",onClick:t[0]||(t[0]=l=>e.$emit("regresar"))},[m("div",{id:"nombreDia",class:ve({hoy:o.hoy})},Ee(r.diaSemana),3),m("div",Y4,Ee(r.diaYMes),1),m("div",Z4,Ee(r.cantidadEventosRelevantes?"("+r.cantidadEventosRelevantes+")":""),1)])]),V(Te(s,{texto:""},null,512),[[K,r.downloadingData]]),m("div",X4,[m("div",e3,[(J(),X(Fe,null,qe(24,l=>m("div",{ref_for:!0,ref:"labelsHoras",class:"hora",style:Oe([r.estiloSizeHora]),key:"hora"+(l-1)},Ee(l-1)+":00 ",5)),64))]),V(m("div",{id:"contenedorEventos",ref:"contenedorEventos",style:Oe([r.estiloSizeContenedorEventos]),onClick:t[2]||(t[2]=ge((...l)=>r.clickContenedorEventos&&r.clickContenedorEventos(...l),["self"]))},[(J(!0),X(Fe,null,qe(r.eventosPublicosVisibles,l=>(J(),Ge(c,{horaPx:o.horaPx,key:l.id,esteEvento:l,extranjero:!o.idParent||o.idParent!=l.idParent,idUsuarioTarget:o.idUsuarioTarget,seleccionado:o.idEventoSeleccionado===l.id,infoOffset:r.indiceOffset[l.id],diaCalendarioOver:o.esteDia,enfasis:o.enfasis,idParent:o.idParent,tipoParent:o.tipoParent,onMeElimine:u=>{r.deleteEventoCache(l),e.$emit("cambioEventos")},onClick:u=>e.$emit("clickEnEvento",l),onMeCambiaronDia:u=>{r.deleteEventoCache(l),e.$emit("cambioEventos")},onCreadoEventoPersonal:t[1]||(t[1]=u=>{r.addEventoCache(u),e.$emit("cambioEventos")})},null,8,["horaPx","esteEvento","extranjero","idUsuarioTarget","seleccionado","infoOffset","diaCalendarioOver","enfasis","idParent","tipoParent","onMeElimine","onClick","onMeCambiaronDia"]))),128)),(J(!0),X(Fe,null,qe(r.todosEventosPersonalesDia||[],l=>(J(),Ge(a,{horaPx:o.horaPx,key:l.id,esteEvento:l,seleccionado:o.idEventoSeleccionado===l.id,infoOffset:r.indiceOffset[l.id],diaCalendarioOver:o.esteDia,enfasis:o.enfasis,extranjero:o.idUsuarioTarget!=l.idPersona&&!l.idsParticipantes.includes(o.idUsuarioTarget),onMeElimine:u=>{r.deleteEventoCache(l),e.$emit("cambioEventos")},onClick:u=>e.$emit("clickEnEvento",l),onMeCambiaronDia:u=>{r.deleteEventoCache(l),e.$emit("cambioEventos")}},null,8,["horaPx","esteEvento","seleccionado","infoOffset","diaCalendarioOver","enfasis","extranjero","onMeElimine","onClick","onMeCambiaronDia"]))),128))],4),[[K,!r.downloadingData]])])],2)}const o3=He(W4,[["render",t3],["__scopeId","data-v-c9dd8354"]]),f0="/caracol/assets/calendarPublic-ec76bdc7.svg",n3="/caracol/assets/thList-83b8594b.svg",p0="/caracol/assets/relojArena-1f4db0c5.svg",m0="/caracol/assets/broom-342f8f84.svg",i3={components:{DiaCalendario:o3,Loading:it},name:"Calendario",props:{idParent:String,idUsuarioTarget:String,tipoParent:String,enfasis:String},apollo:{cantidadEventosRelevantesMes:{query:he`
        query (
          $year: Int!
          $mes: Int!
          $idParent: ID!
          $tipoParent: String!
          $timeZoneOffset: Int!
        ) {
          cantidadEventosRelevantesMes(
            year: $year
            mes: $mes
            idParent: $idParent
            tipoParent: $tipoParent
            timeZoneOffset: $timeZoneOffset
          ) {
            dia
            cantidadEventos
          }
        }
      `,variables(){return{year:this.yearSeleccionado,mes:parseInt(this.numeroMesSeleccionado),idParent:this.idParent?this.idParent:this.idUsuarioTarget,tipoParent:this.tipoParent?this.tipoParent:"usuario",timeZoneOffset:new Date().getTimezoneOffset()}},fetchPolicy:"cache-and-network"}},data(){const e=new Date(Date.now());return e.setHours(0),e.setMinutes(0),e.setSeconds(0),{cantidadEventosRelevantesMes:[],nombresDiasSemana:["Lunes","Martes","Miércoles","Jueves","Viernes","Sabado","Domingo"],nombresMeses:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dateHoy:e,primerDia:{date:e,horaActual:new Date(Date.now()).getHours()},numeroMesSeleccionado:e.getMonth(),seleccionandoMes:!1,yearSeleccionado:e.getFullYear(),numeroDiaSeleccionado:null,eventoSiendoCreado:null,horaPx:100,scrollX:0,idEventoSeleccionado:null,modoEventosPublicosExtranjeros:"invisibles",diasRendered:[{date:e}],usuarioVeEventosPublicos:!1,tomandoAccion:null,enviandoAccionIntervalo:!1}},computed:{tipoEventoSiendoCreado(){return this.eventoSiendoCreado?this.eventoSiendoCreado.tipoEvento:null},offsetScroll(){return{left:10+this.scrollX+"px"}},nombreMesSeleccionado(){return this.nombresMeses[parseInt(this.numeroMesSeleccionado)]},lengthMonthSeleccionado(){return new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado+1),0).getDate()},diasMargenInicio(){return new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado),0).getDay()},estiloMargenInicio(){return{width:this.diasMargenInicio*14+"%"}},diaSeleccionado(){return this.numeroDiaSeleccionado?{date:new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado),this.numeroDiaSeleccionado,0)}:null},semanasMes(){console.log("Calculando semanasMes");const e=new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado),1).getDay();console.log(`Dia semana inicio de mes: ${e}`);const t=e===0?7:e,o=Math.floor(this.lengthMonthSeleccionado/7);console.log(`${o} semanas completas`);const i=this.lengthMonthSeleccionado-o*7;console.log(`${i} dias sobrantes`);var n=o;return t>1&&n++,(i+t>7||i>0&&t===1)&&n++,n}},methods:{iniciarSeleccionandoMes(){this.seleccionandoMes=!0,this.$nextTick(()=>{this.$refs.selectMes.click()})},repetirEventosSemana(e){console.log(`Se repetirán los eventos de la semana ${e}`);var t=parseInt(prompt("¿Cuantas veces quieres repetir el horario de esta semana?",0));if(t<1||t>52){console.log("Valor de repeticiones inválido");return}const o=1e3*60*60*24,i=new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado),1).getDay();console.log(`Primer dia mes: ${i}`);const n=i===0?7:i,r=new Date(new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado),1).getTime()+o*7*e-(n-1)*o),s=new Date(r.getTime()+o*7);this.repetirEventosInterval(r,s,this.idParent?this.idParent:this.idUsuarioTarget,this.tipoParent?this.tipoParent:"usuario",this.idUsuarioTarget,t)},repetirEventosInterval(e,t,o,i,n,r){console.log(`Se repetiran los eventos que están entre ${e} y ${t}, ${r} veces`),this.$apollo.mutate({mutation:he`
            mutation (
              $idParent: ID!
              $tipoParent: String!
              $idUsuario: ID!
              $numRepeticiones: Int!
              $dateFrom: Date!
              $dateTo: Date!
            ) {
              repetirEventosTroughInterval(
                idParent: $idParent
                tipoParent: $tipoParent
                idUsuario: $idUsuario
                numRepeticiones: $numRepeticiones
                dateFrom: $dateFrom
                dateTo: $dateTo
              )
            }
          `,variables:{idParent:this.idParent?this.idParent:this.idUsuarioTarget,tipoParent:this.tipoParent?this.tipoParent:"usuario",idUsuario:this.idUsuarioTarget,numRepeticiones:r,dateFrom:e,dateTo:t}}).then(()=>{this.reloadEventosRelevantes(),alert("Operación completada")}).catch(s=>{console.log(`Error: ${s}`),this.enviandoAccionIntervalo=!1})},deleteEventosSemana(e){if(console.log(`Se eliminaran los eventos de la semana ${e}`),!confirm("¿Confirmar la eliminación de los eventos de esta semana? (Esta acción no puede deshacerse)"))return;const t=1e3*60*60*24,o=new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado),1).getDay();console.log(`Primer dia mes: ${o}`);const i=o===0?7:o;console.log(`Primer dia mes corregido: ${i}`);const n=new Date(new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado),1).getTime()+t*7*e-(i-1)*t),r=new Date(n.getTime()+t*7);this.deleteEventosInterval(n,r,this.idParent?this.idParent:this.idUsuarioTarget,this.tipoParent?this.tipoParent:"usuario",this.idUsuarioTarget)},deleteEventosInterval(e,t,o,i,n){console.log(`Se eliminarán los eventos que están entre ${e} y ${t}`),this.enviandoAccionIntervalo=!0,this.$apollo.mutate({mutation:he`
            mutation (
              $idParent: ID!
              $tipoParent: String!
              $idUsuario: ID!
              $dateFrom: Date!
              $dateTo: Date!
            ) {
              deleteEventosTroughInterval(
                idParent: $idParent
                tipoParent: $tipoParent
                idUsuario: $idUsuario
                dateFrom: $dateFrom
                dateTo: $dateTo
              )
            }
          `,variables:{idParent:o,tipoParent:i,idUsuario:n,dateFrom:e,dateTo:t}}).then(()=>{this.reloadEventosRelevantes(),this.enviandoAccionIntervalo=!1,alert("Operación completada")}).catch(r=>{console.log(`Error: ${r}`),this.enviandoAccionIntervalo=!1})},reloadEventosRelevantes:Jn(function(){console.log("Reloading cantidades mes"),this.$apollo.queries.cantidadEventosRelevantesMes.refetch()},1e3)},watch:{numeroMesSeleccionado(){this.seleccionandoMes=!1}}},fi=e=>(Ze("data-v-154c2262"),e=e(),Xe(),e),r3={id:"contenedorControlesCalendario",class:"contenedorControles"},s3=["title"],a3=fi(()=>m("img",{src:f0,alt:"Evento publico"},null,-1)),l3=[a3],c3=["title"],u3=fi(()=>m("img",{src:f0,alt:"Evento publico"},null,-1)),d3=[u3],h3=["title"],f3=fi(()=>m("img",{src:n3,alt:"Lista"},null,-1)),p3=[f3],m3={id:"bloqueSelect"},v3={id:"barraFecha"},g3={id:"bloqueMes"},b3=["value"],y3={id:"bloqueYear",style:{"margin-left":"auto"}},w3={id:"nombreYear"},E3={id:"barraDiasSemana"},A3={id:"contenedorMesh"},_3=["onClick"],N3={class:"numeroDia"},C3={class:"laCantidad"},S3={id:"contenedorBotonesDia"},x3=fi(()=>m("div",{class:"boton",title:"Repetir los eventos de este día"},[m("img",{src:p0,alt:"Reloj"})],-1)),I3=fi(()=>m("div",{class:"boton",title:"Eliminar todos los eventos de este día"},[m("img",{src:m0,alt:"Limpiar"})],-1)),T3=[x3,I3],R3={id:"representacionSemanas"},P3={id:"contenedorBotonesSemana"},D3=["onClick"],k3=fi(()=>m("img",{src:p0,alt:"Reloj"},null,-1)),O3=[k3],M3=["onClick"],L3=fi(()=>m("img",{src:m0,alt:"Limpiar"},null,-1)),F3=[L3];function B3(e,t,o,i,n,r){const s=Pe("loading"),c=Pe("dia-calendario");return J(),X("div",{class:ve(["calendario",{eventoSiendoCreado:n.eventoSiendoCreado}])},[m("div",r3,[e.usuarioLogeado&&e.usuario.permisos&&e.usuario.permisos.includes("maestraVida-profesor")?V((J(),X("div",{key:0,class:"boton",onClick:t[0]||(t[0]=a=>n.modoEventosPublicosExtranjeros==="invisibles"?n.modoEventosPublicosExtranjeros="full":n.modoEventosPublicosExtranjeros==="full"?n.modoEventosPublicosExtranjeros="barra":n.modoEventosPublicosExtranjeros="invisibles"),style:Oe({opacity:n.modoEventosPublicosExtranjeros==="invisibles"?.4:n.modoEventosPublicosExtranjeros==="full"?1:.7}),title:n.modoEventosPublicosExtranjeros==="invisibles"?"Mostrar todos los eventos públicos":n.modoEventosPublicosExtranjeros==="full"?"Minimizar otros eventos públicos":"Ocultar otros eventos públicos"},l3,12,s3)),[[K,o.enfasis==="eventosPublicos"]]):Ie("",!0),o.enfasis==="eventosPersonales"?(J(),X("div",{key:1,class:"boton",onClick:t[1]||(t[1]=a=>n.usuarioVeEventosPublicos=!n.usuarioVeEventosPublicos),title:n.usuarioVeEventosPublicos?"Ocultar eventos públicos":"Mostrar eventos públicos",style:Oe([{opacity:n.usuarioVeEventosPublicos?1:.5}])},d3,12,c3)):Ie("",!0),V(m("div",{class:"boton",title:n.tomandoAccion==="semana"?"Cancelar":n.tomandoAccion==="dia"?"Editar semanas":"Editar días",onClick:t[2]||(t[2]=a=>n.tomandoAccion=n.tomandoAccion==="semana"?null:(n.tomandoAccion==="dia","semana")),style:Oe([{opacity:n.tomandoAccion?1:.5}])},p3,12,h3),[[K,e.usuario&&e.usuario.id===o.idUsuarioTarget||e.usuarioSuperadministrador||e.usuarioProfe]])]),V(m("div",m3,[m("div",v3,[m("div",g3,[V(m("div",{id:"nombreMes",onClick:t[3]||(t[3]=(...a)=>r.iniciarSeleccionandoMes&&r.iniciarSeleccionandoMes(...a))},Ee(r.nombreMesSeleccionado),513),[[K,!n.seleccionandoMes]]),V(m("select",{ref:"selectMes",id:"selectMes","onUpdate:modelValue":t[4]||(t[4]=a=>n.numeroMesSeleccionado=a)},[(J(!0),X(Fe,null,qe(n.nombresMeses,(a,l)=>(J(),X("option",{value:l,key:"selector"+a},Ee(a),9,b3))),128))],512),[[ls,n.numeroMesSeleccionado],[K,n.seleccionandoMes]])]),V(Te(s,{texto:""},null,512),[[K,e.$apollo.queries.cantidadEventosRelevantesMes.loading]]),m("div",y3,[m("div",w3,Ee(n.yearSeleccionado),1)])]),m("div",E3,[(J(),X(Fe,null,qe(7,a=>m("div",{class:"diaSemana",key:"diaSemana"+a},Ee(n.nombresDiasSemana[a-1].charAt(0)),1)),64))]),m("div",A3,[m("div",{id:"margenInicio",style:Oe([r.estiloMargenInicio])},null,4),(J(!0),X(Fe,null,qe(r.lengthMonthSeleccionado,a=>(J(),X("div",{class:ve(["selectorDia",{hoy:n.dateHoy.getFullYear()===n.yearSeleccionado&&n.dateHoy.getMonth()===parseInt(n.numeroMesSeleccionado)&&n.dateHoy.getDate()===a}]),key:"selectorDia"+a,onClick:l=>n.numeroDiaSeleccionado=a},[m("div",N3,Ee(a)+Ee(n.dateHoy.getFullYear()===n.yearSeleccionado&&n.dateHoy.getMonth()===parseInt(n.numeroMesSeleccionado)&&n.dateHoy.getDate()===a?" Hoy":""),1),n.cantidadEventosRelevantesMes.some(l=>l.dia===a)?(J(),X("div",{key:0,class:"bolitaCantidadEventosRelevantes",style:Oe([{opacity:n.tomandoAccion==="dia"?.4:1}])},[m("div",C3,Ee(n.cantidadEventosRelevantesMes.find(l=>l.dia===a).cantidadEventos),1)],4)):Ie("",!0),V(m("div",S3,T3,512),[[K,n.tomandoAccion==="dia"]])],10,_3))),128)),V(m("div",R3,[(J(!0),X(Fe,null,qe(r.semanasMes,(a,l)=>(J(),X("div",{class:"semana",key:"semana"+a},[m("div",P3,[m("div",{class:"boton",title:"Repetir los eventos de esta semana",onClick:u=>r.repetirEventosSemana(l)},O3,8,D3),m("div",{class:"boton",title:"Eliminar todos los eventos de esta semana",onClick:u=>r.deleteEventosSemana(l)},F3,8,M3)])]))),128))],512),[[K,n.tomandoAccion==="semana"]])])],512),[[K,!r.diaSeleccionado]]),r.diaSeleccionado?(J(),Ge(c,{eventoSiendoCreado:n.eventoSiendoCreado,hoy:n.dateHoy.getTime()===r.diaSeleccionado.date.getTime(),key:"dia"+r.diaSeleccionado.date.getTime(),esteDia:r.diaSeleccionado,horaPx:n.horaPx,scrollXCalendario:n.scrollX,idParent:o.idParent,idEventoSeleccionado:n.idEventoSeleccionado,idUsuarioTarget:o.idUsuarioTarget,tipoParent:o.tipoParent,enfasis:o.enfasis,modoEventosPublicosExtranjeros:n.modoEventosPublicosExtranjeros,usuarioVeEventosPublicos:n.usuarioVeEventosPublicos,onRegresar:t[5]||(t[5]=a=>n.numeroDiaSeleccionado=null),onIniciaCreacionEvento:t[6]||(t[6]=a=>e.$emit("iniciaCreacionEvento")),onClickEnEvento:t[7]||(t[7]=a=>n.idEventoSeleccionado=a.id),onDesSeleccionDeEvento:t[8]||(t[8]=a=>n.idEventoSeleccionado=null),onCambioEventos:r.reloadEventosRelevantes},null,8,["eventoSiendoCreado","hoy","esteDia","horaPx","scrollXCalendario","idParent","idEventoSeleccionado","idUsuarioTarget","tipoParent","enfasis","modoEventosPublicosExtranjeros","usuarioVeEventosPublicos","onCambioEventos"])):Ie("",!0)],2)}const ml=He(i3,[["render",B3],["__scopeId","data-v-154c2262"]]),U3="/caracol/assets/chevronCircle-d2f87b3a.svg",$3="/caracol/assets/tag-08adcf37.svg",vl="/caracol/assets/calendar-502cbab1.svg",v0="/caracol/assets/productHunt-982eae98.svg",g0="/caracol/assets/starSolid-2cad5fc9.svg",Ns="/caracol/assets/cog-a1bf6849.svg",j3="/caracol/assets/home-959f5783.svg",Cs="/caracol/assets/equis-115f5fad.svg",q3={name:"NodoVistaLista",components:{IconoPersonaAutonomo:ui,Loading:it,RecursoExternoNodo:_4,Calendario:ml},props:{idNodoOver:String,tipoNodoOver:String,underNodoSeleccionado:Boolean,index:Number,usuarioResponsableAmplioNodoOver:Boolean,nodoSiendoArrastrado:String,esteNodo:Object,indiceNodosUnder:Object,idNodoSeleccionado:String,mostrarColoresCompletado:Boolean,mostrandoNodosCompletados:Boolean,verCompletados:Boolean,modoLista:String,descendienteUsuarioResponsable:Boolean,idsNodosNeedingFetchMore:{type:Array,default:()=>[]}},mixins:[i4,s4,r4,n4,a4],data(){return{grabbed:!1,grabAttempt:0,recibiendoArrastradoEn:null,mostrandoNodosUnder:!1,mostrando:null,montado:!1,mostrandoBotonesBarraSuperior:!1,creandoEvento:!1,settingPublicitado:!1}},methods:{desplegarIfTargetUnder(e){var t=!1;return(this.$refs.nodosRequeridos||[]).forEach(o=>{(o.desplegarIfTargetUnder(e)||o.esteNodo.id===e)&&(this.mostrandoNodosUnder=!0,t=!0)}),t},grabbing(){this.usuarioResponsableAmplioNodoOver&&(this.grabbed=!0)},movimientoDeArrastre(e){if(this.grabbed&&this.attemptToGrab(e),this.nodoSiendoArrastrado&&!this.siendoArrastrado&&this.usuarioAdministrador){const t=this.$el.getBoundingClientRect(),o=e.clientY-t.top,i=t.bottom-t.top,n=o*100/i,r=20,s=80;n<r?this.recibiendoArrastradoEn="antes":n>s?this.recibiendoArrastradoEn="despues":this.recibiendoArrastradoEn="dentro"}},attemptToGrab(e){if(!this.grabbed)return;const t=15,o=Math.abs(e.movementX)+Math.abs(e.movementY);this.grabAttempt+=o,this.grabAttempt>t&&!this.siendoArrastrado&&(this.$emit("inicioArrastre",{idNodoArrastrado:this.esteNodo.id,idNodoSource:this.idNodoOver,tipoNodoSource:this.tipoNodoOver}),this.grabbed=!1,this.grabAttempt=0)},finalizarArrastre(){this.grabbed=!1,this.grabAttempt=0;const e={idNodoTarget:this.recibiendoArrastradoEn==="dentro"?this.esteNodo.id:this.idNodoOver,tipoNodoTarget:this.recibiendoArrastradoEn==="dentro"?"nodoSolidaridad":this.tipoNodoOver,index:this.recibiendoArrastradoEn==="antes"?this.index:this.recibiendoArrastradoEn==="despues"?this.index+1:this.esteNodo.vinculos.length};this.$emit("finDeArrastre",e)},afterCrearNodoUnder(e){this.mostrandoNodosUnder=!0,this.$emit("nodoSolidaridadCreado",e)},globalSetMostrarContenido(e,t){t?this.esteNodo[e]&&(this.esteNodo[e].length<1&&(e==="descripcion"||e==="keywords"||e==="recursosExternos")||(this.mostrando=e)):this.mostrando===e&&(this.mostrando=null),this.$refs.nodosRequeridos&&this.$refs.nodosRequeridos.length>0&&this.$refs.nodosRequeridos.forEach(o=>o.globalSetMostrarContenido(e,t))},iniciarCreacionEvento(){this.creandoEvento=!0},responderEventoCreado(){console.log("...")},responderEventoEliminado(){console.log("...")},togglePublicitado(){const e=!this.esteNodo.publicitado;console.log(`Setting publicitado en ${e}`),this.settingPublicitado=!0,this.$apollo.mutate({mutation:Dt`
          mutation($idNodo:ID!, $nuevoEstado: Boolean!){
            setPublicitadoNodoSolidaridad(idNodo: $idNodo, nuevoEstado:$nuevoEstado){
              id
              publicitado
            }
          } 
        `,variables:{idNodo:this.esteNodo.id,nuevoEstado:e}}).then(()=>{this.settingPublicitado=!1}).catch(t=>{console.log(`Error: ${t}`),this.settingPublicitado=!1})}},computed:{siendoArrastrado(){return this.nodoSiendoArrastrado===this.esteNodo.id},estiloRecibiendoArrastrado(){return this.recibiendoArrastradoEn==="antes"?{borderTop:"2px solid black"}:this.recibiendoArrastradoEn==="despues"?{borderBottom:"2px solid black"}:this.recibiendoArrastradoEn==="dentro"?{border:"2px solid black"}:{}},colorBarraSuperior(){var e="transparent";return this.seleccionado?e="var(--atlasNaranja)":this.underNodoSeleccionado&&(e="#ef72299c"),{backgroundColor:e}},seleccionado(){return this.idNodoSeleccionado&&this.esteNodo.id===this.idNodoSeleccionado},visible(){var e=this.esteNodo.estadoDesarrollo!="completado"||this.verCompletados;return e},children(){const e=this.indiceNodosUnder[this.esteNodo.id];return e?e.nodosChildren||[]:[]},requeridos(){const e=this.indiceNodosUnder[this.esteNodo.id];return e?e.nodosRequeridos||[]:[]}},watch:{seleccionado(e){e||(this.editandoNombre=!1)},mostrandoNodosUnder(e){e&&this.$emit("nodosRenderizados",this.esteNodo.vinculos.map(t=>t.idRef))},nodoSiendoArrastrado(e){e||(this.recibiendoArrastradoEn=null)},creandoEvento(e){e?this.$refs.calendario.eventoSiendoCreado={idParent:this.esteNodo.id,tipoParent:"nodoSolidaridad",tipoEvento:"eventoPersonal"}:this.$refs.calendario.eventoSiendoCreado=null}},mounted(){this.montado=!0}},$o=e=>(Ze("data-v-64abb6e8"),e=e(),Xe(),e),V3=["title"],H3=["fill"],z3=["fill"],Q3=["title"],G3=$o(()=>m("img",{src:di,alt:"Descripción"},null,-1)),K3=[G3],W3=["title"],J3=$o(()=>m("img",{src:_s,alt:"Responsables"},null,-1)),Y3=[J3],Z3=["title"],X3=$o(()=>m("img",{src:$3,alt:"Keywords"},null,-1)),e6=[X3],t6=["title"],o6=$o(()=>m("img",{src:ms,alt:"Enlace"},null,-1)),n6=[o6],i6=["title"],r6=$o(()=>m("img",{src:vl,alt:"calendario"},null,-1)),s6=[r6],a6={class:"contenedorBotones",id:"botonesAccionesNodo"},l6=["title"],c6=$o(()=>m("img",{src:v0,alt:"P"},null,-1)),u6=[c6],d6=["title"],h6=["fill"],f6={class:"contenedorBotones",id:"botonesEnlacesNodo"},p6=["href"],m6=$o(()=>m("img",{src:j3,alt:"Home",title:"Ir a la página de este nodo",id:"botonHomeNodo",class:"boton botonBarraSuperior"},null,-1)),v6=[m6],g6={class:"contenedorBotones",id:"botonesEliminarNodo"},b6={id:"contenidos"},y6={id:"zonaDescripcion",class:"zonaPrimerNivel"},w6={class:"contenedorBotonesCampo"},E6={id:"zonaKeywords",class:"zonaPrimerNivel"},A6={class:"contenedorBotonesCampo"},_6={id:"zonaRecursosExternos",class:"zonaPrimerNivel"},N6={id:"zonaResponsables",class:"zonaPrimerNivel"},C6={class:"contenedorBotonesZona",id:"contenedorBotonesResponsables"},S6=["title"],x6={key:0,id:"zonaCalendario",class:"zonaPrimerNivel"},I6={class:"contenedorBotonesZona",id:"contenedorBotonesCalendario",style:{"flex-direction":"row-reverse"}},T6=["title"],R6=$o(()=>m("img",{src:fl,alt:"Calendario"},null,-1)),P6=[R6],D6=$o(()=>m("img",{src:Cs,alt:"Cancelar"},null,-1)),k6=[D6],O6={key:0,id:"sublista"},M6={id:"lineaLista"},L6=$o(()=>m("div",{id:"lineaFinal"},null,-1));function F6(e,t,o,i,n,r){const s=Pe("loading"),c=Pe("recurso-externo-nodo"),a=Pe("icono-persona-autonomo"),l=Pe("calendario"),u=Pe("nodo-vista-lista",!0);return J(),X("div",{class:ve(["nodoVistaLista",{deshabilitado:e.enviandoQueryGeneral}]),onMouseleave:t[56]||(t[56]=h=>n.mostrando=n.mostrando==="opcionesCrear"?null:n.mostrando)},[m("div",{class:ve(["elementoLista",{mostrandoBotonesBarraSuperior:n.mostrandoBotonesBarraSuperior}])},[V(m("div",{id:"barraSuperior",class:ve({seleccionado:r.seleccionado,mostrandoBotonesBarraSuperior:n.mostrandoBotonesBarraSuperior,deshabilitado:o.nodoSiendoArrastrado&&!e.usuarioAdministrador}),onMousedown:t[24]||(t[24]=ge((...h)=>r.grabbing&&r.grabbing(...h),["stop"])),onMouseup:t[25]||(t[25]=ge((...h)=>r.finalizarArrastre&&r.finalizarArrastre(...h),["stop"])),onMousemove:t[26]||(t[26]=(...h)=>r.movimientoDeArrastre&&r.movimientoDeArrastre(...h)),onMouseleave:t[27]||(t[27]=h=>{n.recibiendoArrastradoEn=null,n.grabbed=!1,n.grabAttempt=0}),onClick:t[28]||(t[28]=h=>e.$emit("nodoSeleccionado",o.idNodoSeleccionado===o.esteNodo.id?null:o.esteNodo.id)),style:Oe([r.colorBarraSuperior,r.estiloRecibiendoArrastrado,{opacity:r.siendoArrastrado?"0.3":"1"}])},[m("div",{id:"zonaIconoNodo",onClick:t[0]||(t[0]=ge(h=>n.mostrandoNodosUnder=r.requeridos.length>0?!n.mostrandoNodosUnder:!1,["stop"]))},[m("div",{id:"trianguloAbrirChildren",class:ve(["trianguloBullet",{waitingFetchChildren:o.idsNodosNeedingFetchMore.includes(o.esteNodo.id)}]),title:o.idsNodosNeedingFetchMore.includes(o.esteNodo.id)?"Descargando nodos...":n.mostrandoNodosUnder?"Cerrar subnodos":"Abrir subnodos",style:Oe([{transform:n.mostrandoNodosUnder?"rotate(90deg)":"",visibility:o.esteNodo.vinculos.length>0?"visible":"hidden"}])},null,14,V3),o.esteNodo.tipoNodo==="trabajo"?(J(),X("svg",{key:0,"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"cog",class:"svg-inline--fa fa-cog fa-w-16 iconoTipoNodo",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",style:Oe({opacity:o.idNodoOver&&o.idNodoOver!=o.esteNodo.nodoParent?"0.5":"1"})},[m("path",{fill:e.colorIcono,d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},null,8,H3)],4)):(J(),X("svg",{key:1,"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"star",class:"svg-inline--fa fa-star fa-w-18 iconoTipoNodo",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",style:Oe({opacity:o.idNodoOver&&o.idNodoOver!=o.esteNodo.nodoParent?"0.5":"1"})},[m("path",{fill:e.colorIcono,d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},null,8,z3)],4))]),V(m("input",{onKeypress:t[1]||(t[1]=vt(ge((...h)=>e.guardarNuevoNombre&&e.guardarNuevoNombre(...h),["prevent"]),["enter"])),ref:"inputNuevoNombre","onUpdate:modelValue":t[2]||(t[2]=h=>e.nuevoNombre=h),style:{width:"250px"},onClick:t[3]||(t[3]=ge(()=>{},["stop"])),onBlur:t[4]||(t[4]=h=>e.editandoNombre=!1),onKeydown:t[5]||(t[5]=(...h)=>e.keydownInputNuevoNombre&&e.keydownInputNuevoNombre(...h)),type:"text",class:ve(["inputNuevoNombre inputNombreCosa",{deshabilitado:e.enviandoNuevoNombre}])},null,34),[[Ke,e.nuevoNombre],[K,e.editandoNombre]]),V(Te(s,{texto:""},null,512),[[K,e.enviandoNuevoNombre]]),V(m("div",{id:"elNombre",class:ve({mostrandoBotonesBarraSuperior:n.mostrandoBotonesBarraSuperior,deshabilitado:e.enviandoNuevoNombre}),onClick:t[6]||(t[6]=(...h)=>e.toggleEditandoNombre&&e.toggleEditandoNombre(...h))},Ee(o.esteNodo.nombre),3),[[K,!e.editandoNombre]]),m("img",{id:"botonAbrirBotonesBarraSuperior",class:ve(["boton",{mostrandoBotonesBarraSuperior:n.mostrandoBotonesBarraSuperior}]),src:U3,title:"Ver opciones",style:Oe({transform:n.mostrandoBotonesBarraSuperior?"":"rotate(90deg)"}),onClick:t[7]||(t[7]=ge(h=>n.mostrandoBotonesBarraSuperior=!n.mostrandoBotonesBarraSuperior,["stop"]))},null,6),m("div",{id:"contenedorBotonesBarraSuperior",class:ve({mostrandoBotonesBarraSuperior:n.mostrandoBotonesBarraSuperior,mostrandoOpcionesCrear:n.mostrando==="opcionesCrear"}),onClick:t[23]||(t[23]=ge(()=>{},["stop"]))},[m("div",{class:"contenedorBotones",id:"contenedorBotonesSelectoresContenidoNodo",style:Oe({visibility:n.mostrando!=null?"visible":""})},[m("div",{class:ve(["boton botonSelectorContenidoNodo botonBarraSuperior",{deshabilitado:(!o.esteNodo.descripcion||o.esteNodo.descripcion.length<1||o.esteNodo.descripcion==="Sin descripcion"||o.esteNodo.descripcion==="Sin descripción")&&!e.usuarioAdministrador}]),style:Oe({borderColor:n.mostrando==="descripcion"?"white":"black"}),onDblclick:t[8]||(t[8]=ge(h=>e.$emit("toggleContenidoTodos",{contenido:"descripcion",estado:n.mostrando!="descripcion"}),["stop","prevent"])),onClick:t[9]||(t[9]=h=>n.mostrando=n.mostrando==="descripcion"?null:"descripcion"),title:n.mostrando==="descripcion"?"":"Mostrar descripción"},K3,46,Q3),m("div",{class:"boton botonSelectorContenidoNodo botonBarraSuperior",style:Oe({borderColor:n.mostrando==="responsables"?"white":"black"}),onDblclick:t[10]||(t[10]=ge(h=>e.$emit("toggleContenidoTodos",{contenido:"responsables",estado:n.mostrando!="responsables"}),["stop","prevent"])),onClick:t[11]||(t[11]=h=>n.mostrando=n.mostrando==="responsables"?null:"responsables"),title:n.mostrando==="responsables"?"":"Mostrar responsables del nodo"},Y3,44,W3),e.usuarioAdministrador?(J(),X("div",{key:0,class:ve(["boton botonSelectorContenidoNodo botonBarraSuperior",{deshabilitado:!o.esteNodo.keywords||o.esteNodo.keywords.length<1}]),style:Oe({borderColor:n.mostrando==="keywords"?"white":"black"}),onDblclick:t[12]||(t[12]=ge(h=>e.$emit("toggleContenidoTodos",{contenido:"keywords",estado:n.mostrando!="keywords"}),["stop","prevent"])),onClick:t[13]||(t[13]=h=>n.mostrando=n.mostrando==="keywords"?null:"keywords"),title:n.mostrando==="keywords"?"":"Mostrar palabras clave"},e6,46,Z3)):Ie("",!0),m("div",{class:ve(["boton botonSelectorContenidoNodo botonBarraSuperior",{deshabilitado:!o.esteNodo.recursosExternos||o.esteNodo.recursosExternos.length<1}]),onDblclick:t[14]||(t[14]=ge(h=>e.$emit("toggleContenidoTodos",{contenido:"recursosExternos",estado:n.mostrando!="recursosExternos"}),["stop","prevent"])),onClick:t[15]||(t[15]=h=>n.mostrando=n.mostrando==="recursosExternos"?null:"recursosExternos"),style:Oe({borderColor:n.mostrando==="recursosExternos"?"white":"black"}),title:n.mostrando==="recursosExternos"?"":"Mostrar recursosExternos"},n6,46,t6),m("div",{class:"boton botonSelectorContenidoNodo botonBarraSuperior",style:Oe({borderColor:n.mostrando==="calendario"?"white":"black"}),onClick:t[16]||(t[16]=h=>n.mostrando=n.mostrando==="calendario"?null:"calendario"),title:n.mostrando==="calendario"?"Ocultar calendario":"Mostrar en calendario"},s6,12,i6)],4),m("div",a6,[V(m("div",{class:"boton botonBarraSuperior",title:o.esteNodo.publicitado?"No publicitar":"Publicitar",style:Oe([{filter:o.esteNodo.publicitado?"var(--atlasFilterVerde)":""}]),onClick:t[17]||(t[17]=(...h)=>r.togglePublicitado&&r.togglePublicitado(...h))},u6,12,l6),[[K,e.usuarioAdministrador||e.usuarioSuperadministrador]]),V((J(),X("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"check-circle",class:ve(["svg-inline--fa fa-check-circle fa-w-16 boton botonBarraSuperior",{deshabilitado:e.togglingEstado||!e.usuarioAdministrador}]),role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",title:o.esteNodo.estadoDesarrollo==="completado"?"Desmarcar como completado":"Marcar como completado",id:"botonMarcarCompletado",onClick:t[18]||(t[18]=ge(h=>e.toggleEstadoNodo(),["stop"]))},[m("path",{fill:o.esteNodo.estadoDesarrollo==="completado"?"var(--atlasVerde)":"",d:"M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 48c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m140.204 130.267l-22.536-22.718c-4.667-4.705-12.265-4.736-16.97-.068L215.346 303.697l-59.792-60.277c-4.667-4.705-12.265-4.736-16.97-.069l-22.719 22.536c-4.705 4.667-4.736 12.265-.068 16.971l90.781 91.516c4.667 4.705 12.265 4.736 16.97.068l172.589-171.204c4.704-4.668 4.734-12.266.067-16.971z"},null,8,h6)],10,d6)),[[K,!e.togglingEstado]]),V(Te(s,{texto:""},null,512),[[K,e.togglingEstado]]),m("div",{id:"botonCrear",class:ve({deshabilitado:e.creandoSubNodo||!e.usuarioResponsableAmplio})},[V(m("img",{src:li,alt:"Mas...",title:"Nuevo...",id:"botonCrearNuevoNodo",class:"boton botonBarraSuperior",style:Oe([{borderColor:n.mostrando==="opcionesCrear"?"white":"transparent"}]),onClick:t[19]||(t[19]=h=>n.mostrando=n.mostrando==="opcionesCrear"?null:"opcionesCrear")},null,4),[[K,n.mostrando!="opcionesCrear"]]),V(m("div",{id:"contenedorOpcionesCrear",style:Oe([{borderColor:n.mostrando==="opcionesCrear"?"white":"transparent"}])},[V(m("img",{src:g0,alt:"Objetivo",title:"Crear nuevo objetivo",class:"boton botonBarraSuperior opcionCrear",onClick:t[20]||(t[20]=h=>e.crearNuevoNodoUnder({tipoNodo:"objetivo"},o.esteNodo.id))},null,512),[[K,o.esteNodo.tipoNodo==="objetivo"]]),m("img",{src:Ns,alt:"Trabajo",title:"Crear nuevo trabajo",class:"boton botonBarraSuperior opcionCrear",onClick:t[21]||(t[21]=h=>e.crearNuevoNodoUnder({tipoNodo:"trabajo"},o.esteNodo.id))}),V(Te(s,{texto:""},null,512),[[K,e.creandoSubNodo]])],4),[[K,n.mostrando==="opcionesCrear"]])],2)]),m("div",f6,[m("a",{href:e.clienteUrl+"/#/homeNodoSolidaridad/"+o.esteNodo.id},v6,8,p6)]),m("div",g6,[V(m("img",{src:Dn,alt:"Eliminar",title:"Eliminar este nodo",id:"botonEliminarNodo",class:"boton botonBarraSuperior",onClick:t[22]||(t[22]=(...h)=>e.eliminarse&&e.eliminarse(...h))},null,512),[[K,e.usuarioAdministrador]])])],2)],38),[[K,(o.modoLista==="todo"||o.modoLista==="usuarioResponsable"&&(e.usuarioResponsable||o.descendienteUsuarioResponsable))&&(r.visible||r.seleccionado)]]),m("div",b6,[V(m("div",y6,[V(m("div",{id:"descripcion",class:"contenidoTexto",ref:"descripcion",onClick:t[29]||(t[29]=(...h)=>e.toggleEditandoDescripcion&&e.toggleEditandoDescripcion(...h))},Ee(o.esteNodo.descripcion),513),[[K,!e.editandoDescripcion]]),V(m("textarea",{id:"inputNuevoDescripcion",ref:"inputNuevoDescripcion",class:ve(["inputTextoNodo",{letrasRojas:e.nuevoDescripcionIlegal}]),"onUpdate:modelValue":t[30]||(t[30]=h=>e.nuevoDescripcion=h)},null,2),[[Ke,e.nuevoDescripcion],[K,e.editandoDescripcion]]),V(m("div",w6,[m("img",{src:Pn,class:"botonGuardarCampo",alt:"Guardar",title:"Guardar descripción",id:"botonGuardarDescripcion",onClick:t[31]||(t[31]=(...h)=>e.guardarNuevoDescripcion&&e.guardarNuevoDescripcion(...h))}),m("img",{src:zt,class:"botonGuardarCampo",alt:"Cancelar",title:"Cancelar edición",id:"botonCancelarEdicionDescripcion",onClick:t[32]||(t[32]=h=>e.editandoDescripcion=!1)})],512),[[K,e.editandoDescripcion]]),V(Te(s,{texto:"Enviando..."},null,512),[[K,e.enviandoNuevoDescripcion]])],512),[[K,n.mostrando==="descripcion"]]),V(m("div",E6,[V(m("div",{id:"keywords",class:"contenidoTexto",ref:"keywords",onClick:t[33]||(t[33]=(...h)=>e.toggleEditandoKeywords&&e.toggleEditandoKeywords(...h))},Ee(o.esteNodo.keywords),513),[[K,!e.editandoKeywords]]),V(m("textarea",{id:"inputNuevoKeywords",ref:"inputNuevoKeywords",class:ve(["inputTextoNodo",{letrasRojas:e.nuevoKeywordsIlegal}]),"onUpdate:modelValue":t[34]||(t[34]=h=>e.nuevoKeywords=h),onKeydown:[t[35]||(t[35]=vt(ge(h=>e.editandoKeywords=!1,["stop"]),["esc"])),t[36]||(t[36]=vt(ge((...h)=>e.guardarNuevoKeywords&&e.guardarNuevoKeywords(...h),["prevent","stop"]),["enter"]))]},null,34),[[Ke,e.nuevoKeywords],[K,e.editandoKeywords]]),V(m("div",A6,[m("img",{src:Pn,class:"botonGuardarCampo",alt:"Guardar",title:"Guardar palabras clave",id:"botonGuardarKeywords",onClick:t[37]||(t[37]=(...h)=>e.guardarNuevoKeywords&&e.guardarNuevoKeywords(...h))}),m("img",{src:zt,class:"botonGuardarCampo",alt:"Cancelar",title:"Cancelar edición",id:"botonCancelarEdicionKeywords",onClick:t[38]||(t[38]=h=>e.editandoKeywords=!1)})],512),[[K,e.editandoKeywords]]),V(Te(s,{texto:"Enviando..."},null,512),[[K,e.enviandoNuevoKeywords]])],512),[[K,n.mostrando==="keywords"]]),V(m("div",_6,[(J(!0),X(Fe,null,qe(o.esteNodo.recursosExternos,h=>(J(),Ge(c,{key:h.id,usuarioResponsableAmplio:e.usuarioResponsableAmplio,esteRecurso:h,idNodo:o.esteNodo.id},null,8,["usuarioResponsableAmplio","esteRecurso","idNodo"]))),128))],512),[[K,n.mostrando==="recursosExternos"]]),V(m("div",N6,[m("div",C6,[V(m("img",{src:t0,alt:"Entrar",title:o.esteNodo.responsables.length<1&&o.esteNodo.tipoParent!="usuario"||e.usuarioParent?"Asumir":"Solicitar participación",id:"botonEntrarResponsables",class:ve(["botonControlZona botonControlResponsables",{deshabilitado:e.enviandoQueryResponsables}]),onClick:t[39]||(t[39]=ge((...h)=>e.entrarResponsables&&e.entrarResponsables(...h),["stop"]))},null,10,S6),[[K,!e.usuarioResponsable&&!e.usuarioPosibleResponsable&&!e.idResponsableSeleccionado]]),V(m("img",{src:nd,alt:"Salir",title:"Abandonar",id:"botonAbandonarResponsables",class:ve(["botonControlZona botonControlResponsables",{deshabilitado:e.enviandoQueryResponsables}]),onClick:t[40]||(t[40]=ge((...h)=>e.abandonarListaResponsables&&e.abandonarListaResponsables(...h),["stop"]))},null,2),[[K,(e.usuarioResponsable||e.usuarioPosibleResponsable)&&!e.idResponsableSeleccionado]]),V(m("img",{src:nd,alt:"Sacar",title:"Retirar usuario",id:"botonRetirarUsuarioFromResponsables",class:ve(["boton botonControlZona botonControlResponsables",{deshabilitado:e.enviandoQueryResponsables}]),onClick:t[41]||(t[41]=ge(h=>e.retirarUsuarioFromListaResponsables(e.idResponsableSeleccionado),["stop"]))},null,2),[[K,e.idResponsableSeleccionado&&(e.usuarioSuperadministrador||e.usuarioParent)]]),V(m("img",{src:o0,alt:"Aceptar",title:"Aceptar como responsable",id:"botonAbandonarResponsables",class:ve(["botonControlZona botonControlResponsables",{deshabilitado:e.enviandoQueryResponsables}]),onClick:t[42]||(t[42]=h=>e.aceptarResponsable(e.idResponsableSeleccionado))},null,2),[[K,e.usuarioResponsableAmplio&&e.idResponsableSeleccionado&&!o.esteNodo.responsables.includes(e.idResponsableSeleccionado)]]),V(Te(s,{texto:""},null,512),[[K,e.enviandoQueryResponsables]])]),m("div",{id:"listaResponsables",onClick:t[43]||(t[43]=ge(h=>e.idResponsableSeleccionado=null,["stop"]))},[(J(!0),X(Fe,null,qe(o.esteNodo.responsables.concat(o.esteNodo.posiblesResponsables),h=>(J(),Ge(a,{style:Oe({opacity:o.esteNodo.posiblesResponsables.includes(h)?.5:1}),key:h,idPersona:h,seleccionado:e.idResponsableSeleccionado==h,factorEscala:"0.7",onClick:ge(f=>e.idResponsableSeleccionado=h,["stop"])},null,8,["style","idPersona","seleccionado","factorEscala","onClick"]))),128))])],512),[[K,n.mostrando==="responsables"]]),n.mostrando==="calendario"?(J(),X("div",x6,[m("div",I6,[e.usuarioAdministrador?V((J(),X("div",{key:0,class:"boton botonControlCalendario",title:"Programar una sesión de "+o.esteNodo.nombre,onClick:t[44]||(t[44]=(...h)=>r.iniciarCreacionEvento&&r.iniciarCreacionEvento(...h))},P6,8,T6)),[[K,n.mostrando==="calendario"&&!n.creandoEvento]]):Ie("",!0),V(m("div",{class:"boton",title:"Cancelar",onClick:t[45]||(t[45]=h=>n.creandoEvento=!1)},k6,512),[[K,n.creandoEvento]])]),Te(l,{idUsuarioTarget:e.usuario.id,ref:"calendario",idParent:o.esteNodo.id,enfasis:"eventosPersonales",tipoParent:"nodoSolidaridad",onIniciaCreacionEvento:t[46]||(t[46]=h=>n.creandoEvento=!1),onEventoCreado:t[47]||(t[47]=h=>r.responderEventoCreado(h,"calendario")),onEventoEliminado:t[48]||(t[48]=h=>r.responderEventoEliminado(h,"calendario"))},null,8,["idUsuarioTarget","idParent"])])):Ie("",!0)]),r.requeridos.length>0?V((J(),X("div",O6,[V(m("div",M6,null,512),[[K,n.mostrandoNodosUnder]]),(J(!0),X(Fe,null,qe(r.requeridos,(h,f)=>(J(),Ge(u,{ref_for:!0,ref:"nodosRequeridos",key:h.id,esteNodo:h,index:f,idNodoSeleccionado:o.idNodoSeleccionado,id:"nodoEnLista"+h.id,mostrarColoresCompletado:r.seleccionado,mostrandoNodosCompletados:o.mostrandoNodosCompletados,verCompletados:o.verCompletados,modoLista:o.modoLista,indiceNodosUnder:o.indiceNodosUnder,descendienteUsuarioResponsable:e.usuarioResponsable||o.descendienteUsuarioResponsable,usuarioResponsableAmplioNodoOver:e.usuarioResponsableAmplio,idsNodosNeedingFetchMore:o.idsNodosNeedingFetchMore,nodoSiendoArrastrado:o.nodoSiendoArrastrado,idNodoOver:o.esteNodo.id,tipoNodoOver:"nodoSolidaridad",underNodoSeleccionado:o.idNodoSeleccionado&&o.idNodoSeleccionado===o.esteNodo.id||o.underNodoSeleccionado,onNodoSeleccionado:t[49]||(t[49]=g=>e.$emit("nodoSeleccionado",g)),onNodosRenderizados:t[50]||(t[50]=g=>e.$emit("nodosRenderizados",g)),onInicioArrastre:t[51]||(t[51]=g=>e.$emit("inicioArrastre",g)),onFinDeArrastre:t[52]||(t[52]=g=>e.$emit("finDeArrastre",g)),onToggleContenidoTodos:t[53]||(t[53]=g=>e.$emit("toggleContenidoTodos",g)),onMeElimine:g=>e.$emit("nodoEliminado",h.id),onNodoEliminado:t[54]||(t[54]=g=>e.$emit("nodoEliminado",g)),onNodoSolidaridadCreado:t[55]||(t[55]=g=>e.$emit("nodoSolidaridadCreado",g))},null,8,["esteNodo","index","idNodoSeleccionado","id","mostrarColoresCompletado","mostrandoNodosCompletados","verCompletados","modoLista","indiceNodosUnder","descendienteUsuarioResponsable","usuarioResponsableAmplioNodoOver","idsNodosNeedingFetchMore","nodoSiendoArrastrado","idNodoOver","underNodoSeleccionado","onMeElimine"]))),128)),L6],512)),[[K,n.mostrandoNodosUnder]]):Ie("",!0)],2)],34)}const B6=He(q3,[["render",F6],["__scopeId","data-v-64abb6e8"]]),U6={components:{NodoVistaLista:B6},name:"ListaNodos",props:{usuarioResponsableAmplioNodoRoot:Boolean,idNodoSeleccionado:String,todosNodos:Array,verCompletados:Boolean,verAsumidos:Boolean,verVacios:Boolean,idNodoRoot:String,tipoNodoRoot:String,nodoRoot:Object,indiceNodosUnder:Object,modoLista:{type:String,default:"todo"},idsNodosNeedingFetchMore:{type:Array,default:()=>[]}},data(){return{idNodoEnArrastre:null,idNodoSourceArrastre:null,tipoNodoSourceArrastre:null}},methods:{guardarChildren(e){e.children=this.nodosTodos.filter(t=>t.nodoParent===e.id)},desplegarCascadaHaciaNodo(e){this.$refs.nodosEnLista.forEach(t=>{t.desplegarIfTargetUnder(e)})},scrollToNodo(e){const o=document.getElementById("nodoEnLista"+e).getBoundingClientRect().top-this.$el.getBoundingClientRect().top;this.$el.scrollTop=o},centrarEnItem(e){this.desplegarCascadaHaciaNodo(e),this.$nextTick(()=>{this.scrollToNodo(e),this.idNodoSeleccionado!=e&&this.$emit("nodoSeleccionado",e)})},iniciarArrastre({idNodoArrastrado:e,idNodoSource:t,tipoNodoSource:o}){this.idNodoEnArrastre=e,this.idNodoSourceArrastre=t,this.tipoNodoSourceArrastre=o},finalizarArrastre({idNodoTarget:e,tipoNodoTarget:t,index:o}){if(!this.idNodoEnArrastre||!this.tipoNodoSourceArrastre)return;const i={idNodoRequerido:this.idNodoEnArrastre,idNodoSource:this.idNodoSourceArrastre,tipoNodoSource:this.tipoNodoSourceArrastre,idNodoTarget:e,tipoNodoTarget:t,index:o};this.idNodoEnArrastre=null,this.tipoNodoSourceArrastre=null,this.$apollo.mutate({mutation:he`
            mutation (
              $idNodoRequerido: ID!
              $idNodoSource: ID!
              $tipoNodoSource: String!
              $idNodoTarget: ID!
              $tipoNodoTarget: String!
              $index: Int
            ) {
              transferirRequerimentoBetweenNodosSolidaridad(
                idNodoRequerido: $idNodoRequerido
                idNodoSource: $idNodoSource
                tipoNodoSource: $tipoNodoSource
                idNodoTarget: $idNodoTarget
                tipoNodoTarget: $tipoNodoTarget
                index: $index
              ) {
                nodosModificados{
                  ...fragNodoSolidaridad                
                }
                usuariosModificados{
                  ...fragPersonaAtlas
                }
              }
            }
            ${ei}
            ${Ji}
          `,variables:i}).then(()=>{this.$emit("nodoSeleccionado",i.idNodoRequerido)}).catch(n=>{console.log(`Error: ${n}`)})},toggleContenidoTodos({contenido:e,estado:t}){console.log(`Setting en todos ${e}. Mostrar: ${t}`),this.$refs.nodosEnLista.forEach(o=>o.globalSetMostrarContenido(e,t))}},computed:{nodosPrimerNivel(){var e=this.todosNodos.filter(t=>this.nodoRoot.vinculos.map(o=>o.idRef).includes(t.id)).sort((t,o)=>this.nodoRoot.vinculos.findIndex(i=>i.idRef===t.id)-this.nodoRoot.vinculos.findIndex(i=>i.idRef===o.id));return e}},watch:{idNodoEnArrastre(e){e||(this.idNodoSourceArrastre=null,this.tipoNodoSourceArrastre=null)},nodosPrimerNivel(e){this.$emit("nodosRenderizados",e.map(t=>t.id))}}};function $6(e,t,o,i,n,r){const s=Pe("nodo-vista-lista");return J(),X("div",{id:"listaNodos",onMousedown:t[5]||(t[5]=ge(()=>{},["stop"])),onTouchmove:t[6]||(t[6]=ge(()=>{},["stop"])),onTouchstart:t[7]||(t[7]=ge(()=>{},["stop"])),onTouchend:t[8]||(t[8]=ge(()=>{},["stop"])),onMouseleave:t[9]||(t[9]=ge(c=>{n.idNodoEnArrastre=null,n.tipoNodoSourceArrastre=null},["stop"])),onMouseup:t[10]||(t[10]=ge(c=>{n.idNodoEnArrastre=null,n.tipoNodoSourceArrastre=null},["stop"]))},[Te(jg,{name:"unfoldVertical",tag:"div",id:"laListaNodos"},{default:Jt(()=>[(J(!0),X(Fe,null,qe(r.nodosPrimerNivel,(c,a)=>(J(),Ge(s,{ref_for:!0,ref:"nodosEnLista",id:"nodoEnLista"+c.id,key:"nodoLista"+c.id,esteNodo:c,idNodoSeleccionado:o.idNodoSeleccionado,verCompletados:o.verCompletados,verAsumidos:o.verAsumidos,verVacios:o.verVacios,modoLista:o.modoLista,indiceNodosUnder:o.indiceNodosUnder,idsNodosNeedingFetchMore:o.idsNodosNeedingFetchMore,nodoSiendoArrastrado:n.idNodoEnArrastre,usuarioResponsableAmplioNodoOver:o.usuarioResponsableAmplioNodoRoot,idNodoOver:o.idNodoRoot,tipoNodoOver:o.tipoNodoRoot,index:a,onNodoSeleccionado:t[0]||(t[0]=l=>e.$emit("nodoSeleccionado",l)),onNodosRenderizados:t[1]||(t[1]=l=>e.$emit("nodosRenderizados",l)),onInicioArrastre:t[2]||(t[2]=l=>r.iniciarArrastre(l)),onFinDeArrastre:r.finalizarArrastre,onToggleContenidoTodos:r.toggleContenidoTodos,onNodoEliminado:t[3]||(t[3]=l=>e.$emit("nodoEliminado",l)),onMeElimine:l=>e.$emit("nodoEliminado",c.id),onNodoSolidaridadCreado:t[4]||(t[4]=l=>e.$emit("nodoSolidaridadCreado",l))},null,8,["id","esteNodo","idNodoSeleccionado","verCompletados","verAsumidos","verVacios","modoLista","indiceNodosUnder","idsNodosNeedingFetchMore","nodoSiendoArrastrado","usuarioResponsableAmplioNodoOver","idNodoOver","tipoNodoOver","index","onFinDeArrastre","onToggleContenidoTodos","onMeElimine"]))),128))]),_:1})],32)}const j6=He(U6,[["render",$6],["__scopeId","data-v-4dc1e563"]]),q6={components:{ListaNodos:j6,BuscadorNodos:ZB,Loading:it},name:"VentanaLista",props:{idNodoRoot:String,tipoNodoRoot:String,cerrable:Boolean},mixins:[TB],data(){return{idNodoSeleccionado:null,listaSeleccionada:null,verCompletados:!0,modoLista:"todo"}},methods:{desplegarCascadaHaciaNodo(e){this.$refs.listaNodos.desplegarCascadaHaciaNodo(e)},updateInfoNodosEverRendered(e){const o=e.filter(i=>!this.infoNodosEverRendered.map(n=>n.id).includes(i)).map(i=>({id:i,tipo:"nodoSolidaridad"}));this.infoNodosEverRendered.push(...o)}},computed:{nodoSeleccionado(){return this.idNodoSeleccionado?this.todosNodos.find(e=>e.id===this.idNodoSeleccionado):null},descendientesNodoSeleccionado(){if(!this.nodoSeleccionado)return null;const e=5;for(var t=0,o=[this.nodoSeleccionado.id],i=[];o.length>0&&t<e;){console.log("Descendientes"),t++;let r=this.todosNodos.filter(s=>o.includes(s.id));var n=[];r.forEach(s=>{s.vinculos.filter(c=>c.tipo==="requiere").map(c=>c.idRef).forEach(c=>{n.indexOf(c)===-1&&n.push(c)})}),i=i.concat(n),o=n}return i},usuarioResponsableAmplioNodoRoot(){return!this.usuarioLogeado||!this.usuario||!this.usuario.id||!this.nodoRoot?!1:this.nodoRoot.responsablesAmplio&&this.nodoRoot.responsablesAmplio.includes(this.usuario.id)}},watch:{nodoRoot(){if(this.nodoRoot){var e={id:this.nodoRoot.id,tipo:this.nodoRoot.__typename.charAt(0).toLowerCase()+this.nodoRoot.__typename.slice(1)};this.infoNodosEverRendered.push(e)}}}},V6={id:"barraSuperior"},H6={id:"bloqueBotonesControl"},z6={id:"zonaVerNodos",class:"zonaControl"},Q6=["title"];function G6(e,t,o,i,n,r){const s=Pe("buscador-nodos"),c=Pe("loading"),a=Pe("lista-nodos");return J(),X("div",{class:"ventanaLista",onMouseup:t[6]||(t[6]=ge(()=>{},["stop"])),onMousedown:t[7]||(t[7]=ge(()=>{},["stop"])),onTouchmove:t[8]||(t[8]=ge(()=>{},["stop"])),onTouchstart:t[9]||(t[9]=ge(()=>{},["stop"])),onTouchend:t[10]||(t[10]=ge(()=>{},["stop"]))},[m("div",V6,[Te(s,{listaIdsNodosRelevantes:e.nodosSolidaridad.map(l=>l.id)},null,8,["listaIdsNodosRelevantes"]),m("div",H6,[m("div",z6,[m("div",{class:"botonVerNodos",onClick:t[0]||(t[0]=l=>n.verCompletados=!n.verCompletados),id:"botonVerCompletados",title:n.verCompletados?"Ocultar nodos completados":"Mostrar nodos completados",style:Oe({borderColor:n.verCompletados?"#858585":"transparent",opacity:n.verCompletados?1:.3})},null,12,Q6)]),o.cerrable?(J(),X("img",{key:0,src:zt,alt:"cerrar",title:"Cerrar ventana de lista",id:"botonCerrar",onClick:t[1]||(t[1]=ge(l=>e.$emit("cerrarme"),["stop"]))})):Ie("",!0)])]),V(Te(c,null,null,512),[[K,e.$apollo.queries.nodoRoot.loading||e.idsNodosNeedingFetchMore.includes(o.idNodoRoot)]]),Te(a,{todosNodos:e.nodosSolidaridad,class:"lista",ref:"listaNodos",idNodoSeleccionado:n.idNodoSeleccionado,verCompletados:n.verCompletados,modoLista:n.modoLista,idNodoRoot:o.idNodoRoot,tipoNodoRoot:o.tipoNodoRoot,nodoRoot:e.nodoRoot,idsNodosNeedingFetchMore:e.idsNodosNeedingFetchMore,indiceNodosUnder:e.indiceNodosUnder,usuarioResponsableAmplioNodoRoot:r.usuarioResponsableAmplioNodoRoot,onNodoSeleccionado:t[2]||(t[2]=l=>n.idNodoSeleccionado=l),onClick:t[3]||(t[3]=ge(l=>n.idNodoSeleccionado=null,["self"])),onNodosRenderizados:r.updateInfoNodosEverRendered,onNodoEliminado:t[4]||(t[4]=l=>e.removeNodoFromNodosSolidaridad(l)),onNodoSolidaridadCreado:t[5]||(t[5]=l=>e.addNodoToNodosSolidaridad(l))},null,8,["todosNodos","idNodoSeleccionado","verCompletados","modoLista","idNodoRoot","tipoNodoRoot","nodoRoot","idsNodosNeedingFetchMore","indiceNodosUnder","usuarioResponsableAmplioNodoRoot","onNodosRenderizados"])],32)}const b0=He(q6,[["render",G6],["__scopeId","data-v-e6d04e11"]]),y0="/caracol/assets/babySolid-ecc972cb.svg",K6={components:{Loading:it},name:"BloqueHorario",props:{esteBloque:Object,idBloqueSeleccionado:String,factorZoom:Number,idBloqueMenuContextual:String,mostrarCantidadAsistentes:Boolean},data(){var e=localStorage.getItem("coloresEspacios")?JSON.parse(localStorage.getItem("coloresEspacios")):[];return{coloresEspacios:e,eliminandose:!1,settingTiempos:!1,mostrarVentana:!1,editandoHoraInicio:!1,editandoHoraFinal:!1}},computed:{duracionMinutos(){return Math.round((this.esteBloque.millisFinal-this.esteBloque.millisInicio)/6e4)},mostrandoMenuContextual(){return this.idBloqueMenuContextual===this.esteBloque.id},miColor(){if(!this.coloresEspacios)return"#a04d4d";const e=this.coloresEspacios.findIndex(t=>t[0]===this.esteBloque.idEspacio);return e>-1?this.coloresEspacios[e][1]:"#a04d4d"},seleccionado(){return this.idBloqueSeleccionado===this.esteBloque.id},usuarioAdministrador(){return this.usuario.id===this.esteBloque.idAdministradorEspacio},minutosInicio(){return Math.round(this.esteBloque.millisInicio/6e4)},minutosFinal(){return Math.round(this.esteBloque.millisFinal/6e4)},tiempoInicioFormateado(){return this.toTiempoFormateado(this.minutosInicio)},tiempoFinalFormateado(){return this.toTiempoFormateado(this.minutosFinal)},usuarioAsiste(){return this.usuarioAdministrador||this.esteBloque.idsParticipantesConstantes.includes(this.usuario.id)},colorBarraTag(){var e="rgb(182 182 182)";return this.usuarioAsiste&&(e="var(--calendarioUsuario)"),this.usuarioAdministrador&&(e="var(--calendarioUsuarioStrong)"),{backgroundColor:e}}},methods:{setColorEspacio(){const e=this.$refs.inputColor;console.log(`Setting color en ${e.value} para el espacio ${this.esteBloque.nombreEspacio} con id ${this.esteBloque.idEspacio}`);const t=this.coloresEspacios.findIndex(o=>o[0]===this.esteBloque.idEspacio);t>-1?this.$set(this.coloresEspacios,t,[this.esteBloque.idEspacio,e.value]):this.coloresEspacios.push([this.esteBloque.idEspacio,e.value]),localStorage.setItem("coloresEspacios",JSON.stringify(this.coloresEspacios))},eliminarse(){if(!this.usuarioAdministrador&&!this.usuarioSuperadministrador){console.log("No autorizado");return}this.eliminandose=!0,this.$apollo.mutate({mutation:he`
            mutation ($idEspacio: ID!, $idIteracion: ID!) {
              eliminarIteracionSemanalEspacio(
                idEspacio: $idEspacio
                idIteracion: $idIteracion
              )
            }
          `,variables:{idEspacio:this.esteBloque.idEspacio,idIteracion:this.esteBloque.id}}).then(()=>{this.eliminandose=!1,this.$emit("meElimine")}).catch(e=>{console.log("Error: "+e),this.eliminandose=!1})},toggleDuracionBloque(){if(console.log(`Toggleando bloque que tiene minutosInicio ${this.minutosInicio} y minutosFinal ${this.minutosFinal}`),!this.usuarioAdministrador&&!this.usuarioSuperadministrador){console.log("No autorizado");return}this.minutosInicio===480?this.minutosFinal===600?this.setMinutos(480,540):this.setMinutos(480,600):this.minutosInicio===540?this.setMinutos(480,600):this.minutosInicio===630?this.minutosFinal===750?this.setMinutos(630,690):this.setMinutos(630,750):this.minutosInicio===690?this.setMinutos(630,750):this.minutosInicio===810?this.minutosFinal===930?this.setMinutos(810,870):this.setMinutos(810,930):this.minutosInicio===870?this.setMinutos(870,930):console.log("No se pudo togglear el bloque")},setMinutos(e,t){const o=e*6e4,i=t*6e4;this.settingTiempos=!0,this.$apollo.mutate({mutation:he`
            mutation (
              $idEspacio: ID!
              $idIteracion: ID!
              $millisInicio: Int!
              $millisFinal: Int!
            ) {
              setTiemposIteracionSemanalEspacio(
                idEspacio: $idEspacio
                idIteracion: $idIteracion
                millisInicio: $millisInicio
                millisFinal: $millisFinal
              ) {
                id
                millisInicio
                millisFinal
              }
            }
          `,variables:{idEspacio:this.esteBloque.idEspacio,idIteracion:this.esteBloque.id,millisInicio:o,millisFinal:i}}).then(()=>{this.settingTiempos=!1}).catch(n=>{console.log("Error: "+n),this.settingTiempos=!1})},expandir(){this.$emit("expandirme")},iniciarSetHoraInicio(){this.$refs.inputHoraInicio.value=this.toTiempoFormateado(this.minutosInicio),this.editandoHoraInicio=!0,this.editandoHoraFinal=!1},iniciarSetHoraFinal(){this.$refs.inputHoraFinal.value=this.toTiempoFormateado(this.minutosFinal),this.editandoHoraFinal=!0,this.editandoHoraInicio=!1},toTiempoFormateado(e){var t=Math.floor(e/60);String(t).length<2&&(t="0"+t);var o=String(Math.round(e-t*60));return o.length<2&&(o="0"+o),t+":"+o},setHoraInicio(){console.log("Setting hora inicio");const e=this.$refs.inputHoraInicio.value.split(":"),t=parseInt(e[0]),o=parseInt(e[1]),i=t*60+o;console.log("Nuevo minutos inicio: "+i),this.setMinutos(i,this.minutosFinal)},setHoraFinal(){console.log("Setting hora final");const e=this.$refs.inputHoraFinal.value.split(":"),t=parseInt(e[0]),o=parseInt(e[1]),i=t*60+o;console.log("Nuevo minutos final: "+i),this.setMinutos(this.minutosInicio,i)}}},w0=e=>(Ze("data-v-3acc099a"),e=e(),Xe(),e),W6=w0(()=>m("img",{src:rl,alt:"Opciones"},null,-1)),J6=[W6],Y6={id:"nombre"},Z6={key:0,src:y0,alt:"bebé",style:{height:"15px"}},X6=w0(()=>m("img",{src:ws,alt:"expandir",style:{}},null,-1)),e8=[X6],t8=["value"],o8=["value"];function n8(e,t,o,i,n,r){const s=Pe("loading");return J(),X("div",{class:ve(["bloqueHorario",{seleccionado:r.seleccionado,deshabilitado:n.eliminandose||n.settingTiempos,usuarioAsiste:r.usuarioAsiste}]),style:Oe([{width:r.duracionMinutos*o.factorZoom+"px",backgroundColor:r.miColor}]),onContextmenu:t[11]||(t[11]=ge(c=>e.$emit("menuContextual",o.esteBloque.id),["exact","prevent","stop"])),onDblclick:t[12]||(t[12]=(...c)=>r.toggleDuracionBloque&&r.toggleDuracionBloque(...c)),onClick:t[13]||(t[13]=ge(c=>e.$emit("seleccionado"),["left"]))},[V(m("div",{class:"boton",onClick:t[0]||(t[0]=ge(c=>e.$emit("menuContextual",o.esteBloque.id),["stop"])),id:"botonOpciones"},J6,512),[[K,r.seleccionado]]),m("div",{id:"barraTag",style:Oe([r.colorBarraTag])},[m("div",Y6,[o.esteBloque.paraChiquis?(J(),X("img",Z6)):Ie("",!0),gt(Ee(o.esteBloque.nombreEspacio),1)])],4),o.esteBloque.idsParticipantesConstantes&&o.esteBloque.idsParticipantesConstantes.length>0&&o.mostrarCantidadAsistentes?V((J(),X("div",{key:0,id:"cantidadAsistentes"}," Asistentes: "+Ee(o.esteBloque.idsParticipantesConstantes.length),513)),[[K,!r.seleccionado]]):Ie("",!0),V(m("div",{id:"botonExpandir",class:"boton",style:{margin:"0px auto"},onClick:t[1]||(t[1]=ge((...c)=>r.expandir&&r.expandir(...c),["stop"]))},e8,512),[[K,r.seleccionado]]),V(Te(s,null,null,512),[[K,n.eliminandose||n.settingTiempos]]),V(m("div",{id:"menuContextual",class:ve({seleccionado:r.seleccionado}),onClick:t[9]||(t[9]=ge(()=>{},["stop"])),onDblclick:t[10]||(t[10]=ge(()=>{},["stop"]))},[r.usuarioAdministrador||e.usuarioSuperadministrador?(J(),X("div",{key:0,class:"itemMenuContextual",onClick:t[2]||(t[2]=(...c)=>r.eliminarse&&r.eliminarse(...c))}," Eliminar ")):Ie("",!0),m("div",{class:"itemMenuContextual",onClick:t[3]||(t[3]=c=>e.$refs.inputColor.click())}," Seleccionar color "),r.usuarioAdministrador||e.usuarioSuperadministrador?(J(),X("div",{key:1,class:"itemMenuContextual",onClick:t[4]||(t[4]=(...c)=>r.iniciarSetHoraInicio&&r.iniciarSetHoraInicio(...c))}," Fijar hora de inicio ")):Ie("",!0),V(m("input",{type:"time",value:r.tiempoInicioFormateado,ref:"inputHoraInicio",id:"inputHoraInicio",onChange:t[5]||(t[5]=(...c)=>r.setHoraInicio&&r.setHoraInicio(...c))},null,40,t8),[[K,n.editandoHoraInicio]]),r.usuarioAdministrador||e.usuarioSuperadministrador?(J(),X("div",{key:2,class:"itemMenuContextual",onClick:t[6]||(t[6]=(...c)=>r.iniciarSetHoraFinal&&r.iniciarSetHoraFinal(...c))}," Fijar hora de finalización ")):Ie("",!0),V(m("input",{type:"time",value:r.tiempoFinalFormateado,ref:"inputHoraFinal",id:"inputHoraFinal",onChange:t[7]||(t[7]=(...c)=>r.setHoraFinal&&r.setHoraFinal(...c))},null,40,o8),[[K,n.editandoHoraFinal]]),V(m("input",{type:"color",ref:"inputColor",onChange:t[8]||(t[8]=(...c)=>r.setColorEspacio&&r.setColorEspacio(...c)),id:"inputColor"},null,544),[[K,!1]])],34),[[K,r.mostrandoMenuContextual]])],38)}const i8=He(K6,[["render",n8],["__scopeId","data-v-3acc099a"]]),gl=he`
  fragment fragEspacio on Espacio {
    id
    nombre
    descripcion
    idAdministrador
    paraChiquis
  }
`,r8={name:"bloqueCreacionHorario",apollo:{espaciosControladosUsuario:{query:Dt`
        query {
          espaciosControladosUsuario {
            ...fragEspacio
          }
        }
        ${gl}
      `}},props:{esteBloque:Object},data(){return{idEspacioSeleccionado:null}},methods:{iniciarCreacion(){}},mounted(){this.$refs.selectEspacio.click()}},s8={class:"bloqueCreacionHorario"},a8=m("option",{value:"null",disabled:""},"Seleccionar un espacio",-1),l8=["value"];function c8(e,t,o,i,n,r){return J(),X("div",s8,[V(m("select",{name:"selectEspacio",id:"selectEspacio",ref:"selectEspacio","onUpdate:modelValue":t[0]||(t[0]=s=>n.idEspacioSeleccionado=s),onChange:t[1]||(t[1]=s=>e.$emit("espacioSeleccionado",s.target.value))},[a8,(J(!0),X(Fe,null,qe(e.espaciosControladosUsuario,s=>(J(),X("option",{value:s.id,key:s.id},Ee(s.nombre),9,l8))),128))],544),[[ls,n.idEspacioSeleccionado]])])}const u8=He(r8,[["render",c8]]),fh=he`
  fragment fragBloqueHorario on IteracionSemanalEspacio {
    id
    millisInicio
    millisFinal
    idsParticipantesConstantes
    diaSemana
    nombreEspacio
    idAdministradorEspacio
    idEspacio
    paraChiquis
  }
`,d8={components:{BloqueHorario:i8,BloqueCreacionHorario:u8},name:"DiaOrganizadorHorario",props:{mostrarCantidadAsistentes:Boolean,nombreDia:String,numeroDia:Number,idEspacioCrear:String,idBloqueSeleccionado:String,bloquesHorario:Array,idBloqueMenuContextual:String,factorZoom:{type:Number,default(){return 1}},offset:Number},data(){return{minutosRelevantesBase:[480,540,600,630,750,810,870,930],creandoBloqueHorario:!1,anchoDiaMinutos:490,heightBloques:100,gapFilas:10,bloqueCreacionHorario:null}},computed:{minutosRelevantes(){return this.minutosRelevantesBase},bloquesHorarioPriorizados(){var e=[...this.bloquesHorario].sort((t,o)=>{var i=0;return t.idAdministradorEspacio===this.usuario.id&&i++,o.idAdministradorEspacio===this.usuario.id&&i--,-i});return e},bloquesHorarioEnriquecidos(){for(var e=[...this.bloquesHorarioPriorizados.map(i=>({...i,fila:0}))],t=0;t<e.length;t++){let i=e[t];for(var o=t;o>=0;o--){let n=e[o];if((n.millisInicio>=i.millisInicio&&n.millisInicio<i.millisFinal||n.millisFinal>i.millisInicio&&n.millisFinal<=i.millisFinal||n.millisInicio<=i.millisInicio&&n.millisFinal>=i.millisFinal)&&n.fila>=i.fila){let s=n.fila+1;i.fila=s}}}return e},maxFila(){var e=this.bloquesHorarioEnriquecidos.reduce((t,o)=>o.fila>t?o.fila:t,0);return e}},methods:{toTiempoFormateado(e){var t=Math.floor(e/60);String(t).length<2&&(t="0"+t);var o=String(Math.round(e-t*60));return o.length<2&&(o="0"+o),t+":"+o},mostrarCalculoMinutos(){},iniciarCreacionBloqueHorario(e){const t=this.$refs.zonaBloques.getBoundingClientRect(),i=e.clientX-t.left,n=this.anchoDiaMinutos/t.width*i+this.offset;console.log("Creando bloque de horario en "+this.toTiempoFormateado(n));var r=n,s=r+60;if(n>=480&&n<540)r=480,s=540;else if(n>=540&&n<600)r=540,s=600;else if(n>=630&&n<750)r=630,s=750;else if(n>=810&&n<870)r=810,s=870;else if(n>=870&&n<930)r=870,s=930;else{console.log("En zona no considerada");return}console.log(`Corregido a ${this.toTiempoFormateado(r)}`);var c=r*6e4,a=s*6e4;this.bloqueCreacionHorario={millisInicio:c,millisFinal:a}},crearBloqueHorario(e){!this.idEspacioCrear||!this.bloqueCreacionHorario||(this.creandoBloqueHorario=!0,this.$apollo.mutate({mutation:he`
            mutation (
              $idEspacio: ID!
              $millisInicio: Int!
              $diaSemana: Int!
              $millisFinal: Int!
            ) {
              crearBloqueHorario(
                idEspacio: $idEspacio
                millisInicio: $millisInicio
                diaSemana: $diaSemana
                millisFinal: $millisFinal
              ) {
                ...fragBloqueHorario
              }
            }
            ${fh}
          `,variables:{idEspacio:e,millisInicio:this.bloqueCreacionHorario.millisInicio,millisFinal:this.bloqueCreacionHorario.millisFinal,diaSemana:this.numeroDia}}).then(({data:{crearBloqueHorario:t}})=>{this.creandoBloqueHorario=!1,this.$emit("bloqueHorarioCreado",t),this.bloqueCreacionHorario=null}).catch(t=>{console.log("Error: "+t),this.creandoBloqueHorario=!1}))}}},h8={class:"diaOrganizadorHorario"},f8={id:"nombreDia"},p8={id:"barraHoras"};function m8(e,t,o,i,n,r){const s=Pe("bloque-creacion-horario"),c=Pe("bloque-horario");return J(),X("div",h8,[m("div",f8,Ee(o.nombreDia),1),m("div",{id:"zonaBloques",ref:"zonaBloques",style:Oe([{width:Math.round(n.anchoDiaMinutos*o.factorZoom)+"px",height:r.maxFila*(n.heightBloques+6*n.gapFilas)+"px"}]),onDblclick:t[1]||(t[1]=ge((...a)=>r.iniciarCreacionBloqueHorario&&r.iniciarCreacionBloqueHorario(...a),["self"])),onClick:t[2]||(t[2]=ge(a=>n.bloqueCreacionHorario=null,["self"]))},[n.bloqueCreacionHorario?(J(),Ge(s,{key:0,style:Oe([{"z-index":"100000"},[{left:(n.bloqueCreacionHorario.millisInicio/6e4-o.offset)*o.factorZoom+"px",top:1*n.gapFilas-5+"px"}]]),esteBloque:n.bloqueCreacionHorario,onEspacioSeleccionado:r.crearBloqueHorario},null,8,["style","esteBloque","onEspacioSeleccionado"])):Ie("",!0),(J(!0),X(Fe,null,qe(r.bloquesHorarioEnriquecidos,a=>(J(),Ge(c,{key:a.id,esteBloque:a,factorZoom:o.factorZoom,style:Oe([{left:(a.millisInicio/6e4-o.offset)*o.factorZoom+"px",top:1*n.gapFilas+(a.fila-1)*(n.heightBloques+n.gapFilas)+"px",zIndex:a.id===o.idBloqueMenuContextual?1e4:a.id===o.idBloqueSeleccionado?1e3:100-a.fila}]),idBloqueMenuContextual:o.idBloqueMenuContextual,idBloqueSeleccionado:o.idBloqueSeleccionado,mostrarCantidadAsistentes:o.mostrarCantidadAsistentes,onMeElimine:l=>e.$emit("bloqueEliminado",a.id),onMenuContextual:t[0]||(t[0]=l=>e.$emit("menuContextualBloque",l)),onSeleccionado:l=>e.$emit("bloqueSeleccionado",a.id),onExpandirme:l=>e.$emit("expandirBloque",a.id)},null,8,["esteBloque","factorZoom","style","idBloqueMenuContextual","idBloqueSeleccionado","mostrarCantidadAsistentes","onMeElimine","onSeleccionado","onExpandirme"]))),128))],36),m("div",p8,[(J(!0),X(Fe,null,qe(r.minutosRelevantes,a=>(J(),X("div",{class:"marcaTiempo",key:"minuto"+a,style:Oe([{left:Math.round((a-o.offset)*o.factorZoom)+"px"}])},Ee(r.toTiempoFormateado(a)),5))),128))])])}const v8=He(d8,[["render",m8],["__scopeId","data-v-e64bb8b8"]]);var Ma={compareTwoStrings:E0,findBestMatch:g8};function E0(e,t){if(e=e.replace(/\s+/g,""),t=t.replace(/\s+/g,""),e===t)return 1;if(e.length<2||t.length<2)return 0;let o=new Map;for(let n=0;n<e.length-1;n++){const r=e.substring(n,n+2),s=o.has(r)?o.get(r)+1:1;o.set(r,s)}let i=0;for(let n=0;n<t.length-1;n++){const r=t.substring(n,n+2),s=o.has(r)?o.get(r):0;s>0&&(o.set(r,s-1),i++)}return 2*i/(e.length+t.length-2)}function g8(e,t){if(!b8(e,t))throw new Error("Bad arguments: First argument should be a string, second should be an array of strings");const o=[];let i=0;for(let r=0;r<t.length;r++){const s=t[r],c=E0(e,s);o.push({target:s,rating:c}),c>o[i].rating&&(i=r)}const n=o[i];return{ratings:o,bestMatch:n,bestMatchIndex:i}}function b8(e,t){return!(typeof e!="string"||!Array.isArray(t)||!t.length||t.find(function(o){return typeof o!="string"}))}const y8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAC+lBMVEUAAAAAAAAAAABxcXEAAACZmZl5eXk6OjpQUFBLS0unp6cnJycLCwsBAQECAgItLS05OTlOTk5JSUk3NzdgYGBhYWFNTU10dHR/f3+oqKgSEhIyMjIAAAAWFhYQEBAhISEWFhYQEBAcHBwxMTFCQkIBAQEzMzM0NDRJSUkqKio8PDwODg49PT1HR0cAAABBQUFCQkIEBAQHBwdlZWU6OjpXV1dgYGAAAAB8fHwwMDCLi4tFRUU7OzsjIyMEBAQAAAAbGxsfHx8NDQ0CAgIQEBBfX18CAgIpKSkoKCgQEBA1NTUvLy9bW1spKSk4ODgdHR0FBQUtLS0nJycYGBgzMzNAQEAtLS0iIiJWVlYeHh41NTUqKiomJiZNTU0tLS1CQkIcHBxTU1NFRUUxMTExMTEmJiYNDQ0tLS1VVVUxMTFPT08dHR1CQkI3NzcfHx8WFhYjIyNSUlIdHR1bW1tFRUVoaGgvLy8AAAAdHR0AAABbW1tKSkoqKipRUVFcXFwaGhouLi5zc3M9PT1ra2tcXFwYGBhzc3MuLi5NTU0JCQlSUlI2NjYgICBxcXFaWloQEBA8PDw5OTmLi4sHBwcZGRkNDQ1gYGAlJSUuLi4QEBA9PT0bGxsAAAAsLCwgICAyMjInJycTExMGBgYKCgoWFhYgICA+Pj42NjZNTU0UFBQiIiI5OTkEBARRUVFJSUkPDw9aWlotLS04ODgUFBRBQUElJSUnJyc7OzsiIiIpKSlHR0dFRUUREREmJiYaGhocHBxTU1M4ODhAQEAdHR1LS0tWVlYyMjIDAwNAQEBPT09CQkI9PT1YWFgsLCwNDQ1ra2tEREQ1NTV9fX1lZWVMTEwAAAAjIyNLS0sNDQ19fX1NTU0ZGRkkJCQ3NzcZGRlCQkJDQ0NOTk4SEhJeXl4BAQEtLS1DQ0M6Ojp3d3ePj49OTk5paWlxcXFkZGQWFhaVlZVzc3MAAABzc3MVFRVQUFAAAAADAwMHBwceHh4kJCQgICAPDw8vLy8oKCh/JHwQAAAA9XRSTlMALoADyQwGkSgRBwb++vXn5bWMZR8bDg0IBf79/fz59evl4NzZ2Na1n5SAgHx7dm5nVk9NTUA+PiwlFhb++/r49/b08vDv6Ofj4uDf3dzZ2dnV1NPRzcjHxsLAwMC/vbmxrKqpop+enZGGgoKAgICAfHp1dGtnZmZhXFhXVVRSUlFMSUhEQT09PDk2Ly4rKyQgHREJ/Pn49vX08fHw6+vq6enp5uPh3tza19bU1NHR0c/LxcG+urm3t7Wwr62lpaKgoJ6Zl5aTkpGPiYmHhoB/fHtycnBuaGZmYVxaV1ZWVU1KSkhGQ0A4NjQ0JyMjIB8fHRUVCt1yxO0AAAQcSURBVGje7dljsNxQGAbgr9ji3tq2bdu2bdu2bdu2bdu2rXfrmbb7Je3OtCfJnrP509nnx/2T95t3JslJcvaSj4+Pz//udd/06Z+SfYZfCJoDLPq+8M/I+7I3KxwC7qIVSRbcuxWRdhbA3+I0DOLFjmN58G+FkgXyUsXb5RCrPNIrHXdywEjOoaQunfv1zpswQd2ASRIkzIk/Qqq39M4NXaz9dyMQi9Cr/kTo8mdW7OgfE5rPLblB97LJF2hmDFbqGJsQmsRZ/zo4qjo0M5VWTG39vB+lf0kBzQaFjo5gudMJApc+csCZQb6ktPYESSdMXInBkWnSa78LWH2DZb0NrK1kR5RiPF/SKDQ+HofKSpYMA3tomOoGllGuJKn2dDJOBUrAsaRSHYEW8PQ1k1xqjiWSeh4H48WeK7JJzu+TKxfCX6YkI1xqmwYTc7CjTEkLnm1pGgzHwVMyJQF5Nr1pMC0HmyuUBDAN3uJgFVtLunNwla0lPTi4UqHkvtVrElTh7kpmGkzJwYAyJQN4drtpcBcH2yus+Fimb4rJ/N6KLFMSNS4P9zPJ3YRL8UAkozFP1zKJbeZYQ5LyCOyxYSoTmORbPnJoHq9gFPIvxaHZJKkd2BGDTDOwFCSrDFxCPRAmbofkSPRI0iUpobUMFL3gv4OlIXk1wHL1pH+5/gVsLSkYPQWapBH/OphtDzSx+aCs7iGhKdI7Crn70CcONKHukZquMaBbGDSL/oiJEjxcUei+nidVXeGmZI0DqVKlSlK1uBN/nCZ1XT7BSIwM5A2Z4kGsdEbyikGNIFZziDcqsqwzPl3RtmRSrcjWIBTMfN7tr9TRswysCN1BoaMp3H1MVCdc505pOqUJ3zlcnUROuAsqW/FmI/6IvemMg9w5UlSfij9GynWMCY3fZh381049eMo40KWV6sgaF7roHSILQpFuFADr8Wvb5O8fyLMPonjQJYlgdPuddGXCjCMaV82JOZnJOr9F0KzoZxINXxQoP4Ao6vpf8Xxjre8Xd0BT6r15+tzVX39HfPTwQ/KEE6yBg6wKwBOtLF/0WGCHyboAHm64loHVJM9LWluMpwZbHdG+kuzfOD4hGEmUJLeWbsNp52WyryRKbE5X8HAvMEIriRrVz8/h8DMOt+XwR4sna9DWwGwpz80vVy5+/DBh4lcaaLQOy3K4kcULOB0C+QeT0CiwYVZfOULVSOgQJyqSNXUhNI+EynMivOU9jFBiEomYh+/fdxZLIhWGQKFXJNLf+tliL9o0rlcv7E9LeDJMlTUlChacVCLoaBJqxdHj5LEA1n+Y2MvRzLaWzOXdwBBbS/gTJZ/D1pIm2q8QtpaMrwqgWBb7Slifi6mDkEqJnYbzf9jOkp2CLMZPeZ+TrcZUAuL2Irs96Us+Pj7yfgCbknGGI9ttswAAAABJRU5ErkJggg==",w8=["Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"],E8={components:{IconoPersonaAutonomo:ui,Loading:it},name:"VentanaBloqueHorario",props:{esteBloque:Object,miColor:String},apollo:{participantesCasaMaestraVida:{query:he`
        query {
          participantesCasaMaestraVida {
            id
            nombres
            apellidos
          }
        }
      `}},data(){return{participantesCasaMaestraVida:[],idPersonaSeleccionado:null,idPersonaMenuCx:null,mostrandoBuscadorAsistentes:!1,textoBusqueda:"",versionBusqueda:0,addingAsistente:!1,opcionesAsistentes:[{textoVisible:"Remover",evento:"remover"}],diasSemana:w8}},computed:{idsAsistentes(){return this.esteBloque.idsParticipantesConstantes},personasAdicionables(){return this.participantesCasaMaestraVida.filter(e=>!this.esteBloque.idsParticipantesConstantes.includes(e.id))},idsPersonasAdicionables(){return this.personasAdicionables.map(e=>e.id)},personasAdicionablesOrdenadas(){var e=this.versionBusqueda;if(!this.textoBusqueda||this.textoBusqueda.length<=2)return this.personasAdicionables;var t=this.textoBusqueda;if(console.log("Version "+e),this.versionBusqueda<0){console.log("Error desconocido");return}return[...this.personasAdicionables].sort((o,i)=>Ma.stringSimilarity.compareTwoStrings(i.nombres+i.apellidos,t)-Ma.stringSimilarity.compareTwoStrings(o.nombres+o.apellidos,t))},idsPersonasAdicionablesOrdenadas(){return this.personasAdicionablesOrdenadas.map(e=>e.id)},usuarioAdministrador(){return this.esteBloque.idAdministradorEspacio===this.usuario.id},minutosInicio(){return Math.round(this.esteBloque.millisInicio/6e4)},minutosFinal(){return Math.round(this.esteBloque.millisFinal/6e4)}},methods:{iniciarAdicionAsistente(){this.mostrandoBuscadorAsistentes=!0},setTextoBusqueda(){var e=this.$refs.inputTextoBuscador.value;this.textoBusqueda=e,this.versionBusqueda++},addComoAsistente(e){!this.usuarioAdministrador&&!this.usuarioSuperadministrador||(this.addingAsistente=!0,this.$apollo.mutate({mutation:he`
            mutation ($idEspacio: ID!, $idIteracion: ID!, $idAsistente: ID!) {
              addAsistenteIteracionSemanalEspacio(
                idEspacio: $idEspacio
                idIteracion: $idIteracion
                idAsistente: $idAsistente
              ) {
                id
                idsParticipantesConstantes
              }
            }
          `,variables:{idEspacio:this.esteBloque.idEspacio,idIteracion:this.esteBloque.id,idAsistente:e}}).then(()=>{this.addingAsistente=!1}).catch(t=>{this.addingAsistente=!1,console.log(`Error ${t}`)}))},removerAsistente(e){!this.usuarioAdministrador&&!this.usuarioSuperadministrador||(this.removingAsistente=!0,this.$apollo.mutate({mutation:he`
            mutation ($idEspacio: ID!, $idIteracion: ID!, $idAsistente: ID!) {
              removeAsistenteIteracionSemanalEspacio(
                idEspacio: $idEspacio
                idIteracion: $idIteracion
                idAsistente: $idAsistente
              ) {
                id
                idsParticipantesConstantes
              }
            }
          `,variables:{idEspacio:this.esteBloque.idEspacio,idIteracion:this.esteBloque.id,idAsistente:e}}).then(()=>{this.removingAsistente=!1}).catch(t=>{this.removingAsistente=!1,console.log(`Error ${t}`)}))},toTiempoFormateado(e){var t=Math.floor(e/60);String(t).length<2&&(t="0"+t);var o=String(Math.round(e-t*60));return o.length<2&&(o="0"+o),t+":"+o}}},bl=e=>(Ze("data-v-cc4f818b"),e=e(),Xe(),e),A8={id:"titulo"},_8={id:"infoBasica"},N8={class:"info"},C8={class:"seccionListaUsuarios"},S8=bl(()=>m("div",{class:"barraListaUsuarios"},[m("div",{class:"nombreListaUsuarios"},"Coordina")],-1)),x8={class:"listaPersonas"},I8={class:"seccionListaUsuarios"},T8={class:"barraListaUsuarios"},R8=bl(()=>m("div",{class:"nombreListaUsuarios"},"Asisten",-1)),P8={class:"contenedorControles"},D8=bl(()=>m("img",{src:y8,alt:"Agregar",style:{}},null,-1)),k8=[D8],O8={class:"listaPersonas"},M8={id:"zonaAdicionarAsistente"},L8={class:"zonaInformacion",style:{display:"flex"}},F8={class:"informacion",style:{display:"flex"}},B8={class:"contenedorControles",style:{"margin-left":"auto"}},U8=bl(()=>m("img",{src:zt,alt:"Salir",style:{}},null,-1)),$8=[U8];function j8(e,t,o,i,n,r){const s=Pe("icono-persona-autonomo"),c=Pe("loading");return J(),X("div",{class:"ventanaBloqueHorario",onClick:t[4]||(t[4]=a=>n.idPersonaMenuCx=null)},[m("div",{id:"fondoGris",onClick:t[0]||(t[0]=ge(a=>e.$emit("cerrarme"),["self","stop"]))}),m("div",{id:"laPropiaVentana",style:Oe([{backgroundColor:o.miColor}])},[m("div",A8,Ee(o.esteBloque.nombreEspacio),1),m("div",_8,[m("div",N8,Ee(n.diasSemana[o.esteBloque.diaSemana])+". "+Ee(r.toTiempoFormateado(r.minutosInicio))+" - "+Ee(r.toTiempoFormateado(r.minutosFinal)),1)]),m("div",C8,[S8,m("div",x8,[Te(s,{idPersona:o.esteBloque.idAdministradorEspacio},null,8,["idPersona"])])]),m("div",I8,[m("div",T8,[R8,m("div",P8,[e.usuarioSuperadministrador||r.usuarioAdministrador?(J(),X("div",{key:0,class:"boton",onClick:t[1]||(t[1]=(...a)=>r.iniciarAdicionAsistente&&r.iniciarAdicionAsistente(...a))},k8)):Ie("",!0)])]),V(m("div",O8,[(J(!0),X(Fe,null,qe(r.idsAsistentes,a=>(J(),Ge(s,{key:a,idPersona:a,seleccionado:a===n.idPersonaSeleccionado,opcionesMenuCx:n.opcionesAsistentes,menuContextual:n.idPersonaMenuCx===a,onClick:ge(l=>n.idPersonaSeleccionado=n.idPersonaSeleccionado===a?null:a,["stop"]),onContextmenu:ge(l=>n.idPersonaMenuCx=a,["right","stop","prevent"]),onRemover:l=>r.removerAsistente(a)},null,8,["idPersona","seleccionado","opcionesMenuCx","menuContextual","onClick","onContextmenu","onRemover"]))),128))],512),[[K,!n.mostrandoBuscadorAsistentes]]),V(m("div",M8,[m("div",L8,[m("div",F8,[V(Te(c,null,null,512),[[K,e.$apollo.queries.participantesCasaMaestraVida.loading]]),gt(" Adicionando asistentes ")]),m("div",B8,[m("div",{class:"boton",onClick:t[2]||(t[2]=a=>n.mostrandoBuscadorAsistentes=!1)},$8)])]),m("div",{id:"zonaInputBuscador",class:ve({deshabilitado:e.$apollo.queries.participantesCasaMaestraVida.loading}),style:{width:"100%"}},[m("input",{type:"text",ref:"inputTextoBuscador",id:"inputTextoBuscador",placeholder:"buscar",onKeypress:t[3]||(t[3]=vt((...a)=>r.setTextoBusqueda&&r.setTextoBusqueda(...a),["enter"]))},null,544)],2),m("div",{class:ve(["listaPersonas",{deshabilitado:n.addingAsistente||e.$apollo.queries.participantesCasaMaestraVida.loading}])},[(J(!0),X(Fe,null,qe(r.idsPersonasAdicionablesOrdenadas,a=>(J(),Ge(s,{key:a,idPersona:a,seleccionado:a===n.idPersonaSeleccionado,onClick:ge(l=>n.idPersonaSeleccionado=n.idPersonaSeleccionado===a?null:a,["stop"]),onDblclick:ge(l=>r.addComoAsistente(a),["stop"])},null,8,["idPersona","seleccionado","onClick","onDblclick"]))),128))],2)],512),[[K,n.mostrandoBuscadorAsistentes]])])],4)])}const q8=He(E8,[["render",j8],["__scopeId","data-v-cc4f818b"]]),Ir=Dt`
  query ($idsAdministradores: [ID]!) {
    iteracionesSemanalesEspaciosByAdministradores(
      idsAdministradores: $idsAdministradores
    ) {
      ...fragBloqueHorario
    }
  }
  ${fh}
`,V8={components:{DiaOrganizadorHorario:v8,VentanaBloqueHorario:q8},props:{yo:Object},name:"OrganizadorHorarioSemanal",apollo:{espacios:{query:Dt`
        query ($idsUsuarios: [ID]!) {
          espaciosByUsuariosAdmin(idsUsuarios: $idsUsuarios) {
            ...fragEspacio
          }
        }
        ${gl}
      `,variables(){return{idsUsuarios:[this.usuario.id]}},update({espaciosByUsuariosAdmin:e}){const t=e.find(o=>o.idAdministrador===this.usuario.id);return t&&(this.idEspacioCrear=t.id),e},skip(){var e;return!((e=this.usuario)!=null&&e.id)}},usuariosProfe:{query:Dt`
        query {
          usuariosProfe {
            id
            nombres
          }
        }
      `},bloquesHorario:{query:Ir,variables(){return{idsAdministradores:this.idsUsuariosSeleccionados}},skip(){return!this.idsUsuariosSeleccionados||this.idsUsuariosSeleccionados.length<1},update({iteracionesSemanalesEspaciosByAdministradores:e}){return e}},bloquesHorarioUsuarioAsiste:{query:Dt`
        query {
          bloquesHorarioUsuarioAsiste {
            ...fragBloqueHorario
          }
        }
        ${fh}
      `,skip(){return!this.configuracionAdministradoresEspacios.includes("yo")}}},data(){const e=localStorage.getItem("configuracionOrganizadorHorarioSemanal");var t={};return e&&(t=JSON.parse(e)),console.log("La configuración es: "),console.table(t),{usuariosProfe:[],espacios:[],bloquesHorarioUsuarioAsiste:[],diasSemana:["Lunes","Martes","Miércoles","Jueves","Viernes"],factorZoom:3,offset:470,idEspacioCrear:null,configuracionAdministradoresEspacios:t.configuracionAdministradoresEspacios||["yo"],mostrandoConfiguracion:!1,mostrarBloquesParaChiquis:t.mostrarBloquesParaChiquis!=null&&t.mostrarBloquesParaChiquis!=null?t.mostrarBloquesParaChiquis:!0,mostrarBloquesParaTodos:t.mostrarBloquesParaTodos!=null&&t.mostrarBloquesParaTodos!=null?t.mostrarBloquesParaTodos:!0,mostrarCantidadAsistentes:t.mostrarCantidadAsistentes!=null&&t.mostrarCantidadAsistentes!=null?t.mostrarCantidadAsistentes:!1,bloquesHorario:[],idBloqueMenuContextual:null,idBloqueSeleccionado:null,idBloqueEnVentana:null}},computed:{todosBloquesDescargados(){return this.bloquesHorario.concat(this.bloquesHorarioUsuarioAsiste)},espaciosCreables(){return this.espacios},bloqueEnVentana(){return this.idBloqueEnVentana?this.todosBloquesDescargados.find(e=>e.id===this.idBloqueEnVentana):null},usuariosSeleccionables(){var e=[...this.usuariosProfe];return!this.usuariosProfe.some(t=>t.id===this.usuario.id)&&this.yo&&e.push({id:this.usuario.id,nombres:this.yo.nombres}),e},idsUsuariosSeleccionados(){var e=[];return this.configuracionAdministradoresEspacios.includes("yo")&&e.push(this.usuario.id),this.configuracionAdministradoresEspacios.includes("profesorxs")&&e.push(...this.usuariosProfe.map(t=>t.id)),e},bloquesActivos(){var e=[...this.bloquesHorario];const t=e.map(i=>i.id);if(this.configuracionAdministradoresEspacios.includes("yo"))for(var o of this.bloquesHorarioUsuarioAsiste)t.includes(o.id)||e.push(o);return this.mostrarBloquesParaChiquis||(e=e.filter(i=>!i.paraChiquis)),this.mostrarBloquesParaTodos||(e=e.filter(i=>i.paraChiquis)),e}},methods:{addBloqueHorarioCache(e){console.log(`Adding to cache un bloque con id ${e.id}`);const t=this.$apollo.provider.defaultClient,o=t.readQuery({query:Ir,variables:{idsAdministradores:this.idsUsuariosSeleccionados}});var i=JSON.parse(JSON.stringify(o));i.iteracionesSemanalesEspaciosByAdministradores.findIndex(r=>r.id===e.id)<0?(i.iteracionesSemanalesEspaciosByAdministradores.push(e),t.writeQuery({query:Ir,variables:{idsAdministradores:this.idsUsuariosSeleccionados},data:i})):console.log("Iteración semanal ya estaba en caché")},eliminarBloqueHorarioCache(e){console.log(`Removing from cache un bloque con id ${e}`);const t=this.$apollo.provider.defaultClient,o=t.readQuery({query:Ir,variables:{idsAdministradores:this.idsUsuariosSeleccionados}});var i=JSON.parse(JSON.stringify(o));const n=i.iteracionesSemanalesEspaciosByAdministradores.findIndex(r=>r.id===e);n>-1?(i.iteracionesSemanalesEspaciosByAdministradores.splice(n,1),t.writeQuery({query:Ir,variables:{idsAdministradores:this.idsUsuariosSeleccionados},data:i})):console.log("Iteración semanal no estaba en caché")},abrirVentanaBloque(e){console.log("Abriendo la ventana del bloque con id "+e)},setIdBloqueVentana(e){this.idBloqueEnVentana=e},checkVentanaBloque(){return this.idBloqueEnVentana?(this.idBloqueEnVentana=null,!0):!1},setLocalStorageConfiguracion(){const e={mostrarBloquesParaChiquis:this.mostrarBloquesParaChiquis,mostrarBloquesParaTodos:this.mostrarBloquesParaTodos,configuracionAdministradoresEspacios:this.configuracionAdministradoresEspacios,mostrarCantidadAsistentes:this.mostrarCantidadAsistentes},t=JSON.stringify(e);localStorage.setItem("configuracionOrganizadorHorarioSemanal",t)}},watch:{configuracionAdministradoresEspacios(){this.setLocalStorageConfiguracion()},mostrarBloquesParaChiquis(){this.setLocalStorageConfiguracion()},mostrarBloquesParaTodos(){this.setLocalStorageConfiguracion()},mostrarCantidadAsistentes(){this.setLocalStorageConfiguracion()}}},ir=e=>(Ze("data-v-cf27f31b"),e=e(),Xe(),e),H8={class:"barraComponente"},z8={class:"contenedorControles",style:{"margin-left":"auto"}},Q8={class:"boton"},G8={class:"zonaConfiguracion"},K8=ir(()=>m("div",{class:"barraSeccion"},"Configuración.",-1)),W8={class:"contenedorBloquesConfiguracion"},J8={id:"configuracionAdministradoresEspacios",class:"bloqueConfiguracion"},Y8={class:"campoConfiguracion"},Z8=ir(()=>m("label",{for:"checkAdministradorYo"},"Mostrar mis bloques",-1)),X8={class:"campoConfiguracion"},eU=ir(()=>m("label",{for:"checkAdministradorYo"},"Mostrar bloques de profes",-1)),tU={class:"bloqueConfiguracion"},oU={class:"campoConfiguracion"},nU=ir(()=>m("label",{for:"checkMostrarBloquesNiñosPequeños"},"Mostrar bloques dirigidos a niñxs pequeñxs",-1)),iU={class:"campoConfiguracion"},rU=ir(()=>m("label",{for:"checkMostrarBloquesTodos"},"Mostrar bloques dirigidos a todxs",-1)),sU={class:"bloqueConfiguracion"},aU={class:"campoConfiguracion"},lU=ir(()=>m("label",{for:"checkMostrarCantidadAsistentes"},"Mostrar cantidad de asistentes de cada bloque",-1)),cU={class:"nombreProfe"},uU=["value"],dU={id:"contenedorDias"};function hU(e,t,o,i,n,r){const s=Pe("ventana-bloque-horario"),c=Pe("dia-organizador-horario");return J(),X("div",{class:"organizadorHorarioSemanal",onClick:t[10]||(t[10]=ge(a=>n.idBloqueMenuContextual=null,["left","exact"]))},[r.bloqueEnVentana?(J(),Ge(s,{key:0,esteBloque:r.bloqueEnVentana,onCerrarme:t[0]||(t[0]=a=>n.idBloqueEnVentana=null)},null,8,["esteBloque"])):Ie("",!0),m("div",H8,[gt(" Organizador de horario "),m("div",z8,[m("div",Q8,[m("img",{src:Ns,onClick:t[1]||(t[1]=ge(a=>n.mostrandoConfiguracion=!n.mostrandoConfiguracion,["stop"])),alt:"configrurar",style:{}})])])]),V(m("div",G8,[K8,m("div",W8,[m("div",J8,[m("div",Y8,[Z8,V(m("input",{type:"checkbox",name:"checkAdministradorYo","onUpdate:modelValue":t[2]||(t[2]=a=>n.configuracionAdministradoresEspacios=a),value:"yo",id:""},null,512),[[qn,n.configuracionAdministradoresEspacios]])]),m("div",X8,[eU,V(m("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=a=>n.configuracionAdministradoresEspacios=a),value:"profesorxs",id:""},null,512),[[qn,n.configuracionAdministradoresEspacios]])])]),m("div",tU,[m("div",oU,[nU,V(m("input",{type:"checkbox",name:"checkMostrarBloquesNiñosPequeños",ref:"checkMostrarBloquesNiñosPequeños",id:"checkMostrarBloquesNiñosPequeños","onUpdate:modelValue":t[4]||(t[4]=a=>n.mostrarBloquesParaChiquis=a)},null,512),[[qn,n.mostrarBloquesParaChiquis]])]),m("div",iU,[rU,V(m("input",{type:"checkbox",name:"checkMostrarBloquesTodos",ref:"checkMostrarBloquesTodos",id:"checkMostrarBloquesTodos","onUpdate:modelValue":t[5]||(t[5]=a=>n.mostrarBloquesParaTodos=a)},null,512),[[qn,n.mostrarBloquesParaTodos]])])]),m("div",sU,[m("div",aU,[lU,V(m("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=a=>n.mostrarCantidadAsistentes=a)},null,512),[[qn,n.mostrarCantidadAsistentes]])])])])],512),[[K,n.mostrandoConfiguracion]]),(J(!0),X(Fe,null,qe(r.usuariosSeleccionables,a=>V((J(),X("div",{class:"zonaCheckAdministradorEspacios",key:a.id},[m("div",cU,Ee(a.nombres),1),V(m("input",{type:"checkbox",value:a.id,ref_for:!0,ref:"checkProfe",id:"checkProfe","onUpdate:modelValue":t[7]||(t[7]=l=>r.idsUsuariosSeleccionados=l)},null,8,uU),[[qn,r.idsUsuariosSeleccionados]])])),[[K,!1]])),128)),m("div",dU,[(J(!0),X(Fe,null,qe(n.diasSemana,(a,l)=>(J(),Ge(c,{key:a,nombreDia:a,numeroDia:l,factorZoom:n.factorZoom,offset:n.offset,idEspacioCrear:n.idEspacioCrear,bloquesHorario:r.bloquesActivos.filter(u=>u.diaSemana===l),idBloqueMenuContextual:n.idBloqueMenuContextual,idBloqueSeleccionado:n.idBloqueSeleccionado,mostrarCantidadAsistentes:n.mostrarCantidadAsistentes,onBloqueSeleccionado:t[8]||(t[8]=u=>n.idBloqueSeleccionado=n.idBloqueSeleccionado===u?null:u),onBloqueHorarioCreado:r.addBloqueHorarioCache,onMenuContextualBloque:t[9]||(t[9]=u=>n.idBloqueMenuContextual=u),onBloqueEliminado:r.eliminarBloqueHorarioCache,onExpandirBloque:r.setIdBloqueVentana},null,8,["nombreDia","numeroDia","factorZoom","offset","idEspacioCrear","bloquesHorario","idBloqueMenuContextual","idBloqueSeleccionado","mostrarCantidadAsistentes","onBloqueHorarioCreado","onBloqueEliminado","onExpandirBloque"]))),128))])])}const A0=He(V8,[["render",hU],["__scopeId","data-v-cf27f31b"]]),_0="/caracol/assets/key-116c2c00.svg",fU="/caracol/assets/envelope-8b028cd2.svg",pU="/caracol/assets/whatsapp-679f515c.svg",mU={components:{Loading:it,VentanaLista:b0,Calendario:ml,OrganizadorHorarioSemanal:A0},name:"PerfilPersonal",apollo:{esteUsuario:{query:he`
        query {
          yo {
            nombres
            apellidos
            username
            email
            numeroTel
          }
        }
      `,update({yo:e}){return e}}},data(){return{seccion:"informacionPersonal",esteUsuario:{permisos:[],id:null},inputCurrentPass:null,newPass:null,newPass2:null,enviandoCambioPass:!1,textoResultadoCambioPass:null,mostrandoOpcionesCrearSubNodo:!1,creandoSubNodo:!1,versionFoto:0}},computed:{inputCurrentPassIlegal(){return!this.inputCurrentPass||this.inputCurrentPass.length<xv},newPassIlegal(){return!!(!this.newPass||this.newPass.length<xv||this.newPass.length>CB||NB.test(this.newPass))},newPass2Ilegal(){return!this.newPass2||!this.newPass||this.newPass!=this.newPass2}},methods:{enviarCambioPass(){this.newPassIlegal||this.newPass2Ilegal||(this.textoResultadoCambioPass=null,this.newPass!==this.inputCurrentPass&&(this.enviandoCambioPass=!0,this.$apollo.mutate({mutation:he`
            mutation ($dizqueCurrentPassword: String!, $newPassword: String!) {
              cambiarPassword(
                dizqueCurrentPassword: $dizqueCurrentPassword
                newPassword: $newPassword
              )
            }
          `,variables:{dizqueCurrentPassword:this.inputCurrentPass,newPassword:this.newPass}}).then(({data:{cambiarPassword:e}})=>{e&&alert("Contraseña cambiada"),this.enviandoCambioPass=!1,this.inputCurrentPass=null,this.newPass=null,this.newPass2=null}).catch(e=>{console.log(`Error cambiando pass: ${e}`),this.enviandoCambioPass=!1,this.textoResultadoCambioPass="Error"})))},afterCrearNodoUnder(e){this.$refs.ventanaLista.addNodoToNodosSolidaridad(e)},crearNuevoNodoUnder(e){console.log("Creando nodo under yo"),this.creandoSubNodo=!0,this.$apollo.mutate({mutation:he`
            mutation (
              $infoNodo: NodoSolidaridadInput!
              $idNodoParent: ID!
              $tipoParent: String!
            ) {
              crearNuevoNodoSolidaridadUnderNodo(
                infoNodo: $infoNodo
                idNodoParent: $idNodoParent
                tipoParent: $tipoParent
              ) {
                nuevoNodo {
                  ...fragNodoSolidaridad
                }
                nodosModificados {
                  ...fragNodoSolidaridad
                }
                usuariosModificados {
                  ...fragPersonaAtlas
                }
              }
            }
            ${ei}
            ${Ji}
          `,variables:{infoNodo:e,idNodoParent:this.usuario.id,tipoParent:"usuario"}}).then(({data:{crearNuevoNodoSolidaridadUnderNodo:t}})=>{this.creandoSubNodo=!1,this.afterCrearNodoUnder(t.nuevoNodo)}).catch(t=>{this.creandoSubNodo=!1,console.log(`Error: ${t}`)})},uploadNuevaFoto(e){console.log("Uploading foto");const t=e.target;var o=new FormData;const i=t.files[0];o.append("nuevaFoto",i),this.subiendoNuevaFoto=!0,hl({method:"post",url:this.serverUrl+"/api/usuarios/updateFoto",data:o,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.usuario.token}}).then(({data:{resultado:n}})=>{this.subiendoNuevaFoto=!1,n&&(console.log("Foto actualizada"),this.versionFoto++)}).catch(n=>{this.subiendoNuevaFoto=!1,console.log(`Error subiendo archivo. E: ${n}`)})}}},pi=e=>(Ze("data-v-eb07b3ca"),e=e(),Xe(),e),vU={key:0,class:"perfilPersonal"},gU={id:"zonaSelectores",class:"contenedorControles"},bU=pi(()=>m("img",{src:di,alt:"Informacion"},null,-1)),yU=[bU],wU=pi(()=>m("img",{src:_0,alt:"Pass"},null,-1)),EU=[wU],AU=pi(()=>m("img",{src:vl,alt:"Calendario"},null,-1)),_U=[AU],NU={key:0,id:"contenido"},CU={id:"zonaInformacionPersonal"},SU=["src"],xU={id:"zonaCamposEditablesInformacionPersonal"},IU={class:"informacionPersonal",id:"nombres",style:{"align-self":"center"}},TU={class:"informacionPersonal",id:"apellidos",style:{"align-self":"center"}},RU={class:"informacionPersonal",id:"email"},PU=pi(()=>m("img",{src:fU,alt:"Mail",class:"iconoInformacionPersonal",title:"Correo electrónico"},null,-1)),DU=pi(()=>m("img",{src:pU,alt:"Mail",class:"iconoInformacionPersonal",title:"Añdir un número móvil"},null,-1)),kU={id:"zonaCambiarPass"},OU=pi(()=>m("div",{class:"tituloSeccion"},"Cambio de contraseña",-1)),MU={id:"instruccionesNuevoPass"},LU=["disabled"],FU=pi(()=>m("span",null," Enviar",-1)),BU={id:"textoResultadoCambioPass"},UU={key:0,id:"zonaCalendario"},$U={key:1,id:"zonaOrganizadorSemanal"};function jU(e,t,o,i,n,r){const s=Pe("loading"),c=Pe("calendario"),a=Pe("organizador-horario-semanal"),l=Pe("router-view");return e.usuarioLogeado?(J(),X("div",vU,[V(Te(s,{texto:"Cargando"},null,512),[[K,e.$apollo.queries.esteUsuario.loading]]),m("div",gU,[m("div",{class:"boton",title:"Información personal",onClick:t[0]||(t[0]=u=>n.seccion="informacionPersonal")},yU),m("div",{class:"boton",title:"Cambiar contraseña",onClick:t[1]||(t[1]=u=>n.seccion="cambiarPass")},EU),m("div",{class:"boton",title:"Mi calendario",onClick:t[2]||(t[2]=u=>n.seccion="calendario")},_U)]),e.$apollo.queries.esteUsuario.loading?Ie("",!0):(J(),X("div",NU,[V(m("div",CU,[m("div",{id:"fotografia",onClick:t[4]||(t[4]=u=>e.$refs.inputFotoUsuario.click())},[m("img",{src:this.serverUrl+"/api/usuarios/fotografias/"+e.usuario.id+"?v="+n.versionFoto,alt:"Fotografía"},null,8,SU),V(m("input",{type:"file",ref:"inputFotoUsuario",onChange:t[3]||(t[3]=(...u)=>r.uploadNuevaFoto&&r.uploadNuevaFoto(...u))},null,544),[[K,!1]])]),m("div",xU,[m("div",IU,Ee(n.esteUsuario.nombres),1),m("div",TU,Ee(n.esteUsuario.apellidos),1),m("div",RU,[PU,m("span",null,Ee(n.esteUsuario.email),1)]),DU,(J(!0),X(Fe,null,qe(n.esteUsuario.numerosMovil,u=>(J(),X("div",{class:"informacionPersonal numeroMovil",key:u.id},[m("span",null,Ee(n.esteUsuario.numeroMovil),1)]))),128))])],512),[[K,n.seccion==="informacionPersonal"]]),V(m("div",kU,[OU,V(m("input",{"onUpdate:modelValue":t[5]||(t[5]=u=>n.inputCurrentPass=u),placeholder:"Contraseña actual",type:"password",id:"inputCurrentPass",class:"inputCambiarPass"},null,512),[[Ke,n.inputCurrentPass]]),V(m("div",MU," La contraseña debe tener al menos 8 caracteres y no contener espacios. ",512),[[K,r.newPassIlegal&&!r.inputCurrentPassIlegal]]),V(m("input",{"onUpdate:modelValue":t[6]||(t[6]=u=>n.newPass=u),placeholder:"Nueva contraseña",type:"password",id:"inputNuevoPass",class:ve(["inputCambiarPass",{aprobado:!r.newPassIlegal}])},null,2),[[Ke,n.newPass],[K,!r.inputCurrentPassIlegal]]),V(m("input",{disabled:r.newPassIlegal,"onUpdate:modelValue":t[7]||(t[7]=u=>n.newPass2=u),placeholder:"Nueva contraseña (Otra vez)",type:"password",id:"inputNuevoPass2",class:ve(["inputCambiarPass",{aprobado:!r.newPassIlegal&&!r.newPass2Ilegal}]),onKeypress:t[8]||(t[8]=vt((...u)=>r.enviarCambioPass&&r.enviarCambioPass(...u),["enter"]))},null,42,LU),[[Ke,n.newPass2],[K,!r.newPassIlegal]]),m("div",{id:"botonEnviarNuevoPass",onClick:t[9]||(t[9]=(...u)=>r.enviarCambioPass&&r.enviarCambioPass(...u)),class:ve({deshabilitado:r.newPassIlegal||r.newPass2Ilegal||n.enviandoCambioPass})},[FU,V(Te(s,{texto:""},null,512),[[K,n.enviandoCambioPass]])],2),m("div",BU,Ee(n.textoResultadoCambioPass),1)],512),[[K,n.seccion==="cambiarPass"]]),n.seccion==="calendario"?(J(),X("div",UU,[e.usuarioLogeado?(J(),Ge(c,{key:0,enfasis:"eventosPersonales",idUsuarioTarget:this.usuario.id},null,8,["idUsuarioTarget"])):Ie("",!0)])):Ie("",!0),n.seccion==="organizadorSemanal"?(J(),X("div",$U,[Te(a)])):Ie("",!0)])),Te(l)])):Ie("",!0)}const qU=He(mU,[["render",jU],["__scopeId","data-v-eb07b3ca"]]);var Rv=/[^ a-zA-ZÀ-ž0-9_():.,-]/g,Pv=/[^ a-zA-ZÀ-žñÑ]/g,VU=/[^0-9+-]/g,HU=/\S+@\S+\.\S+/,zU=/[12][90][0-9][0-9]-[01][0-9]-[0-3][0-9]/,QU=/[^a-zA-Z0-9ñÑ*@_-]/g;const GU=function(e){var t=[];for(let o in e){if(!e[o])return t.push(`Falta ${o}`),t;e[o]=e[o].trim(),o=="nombres"?(e.nombres.length<2&&t.push("Tu nombre es muy corto"),Pv.test(e.nombres)&&t.push("Tu nombre contiene caracteres no permitidos")):o=="apellidos"?(e.apellidos.length<2&&t.push("Tu apellido es muy corto"),Pv.test(e.apellidos)&&t.push("Tu apellido contiene caracteres no permitidos")):o=="fechaNacimiento"?zU.test(e.fechaNacimiento)||t.push("Tu fecha de nacimiento es incorrecta"):o=="email"?e.email.length>0&&!HU.test(e.email)&&t.push("Tu e-mail no es válido"):o=="numeroTel"?VU.test(e.numeroTel)&&t.push("Tu número telefónico no es válido"):o=="lugarResidencia"?(e.lugarResidencia.length<2&&t.push("Tu lugar de residencia es muy corto"),Rv.test(e.lugarResidencia)&&t.push("Tu lugar de residencia contiene caracteres no permitidos")):o=="username"?(e.username.length<4&&t.push("Tu nombre de usuario es muy corto"),Rv.test(e.username)&&t.push("Tu nombre de usuario contiene caracteres no permitidos")):o=="password"?((e.password.length<6||e.password.length>32)&&t.push("Tu contraseña debe contener entre 6 y 32 caracteres"),QU.test(e.password)&&t.push("Tu password contiene caracteres no permitidos")):t.push(`El dato ${o} no tenía lógica de validación. Informa al administrador del sistema por favor`)}return t},KU={name:"Registro",data(){return{datosRegistro:{nombres:null,apellidos:null,fechaNacimiento:null,email:null,numeroTel:null,lugarResidencia:null,username:null,password:null},camposObligatorios:["nombres","apellidos","username","password"]}},methods:{enviarRegistro(){let e=new Object;this.datosRegistro.username||(this.datosRegistro.username=this.datosRegistro.nombres.split(" ")[0]+this.datosRegistro.apellidos.split(" ")[0]),this.datosRegistro.password||(this.datosRegistro.password=this.datosRegistro.nombres.split(" ")[0]+this.datosRegistro.apellidos.split(" ")[0]);for(let i in this.datosRegistro)this.datosRegistro[i]?e[i]=this.datosRegistro[i]:console.log(`campo ${i} vacio`);this.camposObligatorios.forEach(i=>{if(!e[i]){console.log(`Faltaba el campo ${i}`);return}});let t=this,o=GU(e);o.length<1?hl.post(this.serverUrl+"/api/usuarios/registro",{usuario:e}).then(function(i){console.log(`respuesta: ${JSON.stringify(i.data)}`),i.data.registro&&alert("Registro ok"),t.vaciarCampos()}).catch(function(i){console.log(`error: ${i}`)}):console.log(`Errores: ${o}`)},vaciarCampos(){console.log("Vaciando campos"),this.datosRegistro={nombres:null,apellidos:null,fechaNacimiento:null,email:null,numeroTel:null,lugarResidencia:null,username:null,password:null}},alertar(e){console.log(e)}}},Ot=e=>(Ze("data-v-874015c0"),e=e(),Xe(),e),WU={class:"registro"},JU={id:"zonaDatosPersonales"},YU=Ot(()=>m("h3",null,"Información Personal",-1)),ZU=Ot(()=>m("br",null,null,-1)),XU=Ot(()=>m("br",null,null,-1)),e$=Ot(()=>m("br",null,null,-1)),t$=Ot(()=>m("label",{for:"fechaNacimiento"},"Fecha de nacimiento",-1)),o$=Ot(()=>m("br",null,null,-1)),n$=Ot(()=>m("br",null,null,-1)),i$={id:"zonaContacto"},r$=Ot(()=>m("h3",null,"Datos de contacto",-1)),s$=Ot(()=>m("br",null,null,-1)),a$=Ot(()=>m("br",null,null,-1)),l$=Ot(()=>m("label",{for:"numeroTel"},"Número telefónico",-1)),c$=Ot(()=>m("br",null,null,-1)),u$=Ot(()=>m("br",null,null,-1)),d$=Ot(()=>m("br",null,null,-1)),h$=Ot(()=>m("label",{for:"lugarResidencia"},"Lugar de residencia",-1)),f$=Ot(()=>m("br",null,null,-1)),p$={id:"zonaLogin"},m$=Ot(()=>m("h3",null,"Datos de login",-1)),v$=Ot(()=>m("br",null,null,-1)),g$=Ot(()=>m("br",null,null,-1));function b$(e,t,o,i,n,r){return J(),X("div",WU,[m("form",null,[m("div",JU,[YU,V(m("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>n.datosRegistro.nombres=s),type:"text",name:"nombres",placeholder:"Nombres"},null,512),[[Ke,n.datosRegistro.nombres]]),ZU,V(m("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>n.datosRegistro.apellidos=s),type:"text",name:"apellidos",placeholder:"Apellidos"},null,512),[[Ke,n.datosRegistro.apellidos]]),XU,e$,t$,o$,V(m("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>n.datosRegistro.fechaNacimiento=s),type:"date",name:"fechaNacimiento"},null,512),[[Ke,n.datosRegistro.fechaNacimiento]]),n$]),m("div",i$,[r$,V(m("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>n.datosRegistro.email=s),type:"email",placeholder:"Correo electrónico"},null,512),[[Ke,n.datosRegistro.email]]),s$,a$,l$,c$,V(m("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>n.datosRegistro.numeroTel=s),type:"text",name:"numeroTel"},null,512),[[Ke,n.datosRegistro.numeroTel]]),u$,d$,h$,f$,V(m("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>n.datosRegistro.lugarResidencia=s),type:"text",placeholder:"Lugar de residencia"},null,512),[[Ke,n.datosRegistro.lugarResidencia]])]),m("div",p$,[m$,V(m("input",{type:"text",placeholder:"nombre de usuario",name:"username","onUpdate:modelValue":t[6]||(t[6]=s=>n.datosRegistro.username=s)},null,512),[[Ke,n.datosRegistro.username]]),v$,V(m("input",{type:"password",placeholder:"password",name:"password","onUpdate:modelValue":t[7]||(t[7]=s=>n.datosRegistro.password=s)},null,512),[[Ke,n.datosRegistro.password]]),g$]),m("button",{onClick:t[8]||(t[8]=ge((...s)=>r.enviarRegistro&&r.enviarRegistro(...s),["prevent"]))},"Enviar")])])}const y$=He(KU,[["render",b$],["__scopeId","data-v-874015c0"]]);var Be={},w$={get exports(){return Be},set exports(e){Be=e}};/*! For license information please see index.js.LICENSE.txt */(function(e,t){(function(o,i){e.exports=i()})(globalThis,()=>(()=>{var o={9742:(s,c)=>{c.byteLength=function(T){var S=b(T),_=S[0],y=S[1];return 3*(_+y)/4-y},c.toByteArray=function(T){var S,_,y=b(T),w=y[0],I=y[1],k=new u(function(P,R,F){return 3*(R+F)/4-F}(0,w,I)),B=0,H=I>0?w-4:w;for(_=0;_<H;_+=4)S=l[T.charCodeAt(_)]<<18|l[T.charCodeAt(_+1)]<<12|l[T.charCodeAt(_+2)]<<6|l[T.charCodeAt(_+3)],k[B++]=S>>16&255,k[B++]=S>>8&255,k[B++]=255&S;return I===2&&(S=l[T.charCodeAt(_)]<<2|l[T.charCodeAt(_+1)]>>4,k[B++]=255&S),I===1&&(S=l[T.charCodeAt(_)]<<10|l[T.charCodeAt(_+1)]<<4|l[T.charCodeAt(_+2)]>>2,k[B++]=S>>8&255,k[B++]=255&S),k},c.fromByteArray=function(T){for(var S,_=T.length,y=_%3,w=[],I=16383,k=0,B=_-y;k<B;k+=I)w.push(C(T,k,k+I>B?B:k+I));return y===1?(S=T[_-1],w.push(a[S>>2]+a[S<<4&63]+"==")):y===2&&(S=(T[_-2]<<8)+T[_-1],w.push(a[S>>10]+a[S>>4&63]+a[S<<2&63]+"=")),w.join("")};for(var a=[],l=[],u=typeof Uint8Array<"u"?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,g=h.length;f<g;++f)a[f]=h[f],l[h.charCodeAt(f)]=f;function b(T){var S=T.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=T.indexOf("=");return _===-1&&(_=S),[_,_===S?0:4-_%4]}function C(T,S,_){for(var y,w,I=[],k=S;k<_;k+=3)y=(T[k]<<16&16711680)+(T[k+1]<<8&65280)+(255&T[k+2]),I.push(a[(w=y)>>18&63]+a[w>>12&63]+a[w>>6&63]+a[63&w]);return I.join("")}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},8764:(s,c,a)=>{const l=a(9742),u=a(645),h=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;c.Buffer=b,c.SlowBuffer=function(A){return+A!=A&&(A=0),b.alloc(+A)},c.INSPECT_MAX_BYTES=50;const f=2147483647;function g(A){if(A>f)throw new RangeError('The value "'+A+'" is invalid for option "size"');const D=new Uint8Array(A);return Object.setPrototypeOf(D,b.prototype),D}function b(A,D,j){if(typeof A=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return S(A)}return C(A,D,j)}function C(A,D,j){if(typeof A=="string")return function(ue,Se){if(typeof Se=="string"&&Se!==""||(Se="utf8"),!b.isEncoding(Se))throw new TypeError("Unknown encoding: "+Se);const ze=0|I(ue,Se);let Je=g(ze);const dt=Je.write(ue,Se);return dt!==ze&&(Je=Je.slice(0,dt)),Je}(A,D);if(ArrayBuffer.isView(A))return function(ue){if(me(ue,Uint8Array)){const Se=new Uint8Array(ue);return y(Se.buffer,Se.byteOffset,Se.byteLength)}return _(ue)}(A);if(A==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(me(A,ArrayBuffer)||A&&me(A.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(me(A,SharedArrayBuffer)||A&&me(A.buffer,SharedArrayBuffer)))return y(A,D,j);if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ie=A.valueOf&&A.valueOf();if(ie!=null&&ie!==A)return b.from(ie,D,j);const le=function(ue){if(b.isBuffer(ue)){const Se=0|w(ue.length),ze=g(Se);return ze.length===0||ue.copy(ze,0,0,Se),ze}return ue.length!==void 0?typeof ue.length!="number"||Ne(ue.length)?g(0):_(ue):ue.type==="Buffer"&&Array.isArray(ue.data)?_(ue.data):void 0}(A);if(le)return le;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return b.from(A[Symbol.toPrimitive]("string"),D,j);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}function T(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function S(A){return T(A),g(A<0?0:0|w(A))}function _(A){const D=A.length<0?0:0|w(A.length),j=g(D);for(let ie=0;ie<D;ie+=1)j[ie]=255&A[ie];return j}function y(A,D,j){if(D<0||A.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(A.byteLength<D+(j||0))throw new RangeError('"length" is outside of buffer bounds');let ie;return ie=D===void 0&&j===void 0?new Uint8Array(A):j===void 0?new Uint8Array(A,D):new Uint8Array(A,D,j),Object.setPrototypeOf(ie,b.prototype),ie}function w(A){if(A>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return 0|A}function I(A,D){if(b.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||me(A,ArrayBuffer))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);const j=A.length,ie=arguments.length>2&&arguments[2]===!0;if(!ie&&j===0)return 0;let le=!1;for(;;)switch(D){case"ascii":case"latin1":case"binary":return j;case"utf8":case"utf-8":return ce(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*j;case"hex":return j>>>1;case"base64":return pe(A).length;default:if(le)return ie?-1:ce(A).length;D=(""+D).toLowerCase(),le=!0}}function k(A,D,j){let ie=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((j===void 0||j>this.length)&&(j=this.length),j<=0)||(j>>>=0)<=(D>>>=0))return"";for(A||(A="utf8");;)switch(A){case"hex":return Ce(this,D,j);case"utf8":case"utf-8":return re(this,D,j);case"ascii":return _e(this,D,j);case"latin1":case"binary":return be(this,D,j);case"base64":return ne(this,D,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,D,j);default:if(ie)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),ie=!0}}function B(A,D,j){const ie=A[D];A[D]=A[j],A[j]=ie}function H(A,D,j,ie,le){if(A.length===0)return-1;if(typeof j=="string"?(ie=j,j=0):j>2147483647?j=2147483647:j<-2147483648&&(j=-2147483648),Ne(j=+j)&&(j=le?0:A.length-1),j<0&&(j=A.length+j),j>=A.length){if(le)return-1;j=A.length-1}else if(j<0){if(!le)return-1;j=0}if(typeof D=="string"&&(D=b.from(D,ie)),b.isBuffer(D))return D.length===0?-1:P(A,D,j,ie,le);if(typeof D=="number")return D&=255,typeof Uint8Array.prototype.indexOf=="function"?le?Uint8Array.prototype.indexOf.call(A,D,j):Uint8Array.prototype.lastIndexOf.call(A,D,j):P(A,[D],j,ie,le);throw new TypeError("val must be string, number or Buffer")}function P(A,D,j,ie,le){let ue,Se=1,ze=A.length,Je=D.length;if(ie!==void 0&&((ie=String(ie).toLowerCase())==="ucs2"||ie==="ucs-2"||ie==="utf16le"||ie==="utf-16le")){if(A.length<2||D.length<2)return-1;Se=2,ze/=2,Je/=2,j/=2}function dt(ot,et){return Se===1?ot[et]:ot.readUInt16BE(et*Se)}if(le){let ot=-1;for(ue=j;ue<ze;ue++)if(dt(A,ue)===dt(D,ot===-1?0:ue-ot)){if(ot===-1&&(ot=ue),ue-ot+1===Je)return ot*Se}else ot!==-1&&(ue-=ue-ot),ot=-1}else for(j+Je>ze&&(j=ze-Je),ue=j;ue>=0;ue--){let ot=!0;for(let et=0;et<Je;et++)if(dt(A,ue+et)!==dt(D,et)){ot=!1;break}if(ot)return ue}return-1}function R(A,D,j,ie){j=Number(j)||0;const le=A.length-j;ie?(ie=Number(ie))>le&&(ie=le):ie=le;const ue=D.length;let Se;for(ie>ue/2&&(ie=ue/2),Se=0;Se<ie;++Se){const ze=parseInt(D.substr(2*Se,2),16);if(Ne(ze))return Se;A[j+Se]=ze}return Se}function F(A,D,j,ie){return de(ce(D,A.length-j),A,j,ie)}function M(A,D,j,ie){return de(function(le){const ue=[];for(let Se=0;Se<le.length;++Se)ue.push(255&le.charCodeAt(Se));return ue}(D),A,j,ie)}function G(A,D,j,ie){return de(pe(D),A,j,ie)}function E(A,D,j,ie){return de(function(le,ue){let Se,ze,Je;const dt=[];for(let ot=0;ot<le.length&&!((ue-=2)<0);++ot)Se=le.charCodeAt(ot),ze=Se>>8,Je=Se%256,dt.push(Je),dt.push(ze);return dt}(D,A.length-j),A,j,ie)}function ne(A,D,j){return D===0&&j===A.length?l.fromByteArray(A):l.fromByteArray(A.slice(D,j))}function re(A,D,j){j=Math.min(A.length,j);const ie=[];let le=D;for(;le<j;){const ue=A[le];let Se=null,ze=ue>239?4:ue>223?3:ue>191?2:1;if(le+ze<=j){let Je,dt,ot,et;switch(ze){case 1:ue<128&&(Se=ue);break;case 2:Je=A[le+1],(192&Je)==128&&(et=(31&ue)<<6|63&Je,et>127&&(Se=et));break;case 3:Je=A[le+1],dt=A[le+2],(192&Je)==128&&(192&dt)==128&&(et=(15&ue)<<12|(63&Je)<<6|63&dt,et>2047&&(et<55296||et>57343)&&(Se=et));break;case 4:Je=A[le+1],dt=A[le+2],ot=A[le+3],(192&Je)==128&&(192&dt)==128&&(192&ot)==128&&(et=(15&ue)<<18|(63&Je)<<12|(63&dt)<<6|63&ot,et>65535&&et<1114112&&(Se=et))}}Se===null?(Se=65533,ze=1):Se>65535&&(Se-=65536,ie.push(Se>>>10&1023|55296),Se=56320|1023&Se),ie.push(Se),le+=ze}return function(ue){const Se=ue.length;if(Se<=Q)return String.fromCharCode.apply(String,ue);let ze="",Je=0;for(;Je<Se;)ze+=String.fromCharCode.apply(String,ue.slice(Je,Je+=Q));return ze}(ie)}c.kMaxLength=f,b.TYPED_ARRAY_SUPPORT=function(){try{const A=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(A,D),A.foo()===42}catch{return!1}}(),b.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(b.prototype,"parent",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.buffer}}),Object.defineProperty(b.prototype,"offset",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.byteOffset}}),b.poolSize=8192,b.from=function(A,D,j){return C(A,D,j)},Object.setPrototypeOf(b.prototype,Uint8Array.prototype),Object.setPrototypeOf(b,Uint8Array),b.alloc=function(A,D,j){return function(ie,le,ue){return T(ie),ie<=0?g(ie):le!==void 0?typeof ue=="string"?g(ie).fill(le,ue):g(ie).fill(le):g(ie)}(A,D,j)},b.allocUnsafe=function(A){return S(A)},b.allocUnsafeSlow=function(A){return S(A)},b.isBuffer=function(A){return A!=null&&A._isBuffer===!0&&A!==b.prototype},b.compare=function(A,D){if(me(A,Uint8Array)&&(A=b.from(A,A.offset,A.byteLength)),me(D,Uint8Array)&&(D=b.from(D,D.offset,D.byteLength)),!b.isBuffer(A)||!b.isBuffer(D))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===D)return 0;let j=A.length,ie=D.length;for(let le=0,ue=Math.min(j,ie);le<ue;++le)if(A[le]!==D[le]){j=A[le],ie=D[le];break}return j<ie?-1:ie<j?1:0},b.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.concat=function(A,D){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return b.alloc(0);let j;if(D===void 0)for(D=0,j=0;j<A.length;++j)D+=A[j].length;const ie=b.allocUnsafe(D);let le=0;for(j=0;j<A.length;++j){let ue=A[j];if(me(ue,Uint8Array))le+ue.length>ie.length?(b.isBuffer(ue)||(ue=b.from(ue)),ue.copy(ie,le)):Uint8Array.prototype.set.call(ie,ue,le);else{if(!b.isBuffer(ue))throw new TypeError('"list" argument must be an Array of Buffers');ue.copy(ie,le)}le+=ue.length}return ie},b.byteLength=I,b.prototype._isBuffer=!0,b.prototype.swap16=function(){const A=this.length;if(A%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let D=0;D<A;D+=2)B(this,D,D+1);return this},b.prototype.swap32=function(){const A=this.length;if(A%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let D=0;D<A;D+=4)B(this,D,D+3),B(this,D+1,D+2);return this},b.prototype.swap64=function(){const A=this.length;if(A%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let D=0;D<A;D+=8)B(this,D,D+7),B(this,D+1,D+6),B(this,D+2,D+5),B(this,D+3,D+4);return this},b.prototype.toString=function(){const A=this.length;return A===0?"":arguments.length===0?re(this,0,A):k.apply(this,arguments)},b.prototype.toLocaleString=b.prototype.toString,b.prototype.equals=function(A){if(!b.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A||b.compare(this,A)===0},b.prototype.inspect=function(){let A="";const D=c.INSPECT_MAX_BYTES;return A=this.toString("hex",0,D).replace(/(.{2})/g,"$1 ").trim(),this.length>D&&(A+=" ... "),"<Buffer "+A+">"},h&&(b.prototype[h]=b.prototype.inspect),b.prototype.compare=function(A,D,j,ie,le){if(me(A,Uint8Array)&&(A=b.from(A,A.offset,A.byteLength)),!b.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(D===void 0&&(D=0),j===void 0&&(j=A?A.length:0),ie===void 0&&(ie=0),le===void 0&&(le=this.length),D<0||j>A.length||ie<0||le>this.length)throw new RangeError("out of range index");if(ie>=le&&D>=j)return 0;if(ie>=le)return-1;if(D>=j)return 1;if(this===A)return 0;let ue=(le>>>=0)-(ie>>>=0),Se=(j>>>=0)-(D>>>=0);const ze=Math.min(ue,Se),Je=this.slice(ie,le),dt=A.slice(D,j);for(let ot=0;ot<ze;++ot)if(Je[ot]!==dt[ot]){ue=Je[ot],Se=dt[ot];break}return ue<Se?-1:Se<ue?1:0},b.prototype.includes=function(A,D,j){return this.indexOf(A,D,j)!==-1},b.prototype.indexOf=function(A,D,j){return H(this,A,D,j,!0)},b.prototype.lastIndexOf=function(A,D,j){return H(this,A,D,j,!1)},b.prototype.write=function(A,D,j,ie){if(D===void 0)ie="utf8",j=this.length,D=0;else if(j===void 0&&typeof D=="string")ie=D,j=this.length,D=0;else{if(!isFinite(D))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");D>>>=0,isFinite(j)?(j>>>=0,ie===void 0&&(ie="utf8")):(ie=j,j=void 0)}const le=this.length-D;if((j===void 0||j>le)&&(j=le),A.length>0&&(j<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");ie||(ie="utf8");let ue=!1;for(;;)switch(ie){case"hex":return R(this,A,D,j);case"utf8":case"utf-8":return F(this,A,D,j);case"ascii":case"latin1":case"binary":return M(this,A,D,j);case"base64":return G(this,A,D,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,A,D,j);default:if(ue)throw new TypeError("Unknown encoding: "+ie);ie=(""+ie).toLowerCase(),ue=!0}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const Q=4096;function _e(A,D,j){let ie="";j=Math.min(A.length,j);for(let le=D;le<j;++le)ie+=String.fromCharCode(127&A[le]);return ie}function be(A,D,j){let ie="";j=Math.min(A.length,j);for(let le=D;le<j;++le)ie+=String.fromCharCode(A[le]);return ie}function Ce(A,D,j){const ie=A.length;(!D||D<0)&&(D=0),(!j||j<0||j>ie)&&(j=ie);let le="";for(let ue=D;ue<j;++ue)le+=ye[A[ue]];return le}function x(A,D,j){const ie=A.slice(D,j);let le="";for(let ue=0;ue<ie.length-1;ue+=2)le+=String.fromCharCode(ie[ue]+256*ie[ue+1]);return le}function $(A,D,j){if(A%1!=0||A<0)throw new RangeError("offset is not uint");if(A+D>j)throw new RangeError("Trying to access beyond buffer length")}function oe(A,D,j,ie,le,ue){if(!b.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>le||D<ue)throw new RangeError('"value" argument is out of bounds');if(j+ie>A.length)throw new RangeError("Index out of range")}function z(A,D,j,ie,le){v(D,ie,le,A,j,7);let ue=Number(D&BigInt(4294967295));A[j++]=ue,ue>>=8,A[j++]=ue,ue>>=8,A[j++]=ue,ue>>=8,A[j++]=ue;let Se=Number(D>>BigInt(32)&BigInt(4294967295));return A[j++]=Se,Se>>=8,A[j++]=Se,Se>>=8,A[j++]=Se,Se>>=8,A[j++]=Se,j}function Y(A,D,j,ie,le){v(D,ie,le,A,j,7);let ue=Number(D&BigInt(4294967295));A[j+7]=ue,ue>>=8,A[j+6]=ue,ue>>=8,A[j+5]=ue,ue>>=8,A[j+4]=ue;let Se=Number(D>>BigInt(32)&BigInt(4294967295));return A[j+3]=Se,Se>>=8,A[j+2]=Se,Se>>=8,A[j+1]=Se,Se>>=8,A[j]=Se,j+8}function q(A,D,j,ie,le,ue){if(j+ie>A.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("Index out of range")}function W(A,D,j,ie,le){return D=+D,j>>>=0,le||q(A,0,j,4),u.write(A,D,j,ie,23,4),j+4}function te(A,D,j,ie,le){return D=+D,j>>>=0,le||q(A,0,j,8),u.write(A,D,j,ie,52,8),j+8}b.prototype.slice=function(A,D){const j=this.length;(A=~~A)<0?(A+=j)<0&&(A=0):A>j&&(A=j),(D=D===void 0?j:~~D)<0?(D+=j)<0&&(D=0):D>j&&(D=j),D<A&&(D=A);const ie=this.subarray(A,D);return Object.setPrototypeOf(ie,b.prototype),ie},b.prototype.readUintLE=b.prototype.readUIntLE=function(A,D,j){A>>>=0,D>>>=0,j||$(A,D,this.length);let ie=this[A],le=1,ue=0;for(;++ue<D&&(le*=256);)ie+=this[A+ue]*le;return ie},b.prototype.readUintBE=b.prototype.readUIntBE=function(A,D,j){A>>>=0,D>>>=0,j||$(A,D,this.length);let ie=this[A+--D],le=1;for(;D>0&&(le*=256);)ie+=this[A+--D]*le;return ie},b.prototype.readUint8=b.prototype.readUInt8=function(A,D){return A>>>=0,D||$(A,1,this.length),this[A]},b.prototype.readUint16LE=b.prototype.readUInt16LE=function(A,D){return A>>>=0,D||$(A,2,this.length),this[A]|this[A+1]<<8},b.prototype.readUint16BE=b.prototype.readUInt16BE=function(A,D){return A>>>=0,D||$(A,2,this.length),this[A]<<8|this[A+1]},b.prototype.readUint32LE=b.prototype.readUInt32LE=function(A,D){return A>>>=0,D||$(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+16777216*this[A+3]},b.prototype.readUint32BE=b.prototype.readUInt32BE=function(A,D){return A>>>=0,D||$(A,4,this.length),16777216*this[A]+(this[A+1]<<16|this[A+2]<<8|this[A+3])},b.prototype.readBigUInt64LE=De(function(A){N(A>>>=0,"offset");const D=this[A],j=this[A+7];D!==void 0&&j!==void 0||L(A,this.length-8);const ie=D+256*this[++A]+65536*this[++A]+this[++A]*2**24,le=this[++A]+256*this[++A]+65536*this[++A]+j*2**24;return BigInt(ie)+(BigInt(le)<<BigInt(32))}),b.prototype.readBigUInt64BE=De(function(A){N(A>>>=0,"offset");const D=this[A],j=this[A+7];D!==void 0&&j!==void 0||L(A,this.length-8);const ie=D*2**24+65536*this[++A]+256*this[++A]+this[++A],le=this[++A]*2**24+65536*this[++A]+256*this[++A]+j;return(BigInt(ie)<<BigInt(32))+BigInt(le)}),b.prototype.readIntLE=function(A,D,j){A>>>=0,D>>>=0,j||$(A,D,this.length);let ie=this[A],le=1,ue=0;for(;++ue<D&&(le*=256);)ie+=this[A+ue]*le;return le*=128,ie>=le&&(ie-=Math.pow(2,8*D)),ie},b.prototype.readIntBE=function(A,D,j){A>>>=0,D>>>=0,j||$(A,D,this.length);let ie=D,le=1,ue=this[A+--ie];for(;ie>0&&(le*=256);)ue+=this[A+--ie]*le;return le*=128,ue>=le&&(ue-=Math.pow(2,8*D)),ue},b.prototype.readInt8=function(A,D){return A>>>=0,D||$(A,1,this.length),128&this[A]?-1*(255-this[A]+1):this[A]},b.prototype.readInt16LE=function(A,D){A>>>=0,D||$(A,2,this.length);const j=this[A]|this[A+1]<<8;return 32768&j?4294901760|j:j},b.prototype.readInt16BE=function(A,D){A>>>=0,D||$(A,2,this.length);const j=this[A+1]|this[A]<<8;return 32768&j?4294901760|j:j},b.prototype.readInt32LE=function(A,D){return A>>>=0,D||$(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},b.prototype.readInt32BE=function(A,D){return A>>>=0,D||$(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},b.prototype.readBigInt64LE=De(function(A){N(A>>>=0,"offset");const D=this[A],j=this[A+7];D!==void 0&&j!==void 0||L(A,this.length-8);const ie=this[A+4]+256*this[A+5]+65536*this[A+6]+(j<<24);return(BigInt(ie)<<BigInt(32))+BigInt(D+256*this[++A]+65536*this[++A]+this[++A]*16777216)}),b.prototype.readBigInt64BE=De(function(A){N(A>>>=0,"offset");const D=this[A],j=this[A+7];D!==void 0&&j!==void 0||L(A,this.length-8);const ie=(D<<24)+65536*this[++A]+256*this[++A]+this[++A];return(BigInt(ie)<<BigInt(32))+BigInt(this[++A]*16777216+65536*this[++A]+256*this[++A]+j)}),b.prototype.readFloatLE=function(A,D){return A>>>=0,D||$(A,4,this.length),u.read(this,A,!0,23,4)},b.prototype.readFloatBE=function(A,D){return A>>>=0,D||$(A,4,this.length),u.read(this,A,!1,23,4)},b.prototype.readDoubleLE=function(A,D){return A>>>=0,D||$(A,8,this.length),u.read(this,A,!0,52,8)},b.prototype.readDoubleBE=function(A,D){return A>>>=0,D||$(A,8,this.length),u.read(this,A,!1,52,8)},b.prototype.writeUintLE=b.prototype.writeUIntLE=function(A,D,j,ie){A=+A,D>>>=0,j>>>=0,ie||oe(this,A,D,j,Math.pow(2,8*j)-1,0);let le=1,ue=0;for(this[D]=255&A;++ue<j&&(le*=256);)this[D+ue]=A/le&255;return D+j},b.prototype.writeUintBE=b.prototype.writeUIntBE=function(A,D,j,ie){A=+A,D>>>=0,j>>>=0,ie||oe(this,A,D,j,Math.pow(2,8*j)-1,0);let le=j-1,ue=1;for(this[D+le]=255&A;--le>=0&&(ue*=256);)this[D+le]=A/ue&255;return D+j},b.prototype.writeUint8=b.prototype.writeUInt8=function(A,D,j){return A=+A,D>>>=0,j||oe(this,A,D,1,255,0),this[D]=255&A,D+1},b.prototype.writeUint16LE=b.prototype.writeUInt16LE=function(A,D,j){return A=+A,D>>>=0,j||oe(this,A,D,2,65535,0),this[D]=255&A,this[D+1]=A>>>8,D+2},b.prototype.writeUint16BE=b.prototype.writeUInt16BE=function(A,D,j){return A=+A,D>>>=0,j||oe(this,A,D,2,65535,0),this[D]=A>>>8,this[D+1]=255&A,D+2},b.prototype.writeUint32LE=b.prototype.writeUInt32LE=function(A,D,j){return A=+A,D>>>=0,j||oe(this,A,D,4,4294967295,0),this[D+3]=A>>>24,this[D+2]=A>>>16,this[D+1]=A>>>8,this[D]=255&A,D+4},b.prototype.writeUint32BE=b.prototype.writeUInt32BE=function(A,D,j){return A=+A,D>>>=0,j||oe(this,A,D,4,4294967295,0),this[D]=A>>>24,this[D+1]=A>>>16,this[D+2]=A>>>8,this[D+3]=255&A,D+4},b.prototype.writeBigUInt64LE=De(function(A,D=0){return z(this,A,D,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeBigUInt64BE=De(function(A,D=0){return Y(this,A,D,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeIntLE=function(A,D,j,ie){if(A=+A,D>>>=0,!ie){const ze=Math.pow(2,8*j-1);oe(this,A,D,j,ze-1,-ze)}let le=0,ue=1,Se=0;for(this[D]=255&A;++le<j&&(ue*=256);)A<0&&Se===0&&this[D+le-1]!==0&&(Se=1),this[D+le]=(A/ue>>0)-Se&255;return D+j},b.prototype.writeIntBE=function(A,D,j,ie){if(A=+A,D>>>=0,!ie){const ze=Math.pow(2,8*j-1);oe(this,A,D,j,ze-1,-ze)}let le=j-1,ue=1,Se=0;for(this[D+le]=255&A;--le>=0&&(ue*=256);)A<0&&Se===0&&this[D+le+1]!==0&&(Se=1),this[D+le]=(A/ue>>0)-Se&255;return D+j},b.prototype.writeInt8=function(A,D,j){return A=+A,D>>>=0,j||oe(this,A,D,1,127,-128),A<0&&(A=255+A+1),this[D]=255&A,D+1},b.prototype.writeInt16LE=function(A,D,j){return A=+A,D>>>=0,j||oe(this,A,D,2,32767,-32768),this[D]=255&A,this[D+1]=A>>>8,D+2},b.prototype.writeInt16BE=function(A,D,j){return A=+A,D>>>=0,j||oe(this,A,D,2,32767,-32768),this[D]=A>>>8,this[D+1]=255&A,D+2},b.prototype.writeInt32LE=function(A,D,j){return A=+A,D>>>=0,j||oe(this,A,D,4,2147483647,-2147483648),this[D]=255&A,this[D+1]=A>>>8,this[D+2]=A>>>16,this[D+3]=A>>>24,D+4},b.prototype.writeInt32BE=function(A,D,j){return A=+A,D>>>=0,j||oe(this,A,D,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),this[D]=A>>>24,this[D+1]=A>>>16,this[D+2]=A>>>8,this[D+3]=255&A,D+4},b.prototype.writeBigInt64LE=De(function(A,D=0){return z(this,A,D,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),b.prototype.writeBigInt64BE=De(function(A,D=0){return Y(this,A,D,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),b.prototype.writeFloatLE=function(A,D,j){return W(this,A,D,!0,j)},b.prototype.writeFloatBE=function(A,D,j){return W(this,A,D,!1,j)},b.prototype.writeDoubleLE=function(A,D,j){return te(this,A,D,!0,j)},b.prototype.writeDoubleBE=function(A,D,j){return te(this,A,D,!1,j)},b.prototype.copy=function(A,D,j,ie){if(!b.isBuffer(A))throw new TypeError("argument should be a Buffer");if(j||(j=0),ie||ie===0||(ie=this.length),D>=A.length&&(D=A.length),D||(D=0),ie>0&&ie<j&&(ie=j),ie===j||A.length===0||this.length===0)return 0;if(D<0)throw new RangeError("targetStart out of bounds");if(j<0||j>=this.length)throw new RangeError("Index out of range");if(ie<0)throw new RangeError("sourceEnd out of bounds");ie>this.length&&(ie=this.length),A.length-D<ie-j&&(ie=A.length-D+j);const le=ie-j;return this===A&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(D,j,ie):Uint8Array.prototype.set.call(A,this.subarray(j,ie),D),le},b.prototype.fill=function(A,D,j,ie){if(typeof A=="string"){if(typeof D=="string"?(ie=D,D=0,j=this.length):typeof j=="string"&&(ie=j,j=this.length),ie!==void 0&&typeof ie!="string")throw new TypeError("encoding must be a string");if(typeof ie=="string"&&!b.isEncoding(ie))throw new TypeError("Unknown encoding: "+ie);if(A.length===1){const ue=A.charCodeAt(0);(ie==="utf8"&&ue<128||ie==="latin1")&&(A=ue)}}else typeof A=="number"?A&=255:typeof A=="boolean"&&(A=Number(A));if(D<0||this.length<D||this.length<j)throw new RangeError("Out of range index");if(j<=D)return this;let le;if(D>>>=0,j=j===void 0?this.length:j>>>0,A||(A=0),typeof A=="number")for(le=D;le<j;++le)this[le]=A;else{const ue=b.isBuffer(A)?A:b.from(A,ie),Se=ue.length;if(Se===0)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(le=0;le<j-D;++le)this[le+D]=ue[le%Se]}return this};const se={};function ae(A,D,j){se[A]=class extends j{constructor(){super(),Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${A}]`,this.stack,delete this.name}get code(){return A}set code(ie){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ie,writable:!0})}toString(){return`${this.name} [${A}]: ${this.message}`}}}function U(A){let D="",j=A.length;const ie=A[0]==="-"?1:0;for(;j>=ie+4;j-=3)D=`_${A.slice(j-3,j)}${D}`;return`${A.slice(0,j)}${D}`}function v(A,D,j,ie,le,ue){if(A>j||A<D){const Se=typeof D=="bigint"?"n":"";let ze;throw ze=ue>3?D===0||D===BigInt(0)?`>= 0${Se} and < 2${Se} ** ${8*(ue+1)}${Se}`:`>= -(2${Se} ** ${8*(ue+1)-1}${Se}) and < 2 ** ${8*(ue+1)-1}${Se}`:`>= ${D}${Se} and <= ${j}${Se}`,new se.ERR_OUT_OF_RANGE("value",ze,A)}(function(Se,ze,Je){N(ze,"offset"),Se[ze]!==void 0&&Se[ze+Je]!==void 0||L(ze,Se.length-(Je+1))})(ie,le,ue)}function N(A,D){if(typeof A!="number")throw new se.ERR_INVALID_ARG_TYPE(D,"number",A)}function L(A,D,j){throw Math.floor(A)!==A?(N(A,j),new se.ERR_OUT_OF_RANGE(j||"offset","an integer",A)):D<0?new se.ERR_BUFFER_OUT_OF_BOUNDS:new se.ERR_OUT_OF_RANGE(j||"offset",`>= ${j?1:0} and <= ${D}`,A)}ae("ERR_BUFFER_OUT_OF_BOUNDS",function(A){return A?`${A} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ae("ERR_INVALID_ARG_TYPE",function(A,D){return`The "${A}" argument must be of type number. Received type ${typeof D}`},TypeError),ae("ERR_OUT_OF_RANGE",function(A,D,j){let ie=`The value of "${A}" is out of range.`,le=j;return Number.isInteger(j)&&Math.abs(j)>4294967296?le=U(String(j)):typeof j=="bigint"&&(le=String(j),(j>BigInt(2)**BigInt(32)||j<-(BigInt(2)**BigInt(32)))&&(le=U(le)),le+="n"),ie+=` It must be ${D}. Received ${le}`,ie},RangeError);const Z=/[^+/0-9A-Za-z-_]/g;function ce(A,D){let j;D=D||1/0;const ie=A.length;let le=null;const ue=[];for(let Se=0;Se<ie;++Se){if(j=A.charCodeAt(Se),j>55295&&j<57344){if(!le){if(j>56319){(D-=3)>-1&&ue.push(239,191,189);continue}if(Se+1===ie){(D-=3)>-1&&ue.push(239,191,189);continue}le=j;continue}if(j<56320){(D-=3)>-1&&ue.push(239,191,189),le=j;continue}j=65536+(le-55296<<10|j-56320)}else le&&(D-=3)>-1&&ue.push(239,191,189);if(le=null,j<128){if((D-=1)<0)break;ue.push(j)}else if(j<2048){if((D-=2)<0)break;ue.push(j>>6|192,63&j|128)}else if(j<65536){if((D-=3)<0)break;ue.push(j>>12|224,j>>6&63|128,63&j|128)}else{if(!(j<1114112))throw new Error("Invalid code point");if((D-=4)<0)break;ue.push(j>>18|240,j>>12&63|128,j>>6&63|128,63&j|128)}}return ue}function pe(A){return l.toByteArray(function(D){if((D=(D=D.split("=")[0]).trim().replace(Z,"")).length<2)return"";for(;D.length%4!=0;)D+="=";return D}(A))}function de(A,D,j,ie){let le;for(le=0;le<ie&&!(le+j>=D.length||le>=A.length);++le)D[le+j]=A[le];return le}function me(A,D){return A instanceof D||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===D.name}function Ne(A){return A!=A}const ye=function(){const A="0123456789abcdef",D=new Array(256);for(let j=0;j<16;++j){const ie=16*j;for(let le=0;le<16;++le)D[ie+le]=A[j]+A[le]}return D}();function De(A){return typeof BigInt>"u"?Me:A}function Me(){throw new Error("BigInt not supported")}},7187:s=>{var c,a=typeof Reflect=="object"?Reflect:null,l=a&&typeof a.apply=="function"?a.apply:function(k,B,H){return Function.prototype.apply.call(k,B,H)};c=a&&typeof a.ownKeys=="function"?a.ownKeys:Object.getOwnPropertySymbols?function(k){return Object.getOwnPropertyNames(k).concat(Object.getOwnPropertySymbols(k))}:function(k){return Object.getOwnPropertyNames(k)};var u=Number.isNaN||function(k){return k!=k};function h(){h.init.call(this)}s.exports=h,s.exports.once=function(k,B){return new Promise(function(H,P){function R(M){k.removeListener(B,F),P(M)}function F(){typeof k.removeListener=="function"&&k.removeListener("error",R),H([].slice.call(arguments))}I(k,B,F,{once:!0}),B!=="error"&&function(M,G,E){typeof M.on=="function"&&I(M,"error",G,{once:!0})}(k,R)})},h.EventEmitter=h,h.prototype._events=void 0,h.prototype._eventsCount=0,h.prototype._maxListeners=void 0;var f=10;function g(k){if(typeof k!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof k)}function b(k){return k._maxListeners===void 0?h.defaultMaxListeners:k._maxListeners}function C(k,B,H,P){var R,F,M,G;if(g(H),(F=k._events)===void 0?(F=k._events=Object.create(null),k._eventsCount=0):(F.newListener!==void 0&&(k.emit("newListener",B,H.listener?H.listener:H),F=k._events),M=F[B]),M===void 0)M=F[B]=H,++k._eventsCount;else if(typeof M=="function"?M=F[B]=P?[H,M]:[M,H]:P?M.unshift(H):M.push(H),(R=b(k))>0&&M.length>R&&!M.warned){M.warned=!0;var E=new Error("Possible EventEmitter memory leak detected. "+M.length+" "+String(B)+" listeners added. Use emitter.setMaxListeners() to increase limit");E.name="MaxListenersExceededWarning",E.emitter=k,E.type=B,E.count=M.length,G=E,console&&console.warn&&console.warn(G)}return k}function T(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function S(k,B,H){var P={fired:!1,wrapFn:void 0,target:k,type:B,listener:H},R=T.bind(P);return R.listener=H,P.wrapFn=R,R}function _(k,B,H){var P=k._events;if(P===void 0)return[];var R=P[B];return R===void 0?[]:typeof R=="function"?H?[R.listener||R]:[R]:H?function(F){for(var M=new Array(F.length),G=0;G<M.length;++G)M[G]=F[G].listener||F[G];return M}(R):w(R,R.length)}function y(k){var B=this._events;if(B!==void 0){var H=B[k];if(typeof H=="function")return 1;if(H!==void 0)return H.length}return 0}function w(k,B){for(var H=new Array(B),P=0;P<B;++P)H[P]=k[P];return H}function I(k,B,H,P){if(typeof k.on=="function")P.once?k.once(B,H):k.on(B,H);else{if(typeof k.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof k);k.addEventListener(B,function R(F){P.once&&k.removeEventListener(B,R),H(F)})}}Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(k){if(typeof k!="number"||k<0||u(k))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+k+".");f=k}}),h.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},h.prototype.setMaxListeners=function(k){if(typeof k!="number"||k<0||u(k))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+k+".");return this._maxListeners=k,this},h.prototype.getMaxListeners=function(){return b(this)},h.prototype.emit=function(k){for(var B=[],H=1;H<arguments.length;H++)B.push(arguments[H]);var P=k==="error",R=this._events;if(R!==void 0)P=P&&R.error===void 0;else if(!P)return!1;if(P){var F;if(B.length>0&&(F=B[0]),F instanceof Error)throw F;var M=new Error("Unhandled error."+(F?" ("+F.message+")":""));throw M.context=F,M}var G=R[k];if(G===void 0)return!1;if(typeof G=="function")l(G,this,B);else{var E=G.length,ne=w(G,E);for(H=0;H<E;++H)l(ne[H],this,B)}return!0},h.prototype.addListener=function(k,B){return C(this,k,B,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(k,B){return C(this,k,B,!0)},h.prototype.once=function(k,B){return g(B),this.on(k,S(this,k,B)),this},h.prototype.prependOnceListener=function(k,B){return g(B),this.prependListener(k,S(this,k,B)),this},h.prototype.removeListener=function(k,B){var H,P,R,F,M;if(g(B),(P=this._events)===void 0)return this;if((H=P[k])===void 0)return this;if(H===B||H.listener===B)--this._eventsCount==0?this._events=Object.create(null):(delete P[k],P.removeListener&&this.emit("removeListener",k,H.listener||B));else if(typeof H!="function"){for(R=-1,F=H.length-1;F>=0;F--)if(H[F]===B||H[F].listener===B){M=H[F].listener,R=F;break}if(R<0)return this;R===0?H.shift():function(G,E){for(;E+1<G.length;E++)G[E]=G[E+1];G.pop()}(H,R),H.length===1&&(P[k]=H[0]),P.removeListener!==void 0&&this.emit("removeListener",k,M||B)}return this},h.prototype.off=h.prototype.removeListener,h.prototype.removeAllListeners=function(k){var B,H,P;if((H=this._events)===void 0)return this;if(H.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):H[k]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete H[k]),this;if(arguments.length===0){var R,F=Object.keys(H);for(P=0;P<F.length;++P)(R=F[P])!=="removeListener"&&this.removeAllListeners(R);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(B=H[k])=="function")this.removeListener(k,B);else if(B!==void 0)for(P=B.length-1;P>=0;P--)this.removeListener(k,B[P]);return this},h.prototype.listeners=function(k){return _(this,k,!0)},h.prototype.rawListeners=function(k){return _(this,k,!1)},h.listenerCount=function(k,B){return typeof k.listenerCount=="function"?k.listenerCount(B):y.call(k,B)},h.prototype.listenerCount=y,h.prototype.eventNames=function(){return this._eventsCount>0?c(this._events):[]}},645:(s,c)=>{c.read=function(a,l,u,h,f){var g,b,C=8*f-h-1,T=(1<<C)-1,S=T>>1,_=-7,y=u?f-1:0,w=u?-1:1,I=a[l+y];for(y+=w,g=I&(1<<-_)-1,I>>=-_,_+=C;_>0;g=256*g+a[l+y],y+=w,_-=8);for(b=g&(1<<-_)-1,g>>=-_,_+=h;_>0;b=256*b+a[l+y],y+=w,_-=8);if(g===0)g=1-S;else{if(g===T)return b?NaN:1/0*(I?-1:1);b+=Math.pow(2,h),g-=S}return(I?-1:1)*b*Math.pow(2,g-h)},c.write=function(a,l,u,h,f,g){var b,C,T,S=8*g-f-1,_=(1<<S)-1,y=_>>1,w=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,I=h?0:g-1,k=h?1:-1,B=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(C=isNaN(l)?1:0,b=_):(b=Math.floor(Math.log(l)/Math.LN2),l*(T=Math.pow(2,-b))<1&&(b--,T*=2),(l+=b+y>=1?w/T:w*Math.pow(2,1-y))*T>=2&&(b++,T/=2),b+y>=_?(C=0,b=_):b+y>=1?(C=(l*T-1)*Math.pow(2,f),b+=y):(C=l*Math.pow(2,y-1)*Math.pow(2,f),b=0));f>=8;a[u+I]=255&C,I+=k,C/=256,f-=8);for(b=b<<f|C,S+=f;S>0;a[u+I]=255&b,I+=k,b/=256,S-=8);a[u+I-k]|=128*B}},5705:(s,c,a)=>{var l,u,h=a.g.MutationObserver||a.g.WebKitMutationObserver;if(h){var f=0,g=new h(S),b=a.g.document.createTextNode("");g.observe(b,{characterData:!0}),l=function(){b.data=f=++f%2}}else if(a.g.setImmediate||a.g.MessageChannel===void 0)l="document"in a.g&&"onreadystatechange"in a.g.document.createElement("script")?function(){var _=a.g.document.createElement("script");_.onreadystatechange=function(){S(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},a.g.document.documentElement.appendChild(_)}:function(){setTimeout(S,0)};else{var C=new a.g.MessageChannel;C.port1.onmessage=S,l=function(){C.port2.postMessage(0)}}var T=[];function S(){var _,y;u=!0;for(var w=T.length;w;){for(y=T,T=[],_=-1;++_<w;)y[_]();w=T.length}u=!1}s.exports=function(_){T.push(_)!==1||u||l()}},5717:s=>{typeof Object.create=="function"?s.exports=function(c,a){a&&(c.super_=a,c.prototype=Object.create(a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}))}:s.exports=function(c,a){if(a){c.super_=a;var l=function(){};l.prototype=a.prototype,c.prototype=new l,c.prototype.constructor=c}}},8458:(s,c,a)=>{var l=a(8910),u=a(3790),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c.encode=function(f){for(var g,b,C,T,S,_,y,w=[],I=0,k=f.length,B=k,H=l.getTypeOf(f)!=="string";I<f.length;)B=k-I,H?(g=f[I++],b=I<k?f[I++]:0,C=I<k?f[I++]:0):(g=f.charCodeAt(I++),b=I<k?f.charCodeAt(I++):0,C=I<k?f.charCodeAt(I++):0),T=g>>2,S=(3&g)<<4|b>>4,_=B>1?(15&b)<<2|C>>6:64,y=B>2?63&C:64,w.push(h.charAt(T)+h.charAt(S)+h.charAt(_)+h.charAt(y));return w.join("")},c.decode=function(f){var g,b,C,T,S,_,y=0,w=0,I="data:";if(f.substr(0,I.length)===I)throw new Error("Invalid base64 input, it looks like a data url.");var k,B=3*(f=f.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(f.charAt(f.length-1)===h.charAt(64)&&B--,f.charAt(f.length-2)===h.charAt(64)&&B--,B%1!=0)throw new Error("Invalid base64 input, bad content length.");for(k=u.uint8array?new Uint8Array(0|B):new Array(0|B);y<f.length;)g=h.indexOf(f.charAt(y++))<<2|(T=h.indexOf(f.charAt(y++)))>>4,b=(15&T)<<4|(S=h.indexOf(f.charAt(y++)))>>2,C=(3&S)<<6|(_=h.indexOf(f.charAt(y++))),k[w++]=g,S!==64&&(k[w++]=b),_!==64&&(k[w++]=C);return k}},7326:(s,c,a)=>{var l=a(8565),u=a(5301),h=a(2541),f=a(5977);function g(b,C,T,S,_){this.compressedSize=b,this.uncompressedSize=C,this.crc32=T,this.compression=S,this.compressedContent=_}g.prototype={getContentWorker:function(){var b=new u(l.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new f("data_length")),C=this;return b.on("end",function(){if(this.streamInfo.data_length!==C.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),b},getCompressedWorker:function(){return new u(l.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(b,C,T){return b.pipe(new h).pipe(new f("uncompressedSize")).pipe(C.compressWorker(T)).pipe(new f("compressedSize")).withStreamInfo("compression",C)},s.exports=g},1678:(s,c,a)=>{var l=a(3718);c.STORE={magic:"\0\0",compressWorker:function(){return new l("STORE compression")},uncompressWorker:function(){return new l("STORE decompression")}},c.DEFLATE=a(1033)},6988:(s,c,a)=>{var l=a(8910),u=function(){for(var h,f=[],g=0;g<256;g++){h=g;for(var b=0;b<8;b++)h=1&h?3988292384^h>>>1:h>>>1;f[g]=h}return f}();s.exports=function(h,f){return h!==void 0&&h.length?l.getTypeOf(h)!=="string"?function(g,b,C,T){var S=u,_=0+C;g^=-1;for(var y=0;y<_;y++)g=g>>>8^S[255&(g^b[y])];return-1^g}(0|f,h,h.length):function(g,b,C,T){var S=u,_=0+C;g^=-1;for(var y=0;y<_;y++)g=g>>>8^S[255&(g^b.charCodeAt(y))];return-1^g}(0|f,h,h.length):0}},6032:(s,c)=>{c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!0,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},8565:(s,c,a)=>{var l;l=typeof Promise<"u"?Promise:a(3389),s.exports={Promise:l}},1033:(s,c,a)=>{var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",u=a(9591),h=a(8910),f=a(3718),g=l?"uint8array":"array";function b(C,T){f.call(this,"FlateWorker/"+C),this._pako=null,this._pakoAction=C,this._pakoOptions=T,this.meta={}}c.magic="\b\0",h.inherits(b,f),b.prototype.processChunk=function(C){this.meta=C.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(g,C.data),!1)},b.prototype.flush=function(){f.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},b.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this._pako=null},b.prototype._createPako=function(){this._pako=new u[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var C=this;this._pako.onData=function(T){C.push({data:T,meta:C.meta})}},c.compressWorker=function(C){return new b("Deflate",C)},c.uncompressWorker=function(){return new b("Inflate",{})}},4979:(s,c,a)=>{var l=a(8910),u=a(3718),h=a(3600),f=a(6988),g=a(1141),b=function(_,y){var w,I="";for(w=0;w<y;w++)I+=String.fromCharCode(255&_),_>>>=8;return I},C=function(_,y,w,I,k,B){var H,P,R=_.file,F=_.compression,M=B!==h.utf8encode,G=l.transformTo("string",B(R.name)),E=l.transformTo("string",h.utf8encode(R.name)),ne=R.comment,re=l.transformTo("string",B(ne)),Q=l.transformTo("string",h.utf8encode(ne)),_e=E.length!==R.name.length,be=Q.length!==ne.length,Ce="",x="",$="",oe=R.dir,z=R.date,Y={crc32:0,compressedSize:0,uncompressedSize:0};y&&!w||(Y.crc32=_.crc32,Y.compressedSize=_.compressedSize,Y.uncompressedSize=_.uncompressedSize);var q=0;y&&(q|=8),M||!_e&&!be||(q|=2048);var W,te,se=0,ae=0;oe&&(se|=16),k==="UNIX"?(ae=798,se|=(te=W=R.unixPermissions,W||(te=oe?16893:33204),(65535&te)<<16)):(ae=20,se|=63&(R.dosPermissions||0)),H=z.getUTCHours(),H<<=6,H|=z.getUTCMinutes(),H<<=5,H|=z.getUTCSeconds()/2,P=z.getUTCFullYear()-1980,P<<=4,P|=z.getUTCMonth()+1,P<<=5,P|=z.getUTCDate(),_e&&(x=b(1,1)+b(f(G),4)+E,Ce+="up"+b(x.length,2)+x),be&&($=b(1,1)+b(f(re),4)+Q,Ce+="uc"+b($.length,2)+$);var U="";return U+=`
\0`,U+=b(q,2),U+=F.magic,U+=b(H,2),U+=b(P,2),U+=b(Y.crc32,4),U+=b(Y.compressedSize,4),U+=b(Y.uncompressedSize,4),U+=b(G.length,2),U+=b(Ce.length,2),{fileRecord:g.LOCAL_FILE_HEADER+U+G+Ce,dirRecord:g.CENTRAL_FILE_HEADER+b(ae,2)+U+b(re.length,2)+"\0\0\0\0"+b(se,4)+b(I,4)+G+Ce+re}},T=function(_){return g.DATA_DESCRIPTOR+b(_.crc32,4)+b(_.compressedSize,4)+b(_.uncompressedSize,4)};function S(_,y,w,I){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=w,this.encodeFileName=I,this.streamFiles=_,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(S,u),S.prototype.push=function(_){var y=_.meta.percent||0,w=this.entriesCount,I=this._sources.length;this.accumulate?this.contentBuffer.push(_):(this.bytesWritten+=_.data.length,u.prototype.push.call(this,{data:_.data,meta:{currentFile:this.currentFile,percent:w?(y+100*(w-I-1))/w:100}}))},S.prototype.openedSource=function(_){this.currentSourceOffset=this.bytesWritten,this.currentFile=_.file.name;var y=this.streamFiles&&!_.file.dir;if(y){var w=C(_,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:w.fileRecord,meta:{percent:0}})}else this.accumulate=!0},S.prototype.closedSource=function(_){this.accumulate=!1;var y=this.streamFiles&&!_.file.dir,w=C(_,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(w.dirRecord),y)this.push({data:T(_),meta:{percent:100}});else for(this.push({data:w.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},S.prototype.flush=function(){for(var _=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var w=this.bytesWritten-_,I=function(k,B,H,P,R){var F=l.transformTo("string",R(P));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+b(k,2)+b(k,2)+b(B,4)+b(H,4)+b(F.length,2)+F}(this.dirRecords.length,w,_,this.zipComment,this.encodeFileName);this.push({data:I,meta:{percent:100}})},S.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},S.prototype.registerPrevious=function(_){this._sources.push(_);var y=this;return _.on("data",function(w){y.processChunk(w)}),_.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),_.on("error",function(w){y.error(w)}),this},S.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},S.prototype.error=function(_){var y=this._sources;if(!u.prototype.error.call(this,_))return!1;for(var w=0;w<y.length;w++)try{y[w].error(_)}catch{}return!0},S.prototype.lock=function(){u.prototype.lock.call(this);for(var _=this._sources,y=0;y<_.length;y++)_[y].lock()},s.exports=S},7834:(s,c,a)=>{var l=a(1678),u=a(4979);c.generateWorker=function(h,f,g){var b=new u(f.streamFiles,g,f.platform,f.encodeFileName),C=0;try{h.forEach(function(T,S){C++;var _=function(k,B){var H=k||B,P=l[H];if(!P)throw new Error(H+" is not a valid compression method !");return P}(S.options.compression,f.compression),y=S.options.compressionOptions||f.compressionOptions||{},w=S.dir,I=S.date;S._compressWorker(_,y).withStreamInfo("file",{name:T,dir:w,date:I,comment:S.comment||"",unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions}).pipe(b)}),b.entriesCount=C}catch(T){b.error(T)}return b}},6085:(s,c,a)=>{function l(){if(!(this instanceof l))return new l;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var u=new l;for(var h in this)typeof this[h]!="function"&&(u[h]=this[h]);return u}}l.prototype=a(7132),l.prototype.loadAsync=a(1062),l.support=a(3790),l.defaults=a(6032),l.version="3.10.1",l.loadAsync=function(u,h){return new l().loadAsync(u,h)},l.external=a(8565),s.exports=l},1062:(s,c,a)=>{var l=a(8910),u=a(8565),h=a(3600),f=a(6624),g=a(2541),b=a(2182);function C(T){return new u.Promise(function(S,_){var y=T.decompressed.getContentWorker().pipe(new g);y.on("error",function(w){_(w)}).on("end",function(){y.streamInfo.crc32!==T.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):S()}).resume()})}s.exports=function(T,S){var _=this;return S=l.extend(S||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),b.isNode&&b.isStream(T)?u.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):l.prepareContent("the loaded zip file",T,!0,S.optimizedBinaryString,S.base64).then(function(y){var w=new f(S);return w.load(y),w}).then(function(y){var w=[u.Promise.resolve(y)],I=y.files;if(S.checkCRC32)for(var k=0;k<I.length;k++)w.push(C(I[k]));return u.Promise.all(w)}).then(function(y){for(var w=y.shift(),I=w.files,k=0;k<I.length;k++){var B=I[k],H=B.fileNameStr,P=l.resolve(B.fileNameStr);_.file(P,B.decompressed,{binary:!0,optimizedBinaryString:!0,date:B.date,dir:B.dir,comment:B.fileCommentStr.length?B.fileCommentStr:null,unixPermissions:B.unixPermissions,dosPermissions:B.dosPermissions,createFolders:S.createFolders}),B.dir||(_.file(P).unsafeOriginalName=H)}return w.zipComment.length&&(_.comment=w.zipComment),_})}},2182:s=>{s.exports={isNode:typeof Buffer<"u",newBufferFrom:function(c,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(c,a);if(typeof c=="number")throw new Error('The "data" argument must not be a number');return new Buffer(c,a)},allocBuffer:function(c){if(Buffer.alloc)return Buffer.alloc(c);var a=new Buffer(c);return a.fill(0),a},isBuffer:function(c){return Buffer.isBuffer(c)},isStream:function(c){return c&&typeof c.on=="function"&&typeof c.pause=="function"&&typeof c.resume=="function"}}},660:(s,c,a)=>{var l=a(8910),u=a(3718);function h(f,g){u.call(this,"Nodejs stream input adapter for "+f),this._upstreamEnded=!1,this._bindStream(g)}l.inherits(h,u),h.prototype._bindStream=function(f){var g=this;this._stream=f,f.pause(),f.on("data",function(b){g.push({data:b,meta:{percent:0}})}).on("error",function(b){g.isPaused?this.generatedError=b:g.error(b)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},h.prototype.pause=function(){return!!u.prototype.pause.call(this)&&(this._stream.pause(),!0)},h.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},s.exports=h},1220:(s,c,a)=>{var l=a(749).Readable;function u(h,f,g){l.call(this,f),this._helper=h;var b=this;h.on("data",function(C,T){b.push(C)||b._helper.pause(),g&&g(T)}).on("error",function(C){b.emit("error",C)}).on("end",function(){b.push(null)})}a(8910).inherits(u,l),u.prototype._read=function(){this._helper.resume()},s.exports=u},7132:(s,c,a)=>{var l=a(3600),u=a(8910),h=a(3718),f=a(1285),g=a(6032),b=a(7326),C=a(6859),T=a(7834),S=a(2182),_=a(660),y=function(P,R,F){var M,G=u.getTypeOf(R),E=u.extend(F||{},g);E.date=E.date||new Date,E.compression!==null&&(E.compression=E.compression.toUpperCase()),typeof E.unixPermissions=="string"&&(E.unixPermissions=parseInt(E.unixPermissions,8)),E.unixPermissions&&16384&E.unixPermissions&&(E.dir=!0),E.dosPermissions&&16&E.dosPermissions&&(E.dir=!0),E.dir&&(P=I(P)),E.createFolders&&(M=w(P))&&k.call(this,M,!0);var ne=G==="string"&&E.binary===!1&&E.base64===!1;F&&F.binary!==void 0||(E.binary=!ne),(R instanceof b&&R.uncompressedSize===0||E.dir||!R||R.length===0)&&(E.base64=!1,E.binary=!0,R="",E.compression="STORE",G="string");var re;re=R instanceof b||R instanceof h?R:S.isNode&&S.isStream(R)?new _(P,R):u.prepareContent(P,R,E.binary,E.optimizedBinaryString,E.base64);var Q=new C(P,re,E);this.files[P]=Q},w=function(P){P.slice(-1)==="/"&&(P=P.substring(0,P.length-1));var R=P.lastIndexOf("/");return R>0?P.substring(0,R):""},I=function(P){return P.slice(-1)!=="/"&&(P+="/"),P},k=function(P,R){return R=R!==void 0?R:g.createFolders,P=I(P),this.files[P]||y.call(this,P,null,{dir:!0,createFolders:R}),this.files[P]};function B(P){return Object.prototype.toString.call(P)==="[object RegExp]"}var H={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(P){var R,F,M;for(R in this.files)M=this.files[R],(F=R.slice(this.root.length,R.length))&&R.slice(0,this.root.length)===this.root&&P(F,M)},filter:function(P){var R=[];return this.forEach(function(F,M){P(F,M)&&R.push(M)}),R},file:function(P,R,F){if(arguments.length===1){if(B(P)){var M=P;return this.filter(function(E,ne){return!ne.dir&&M.test(E)})}var G=this.files[this.root+P];return G&&!G.dir?G:null}return P=this.root+P,y.call(this,P,R,F),this},folder:function(P){if(!P)return this;if(B(P))return this.filter(function(G,E){return E.dir&&P.test(G)});var R=this.root+P,F=k.call(this,R),M=this.clone();return M.root=F.name,M},remove:function(P){P=this.root+P;var R=this.files[P];if(R||(P.slice(-1)!=="/"&&(P+="/"),R=this.files[P]),R&&!R.dir)delete this.files[P];else for(var F=this.filter(function(G,E){return E.name.slice(0,P.length)===P}),M=0;M<F.length;M++)delete this.files[F[M].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(P){var R,F={};try{if((F=u.extend(P||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=F.type.toLowerCase(),F.compression=F.compression.toUpperCase(),F.type==="binarystring"&&(F.type="string"),!F.type)throw new Error("No output type specified.");u.checkSupport(F.type),F.platform!=="darwin"&&F.platform!=="freebsd"&&F.platform!=="linux"&&F.platform!=="sunos"||(F.platform="UNIX"),F.platform==="win32"&&(F.platform="DOS");var M=F.comment||this.comment||"";R=T.generateWorker(this,F,M)}catch(G){(R=new h("error")).error(G)}return new f(R,F.type||"string",F.mimeType)},generateAsync:function(P,R){return this.generateInternalStream(P).accumulate(R)},generateNodeStream:function(P,R){return(P=P||{}).type||(P.type="nodebuffer"),this.generateInternalStream(P).toNodejsStream(R)}};s.exports=H},749:(s,c,a)=>{s.exports=a(2830)},2370:(s,c,a)=>{var l=a(8542);function u(h){l.call(this,h);for(var f=0;f<this.data.length;f++)h[f]=255&h[f]}a(8910).inherits(u,l),u.prototype.byteAt=function(h){return this.data[this.zero+h]},u.prototype.lastIndexOfSignature=function(h){for(var f=h.charCodeAt(0),g=h.charCodeAt(1),b=h.charCodeAt(2),C=h.charCodeAt(3),T=this.length-4;T>=0;--T)if(this.data[T]===f&&this.data[T+1]===g&&this.data[T+2]===b&&this.data[T+3]===C)return T-this.zero;return-1},u.prototype.readAndCheckSignature=function(h){var f=h.charCodeAt(0),g=h.charCodeAt(1),b=h.charCodeAt(2),C=h.charCodeAt(3),T=this.readData(4);return f===T[0]&&g===T[1]&&b===T[2]&&C===T[3]},u.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var f=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,f},s.exports=u},8542:(s,c,a)=>{var l=a(8910);function u(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}u.prototype={checkOffset:function(h){this.checkIndex(this.index+h)},checkIndex:function(h){if(this.length<this.zero+h||h<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+h+"). Corrupted zip ?")},setIndex:function(h){this.checkIndex(h),this.index=h},skip:function(h){this.setIndex(this.index+h)},byteAt:function(){},readInt:function(h){var f,g=0;for(this.checkOffset(h),f=this.index+h-1;f>=this.index;f--)g=(g<<8)+this.byteAt(f);return this.index+=h,g},readString:function(h){return l.transformTo("string",this.readData(h))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var h=this.readInt(4);return new Date(Date.UTC(1980+(h>>25&127),(h>>21&15)-1,h>>16&31,h>>11&31,h>>5&63,(31&h)<<1))}},s.exports=u},9583:(s,c,a)=>{var l=a(414);function u(h){l.call(this,h)}a(8910).inherits(u,l),u.prototype.readData=function(h){this.checkOffset(h);var f=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,f},s.exports=u},9226:(s,c,a)=>{var l=a(8542);function u(h){l.call(this,h)}a(8910).inherits(u,l),u.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},u.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},u.prototype.readAndCheckSignature=function(h){return h===this.readData(4)},u.prototype.readData=function(h){this.checkOffset(h);var f=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,f},s.exports=u},414:(s,c,a)=>{var l=a(2370);function u(h){l.call(this,h)}a(8910).inherits(u,l),u.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var f=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,f},s.exports=u},8435:(s,c,a)=>{var l=a(8910),u=a(3790),h=a(2370),f=a(9226),g=a(9583),b=a(414);s.exports=function(C){var T=l.getTypeOf(C);return l.checkSupport(T),T!=="string"||u.uint8array?T==="nodebuffer"?new g(C):u.uint8array?new b(l.transformTo("uint8array",C)):new h(l.transformTo("array",C)):new f(C)}},1141:(s,c)=>{c.LOCAL_FILE_HEADER="PK",c.CENTRAL_FILE_HEADER="PK",c.CENTRAL_DIRECTORY_END="PK",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",c.ZIP64_CENTRAL_DIRECTORY_END="PK",c.DATA_DESCRIPTOR="PK\x07\b"},4293:(s,c,a)=>{var l=a(3718),u=a(8910);function h(f){l.call(this,"ConvertWorker to "+f),this.destType=f}u.inherits(h,l),h.prototype.processChunk=function(f){this.push({data:u.transformTo(this.destType,f.data),meta:f.meta})},s.exports=h},2541:(s,c,a)=>{var l=a(3718),u=a(6988);function h(){l.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}a(8910).inherits(h,l),h.prototype.processChunk=function(f){this.streamInfo.crc32=u(f.data,this.streamInfo.crc32||0),this.push(f)},s.exports=h},5977:(s,c,a)=>{var l=a(8910),u=a(3718);function h(f){u.call(this,"DataLengthProbe for "+f),this.propName=f,this.withStreamInfo(f,0)}l.inherits(h,u),h.prototype.processChunk=function(f){if(f){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+f.data.length}u.prototype.processChunk.call(this,f)},s.exports=h},5301:(s,c,a)=>{var l=a(8910),u=a(3718);function h(f){u.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,f.then(function(b){g.dataIsReady=!0,g.data=b,g.max=b&&b.length||0,g.type=l.getTypeOf(b),g.isPaused||g._tickAndRepeat()},function(b){g.error(b)})}l.inherits(h,u),h.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,l.delay(this._tickAndRepeat,[],this)),!0)},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(l.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var f=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":f=this.data.substring(this.index,g);break;case"uint8array":f=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":f=this.data.slice(this.index,g)}return this.index=g,this.push({data:f,meta:{percent:this.max?this.index/this.max*100:0}})},s.exports=h},3718:s=>{function c(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}c.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,l){return this._listeners[a].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,l){if(this._listeners[a])for(var u=0;u<this._listeners[a].length;u++)this._listeners[a][u].call(this,l)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var l=this;return a.on("data",function(u){l.processChunk(u)}),a.on("end",function(){l.end()}),a.on("error",function(u){l.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var a=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,l){return this.extraStreamInfo[a]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},s.exports=c},1285:(s,c,a)=>{var l=a(8910),u=a(4293),h=a(3718),f=a(8458),g=a(3790),b=a(8565),C=null;if(g.nodestream)try{C=a(1220)}catch{}function T(S,_,y){var w=_;switch(_){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=_,this._mimeType=y,l.checkSupport(w),this._worker=S.pipe(new u(w)),S.lock()}catch(I){this._worker=new h("error"),this._worker.error(I)}}T.prototype={accumulate:function(S){return _=this,y=S,new b.Promise(function(w,I){var k=[],B=_._internalType,H=_._outputType,P=_._mimeType;_.on("data",function(R,F){k.push(R),y&&y(F)}).on("error",function(R){k=[],I(R)}).on("end",function(){try{var R=function(F,M,G){switch(F){case"blob":return l.newBlob(l.transformTo("arraybuffer",M),G);case"base64":return f.encode(M);default:return l.transformTo(F,M)}}(H,function(F,M){var G,E=0,ne=null,re=0;for(G=0;G<M.length;G++)re+=M[G].length;switch(F){case"string":return M.join("");case"array":return Array.prototype.concat.apply([],M);case"uint8array":for(ne=new Uint8Array(re),G=0;G<M.length;G++)ne.set(M[G],E),E+=M[G].length;return ne;case"nodebuffer":return Buffer.concat(M);default:throw new Error("concat : unsupported type '"+F+"'")}}(B,k),P);w(R)}catch(F){I(F)}k=[]}).resume()});var _,y},on:function(S,_){var y=this;return S==="data"?this._worker.on(S,function(w){_.call(y,w.data,w.meta)}):this._worker.on(S,function(){l.delay(_,arguments,y)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(S){if(l.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new C(this,{objectMode:this._outputType!=="nodebuffer"},S)}},s.exports=T},3790:(s,c,a)=>{if(c.base64=!0,c.array=!0,c.string=!0,c.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",c.nodebuffer=typeof Buffer<"u",c.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")c.blob=!1;else{var l=new ArrayBuffer(0);try{c.blob=new Blob([l],{type:"application/zip"}).size===0}catch{try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);u.append(l),c.blob=u.getBlob("application/zip").size===0}catch{c.blob=!1}}}try{c.nodestream=!!a(749).Readable}catch{c.nodestream=!1}},3600:(s,c,a)=>{for(var l=a(8910),u=a(3790),h=a(2182),f=a(3718),g=new Array(256),b=0;b<256;b++)g[b]=b>=252?6:b>=248?5:b>=240?4:b>=224?3:b>=192?2:1;function C(){f.call(this,"utf-8 decode"),this.leftOver=null}function T(){f.call(this,"utf-8 encode")}g[254]=g[254]=1,c.utf8encode=function(S){return u.nodebuffer?h.newBufferFrom(S,"utf-8"):function(_){var y,w,I,k,B,H=_.length,P=0;for(k=0;k<H;k++)(64512&(w=_.charCodeAt(k)))==55296&&k+1<H&&(64512&(I=_.charCodeAt(k+1)))==56320&&(w=65536+(w-55296<<10)+(I-56320),k++),P+=w<128?1:w<2048?2:w<65536?3:4;for(y=u.uint8array?new Uint8Array(P):new Array(P),B=0,k=0;B<P;k++)(64512&(w=_.charCodeAt(k)))==55296&&k+1<H&&(64512&(I=_.charCodeAt(k+1)))==56320&&(w=65536+(w-55296<<10)+(I-56320),k++),w<128?y[B++]=w:w<2048?(y[B++]=192|w>>>6,y[B++]=128|63&w):w<65536?(y[B++]=224|w>>>12,y[B++]=128|w>>>6&63,y[B++]=128|63&w):(y[B++]=240|w>>>18,y[B++]=128|w>>>12&63,y[B++]=128|w>>>6&63,y[B++]=128|63&w);return y}(S)},c.utf8decode=function(S){return u.nodebuffer?l.transformTo("nodebuffer",S).toString("utf-8"):function(_){var y,w,I,k,B=_.length,H=new Array(2*B);for(w=0,y=0;y<B;)if((I=_[y++])<128)H[w++]=I;else if((k=g[I])>4)H[w++]=65533,y+=k-1;else{for(I&=k===2?31:k===3?15:7;k>1&&y<B;)I=I<<6|63&_[y++],k--;k>1?H[w++]=65533:I<65536?H[w++]=I:(I-=65536,H[w++]=55296|I>>10&1023,H[w++]=56320|1023&I)}return H.length!==w&&(H.subarray?H=H.subarray(0,w):H.length=w),l.applyFromCharCode(H)}(S=l.transformTo(u.uint8array?"uint8array":"array",S))},l.inherits(C,f),C.prototype.processChunk=function(S){var _=l.transformTo(u.uint8array?"uint8array":"array",S.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var y=_;(_=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),_.set(y,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var w=function(k,B){var H;for((B=B||k.length)>k.length&&(B=k.length),H=B-1;H>=0&&(192&k[H])==128;)H--;return H<0||H===0?B:H+g[k[H]]>B?H:B}(_),I=_;w!==_.length&&(u.uint8array?(I=_.subarray(0,w),this.leftOver=_.subarray(w,_.length)):(I=_.slice(0,w),this.leftOver=_.slice(w,_.length))),this.push({data:c.utf8decode(I),meta:S.meta})},C.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:c.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},c.Utf8DecodeWorker=C,l.inherits(T,f),T.prototype.processChunk=function(S){this.push({data:c.utf8encode(S.data),meta:S.meta})},c.Utf8EncodeWorker=T},8910:(s,c,a)=>{var l=a(3790),u=a(8458),h=a(2182),f=a(8565);function g(y){return y}function b(y,w){for(var I=0;I<y.length;++I)w[I]=255&y.charCodeAt(I);return w}a(4889),c.newBlob=function(y,w){c.checkSupport("blob");try{return new Blob([y],{type:w})}catch{try{var I=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return I.append(y),I.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var C={stringifyByChunk:function(y,w,I){var k=[],B=0,H=y.length;if(H<=I)return String.fromCharCode.apply(null,y);for(;B<H;)w==="array"||w==="nodebuffer"?k.push(String.fromCharCode.apply(null,y.slice(B,Math.min(B+I,H)))):k.push(String.fromCharCode.apply(null,y.subarray(B,Math.min(B+I,H)))),B+=I;return k.join("")},stringifyByChar:function(y){for(var w="",I=0;I<y.length;I++)w+=String.fromCharCode(y[I]);return w},applyCanBeUsed:{uint8array:function(){try{return l.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return l.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch{return!1}}()}};function T(y){var w=65536,I=c.getTypeOf(y),k=!0;if(I==="uint8array"?k=C.applyCanBeUsed.uint8array:I==="nodebuffer"&&(k=C.applyCanBeUsed.nodebuffer),k)for(;w>1;)try{return C.stringifyByChunk(y,I,w)}catch{w=Math.floor(w/2)}return C.stringifyByChar(y)}function S(y,w){for(var I=0;I<y.length;I++)w[I]=y[I];return w}c.applyFromCharCode=T;var _={};_.string={string:g,array:function(y){return b(y,new Array(y.length))},arraybuffer:function(y){return _.string.uint8array(y).buffer},uint8array:function(y){return b(y,new Uint8Array(y.length))},nodebuffer:function(y){return b(y,h.allocBuffer(y.length))}},_.array={string:T,array:g,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return h.newBufferFrom(y)}},_.arraybuffer={string:function(y){return T(new Uint8Array(y))},array:function(y){return S(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:g,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return h.newBufferFrom(new Uint8Array(y))}},_.uint8array={string:T,array:function(y){return S(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:g,nodebuffer:function(y){return h.newBufferFrom(y)}},_.nodebuffer={string:T,array:function(y){return S(y,new Array(y.length))},arraybuffer:function(y){return _.nodebuffer.uint8array(y).buffer},uint8array:function(y){return S(y,new Uint8Array(y.length))},nodebuffer:g},c.transformTo=function(y,w){if(w||(w=""),!y)return w;c.checkSupport(y);var I=c.getTypeOf(w);return _[I][y](w)},c.resolve=function(y){for(var w=y.split("/"),I=[],k=0;k<w.length;k++){var B=w[k];B==="."||B===""&&k!==0&&k!==w.length-1||(B===".."?I.pop():I.push(B))}return I.join("/")},c.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":l.nodebuffer&&h.isBuffer(y)?"nodebuffer":l.uint8array&&y instanceof Uint8Array?"uint8array":l.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},c.checkSupport=function(y){if(!l[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},c.MAX_VALUE_16BITS=65535,c.MAX_VALUE_32BITS=-1,c.pretty=function(y){var w,I,k="";for(I=0;I<(y||"").length;I++)k+="\\x"+((w=y.charCodeAt(I))<16?"0":"")+w.toString(16).toUpperCase();return k},c.delay=function(y,w,I){setImmediate(function(){y.apply(I||null,w||[])})},c.inherits=function(y,w){var I=function(){};I.prototype=w.prototype,y.prototype=new I},c.extend=function(){var y,w,I={};for(y=0;y<arguments.length;y++)for(w in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],w)&&I[w]===void 0&&(I[w]=arguments[y][w]);return I},c.prepareContent=function(y,w,I,k,B){return f.Promise.resolve(w).then(function(H){return l.blob&&(H instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(H))!==-1)&&typeof FileReader<"u"?new f.Promise(function(P,R){var F=new FileReader;F.onload=function(M){P(M.target.result)},F.onerror=function(M){R(M.target.error)},F.readAsArrayBuffer(H)}):H}).then(function(H){var P,R=c.getTypeOf(H);return R?(R==="arraybuffer"?H=c.transformTo("uint8array",H):R==="string"&&(B?H=u.decode(H):I&&k!==!0&&(H=b(P=H,l.uint8array?new Uint8Array(P.length):new Array(P.length)))),H):f.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},6624:(s,c,a)=>{var l=a(8435),u=a(8910),h=a(1141),f=a(9392),g=a(3790);function b(C){this.files=[],this.loadOptions=C}b.prototype={checkSignature:function(C){if(!this.reader.readAndCheckSignature(C)){this.reader.index-=4;var T=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+u.pretty(T)+", expected "+u.pretty(C)+")")}},isSignature:function(C,T){var S=this.reader.index;this.reader.setIndex(C);var _=this.reader.readString(4)===T;return this.reader.setIndex(S),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var C=this.reader.readData(this.zipCommentLength),T=g.uint8array?"uint8array":"array",S=u.transformTo(T,C);this.zipComment=this.loadOptions.decodeFileName(S)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var C,T,S,_=this.zip64EndOfCentralSize-44;0<_;)C=this.reader.readInt(2),T=this.reader.readInt(4),S=this.reader.readData(T),this.zip64ExtensibleData[C]={id:C,length:T,value:S}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var C,T;for(C=0;C<this.files.length;C++)T=this.files[C],this.reader.setIndex(T.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),T.readLocalPart(this.reader),T.handleUTF8(),T.processAttributes()},readCentralDir:function(){var C;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)(C=new f({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(C);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var C=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(C<0)throw this.isSignature(0,h.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(C);var T=C;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,(C=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(C),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var S=this.centralDirOffset+this.centralDirSize;this.zip64&&(S+=20,S+=12+this.zip64EndOfCentralSize);var _=T-S;if(_>0)this.isSignature(T,h.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(C){this.reader=l(C)},load:function(C){this.prepareReader(C),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},s.exports=b},9392:(s,c,a)=>{var l=a(8435),u=a(8910),h=a(7326),f=a(6988),g=a(3600),b=a(1678),C=a(3790);function T(S,_){this.options=S,this.loadOptions=_}T.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(S){var _,y;if(S.skip(22),this.fileNameLength=S.readInt(2),y=S.readInt(2),this.fileName=S.readData(this.fileNameLength),S.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_=function(w){for(var I in b)if(Object.prototype.hasOwnProperty.call(b,I)&&b[I].magic===w)return b[I];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+u.pretty(this.compressionMethod)+" unknown (inner file : "+u.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,_,S.readData(this.compressedSize))},readCentralPart:function(S){this.versionMadeBy=S.readInt(2),S.skip(2),this.bitFlag=S.readInt(2),this.compressionMethod=S.readString(2),this.date=S.readDate(),this.crc32=S.readInt(4),this.compressedSize=S.readInt(4),this.uncompressedSize=S.readInt(4);var _=S.readInt(2);if(this.extraFieldsLength=S.readInt(2),this.fileCommentLength=S.readInt(2),this.diskNumberStart=S.readInt(2),this.internalFileAttributes=S.readInt(2),this.externalFileAttributes=S.readInt(4),this.localHeaderOffset=S.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");S.skip(_),this.readExtraFields(S),this.parseZIP64ExtraField(S),this.fileComment=S.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var S=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),S===0&&(this.dosPermissions=63&this.externalFileAttributes),S===3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var S=l(this.extraFields[1].value);this.uncompressedSize===u.MAX_VALUE_32BITS&&(this.uncompressedSize=S.readInt(8)),this.compressedSize===u.MAX_VALUE_32BITS&&(this.compressedSize=S.readInt(8)),this.localHeaderOffset===u.MAX_VALUE_32BITS&&(this.localHeaderOffset=S.readInt(8)),this.diskNumberStart===u.MAX_VALUE_32BITS&&(this.diskNumberStart=S.readInt(4))}},readExtraFields:function(S){var _,y,w,I=S.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});S.index+4<I;)_=S.readInt(2),y=S.readInt(2),w=S.readData(y),this.extraFields[_]={id:_,length:y,value:w};S.setIndex(I)},handleUTF8:function(){var S=C.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var y=u.transformTo(S,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var I=u.transformTo(S,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(I)}}},findExtraFieldUnicodePath:function(){var S=this.extraFields[28789];if(S){var _=l(S.value);return _.readInt(1)!==1||f(this.fileName)!==_.readInt(4)?null:g.utf8decode(_.readData(S.length-5))}return null},findExtraFieldUnicodeComment:function(){var S=this.extraFields[25461];if(S){var _=l(S.value);return _.readInt(1)!==1||f(this.fileComment)!==_.readInt(4)?null:g.utf8decode(_.readData(S.length-5))}return null}},s.exports=T},6859:(s,c,a)=>{var l=a(1285),u=a(5301),h=a(3600),f=a(7326),g=a(3718),b=function(_,y,w){this.name=_,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=y,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}};b.prototype={internalStream:function(_){var y=null,w="string";try{if(!_)throw new Error("No output type specified.");var I=(w=_.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),y=this._decompressWorker();var k=!this._dataBinary;k&&!I&&(y=y.pipe(new h.Utf8EncodeWorker)),!k&&I&&(y=y.pipe(new h.Utf8DecodeWorker))}catch(B){(y=new g("error")).error(B)}return new l(y,w,"")},async:function(_,y){return this.internalStream(_).accumulate(y)},nodeStream:function(_,y){return this.internalStream(_||"nodebuffer").toNodejsStream(y)},_compressWorker:function(_,y){if(this._data instanceof f&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new h.Utf8EncodeWorker)),f.createWorkerFrom(w,_,y)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof g?this._data:new u(this._data)}};for(var C=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],T=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},S=0;S<C.length;S++)b.prototype[C[S]]=T;s.exports=b},3389:(s,c,a)=>{var l=a(5705);function u(){}var h={},f=["REJECTED"],g=["FULFILLED"],b=["PENDING"];function C(I){if(typeof I!="function")throw new TypeError("resolver must be a function");this.state=b,this.queue=[],this.outcome=void 0,I!==u&&y(this,I)}function T(I,k,B){this.promise=I,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof B=="function"&&(this.onRejected=B,this.callRejected=this.otherCallRejected)}function S(I,k,B){l(function(){var H;try{H=k(B)}catch(P){return h.reject(I,P)}H===I?h.reject(I,new TypeError("Cannot resolve promise with itself")):h.resolve(I,H)})}function _(I){var k=I&&I.then;if(I&&(typeof I=="object"||typeof I=="function")&&typeof k=="function")return function(){k.apply(I,arguments)}}function y(I,k){var B=!1;function H(F){B||(B=!0,h.reject(I,F))}function P(F){B||(B=!0,h.resolve(I,F))}var R=w(function(){k(P,H)});R.status==="error"&&H(R.value)}function w(I,k){var B={};try{B.value=I(k),B.status="success"}catch(H){B.status="error",B.value=H}return B}s.exports=C,C.prototype.finally=function(I){if(typeof I!="function")return this;var k=this.constructor;return this.then(function(B){return k.resolve(I()).then(function(){return B})},function(B){return k.resolve(I()).then(function(){throw B})})},C.prototype.catch=function(I){return this.then(null,I)},C.prototype.then=function(I,k){if(typeof I!="function"&&this.state===g||typeof k!="function"&&this.state===f)return this;var B=new this.constructor(u);return this.state!==b?S(B,this.state===g?I:k,this.outcome):this.queue.push(new T(B,I,k)),B},T.prototype.callFulfilled=function(I){h.resolve(this.promise,I)},T.prototype.otherCallFulfilled=function(I){S(this.promise,this.onFulfilled,I)},T.prototype.callRejected=function(I){h.reject(this.promise,I)},T.prototype.otherCallRejected=function(I){S(this.promise,this.onRejected,I)},h.resolve=function(I,k){var B=w(_,k);if(B.status==="error")return h.reject(I,B.value);var H=B.value;if(H)y(I,H);else{I.state=g,I.outcome=k;for(var P=-1,R=I.queue.length;++P<R;)I.queue[P].callFulfilled(k)}return I},h.reject=function(I,k){I.state=f,I.outcome=k;for(var B=-1,H=I.queue.length;++B<H;)I.queue[B].callRejected(k);return I},C.resolve=function(I){return I instanceof this?I:h.resolve(new this(u),I)},C.reject=function(I){var k=new this(u);return h.reject(k,I)},C.all=function(I){var k=this;if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var B=I.length,H=!1;if(!B)return this.resolve([]);for(var P=new Array(B),R=0,F=-1,M=new this(u);++F<B;)G(I[F],F);return M;function G(E,ne){k.resolve(E).then(function(re){P[ne]=re,++R!==B||H||(H=!0,h.resolve(M,P))},function(re){H||(H=!0,h.reject(M,re))})}},C.race=function(I){if(Object.prototype.toString.call(I)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=I.length,B=!1;if(!k)return this.resolve([]);for(var H,P=-1,R=new this(u);++P<k;)H=I[P],this.resolve(H).then(function(F){B||(B=!0,h.resolve(R,F))},function(F){B||(B=!0,h.reject(R,F))});return R}},9591:(s,c,a)=>{var l={};(0,a(4236).assign)(l,a(4555),a(8843),a(1619)),s.exports=l},4555:(s,c,a)=>{var l=a(405),u=a(4236),h=a(9373),f=a(8898),g=a(2292),b=Object.prototype.toString;function C(S){if(!(this instanceof C))return new C(S);this.options=u.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},S||{});var _=this.options;_.raw&&_.windowBits>0?_.windowBits=-_.windowBits:_.gzip&&_.windowBits>0&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var y=l.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(y!==0)throw new Error(f[y]);if(_.header&&l.deflateSetHeader(this.strm,_.header),_.dictionary){var w;if(w=typeof _.dictionary=="string"?h.string2buf(_.dictionary):b.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(y=l.deflateSetDictionary(this.strm,w))!==0)throw new Error(f[y]);this._dict_set=!0}}function T(S,_){var y=new C(_);if(y.push(S,!0),y.err)throw y.msg||f[y.err];return y.result}C.prototype.push=function(S,_){var y,w,I=this.strm,k=this.options.chunkSize;if(this.ended)return!1;w=_===~~_?_:_===!0?4:0,typeof S=="string"?I.input=h.string2buf(S):b.call(S)==="[object ArrayBuffer]"?I.input=new Uint8Array(S):I.input=S,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new u.Buf8(k),I.next_out=0,I.avail_out=k),(y=l.deflate(I,w))!==1&&y!==0)return this.onEnd(y),this.ended=!0,!1;I.avail_out!==0&&(I.avail_in!==0||w!==4&&w!==2)||(this.options.to==="string"?this.onData(h.buf2binstring(u.shrinkBuf(I.output,I.next_out))):this.onData(u.shrinkBuf(I.output,I.next_out)))}while((I.avail_in>0||I.avail_out===0)&&y!==1);return w===4?(y=l.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===0):w!==2||(this.onEnd(0),I.avail_out=0,!0)},C.prototype.onData=function(S){this.chunks.push(S)},C.prototype.onEnd=function(S){S===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},c.Deflate=C,c.deflate=T,c.deflateRaw=function(S,_){return(_=_||{}).raw=!0,T(S,_)},c.gzip=function(S,_){return(_=_||{}).gzip=!0,T(S,_)}},8843:(s,c,a)=>{var l=a(7948),u=a(4236),h=a(9373),f=a(1619),g=a(8898),b=a(2292),C=a(2401),T=Object.prototype.toString;function S(y){if(!(this instanceof S))return new S(y);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},y||{});var w=this.options;w.raw&&w.windowBits>=0&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(w.windowBits>=0&&w.windowBits<16)||y&&y.windowBits||(w.windowBits+=32),w.windowBits>15&&w.windowBits<48&&!(15&w.windowBits)&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b,this.strm.avail_out=0;var I=l.inflateInit2(this.strm,w.windowBits);if(I!==f.Z_OK)throw new Error(g[I]);if(this.header=new C,l.inflateGetHeader(this.strm,this.header),w.dictionary&&(typeof w.dictionary=="string"?w.dictionary=h.string2buf(w.dictionary):T.call(w.dictionary)==="[object ArrayBuffer]"&&(w.dictionary=new Uint8Array(w.dictionary)),w.raw&&(I=l.inflateSetDictionary(this.strm,w.dictionary))!==f.Z_OK))throw new Error(g[I])}function _(y,w){var I=new S(w);if(I.push(y,!0),I.err)throw I.msg||g[I.err];return I.result}S.prototype.push=function(y,w){var I,k,B,H,P,R=this.strm,F=this.options.chunkSize,M=this.options.dictionary,G=!1;if(this.ended)return!1;k=w===~~w?w:w===!0?f.Z_FINISH:f.Z_NO_FLUSH,typeof y=="string"?R.input=h.binstring2buf(y):T.call(y)==="[object ArrayBuffer]"?R.input=new Uint8Array(y):R.input=y,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new u.Buf8(F),R.next_out=0,R.avail_out=F),(I=l.inflate(R,f.Z_NO_FLUSH))===f.Z_NEED_DICT&&M&&(I=l.inflateSetDictionary(this.strm,M)),I===f.Z_BUF_ERROR&&G===!0&&(I=f.Z_OK,G=!1),I!==f.Z_STREAM_END&&I!==f.Z_OK)return this.onEnd(I),this.ended=!0,!1;R.next_out&&(R.avail_out!==0&&I!==f.Z_STREAM_END&&(R.avail_in!==0||k!==f.Z_FINISH&&k!==f.Z_SYNC_FLUSH)||(this.options.to==="string"?(B=h.utf8border(R.output,R.next_out),H=R.next_out-B,P=h.buf2string(R.output,B),R.next_out=H,R.avail_out=F-H,H&&u.arraySet(R.output,R.output,B,H,0),this.onData(P)):this.onData(u.shrinkBuf(R.output,R.next_out)))),R.avail_in===0&&R.avail_out===0&&(G=!0)}while((R.avail_in>0||R.avail_out===0)&&I!==f.Z_STREAM_END);return I===f.Z_STREAM_END&&(k=f.Z_FINISH),k===f.Z_FINISH?(I=l.inflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===f.Z_OK):k!==f.Z_SYNC_FLUSH||(this.onEnd(f.Z_OK),R.avail_out=0,!0)},S.prototype.onData=function(y){this.chunks.push(y)},S.prototype.onEnd=function(y){y===f.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},c.Inflate=S,c.inflate=_,c.inflateRaw=function(y,w){return(w=w||{}).raw=!0,_(y,w)},c.ungzip=_},4236:(s,c)=>{var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function l(f,g){return Object.prototype.hasOwnProperty.call(f,g)}c.assign=function(f){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var b=g.shift();if(b){if(typeof b!="object")throw new TypeError(b+"must be non-object");for(var C in b)l(b,C)&&(f[C]=b[C])}}return f},c.shrinkBuf=function(f,g){return f.length===g?f:f.subarray?f.subarray(0,g):(f.length=g,f)};var u={arraySet:function(f,g,b,C,T){if(g.subarray&&f.subarray)f.set(g.subarray(b,b+C),T);else for(var S=0;S<C;S++)f[T+S]=g[b+S]},flattenChunks:function(f){var g,b,C,T,S,_;for(C=0,g=0,b=f.length;g<b;g++)C+=f[g].length;for(_=new Uint8Array(C),T=0,g=0,b=f.length;g<b;g++)S=f[g],_.set(S,T),T+=S.length;return _}},h={arraySet:function(f,g,b,C,T){for(var S=0;S<C;S++)f[T+S]=g[b+S]},flattenChunks:function(f){return[].concat.apply([],f)}};c.setTyped=function(f){f?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,u)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,h))},c.setTyped(a)},9373:(s,c,a)=>{var l=a(4236),u=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch{u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}for(var f=new l.Buf8(256),g=0;g<256;g++)f[g]=g>=252?6:g>=248?5:g>=240?4:g>=224?3:g>=192?2:1;function b(C,T){if(T<65534&&(C.subarray&&h||!C.subarray&&u))return String.fromCharCode.apply(null,l.shrinkBuf(C,T));for(var S="",_=0;_<T;_++)S+=String.fromCharCode(C[_]);return S}f[254]=f[254]=1,c.string2buf=function(C){var T,S,_,y,w,I=C.length,k=0;for(y=0;y<I;y++)(64512&(S=C.charCodeAt(y)))==55296&&y+1<I&&(64512&(_=C.charCodeAt(y+1)))==56320&&(S=65536+(S-55296<<10)+(_-56320),y++),k+=S<128?1:S<2048?2:S<65536?3:4;for(T=new l.Buf8(k),w=0,y=0;w<k;y++)(64512&(S=C.charCodeAt(y)))==55296&&y+1<I&&(64512&(_=C.charCodeAt(y+1)))==56320&&(S=65536+(S-55296<<10)+(_-56320),y++),S<128?T[w++]=S:S<2048?(T[w++]=192|S>>>6,T[w++]=128|63&S):S<65536?(T[w++]=224|S>>>12,T[w++]=128|S>>>6&63,T[w++]=128|63&S):(T[w++]=240|S>>>18,T[w++]=128|S>>>12&63,T[w++]=128|S>>>6&63,T[w++]=128|63&S);return T},c.buf2binstring=function(C){return b(C,C.length)},c.binstring2buf=function(C){for(var T=new l.Buf8(C.length),S=0,_=T.length;S<_;S++)T[S]=C.charCodeAt(S);return T},c.buf2string=function(C,T){var S,_,y,w,I=T||C.length,k=new Array(2*I);for(_=0,S=0;S<I;)if((y=C[S++])<128)k[_++]=y;else if((w=f[y])>4)k[_++]=65533,S+=w-1;else{for(y&=w===2?31:w===3?15:7;w>1&&S<I;)y=y<<6|63&C[S++],w--;w>1?k[_++]=65533:y<65536?k[_++]=y:(y-=65536,k[_++]=55296|y>>10&1023,k[_++]=56320|1023&y)}return b(k,_)},c.utf8border=function(C,T){var S;for((T=T||C.length)>C.length&&(T=C.length),S=T-1;S>=0&&(192&C[S])==128;)S--;return S<0||S===0?T:S+f[C[S]]>T?S:T}},6069:s=>{s.exports=function(c,a,l,u){for(var h=65535&c|0,f=c>>>16&65535|0,g=0;l!==0;){l-=g=l>2e3?2e3:l;do f=f+(h=h+a[u++]|0)|0;while(--g);h%=65521,f%=65521}return h|f<<16|0}},1619:s=>{s.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},2869:s=>{var c=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var h=0;h<8;h++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();s.exports=function(a,l,u,h){var f=c,g=h+u;a^=-1;for(var b=h;b<g;b++)a=a>>>8^f[255&(a^l[b])];return-1^a}},405:(s,c,a)=>{var l,u=a(4236),h=a(342),f=a(6069),g=a(2869),b=a(8898),C=-2,T=258,S=262,_=103,y=113,w=666;function I(x,$){return x.msg=b[$],$}function k(x){return(x<<1)-(x>4?9:0)}function B(x){for(var $=x.length;--$>=0;)x[$]=0}function H(x){var $=x.state,oe=$.pending;oe>x.avail_out&&(oe=x.avail_out),oe!==0&&(u.arraySet(x.output,$.pending_buf,$.pending_out,oe,x.next_out),x.next_out+=oe,$.pending_out+=oe,x.total_out+=oe,x.avail_out-=oe,$.pending-=oe,$.pending===0&&($.pending_out=0))}function P(x,$){h._tr_flush_block(x,x.block_start>=0?x.block_start:-1,x.strstart-x.block_start,$),x.block_start=x.strstart,H(x.strm)}function R(x,$){x.pending_buf[x.pending++]=$}function F(x,$){x.pending_buf[x.pending++]=$>>>8&255,x.pending_buf[x.pending++]=255&$}function M(x,$){var oe,z,Y=x.max_chain_length,q=x.strstart,W=x.prev_length,te=x.nice_match,se=x.strstart>x.w_size-S?x.strstart-(x.w_size-S):0,ae=x.window,U=x.w_mask,v=x.prev,N=x.strstart+T,L=ae[q+W-1],Z=ae[q+W];x.prev_length>=x.good_match&&(Y>>=2),te>x.lookahead&&(te=x.lookahead);do if(ae[(oe=$)+W]===Z&&ae[oe+W-1]===L&&ae[oe]===ae[q]&&ae[++oe]===ae[q+1]){q+=2,oe++;do;while(ae[++q]===ae[++oe]&&ae[++q]===ae[++oe]&&ae[++q]===ae[++oe]&&ae[++q]===ae[++oe]&&ae[++q]===ae[++oe]&&ae[++q]===ae[++oe]&&ae[++q]===ae[++oe]&&ae[++q]===ae[++oe]&&q<N);if(z=T-(N-q),q=N-T,z>W){if(x.match_start=$,W=z,z>=te)break;L=ae[q+W-1],Z=ae[q+W]}}while(($=v[$&U])>se&&--Y!=0);return W<=x.lookahead?W:x.lookahead}function G(x){var $,oe,z,Y,q,W,te,se,ae,U,v=x.w_size;do{if(Y=x.window_size-x.lookahead-x.strstart,x.strstart>=v+(v-S)){u.arraySet(x.window,x.window,v,v,0),x.match_start-=v,x.strstart-=v,x.block_start-=v,$=oe=x.hash_size;do z=x.head[--$],x.head[$]=z>=v?z-v:0;while(--oe);$=oe=v;do z=x.prev[--$],x.prev[$]=z>=v?z-v:0;while(--oe);Y+=v}if(x.strm.avail_in===0)break;if(W=x.strm,te=x.window,se=x.strstart+x.lookahead,ae=Y,U=void 0,(U=W.avail_in)>ae&&(U=ae),oe=U===0?0:(W.avail_in-=U,u.arraySet(te,W.input,W.next_in,U,se),W.state.wrap===1?W.adler=f(W.adler,te,U,se):W.state.wrap===2&&(W.adler=g(W.adler,te,U,se)),W.next_in+=U,W.total_in+=U,U),x.lookahead+=oe,x.lookahead+x.insert>=3)for(q=x.strstart-x.insert,x.ins_h=x.window[q],x.ins_h=(x.ins_h<<x.hash_shift^x.window[q+1])&x.hash_mask;x.insert&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[q+3-1])&x.hash_mask,x.prev[q&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=q,q++,x.insert--,!(x.lookahead+x.insert<3)););}while(x.lookahead<S&&x.strm.avail_in!==0)}function E(x,$){for(var oe,z;;){if(x.lookahead<S){if(G(x),x.lookahead<S&&$===0)return 1;if(x.lookahead===0)break}if(oe=0,x.lookahead>=3&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+3-1])&x.hash_mask,oe=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),oe!==0&&x.strstart-oe<=x.w_size-S&&(x.match_length=M(x,oe)),x.match_length>=3)if(z=h._tr_tally(x,x.strstart-x.match_start,x.match_length-3),x.lookahead-=x.match_length,x.match_length<=x.max_lazy_match&&x.lookahead>=3){x.match_length--;do x.strstart++,x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+3-1])&x.hash_mask,oe=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart;while(--x.match_length!=0);x.strstart++}else x.strstart+=x.match_length,x.match_length=0,x.ins_h=x.window[x.strstart],x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+1])&x.hash_mask;else z=h._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++;if(z&&(P(x,!1),x.strm.avail_out===0))return 1}return x.insert=x.strstart<2?x.strstart:2,$===4?(P(x,!0),x.strm.avail_out===0?3:4):x.last_lit&&(P(x,!1),x.strm.avail_out===0)?1:2}function ne(x,$){for(var oe,z,Y;;){if(x.lookahead<S){if(G(x),x.lookahead<S&&$===0)return 1;if(x.lookahead===0)break}if(oe=0,x.lookahead>=3&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+3-1])&x.hash_mask,oe=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),x.prev_length=x.match_length,x.prev_match=x.match_start,x.match_length=2,oe!==0&&x.prev_length<x.max_lazy_match&&x.strstart-oe<=x.w_size-S&&(x.match_length=M(x,oe),x.match_length<=5&&(x.strategy===1||x.match_length===3&&x.strstart-x.match_start>4096)&&(x.match_length=2)),x.prev_length>=3&&x.match_length<=x.prev_length){Y=x.strstart+x.lookahead-3,z=h._tr_tally(x,x.strstart-1-x.prev_match,x.prev_length-3),x.lookahead-=x.prev_length-1,x.prev_length-=2;do++x.strstart<=Y&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+3-1])&x.hash_mask,oe=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart);while(--x.prev_length!=0);if(x.match_available=0,x.match_length=2,x.strstart++,z&&(P(x,!1),x.strm.avail_out===0))return 1}else if(x.match_available){if((z=h._tr_tally(x,0,x.window[x.strstart-1]))&&P(x,!1),x.strstart++,x.lookahead--,x.strm.avail_out===0)return 1}else x.match_available=1,x.strstart++,x.lookahead--}return x.match_available&&(z=h._tr_tally(x,0,x.window[x.strstart-1]),x.match_available=0),x.insert=x.strstart<2?x.strstart:2,$===4?(P(x,!0),x.strm.avail_out===0?3:4):x.last_lit&&(P(x,!1),x.strm.avail_out===0)?1:2}function re(x,$,oe,z,Y){this.good_length=x,this.max_lazy=$,this.nice_length=oe,this.max_chain=z,this.func=Y}function Q(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(1146),this.dyn_dtree=new u.Buf16(122),this.bl_tree=new u.Buf16(78),B(this.dyn_ltree),B(this.dyn_dtree),B(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(16),this.heap=new u.Buf16(573),B(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(573),B(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function _e(x){var $;return x&&x.state?(x.total_in=x.total_out=0,x.data_type=2,($=x.state).pending=0,$.pending_out=0,$.wrap<0&&($.wrap=-$.wrap),$.status=$.wrap?42:y,x.adler=$.wrap===2?0:1,$.last_flush=0,h._tr_init($),0):I(x,C)}function be(x){var $,oe=_e(x);return oe===0&&(($=x.state).window_size=2*$.w_size,B($.head),$.max_lazy_match=l[$.level].max_lazy,$.good_match=l[$.level].good_length,$.nice_match=l[$.level].nice_length,$.max_chain_length=l[$.level].max_chain,$.strstart=0,$.block_start=0,$.lookahead=0,$.insert=0,$.match_length=$.prev_length=2,$.match_available=0,$.ins_h=0),oe}function Ce(x,$,oe,z,Y,q){if(!x)return C;var W=1;if($===-1&&($=6),z<0?(W=0,z=-z):z>15&&(W=2,z-=16),Y<1||Y>9||oe!==8||z<8||z>15||$<0||$>9||q<0||q>4)return I(x,C);z===8&&(z=9);var te=new Q;return x.state=te,te.strm=x,te.wrap=W,te.gzhead=null,te.w_bits=z,te.w_size=1<<te.w_bits,te.w_mask=te.w_size-1,te.hash_bits=Y+7,te.hash_size=1<<te.hash_bits,te.hash_mask=te.hash_size-1,te.hash_shift=~~((te.hash_bits+3-1)/3),te.window=new u.Buf8(2*te.w_size),te.head=new u.Buf16(te.hash_size),te.prev=new u.Buf16(te.w_size),te.lit_bufsize=1<<Y+6,te.pending_buf_size=4*te.lit_bufsize,te.pending_buf=new u.Buf8(te.pending_buf_size),te.d_buf=1*te.lit_bufsize,te.l_buf=3*te.lit_bufsize,te.level=$,te.strategy=q,te.method=oe,be(x)}l=[new re(0,0,0,0,function(x,$){var oe=65535;for(oe>x.pending_buf_size-5&&(oe=x.pending_buf_size-5);;){if(x.lookahead<=1){if(G(x),x.lookahead===0&&$===0)return 1;if(x.lookahead===0)break}x.strstart+=x.lookahead,x.lookahead=0;var z=x.block_start+oe;if((x.strstart===0||x.strstart>=z)&&(x.lookahead=x.strstart-z,x.strstart=z,P(x,!1),x.strm.avail_out===0)||x.strstart-x.block_start>=x.w_size-S&&(P(x,!1),x.strm.avail_out===0))return 1}return x.insert=0,$===4?(P(x,!0),x.strm.avail_out===0?3:4):(x.strstart>x.block_start&&(P(x,!1),x.strm.avail_out),1)}),new re(4,4,8,4,E),new re(4,5,16,8,E),new re(4,6,32,32,E),new re(4,4,16,16,ne),new re(8,16,32,32,ne),new re(8,16,128,128,ne),new re(8,32,128,256,ne),new re(32,128,258,1024,ne),new re(32,258,258,4096,ne)],c.deflateInit=function(x,$){return Ce(x,$,8,15,8,0)},c.deflateInit2=Ce,c.deflateReset=be,c.deflateResetKeep=_e,c.deflateSetHeader=function(x,$){return x&&x.state?x.state.wrap!==2?C:(x.state.gzhead=$,0):C},c.deflate=function(x,$){var oe,z,Y,q;if(!x||!x.state||$>5||$<0)return x?I(x,C):C;if(z=x.state,!x.output||!x.input&&x.avail_in!==0||z.status===w&&$!==4)return I(x,x.avail_out===0?-5:C);if(z.strm=x,oe=z.last_flush,z.last_flush=$,z.status===42)if(z.wrap===2)x.adler=0,R(z,31),R(z,139),R(z,8),z.gzhead?(R(z,(z.gzhead.text?1:0)+(z.gzhead.hcrc?2:0)+(z.gzhead.extra?4:0)+(z.gzhead.name?8:0)+(z.gzhead.comment?16:0)),R(z,255&z.gzhead.time),R(z,z.gzhead.time>>8&255),R(z,z.gzhead.time>>16&255),R(z,z.gzhead.time>>24&255),R(z,z.level===9?2:z.strategy>=2||z.level<2?4:0),R(z,255&z.gzhead.os),z.gzhead.extra&&z.gzhead.extra.length&&(R(z,255&z.gzhead.extra.length),R(z,z.gzhead.extra.length>>8&255)),z.gzhead.hcrc&&(x.adler=g(x.adler,z.pending_buf,z.pending,0)),z.gzindex=0,z.status=69):(R(z,0),R(z,0),R(z,0),R(z,0),R(z,0),R(z,z.level===9?2:z.strategy>=2||z.level<2?4:0),R(z,3),z.status=y);else{var W=8+(z.w_bits-8<<4)<<8;W|=(z.strategy>=2||z.level<2?0:z.level<6?1:z.level===6?2:3)<<6,z.strstart!==0&&(W|=32),W+=31-W%31,z.status=y,F(z,W),z.strstart!==0&&(F(z,x.adler>>>16),F(z,65535&x.adler)),x.adler=1}if(z.status===69)if(z.gzhead.extra){for(Y=z.pending;z.gzindex<(65535&z.gzhead.extra.length)&&(z.pending!==z.pending_buf_size||(z.gzhead.hcrc&&z.pending>Y&&(x.adler=g(x.adler,z.pending_buf,z.pending-Y,Y)),H(x),Y=z.pending,z.pending!==z.pending_buf_size));)R(z,255&z.gzhead.extra[z.gzindex]),z.gzindex++;z.gzhead.hcrc&&z.pending>Y&&(x.adler=g(x.adler,z.pending_buf,z.pending-Y,Y)),z.gzindex===z.gzhead.extra.length&&(z.gzindex=0,z.status=73)}else z.status=73;if(z.status===73)if(z.gzhead.name){Y=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>Y&&(x.adler=g(x.adler,z.pending_buf,z.pending-Y,Y)),H(x),Y=z.pending,z.pending===z.pending_buf_size)){q=1;break}q=z.gzindex<z.gzhead.name.length?255&z.gzhead.name.charCodeAt(z.gzindex++):0,R(z,q)}while(q!==0);z.gzhead.hcrc&&z.pending>Y&&(x.adler=g(x.adler,z.pending_buf,z.pending-Y,Y)),q===0&&(z.gzindex=0,z.status=91)}else z.status=91;if(z.status===91)if(z.gzhead.comment){Y=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>Y&&(x.adler=g(x.adler,z.pending_buf,z.pending-Y,Y)),H(x),Y=z.pending,z.pending===z.pending_buf_size)){q=1;break}q=z.gzindex<z.gzhead.comment.length?255&z.gzhead.comment.charCodeAt(z.gzindex++):0,R(z,q)}while(q!==0);z.gzhead.hcrc&&z.pending>Y&&(x.adler=g(x.adler,z.pending_buf,z.pending-Y,Y)),q===0&&(z.status=_)}else z.status=_;if(z.status===_&&(z.gzhead.hcrc?(z.pending+2>z.pending_buf_size&&H(x),z.pending+2<=z.pending_buf_size&&(R(z,255&x.adler),R(z,x.adler>>8&255),x.adler=0,z.status=y)):z.status=y),z.pending!==0){if(H(x),x.avail_out===0)return z.last_flush=-1,0}else if(x.avail_in===0&&k($)<=k(oe)&&$!==4)return I(x,-5);if(z.status===w&&x.avail_in!==0)return I(x,-5);if(x.avail_in!==0||z.lookahead!==0||$!==0&&z.status!==w){var te=z.strategy===2?function(se,ae){for(var U;;){if(se.lookahead===0&&(G(se),se.lookahead===0)){if(ae===0)return 1;break}if(se.match_length=0,U=h._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++,U&&(P(se,!1),se.strm.avail_out===0))return 1}return se.insert=0,ae===4?(P(se,!0),se.strm.avail_out===0?3:4):se.last_lit&&(P(se,!1),se.strm.avail_out===0)?1:2}(z,$):z.strategy===3?function(se,ae){for(var U,v,N,L,Z=se.window;;){if(se.lookahead<=T){if(G(se),se.lookahead<=T&&ae===0)return 1;if(se.lookahead===0)break}if(se.match_length=0,se.lookahead>=3&&se.strstart>0&&(v=Z[N=se.strstart-1])===Z[++N]&&v===Z[++N]&&v===Z[++N]){L=se.strstart+T;do;while(v===Z[++N]&&v===Z[++N]&&v===Z[++N]&&v===Z[++N]&&v===Z[++N]&&v===Z[++N]&&v===Z[++N]&&v===Z[++N]&&N<L);se.match_length=T-(L-N),se.match_length>se.lookahead&&(se.match_length=se.lookahead)}if(se.match_length>=3?(U=h._tr_tally(se,1,se.match_length-3),se.lookahead-=se.match_length,se.strstart+=se.match_length,se.match_length=0):(U=h._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++),U&&(P(se,!1),se.strm.avail_out===0))return 1}return se.insert=0,ae===4?(P(se,!0),se.strm.avail_out===0?3:4):se.last_lit&&(P(se,!1),se.strm.avail_out===0)?1:2}(z,$):l[z.level].func(z,$);if(te!==3&&te!==4||(z.status=w),te===1||te===3)return x.avail_out===0&&(z.last_flush=-1),0;if(te===2&&($===1?h._tr_align(z):$!==5&&(h._tr_stored_block(z,0,0,!1),$===3&&(B(z.head),z.lookahead===0&&(z.strstart=0,z.block_start=0,z.insert=0))),H(x),x.avail_out===0))return z.last_flush=-1,0}return $!==4?0:z.wrap<=0?1:(z.wrap===2?(R(z,255&x.adler),R(z,x.adler>>8&255),R(z,x.adler>>16&255),R(z,x.adler>>24&255),R(z,255&x.total_in),R(z,x.total_in>>8&255),R(z,x.total_in>>16&255),R(z,x.total_in>>24&255)):(F(z,x.adler>>>16),F(z,65535&x.adler)),H(x),z.wrap>0&&(z.wrap=-z.wrap),z.pending!==0?0:1)},c.deflateEnd=function(x){var $;return x&&x.state?($=x.state.status)!==42&&$!==69&&$!==73&&$!==91&&$!==_&&$!==y&&$!==w?I(x,C):(x.state=null,$===y?I(x,-3):0):C},c.deflateSetDictionary=function(x,$){var oe,z,Y,q,W,te,se,ae,U=$.length;if(!x||!x.state||(q=(oe=x.state).wrap)===2||q===1&&oe.status!==42||oe.lookahead)return C;for(q===1&&(x.adler=f(x.adler,$,U,0)),oe.wrap=0,U>=oe.w_size&&(q===0&&(B(oe.head),oe.strstart=0,oe.block_start=0,oe.insert=0),ae=new u.Buf8(oe.w_size),u.arraySet(ae,$,U-oe.w_size,oe.w_size,0),$=ae,U=oe.w_size),W=x.avail_in,te=x.next_in,se=x.input,x.avail_in=U,x.next_in=0,x.input=$,G(oe);oe.lookahead>=3;){z=oe.strstart,Y=oe.lookahead-2;do oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[z+3-1])&oe.hash_mask,oe.prev[z&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=z,z++;while(--Y);oe.strstart=z,oe.lookahead=2,G(oe)}return oe.strstart+=oe.lookahead,oe.block_start=oe.strstart,oe.insert=oe.lookahead,oe.lookahead=0,oe.match_length=oe.prev_length=2,oe.match_available=0,x.next_in=te,x.input=se,x.avail_in=W,oe.wrap=q,0},c.deflateInfo="pako deflate (from Nodeca project)"},2401:s=>{s.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},4264:s=>{s.exports=function(c,a){var l,u,h,f,g,b,C,T,S,_,y,w,I,k,B,H,P,R,F,M,G,E,ne,re,Q;l=c.state,u=c.next_in,re=c.input,h=u+(c.avail_in-5),f=c.next_out,Q=c.output,g=f-(a-c.avail_out),b=f+(c.avail_out-257),C=l.dmax,T=l.wsize,S=l.whave,_=l.wnext,y=l.window,w=l.hold,I=l.bits,k=l.lencode,B=l.distcode,H=(1<<l.lenbits)-1,P=(1<<l.distbits)-1;e:do{I<15&&(w+=re[u++]<<I,I+=8,w+=re[u++]<<I,I+=8),R=k[w&H];t:for(;;){if(w>>>=F=R>>>24,I-=F,(F=R>>>16&255)==0)Q[f++]=65535&R;else{if(!(16&F)){if(!(64&F)){R=k[(65535&R)+(w&(1<<F)-1)];continue t}if(32&F){l.mode=12;break e}c.msg="invalid literal/length code",l.mode=30;break e}M=65535&R,(F&=15)&&(I<F&&(w+=re[u++]<<I,I+=8),M+=w&(1<<F)-1,w>>>=F,I-=F),I<15&&(w+=re[u++]<<I,I+=8,w+=re[u++]<<I,I+=8),R=B[w&P];o:for(;;){if(w>>>=F=R>>>24,I-=F,!(16&(F=R>>>16&255))){if(!(64&F)){R=B[(65535&R)+(w&(1<<F)-1)];continue o}c.msg="invalid distance code",l.mode=30;break e}if(G=65535&R,I<(F&=15)&&(w+=re[u++]<<I,(I+=8)<F&&(w+=re[u++]<<I,I+=8)),(G+=w&(1<<F)-1)>C){c.msg="invalid distance too far back",l.mode=30;break e}if(w>>>=F,I-=F,G>(F=f-g)){if((F=G-F)>S&&l.sane){c.msg="invalid distance too far back",l.mode=30;break e}if(E=0,ne=y,_===0){if(E+=T-F,F<M){M-=F;do Q[f++]=y[E++];while(--F);E=f-G,ne=Q}}else if(_<F){if(E+=T+_-F,(F-=_)<M){M-=F;do Q[f++]=y[E++];while(--F);if(E=0,_<M){M-=F=_;do Q[f++]=y[E++];while(--F);E=f-G,ne=Q}}}else if(E+=_-F,F<M){M-=F;do Q[f++]=y[E++];while(--F);E=f-G,ne=Q}for(;M>2;)Q[f++]=ne[E++],Q[f++]=ne[E++],Q[f++]=ne[E++],M-=3;M&&(Q[f++]=ne[E++],M>1&&(Q[f++]=ne[E++]))}else{E=f-G;do Q[f++]=Q[E++],Q[f++]=Q[E++],Q[f++]=Q[E++],M-=3;while(M>2);M&&(Q[f++]=Q[E++],M>1&&(Q[f++]=Q[E++]))}break}}break}}while(u<h&&f<b);u-=M=I>>3,w&=(1<<(I-=M<<3))-1,c.next_in=u,c.next_out=f,c.avail_in=u<h?h-u+5:5-(u-h),c.avail_out=f<b?b-f+257:257-(f-b),l.hold=w,l.bits=I}},7948:(s,c,a)=>{var l=a(4236),u=a(6069),h=a(2869),f=a(4264),g=a(9241),b=-2,C=12,T=30;function S(M){return(M>>>24&255)+(M>>>8&65280)+((65280&M)<<8)+((255&M)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(M){var G;return M&&M.state?(G=M.state,M.total_in=M.total_out=G.total=0,M.msg="",G.wrap&&(M.adler=1&G.wrap),G.mode=1,G.last=0,G.havedict=0,G.dmax=32768,G.head=null,G.hold=0,G.bits=0,G.lencode=G.lendyn=new l.Buf32(852),G.distcode=G.distdyn=new l.Buf32(592),G.sane=1,G.back=-1,0):b}function w(M){var G;return M&&M.state?((G=M.state).wsize=0,G.whave=0,G.wnext=0,y(M)):b}function I(M,G){var E,ne;return M&&M.state?(ne=M.state,G<0?(E=0,G=-G):(E=1+(G>>4),G<48&&(G&=15)),G&&(G<8||G>15)?b:(ne.window!==null&&ne.wbits!==G&&(ne.window=null),ne.wrap=E,ne.wbits=G,w(M))):b}function k(M,G){var E,ne;return M?(ne=new _,M.state=ne,ne.window=null,(E=I(M,G))!==0&&(M.state=null),E):b}var B,H,P=!0;function R(M){if(P){var G;for(B=new l.Buf32(512),H=new l.Buf32(32),G=0;G<144;)M.lens[G++]=8;for(;G<256;)M.lens[G++]=9;for(;G<280;)M.lens[G++]=7;for(;G<288;)M.lens[G++]=8;for(g(1,M.lens,0,288,B,0,M.work,{bits:9}),G=0;G<32;)M.lens[G++]=5;g(2,M.lens,0,32,H,0,M.work,{bits:5}),P=!1}M.lencode=B,M.lenbits=9,M.distcode=H,M.distbits=5}function F(M,G,E,ne){var re,Q=M.state;return Q.window===null&&(Q.wsize=1<<Q.wbits,Q.wnext=0,Q.whave=0,Q.window=new l.Buf8(Q.wsize)),ne>=Q.wsize?(l.arraySet(Q.window,G,E-Q.wsize,Q.wsize,0),Q.wnext=0,Q.whave=Q.wsize):((re=Q.wsize-Q.wnext)>ne&&(re=ne),l.arraySet(Q.window,G,E-ne,re,Q.wnext),(ne-=re)?(l.arraySet(Q.window,G,E-ne,ne,0),Q.wnext=ne,Q.whave=Q.wsize):(Q.wnext+=re,Q.wnext===Q.wsize&&(Q.wnext=0),Q.whave<Q.wsize&&(Q.whave+=re))),0}c.inflateReset=w,c.inflateReset2=I,c.inflateResetKeep=y,c.inflateInit=function(M){return k(M,15)},c.inflateInit2=k,c.inflate=function(M,G){var E,ne,re,Q,_e,be,Ce,x,$,oe,z,Y,q,W,te,se,ae,U,v,N,L,Z,ce,pe,de=0,me=new l.Buf8(4),Ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!M||!M.state||!M.output||!M.input&&M.avail_in!==0)return b;(E=M.state).mode===C&&(E.mode=13),_e=M.next_out,re=M.output,Ce=M.avail_out,Q=M.next_in,ne=M.input,be=M.avail_in,x=E.hold,$=E.bits,oe=be,z=Ce,Z=0;e:for(;;)switch(E.mode){case 1:if(E.wrap===0){E.mode=13;break}for(;$<16;){if(be===0)break e;be--,x+=ne[Q++]<<$,$+=8}if(2&E.wrap&&x===35615){E.check=0,me[0]=255&x,me[1]=x>>>8&255,E.check=h(E.check,me,2,0),x=0,$=0,E.mode=2;break}if(E.flags=0,E.head&&(E.head.done=!1),!(1&E.wrap)||(((255&x)<<8)+(x>>8))%31){M.msg="incorrect header check",E.mode=T;break}if((15&x)!=8){M.msg="unknown compression method",E.mode=T;break}if($-=4,L=8+(15&(x>>>=4)),E.wbits===0)E.wbits=L;else if(L>E.wbits){M.msg="invalid window size",E.mode=T;break}E.dmax=1<<L,M.adler=E.check=1,E.mode=512&x?10:C,x=0,$=0;break;case 2:for(;$<16;){if(be===0)break e;be--,x+=ne[Q++]<<$,$+=8}if(E.flags=x,(255&E.flags)!=8){M.msg="unknown compression method",E.mode=T;break}if(57344&E.flags){M.msg="unknown header flags set",E.mode=T;break}E.head&&(E.head.text=x>>8&1),512&E.flags&&(me[0]=255&x,me[1]=x>>>8&255,E.check=h(E.check,me,2,0)),x=0,$=0,E.mode=3;case 3:for(;$<32;){if(be===0)break e;be--,x+=ne[Q++]<<$,$+=8}E.head&&(E.head.time=x),512&E.flags&&(me[0]=255&x,me[1]=x>>>8&255,me[2]=x>>>16&255,me[3]=x>>>24&255,E.check=h(E.check,me,4,0)),x=0,$=0,E.mode=4;case 4:for(;$<16;){if(be===0)break e;be--,x+=ne[Q++]<<$,$+=8}E.head&&(E.head.xflags=255&x,E.head.os=x>>8),512&E.flags&&(me[0]=255&x,me[1]=x>>>8&255,E.check=h(E.check,me,2,0)),x=0,$=0,E.mode=5;case 5:if(1024&E.flags){for(;$<16;){if(be===0)break e;be--,x+=ne[Q++]<<$,$+=8}E.length=x,E.head&&(E.head.extra_len=x),512&E.flags&&(me[0]=255&x,me[1]=x>>>8&255,E.check=h(E.check,me,2,0)),x=0,$=0}else E.head&&(E.head.extra=null);E.mode=6;case 6:if(1024&E.flags&&((Y=E.length)>be&&(Y=be),Y&&(E.head&&(L=E.head.extra_len-E.length,E.head.extra||(E.head.extra=new Array(E.head.extra_len)),l.arraySet(E.head.extra,ne,Q,Y,L)),512&E.flags&&(E.check=h(E.check,ne,Y,Q)),be-=Y,Q+=Y,E.length-=Y),E.length))break e;E.length=0,E.mode=7;case 7:if(2048&E.flags){if(be===0)break e;Y=0;do L=ne[Q+Y++],E.head&&L&&E.length<65536&&(E.head.name+=String.fromCharCode(L));while(L&&Y<be);if(512&E.flags&&(E.check=h(E.check,ne,Y,Q)),be-=Y,Q+=Y,L)break e}else E.head&&(E.head.name=null);E.length=0,E.mode=8;case 8:if(4096&E.flags){if(be===0)break e;Y=0;do L=ne[Q+Y++],E.head&&L&&E.length<65536&&(E.head.comment+=String.fromCharCode(L));while(L&&Y<be);if(512&E.flags&&(E.check=h(E.check,ne,Y,Q)),be-=Y,Q+=Y,L)break e}else E.head&&(E.head.comment=null);E.mode=9;case 9:if(512&E.flags){for(;$<16;){if(be===0)break e;be--,x+=ne[Q++]<<$,$+=8}if(x!==(65535&E.check)){M.msg="header crc mismatch",E.mode=T;break}x=0,$=0}E.head&&(E.head.hcrc=E.flags>>9&1,E.head.done=!0),M.adler=E.check=0,E.mode=C;break;case 10:for(;$<32;){if(be===0)break e;be--,x+=ne[Q++]<<$,$+=8}M.adler=E.check=S(x),x=0,$=0,E.mode=11;case 11:if(E.havedict===0)return M.next_out=_e,M.avail_out=Ce,M.next_in=Q,M.avail_in=be,E.hold=x,E.bits=$,2;M.adler=E.check=1,E.mode=C;case C:if(G===5||G===6)break e;case 13:if(E.last){x>>>=7&$,$-=7&$,E.mode=27;break}for(;$<3;){if(be===0)break e;be--,x+=ne[Q++]<<$,$+=8}switch(E.last=1&x,$-=1,3&(x>>>=1)){case 0:E.mode=14;break;case 1:if(R(E),E.mode=20,G===6){x>>>=2,$-=2;break e}break;case 2:E.mode=17;break;case 3:M.msg="invalid block type",E.mode=T}x>>>=2,$-=2;break;case 14:for(x>>>=7&$,$-=7&$;$<32;){if(be===0)break e;be--,x+=ne[Q++]<<$,$+=8}if((65535&x)!=(x>>>16^65535)){M.msg="invalid stored block lengths",E.mode=T;break}if(E.length=65535&x,x=0,$=0,E.mode=15,G===6)break e;case 15:E.mode=16;case 16:if(Y=E.length){if(Y>be&&(Y=be),Y>Ce&&(Y=Ce),Y===0)break e;l.arraySet(re,ne,Q,Y,_e),be-=Y,Q+=Y,Ce-=Y,_e+=Y,E.length-=Y;break}E.mode=C;break;case 17:for(;$<14;){if(be===0)break e;be--,x+=ne[Q++]<<$,$+=8}if(E.nlen=257+(31&x),x>>>=5,$-=5,E.ndist=1+(31&x),x>>>=5,$-=5,E.ncode=4+(15&x),x>>>=4,$-=4,E.nlen>286||E.ndist>30){M.msg="too many length or distance symbols",E.mode=T;break}E.have=0,E.mode=18;case 18:for(;E.have<E.ncode;){for(;$<3;){if(be===0)break e;be--,x+=ne[Q++]<<$,$+=8}E.lens[Ne[E.have++]]=7&x,x>>>=3,$-=3}for(;E.have<19;)E.lens[Ne[E.have++]]=0;if(E.lencode=E.lendyn,E.lenbits=7,ce={bits:E.lenbits},Z=g(0,E.lens,0,19,E.lencode,0,E.work,ce),E.lenbits=ce.bits,Z){M.msg="invalid code lengths set",E.mode=T;break}E.have=0,E.mode=19;case 19:for(;E.have<E.nlen+E.ndist;){for(;se=(de=E.lencode[x&(1<<E.lenbits)-1])>>>16&255,ae=65535&de,!((te=de>>>24)<=$);){if(be===0)break e;be--,x+=ne[Q++]<<$,$+=8}if(ae<16)x>>>=te,$-=te,E.lens[E.have++]=ae;else{if(ae===16){for(pe=te+2;$<pe;){if(be===0)break e;be--,x+=ne[Q++]<<$,$+=8}if(x>>>=te,$-=te,E.have===0){M.msg="invalid bit length repeat",E.mode=T;break}L=E.lens[E.have-1],Y=3+(3&x),x>>>=2,$-=2}else if(ae===17){for(pe=te+3;$<pe;){if(be===0)break e;be--,x+=ne[Q++]<<$,$+=8}$-=te,L=0,Y=3+(7&(x>>>=te)),x>>>=3,$-=3}else{for(pe=te+7;$<pe;){if(be===0)break e;be--,x+=ne[Q++]<<$,$+=8}$-=te,L=0,Y=11+(127&(x>>>=te)),x>>>=7,$-=7}if(E.have+Y>E.nlen+E.ndist){M.msg="invalid bit length repeat",E.mode=T;break}for(;Y--;)E.lens[E.have++]=L}}if(E.mode===T)break;if(E.lens[256]===0){M.msg="invalid code -- missing end-of-block",E.mode=T;break}if(E.lenbits=9,ce={bits:E.lenbits},Z=g(1,E.lens,0,E.nlen,E.lencode,0,E.work,ce),E.lenbits=ce.bits,Z){M.msg="invalid literal/lengths set",E.mode=T;break}if(E.distbits=6,E.distcode=E.distdyn,ce={bits:E.distbits},Z=g(2,E.lens,E.nlen,E.ndist,E.distcode,0,E.work,ce),E.distbits=ce.bits,Z){M.msg="invalid distances set",E.mode=T;break}if(E.mode=20,G===6)break e;case 20:E.mode=21;case 21:if(be>=6&&Ce>=258){M.next_out=_e,M.avail_out=Ce,M.next_in=Q,M.avail_in=be,E.hold=x,E.bits=$,f(M,z),_e=M.next_out,re=M.output,Ce=M.avail_out,Q=M.next_in,ne=M.input,be=M.avail_in,x=E.hold,$=E.bits,E.mode===C&&(E.back=-1);break}for(E.back=0;se=(de=E.lencode[x&(1<<E.lenbits)-1])>>>16&255,ae=65535&de,!((te=de>>>24)<=$);){if(be===0)break e;be--,x+=ne[Q++]<<$,$+=8}if(se&&!(240&se)){for(U=te,v=se,N=ae;se=(de=E.lencode[N+((x&(1<<U+v)-1)>>U)])>>>16&255,ae=65535&de,!(U+(te=de>>>24)<=$);){if(be===0)break e;be--,x+=ne[Q++]<<$,$+=8}x>>>=U,$-=U,E.back+=U}if(x>>>=te,$-=te,E.back+=te,E.length=ae,se===0){E.mode=26;break}if(32&se){E.back=-1,E.mode=C;break}if(64&se){M.msg="invalid literal/length code",E.mode=T;break}E.extra=15&se,E.mode=22;case 22:if(E.extra){for(pe=E.extra;$<pe;){if(be===0)break e;be--,x+=ne[Q++]<<$,$+=8}E.length+=x&(1<<E.extra)-1,x>>>=E.extra,$-=E.extra,E.back+=E.extra}E.was=E.length,E.mode=23;case 23:for(;se=(de=E.distcode[x&(1<<E.distbits)-1])>>>16&255,ae=65535&de,!((te=de>>>24)<=$);){if(be===0)break e;be--,x+=ne[Q++]<<$,$+=8}if(!(240&se)){for(U=te,v=se,N=ae;se=(de=E.distcode[N+((x&(1<<U+v)-1)>>U)])>>>16&255,ae=65535&de,!(U+(te=de>>>24)<=$);){if(be===0)break e;be--,x+=ne[Q++]<<$,$+=8}x>>>=U,$-=U,E.back+=U}if(x>>>=te,$-=te,E.back+=te,64&se){M.msg="invalid distance code",E.mode=T;break}E.offset=ae,E.extra=15&se,E.mode=24;case 24:if(E.extra){for(pe=E.extra;$<pe;){if(be===0)break e;be--,x+=ne[Q++]<<$,$+=8}E.offset+=x&(1<<E.extra)-1,x>>>=E.extra,$-=E.extra,E.back+=E.extra}if(E.offset>E.dmax){M.msg="invalid distance too far back",E.mode=T;break}E.mode=25;case 25:if(Ce===0)break e;if(Y=z-Ce,E.offset>Y){if((Y=E.offset-Y)>E.whave&&E.sane){M.msg="invalid distance too far back",E.mode=T;break}Y>E.wnext?(Y-=E.wnext,q=E.wsize-Y):q=E.wnext-Y,Y>E.length&&(Y=E.length),W=E.window}else W=re,q=_e-E.offset,Y=E.length;Y>Ce&&(Y=Ce),Ce-=Y,E.length-=Y;do re[_e++]=W[q++];while(--Y);E.length===0&&(E.mode=21);break;case 26:if(Ce===0)break e;re[_e++]=E.length,Ce--,E.mode=21;break;case 27:if(E.wrap){for(;$<32;){if(be===0)break e;be--,x|=ne[Q++]<<$,$+=8}if(z-=Ce,M.total_out+=z,E.total+=z,z&&(M.adler=E.check=E.flags?h(E.check,re,z,_e-z):u(E.check,re,z,_e-z)),z=Ce,(E.flags?x:S(x))!==E.check){M.msg="incorrect data check",E.mode=T;break}x=0,$=0}E.mode=28;case 28:if(E.wrap&&E.flags){for(;$<32;){if(be===0)break e;be--,x+=ne[Q++]<<$,$+=8}if(x!==(4294967295&E.total)){M.msg="incorrect length check",E.mode=T;break}x=0,$=0}E.mode=29;case 29:Z=1;break e;case T:Z=-3;break e;case 31:return-4;default:return b}return M.next_out=_e,M.avail_out=Ce,M.next_in=Q,M.avail_in=be,E.hold=x,E.bits=$,(E.wsize||z!==M.avail_out&&E.mode<T&&(E.mode<27||G!==4))&&F(M,M.output,M.next_out,z-M.avail_out)?(E.mode=31,-4):(oe-=M.avail_in,z-=M.avail_out,M.total_in+=oe,M.total_out+=z,E.total+=z,E.wrap&&z&&(M.adler=E.check=E.flags?h(E.check,re,z,M.next_out-z):u(E.check,re,z,M.next_out-z)),M.data_type=E.bits+(E.last?64:0)+(E.mode===C?128:0)+(E.mode===20||E.mode===15?256:0),(oe===0&&z===0||G===4)&&Z===0&&(Z=-5),Z)},c.inflateEnd=function(M){if(!M||!M.state)return b;var G=M.state;return G.window&&(G.window=null),M.state=null,0},c.inflateGetHeader=function(M,G){var E;return M&&M.state&&2&(E=M.state).wrap?(E.head=G,G.done=!1,0):b},c.inflateSetDictionary=function(M,G){var E,ne=G.length;return M&&M.state?(E=M.state).wrap!==0&&E.mode!==11?b:E.mode===11&&u(1,G,ne,0)!==E.check?-3:F(M,G,ne,ne)?(E.mode=31,-4):(E.havedict=1,0):b},c.inflateInfo="pako inflate (from Nodeca project)"},9241:(s,c,a)=>{var l=a(4236),u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];s.exports=function(b,C,T,S,_,y,w,I){var k,B,H,P,R,F,M,G,E,ne=I.bits,re=0,Q=0,_e=0,be=0,Ce=0,x=0,$=0,oe=0,z=0,Y=0,q=null,W=0,te=new l.Buf16(16),se=new l.Buf16(16),ae=null,U=0;for(re=0;re<=15;re++)te[re]=0;for(Q=0;Q<S;Q++)te[C[T+Q]]++;for(Ce=ne,be=15;be>=1&&te[be]===0;be--);if(Ce>be&&(Ce=be),be===0)return _[y++]=20971520,_[y++]=20971520,I.bits=1,0;for(_e=1;_e<be&&te[_e]===0;_e++);for(Ce<_e&&(Ce=_e),oe=1,re=1;re<=15;re++)if(oe<<=1,(oe-=te[re])<0)return-1;if(oe>0&&(b===0||be!==1))return-1;for(se[1]=0,re=1;re<15;re++)se[re+1]=se[re]+te[re];for(Q=0;Q<S;Q++)C[T+Q]!==0&&(w[se[C[T+Q]]++]=Q);if(b===0?(q=ae=w,F=19):b===1?(q=u,W-=257,ae=h,U-=257,F=256):(q=f,ae=g,F=-1),Y=0,Q=0,re=_e,R=y,x=Ce,$=0,H=-1,P=(z=1<<Ce)-1,b===1&&z>852||b===2&&z>592)return 1;for(;;){M=re-$,w[Q]<F?(G=0,E=w[Q]):w[Q]>F?(G=ae[U+w[Q]],E=q[W+w[Q]]):(G=96,E=0),k=1<<re-$,_e=B=1<<x;do _[R+(Y>>$)+(B-=k)]=M<<24|G<<16|E|0;while(B!==0);for(k=1<<re-1;Y&k;)k>>=1;if(k!==0?(Y&=k-1,Y+=k):Y=0,Q++,--te[re]==0){if(re===be)break;re=C[T+w[Q]]}if(re>Ce&&(Y&P)!==H){for($===0&&($=Ce),R+=_e,oe=1<<(x=re-$);x+$<be&&!((oe-=te[x+$])<=0);)x++,oe<<=1;if(z+=1<<x,b===1&&z>852||b===2&&z>592)return 1;_[H=Y&P]=Ce<<24|x<<16|R-y|0}}return Y!==0&&(_[R+Y]=re-$<<24|4194304|0),I.bits=Ce,0}},8898:s=>{s.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},342:(s,c,a)=>{var l=a(4236);function u(q){for(var W=q.length;--W>=0;)q[W]=0}var h=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],f=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],b=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],C=new Array(576);u(C);var T=new Array(60);u(T);var S=new Array(512);u(S);var _=new Array(256);u(_);var y=new Array(29);u(y);var w,I,k,B=new Array(30);function H(q,W,te,se,ae){this.static_tree=q,this.extra_bits=W,this.extra_base=te,this.elems=se,this.max_length=ae,this.has_stree=q&&q.length}function P(q,W){this.dyn_tree=q,this.max_code=0,this.stat_desc=W}function R(q){return q<256?S[q]:S[256+(q>>>7)]}function F(q,W){q.pending_buf[q.pending++]=255&W,q.pending_buf[q.pending++]=W>>>8&255}function M(q,W,te){q.bi_valid>16-te?(q.bi_buf|=W<<q.bi_valid&65535,F(q,q.bi_buf),q.bi_buf=W>>16-q.bi_valid,q.bi_valid+=te-16):(q.bi_buf|=W<<q.bi_valid&65535,q.bi_valid+=te)}function G(q,W,te){M(q,te[2*W],te[2*W+1])}function E(q,W){var te=0;do te|=1&q,q>>>=1,te<<=1;while(--W>0);return te>>>1}function ne(q,W,te){var se,ae,U=new Array(16),v=0;for(se=1;se<=15;se++)U[se]=v=v+te[se-1]<<1;for(ae=0;ae<=W;ae++){var N=q[2*ae+1];N!==0&&(q[2*ae]=E(U[N]++,N))}}function re(q){var W;for(W=0;W<286;W++)q.dyn_ltree[2*W]=0;for(W=0;W<30;W++)q.dyn_dtree[2*W]=0;for(W=0;W<19;W++)q.bl_tree[2*W]=0;q.dyn_ltree[512]=1,q.opt_len=q.static_len=0,q.last_lit=q.matches=0}function Q(q){q.bi_valid>8?F(q,q.bi_buf):q.bi_valid>0&&(q.pending_buf[q.pending++]=q.bi_buf),q.bi_buf=0,q.bi_valid=0}function _e(q,W,te,se){var ae=2*W,U=2*te;return q[ae]<q[U]||q[ae]===q[U]&&se[W]<=se[te]}function be(q,W,te){for(var se=q.heap[te],ae=te<<1;ae<=q.heap_len&&(ae<q.heap_len&&_e(W,q.heap[ae+1],q.heap[ae],q.depth)&&ae++,!_e(W,se,q.heap[ae],q.depth));)q.heap[te]=q.heap[ae],te=ae,ae<<=1;q.heap[te]=se}function Ce(q,W,te){var se,ae,U,v,N=0;if(q.last_lit!==0)do se=q.pending_buf[q.d_buf+2*N]<<8|q.pending_buf[q.d_buf+2*N+1],ae=q.pending_buf[q.l_buf+N],N++,se===0?G(q,ae,W):(G(q,(U=_[ae])+256+1,W),(v=h[U])!==0&&M(q,ae-=y[U],v),G(q,U=R(--se),te),(v=f[U])!==0&&M(q,se-=B[U],v));while(N<q.last_lit);G(q,256,W)}function x(q,W){var te,se,ae,U=W.dyn_tree,v=W.stat_desc.static_tree,N=W.stat_desc.has_stree,L=W.stat_desc.elems,Z=-1;for(q.heap_len=0,q.heap_max=573,te=0;te<L;te++)U[2*te]!==0?(q.heap[++q.heap_len]=Z=te,q.depth[te]=0):U[2*te+1]=0;for(;q.heap_len<2;)U[2*(ae=q.heap[++q.heap_len]=Z<2?++Z:0)]=1,q.depth[ae]=0,q.opt_len--,N&&(q.static_len-=v[2*ae+1]);for(W.max_code=Z,te=q.heap_len>>1;te>=1;te--)be(q,U,te);ae=L;do te=q.heap[1],q.heap[1]=q.heap[q.heap_len--],be(q,U,1),se=q.heap[1],q.heap[--q.heap_max]=te,q.heap[--q.heap_max]=se,U[2*ae]=U[2*te]+U[2*se],q.depth[ae]=(q.depth[te]>=q.depth[se]?q.depth[te]:q.depth[se])+1,U[2*te+1]=U[2*se+1]=ae,q.heap[1]=ae++,be(q,U,1);while(q.heap_len>=2);q.heap[--q.heap_max]=q.heap[1],function(ce,pe){var de,me,Ne,ye,De,Me,A=pe.dyn_tree,D=pe.max_code,j=pe.stat_desc.static_tree,ie=pe.stat_desc.has_stree,le=pe.stat_desc.extra_bits,ue=pe.stat_desc.extra_base,Se=pe.stat_desc.max_length,ze=0;for(ye=0;ye<=15;ye++)ce.bl_count[ye]=0;for(A[2*ce.heap[ce.heap_max]+1]=0,de=ce.heap_max+1;de<573;de++)(ye=A[2*A[2*(me=ce.heap[de])+1]+1]+1)>Se&&(ye=Se,ze++),A[2*me+1]=ye,me>D||(ce.bl_count[ye]++,De=0,me>=ue&&(De=le[me-ue]),Me=A[2*me],ce.opt_len+=Me*(ye+De),ie&&(ce.static_len+=Me*(j[2*me+1]+De)));if(ze!==0){do{for(ye=Se-1;ce.bl_count[ye]===0;)ye--;ce.bl_count[ye]--,ce.bl_count[ye+1]+=2,ce.bl_count[Se]--,ze-=2}while(ze>0);for(ye=Se;ye!==0;ye--)for(me=ce.bl_count[ye];me!==0;)(Ne=ce.heap[--de])>D||(A[2*Ne+1]!==ye&&(ce.opt_len+=(ye-A[2*Ne+1])*A[2*Ne],A[2*Ne+1]=ye),me--)}}(q,W),ne(U,Z,q.bl_count)}function $(q,W,te){var se,ae,U=-1,v=W[1],N=0,L=7,Z=4;for(v===0&&(L=138,Z=3),W[2*(te+1)+1]=65535,se=0;se<=te;se++)ae=v,v=W[2*(se+1)+1],++N<L&&ae===v||(N<Z?q.bl_tree[2*ae]+=N:ae!==0?(ae!==U&&q.bl_tree[2*ae]++,q.bl_tree[32]++):N<=10?q.bl_tree[34]++:q.bl_tree[36]++,N=0,U=ae,v===0?(L=138,Z=3):ae===v?(L=6,Z=3):(L=7,Z=4))}function oe(q,W,te){var se,ae,U=-1,v=W[1],N=0,L=7,Z=4;for(v===0&&(L=138,Z=3),se=0;se<=te;se++)if(ae=v,v=W[2*(se+1)+1],!(++N<L&&ae===v)){if(N<Z)do G(q,ae,q.bl_tree);while(--N!=0);else ae!==0?(ae!==U&&(G(q,ae,q.bl_tree),N--),G(q,16,q.bl_tree),M(q,N-3,2)):N<=10?(G(q,17,q.bl_tree),M(q,N-3,3)):(G(q,18,q.bl_tree),M(q,N-11,7));N=0,U=ae,v===0?(L=138,Z=3):ae===v?(L=6,Z=3):(L=7,Z=4)}}u(B);var z=!1;function Y(q,W,te,se){M(q,0+(se?1:0),3),function(ae,U,v,N){Q(ae),F(ae,v),F(ae,~v),l.arraySet(ae.pending_buf,ae.window,U,v,ae.pending),ae.pending+=v}(q,W,te)}c._tr_init=function(q){z||(function(){var W,te,se,ae,U,v=new Array(16);for(se=0,ae=0;ae<28;ae++)for(y[ae]=se,W=0;W<1<<h[ae];W++)_[se++]=ae;for(_[se-1]=ae,U=0,ae=0;ae<16;ae++)for(B[ae]=U,W=0;W<1<<f[ae];W++)S[U++]=ae;for(U>>=7;ae<30;ae++)for(B[ae]=U<<7,W=0;W<1<<f[ae]-7;W++)S[256+U++]=ae;for(te=0;te<=15;te++)v[te]=0;for(W=0;W<=143;)C[2*W+1]=8,W++,v[8]++;for(;W<=255;)C[2*W+1]=9,W++,v[9]++;for(;W<=279;)C[2*W+1]=7,W++,v[7]++;for(;W<=287;)C[2*W+1]=8,W++,v[8]++;for(ne(C,287,v),W=0;W<30;W++)T[2*W+1]=5,T[2*W]=E(W,5);w=new H(C,h,257,286,15),I=new H(T,f,0,30,15),k=new H(new Array(0),g,0,19,7)}(),z=!0),q.l_desc=new P(q.dyn_ltree,w),q.d_desc=new P(q.dyn_dtree,I),q.bl_desc=new P(q.bl_tree,k),q.bi_buf=0,q.bi_valid=0,re(q)},c._tr_stored_block=Y,c._tr_flush_block=function(q,W,te,se){var ae,U,v=0;q.level>0?(q.strm.data_type===2&&(q.strm.data_type=function(N){var L,Z=4093624447;for(L=0;L<=31;L++,Z>>>=1)if(1&Z&&N.dyn_ltree[2*L]!==0)return 0;if(N.dyn_ltree[18]!==0||N.dyn_ltree[20]!==0||N.dyn_ltree[26]!==0)return 1;for(L=32;L<256;L++)if(N.dyn_ltree[2*L]!==0)return 1;return 0}(q)),x(q,q.l_desc),x(q,q.d_desc),v=function(N){var L;for($(N,N.dyn_ltree,N.l_desc.max_code),$(N,N.dyn_dtree,N.d_desc.max_code),x(N,N.bl_desc),L=18;L>=3&&N.bl_tree[2*b[L]+1]===0;L--);return N.opt_len+=3*(L+1)+5+5+4,L}(q),ae=q.opt_len+3+7>>>3,(U=q.static_len+3+7>>>3)<=ae&&(ae=U)):ae=U=te+5,te+4<=ae&&W!==-1?Y(q,W,te,se):q.strategy===4||U===ae?(M(q,2+(se?1:0),3),Ce(q,C,T)):(M(q,4+(se?1:0),3),function(N,L,Z,ce){var pe;for(M(N,L-257,5),M(N,Z-1,5),M(N,ce-4,4),pe=0;pe<ce;pe++)M(N,N.bl_tree[2*b[pe]+1],3);oe(N,N.dyn_ltree,L-1),oe(N,N.dyn_dtree,Z-1)}(q,q.l_desc.max_code+1,q.d_desc.max_code+1,v+1),Ce(q,q.dyn_ltree,q.dyn_dtree)),re(q),se&&Q(q)},c._tr_tally=function(q,W,te){return q.pending_buf[q.d_buf+2*q.last_lit]=W>>>8&255,q.pending_buf[q.d_buf+2*q.last_lit+1]=255&W,q.pending_buf[q.l_buf+q.last_lit]=255&te,q.last_lit++,W===0?q.dyn_ltree[2*te]++:(q.matches++,W--,q.dyn_ltree[2*(_[te]+256+1)]++,q.dyn_dtree[2*R(W)]++),q.last_lit===q.lit_bufsize-1},c._tr_align=function(q){M(q,2,3),G(q,256,C),function(W){W.bi_valid===16?(F(W,W.bi_buf),W.bi_buf=0,W.bi_valid=0):W.bi_valid>=8&&(W.pending_buf[W.pending++]=255&W.bi_buf,W.bi_buf>>=8,W.bi_valid-=8)}(q)}},2292:s=>{s.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},4155:s=>{var c,a,l=s.exports={};function u(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}function f(I){if(c===setTimeout)return setTimeout(I,0);if((c===u||!c)&&setTimeout)return c=setTimeout,setTimeout(I,0);try{return c(I,0)}catch{try{return c.call(null,I,0)}catch{return c.call(this,I,0)}}}(function(){try{c=typeof setTimeout=="function"?setTimeout:u}catch{c=u}try{a=typeof clearTimeout=="function"?clearTimeout:h}catch{a=h}})();var g,b=[],C=!1,T=-1;function S(){C&&g&&(C=!1,g.length?b=g.concat(b):T=-1,b.length&&_())}function _(){if(!C){var I=f(S);C=!0;for(var k=b.length;k;){for(g=b,b=[];++T<k;)g&&g[T].run();T=-1,k=b.length}g=null,C=!1,function(B){if(a===clearTimeout)return clearTimeout(B);if((a===h||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(B);try{a(B)}catch{try{return a.call(null,B)}catch{return a.call(this,B)}}}(I)}}function y(I,k){this.fun=I,this.array=k}function w(){}l.nextTick=function(I){var k=new Array(arguments.length-1);if(arguments.length>1)for(var B=1;B<arguments.length;B++)k[B-1]=arguments[B];b.push(new y(I,k)),b.length!==1||C||f(_)},y.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=w,l.addListener=w,l.once=w,l.off=w,l.removeListener=w,l.removeAllListeners=w,l.emit=w,l.prependListener=w,l.prependOnceListener=w,l.listeners=function(I){return[]},l.binding=function(I){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(I){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},9509:(s,c,a)=>{var l=a(8764),u=l.Buffer;function h(g,b){for(var C in g)b[C]=g[C]}function f(g,b,C){return u(g,b,C)}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?s.exports=l:(h(l,c),c.Buffer=f),h(u,f),f.from=function(g,b,C){if(typeof g=="number")throw new TypeError("Argument must not be a number");return u(g,b,C)},f.alloc=function(g,b,C){if(typeof g!="number")throw new TypeError("Argument must be a number");var T=u(g);return b!==void 0?typeof C=="string"?T.fill(b,C):T.fill(b):T.fill(0),T},f.allocUnsafe=function(g){if(typeof g!="number")throw new TypeError("Argument must be a number");return u(g)},f.allocUnsafeSlow=function(g){if(typeof g!="number")throw new TypeError("Argument must be a number");return l.SlowBuffer(g)}},6099:(s,c,a)=>{(function(l){l.parser=function(U,v){return new f(U,v)},l.SAXParser=f,l.SAXStream=b,l.createStream=function(U,v){return new b(U,v)},l.MAX_BUFFER_LENGTH=65536;var u,h=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function f(U,v){if(!(this instanceof f))return new f(U,v);var N=this;(function(L){for(var Z=0,ce=h.length;Z<ce;Z++)L[h[Z]]=""})(N),N.q=N.c="",N.bufferCheckPosition=l.MAX_BUFFER_LENGTH,N.opt=v||{},N.opt.lowercase=N.opt.lowercase||N.opt.lowercasetags,N.looseCase=N.opt.lowercase?"toLowerCase":"toUpperCase",N.tags=[],N.closed=N.closedRoot=N.sawRoot=!1,N.tag=N.error=null,N.strict=!!U,N.noscript=!(!U&&!N.opt.noscript),N.state=E.BEGIN,N.strictEntities=N.opt.strictEntities,N.ENTITIES=N.strictEntities?Object.create(l.XML_ENTITIES):Object.create(l.ENTITIES),N.attribList=[],N.opt.xmlns&&(N.ns=Object.create(S)),N.trackPosition=N.opt.position!==!1,N.trackPosition&&(N.position=N.line=N.column=0),re(N,"onready")}l.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(U){function v(){}return v.prototype=U,new v}),Object.keys||(Object.keys=function(U){var v=[];for(var N in U)U.hasOwnProperty(N)&&v.push(N);return v}),f.prototype={end:function(){x(this)},write:function(U){var v=this;if(this.error)throw this.error;if(v.closed)return Ce(v,"Cannot write after close. Assign an onready handler.");if(U===null)return x(v);typeof U=="object"&&(U=U.toString());for(var N=0,L="";L=ae(U,N++),v.c=L,L;)switch(v.trackPosition&&(v.position++,L===`
`?(v.line++,v.column=0):v.column++),v.state){case E.BEGIN:if(v.state=E.BEGIN_WHITESPACE,L==="\uFEFF")continue;se(v,L);continue;case E.BEGIN_WHITESPACE:se(v,L);continue;case E.TEXT:if(v.sawRoot&&!v.closedRoot){for(var Z=N-1;L&&L!=="<"&&L!=="&";)(L=ae(U,N++))&&v.trackPosition&&(v.position++,L===`
`?(v.line++,v.column=0):v.column++);v.textNode+=U.substring(Z,N-1)}L!=="<"||v.sawRoot&&v.closedRoot&&!v.strict?(k(L)||v.sawRoot&&!v.closedRoot||$(v,"Text data outside of root node."),L==="&"?v.state=E.TEXT_ENTITY:v.textNode+=L):(v.state=E.OPEN_WAKA,v.startTagPosition=v.position);continue;case E.SCRIPT:L==="<"?v.state=E.SCRIPT_ENDING:v.script+=L;continue;case E.SCRIPT_ENDING:L==="/"?v.state=E.CLOSE_TAG:(v.script+="<"+L,v.state=E.SCRIPT);continue;case E.OPEN_WAKA:if(L==="!")v.state=E.SGML_DECL,v.sgmlDecl="";else if(!k(L))if(P(_,L))v.state=E.OPEN_TAG,v.tagName=L;else if(L==="/")v.state=E.CLOSE_TAG,v.tagName="";else if(L==="?")v.state=E.PROC_INST,v.procInstName=v.procInstBody="";else{if($(v,"Unencoded <"),v.startTagPosition+1<v.position){var ce=v.position-v.startTagPosition;L=new Array(ce).join(" ")+L}v.textNode+="<"+L,v.state=E.TEXT}continue;case E.SGML_DECL:(v.sgmlDecl+L).toUpperCase()==="[CDATA["?(Q(v,"onopencdata"),v.state=E.CDATA,v.sgmlDecl="",v.cdata=""):v.sgmlDecl+L==="--"?(v.state=E.COMMENT,v.comment="",v.sgmlDecl=""):(v.sgmlDecl+L).toUpperCase()==="DOCTYPE"?(v.state=E.DOCTYPE,(v.doctype||v.sawRoot)&&$(v,"Inappropriately located doctype declaration"),v.doctype="",v.sgmlDecl=""):L===">"?(Q(v,"onsgmldeclaration",v.sgmlDecl),v.sgmlDecl="",v.state=E.TEXT):(B(L)&&(v.state=E.SGML_DECL_QUOTED),v.sgmlDecl+=L);continue;case E.SGML_DECL_QUOTED:L===v.q&&(v.state=E.SGML_DECL,v.q=""),v.sgmlDecl+=L;continue;case E.DOCTYPE:L===">"?(v.state=E.TEXT,Q(v,"ondoctype",v.doctype),v.doctype=!0):(v.doctype+=L,L==="["?v.state=E.DOCTYPE_DTD:B(L)&&(v.state=E.DOCTYPE_QUOTED,v.q=L));continue;case E.DOCTYPE_QUOTED:v.doctype+=L,L===v.q&&(v.q="",v.state=E.DOCTYPE);continue;case E.DOCTYPE_DTD:v.doctype+=L,L==="]"?v.state=E.DOCTYPE:B(L)&&(v.state=E.DOCTYPE_DTD_QUOTED,v.q=L);continue;case E.DOCTYPE_DTD_QUOTED:v.doctype+=L,L===v.q&&(v.state=E.DOCTYPE_DTD,v.q="");continue;case E.COMMENT:L==="-"?v.state=E.COMMENT_ENDING:v.comment+=L;continue;case E.COMMENT_ENDING:L==="-"?(v.state=E.COMMENT_ENDED,v.comment=be(v.opt,v.comment),v.comment&&Q(v,"oncomment",v.comment),v.comment=""):(v.comment+="-"+L,v.state=E.COMMENT);continue;case E.COMMENT_ENDED:L!==">"?($(v,"Malformed comment"),v.comment+="--"+L,v.state=E.COMMENT):v.state=E.TEXT;continue;case E.CDATA:L==="]"?v.state=E.CDATA_ENDING:v.cdata+=L;continue;case E.CDATA_ENDING:L==="]"?v.state=E.CDATA_ENDING_2:(v.cdata+="]"+L,v.state=E.CDATA);continue;case E.CDATA_ENDING_2:L===">"?(v.cdata&&Q(v,"oncdata",v.cdata),Q(v,"onclosecdata"),v.cdata="",v.state=E.TEXT):L==="]"?v.cdata+="]":(v.cdata+="]]"+L,v.state=E.CDATA);continue;case E.PROC_INST:L==="?"?v.state=E.PROC_INST_ENDING:k(L)?v.state=E.PROC_INST_BODY:v.procInstName+=L;continue;case E.PROC_INST_BODY:if(!v.procInstBody&&k(L))continue;L==="?"?v.state=E.PROC_INST_ENDING:v.procInstBody+=L;continue;case E.PROC_INST_ENDING:L===">"?(Q(v,"onprocessinginstruction",{name:v.procInstName,body:v.procInstBody}),v.procInstName=v.procInstBody="",v.state=E.TEXT):(v.procInstBody+="?"+L,v.state=E.PROC_INST_BODY);continue;case E.OPEN_TAG:P(y,L)?v.tagName+=L:(oe(v),L===">"?q(v):L==="/"?v.state=E.OPEN_TAG_SLASH:(k(L)||$(v,"Invalid character in tag name"),v.state=E.ATTRIB));continue;case E.OPEN_TAG_SLASH:L===">"?(q(v,!0),W(v)):($(v,"Forward-slash in opening tag not followed by >"),v.state=E.ATTRIB);continue;case E.ATTRIB:if(k(L))continue;L===">"?q(v):L==="/"?v.state=E.OPEN_TAG_SLASH:P(_,L)?(v.attribName=L,v.attribValue="",v.state=E.ATTRIB_NAME):$(v,"Invalid attribute name");continue;case E.ATTRIB_NAME:L==="="?v.state=E.ATTRIB_VALUE:L===">"?($(v,"Attribute without value"),v.attribValue=v.attribName,Y(v),q(v)):k(L)?v.state=E.ATTRIB_NAME_SAW_WHITE:P(y,L)?v.attribName+=L:$(v,"Invalid attribute name");continue;case E.ATTRIB_NAME_SAW_WHITE:if(L==="=")v.state=E.ATTRIB_VALUE;else{if(k(L))continue;$(v,"Attribute without value"),v.tag.attributes[v.attribName]="",v.attribValue="",Q(v,"onattribute",{name:v.attribName,value:""}),v.attribName="",L===">"?q(v):P(_,L)?(v.attribName=L,v.state=E.ATTRIB_NAME):($(v,"Invalid attribute name"),v.state=E.ATTRIB)}continue;case E.ATTRIB_VALUE:if(k(L))continue;B(L)?(v.q=L,v.state=E.ATTRIB_VALUE_QUOTED):($(v,"Unquoted attribute value"),v.state=E.ATTRIB_VALUE_UNQUOTED,v.attribValue=L);continue;case E.ATTRIB_VALUE_QUOTED:if(L!==v.q){L==="&"?v.state=E.ATTRIB_VALUE_ENTITY_Q:v.attribValue+=L;continue}Y(v),v.q="",v.state=E.ATTRIB_VALUE_CLOSED;continue;case E.ATTRIB_VALUE_CLOSED:k(L)?v.state=E.ATTRIB:L===">"?q(v):L==="/"?v.state=E.OPEN_TAG_SLASH:P(_,L)?($(v,"No whitespace between attributes"),v.attribName=L,v.attribValue="",v.state=E.ATTRIB_NAME):$(v,"Invalid attribute name");continue;case E.ATTRIB_VALUE_UNQUOTED:if(!H(L)){L==="&"?v.state=E.ATTRIB_VALUE_ENTITY_U:v.attribValue+=L;continue}Y(v),L===">"?q(v):v.state=E.ATTRIB;continue;case E.CLOSE_TAG:if(v.tagName)L===">"?W(v):P(y,L)?v.tagName+=L:v.script?(v.script+="</"+v.tagName,v.tagName="",v.state=E.SCRIPT):(k(L)||$(v,"Invalid tagname in closing tag"),v.state=E.CLOSE_TAG_SAW_WHITE);else{if(k(L))continue;R(_,L)?v.script?(v.script+="</"+L,v.state=E.SCRIPT):$(v,"Invalid tagname in closing tag."):v.tagName=L}continue;case E.CLOSE_TAG_SAW_WHITE:if(k(L))continue;L===">"?W(v):$(v,"Invalid characters in closing tag");continue;case E.TEXT_ENTITY:case E.ATTRIB_VALUE_ENTITY_Q:case E.ATTRIB_VALUE_ENTITY_U:var pe,de;switch(v.state){case E.TEXT_ENTITY:pe=E.TEXT,de="textNode";break;case E.ATTRIB_VALUE_ENTITY_Q:pe=E.ATTRIB_VALUE_QUOTED,de="attribValue";break;case E.ATTRIB_VALUE_ENTITY_U:pe=E.ATTRIB_VALUE_UNQUOTED,de="attribValue"}L===";"?(v[de]+=te(v),v.entity="",v.state=pe):P(v.entity.length?I:w,L)?v.entity+=L:($(v,"Invalid character in entity name"),v[de]+="&"+v.entity+L,v.entity="",v.state=pe);continue;default:throw new Error(v,"Unknown state: "+v.state)}return v.position>=v.bufferCheckPosition&&function(me){for(var Ne=Math.max(l.MAX_BUFFER_LENGTH,10),ye=0,De=0,Me=h.length;De<Me;De++){var A=me[h[De]].length;if(A>Ne)switch(h[De]){case"textNode":_e(me);break;case"cdata":Q(me,"oncdata",me.cdata),me.cdata="";break;case"script":Q(me,"onscript",me.script),me.script="";break;default:Ce(me,"Max buffer length exceeded: "+h[De])}ye=Math.max(ye,A)}var D=l.MAX_BUFFER_LENGTH-ye;me.bufferCheckPosition=D+me.position}(v),v},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var U;_e(U=this),U.cdata!==""&&(Q(U,"oncdata",U.cdata),U.cdata=""),U.script!==""&&(Q(U,"onscript",U.script),U.script="")}};try{u=a(2830).Stream}catch{u=function(){}}var g=l.EVENTS.filter(function(U){return U!=="error"&&U!=="end"});function b(U,v){if(!(this instanceof b))return new b(U,v);u.apply(this),this._parser=new f(U,v),this.writable=!0,this.readable=!0;var N=this;this._parser.onend=function(){N.emit("end")},this._parser.onerror=function(L){N.emit("error",L),N._parser.error=null},this._decoder=null,g.forEach(function(L){Object.defineProperty(N,"on"+L,{get:function(){return N._parser["on"+L]},set:function(Z){if(!Z)return N.removeAllListeners(L),N._parser["on"+L]=Z,Z;N.on(L,Z)},enumerable:!0,configurable:!1})})}b.prototype=Object.create(u.prototype,{constructor:{value:b}}),b.prototype.write=function(U){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(U)){if(!this._decoder){var v=a(2553).s;this._decoder=new v("utf8")}U=this._decoder.write(U)}return this._parser.write(U.toString()),this.emit("data",U),!0},b.prototype.end=function(U){return U&&U.length&&this.write(U),this._parser.end(),!0},b.prototype.on=function(U,v){var N=this;return N._parser["on"+U]||g.indexOf(U)===-1||(N._parser["on"+U]=function(){var L=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);L.splice(0,0,U),N.emit.apply(N,L)}),u.prototype.on.call(N,U,v)};var C="http://www.w3.org/XML/1998/namespace",T="http://www.w3.org/2000/xmlns/",S={xml:C,xmlns:T},_=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,y=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,w=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,I=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function k(U){return U===" "||U===`
`||U==="\r"||U==="	"}function B(U){return U==='"'||U==="'"}function H(U){return U===">"||k(U)}function P(U,v){return U.test(v)}function R(U,v){return!P(U,v)}var F,M,G,E=0;for(var ne in l.STATE={BEGIN:E++,BEGIN_WHITESPACE:E++,TEXT:E++,TEXT_ENTITY:E++,OPEN_WAKA:E++,SGML_DECL:E++,SGML_DECL_QUOTED:E++,DOCTYPE:E++,DOCTYPE_QUOTED:E++,DOCTYPE_DTD:E++,DOCTYPE_DTD_QUOTED:E++,COMMENT_STARTING:E++,COMMENT:E++,COMMENT_ENDING:E++,COMMENT_ENDED:E++,CDATA:E++,CDATA_ENDING:E++,CDATA_ENDING_2:E++,PROC_INST:E++,PROC_INST_BODY:E++,PROC_INST_ENDING:E++,OPEN_TAG:E++,OPEN_TAG_SLASH:E++,ATTRIB:E++,ATTRIB_NAME:E++,ATTRIB_NAME_SAW_WHITE:E++,ATTRIB_VALUE:E++,ATTRIB_VALUE_QUOTED:E++,ATTRIB_VALUE_CLOSED:E++,ATTRIB_VALUE_UNQUOTED:E++,ATTRIB_VALUE_ENTITY_Q:E++,ATTRIB_VALUE_ENTITY_U:E++,CLOSE_TAG:E++,CLOSE_TAG_SAW_WHITE:E++,SCRIPT:E++,SCRIPT_ENDING:E++},l.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},l.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(l.ENTITIES).forEach(function(U){var v=l.ENTITIES[U],N=typeof v=="number"?String.fromCharCode(v):v;l.ENTITIES[U]=N}),l.STATE)l.STATE[l.STATE[ne]]=ne;function re(U,v,N){U[v]&&U[v](N)}function Q(U,v,N){U.textNode&&_e(U),re(U,v,N)}function _e(U){U.textNode=be(U.opt,U.textNode),U.textNode&&re(U,"ontext",U.textNode),U.textNode=""}function be(U,v){return U.trim&&(v=v.trim()),U.normalize&&(v=v.replace(/\s+/g," ")),v}function Ce(U,v){return _e(U),U.trackPosition&&(v+=`
Line: `+U.line+`
Column: `+U.column+`
Char: `+U.c),v=new Error(v),U.error=v,re(U,"onerror",v),U}function x(U){return U.sawRoot&&!U.closedRoot&&$(U,"Unclosed root tag"),U.state!==E.BEGIN&&U.state!==E.BEGIN_WHITESPACE&&U.state!==E.TEXT&&Ce(U,"Unexpected end"),_e(U),U.c="",U.closed=!0,re(U,"onend"),f.call(U,U.strict,U.opt),U}function $(U,v){if(typeof U!="object"||!(U instanceof f))throw new Error("bad call to strictFail");U.strict&&Ce(U,v)}function oe(U){U.strict||(U.tagName=U.tagName[U.looseCase]());var v=U.tags[U.tags.length-1]||U,N=U.tag={name:U.tagName,attributes:{}};U.opt.xmlns&&(N.ns=v.ns),U.attribList.length=0,Q(U,"onopentagstart",N)}function z(U,v){var N=U.indexOf(":")<0?["",U]:U.split(":"),L=N[0],Z=N[1];return v&&U==="xmlns"&&(L="xmlns",Z=""),{prefix:L,local:Z}}function Y(U){if(U.strict||(U.attribName=U.attribName[U.looseCase]()),U.attribList.indexOf(U.attribName)!==-1||U.tag.attributes.hasOwnProperty(U.attribName))U.attribName=U.attribValue="";else{if(U.opt.xmlns){var v=z(U.attribName,!0),N=v.prefix,L=v.local;if(N==="xmlns")if(L==="xml"&&U.attribValue!==C)$(U,"xml: prefix must be bound to "+C+`
Actual: `+U.attribValue);else if(L==="xmlns"&&U.attribValue!==T)$(U,"xmlns: prefix must be bound to "+T+`
Actual: `+U.attribValue);else{var Z=U.tag,ce=U.tags[U.tags.length-1]||U;Z.ns===ce.ns&&(Z.ns=Object.create(ce.ns)),Z.ns[L]=U.attribValue}U.attribList.push([U.attribName,U.attribValue])}else U.tag.attributes[U.attribName]=U.attribValue,Q(U,"onattribute",{name:U.attribName,value:U.attribValue});U.attribName=U.attribValue=""}}function q(U,v){if(U.opt.xmlns){var N=U.tag,L=z(U.tagName);N.prefix=L.prefix,N.local=L.local,N.uri=N.ns[L.prefix]||"",N.prefix&&!N.uri&&($(U,"Unbound namespace prefix: "+JSON.stringify(U.tagName)),N.uri=L.prefix);var Z=U.tags[U.tags.length-1]||U;N.ns&&Z.ns!==N.ns&&Object.keys(N.ns).forEach(function(j){Q(U,"onopennamespace",{prefix:j,uri:N.ns[j]})});for(var ce=0,pe=U.attribList.length;ce<pe;ce++){var de=U.attribList[ce],me=de[0],Ne=de[1],ye=z(me,!0),De=ye.prefix,Me=ye.local,A=De===""?"":N.ns[De]||"",D={name:me,value:Ne,prefix:De,local:Me,uri:A};De&&De!=="xmlns"&&!A&&($(U,"Unbound namespace prefix: "+JSON.stringify(De)),D.uri=De),U.tag.attributes[me]=D,Q(U,"onattribute",D)}U.attribList.length=0}U.tag.isSelfClosing=!!v,U.sawRoot=!0,U.tags.push(U.tag),Q(U,"onopentag",U.tag),v||(U.noscript||U.tagName.toLowerCase()!=="script"?U.state=E.TEXT:U.state=E.SCRIPT,U.tag=null,U.tagName=""),U.attribName=U.attribValue="",U.attribList.length=0}function W(U){if(!U.tagName)return $(U,"Weird empty close tag."),U.textNode+="</>",void(U.state=E.TEXT);if(U.script){if(U.tagName!=="script")return U.script+="</"+U.tagName+">",U.tagName="",void(U.state=E.SCRIPT);Q(U,"onscript",U.script),U.script=""}var v=U.tags.length,N=U.tagName;U.strict||(N=N[U.looseCase]());for(var L=N;v--&&U.tags[v].name!==L;)$(U,"Unexpected close tag");if(v<0)return $(U,"Unmatched closing tag: "+U.tagName),U.textNode+="</"+U.tagName+">",void(U.state=E.TEXT);U.tagName=N;for(var Z=U.tags.length;Z-- >v;){var ce=U.tag=U.tags.pop();U.tagName=U.tag.name,Q(U,"onclosetag",U.tagName);var pe={};for(var de in ce.ns)pe[de]=ce.ns[de];var me=U.tags[U.tags.length-1]||U;U.opt.xmlns&&ce.ns!==me.ns&&Object.keys(ce.ns).forEach(function(Ne){var ye=ce.ns[Ne];Q(U,"onclosenamespace",{prefix:Ne,uri:ye})})}v===0&&(U.closedRoot=!0),U.tagName=U.attribValue=U.attribName="",U.attribList.length=0,U.state=E.TEXT}function te(U){var v,N=U.entity,L=N.toLowerCase(),Z="";return U.ENTITIES[N]?U.ENTITIES[N]:U.ENTITIES[L]?U.ENTITIES[L]:((N=L).charAt(0)==="#"&&(N.charAt(1)==="x"?(N=N.slice(2),Z=(v=parseInt(N,16)).toString(16)):(N=N.slice(1),Z=(v=parseInt(N,10)).toString(10))),N=N.replace(/^0+/,""),isNaN(v)||Z.toLowerCase()!==N?($(U,"Invalid character entity"),"&"+U.entity+";"):String.fromCodePoint(v))}function se(U,v){v==="<"?(U.state=E.OPEN_WAKA,U.startTagPosition=U.position):k(v)||($(U,"Non-whitespace before first tag."),U.textNode=v,U.state=E.TEXT)}function ae(U,v){var N="";return v<U.length&&(N=U.charAt(v)),N}E=l.STATE,String.fromCodePoint||(F=String.fromCharCode,M=Math.floor,G=function(){var U,v,N=16384,L=[],Z=-1,ce=arguments.length;if(!ce)return"";for(var pe="";++Z<ce;){var de=Number(arguments[Z]);if(!isFinite(de)||de<0||de>1114111||M(de)!==de)throw RangeError("Invalid code point: "+de);de<=65535?L.push(de):(U=55296+((de-=65536)>>10),v=de%1024+56320,L.push(U,v)),(Z+1===ce||L.length>N)&&(pe+=F.apply(null,L),L.length=0)}return pe},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:G,configurable:!0,writable:!0}):String.fromCodePoint=G)})(c)},4889:function(s,c,a){var l=a(4155);(function(u,h){if(!u.setImmediate){var f,g,b,C,T,S=1,_={},y=!1,w=u.document,I=Object.getPrototypeOf&&Object.getPrototypeOf(u);I=I&&I.setTimeout?I:u,{}.toString.call(u.process)==="[object process]"?f=function(H){l.nextTick(function(){B(H)})}:function(){if(u.postMessage&&!u.importScripts){var H=!0,P=u.onmessage;return u.onmessage=function(){H=!1},u.postMessage("","*"),u.onmessage=P,H}}()?(C="setImmediate$"+Math.random()+"$",T=function(H){H.source===u&&typeof H.data=="string"&&H.data.indexOf(C)===0&&B(+H.data.slice(C.length))},u.addEventListener?u.addEventListener("message",T,!1):u.attachEvent("onmessage",T),f=function(H){u.postMessage(C+H,"*")}):u.MessageChannel?((b=new MessageChannel).port1.onmessage=function(H){B(H.data)},f=function(H){b.port2.postMessage(H)}):w&&"onreadystatechange"in w.createElement("script")?(g=w.documentElement,f=function(H){var P=w.createElement("script");P.onreadystatechange=function(){B(H),P.onreadystatechange=null,g.removeChild(P),P=null},g.appendChild(P)}):f=function(H){setTimeout(B,0,H)},I.setImmediate=function(H){typeof H!="function"&&(H=new Function(""+H));for(var P=new Array(arguments.length-1),R=0;R<P.length;R++)P[R]=arguments[R+1];var F={callback:H,args:P};return _[S]=F,f(S),S++},I.clearImmediate=k}function k(H){delete _[H]}function B(H){if(y)setTimeout(B,0,H);else{var P=_[H];if(P){y=!0;try{(function(R){var F=R.callback,M=R.args;switch(M.length){case 0:F();break;case 1:F(M[0]);break;case 2:F(M[0],M[1]);break;case 3:F(M[0],M[1],M[2]);break;default:F.apply(void 0,M)}})(P)}finally{k(H),y=!1}}}}})(typeof self>"u"?a.g===void 0?this:a.g:self)},2830:(s,c,a)=>{s.exports=u;var l=a(7187).EventEmitter;function u(){l.call(this)}a(5717)(u,l),u.Readable=a(6577),u.Writable=a(323),u.Duplex=a(8656),u.Transform=a(4473),u.PassThrough=a(2366),u.finished=a(1086),u.pipeline=a(6472),u.Stream=u,u.prototype.pipe=function(h,f){var g=this;function b(I){h.writable&&h.write(I)===!1&&g.pause&&g.pause()}function C(){g.readable&&g.resume&&g.resume()}g.on("data",b),h.on("drain",C),h._isStdio||f&&f.end===!1||(g.on("end",S),g.on("close",_));var T=!1;function S(){T||(T=!0,h.end())}function _(){T||(T=!0,typeof h.destroy=="function"&&h.destroy())}function y(I){if(w(),l.listenerCount(this,"error")===0)throw I}function w(){g.removeListener("data",b),h.removeListener("drain",C),g.removeListener("end",S),g.removeListener("close",_),g.removeListener("error",y),h.removeListener("error",y),g.removeListener("end",w),g.removeListener("close",w),h.removeListener("close",w)}return g.on("error",y),h.on("error",y),g.on("end",w),g.on("close",w),h.on("close",w),h.emit("pipe",g),h}},8106:s=>{var c={};function a(u,h,f){f||(f=Error);var g=function(b){var C,T;function S(_,y,w){return b.call(this,function(I,k,B){return typeof h=="string"?h:h(I,k,B)}(_,y,w))||this}return T=b,(C=S).prototype=Object.create(T.prototype),C.prototype.constructor=C,C.__proto__=T,S}(f);g.prototype.name=f.name,g.prototype.code=u,c[u]=g}function l(u,h){if(Array.isArray(u)){var f=u.length;return u=u.map(function(g){return String(g)}),f>2?"one of ".concat(h," ").concat(u.slice(0,f-1).join(", "),", or ")+u[f-1]:f===2?"one of ".concat(h," ").concat(u[0]," or ").concat(u[1]):"of ".concat(h," ").concat(u[0])}return"of ".concat(h," ").concat(String(u))}a("ERR_INVALID_OPT_VALUE",function(u,h){return'The value "'+h+'" is invalid for option "'+u+'"'},TypeError),a("ERR_INVALID_ARG_TYPE",function(u,h,f){var g,b,C,T,S;if(typeof h=="string"&&(b="not ",h.substr(0,b.length)===b)?(g="must not be",h=h.replace(/^not /,"")):g="must be",function(y,w,I){return(I===void 0||I>y.length)&&(I=y.length),y.substring(I-w.length,I)===w}(u," argument"))C="The ".concat(u," ").concat(g," ").concat(l(h,"type"));else{var _=(typeof S!="number"&&(S=0),S+1>(T=u).length||T.indexOf(".",S)===-1?"argument":"property");C='The "'.concat(u,'" ').concat(_," ").concat(g," ").concat(l(h,"type"))}return C+". Received type ".concat(typeof f)},TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",function(u){return"The "+u+" method is not implemented"}),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",function(u){return"Cannot call "+u+" after a stream was destroyed"}),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",function(u){return"Unknown encoding: "+u},TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.q=c},8656:(s,c,a)=>{var l=a(4155),u=Object.keys||function(y){var w=[];for(var I in y)w.push(I);return w};s.exports=T;var h=a(6577),f=a(323);a(5717)(T,h);for(var g=u(f.prototype),b=0;b<g.length;b++){var C=g[b];T.prototype[C]||(T.prototype[C]=f.prototype[C])}function T(y){if(!(this instanceof T))return new T(y);h.call(this,y),f.call(this,y),this.allowHalfOpen=!0,y&&(y.readable===!1&&(this.readable=!1),y.writable===!1&&(this.writable=!1),y.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",S)))}function S(){this._writableState.ended||l.nextTick(_,this)}function _(y){y.end()}Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(T.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(T.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=y,this._writableState.destroyed=y)}})},2366:(s,c,a)=>{s.exports=u;var l=a(4473);function u(h){if(!(this instanceof u))return new u(h);l.call(this,h)}a(5717)(u,l),u.prototype._transform=function(h,f,g){g(null,h)}},6577:(s,c,a)=>{var l,u=a(4155);s.exports=ne,ne.ReadableState=E,a(7187).EventEmitter;var h,f=function(v,N){return v.listeners(N).length},g=a(3194),b=a(8764).Buffer,C=a.g.Uint8Array||function(){},T=a(5575);h=T&&T.debuglog?T.debuglog("stream"):function(){};var S,_,y,w=a(9686),I=a(1029),k=a(94).getHighWaterMark,B=a(8106).q,H=B.ERR_INVALID_ARG_TYPE,P=B.ERR_STREAM_PUSH_AFTER_EOF,R=B.ERR_METHOD_NOT_IMPLEMENTED,F=B.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;a(5717)(ne,g);var M=I.errorOrDestroy,G=["error","close","destroy","pause","resume"];function E(v,N,L){l=l||a(8656),v=v||{},typeof L!="boolean"&&(L=N instanceof l),this.objectMode=!!v.objectMode,L&&(this.objectMode=this.objectMode||!!v.readableObjectMode),this.highWaterMark=k(this,v,"readableHighWaterMark",L),this.buffer=new w,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=v.emitClose!==!1,this.autoDestroy=!!v.autoDestroy,this.destroyed=!1,this.defaultEncoding=v.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,v.encoding&&(S||(S=a(2553).s),this.decoder=new S(v.encoding),this.encoding=v.encoding)}function ne(v){if(l=l||a(8656),!(this instanceof ne))return new ne(v);var N=this instanceof l;this._readableState=new E(v,this,N),this.readable=!0,v&&(typeof v.read=="function"&&(this._read=v.read),typeof v.destroy=="function"&&(this._destroy=v.destroy)),g.call(this)}function re(v,N,L,Z,ce){h("readableAddChunk",N);var pe,de=v._readableState;if(N===null)de.reading=!1,function(me,Ne){if(h("onEofChunk"),!Ne.ended){if(Ne.decoder){var ye=Ne.decoder.end();ye&&ye.length&&(Ne.buffer.push(ye),Ne.length+=Ne.objectMode?1:ye.length)}Ne.ended=!0,Ne.sync?Ce(me):(Ne.needReadable=!1,Ne.emittedReadable||(Ne.emittedReadable=!0,x(me)))}}(v,de);else if(ce||(pe=function(me,Ne){var ye,De;return De=Ne,b.isBuffer(De)||De instanceof C||typeof Ne=="string"||Ne===void 0||me.objectMode||(ye=new H("chunk",["string","Buffer","Uint8Array"],Ne)),ye}(de,N)),pe)M(v,pe);else if(de.objectMode||N&&N.length>0)if(typeof N=="string"||de.objectMode||Object.getPrototypeOf(N)===b.prototype||(N=function(me){return b.from(me)}(N)),Z)de.endEmitted?M(v,new F):Q(v,de,N,!0);else if(de.ended)M(v,new P);else{if(de.destroyed)return!1;de.reading=!1,de.decoder&&!L?(N=de.decoder.write(N),de.objectMode||N.length!==0?Q(v,de,N,!1):$(v,de)):Q(v,de,N,!1)}else Z||(de.reading=!1,$(v,de));return!de.ended&&(de.length<de.highWaterMark||de.length===0)}function Q(v,N,L,Z){N.flowing&&N.length===0&&!N.sync?(N.awaitDrain=0,v.emit("data",L)):(N.length+=N.objectMode?1:L.length,Z?N.buffer.unshift(L):N.buffer.push(L),N.needReadable&&Ce(v)),$(v,N)}Object.defineProperty(ne.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(v){this._readableState&&(this._readableState.destroyed=v)}}),ne.prototype.destroy=I.destroy,ne.prototype._undestroy=I.undestroy,ne.prototype._destroy=function(v,N){N(v)},ne.prototype.push=function(v,N){var L,Z=this._readableState;return Z.objectMode?L=!0:typeof v=="string"&&((N=N||Z.defaultEncoding)!==Z.encoding&&(v=b.from(v,N),N=""),L=!0),re(this,v,N,!1,L)},ne.prototype.unshift=function(v){return re(this,v,null,!0,!1)},ne.prototype.isPaused=function(){return this._readableState.flowing===!1},ne.prototype.setEncoding=function(v){S||(S=a(2553).s);var N=new S(v);this._readableState.decoder=N,this._readableState.encoding=this._readableState.decoder.encoding;for(var L=this._readableState.buffer.head,Z="";L!==null;)Z+=N.write(L.data),L=L.next;return this._readableState.buffer.clear(),Z!==""&&this._readableState.buffer.push(Z),this._readableState.length=Z.length,this};var _e=1073741824;function be(v,N){return v<=0||N.length===0&&N.ended?0:N.objectMode?1:v!=v?N.flowing&&N.length?N.buffer.head.data.length:N.length:(v>N.highWaterMark&&(N.highWaterMark=function(L){return L>=_e?L=_e:(L--,L|=L>>>1,L|=L>>>2,L|=L>>>4,L|=L>>>8,L|=L>>>16,L++),L}(v)),v<=N.length?v:N.ended?N.length:(N.needReadable=!0,0))}function Ce(v){var N=v._readableState;h("emitReadable",N.needReadable,N.emittedReadable),N.needReadable=!1,N.emittedReadable||(h("emitReadable",N.flowing),N.emittedReadable=!0,u.nextTick(x,v))}function x(v){var N=v._readableState;h("emitReadable_",N.destroyed,N.length,N.ended),N.destroyed||!N.length&&!N.ended||(v.emit("readable"),N.emittedReadable=!1),N.needReadable=!N.flowing&&!N.ended&&N.length<=N.highWaterMark,W(v)}function $(v,N){N.readingMore||(N.readingMore=!0,u.nextTick(oe,v,N))}function oe(v,N){for(;!N.reading&&!N.ended&&(N.length<N.highWaterMark||N.flowing&&N.length===0);){var L=N.length;if(h("maybeReadMore read 0"),v.read(0),L===N.length)break}N.readingMore=!1}function z(v){var N=v._readableState;N.readableListening=v.listenerCount("readable")>0,N.resumeScheduled&&!N.paused?N.flowing=!0:v.listenerCount("data")>0&&v.resume()}function Y(v){h("readable nexttick read 0"),v.read(0)}function q(v,N){h("resume",N.reading),N.reading||v.read(0),N.resumeScheduled=!1,v.emit("resume"),W(v),N.flowing&&!N.reading&&v.read(0)}function W(v){var N=v._readableState;for(h("flow",N.flowing);N.flowing&&v.read()!==null;);}function te(v,N){return N.length===0?null:(N.objectMode?L=N.buffer.shift():!v||v>=N.length?(L=N.decoder?N.buffer.join(""):N.buffer.length===1?N.buffer.first():N.buffer.concat(N.length),N.buffer.clear()):L=N.buffer.consume(v,N.decoder),L);var L}function se(v){var N=v._readableState;h("endReadable",N.endEmitted),N.endEmitted||(N.ended=!0,u.nextTick(ae,N,v))}function ae(v,N){if(h("endReadableNT",v.endEmitted,v.length),!v.endEmitted&&v.length===0&&(v.endEmitted=!0,N.readable=!1,N.emit("end"),v.autoDestroy)){var L=N._writableState;(!L||L.autoDestroy&&L.finished)&&N.destroy()}}function U(v,N){for(var L=0,Z=v.length;L<Z;L++)if(v[L]===N)return L;return-1}ne.prototype.read=function(v){h("read",v),v=parseInt(v,10);var N=this._readableState,L=v;if(v!==0&&(N.emittedReadable=!1),v===0&&N.needReadable&&((N.highWaterMark!==0?N.length>=N.highWaterMark:N.length>0)||N.ended))return h("read: emitReadable",N.length,N.ended),N.length===0&&N.ended?se(this):Ce(this),null;if((v=be(v,N))===0&&N.ended)return N.length===0&&se(this),null;var Z,ce=N.needReadable;return h("need readable",ce),(N.length===0||N.length-v<N.highWaterMark)&&h("length less than watermark",ce=!0),N.ended||N.reading?h("reading or ended",ce=!1):ce&&(h("do read"),N.reading=!0,N.sync=!0,N.length===0&&(N.needReadable=!0),this._read(N.highWaterMark),N.sync=!1,N.reading||(v=be(L,N))),(Z=v>0?te(v,N):null)===null?(N.needReadable=N.length<=N.highWaterMark,v=0):(N.length-=v,N.awaitDrain=0),N.length===0&&(N.ended||(N.needReadable=!0),L!==v&&N.ended&&se(this)),Z!==null&&this.emit("data",Z),Z},ne.prototype._read=function(v){M(this,new R("_read()"))},ne.prototype.pipe=function(v,N){var L=this,Z=this._readableState;switch(Z.pipesCount){case 0:Z.pipes=v;break;case 1:Z.pipes=[Z.pipes,v];break;default:Z.pipes.push(v)}Z.pipesCount+=1,h("pipe count=%d opts=%j",Z.pipesCount,N);var ce=N&&N.end===!1||v===u.stdout||v===u.stderr?A:pe;function pe(){h("onend"),v.end()}Z.endEmitted?u.nextTick(ce):L.once("end",ce),v.on("unpipe",function D(j,ie){h("onunpipe"),j===L&&ie&&ie.hasUnpiped===!1&&(ie.hasUnpiped=!0,h("cleanup"),v.removeListener("close",De),v.removeListener("finish",Me),v.removeListener("drain",de),v.removeListener("error",ye),v.removeListener("unpipe",D),L.removeListener("end",pe),L.removeListener("end",A),L.removeListener("data",Ne),me=!0,!Z.awaitDrain||v._writableState&&!v._writableState.needDrain||de())});var de=function(D){return function(){var j=D._readableState;h("pipeOnDrain",j.awaitDrain),j.awaitDrain&&j.awaitDrain--,j.awaitDrain===0&&f(D,"data")&&(j.flowing=!0,W(D))}}(L);v.on("drain",de);var me=!1;function Ne(D){h("ondata");var j=v.write(D);h("dest.write",j),j===!1&&((Z.pipesCount===1&&Z.pipes===v||Z.pipesCount>1&&U(Z.pipes,v)!==-1)&&!me&&(h("false write response, pause",Z.awaitDrain),Z.awaitDrain++),L.pause())}function ye(D){h("onerror",D),A(),v.removeListener("error",ye),f(v,"error")===0&&M(v,D)}function De(){v.removeListener("finish",Me),A()}function Me(){h("onfinish"),v.removeListener("close",De),A()}function A(){h("unpipe"),L.unpipe(v)}return L.on("data",Ne),function(D,j,ie){if(typeof D.prependListener=="function")return D.prependListener(j,ie);D._events&&D._events.error?Array.isArray(D._events.error)?D._events.error.unshift(ie):D._events.error=[ie,D._events.error]:D.on(j,ie)}(v,"error",ye),v.once("close",De),v.once("finish",Me),v.emit("pipe",L),Z.flowing||(h("pipe resume"),L.resume()),v},ne.prototype.unpipe=function(v){var N=this._readableState,L={hasUnpiped:!1};if(N.pipesCount===0)return this;if(N.pipesCount===1)return v&&v!==N.pipes||(v||(v=N.pipes),N.pipes=null,N.pipesCount=0,N.flowing=!1,v&&v.emit("unpipe",this,L)),this;if(!v){var Z=N.pipes,ce=N.pipesCount;N.pipes=null,N.pipesCount=0,N.flowing=!1;for(var pe=0;pe<ce;pe++)Z[pe].emit("unpipe",this,{hasUnpiped:!1});return this}var de=U(N.pipes,v);return de===-1||(N.pipes.splice(de,1),N.pipesCount-=1,N.pipesCount===1&&(N.pipes=N.pipes[0]),v.emit("unpipe",this,L)),this},ne.prototype.on=function(v,N){var L=g.prototype.on.call(this,v,N),Z=this._readableState;return v==="data"?(Z.readableListening=this.listenerCount("readable")>0,Z.flowing!==!1&&this.resume()):v==="readable"&&(Z.endEmitted||Z.readableListening||(Z.readableListening=Z.needReadable=!0,Z.flowing=!1,Z.emittedReadable=!1,h("on readable",Z.length,Z.reading),Z.length?Ce(this):Z.reading||u.nextTick(Y,this))),L},ne.prototype.addListener=ne.prototype.on,ne.prototype.removeListener=function(v,N){var L=g.prototype.removeListener.call(this,v,N);return v==="readable"&&u.nextTick(z,this),L},ne.prototype.removeAllListeners=function(v){var N=g.prototype.removeAllListeners.apply(this,arguments);return v!=="readable"&&v!==void 0||u.nextTick(z,this),N},ne.prototype.resume=function(){var v=this._readableState;return v.flowing||(h("resume"),v.flowing=!v.readableListening,function(N,L){L.resumeScheduled||(L.resumeScheduled=!0,u.nextTick(q,N,L))}(this,v)),v.paused=!1,this},ne.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},ne.prototype.wrap=function(v){var N=this,L=this._readableState,Z=!1;for(var ce in v.on("end",function(){if(h("wrapped end"),L.decoder&&!L.ended){var de=L.decoder.end();de&&de.length&&N.push(de)}N.push(null)}),v.on("data",function(de){h("wrapped data"),L.decoder&&(de=L.decoder.write(de)),L.objectMode&&de==null||(L.objectMode||de&&de.length)&&(N.push(de)||(Z=!0,v.pause()))}),v)this[ce]===void 0&&typeof v[ce]=="function"&&(this[ce]=function(de){return function(){return v[de].apply(v,arguments)}}(ce));for(var pe=0;pe<G.length;pe++)v.on(G[pe],this.emit.bind(this,G[pe]));return this._read=function(de){h("wrapped _read",de),Z&&(Z=!1,v.resume())},this},typeof Symbol=="function"&&(ne.prototype[Symbol.asyncIterator]=function(){return _===void 0&&(_=a(828)),_(this)}),Object.defineProperty(ne.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(ne.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(ne.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(v){this._readableState&&(this._readableState.flowing=v)}}),ne._fromList=te,Object.defineProperty(ne.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(ne.from=function(v,N){return y===void 0&&(y=a(1265)),y(ne,v,N)})},4473:(s,c,a)=>{s.exports=T;var l=a(8106).q,u=l.ERR_METHOD_NOT_IMPLEMENTED,h=l.ERR_MULTIPLE_CALLBACK,f=l.ERR_TRANSFORM_ALREADY_TRANSFORMING,g=l.ERR_TRANSFORM_WITH_LENGTH_0,b=a(8656);function C(y,w){var I=this._transformState;I.transforming=!1;var k=I.writecb;if(k===null)return this.emit("error",new h);I.writechunk=null,I.writecb=null,w!=null&&this.push(w),k(y);var B=this._readableState;B.reading=!1,(B.needReadable||B.length<B.highWaterMark)&&this._read(B.highWaterMark)}function T(y){if(!(this instanceof T))return new T(y);b.call(this,y),this._transformState={afterTransform:C.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",S)}function S(){var y=this;typeof this._flush!="function"||this._readableState.destroyed?_(this,null,null):this._flush(function(w,I){_(y,w,I)})}function _(y,w,I){if(w)return y.emit("error",w);if(I!=null&&y.push(I),y._writableState.length)throw new g;if(y._transformState.transforming)throw new f;return y.push(null)}a(5717)(T,b),T.prototype.push=function(y,w){return this._transformState.needTransform=!1,b.prototype.push.call(this,y,w)},T.prototype._transform=function(y,w,I){I(new u("_transform()"))},T.prototype._write=function(y,w,I){var k=this._transformState;if(k.writecb=I,k.writechunk=y,k.writeencoding=w,!k.transforming){var B=this._readableState;(k.needTransform||B.needReadable||B.length<B.highWaterMark)&&this._read(B.highWaterMark)}},T.prototype._read=function(y){var w=this._transformState;w.writechunk===null||w.transforming?w.needTransform=!0:(w.transforming=!0,this._transform(w.writechunk,w.writeencoding,w.afterTransform))},T.prototype._destroy=function(y,w){b.prototype._destroy.call(this,y,function(I){w(I)})}},323:(s,c,a)=>{var l,u=a(4155);function h($){var oe=this;this.next=null,this.entry=null,this.finish=function(){(function(z,Y,q){var W=z.entry;for(z.entry=null;W;){var te=W.callback;Y.pendingcb--,te(void 0),W=W.next}Y.corkedRequestsFree.next=z})(oe,$)}}s.exports=ne,ne.WritableState=E;var f,g={deprecate:a(4927)},b=a(3194),C=a(8764).Buffer,T=a.g.Uint8Array||function(){},S=a(1029),_=a(94).getHighWaterMark,y=a(8106).q,w=y.ERR_INVALID_ARG_TYPE,I=y.ERR_METHOD_NOT_IMPLEMENTED,k=y.ERR_MULTIPLE_CALLBACK,B=y.ERR_STREAM_CANNOT_PIPE,H=y.ERR_STREAM_DESTROYED,P=y.ERR_STREAM_NULL_VALUES,R=y.ERR_STREAM_WRITE_AFTER_END,F=y.ERR_UNKNOWN_ENCODING,M=S.errorOrDestroy;function G(){}function E($,oe,z){l=l||a(8656),$=$||{},typeof z!="boolean"&&(z=oe instanceof l),this.objectMode=!!$.objectMode,z&&(this.objectMode=this.objectMode||!!$.writableObjectMode),this.highWaterMark=_(this,$,"writableHighWaterMark",z),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Y=$.decodeStrings===!1;this.decodeStrings=!Y,this.defaultEncoding=$.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(q){(function(W,te){var se=W._writableState,ae=se.sync,U=se.writecb;if(typeof U!="function")throw new k;if(function(N){N.writing=!1,N.writecb=null,N.length-=N.writelen,N.writelen=0}(se),te)(function(N,L,Z,ce,pe){--L.pendingcb,Z?(u.nextTick(pe,ce),u.nextTick(x,N,L),N._writableState.errorEmitted=!0,M(N,ce)):(pe(ce),N._writableState.errorEmitted=!0,M(N,ce),x(N,L))})(W,se,ae,te,U);else{var v=be(se)||W.destroyed;v||se.corked||se.bufferProcessing||!se.bufferedRequest||_e(W,se),ae?u.nextTick(Q,W,se,v,U):Q(W,se,v,U)}})(oe,q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=$.emitClose!==!1,this.autoDestroy=!!$.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new h(this)}function ne($){var oe=this instanceof(l=l||a(8656));if(!oe&&!f.call(ne,this))return new ne($);this._writableState=new E($,this,oe),this.writable=!0,$&&(typeof $.write=="function"&&(this._write=$.write),typeof $.writev=="function"&&(this._writev=$.writev),typeof $.destroy=="function"&&(this._destroy=$.destroy),typeof $.final=="function"&&(this._final=$.final)),b.call(this)}function re($,oe,z,Y,q,W,te){oe.writelen=Y,oe.writecb=te,oe.writing=!0,oe.sync=!0,oe.destroyed?oe.onwrite(new H("write")):z?$._writev(q,oe.onwrite):$._write(q,W,oe.onwrite),oe.sync=!1}function Q($,oe,z,Y){z||function(q,W){W.length===0&&W.needDrain&&(W.needDrain=!1,q.emit("drain"))}($,oe),oe.pendingcb--,Y(),x($,oe)}function _e($,oe){oe.bufferProcessing=!0;var z=oe.bufferedRequest;if($._writev&&z&&z.next){var Y=oe.bufferedRequestCount,q=new Array(Y),W=oe.corkedRequestsFree;W.entry=z;for(var te=0,se=!0;z;)q[te]=z,z.isBuf||(se=!1),z=z.next,te+=1;q.allBuffers=se,re($,oe,!0,oe.length,q,"",W.finish),oe.pendingcb++,oe.lastBufferedRequest=null,W.next?(oe.corkedRequestsFree=W.next,W.next=null):oe.corkedRequestsFree=new h(oe),oe.bufferedRequestCount=0}else{for(;z;){var ae=z.chunk,U=z.encoding,v=z.callback;if(re($,oe,!1,oe.objectMode?1:ae.length,ae,U,v),z=z.next,oe.bufferedRequestCount--,oe.writing)break}z===null&&(oe.lastBufferedRequest=null)}oe.bufferedRequest=z,oe.bufferProcessing=!1}function be($){return $.ending&&$.length===0&&$.bufferedRequest===null&&!$.finished&&!$.writing}function Ce($,oe){$._final(function(z){oe.pendingcb--,z&&M($,z),oe.prefinished=!0,$.emit("prefinish"),x($,oe)})}function x($,oe){var z=be(oe);if(z&&(function(q,W){W.prefinished||W.finalCalled||(typeof q._final!="function"||W.destroyed?(W.prefinished=!0,q.emit("prefinish")):(W.pendingcb++,W.finalCalled=!0,u.nextTick(Ce,q,W)))}($,oe),oe.pendingcb===0&&(oe.finished=!0,$.emit("finish"),oe.autoDestroy))){var Y=$._readableState;(!Y||Y.autoDestroy&&Y.endEmitted)&&$.destroy()}return z}a(5717)(ne,b),E.prototype.getBuffer=function(){for(var $=this.bufferedRequest,oe=[];$;)oe.push($),$=$.next;return oe},function(){try{Object.defineProperty(E.prototype,"buffer",{get:g.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(ne,Symbol.hasInstance,{value:function($){return!!f.call(this,$)||this===ne&&$&&$._writableState instanceof E}})):f=function($){return $ instanceof this},ne.prototype.pipe=function(){M(this,new B)},ne.prototype.write=function($,oe,z){var Y,q=this._writableState,W=!1,te=!q.objectMode&&(Y=$,C.isBuffer(Y)||Y instanceof T);return te&&!C.isBuffer($)&&($=function(se){return C.from(se)}($)),typeof oe=="function"&&(z=oe,oe=null),te?oe="buffer":oe||(oe=q.defaultEncoding),typeof z!="function"&&(z=G),q.ending?function(se,ae){var U=new R;M(se,U),u.nextTick(ae,U)}(this,z):(te||function(se,ae,U,v){var N;return U===null?N=new P:typeof U=="string"||ae.objectMode||(N=new w("chunk",["string","Buffer"],U)),!N||(M(se,N),u.nextTick(v,N),!1)}(this,q,$,z))&&(q.pendingcb++,W=function(se,ae,U,v,N,L){if(!U){var Z=function(me,Ne,ye){return me.objectMode||me.decodeStrings===!1||typeof Ne!="string"||(Ne=C.from(Ne,ye)),Ne}(ae,v,N);v!==Z&&(U=!0,N="buffer",v=Z)}var ce=ae.objectMode?1:v.length;ae.length+=ce;var pe=ae.length<ae.highWaterMark;if(pe||(ae.needDrain=!0),ae.writing||ae.corked){var de=ae.lastBufferedRequest;ae.lastBufferedRequest={chunk:v,encoding:N,isBuf:U,callback:L,next:null},de?de.next=ae.lastBufferedRequest:ae.bufferedRequest=ae.lastBufferedRequest,ae.bufferedRequestCount+=1}else re(se,ae,!1,ce,v,N,L);return pe}(this,q,te,$,oe,z)),W},ne.prototype.cork=function(){this._writableState.corked++},ne.prototype.uncork=function(){var $=this._writableState;$.corked&&($.corked--,$.writing||$.corked||$.bufferProcessing||!$.bufferedRequest||_e(this,$))},ne.prototype.setDefaultEncoding=function($){if(typeof $=="string"&&($=$.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf(($+"").toLowerCase())>-1))throw new F($);return this._writableState.defaultEncoding=$,this},Object.defineProperty(ne.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(ne.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),ne.prototype._write=function($,oe,z){z(new I("_write()"))},ne.prototype._writev=null,ne.prototype.end=function($,oe,z){var Y=this._writableState;return typeof $=="function"?(z=$,$=null,oe=null):typeof oe=="function"&&(z=oe,oe=null),$!=null&&this.write($,oe),Y.corked&&(Y.corked=1,this.uncork()),Y.ending||function(q,W,te){W.ending=!0,x(q,W),te&&(W.finished?u.nextTick(te):q.once("finish",te)),W.ended=!0,q.writable=!1}(this,Y,z),this},Object.defineProperty(ne.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(ne.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function($){this._writableState&&(this._writableState.destroyed=$)}}),ne.prototype.destroy=S.destroy,ne.prototype._undestroy=S.undestroy,ne.prototype._destroy=function($,oe){oe($)}},828:(s,c,a)=>{var l,u=a(4155);function h(P,R,F){return R in P?Object.defineProperty(P,R,{value:F,enumerable:!0,configurable:!0,writable:!0}):P[R]=F,P}var f=a(1086),g=Symbol("lastResolve"),b=Symbol("lastReject"),C=Symbol("error"),T=Symbol("ended"),S=Symbol("lastPromise"),_=Symbol("handlePromise"),y=Symbol("stream");function w(P,R){return{value:P,done:R}}function I(P){var R=P[g];if(R!==null){var F=P[y].read();F!==null&&(P[S]=null,P[g]=null,P[b]=null,R(w(F,!1)))}}function k(P){u.nextTick(I,P)}var B=Object.getPrototypeOf(function(){}),H=Object.setPrototypeOf((h(l={get stream(){return this[y]},next:function(){var P=this,R=this[C];if(R!==null)return Promise.reject(R);if(this[T])return Promise.resolve(w(void 0,!0));if(this[y].destroyed)return new Promise(function(E,ne){u.nextTick(function(){P[C]?ne(P[C]):E(w(void 0,!0))})});var F,M=this[S];if(M)F=new Promise(function(E,ne){return function(re,Q){E.then(function(){ne[T]?re(w(void 0,!0)):ne[_](re,Q)},Q)}}(M,this));else{var G=this[y].read();if(G!==null)return Promise.resolve(w(G,!1));F=new Promise(this[_])}return this[S]=F,F}},Symbol.asyncIterator,function(){return this}),h(l,"return",function(){var P=this;return new Promise(function(R,F){P[y].destroy(null,function(M){M?F(M):R(w(void 0,!0))})})}),l),B);s.exports=function(P){var R,F=Object.create(H,(h(R={},y,{value:P,writable:!0}),h(R,g,{value:null,writable:!0}),h(R,b,{value:null,writable:!0}),h(R,C,{value:null,writable:!0}),h(R,T,{value:P._readableState.endEmitted,writable:!0}),h(R,_,{value:function(M,G){var E=F[y].read();E?(F[S]=null,F[g]=null,F[b]=null,M(w(E,!1))):(F[g]=M,F[b]=G)},writable:!0}),R));return F[S]=null,f(P,function(M){if(M&&M.code!=="ERR_STREAM_PREMATURE_CLOSE"){var G=F[b];return G!==null&&(F[S]=null,F[g]=null,F[b]=null,G(M)),void(F[C]=M)}var E=F[g];E!==null&&(F[S]=null,F[g]=null,F[b]=null,E(w(void 0,!0))),F[T]=!0}),P.on("readable",k.bind(null,F)),F}},9686:(s,c,a)=>{function l(C,T){var S=Object.keys(C);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(C);T&&(_=_.filter(function(y){return Object.getOwnPropertyDescriptor(C,y).enumerable})),S.push.apply(S,_)}return S}function u(C,T,S){return T in C?Object.defineProperty(C,T,{value:S,enumerable:!0,configurable:!0,writable:!0}):C[T]=S,C}function h(C,T){for(var S=0;S<T.length;S++){var _=T[S];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(C,_.key,_)}}var f=a(8764).Buffer,g=a(5575).inspect,b=g&&g.custom||"inspect";s.exports=function(){function C(){(function(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")})(this,C),this.head=null,this.tail=null,this.length=0}var T,S;return T=C,S=[{key:"push",value:function(_){var y={data:_,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(_){var y={data:_,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var _=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,_}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(_){if(this.length===0)return"";for(var y=this.head,w=""+y.data;y=y.next;)w+=_+y.data;return w}},{key:"concat",value:function(_){if(this.length===0)return f.alloc(0);for(var y,w,I,k=f.allocUnsafe(_>>>0),B=this.head,H=0;B;)y=B.data,w=k,I=H,f.prototype.copy.call(y,w,I),H+=B.data.length,B=B.next;return k}},{key:"consume",value:function(_,y){var w;return _<this.head.data.length?(w=this.head.data.slice(0,_),this.head.data=this.head.data.slice(_)):w=_===this.head.data.length?this.shift():y?this._getString(_):this._getBuffer(_),w}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(_){var y=this.head,w=1,I=y.data;for(_-=I.length;y=y.next;){var k=y.data,B=_>k.length?k.length:_;if(B===k.length?I+=k:I+=k.slice(0,_),(_-=B)==0){B===k.length?(++w,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=k.slice(B));break}++w}return this.length-=w,I}},{key:"_getBuffer",value:function(_){var y=f.allocUnsafe(_),w=this.head,I=1;for(w.data.copy(y),_-=w.data.length;w=w.next;){var k=w.data,B=_>k.length?k.length:_;if(k.copy(y,y.length-_,0,B),(_-=B)==0){B===k.length?(++I,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=k.slice(B));break}++I}return this.length-=I,y}},{key:b,value:function(_,y){return g(this,function(w){for(var I=1;I<arguments.length;I++){var k=arguments[I]!=null?arguments[I]:{};I%2?l(Object(k),!0).forEach(function(B){u(w,B,k[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(k)):l(Object(k)).forEach(function(B){Object.defineProperty(w,B,Object.getOwnPropertyDescriptor(k,B))})}return w}({},y,{depth:0,customInspect:!1}))}}],S&&h(T.prototype,S),C}()},1029:(s,c,a)=>{var l=a(4155);function u(g,b){f(g,b),h(g)}function h(g){g._writableState&&!g._writableState.emitClose||g._readableState&&!g._readableState.emitClose||g.emit("close")}function f(g,b){g.emit("error",b)}s.exports={destroy:function(g,b){var C=this,T=this._readableState&&this._readableState.destroyed,S=this._writableState&&this._writableState.destroyed;return T||S?(b?b(g):g&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,l.nextTick(f,this,g)):l.nextTick(f,this,g)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(g||null,function(_){!b&&_?C._writableState?C._writableState.errorEmitted?l.nextTick(h,C):(C._writableState.errorEmitted=!0,l.nextTick(u,C,_)):l.nextTick(u,C,_):b?(l.nextTick(h,C),b(_)):l.nextTick(h,C)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(g,b){var C=g._readableState,T=g._writableState;C&&C.autoDestroy||T&&T.autoDestroy?g.destroy(b):g.emit("error",b)}}},1086:(s,c,a)=>{var l=a(8106).q.ERR_STREAM_PREMATURE_CLOSE;function u(){}s.exports=function h(f,g,b){if(typeof g=="function")return h(f,null,g);g||(g={}),b=function(P){var R=!1;return function(){if(!R){R=!0;for(var F=arguments.length,M=new Array(F),G=0;G<F;G++)M[G]=arguments[G];P.apply(this,M)}}}(b||u);var C=g.readable||g.readable!==!1&&f.readable,T=g.writable||g.writable!==!1&&f.writable,S=function(){f.writable||y()},_=f._writableState&&f._writableState.finished,y=function(){T=!1,_=!0,C||b.call(f)},w=f._readableState&&f._readableState.endEmitted,I=function(){C=!1,w=!0,T||b.call(f)},k=function(P){b.call(f,P)},B=function(){var P;return C&&!w?(f._readableState&&f._readableState.ended||(P=new l),b.call(f,P)):T&&!_?(f._writableState&&f._writableState.ended||(P=new l),b.call(f,P)):void 0},H=function(){f.req.on("finish",y)};return function(P){return P.setHeader&&typeof P.abort=="function"}(f)?(f.on("complete",y),f.on("abort",B),f.req?H():f.on("request",H)):T&&!f._writableState&&(f.on("end",S),f.on("close",S)),f.on("end",I),f.on("finish",y),g.error!==!1&&f.on("error",k),f.on("close",B),function(){f.removeListener("complete",y),f.removeListener("abort",B),f.removeListener("request",H),f.req&&f.req.removeListener("finish",y),f.removeListener("end",S),f.removeListener("close",S),f.removeListener("finish",y),f.removeListener("end",I),f.removeListener("error",k),f.removeListener("close",B)}}},1265:s=>{s.exports=function(){throw new Error("Readable.from is not available in the browser")}},6472:(s,c,a)=>{var l,u=a(8106).q,h=u.ERR_MISSING_ARGS,f=u.ERR_STREAM_DESTROYED;function g(_){if(_)throw _}function b(_,y,w,I){I=function(H){var P=!1;return function(){P||(P=!0,H.apply(void 0,arguments))}}(I);var k=!1;_.on("close",function(){k=!0}),l===void 0&&(l=a(1086)),l(_,{readable:y,writable:w},function(H){if(H)return I(H);k=!0,I()});var B=!1;return function(H){if(!k&&!B)return B=!0,function(P){return P.setHeader&&typeof P.abort=="function"}(_)?_.abort():typeof _.destroy=="function"?_.destroy():void I(H||new f("pipe"))}}function C(_){_()}function T(_,y){return _.pipe(y)}function S(_){return _.length?typeof _[_.length-1]!="function"?g:_.pop():g}s.exports=function(){for(var _=arguments.length,y=new Array(_),w=0;w<_;w++)y[w]=arguments[w];var I,k=S(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new h("streams");var B=y.map(function(H,P){var R=P<y.length-1;return b(H,R,P>0,function(F){I||(I=F),F&&B.forEach(C),R||(B.forEach(C),k(I))})});return y.reduce(T)}},94:(s,c,a)=>{var l=a(8106).q.ERR_INVALID_OPT_VALUE;s.exports={getHighWaterMark:function(u,h,f,g){var b=function(C,T,S){return C.highWaterMark!=null?C.highWaterMark:T?C[S]:null}(h,g,f);if(b!=null){if(!isFinite(b)||Math.floor(b)!==b||b<0)throw new l(g?f:"highWaterMark",b);return Math.floor(b)}return u.objectMode?16:16384}}},3194:(s,c,a)=>{s.exports=a(7187).EventEmitter},2553:(s,c,a)=>{var l=a(9509).Buffer,u=l.isEncoding||function(w){switch((w=""+w)&&w.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function h(w){var I;switch(this.encoding=function(k){var B=function(H){if(!H)return"utf8";for(var P;;)switch(H){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return H;default:if(P)return;H=(""+H).toLowerCase(),P=!0}}(k);if(typeof B!="string"&&(l.isEncoding===u||!u(k)))throw new Error("Unknown encoding: "+k);return B||k}(w),this.encoding){case"utf16le":this.text=b,this.end=C,I=4;break;case"utf8":this.fillLast=g,I=4;break;case"base64":this.text=T,this.end=S,I=3;break;default:return this.write=_,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=l.allocUnsafe(I)}function f(w){return w<=127?0:w>>5==6?2:w>>4==14?3:w>>3==30?4:w>>6==2?-1:-2}function g(w){var I=this.lastTotal-this.lastNeed,k=function(B,H,P){if((192&H[0])!=128)return B.lastNeed=0,"�";if(B.lastNeed>1&&H.length>1){if((192&H[1])!=128)return B.lastNeed=1,"�";if(B.lastNeed>2&&H.length>2&&(192&H[2])!=128)return B.lastNeed=2,"�"}}(this,w);return k!==void 0?k:this.lastNeed<=w.length?(w.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(w.copy(this.lastChar,I,0,w.length),void(this.lastNeed-=w.length))}function b(w,I){if((w.length-I)%2==0){var k=w.toString("utf16le",I);if(k){var B=k.charCodeAt(k.length-1);if(B>=55296&&B<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1],k.slice(0,-1)}return k}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=w[w.length-1],w.toString("utf16le",I,w.length-1)}function C(w){var I=w&&w.length?this.write(w):"";if(this.lastNeed){var k=this.lastTotal-this.lastNeed;return I+this.lastChar.toString("utf16le",0,k)}return I}function T(w,I){var k=(w.length-I)%3;return k===0?w.toString("base64",I):(this.lastNeed=3-k,this.lastTotal=3,k===1?this.lastChar[0]=w[w.length-1]:(this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1]),w.toString("base64",I,w.length-k))}function S(w){var I=w&&w.length?this.write(w):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function _(w){return w.toString(this.encoding)}function y(w){return w&&w.length?this.write(w):""}c.s=h,h.prototype.write=function(w){if(w.length===0)return"";var I,k;if(this.lastNeed){if((I=this.fillLast(w))===void 0)return"";k=this.lastNeed,this.lastNeed=0}else k=0;return k<w.length?I?I+this.text(w,k):this.text(w,k):I||""},h.prototype.end=function(w){var I=w&&w.length?this.write(w):"";return this.lastNeed?I+"�":I},h.prototype.text=function(w,I){var k=function(H,P,R){var F=P.length-1;if(F<R)return 0;var M=f(P[F]);return M>=0?(M>0&&(H.lastNeed=M-1),M):--F<R||M===-2?0:(M=f(P[F]))>=0?(M>0&&(H.lastNeed=M-2),M):--F<R||M===-2?0:(M=f(P[F]))>=0?(M>0&&(M===2?M=0:H.lastNeed=M-3),M):0}(this,w,I);if(!this.lastNeed)return w.toString("utf8",I);this.lastTotal=k;var B=w.length-(k-this.lastNeed);return w.copy(this.lastChar,0,B),w.toString("utf8",I,B)},h.prototype.fillLast=function(w){if(this.lastNeed<=w.length)return w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,w.length),this.lastNeed-=w.length}},5457:(s,c,a)=>{a.d(c,{vw:()=>h,rq:()=>u,EL:()=>g,NY:()=>f});let l=0;const u=b=>Math.floor(b/25.4*72*20),h=b=>Math.floor(72*b*20),f=()=>++l,g=()=>((b=21)=>{let C="",T=b;for(;T--;)C+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return C})().toLowerCase()},5575:(s,c,a)=>{a.r(c),a.d(c,{convertInchesToTwip:()=>l.vw,convertMillimetersToTwip:()=>l.rq,dateTimeValue:()=>u.sF,decimalNumber:()=>u.vH,eighthPointMeasureValue:()=>u.LV,hexColorValue:()=>u.dg,hpsMeasureValue:()=>u.KR,longHexNumber:()=>u.mA,measurementOrPercentValue:()=>u.aB,percentageValue:()=>u.wp,pointMeasureValue:()=>u.gg,positiveUniversalMeasureValue:()=>u._p,shortHexNumber:()=>u.G0,signedHpsMeasureValue:()=>u.Rg,signedTwipsMeasureValue:()=>u.xb,twipsMeasureValue:()=>u.Jd,uCharHexNumber:()=>u.xD,uniqueId:()=>l.EL,uniqueNumericId:()=>l.NY,universalMeasureValue:()=>u.KC,unsignedDecimalNumber:()=>u.f$});var l=a(5457),u=a(6595)},6595:(s,c,a)=>{a.d(c,{G0:()=>g,Jd:()=>I,KC:()=>C,KR:()=>y,LV:()=>H,Rg:()=>w,_p:()=>T,aB:()=>B,dg:()=>S,f$:()=>u,gg:()=>P,mA:()=>f,sF:()=>R,vH:()=>l,wp:()=>k,xD:()=>b,xb:()=>_});const l=F=>{if(isNaN(F))throw new Error(`Invalid value '${F}' specified. Must be an integer.`);return Math.floor(F)},u=F=>{const M=l(F);if(M<0)throw new Error(`Invalid value '${F}' specified. Must be a positive integer.`);return M},h=(F,M)=>{const G=2*M;if(F.length!==G||isNaN(+`0x${F}`))throw new Error(`Invalid hex value '${F}'. Expected ${G} digit hex value`);return F},f=F=>h(F,4),g=F=>h(F,2),b=F=>h(F,1),C=F=>{const M=F.slice(-2),G=F.substring(0,F.length-2);return`${Number(G)}${M}`},T=F=>{const M=C(F);if(parseFloat(M)<0)throw new Error(`Invalid value '${M}' specified. Expected a positive number.`);return M},S=F=>{if(F==="auto")return F;const M=F.charAt(0)==="#"?F.substring(1):F;return h(M,3)},_=F=>typeof F=="string"?C(F):l(F),y=F=>typeof F=="string"?T(F):u(F),w=F=>typeof F=="string"?C(F):l(F),I=F=>typeof F=="string"?T(F):u(F),k=F=>{const M=F.substring(0,F.length-1);return`${Number(M)}%`},B=F=>typeof F=="number"?l(F):F.slice(-1)==="%"?k(F):C(F),H=u,P=u,R=F=>F.toISOString()},4927:(s,c,a)=>{function l(u){try{if(!a.g.localStorage)return!1}catch{return!1}var h=a.g.localStorage[u];return h!=null&&String(h).toLowerCase()==="true"}s.exports=function(u,h){if(l("noDeprecation"))return u;var f=!1;return function(){if(!f){if(l("throwDeprecation"))throw new Error(h);l("traceDeprecation")?console.trace(h):console.warn(h),f=!0}return u.apply(this,arguments)}}},9881:s=>{s.exports={isArray:function(c){return Array.isArray?Array.isArray(c):Object.prototype.toString.call(c)==="[object Array]"}}},7888:(s,c,a)=>{var l=a(1229),u=a(1388),h=a(6501),f=a(4673);s.exports={xml2js:l,xml2json:u,js2xml:h,json2xml:f}},6501:(s,c,a)=>{var l,u,h=a(4740),f=a(9881).isArray;function g(P,R,F){return(!F&&P.spaces?`
`:"")+Array(R+1).join(P.spaces)}function b(P,R,F){if(R.ignoreAttributes)return"";"attributesFn"in R&&(P=R.attributesFn(P,u,l));var M,G,E,ne,re=[];for(M in P)P.hasOwnProperty(M)&&P[M]!==null&&P[M]!==void 0&&(ne=R.noQuotesForNativeAttributes&&typeof P[M]!="string"?"":'"',G=(G=""+P[M]).replace(/"/g,"&quot;"),E="attributeNameFn"in R?R.attributeNameFn(M,G,u,l):M,re.push(R.spaces&&R.indentAttributes?g(R,F+1,!1):" "),re.push(E+"="+ne+("attributeValueFn"in R?R.attributeValueFn(G,M,u,l):G)+ne));return P&&Object.keys(P).length&&R.spaces&&R.indentAttributes&&re.push(g(R,F,!1)),re.join("")}function C(P,R,F){return l=P,u="xml",R.ignoreDeclaration?"":"<?xml"+b(P[R.attributesKey],R,F)+"?>"}function T(P,R,F){if(R.ignoreInstruction)return"";var M;for(M in P)if(P.hasOwnProperty(M))break;var G="instructionNameFn"in R?R.instructionNameFn(M,P[M],u,l):M;if(typeof P[M]=="object")return l=P,u=G,"<?"+G+b(P[M][R.attributesKey],R,F)+"?>";var E=P[M]?P[M]:"";return"instructionFn"in R&&(E=R.instructionFn(E,M,u,l)),"<?"+G+(E?" "+E:"")+"?>"}function S(P,R){return R.ignoreComment?"":"<!--"+("commentFn"in R?R.commentFn(P,u,l):P)+"-->"}function _(P,R){return R.ignoreCdata?"":"<![CDATA["+("cdataFn"in R?R.cdataFn(P,u,l):P.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function y(P,R){return R.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in R?R.doctypeFn(P,u,l):P)+">"}function w(P,R){return R.ignoreText?"":(P=(P=(P=""+P).replace(/&amp;/g,"&")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in R?R.textFn(P,u,l):P)}function I(P,R,F,M){return P.reduce(function(G,E){var ne=g(R,F,M&&!G);switch(E.type){case"element":return G+ne+function(Q,_e,be){l=Q,u=Q.name;var Ce=[],x="elementNameFn"in _e?_e.elementNameFn(Q.name,Q):Q.name;Ce.push("<"+x),Q[_e.attributesKey]&&Ce.push(b(Q[_e.attributesKey],_e,be));var $=Q[_e.elementsKey]&&Q[_e.elementsKey].length||Q[_e.attributesKey]&&Q[_e.attributesKey]["xml:space"]==="preserve";return $||($="fullTagEmptyElementFn"in _e?_e.fullTagEmptyElementFn(Q.name,Q):_e.fullTagEmptyElement),$?(Ce.push(">"),Q[_e.elementsKey]&&Q[_e.elementsKey].length&&(Ce.push(I(Q[_e.elementsKey],_e,be+1)),l=Q,u=Q.name),Ce.push(_e.spaces&&function(oe,z){var Y;if(oe.elements&&oe.elements.length)for(Y=0;Y<oe.elements.length;++Y)switch(oe.elements[Y][z.typeKey]){case"text":if(z.indentText)return!0;break;case"cdata":if(z.indentCdata)return!0;break;case"instruction":if(z.indentInstruction)return!0;break;default:return!0}return!1}(Q,_e)?`
`+Array(be+1).join(_e.spaces):""),Ce.push("</"+x+">")):Ce.push("/>"),Ce.join("")}(E,R,F);case"comment":return G+ne+S(E[R.commentKey],R);case"doctype":return G+ne+y(E[R.doctypeKey],R);case"cdata":return G+(R.indentCdata?ne:"")+_(E[R.cdataKey],R);case"text":return G+(R.indentText?ne:"")+w(E[R.textKey],R);case"instruction":var re={};return re[E[R.nameKey]]=E[R.attributesKey]?E:E[R.instructionKey],G+(R.indentInstruction?ne:"")+T(re,R,F)}},"")}function k(P,R,F){var M;for(M in P)if(P.hasOwnProperty(M))switch(M){case R.parentKey:case R.attributesKey:break;case R.textKey:if(R.indentText||F)return!0;break;case R.cdataKey:if(R.indentCdata||F)return!0;break;case R.instructionKey:if(R.indentInstruction||F)return!0;break;case R.doctypeKey:case R.commentKey:default:return!0}return!1}function B(P,R,F,M,G){l=P,u=R;var E="elementNameFn"in F?F.elementNameFn(R,P):R;if(P==null||P==="")return"fullTagEmptyElementFn"in F&&F.fullTagEmptyElementFn(R,P)||F.fullTagEmptyElement?"<"+E+"></"+E+">":"<"+E+"/>";var ne=[];if(R){if(ne.push("<"+E),typeof P!="object")return ne.push(">"+w(P,F)+"</"+E+">"),ne.join("");P[F.attributesKey]&&ne.push(b(P[F.attributesKey],F,M));var re=k(P,F,!0)||P[F.attributesKey]&&P[F.attributesKey]["xml:space"]==="preserve";if(re||(re="fullTagEmptyElementFn"in F?F.fullTagEmptyElementFn(R,P):F.fullTagEmptyElement),!re)return ne.push("/>"),ne.join("");ne.push(">")}return ne.push(H(P,F,M+1,!1)),l=P,u=R,R&&ne.push((G?g(F,M,!1):"")+"</"+E+">"),ne.join("")}function H(P,R,F,M){var G,E,ne,re=[];for(E in P)if(P.hasOwnProperty(E))for(ne=f(P[E])?P[E]:[P[E]],G=0;G<ne.length;++G){switch(E){case R.declarationKey:re.push(C(ne[G],R,F));break;case R.instructionKey:re.push((R.indentInstruction?g(R,F,M):"")+T(ne[G],R,F));break;case R.attributesKey:case R.parentKey:break;case R.textKey:re.push((R.indentText?g(R,F,M):"")+w(ne[G],R));break;case R.cdataKey:re.push((R.indentCdata?g(R,F,M):"")+_(ne[G],R));break;case R.doctypeKey:re.push(g(R,F,M)+y(ne[G],R));break;case R.commentKey:re.push(g(R,F,M)+S(ne[G],R));break;default:re.push(g(R,F,M)+B(ne[G],E,R,F,k(ne[G],R)))}M=M&&!re.length}return re.join("")}s.exports=function(P,R){R=function(M){var G=h.copyOptions(M);return h.ensureFlagExists("ignoreDeclaration",G),h.ensureFlagExists("ignoreInstruction",G),h.ensureFlagExists("ignoreAttributes",G),h.ensureFlagExists("ignoreText",G),h.ensureFlagExists("ignoreComment",G),h.ensureFlagExists("ignoreCdata",G),h.ensureFlagExists("ignoreDoctype",G),h.ensureFlagExists("compact",G),h.ensureFlagExists("indentText",G),h.ensureFlagExists("indentCdata",G),h.ensureFlagExists("indentAttributes",G),h.ensureFlagExists("indentInstruction",G),h.ensureFlagExists("fullTagEmptyElement",G),h.ensureFlagExists("noQuotesForNativeAttributes",G),h.ensureSpacesExists(G),typeof G.spaces=="number"&&(G.spaces=Array(G.spaces+1).join(" ")),h.ensureKeyExists("declaration",G),h.ensureKeyExists("instruction",G),h.ensureKeyExists("attributes",G),h.ensureKeyExists("text",G),h.ensureKeyExists("comment",G),h.ensureKeyExists("cdata",G),h.ensureKeyExists("doctype",G),h.ensureKeyExists("type",G),h.ensureKeyExists("name",G),h.ensureKeyExists("elements",G),h.checkFnExists("doctype",G),h.checkFnExists("instruction",G),h.checkFnExists("cdata",G),h.checkFnExists("comment",G),h.checkFnExists("text",G),h.checkFnExists("instructionName",G),h.checkFnExists("elementName",G),h.checkFnExists("attributeName",G),h.checkFnExists("attributeValue",G),h.checkFnExists("attributes",G),h.checkFnExists("fullTagEmptyElement",G),G}(R);var F=[];return l=P,u="_root_",R.compact?F.push(H(P,R,0,!0)):(P[R.declarationKey]&&F.push(C(P[R.declarationKey],R,0)),P[R.elementsKey]&&P[R.elementsKey].length&&F.push(I(P[R.elementsKey],R,0,!F.length))),F.join("")}},4673:(s,c,a)=>{var l=a(6501);s.exports=function(u,h){u instanceof Buffer&&(u=u.toString());var f=null;if(typeof u=="string")try{f=JSON.parse(u)}catch{throw new Error("The JSON structure is invalid")}else f=u;return l(f,h)}},4740:(s,c,a)=>{var l=a(9881).isArray;s.exports={copyOptions:function(u){var h,f={};for(h in u)u.hasOwnProperty(h)&&(f[h]=u[h]);return f},ensureFlagExists:function(u,h){u in h&&typeof h[u]=="boolean"||(h[u]=!1)},ensureSpacesExists:function(u){(!("spaces"in u)||typeof u.spaces!="number"&&typeof u.spaces!="string")&&(u.spaces=0)},ensureAlwaysArrayExists:function(u){"alwaysArray"in u&&(typeof u.alwaysArray=="boolean"||l(u.alwaysArray))||(u.alwaysArray=!1)},ensureKeyExists:function(u,h){u+"Key"in h&&typeof h[u+"Key"]=="string"||(h[u+"Key"]=h.compact?"_"+u:u)},checkFnExists:function(u,h){return u+"Fn"in h}}},1229:(s,c,a)=>{var l,u,h=a(6099),f=a(4740),g=a(9881).isArray;function b(P){var R=Number(P);if(!isNaN(R))return R;var F=P.toLowerCase();return F==="true"||F!=="false"&&P}function C(P,R){var F;if(l.compact){if(!u[l[P+"Key"]]&&(g(l.alwaysArray)?l.alwaysArray.indexOf(l[P+"Key"])!==-1:l.alwaysArray)&&(u[l[P+"Key"]]=[]),u[l[P+"Key"]]&&!g(u[l[P+"Key"]])&&(u[l[P+"Key"]]=[u[l[P+"Key"]]]),P+"Fn"in l&&typeof R=="string"&&(R=l[P+"Fn"](R,u)),P==="instruction"&&("instructionFn"in l||"instructionNameFn"in l)){for(F in R)if(R.hasOwnProperty(F))if("instructionFn"in l)R[F]=l.instructionFn(R[F],F,u);else{var M=R[F];delete R[F],R[l.instructionNameFn(F,M,u)]=M}}g(u[l[P+"Key"]])?u[l[P+"Key"]].push(R):u[l[P+"Key"]]=R}else{u[l.elementsKey]||(u[l.elementsKey]=[]);var G={};if(G[l.typeKey]=P,P==="instruction"){for(F in R)if(R.hasOwnProperty(F))break;G[l.nameKey]="instructionNameFn"in l?l.instructionNameFn(F,R,u):F,l.instructionHasAttributes?(G[l.attributesKey]=R[F][l.attributesKey],"instructionFn"in l&&(G[l.attributesKey]=l.instructionFn(G[l.attributesKey],F,u))):("instructionFn"in l&&(R[F]=l.instructionFn(R[F],F,u)),G[l.instructionKey]=R[F])}else P+"Fn"in l&&(R=l[P+"Fn"](R,u)),G[l[P+"Key"]]=R;l.addParent&&(G[l.parentKey]=u),u[l.elementsKey].push(G)}}function T(P){var R;if("attributesFn"in l&&P&&(P=l.attributesFn(P,u)),(l.trim||"attributeValueFn"in l||"attributeNameFn"in l||l.nativeTypeAttributes)&&P){for(R in P)if(P.hasOwnProperty(R)&&(l.trim&&(P[R]=P[R].trim()),l.nativeTypeAttributes&&(P[R]=b(P[R])),"attributeValueFn"in l&&(P[R]=l.attributeValueFn(P[R],R,u)),"attributeNameFn"in l)){var F=P[R];delete P[R],P[l.attributeNameFn(R,P[R],u)]=F}}return P}function S(P){var R={};if(P.body&&(P.name.toLowerCase()==="xml"||l.instructionHasAttributes)){for(var F,M=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g;(F=M.exec(P.body))!==null;)R[F[1]]=F[2]||F[3]||F[4];R=T(R)}if(P.name.toLowerCase()==="xml"){if(l.ignoreDeclaration)return;u[l.declarationKey]={},Object.keys(R).length&&(u[l.declarationKey][l.attributesKey]=R),l.addParent&&(u[l.declarationKey][l.parentKey]=u)}else{if(l.ignoreInstruction)return;l.trim&&(P.body=P.body.trim());var G={};l.instructionHasAttributes&&Object.keys(R).length?(G[P.name]={},G[P.name][l.attributesKey]=R):G[P.name]=P.body,C("instruction",G)}}function _(P,R){var F;if(typeof P=="object"&&(R=P.attributes,P=P.name),R=T(R),"elementNameFn"in l&&(P=l.elementNameFn(P,u)),l.compact){var M;if(F={},!l.ignoreAttributes&&R&&Object.keys(R).length)for(M in F[l.attributesKey]={},R)R.hasOwnProperty(M)&&(F[l.attributesKey][M]=R[M]);!(P in u)&&(g(l.alwaysArray)?l.alwaysArray.indexOf(P)!==-1:l.alwaysArray)&&(u[P]=[]),u[P]&&!g(u[P])&&(u[P]=[u[P]]),g(u[P])?u[P].push(F):u[P]=F}else u[l.elementsKey]||(u[l.elementsKey]=[]),(F={})[l.typeKey]="element",F[l.nameKey]=P,!l.ignoreAttributes&&R&&Object.keys(R).length&&(F[l.attributesKey]=R),l.alwaysChildren&&(F[l.elementsKey]=[]),u[l.elementsKey].push(F);F[l.parentKey]=u,u=F}function y(P){l.ignoreText||(P.trim()||l.captureSpacesBetweenElements)&&(l.trim&&(P=P.trim()),l.nativeType&&(P=b(P)),l.sanitize&&(P=P.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),C("text",P))}function w(P){l.ignoreComment||(l.trim&&(P=P.trim()),C("comment",P))}function I(P){var R=u[l.parentKey];l.addParent||delete u[l.parentKey],u=R}function k(P){l.ignoreCdata||(l.trim&&(P=P.trim()),C("cdata",P))}function B(P){l.ignoreDoctype||(P=P.replace(/^ /,""),l.trim&&(P=P.trim()),C("doctype",P))}function H(P){P.note=P}s.exports=function(P,R){var F=h.parser(!0,{}),M={};if(u=M,l=function(E){return l=f.copyOptions(E),f.ensureFlagExists("ignoreDeclaration",l),f.ensureFlagExists("ignoreInstruction",l),f.ensureFlagExists("ignoreAttributes",l),f.ensureFlagExists("ignoreText",l),f.ensureFlagExists("ignoreComment",l),f.ensureFlagExists("ignoreCdata",l),f.ensureFlagExists("ignoreDoctype",l),f.ensureFlagExists("compact",l),f.ensureFlagExists("alwaysChildren",l),f.ensureFlagExists("addParent",l),f.ensureFlagExists("trim",l),f.ensureFlagExists("nativeType",l),f.ensureFlagExists("nativeTypeAttributes",l),f.ensureFlagExists("sanitize",l),f.ensureFlagExists("instructionHasAttributes",l),f.ensureFlagExists("captureSpacesBetweenElements",l),f.ensureAlwaysArrayExists(l),f.ensureKeyExists("declaration",l),f.ensureKeyExists("instruction",l),f.ensureKeyExists("attributes",l),f.ensureKeyExists("text",l),f.ensureKeyExists("comment",l),f.ensureKeyExists("cdata",l),f.ensureKeyExists("doctype",l),f.ensureKeyExists("type",l),f.ensureKeyExists("name",l),f.ensureKeyExists("elements",l),f.ensureKeyExists("parent",l),f.checkFnExists("doctype",l),f.checkFnExists("instruction",l),f.checkFnExists("cdata",l),f.checkFnExists("comment",l),f.checkFnExists("text",l),f.checkFnExists("instructionName",l),f.checkFnExists("elementName",l),f.checkFnExists("attributeName",l),f.checkFnExists("attributeValue",l),f.checkFnExists("attributes",l),l}(R),F.opt={strictEntities:!0},F.onopentag=_,F.ontext=y,F.oncomment=w,F.onclosetag=I,F.onerror=H,F.oncdata=k,F.ondoctype=B,F.onprocessinginstruction=S,F.write(P).close(),M[l.elementsKey]){var G=M[l.elementsKey];delete M[l.elementsKey],M[l.elementsKey]=G,delete M.text}return M}},1388:(s,c,a)=>{var l=a(4740),u=a(1229);s.exports=function(h,f){var g,b,C;return g=function(T){var S=l.copyOptions(T);return l.ensureSpacesExists(S),S}(f),b=u(h,g),C="compact"in g&&g.compact?"_parent":"parent",("addParent"in g&&g.addParent?JSON.stringify(b,function(T,S){return T===C?"_":S},g.spaces):JSON.stringify(b,null,g.spaces)).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}},255:s=>{var c={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};s.exports=function(a){return a&&a.replace?a.replace(/([&"<>'])/g,function(l,u){return c[u]}):a}},3479:(s,c,a)=>{var l=a(4155),u=a(255),h=a(2830).Stream;function f(b,C,T){T=T||0;var S,_,y=(S=C,new Array(T||0).join(S||"")),w=b;if(typeof b=="object"&&(w=b[_=Object.keys(b)[0]])&&w._elem)return w._elem.name=_,w._elem.icount=T,w._elem.indent=C,w._elem.indents=y,w._elem.interrupt=w,w._elem;var I,k=[],B=[];function H(P){Object.keys(P).forEach(function(R){k.push(function(F,M){return F+'="'+u(M)+'"'}(R,P[R]))})}switch(typeof w){case"object":if(w===null)break;w._attr&&H(w._attr),w._cdata&&B.push(("<![CDATA["+w._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),w.forEach&&(I=!1,B.push(""),w.forEach(function(P){typeof P=="object"?Object.keys(P)[0]=="_attr"?H(P._attr):B.push(f(P,C,T+1)):(B.pop(),I=!0,B.push(u(P)))}),I||B.push(""));break;default:B.push(u(w))}return{name:_,interrupt:!1,attributes:k,content:B,icount:T,indents:y,indent:C}}function g(b,C,T){if(typeof C!="object")return b(!1,C);var S=C.interrupt?1:C.content.length;function _(){for(;C.content.length;){var w=C.content.shift();if(w!==void 0){if(y(w))return;g(b,w)}}b(!1,(S>1?C.indents:"")+(C.name?"</"+C.name+">":"")+(C.indent&&!T?`
`:"")),T&&T()}function y(w){return!!w.interrupt&&(w.interrupt.append=b,w.interrupt.end=_,w.interrupt=!1,b(!0),!0)}if(b(!1,C.indents+(C.name?"<"+C.name:"")+(C.attributes.length?" "+C.attributes.join(" "):"")+(S?C.name?">":"":C.name?"/>":"")+(C.indent&&S>1?`
`:"")),!S)return b(!1,C.indent?`
`:"");y(C)||_()}s.exports=function(b,C){typeof C!="object"&&(C={indent:C});var T,S,_=C.stream?new h:null,y="",w=!1,I=C.indent?C.indent===!0?"    ":C.indent:"",k=!0;function B(F){k?l.nextTick(F):F()}function H(F,M){if(M!==void 0&&(y+=M),F&&!w&&(_=_||new h,w=!0),F&&w){var G=y;B(function(){_.emit("data",G)}),y=""}}function P(F,M){g(H,f(F,I,I?1:0),M)}function R(){if(_){var F=y;B(function(){_.emit("data",F),_.emit("end"),_.readable=!1,_.emit("close")})}}return B(function(){k=!1}),C.declaration&&(S={version:"1.0",encoding:(T=C.declaration).encoding||"UTF-8"},T.standalone&&(S.standalone=T.standalone),P({"?xml":{_attr:S}}),y=y.replace("/>","?>")),b&&b.forEach?b.forEach(function(F,M){var G;M+1===b.length&&(G=R),P(F,G)}):P(b,R),_?(_.readable=!0,_):y},s.exports.element=s.exports.Element=function(){var b=Array.prototype.slice.call(arguments),C={_elem:f(b),push:function(T){if(!this.append)throw new Error("not assigned to a parent!");var S=this,_=this._elem.indent;g(this.append,f(T,_,this._elem.icount+(_?1:0)),function(){S.append(!0)})},close:function(T){T!==void 0&&this.push(T),this.end&&this.end()}};return C}}},i={};function n(s){var c=i[s];if(c!==void 0)return c.exports;var a=i[s]={exports:{}};return o[s].call(a.exports,a,a.exports,n),a.exports}n.d=(s,c)=>{for(var a in c)n.o(c,a)&&!n.o(s,a)&&Object.defineProperty(s,a,{enumerable:!0,get:c[a]})},n.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),n.o=(s,c)=>Object.prototype.hasOwnProperty.call(s,c),n.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var r={};return(()=>{n.r(r),n.d(r,{AbstractNumbering:()=>ac,Alignment:()=>q,AlignmentAttributes:()=>Y,AlignmentType:()=>w,AnnotationReference:()=>Mw,Attributes:()=>f,BaseEmphasisMark:()=>A,BaseXmlComponent:()=>s,Body:()=>af,Bookmark:()=>jh,BookmarkEnd:()=>Vh,BookmarkStart:()=>qh,Border:()=>se,BorderElement:()=>W,BorderStyle:()=>I,BuilderElement:()=>z,CarriageReturn:()=>jw,Column:()=>sE,ColumnBreak:()=>Qw,Columns:()=>Qh,Comment:()=>kh,CommentRangeEnd:()=>Cw,CommentRangeStart:()=>Nw,CommentReference:()=>Sw,Comments:()=>Oh,ConcreteHyperlink:()=>vi,ConcreteNumbering:()=>lc,ContinuationSeparator:()=>Uw,DayLong:()=>Dw,DayShort:()=>Tw,DeletedTextRun:()=>mA,DocGridAttributes:()=>Gh,Document:()=>Kf,DocumentAttributes:()=>gi,DocumentBackground:()=>cf,DocumentBackgroundAttributes:()=>lf,DocumentDefaults:()=>Qf,DocumentGrid:()=>Kh,DocumentGridType:()=>Tl,DotEmphasisMark:()=>j,Drawing:()=>Ph,DropCapType:()=>Vl,EMPTY_OBJECT:()=>c,EmphasisMark:()=>D,EmphasisMarkType:()=>M,EmptyElement:()=>be,EndnoteReference:()=>Fw,ExternalHyperlink:()=>jl,File:()=>Kf,FootNoteReferenceRunAttributes:()=>Wf,FootNotes:()=>Ff,Footer:()=>cA,FooterWrapper:()=>Lf,FootnoteReference:()=>Jf,FootnoteReferenceElement:()=>Lw,FootnoteReferenceRun:()=>uA,FrameAnchorType:()=>Hl,FrameProperties:()=>hf,FramePropertiesAttributes:()=>df,FrameWrap:()=>zl,GridSpan:()=>xf,Header:()=>lA,HeaderFooterReference:()=>ks,HeaderFooterReferenceType:()=>qo,HeaderFooterType:()=>ar,HeaderWrapper:()=>Bf,HeadingLevel:()=>Nl,HeightRule:()=>oc,HorizontalPosition:()=>wh,HorizontalPositionAlign:()=>B,HorizontalPositionRelativeFrom:()=>Is,HpsMeasureElement:()=>_e,HyperlinkType:()=>xl,IgnoreIfEmptyXmlComponent:()=>l,ImageRun:()=>gw,ImportedRootElementAttributes:()=>S,ImportedXmlComponent:()=>T,Indent:()=>U,InitializableXmlComponent:()=>y,InsertedTextRun:()=>dA,InternalHyperlink:()=>Xw,LastRenderedPageBreak:()=>Vw,LeaderType:()=>Cl,Level:()=>Uf,LevelBase:()=>sc,LevelForOverride:()=>S1,LevelFormat:()=>uo,LevelOverride:()=>$f,LevelSuffix:()=>nc,LineNumberRestartFormat:()=>Rl,LineNumberType:()=>Wh,LineRuleType:()=>mi,Math:()=>dE,MathAccentCharacter:()=>mf,MathAngledBrackets:()=>UE,MathBase:()=>ro,MathCurlyBrackets:()=>BE,MathDegree:()=>Ef,MathDenominator:()=>ff,MathFraction:()=>pE,MathFunction:()=>PE,MathFunctionName:()=>_f,MathFunctionProperties:()=>Nf,MathIntegral:()=>AE,MathLimitLocation:()=>vf,MathNAryProperties:()=>Ql,MathNumerator:()=>pf,MathPreSubSuperScript:()=>SE,MathPreSubSuperScriptProperties:()=>wf,MathRadical:()=>RE,MathRadicalProperties:()=>Af,MathRoundBrackets:()=>LE,MathRun:()=>fE,MathSquareBrackets:()=>FE,MathSubScript:()=>NE,MathSubScriptElement:()=>bi,MathSubScriptProperties:()=>bf,MathSubSuperScript:()=>CE,MathSubSuperScriptProperties:()=>yf,MathSum:()=>EE,MathSuperScript:()=>_E,MathSuperScriptElement:()=>yi,MathSuperScriptProperties:()=>gf,Media:()=>rc,MonthLong:()=>kw,MonthShort:()=>Rw,NextAttributeComponent:()=>h,NoBreakHyphen:()=>xw,NumberFormat:()=>P,NumberProperties:()=>Ul,NumberValueElement:()=>x,Numbering:()=>jf,OnOffElement:()=>Q,OutlineLevel:()=>Hh,OverlapType:()=>ec,Packer:()=>Xf,PageBorderDisplay:()=>Pl,PageBorderOffsetFrom:()=>Dl,PageBorderZOrder:()=>kl,PageBorders:()=>Yh,PageBreak:()=>zw,PageBreakBefore:()=>Lh,PageMargin:()=>Zh,PageNumber:()=>ne,PageNumberElement:()=>$w,PageNumberSeparator:()=>Ol,PageNumberType:()=>ef,PageNumberTypeAttributes:()=>Xh,PageOrientation:()=>lr,PageReference:()=>nE,PageSize:()=>tf,PageTextDirection:()=>of,PageTextDirectionType:()=>Ml,Paragraph:()=>on,ParagraphProperties:()=>On,ParagraphPropertiesDefaults:()=>Hf,PatchType:()=>mr,PositionalTab:()=>Hw,PositionalTabAlignment:()=>El,PositionalTabLeader:()=>_l,PositionalTabRelativeTo:()=>Al,PrettifyType:()=>dc,RelativeHorizontalPosition:()=>Zl,RelativeVerticalPosition:()=>Xl,Run:()=>Yt,RunFonts:()=>Je,RunProperties:()=>wo,RunPropertiesChange:()=>mh,RunPropertiesDefaults:()=>zf,SectionProperties:()=>sf,SectionType:()=>Ll,SectionTypeAttributes:()=>nf,Separator:()=>Bw,SequentialIdentifier:()=>yw,Shading:()=>De,ShadingType:()=>F,SimpleField:()=>Dh,SimpleMailMergeField:()=>Ew,SimplePos:()=>gh,SoftHyphen:()=>Iw,SpaceType:()=>R,Spacing:()=>Fh,StringContainer:()=>oe,StringEnumValueElement:()=>$,StringValueElement:()=>Ce,Style:()=>cr,StyleForCharacter:()=>fr,StyleForParagraph:()=>hr,StyleLevel:()=>aA,Styles:()=>Bs,SymbolRun:()=>I0,TDirection:()=>If,Tab:()=>qw,TabAttributes:()=>Uh,TabStop:()=>Bh,TabStopItem:()=>$h,TabStopPosition:()=>Sl,TabStopType:()=>sr,Table:()=>GE,TableAnchorType:()=>Yl,TableBorders:()=>Jl,TableCell:()=>Wl,TableCellBorders:()=>Sf,TableFloatProperties:()=>Tf,TableLayout:()=>Rf,TableLayoutType:()=>tc,TableOfContents:()=>sA,TableProperties:()=>Pf,TableRow:()=>KE,TableRowHeight:()=>kf,TableRowHeightAttributes:()=>Df,TableRowProperties:()=>Of,TableWidthElement:()=>nn,TextDirection:()=>Gl,TextEffect:()=>E,TextRun:()=>rr,TextWrappingSide:()=>Rs,TextWrappingType:()=>kn,ThematicBreak:()=>ae,Type:()=>rf,Underline:()=>io,UnderlineType:()=>G,VerticalAlign:()=>Il,VerticalAlignAttributes:()=>zh,VerticalAlignElement:()=>ql,VerticalMerge:()=>Kl,VerticalMergeType:()=>dr,VerticalPosition:()=>Eh,VerticalPositionAlign:()=>H,VerticalPositionRelativeFrom:()=>Ts,WORKAROUND2:()=>oA,WORKAROUND3:()=>_,WORKAROUND4:()=>xE,WidthType:()=>wi,WrapNone:()=>Fl,WrapSquare:()=>Nh,WrapTight:()=>Ch,WrapTopAndBottom:()=>Sh,XmlAttributeComponent:()=>u,XmlComponent:()=>a,YearLong:()=>Ow,YearShort:()=>Pw,convertInchesToTwip:()=>Nt.convertInchesToTwip,convertMillimetersToTwip:()=>Nt.convertMillimetersToTwip,convertToXmlComponent:()=>b,dateTimeValue:()=>Nt.dateTimeValue,decimalNumber:()=>Nt.decimalNumber,eighthPointMeasureValue:()=>Nt.eighthPointMeasureValue,hexColorValue:()=>Nt.hexColorValue,hpsMeasureValue:()=>Nt.hpsMeasureValue,longHexNumber:()=>Nt.longHexNumber,measurementOrPercentValue:()=>Nt.measurementOrPercentValue,patchDocument:()=>TA,percentageValue:()=>Nt.percentageValue,pointMeasureValue:()=>Nt.pointMeasureValue,positiveUniversalMeasureValue:()=>Nt.positiveUniversalMeasureValue,sectionMarginDefaults:()=>tn,sectionPageSizeDefaults:()=>Os,shortHexNumber:()=>Nt.shortHexNumber,signedHpsMeasureValue:()=>Nt.signedHpsMeasureValue,signedTwipsMeasureValue:()=>Nt.signedTwipsMeasureValue,twipsMeasureValue:()=>Nt.twipsMeasureValue,uCharHexNumber:()=>Nt.uCharHexNumber,uniqueId:()=>Nt.uniqueId,uniqueNumericId:()=>Nt.uniqueNumericId,universalMeasureValue:()=>Nt.universalMeasureValue,unsignedDecimalNumber:()=>Nt.unsignedDecimalNumber});class s{constructor(d){this.rootKey=d}}const c=Object.seal({});class a extends s{constructor(d){super(d),this.root=new Array}prepForXml(d){var O;d.stack.push(this);const ee=this.root.map(fe=>fe instanceof s?fe.prepForXml(d):fe).filter(fe=>fe!==void 0);return d.stack.pop(),{[this.rootKey]:ee.length?ee.length===1&&(!((O=ee[0])===null||O===void 0)&&O._attr)?ee[0]:ee:c}}addChildElement(d){return this.root.push(d),this}}class l extends a{prepForXml(d){const O=super.prepForXml(d);if(O&&(typeof O[this.rootKey]!="object"||Object.keys(O[this.rootKey]).length))return O}}class u extends s{constructor(d){super("_attr"),this.root=d}prepForXml(d){const O={};return Object.keys(this.root).forEach(ee=>{const fe=this.root[ee];if(fe!==void 0){const we=this.xmlKeys&&this.xmlKeys[ee]||ee;O[we]=fe}}),{_attr:O}}}class h extends s{constructor(d){super("_attr"),this.root=d}prepForXml(d){return{_attr:Object.values(this.root).filter(({value:O})=>O!==void 0).reduce((O,{key:ee,value:fe})=>Object.assign(Object.assign({},O),{[ee]:fe}),{})}}}class f extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"}}}var g=n(7888);const b=p=>{switch(p.type){case void 0:case"element":const d=new T(p.name,p.attributes),O=p.elements||[];for(const ee of O){const fe=b(ee);fe!==void 0&&d.push(fe)}return d;case"text":return p.text;default:return}};class C extends u{}class T extends a{static fromXmlString(d){const O=(0,g.xml2js)(d,{compact:!1});return b(O)}constructor(d,O){super(d),O&&this.root.push(new C(O))}push(d){this.root.push(d)}}class S extends a{constructor(d){super(""),this._attr=d}prepForXml(d){return{_attr:this._attr}}}const _="";class y extends a{constructor(d,O){super(d),O&&(this.root=O.root)}}var w,I,k,B,H,P,R,F,M,G,E,ne,re=n(6595);class Q extends a{constructor(d,O=!0){super(d),O!==!0&&this.root.push(new f({val:O}))}}class _e extends a{constructor(d,O){super(d),this.root.push(new f({val:(0,re.KR)(O)}))}}class be extends a{}class Ce extends a{constructor(d,O){super(d),this.root.push(new f({val:O}))}}class x extends a{constructor(d,O){super(d),this.root.push(new f({val:O}))}}class $ extends a{constructor(d,O){super(d),this.root.push(new f({val:O}))}}class oe extends a{constructor(d,O){super(d),this.root.push(O)}}class z extends a{constructor(d){super(d.name),d.attributes&&this.root.push(new h(d.attributes))}}(function(p){p.START="start",p.CENTER="center",p.END="end",p.BOTH="both",p.MEDIUM_KASHIDA="mediumKashida",p.DISTRIBUTE="distribute",p.NUM_TAB="numTab",p.HIGH_KASHIDA="highKashida",p.LOW_KASHIDA="lowKashida",p.THAI_DISTRIBUTE="thaiDistribute",p.LEFT="left",p.RIGHT="right",p.JUSTIFIED="both"})(w||(w={}));class Y extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class q extends a{constructor(d){super("w:jc"),this.root.push(new Y({val:d}))}}class W extends a{constructor(d,{color:O,size:ee,space:fe,style:we}){super(d),this.root.push(new te({style:we,color:O===void 0?void 0:(0,re.dg)(O),size:ee===void 0?void 0:(0,re.LV)(ee),space:fe===void 0?void 0:(0,re.gg)(fe)}))}}class te extends u{constructor(){super(...arguments),this.xmlKeys={style:"w:val",color:"w:color",size:"w:sz",space:"w:space"}}}(function(p){p.SINGLE="single",p.DASH_DOT_STROKED="dashDotStroked",p.DASHED="dashed",p.DASH_SMALL_GAP="dashSmallGap",p.DOT_DASH="dotDash",p.DOT_DOT_DASH="dotDotDash",p.DOTTED="dotted",p.DOUBLE="double",p.DOUBLE_WAVE="doubleWave",p.INSET="inset",p.NIL="nil",p.NONE="none",p.OUTSET="outset",p.THICK="thick",p.THICK_THIN_LARGE_GAP="thickThinLargeGap",p.THICK_THIN_MEDIUM_GAP="thickThinMediumGap",p.THICK_THIN_SMALL_GAP="thickThinSmallGap",p.THIN_THICK_LARGE_GAP="thinThickLargeGap",p.THIN_THICK_MEDIUM_GAP="thinThickMediumGap",p.THIN_THICK_SMALL_GAP="thinThickSmallGap",p.THIN_THICK_THIN_LARGE_GAP="thinThickThinLargeGap",p.THIN_THICK_THIN_MEDIUM_GAP="thinThickThinMediumGap",p.THIN_THICK_THIN_SMALL_GAP="thinThickThinSmallGap",p.THREE_D_EMBOSS="threeDEmboss",p.THREE_D_ENGRAVE="threeDEngrave",p.TRIPLE="triple",p.WAVE="wave"})(I||(I={}));class se extends l{constructor(d){super("w:pBdr"),d.top&&this.root.push(new W("w:top",d.top)),d.bottom&&this.root.push(new W("w:bottom",d.bottom)),d.left&&this.root.push(new W("w:left",d.left)),d.right&&this.root.push(new W("w:right",d.right))}}class ae extends a{constructor(){super("w:pBdr");const d=new W("w:bottom",{color:"auto",space:1,style:I.SINGLE,size:6});this.root.push(d)}}class U extends a{constructor({start:d,end:O,left:ee,right:fe,hanging:we,firstLine:ke}){super("w:ind"),this.root.push(new h({start:{key:"w:start",value:d===void 0?void 0:(0,re.xb)(d)},end:{key:"w:end",value:O===void 0?void 0:(0,re.xb)(O)},left:{key:"w:left",value:ee===void 0?void 0:(0,re.xb)(ee)},right:{key:"w:right",value:fe===void 0?void 0:(0,re.xb)(fe)},hanging:{key:"w:hanging",value:we===void 0?void 0:(0,re.Jd)(we)},firstLine:{key:"w:firstLine",value:ke===void 0?void 0:(0,re.Jd)(ke)}}))}}class v extends a{constructor(){super("w:br")}}(function(p){p.BEGIN="begin",p.END="end",p.SEPARATE="separate"})(k||(k={}));class N extends u{constructor(){super(...arguments),this.xmlKeys={type:"w:fldCharType",dirty:"w:dirty"}}}class L extends a{constructor(d){super("w:fldChar"),this.root.push(new N({type:k.BEGIN,dirty:d}))}}class Z extends a{constructor(d){super("w:fldChar"),this.root.push(new N({type:k.SEPARATE,dirty:d}))}}class ce extends a{constructor(d){super("w:fldChar"),this.root.push(new N({type:k.END,dirty:d}))}}(function(p){p.CENTER="center",p.INSIDE="inside",p.LEFT="left",p.OUTSIDE="outside",p.RIGHT="right"})(B||(B={})),function(p){p.BOTTOM="bottom",p.CENTER="center",p.INSIDE="inside",p.OUTSIDE="outside",p.TOP="top"}(H||(H={})),function(p){p.DECIMAL="decimal",p.UPPER_ROMAN="upperRoman",p.LOWER_ROMAN="lowerRoman",p.UPPER_LETTER="upperLetter",p.LOWER_LETTER="lowerLetter",p.ORDINAL="ordinal",p.CARDINAL_TEXT="cardinalText",p.ORDINAL_TEXT="ordinalText",p.HEX="hex",p.CHICAGO="chicago",p.IDEOGRAPH_DIGITAL="ideographDigital",p.JAPANESE_COUNTING="japaneseCounting",p.AIUEO="aiueo",p.IROHA="iroha",p.DECIMAL_FULL_WIDTH="decimalFullWidth",p.DECIMAL_HALF_WIDTH="decimalHalfWidth",p.JAPANESE_LEGAL="japaneseLegal",p.JAPANESE_DIGITAL_TEN_THOUSAND="japaneseDigitalTenThousand",p.DECIMAL_ENCLOSED_CIRCLE="decimalEnclosedCircle",p.DECIMAL_FULL_WIDTH_2="decimalFullWidth2",p.AIUEO_FULL_WIDTH="aiueoFullWidth",p.IROHA_FULL_WIDTH="irohaFullWidth",p.DECIMAL_ZERO="decimalZero",p.BULLET="bullet",p.GANADA="ganada",p.CHOSUNG="chosung",p.DECIMAL_ENCLOSED_FULL_STOP="decimalEnclosedFullstop",p.DECIMAL_ENCLOSED_PAREN="decimalEnclosedParen",p.DECIMAL_ENCLOSED_CIRCLE_CHINESE="decimalEnclosedCircleChinese",p.IDEOGRAPH_ENCLOSED_CIRCLE="ideographEnclosedCircle",p.IDEOGRAPH_TRADITIONAL="ideographTraditional",p.IDEOGRAPH_ZODIAC="ideographZodiac",p.IDEOGRAPH_ZODIAC_TRADITIONAL="ideographZodiacTraditional",p.TAIWANESE_COUNTING="taiwaneseCounting",p.IDEOGRAPH_LEGAL_TRADITIONAL="ideographLegalTraditional",p.TAIWANESE_COUNTING_THOUSAND="taiwaneseCountingThousand",p.TAIWANESE_DIGITAL="taiwaneseDigital",p.CHINESE_COUNTING="chineseCounting",p.CHINESE_LEGAL_SIMPLIFIED="chineseLegalSimplified",p.CHINESE_COUNTING_TEN_THOUSAND="chineseCountingThousand",p.KOREAN_DIGITAL="koreanDigital",p.KOREAN_COUNTING="koreanCounting",p.KOREAN_LEGAL="koreanLegal",p.KOREAN_DIGITAL_2="koreanDigital2",p.VIETNAMESE_COUNTING="vietnameseCounting",p.RUSSIAN_LOWER="russianLower",p.RUSSIAN_UPPER="russianUpper",p.NONE="none",p.NUMBER_IN_DASH="numberInDash",p.HEBREW_1="hebrew1",p.HEBREW_2="hebrew2",p.ARABIC_ALPHA="arabicAlpha",p.ARABIC_ABJAD="arabicAbjad",p.HINDI_VOWELS="hindiVowels",p.HINDI_CONSONANTS="hindiConsonants",p.HINDI_NUMBERS="hindiNumbers",p.HINDI_COUNTING="hindiCounting",p.THAI_LETTERS="thaiLetters",p.THAI_NUMBERS="thaiNumbers",p.THAI_COUNTING="thaiCounting",p.BAHT_TEXT="bahtText",p.DOLLAR_TEXT="dollarText"}(P||(P={})),function(p){p.DEFAULT="default",p.PRESERVE="preserve"}(R||(R={}));class pe extends u{constructor(){super(...arguments),this.xmlKeys={space:"xml:space"}}}class de extends a{constructor(){super("w:instrText"),this.root.push(new pe({space:R.PRESERVE})),this.root.push("PAGE")}}class me extends a{constructor(){super("w:instrText"),this.root.push(new pe({space:R.PRESERVE})),this.root.push("NUMPAGES")}}class Ne extends a{constructor(){super("w:instrText"),this.root.push(new pe({space:R.PRESERVE})),this.root.push("SECTIONPAGES")}}class ye extends u{constructor(){super(...arguments),this.xmlKeys={fill:"w:fill",color:"w:color",type:"w:val"}}}class De extends a{constructor({fill:d,color:O,type:ee}){super("w:shd"),this.root.push(new ye({fill:d===void 0?void 0:(0,re.dg)(d),color:O===void 0?void 0:(0,re.dg)(O),type:ee}))}}(function(p){p.CLEAR="clear",p.DIAGONAL_CROSS="diagCross",p.DIAGONAL_STRIPE="diagStripe",p.HORIZONTAL_CROSS="horzCross",p.HORIZONTAL_STRIPE="horzStripe",p.NIL="nil",p.PERCENT_5="pct5",p.PERCENT_10="pct10",p.PERCENT_12="pct12",p.PERCENT_15="pct15",p.PERCENT_20="pct20",p.PERCENT_25="pct25",p.PERCENT_30="pct30",p.PERCENT_35="pct35",p.PERCENT_37="pct37",p.PERCENT_40="pct40",p.PERCENT_45="pct45",p.PERCENT_50="pct50",p.PERCENT_55="pct55",p.PERCENT_60="pct60",p.PERCENT_62="pct62",p.PERCENT_65="pct65",p.PERCENT_70="pct70",p.PERCENT_75="pct75",p.PERCENT_80="pct80",p.PERCENT_85="pct85",p.PERCENT_87="pct87",p.PERCENT_90="pct90",p.PERCENT_95="pct95",p.REVERSE_DIAGONAL_STRIPE="reverseDiagStripe",p.SOLID="solid",p.THIN_DIAGONAL_CROSS="thinDiagCross",p.THIN_DIAGONAL_STRIPE="thinDiagStripe",p.THIN_HORIZONTAL_CROSS="thinHorzCross",p.THIN_REVERSE_DIAGONAL_STRIPE="thinReverseDiagStripe",p.THIN_VERTICAL_STRIPE="thinVertStripe",p.VERTICAL_STRIPE="vertStripe"})(F||(F={}));class Me extends u{constructor(){super(...arguments),this.xmlKeys={id:"w:id",author:"w:author",date:"w:date"}}}(function(p){p.DOT="dot"})(M||(M={}));class A extends a{constructor(d){super("w:em"),this.root.push(new f({val:d}))}}class D extends A{constructor(d=M.DOT){super(d)}}class j extends A{constructor(){super(M.DOT)}}class ie extends a{constructor(d){super("w:spacing"),this.root.push(new f({val:(0,re.xb)(d)}))}}class le extends a{constructor(d){super("w:color"),this.root.push(new f({val:(0,re.dg)(d)}))}}class ue extends a{constructor(d){super("w:highlight"),this.root.push(new f({val:d}))}}class Se extends a{constructor(d){super("w:highlightCs"),this.root.push(new f({val:d}))}}class ze extends u{constructor(){super(...arguments),this.xmlKeys={ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"}}}class Je extends a{constructor(d,O){if(super("w:rFonts"),typeof d=="string"){const ee=d;this.root.push(new ze({ascii:ee,cs:ee,eastAsia:ee,hAnsi:ee,hint:O}))}else{const ee=d;this.root.push(new ze(ee))}}}class dt extends a{constructor(d){super("w:vertAlign"),this.root.push(new f({val:d}))}}class ot extends dt{constructor(){super("superscript")}}class et extends dt{constructor(){super("subscript")}}(function(p){p.SINGLE="single",p.WORDS="words",p.DOUBLE="double",p.THICK="thick",p.DOTTED="dotted",p.DOTTEDHEAVY="dottedHeavy",p.DASH="dash",p.DASHEDHEAVY="dashedHeavy",p.DASHLONG="dashLong",p.DASHLONGHEAVY="dashLongHeavy",p.DOTDASH="dotDash",p.DASHDOTHEAVY="dashDotHeavy",p.DOTDOTDASH="dotDotDash",p.DASHDOTDOTHEAVY="dashDotDotHeavy",p.WAVE="wave",p.WAVYHEAVY="wavyHeavy",p.WAVYDOUBLE="wavyDouble",p.NONE="none"})(G||(G={}));class io extends a{constructor(d=G.SINGLE,O){super("w:u"),this.root.push(new f({val:d,color:O===void 0?void 0:(0,re.dg)(O)}))}}(function(p){p.BLINK_BACKGROUND="blinkBackground",p.LIGHTS="lights",p.ANTS_BLACK="antsBlack",p.ANTS_RED="antsRed",p.SHIMMER="shimmer",p.SPARKLE="sparkle",p.NONE="none"})(E||(E={}));class wo extends l{constructor(d){var O,ee;if(super("w:rPr"),!d)return;d.bold!==void 0&&this.push(new Q("w:b",d.bold)),(d.boldComplexScript===void 0&&d.bold!==void 0||d.boldComplexScript)&&this.push(new Q("w:bCs",(O=d.boldComplexScript)!==null&&O!==void 0?O:d.bold)),d.italics!==void 0&&this.push(new Q("w:i",d.italics)),(d.italicsComplexScript===void 0&&d.italics!==void 0||d.italicsComplexScript)&&this.push(new Q("w:iCs",(ee=d.italicsComplexScript)!==null&&ee!==void 0?ee:d.italics)),d.underline&&this.push(new io(d.underline.type,d.underline.color)),d.effect&&this.push(new Ce("w:effect",d.effect)),d.emphasisMark&&this.push(new D(d.emphasisMark.type)),d.color&&this.push(new le(d.color)),d.kern&&this.push(new _e("w:kern",d.kern)),d.position&&this.push(new Ce("w:position",d.position)),d.size!==void 0&&this.push(new _e("w:sz",d.size));const fe=d.sizeComplexScript===void 0||d.sizeComplexScript===!0?d.size:d.sizeComplexScript;fe&&this.push(new _e("w:szCs",fe)),d.rightToLeft!==void 0&&this.push(new Q("w:rtl",d.rightToLeft)),d.smallCaps!==void 0?this.push(new Q("w:smallCaps",d.smallCaps)):d.allCaps!==void 0&&this.push(new Q("w:caps",d.allCaps)),d.strike!==void 0&&this.push(new Q("w:strike",d.strike)),d.doubleStrike!==void 0&&this.push(new Q("w:dstrike",d.doubleStrike)),d.subScript&&this.push(new et),d.superScript&&this.push(new ot),d.style&&this.push(new Ce("w:rStyle",d.style)),d.font&&(typeof d.font=="string"?this.push(new Je(d.font)):"name"in d.font?this.push(new Je(d.font.name,d.font.hint)):this.push(new Je(d.font))),d.highlight&&this.push(new ue(d.highlight));const we=d.highlightComplexScript===void 0||d.highlightComplexScript===!0?d.highlight:d.highlightComplexScript;we&&this.push(new Se(we)),d.characterSpacing&&this.push(new ie(d.characterSpacing)),d.emboss!==void 0&&this.push(new Q("w:emboss",d.emboss)),d.imprint!==void 0&&this.push(new Q("w:imprint",d.imprint)),d.shading&&this.push(new De(d.shading)),d.revision&&this.push(new mh(d.revision)),d.border&&this.push(new W("w:bdr",d.border)),d.snapToGrid&&this.push(new Q("w:snapToGrid",d.snapToGrid)),d.vanish&&this.push(new Q("w:vanish",d.vanish)),d.specVanish&&this.push(new Q("w:specVanish",d.vanish)),d.scale!==void 0&&this.push(new x("w:w",d.scale)),d.language&&this.push((ke=>new z({name:"w:lang",attributes:{value:{key:"w:val",value:ke.value},eastAsia:{key:"w:eastAsia",value:ke.eastAsia},bidirectional:{key:"w:bidi",value:ke.bidirectional}}}))(d.language)),d.math&&this.push(new Q("w:oMath",d.math))}push(d){this.root.push(d)}}class mh extends a{constructor(d){super("w:rPrChange"),this.root.push(new Me({id:d.id,author:d.author,date:d.date})),this.addChildElement(new wo(d))}}class xs extends a{constructor(d){var O;return super("w:t"),typeof d=="string"?(this.root.push(new pe({space:R.PRESERVE})),this.root.push(d),this):(this.root.push(new pe({space:(O=d.space)!==null&&O!==void 0?O:R.DEFAULT})),this.root.push(d.text),this)}}(function(p){p.CURRENT="CURRENT",p.TOTAL_PAGES="TOTAL_PAGES",p.TOTAL_PAGES_IN_SECTION="TOTAL_PAGES_IN_SECTION"})(ne||(ne={}));class Yt extends a{constructor(d){if(super("w:r"),this.properties=new wo(d),this.root.push(this.properties),d.break)for(let O=0;O<d.break;O++)this.root.push(new v);if(d.children)for(const O of d.children)if(typeof O!="string")this.root.push(O);else switch(O){case ne.CURRENT:this.root.push(new L),this.root.push(new de),this.root.push(new Z),this.root.push(new ce);break;case ne.TOTAL_PAGES:this.root.push(new L),this.root.push(new me),this.root.push(new Z),this.root.push(new ce);break;case ne.TOTAL_PAGES_IN_SECTION:this.root.push(new L),this.root.push(new Ne),this.root.push(new Z),this.root.push(new ce);break;default:this.root.push(new xs(O))}else d.text&&this.root.push(new xs(d.text))}}class rr extends Yt{constructor(d){if(typeof d=="string")return super({}),this.root.push(new xs(d)),this;super(d)}}class x0 extends u{constructor(){super(...arguments),this.xmlKeys={char:"w:char",symbolfont:"w:font"}}}class vh extends a{constructor(d="",O="Wingdings"){super("w:sym"),this.root.push(new x0({char:d,symbolfont:O}))}}class I0 extends Yt{constructor(d){if(typeof d=="string")return super({}),this.root.push(new vh(d)),this;super(d),this.root.push(new vh(d.char,d.symbolfont))}}var Is,Ts,Tt=n(5457);(function(p){p.CHARACTER="character",p.COLUMN="column",p.INSIDE_MARGIN="insideMargin",p.LEFT_MARGIN="leftMargin",p.MARGIN="margin",p.OUTSIDE_MARGIN="outsideMargin",p.PAGE="page",p.RIGHT_MARGIN="rightMargin"})(Is||(Is={})),function(p){p.BOTTOM_MARGIN="bottomMargin",p.INSIDE_MARGIN="insideMargin",p.LINE="line",p.MARGIN="margin",p.OUTSIDE_MARGIN="outsideMargin",p.PAGE="page",p.PARAGRAPH="paragraph",p.TOP_MARGIN="topMargin"}(Ts||(Ts={}));class T0 extends u{constructor(){super(...arguments),this.xmlKeys={x:"x",y:"y"}}}class gh extends a{constructor(){super("wp:simplePos"),this.root.push(new T0({x:0,y:0}))}}class bh extends a{constructor(d){super("wp:align"),this.root.push(d)}}class yh extends a{constructor(d){super("wp:posOffset"),this.root.push(d.toString())}}class R0 extends u{constructor(){super(...arguments),this.xmlKeys={relativeFrom:"relativeFrom"}}}class wh extends a{constructor(d){if(super("wp:positionH"),this.root.push(new R0({relativeFrom:d.relative||Is.PAGE})),d.align)this.root.push(new bh(d.align));else{if(d.offset===void 0)throw new Error("There is no configuration provided for floating position (Align or offset)");this.root.push(new yh(d.offset))}}}class P0 extends u{constructor(){super(...arguments),this.xmlKeys={relativeFrom:"relativeFrom"}}}class Eh extends a{constructor(d){if(super("wp:positionV"),this.root.push(new P0({relativeFrom:d.relative||Ts.PAGE})),d.align)this.root.push(new bh(d.align));else{if(d.offset===void 0)throw new Error("There is no configuration provided for floating position (Align or offset)");this.root.push(new yh(d.offset))}}}class D0 extends u{constructor(){super(...arguments),this.xmlKeys={uri:"uri"}}}class k0 extends u{constructor(){super(...arguments),this.xmlKeys={embed:"r:embed",cstate:"cstate"}}}class O0 extends a{constructor(d){super("a:blip"),this.root.push(new k0({embed:`rId{${d.fileName}}`,cstate:"none"}))}}class M0 extends a{constructor(){super("a:srcRect")}}class L0 extends a{constructor(){super("a:fillRect")}}class F0 extends a{constructor(){super("a:stretch"),this.root.push(new L0)}}class B0 extends a{constructor(d){super("pic:blipFill"),this.root.push(new O0(d)),this.root.push(new M0),this.root.push(new F0)}}class U0 extends u{constructor(){super(...arguments),this.xmlKeys={noChangeAspect:"noChangeAspect",noChangeArrowheads:"noChangeArrowheads"}}}class $0 extends a{constructor(){super("a:picLocks"),this.root.push(new U0({noChangeAspect:1,noChangeArrowheads:1}))}}class j0 extends a{constructor(){super("pic:cNvPicPr"),this.root.push(new $0)}}const Ah=(p,d)=>new z({name:"a:hlinkClick",attributes:Object.assign(Object.assign({},d?{xmlns:{key:"xmlns:a",value:"http://schemas.openxmlformats.org/drawingml/2006/main"}}:{}),{id:{key:"r:id",value:`rId${p}`}})});class q0 extends u{constructor(){super(...arguments),this.xmlKeys={id:"id",name:"name",descr:"descr"}}}class V0 extends a{constructor(){super("pic:cNvPr"),this.root.push(new q0({id:0,name:"",descr:""}))}prepForXml(d){for(let O=d.stack.length-1;O>=0;O--){const ee=d.stack[O];if(ee instanceof vi){this.root.push(Ah(ee.linkId,!1));break}}return super.prepForXml(d)}}class H0 extends a{constructor(){super("pic:nvPicPr"),this.root.push(new V0),this.root.push(new j0)}}class z0 extends u{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns:pic"}}}class Q0 extends u{constructor(){super(...arguments),this.xmlKeys={cx:"cx",cy:"cy"}}}class G0 extends a{constructor(d,O){super("a:ext"),this.attributes=new Q0({cx:d,cy:O}),this.root.push(this.attributes)}}class K0 extends u{constructor(){super(...arguments),this.xmlKeys={x:"x",y:"y"}}}class W0 extends a{constructor(){super("a:off"),this.root.push(new K0({x:0,y:0}))}}class J0 extends u{constructor(){super(...arguments),this.xmlKeys={flipVertical:"flipV",flipHorizontal:"flipH",rotation:"rot"}}}class Y0 extends a{constructor(d){var O,ee;super("a:xfrm"),this.root.push(new J0({flipVertical:(O=d.flip)===null||O===void 0?void 0:O.vertical,flipHorizontal:(ee=d.flip)===null||ee===void 0?void 0:ee.horizontal,rotation:d.rotation})),this.extents=new G0(d.emus.x,d.emus.y),this.root.push(new W0),this.root.push(this.extents)}}class Z0 extends a{constructor(){super("a:avLst")}}class X0 extends u{constructor(){super(...arguments),this.xmlKeys={prst:"prst"}}}class ew extends a{constructor(){super("a:prstGeom"),this.root.push(new X0({prst:"rect"})),this.root.push(new Z0)}}class tw extends u{constructor(){super(...arguments),this.xmlKeys={bwMode:"bwMode"}}}class ow extends a{constructor(d){super("pic:spPr"),this.root.push(new tw({bwMode:"auto"})),this.form=new Y0(d),this.root.push(this.form),this.root.push(new ew)}}class nw extends a{constructor(d,O){super("pic:pic"),this.root.push(new z0({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.root.push(new H0),this.root.push(new B0(d)),this.root.push(new ow(O))}}class iw extends a{constructor(d,O){super("a:graphicData"),this.root.push(new D0({uri:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.pic=new nw(d,O),this.root.push(this.pic)}}class rw extends u{constructor(){super(...arguments),this.xmlKeys={a:"xmlns:a"}}}class _h extends a{constructor(d,O){super("a:graphic"),this.root.push(new rw({a:"http://schemas.openxmlformats.org/drawingml/2006/main"})),this.data=new iw(d,O),this.root.push(this.data)}}var kn,Rs,El,Al,_l,Ps,mi,Nl,sr,Cl,Sl,Ds,xl,Il,qo,ar,Tl,Rl,Pl,Dl,kl,Ol,lr,Ml,Ll;(function(p){p[p.NONE=0]="NONE",p[p.SQUARE=1]="SQUARE",p[p.TIGHT=2]="TIGHT",p[p.TOP_AND_BOTTOM=3]="TOP_AND_BOTTOM"})(kn||(kn={})),function(p){p.BOTH_SIDES="bothSides",p.LEFT="left",p.RIGHT="right",p.LARGEST="largest"}(Rs||(Rs={}));class Fl extends a{constructor(){super("wp:wrapNone")}}class sw extends u{constructor(){super(...arguments),this.xmlKeys={distT:"distT",distB:"distB",distL:"distL",distR:"distR",wrapText:"wrapText"}}}class Nh extends a{constructor(d,O={top:0,bottom:0,left:0,right:0}){super("wp:wrapSquare"),this.root.push(new sw({wrapText:d.side||Rs.BOTH_SIDES,distT:O.top,distB:O.bottom,distL:O.left,distR:O.right}))}}class aw extends u{constructor(){super(...arguments),this.xmlKeys={distT:"distT",distB:"distB"}}}class Ch extends a{constructor(d={top:0,bottom:0}){super("wp:wrapTight"),this.root.push(new aw({distT:d.top,distB:d.bottom}))}}class lw extends u{constructor(){super(...arguments),this.xmlKeys={distT:"distT",distB:"distB"}}}class Sh extends a{constructor(d={top:0,bottom:0}){super("wp:wrapTopAndBottom"),this.root.push(new lw({distT:d.top,distB:d.bottom}))}}class xh extends a{constructor({name:d,description:O,title:ee}={name:"",description:"",title:""}){super("wp:docPr"),this.root.push(new h({id:{key:"id",value:(0,Tt.NY)()},name:{key:"name",value:d},description:{key:"descr",value:O},title:{key:"title",value:ee}}))}prepForXml(d){for(let O=d.stack.length-1;O>=0;O--){const ee=d.stack[O];if(ee instanceof vi){this.root.push(Ah(ee.linkId,!0));break}}return super.prepForXml(d)}}class cw extends u{constructor(){super(...arguments),this.xmlKeys={b:"b",l:"l",r:"r",t:"t"}}}class Ih extends a{constructor(){super("wp:effectExtent"),this.root.push(new cw({b:0,l:0,r:0,t:0}))}}class uw extends u{constructor(){super(...arguments),this.xmlKeys={cx:"cx",cy:"cy"}}}class Th extends a{constructor(d,O){super("wp:extent"),this.attributes=new uw({cx:d,cy:O}),this.root.push(this.attributes)}}class dw extends u{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns:a",noChangeAspect:"noChangeAspect"}}}class hw extends a{constructor(){super("a:graphicFrameLocks"),this.root.push(new dw({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/main",noChangeAspect:1}))}}class Rh extends a{constructor(){super("wp:cNvGraphicFramePr"),this.root.push(new hw)}}class fw extends u{constructor(){super(...arguments),this.xmlKeys={distT:"distT",distB:"distB",distL:"distL",distR:"distR",allowOverlap:"allowOverlap",behindDoc:"behindDoc",layoutInCell:"layoutInCell",locked:"locked",relativeHeight:"relativeHeight",simplePos:"simplePos"}}}class pw extends a{constructor(d,O,ee){super("wp:anchor");const fe=Object.assign({allowOverlap:!0,behindDocument:!1,lockAnchor:!1,layoutInCell:!0,verticalPosition:{},horizontalPosition:{}},ee.floating);if(this.root.push(new fw({distT:fe.margins&&fe.margins.top||0,distB:fe.margins&&fe.margins.bottom||0,distL:fe.margins&&fe.margins.left||0,distR:fe.margins&&fe.margins.right||0,simplePos:"0",allowOverlap:fe.allowOverlap===!0?"1":"0",behindDoc:fe.behindDocument===!0?"1":"0",locked:fe.lockAnchor===!0?"1":"0",layoutInCell:fe.layoutInCell===!0?"1":"0",relativeHeight:fe.zIndex?fe.zIndex:O.emus.y})),this.root.push(new gh),this.root.push(new wh(fe.horizontalPosition)),this.root.push(new Eh(fe.verticalPosition)),this.root.push(new Th(O.emus.x,O.emus.y)),this.root.push(new Ih),ee.floating!==void 0&&ee.floating.wrap!==void 0)switch(ee.floating.wrap.type){case kn.SQUARE:this.root.push(new Nh(ee.floating.wrap,ee.floating.margins));break;case kn.TIGHT:this.root.push(new Ch(ee.floating.margins));break;case kn.TOP_AND_BOTTOM:this.root.push(new Sh(ee.floating.margins));break;case kn.NONE:default:this.root.push(new Fl)}else this.root.push(new Fl);this.root.push(new xh(ee.docProperties)),this.root.push(new Rh),this.root.push(new _h(d,O))}}class mw extends u{constructor(){super(...arguments),this.xmlKeys={distT:"distT",distB:"distB",distL:"distL",distR:"distR"}}}class vw extends a{constructor({mediaData:d,transform:O,docProperties:ee}){super("wp:inline"),this.root.push(new mw({distT:0,distB:0,distL:0,distR:0})),this.extent=new Th(O.emus.x,O.emus.y),this.graphic=new _h(d,O),this.root.push(this.extent),this.root.push(new Ih),this.root.push(new xh(ee)),this.root.push(new Rh),this.root.push(this.graphic)}}class Ph extends a{constructor(d,O={}){super("w:drawing"),O.floating?this.root.push(new pw(d,d.transformation,O)):(this.inline=new vw({mediaData:d,transform:d.transformation,docProperties:O.docProperties}),this.root.push(this.inline))}}class gw extends Yt{constructor(d){super({}),this.key=`${(0,Tt.EL)()}.png`;const O=typeof d.data=="string"?this.convertDataURIToBinary(d.data):d.data;this.imageData={stream:O,fileName:this.key,transformation:{pixels:{x:Math.round(d.transformation.width),y:Math.round(d.transformation.height)},emus:{x:Math.round(9525*d.transformation.width),y:Math.round(9525*d.transformation.height)},flip:d.transformation.flip,rotation:d.transformation.rotation?6e4*d.transformation.rotation:void 0}};const ee=new Ph(this.imageData,{floating:d.floating,docProperties:d.altText});this.root.push(ee)}prepForXml(d){return d.file.Media.addImage(this.key,this.imageData),super.prepForXml(d)}convertDataURIToBinary(d){if(typeof atob=="function"){const O=";base64,",ee=d.indexOf(O),fe=ee===-1?0:ee+O.length;return new Uint8Array(atob(d.substring(fe)).split("").map(we=>we.charCodeAt(0)))}return new(n(8764)).Buffer(d,"base64")}}class bw extends a{constructor(d){super("w:instrText"),this.root.push(new pe({space:R.PRESERVE})),this.root.push(`SEQ ${d}`)}}class yw extends Yt{constructor(d){super({}),this.root.push(new L(!0)),this.root.push(new bw(d)),this.root.push(new Z),this.root.push(new ce)}}class ww extends u{constructor(){super(...arguments),this.xmlKeys={instr:"w:instr"}}}class Dh extends a{constructor(d,O){super("w:fldSimple"),this.root.push(new ww({instr:d})),O!==void 0&&this.root.push(new rr(O))}}class Ew extends Dh{constructor(d){super(` MERGEFIELD ${d} `,`«${d}»`)}}class Aw extends u{constructor(){super(...arguments),this.xmlKeys={id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"}}}class Bl extends u{constructor(){super(...arguments),this.xmlKeys={id:"w:id"}}}class _w extends u{constructor(){super(...arguments),this.xmlKeys={"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"}}}class Nw extends a{constructor(d){super("w:commentRangeStart"),this.root.push(new Bl({id:d}))}}class Cw extends a{constructor(d){super("w:commentRangeEnd"),this.root.push(new Bl({id:d}))}}class Sw extends a{constructor(d){super("w:commentReference"),this.root.push(new Bl({id:d}))}}class kh extends a{constructor({id:d,initials:O,author:ee,date:fe=new Date,children:we}){super("w:comment"),this.root.push(new Aw({id:d,initials:O,author:ee,date:fe.toISOString()}));for(const ke of we)this.root.push(ke)}}class Oh extends a{constructor({children:d}){super("w:comments"),this.root.push(new _w({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const O of d)this.root.push(new kh(O))}}class xw extends be{constructor(){super("w:noBreakHyphen")}}class Iw extends be{constructor(){super("w:softHyphen")}}class Tw extends be{constructor(){super("w:dayShort")}}class Rw extends be{constructor(){super("w:monthShort")}}class Pw extends be{constructor(){super("w:yearShort")}}class Dw extends be{constructor(){super("w:dayLong")}}class kw extends be{constructor(){super("w:monthLong")}}class Ow extends be{constructor(){super("w:yearLong")}}class Mw extends be{constructor(){super("w:annotationRef")}}class Lw extends be{constructor(){super("w:footnoteRef")}}class Fw extends be{constructor(){super("w:endnoteRef")}}class Bw extends be{constructor(){super("w:separator")}}class Uw extends be{constructor(){super("w:continuationSeparator")}}class $w extends be{constructor(){super("w:pgNum")}}class jw extends be{constructor(){super("w:cr")}}class qw extends be{constructor(){super("w:tab")}}class Vw extends be{constructor(){super("w:lastRenderedPageBreak")}}(function(p){p.LEFT="left",p.CENTER="center",p.RIGHT="right"})(El||(El={})),function(p){p.MARGIN="margin",p.INDENT="indent"}(Al||(Al={})),function(p){p.NONE="none",p.DOT="dot",p.HYPHEN="hyphen",p.UNDERSCORE="underscore",p.MIDDLE_DOT="middleDot"}(_l||(_l={}));class Hw extends a{constructor(d){super("w:ptab"),this.root.push(new h({alignment:{key:"w:alignment",value:d.alignment},relativeTo:{key:"w:relativeTo",value:d.relativeTo},leader:{key:"w:leader",value:d.leader}}))}}(function(p){p.COLUMN="column",p.PAGE="page"})(Ps||(Ps={}));class Mh extends a{constructor(d){super("w:br"),this.root.push(new f({type:d}))}}class zw extends Yt{constructor(){super({}),this.root.push(new Mh(Ps.PAGE))}}class Qw extends Yt{constructor(){super({}),this.root.push(new Mh(Ps.COLUMN))}}class Lh extends a{constructor(){super("w:pageBreakBefore")}}(function(p){p.AT_LEAST="atLeast",p.EXACTLY="exactly",p.EXACT="exact",p.AUTO="auto"})(mi||(mi={}));class Gw extends u{constructor(){super(...arguments),this.xmlKeys={after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule"}}}class Fh extends a{constructor(d){super("w:spacing"),this.root.push(new Gw(d))}}(function(p){p.HEADING_1="Heading1",p.HEADING_2="Heading2",p.HEADING_3="Heading3",p.HEADING_4="Heading4",p.HEADING_5="Heading5",p.HEADING_6="Heading6",p.TITLE="Title"})(Nl||(Nl={}));class cr extends a{constructor(d){super("w:pStyle"),this.root.push(new f({val:d}))}}class Bh extends a{constructor(d){super("w:tabs");for(const O of d)this.root.push(new $h(O))}}(function(p){p.LEFT="left",p.RIGHT="right",p.CENTER="center",p.BAR="bar",p.CLEAR="clear",p.DECIMAL="decimal",p.END="end",p.NUM="num",p.START="start"})(sr||(sr={})),function(p){p.DOT="dot",p.HYPHEN="hyphen",p.MIDDLE_DOT="middleDot",p.NONE="none",p.UNDERSCORE="underscore"}(Cl||(Cl={})),function(p){p[p.MAX=9026]="MAX"}(Sl||(Sl={}));class Uh extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val",pos:"w:pos",leader:"w:leader"}}}class $h extends a{constructor({type:d,position:O,leader:ee}){super("w:tab"),this.root.push(new Uh({val:d,pos:O,leader:ee}))}}class Ul extends a{constructor(d,O){super("w:numPr"),this.root.push(new Kw(O)),this.root.push(new Ww(d))}}class Kw extends a{constructor(d){if(super("w:ilvl"),d>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new f({val:d}))}}class Ww extends a{constructor(d){super("w:numId"),this.root.push(new f({val:typeof d=="string"?`{${d}}`:d}))}}class $l extends a{constructor(){super(...arguments),this.fileChild=Symbol()}}class Jw extends u{constructor(){super(...arguments),this.xmlKeys={id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"}}}(function(p){p.EXTERNAL="External"})(Ds||(Ds={}));class Yw extends a{constructor(d,O,ee,fe){super("Relationship"),this.root.push(new Jw({id:d,type:O,target:ee,targetMode:fe}))}}class Zw extends u{constructor(){super(...arguments),this.xmlKeys={id:"r:id",history:"w:history",anchor:"w:anchor"}}}(function(p){p.INTERNAL="INTERNAL",p.EXTERNAL="EXTERNAL"})(xl||(xl={}));class vi extends a{constructor(d,O,ee){super("w:hyperlink"),this.linkId=O;const fe={history:1,anchor:ee||void 0,id:ee?void 0:`rId${this.linkId}`},we=new Zw(fe);this.root.push(we),d.forEach(ke=>{this.root.push(ke)})}}class Xw extends vi{constructor(d){super(d.children,(0,Tt.EL)(),d.anchor)}}class jl extends a{constructor(d){super("w:externalHyperlink"),this.options=d}}class eE extends u{constructor(){super(...arguments),this.xmlKeys={id:"w:id",name:"w:name"}}}class tE extends u{constructor(){super(...arguments),this.xmlKeys={id:"w:id"}}}class jh{constructor(d){const O=(0,Tt.NY)();this.start=new qh(d.id,O),this.children=d.children,this.end=new Vh(O)}}class qh extends a{constructor(d,O){super("w:bookmarkStart");const ee=new eE({name:d,id:O});this.root.push(ee)}}class Vh extends a{constructor(d){super("w:bookmarkEnd");const O=new tE({id:d});this.root.push(O)}}class Hh extends a{constructor(d){super("w:outlineLvl"),this.level=d,this.root.push(new f({val:d}))}}class oE extends a{constructor(d,O={}){super("w:instrText"),this.root.push(new pe({space:R.PRESERVE}));let ee=`PAGEREF ${d}`;O.hyperlink&&(ee=`${ee} \\h`),O.useRelativePosition&&(ee=`${ee} \\p`),this.root.push(ee)}}class nE extends Yt{constructor(d,O={}){super({children:[new L(!0),new oE(d,O),new ce]})}}(function(p){p.BOTTOM="bottom",p.CENTER="center",p.TOP="top"})(Il||(Il={}));class zh extends u{constructor(){super(...arguments),this.xmlKeys={verticalAlign:"w:val"}}}class ql extends a{constructor(d){super("w:vAlign"),this.root.push(new zh({verticalAlign:d}))}}(function(p){p.DEFAULT="default",p.FIRST="first",p.EVEN="even"})(qo||(qo={}));class iE extends u{constructor(){super(...arguments),this.xmlKeys={type:"w:type",id:"r:id"}}}(function(p){p.HEADER="w:headerReference",p.FOOTER="w:footerReference"})(ar||(ar={}));class ks extends a{constructor(d,O){super(d),this.root.push(new iE({type:O.type||qo.DEFAULT,id:`rId${O.id}`}))}}class Qh extends a{constructor({space:d,count:O,separate:ee,equalWidth:fe,children:we}){super("w:cols"),this.root.push(new h({space:{key:"w:space",value:d===void 0?void 0:(0,re.Jd)(d)},count:{key:"w:num",value:O===void 0?void 0:(0,re.vH)(O)},separate:{key:"w:sep",value:ee},equalWidth:{key:"w:equalWidth",value:fe}})),!fe&&we&&we.forEach(ke=>this.addChildElement(ke))}}(function(p){p.DEFAULT="default",p.LINES="lines",p.LINES_AND_CHARS="linesAndChars",p.SNAP_TO_CHARS="snapToChars"})(Tl||(Tl={}));class Gh extends u{constructor(){super(...arguments),this.xmlKeys={type:"w:type",linePitch:"w:linePitch",charSpace:"w:charSpace"}}}class Kh extends a{constructor(d,O,ee){super("w:docGrid"),this.root.push(new Gh({type:ee,linePitch:(0,re.vH)(d),charSpace:O?(0,re.vH)(O):void 0}))}}(function(p){p.NEW_PAGE="newPage",p.NEW_SECTION="newSection",p.CONTINUOUS="continuous"})(Rl||(Rl={}));class Wh extends a{constructor({countBy:d,start:O,restart:ee,distance:fe}){super("w:lnNumType"),this.root.push(new h({countBy:{key:"w:countBy",value:d===void 0?void 0:(0,re.vH)(d)},start:{key:"w:start",value:O===void 0?void 0:(0,re.vH)(O)},restart:{key:"w:restart",value:ee},distance:{key:"w:distance",value:fe===void 0?void 0:(0,re.Jd)(fe)}}))}}(function(p){p.ALL_PAGES="allPages",p.FIRST_PAGE="firstPage",p.NOT_FIRST_PAGE="notFirstPage"})(Pl||(Pl={})),function(p){p.PAGE="page",p.TEXT="text"}(Dl||(Dl={})),function(p){p.BACK="back",p.FRONT="front"}(kl||(kl={}));class Jh extends u{constructor(){super(...arguments),this.xmlKeys={display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"}}}class Yh extends l{constructor(d){if(super("w:pgBorders"),!d)return this;d.pageBorders?this.root.push(new Jh({display:d.pageBorders.display,offsetFrom:d.pageBorders.offsetFrom,zOrder:d.pageBorders.zOrder})):this.root.push(new Jh({})),d.pageBorderTop&&this.root.push(new W("w:top",d.pageBorderTop)),d.pageBorderLeft&&this.root.push(new W("w:left",d.pageBorderLeft)),d.pageBorderBottom&&this.root.push(new W("w:bottom",d.pageBorderBottom)),d.pageBorderRight&&this.root.push(new W("w:right",d.pageBorderRight))}}class Zh extends a{constructor(d,O,ee,fe,we,ke,Ue){super("w:pgMar"),this.root.push(new h({top:{key:"w:top",value:(0,re.xb)(d)},right:{key:"w:right",value:(0,re.Jd)(O)},bottom:{key:"w:bottom",value:(0,re.xb)(ee)},left:{key:"w:left",value:(0,re.Jd)(fe)},header:{key:"w:header",value:(0,re.Jd)(we)},footer:{key:"w:footer",value:(0,re.Jd)(ke)},gutter:{key:"w:gutter",value:(0,re.Jd)(Ue)}}))}}(function(p){p.HYPHEN="hyphen",p.PERIOD="period",p.COLON="colon",p.EM_DASH="emDash",p.EN_DASH="endash"})(Ol||(Ol={}));class Xh extends u{constructor(){super(...arguments),this.xmlKeys={start:"w:start",formatType:"w:fmt",separator:"w:chapSep"}}}class ef extends a{constructor({start:d,formatType:O,separator:ee}){super("w:pgNumType"),this.root.push(new Xh({start:d===void 0?void 0:(0,re.vH)(d),formatType:O,separator:ee}))}}(function(p){p.PORTRAIT="portrait",p.LANDSCAPE="landscape"})(lr||(lr={}));class tf extends a{constructor(d,O,ee){super("w:pgSz");const fe=ee===lr.LANDSCAPE,we=(0,re.Jd)(d),ke=(0,re.Jd)(O);this.root.push(new h({width:{key:"w:w",value:fe?ke:we},height:{key:"w:h",value:fe?we:ke},orientation:{key:"w:orient",value:ee}}))}}(function(p){p.LEFT_TO_RIGHT_TOP_TO_BOTTOM="lrTb",p.TOP_TO_BOTTOM_RIGHT_TO_LEFT="tbRl"})(Ml||(Ml={}));class rE extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class of extends a{constructor(d){super("w:textDirection"),this.root.push(new rE({val:d}))}}(function(p){p.NEXT_PAGE="nextPage",p.NEXT_COLUMN="nextColumn",p.CONTINUOUS="continuous",p.EVEN_PAGE="evenPage",p.ODD_PAGE="oddPage"})(Ll||(Ll={}));class nf extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class rf extends a{constructor(d){super("w:type"),this.root.push(new nf({val:d}))}}const tn={TOP:"1in",RIGHT:"1in",BOTTOM:"1in",LEFT:"1in",HEADER:708,FOOTER:708,GUTTER:0},Os={WIDTH:11906,HEIGHT:16838,ORIENTATION:lr.PORTRAIT};class sf extends a{constructor({page:{size:{width:d=Os.WIDTH,height:O=Os.HEIGHT,orientation:ee=Os.ORIENTATION}={},margin:{top:fe=tn.TOP,right:we=tn.RIGHT,bottom:ke=tn.BOTTOM,left:Ue=tn.LEFT,header:We=tn.HEADER,footer:Ve=tn.FOOTER,gutter:nt=tn.GUTTER}={},pageNumbers:lt={},borders:wt,textDirection:Qt}={},grid:{linePitch:Do=360,charSpace:so,type:sn}={},headerWrapperGroup:ct={},footerWrapperGroup:Bt={},lineNumbers:Gt,titlePage:ao,verticalAlign:an,column:ln,type:Kt}={}){super("w:sectPr"),this.addHeaderFooterGroup(ar.HEADER,ct),this.addHeaderFooterGroup(ar.FOOTER,Bt),Kt&&this.root.push(new rf(Kt)),this.root.push(new tf(d,O,ee)),this.root.push(new Zh(fe,we,ke,Ue,We,Ve,nt)),wt&&this.root.push(new Yh(wt)),Gt&&this.root.push(new Wh(Gt)),this.root.push(new ef(lt)),ln&&this.root.push(new Qh(ln)),an&&this.root.push(new ql(an)),ao!==void 0&&this.root.push(new Q("w:titlePg",ao)),Qt&&this.root.push(new of(Qt)),this.root.push(new Kh(Do,so,sn))}addHeaderFooterGroup(d,O){O.default&&this.root.push(new ks(d,{type:qo.DEFAULT,id:O.default.View.ReferenceId})),O.first&&this.root.push(new ks(d,{type:qo.FIRST,id:O.first.View.ReferenceId})),O.even&&this.root.push(new ks(d,{type:qo.EVEN,id:O.even.View.ReferenceId}))}}class af extends a{constructor(){super("w:body"),this.sections=[]}addSection(d){const O=this.sections.pop();this.root.push(this.createSectionParagraph(O)),this.sections.push(new sf(d))}prepForXml(d){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(d)}push(d){this.root.push(d)}createSectionParagraph(d){const O=new on({}),ee=new On({});return ee.push(d),O.addChildElement(ee),O}}class sE extends a{constructor({width:d,space:O}){super("w:col"),this.root.push(new h({width:{key:"w:w",value:(0,re.Jd)(d)},space:{key:"w:space",value:O===void 0?void 0:(0,re.Jd)(O)}}))}}class gi extends u{constructor(){super(...arguments),this.xmlKeys={wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",aink:"xmlns:aink",am3d:"xmlns:am3d",w16cex:"xmlns:w16cex",w16cid:"xmlns:w16cid",w16:"xmlns:w16",w16sdtdh:"xmlns:w16sdtdh",w16se:"xmlns:w16se"}}}class lf extends u{constructor(){super(...arguments),this.xmlKeys={color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"}}}class cf extends a{constructor(d){super("w:background"),this.root.push(new lf({color:d.color===void 0?void 0:(0,re.dg)(d.color),themeColor:d.themeColor,themeShade:d.themeShade===void 0?void 0:(0,re.xD)(d.themeShade),themeTint:d.themeTint===void 0?void 0:(0,re.xD)(d.themeTint)}))}}class aE extends a{constructor(d){super("w:document"),this.root.push(new gi({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex",Ignorable:"w14 w15 wp14"})),this.body=new af,d.background&&this.root.push(new cf(d.background)),this.root.push(this.body)}add(d){return this.body.push(d),this}get Body(){return this.body}}class lE extends u{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns"}}}class ur extends a{constructor(){super("Relationships"),this.root.push(new lE({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(d,O,ee,fe){const we=new Yw(`rId${d}`,O,ee,fe);return this.root.push(we),we}get RelationshipCount(){return this.root.length-1}}class uf{constructor(d){this.document=new aE(d),this.relationships=new ur}get View(){return this.document}get Relationships(){return this.relationships}}class cE extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class uE extends a{constructor(){super("w:wordWrap"),this.root.push(new cE({val:0}))}}var Vl,Hl,zl;(function(p){p.NONE="none",p.DROP="drop",p.MARGIN="margin"})(Vl||(Vl={})),function(p){p.MARGIN="margin",p.PAGE="page",p.TEXT="text"}(Hl||(Hl={})),function(p){p.AROUND="around",p.AUTO="auto",p.NONE="none",p.NOT_BESIDE="notBeside",p.THROUGH="through",p.TIGHT="tight"}(zl||(zl={}));class df extends u{constructor(){super(...arguments),this.xmlKeys={anchorLock:"w:anchorLock",dropCap:"w:dropCap",width:"w:w",height:"w:h",x:"w:x",y:"w:y",anchorHorizontal:"w:hAnchor",anchorVertical:"w:vAnchor",spaceHorizontal:"w:hSpace",spaceVertical:"w:vSpace",rule:"w:hRule",alignmentX:"w:xAlign",alignmentY:"w:yAlign",lines:"w:lines",wrap:"w:wrap"}}}class hf extends a{constructor(d){var O,ee;super("w:framePr"),this.root.push(new df({anchorLock:d.anchorLock,dropCap:d.dropCap,width:d.width,height:d.height,x:d.position?d.position.x:void 0,y:d.position?d.position.y:void 0,anchorHorizontal:d.anchor.horizontal,anchorVertical:d.anchor.vertical,spaceHorizontal:(O=d.space)===null||O===void 0?void 0:O.horizontal,spaceVertical:(ee=d.space)===null||ee===void 0?void 0:ee.vertical,rule:d.rule,alignmentX:d.alignment?d.alignment.x:void 0,alignmentY:d.alignment?d.alignment.y:void 0,lines:d.lines,wrap:d.wrap}))}}class On extends l{constructor(d){var O,ee;if(super("w:pPr"),this.numberingReferences=[],!d)return this;d.heading&&this.push(new cr(d.heading)),d.bullet&&this.push(new cr("ListParagraph")),d.numbering&&(d.style||d.heading||d.numbering.custom||this.push(new cr("ListParagraph"))),d.style&&this.push(new cr(d.style)),d.keepNext!==void 0&&this.push(new Q("w:keepNext",d.keepNext)),d.keepLines!==void 0&&this.push(new Q("w:keepLines",d.keepLines)),d.pageBreakBefore&&this.push(new Lh),d.frame&&this.push(new hf(d.frame)),d.widowControl!==void 0&&this.push(new Q("w:widowControl",d.widowControl)),d.bullet&&this.push(new Ul(1,d.bullet.level)),d.numbering&&(this.numberingReferences.push({reference:d.numbering.reference,instance:(O=d.numbering.instance)!==null&&O!==void 0?O:0}),this.push(new Ul(`${d.numbering.reference}-${(ee=d.numbering.instance)!==null&&ee!==void 0?ee:0}`,d.numbering.level))),d.border&&this.push(new se(d.border)),d.thematicBreak&&this.push(new ae),d.shading&&this.push(new De(d.shading)),d.wordWrap&&this.push(new uE);const fe=[...d.rightTabStop?[{type:sr.RIGHT,position:d.rightTabStop}]:[],...d.tabStops?d.tabStops:[],...d.leftTabStop?[{type:sr.LEFT,position:d.leftTabStop}]:[]];fe.length>0&&this.push(new Bh(fe)),d.bidirectional!==void 0&&this.push(new Q("w:bidi",d.bidirectional)),d.spacing&&this.push(new Fh(d.spacing)),d.indent&&this.push(new U(d.indent)),d.contextualSpacing!==void 0&&this.push(new Q("w:contextualSpacing",d.contextualSpacing)),d.alignment&&this.push(new q(d.alignment)),d.outlineLevel!==void 0&&this.push(new Hh(d.outlineLevel)),d.suppressLineNumbers!==void 0&&this.push(new Q("w:suppressLineNumbers",d.suppressLineNumbers)),d.autoSpaceEastAsianText!==void 0&&this.push(new Q("w:autoSpaceDN",d.autoSpaceEastAsianText))}push(d){this.root.push(d)}prepForXml(d){if(d.viewWrapper instanceof uf)for(const O of this.numberingReferences)d.file.Numbering.createConcreteNumberingInstance(O.reference,O.instance);return super.prepForXml(d)}}class on extends $l{constructor(d){if(super("w:p"),typeof d=="string")return this.properties=new On({}),this.root.push(this.properties),this.root.push(new rr(d)),this;if(this.properties=new On(d),this.root.push(this.properties),d.text&&this.root.push(new rr(d.text)),d.children)for(const O of d.children)if(O instanceof jh){this.root.push(O.start);for(const ee of O.children)this.root.push(ee);this.root.push(O.end)}else this.root.push(O)}prepForXml(d){for(const O of this.root)if(O instanceof jl){const ee=this.root.indexOf(O),fe=new vi(O.options.children,(0,Tt.EL)());d.viewWrapper.Relationships.createRelationship(fe.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",O.options.link,Ds.EXTERNAL),this.root[ee]=fe}return super.prepForXml(d)}addRunToFront(d){return this.root.splice(1,0,d),this}}class dE extends a{constructor(d){super("m:oMath");for(const O of d.children)this.root.push(O)}}class hE extends a{constructor(d){super("m:t"),this.root.push(d)}}class fE extends a{constructor(d){super("m:r"),this.root.push(new hE(d))}}class ff extends a{constructor(d){super("m:den");for(const O of d)this.root.push(O)}}class pf extends a{constructor(d){super("m:num");for(const O of d)this.root.push(O)}}class pE extends a{constructor(d){super("m:f"),this.root.push(new pf(d.numerator)),this.root.push(new ff(d.denominator))}}class mE extends u{constructor(){super(...arguments),this.xmlKeys={accent:"m:val"}}}class mf extends a{constructor(d){super("m:chr"),this.root.push(new mE({accent:d}))}}class ro extends a{constructor(d){super("m:e");for(const O of d)this.root.push(O)}}class vE extends u{constructor(){super(...arguments),this.xmlKeys={value:"m:val"}}}class vf extends a{constructor(){super("m:limLoc"),this.root.push(new vE({value:"undOvr"}))}}class gE extends u{constructor(){super(...arguments),this.xmlKeys={hide:"m:val"}}}class bE extends a{constructor(){super("m:subHide"),this.root.push(new gE({hide:1}))}}class yE extends u{constructor(){super(...arguments),this.xmlKeys={hide:"m:val"}}}class wE extends a{constructor(){super("m:supHide"),this.root.push(new yE({hide:1}))}}class Ql extends a{constructor(d,O,ee){super("m:naryPr"),d&&this.root.push(new mf(d)),this.root.push(new vf),O||this.root.push(new wE),ee||this.root.push(new bE)}}class bi extends a{constructor(d){super("m:sub");for(const O of d)this.root.push(O)}}class yi extends a{constructor(d){super("m:sup");for(const O of d)this.root.push(O)}}class EE extends a{constructor(d){super("m:nary"),this.root.push(new Ql("∑",!!d.superScript,!!d.subScript)),d.subScript&&this.root.push(new bi(d.subScript)),d.superScript&&this.root.push(new yi(d.superScript)),this.root.push(new ro(d.children))}}class AE extends a{constructor(d){super("m:nary"),this.root.push(new Ql("",!!d.superScript,!!d.subScript)),d.subScript&&this.root.push(new bi(d.subScript)),d.superScript&&this.root.push(new yi(d.superScript)),this.root.push(new ro(d.children))}}class gf extends a{constructor(){super("m:sSupPr")}}class _E extends a{constructor(d){super("m:sSup"),this.root.push(new gf),this.root.push(new ro(d.children)),this.root.push(new yi(d.superScript))}}class bf extends a{constructor(){super("m:sSubPr")}}class NE extends a{constructor(d){super("m:sSub"),this.root.push(new bf),this.root.push(new ro(d.children)),this.root.push(new bi(d.subScript))}}class yf extends a{constructor(){super("m:sSubSupPr")}}class CE extends a{constructor(d){super("m:sSubSup"),this.root.push(new yf),this.root.push(new ro(d.children)),this.root.push(new bi(d.subScript)),this.root.push(new yi(d.superScript))}}class wf extends a{constructor(){super("m:sPrePr")}}class SE extends a{constructor(d){super("m:sPre"),this.root.push(new wf),this.root.push(new ro(d.children)),this.root.push(new bi(d.subScript)),this.root.push(new yi(d.superScript))}}const xE="";class Ef extends a{constructor(d){if(super("m:deg"),d)for(const O of d)this.root.push(O)}}class IE extends u{constructor(){super(...arguments),this.xmlKeys={hide:"m:val"}}}class TE extends a{constructor(){super("m:degHide"),this.root.push(new IE({hide:1}))}}class Af extends a{constructor(d){super("m:radPr"),d||this.root.push(new TE)}}class RE extends a{constructor(d){super("m:rad"),this.root.push(new Af(!!d.degree)),this.root.push(new Ef(d.degree)),this.root.push(new ro(d.children))}}class _f extends a{constructor(d){super("m:fName");for(const O of d)this.root.push(O)}}class Nf extends a{constructor(){super("m:funcPr")}}class PE extends a{constructor(d){super("m:func"),this.root.push(new Nf),this.root.push(new _f(d.name)),this.root.push(new ro(d.children))}}class DE extends u{constructor(){super(...arguments),this.xmlKeys={character:"m:val"}}}class kE extends a{constructor(d){super("m:begChr"),this.root.push(new DE({character:d}))}}class OE extends u{constructor(){super(...arguments),this.xmlKeys={character:"m:val"}}}class ME extends a{constructor(d){super("m:endChr"),this.root.push(new OE({character:d}))}}class Ms extends a{constructor(d){super("m:dPr"),d&&(this.root.push(new kE(d.beginningCharacter)),this.root.push(new ME(d.endingCharacter)))}}class LE extends a{constructor(d){super("m:d"),this.root.push(new Ms),this.root.push(new ro(d.children))}}class FE extends a{constructor(d){super("m:d"),this.root.push(new Ms({beginningCharacter:"[",endingCharacter:"]"})),this.root.push(new ro(d.children))}}class BE extends a{constructor(d){super("m:d"),this.root.push(new Ms({beginningCharacter:"{",endingCharacter:"}"})),this.root.push(new ro(d.children))}}class UE extends a{constructor(d){super("m:d"),this.root.push(new Ms({beginningCharacter:"〈",endingCharacter:"〉"})),this.root.push(new ro(d.children))}}class $E extends a{constructor(d){super("w:tblGrid");for(const O of d)this.root.push(new jE(O))}}class jE extends a{constructor(d){super("w:gridCol"),d!==void 0&&this.root.push(new h({width:{key:"w:w",value:(0,re.Jd)(d)}}))}}var wi,Ls,dr,Gl;(function(p){p.AUTO="auto",p.DXA="dxa",p.NIL="nil",p.PERCENTAGE="pct"})(wi||(wi={}));class nn extends a{constructor(d,{type:O=wi.AUTO,size:ee}){super(d);let fe=ee;O===wi.PERCENTAGE&&typeof ee=="number"&&(fe=`${ee}%`),this.root.push(new h({type:{key:"w:type",value:O},size:{key:"w:w",value:(0,re.aB)(fe)}}))}}(function(p){p.TABLE="w:tblCellMar",p.TABLE_CELL="w:tcMar"})(Ls||(Ls={}));class Cf extends l{constructor(d,{marginUnitType:O=wi.DXA,top:ee,left:fe,bottom:we,right:ke}){super(d),ee!==void 0&&this.root.push(new nn("w:top",{type:O,size:ee})),fe!==void 0&&this.root.push(new nn("w:left",{type:O,size:fe})),we!==void 0&&this.root.push(new nn("w:bottom",{type:O,size:we})),ke!==void 0&&this.root.push(new nn("w:right",{type:O,size:ke}))}}class Sf extends l{constructor(d){super("w:tcBorders"),d.top&&this.root.push(new W("w:top",d.top)),d.start&&this.root.push(new W("w:start",d.start)),d.left&&this.root.push(new W("w:left",d.left)),d.bottom&&this.root.push(new W("w:bottom",d.bottom)),d.end&&this.root.push(new W("w:end",d.end)),d.right&&this.root.push(new W("w:right",d.right))}}class qE extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class xf extends a{constructor(d){super("w:gridSpan"),this.root.push(new qE({val:(0,re.vH)(d)}))}}(function(p){p.CONTINUE="continue",p.RESTART="restart"})(dr||(dr={}));class VE extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class Kl extends a{constructor(d){super("w:vMerge"),this.root.push(new VE({val:d}))}}(function(p){p.BOTTOM_TO_TOP_LEFT_TO_RIGHT="btLr",p.LEFT_TO_RIGHT_TOP_TO_BOTTOM="lrTb",p.TOP_TO_BOTTOM_RIGHT_TO_LEFT="tbRl"})(Gl||(Gl={}));class HE extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class If extends a{constructor(d){super("w:textDirection"),this.root.push(new HE({val:d}))}}class zE extends l{constructor(d){super("w:tcPr"),d.width&&this.root.push(new nn("w:tcW",d.width)),d.columnSpan&&this.root.push(new xf(d.columnSpan)),d.verticalMerge?this.root.push(new Kl(d.verticalMerge)):d.rowSpan&&d.rowSpan>1&&this.root.push(new Kl(dr.RESTART)),d.borders&&this.root.push(new Sf(d.borders)),d.shading&&this.root.push(new De(d.shading)),d.margins&&this.root.push(new Cf(Ls.TABLE_CELL,d.margins)),d.textDirection&&this.root.push(new If(d.textDirection)),d.verticalAlign&&this.root.push(new ql(d.verticalAlign))}}class Wl extends a{constructor(d){super("w:tc"),this.options=d,this.root.push(new zE(d));for(const O of d.children)this.root.push(O)}prepForXml(d){return this.root[this.root.length-1]instanceof on||this.root.push(new on({})),super.prepForXml(d)}}const Ei={style:I.NONE,size:0,color:"auto"},Ai={style:I.SINGLE,size:4,color:"auto"};class Jl extends a{constructor(d){super("w:tblBorders"),d.top?this.root.push(new W("w:top",d.top)):this.root.push(new W("w:top",Ai)),d.left?this.root.push(new W("w:left",d.left)):this.root.push(new W("w:left",Ai)),d.bottom?this.root.push(new W("w:bottom",d.bottom)):this.root.push(new W("w:bottom",Ai)),d.right?this.root.push(new W("w:right",d.right)):this.root.push(new W("w:right",Ai)),d.insideHorizontal?this.root.push(new W("w:insideH",d.insideHorizontal)):this.root.push(new W("w:insideH",Ai)),d.insideVertical?this.root.push(new W("w:insideV",d.insideVertical)):this.root.push(new W("w:insideV",Ai))}}var Yl,Zl,Xl,ec,tc,oc,Fs,uo,nc;Jl.NONE={top:Ei,bottom:Ei,left:Ei,right:Ei,insideHorizontal:Ei,insideVertical:Ei},function(p){p.MARGIN="margin",p.PAGE="page",p.TEXT="text"}(Yl||(Yl={})),function(p){p.CENTER="center",p.INSIDE="inside",p.LEFT="left",p.OUTSIDE="outside",p.RIGHT="right"}(Zl||(Zl={})),function(p){p.CENTER="center",p.INSIDE="inside",p.BOTTOM="bottom",p.OUTSIDE="outside",p.INLINE="inline",p.TOP="top"}(Xl||(Xl={})),function(p){p.NEVER="never",p.OVERLAP="overlap"}(ec||(ec={}));class Tf extends a{constructor({horizontalAnchor:d,verticalAnchor:O,absoluteHorizontalPosition:ee,relativeHorizontalPosition:fe,absoluteVerticalPosition:we,relativeVerticalPosition:ke,bottomFromText:Ue,topFromText:We,leftFromText:Ve,rightFromText:nt,overlap:lt}){super("w:tblpPr"),this.root.push(new h({leftFromText:{key:"w:leftFromText",value:Ve===void 0?void 0:(0,re.Jd)(Ve)},rightFromText:{key:"w:rightFromText",value:nt===void 0?void 0:(0,re.Jd)(nt)},topFromText:{key:"w:topFromText",value:We===void 0?void 0:(0,re.Jd)(We)},bottomFromText:{key:"w:bottomFromText",value:Ue===void 0?void 0:(0,re.Jd)(Ue)},absoluteHorizontalPosition:{key:"w:tblpX",value:ee===void 0?void 0:(0,re.xb)(ee)},absoluteVerticalPosition:{key:"w:tblpY",value:we===void 0?void 0:(0,re.xb)(we)},horizontalAnchor:{key:"w:horzAnchor",value:d===void 0?void 0:d},relativeHorizontalPosition:{key:"w:tblpXSpec",value:fe},relativeVerticalPosition:{key:"w:tblpYSpec",value:ke},verticalAnchor:{key:"w:vertAnchor",value:O}})),lt&&this.root.push(new $("w:tblOverlap",lt))}}(function(p){p.AUTOFIT="autofit",p.FIXED="fixed"})(tc||(tc={}));class QE extends u{constructor(){super(...arguments),this.xmlKeys={type:"w:type"}}}class Rf extends a{constructor(d){super("w:tblLayout"),this.root.push(new QE({type:d}))}}class Pf extends l{constructor(d){super("w:tblPr"),d.style&&this.root.push(new Ce("w:tblStyle",d.style)),d.float&&this.root.push(new Tf(d.float)),d.visuallyRightToLeft!==void 0&&this.root.push(new Q("w:bidiVisual",d.visuallyRightToLeft)),d.width&&this.root.push(new nn("w:tblW",d.width)),d.alignment&&this.root.push(new q(d.alignment)),d.indent&&this.root.push(new nn("w:tblInd",d.indent)),d.borders&&this.root.push(new Jl(d.borders)),d.shading&&this.root.push(new De(d.shading)),d.layout&&this.root.push(new Rf(d.layout)),d.cellMargin&&this.root.push(new Cf(Ls.TABLE,d.cellMargin))}}class GE extends $l{constructor({rows:d,width:O,columnWidths:ee=Array(Math.max(...d.map(wt=>wt.CellCount))).fill(100),margins:fe,indent:we,float:ke,layout:Ue,style:We,borders:Ve,alignment:nt,visuallyRightToLeft:lt}){super("w:tbl"),this.root.push(new Pf({borders:Ve??{},width:O??{size:100},indent:we,float:ke,layout:Ue,style:We,alignment:nt,cellMargin:fe,visuallyRightToLeft:lt})),this.root.push(new $E(ee));for(const wt of d)this.root.push(wt);d.forEach((wt,Qt)=>{if(Qt===d.length-1)return;let Do=0;wt.cells.forEach(so=>{if(so.options.rowSpan&&so.options.rowSpan>1){const sn=new Wl({rowSpan:so.options.rowSpan-1,columnSpan:so.options.columnSpan,borders:so.options.borders,children:[],verticalMerge:dr.CONTINUE});d[Qt+1].addCellToColumnIndex(sn,Do)}Do+=so.options.columnSpan||1})})}}(function(p){p.AUTO="auto",p.ATLEAST="atLeast",p.EXACT="exact"})(oc||(oc={}));class Df extends u{constructor(){super(...arguments),this.xmlKeys={value:"w:val",rule:"w:hRule"}}}class kf extends a{constructor(d,O){super("w:trHeight"),this.root.push(new Df({value:(0,re.Jd)(d),rule:O}))}}class Of extends l{constructor(d){super("w:trPr"),d.cantSplit!==void 0&&this.root.push(new Q("w:cantSplit",d.cantSplit)),d.tableHeader!==void 0&&this.root.push(new Q("w:tblHeader",d.tableHeader)),d.height&&this.root.push(new kf(d.height.value,d.height.rule))}}class KE extends a{constructor(d){super("w:tr"),this.options=d,this.root.push(new Of(d));for(const O of d.children)this.root.push(O)}get CellCount(){return this.options.children.length}get cells(){return this.root.filter(d=>d instanceof Wl)}addCellToIndex(d,O){this.root.splice(O+1,0,d)}addCellToColumnIndex(d,O){const ee=this.columnIndexToRootIndex(O,!0);this.addCellToIndex(d,ee-1)}rootIndexToColumnIndex(d){if(d<1||d>=this.root.length)throw new Error("cell 'rootIndex' should between 1 to "+(this.root.length-1));let O=0;for(let ee=1;ee<d;ee++)O+=this.root[ee].options.columnSpan||1;return O}columnIndexToRootIndex(d,O=!1){if(d<0)throw new Error("cell 'columnIndex' should not less than zero");let ee=0,fe=1;for(;ee<=d;){if(fe>=this.root.length){if(O)return this.root.length;throw new Error("cell 'columnIndex' should not great than "+(ee-1))}const we=this.root[fe];fe+=1,ee+=we&&we.options.columnSpan||1}return fe-1}}class WE extends u{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns",vt:"xmlns:vt"}}}class JE extends a{constructor(){super("Properties"),this.root.push(new WE({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class YE extends u{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns"}}}class ZE extends u{constructor(){super(...arguments),this.xmlKeys={contentType:"ContentType",extension:"Extension"}}}class Mn extends a{constructor(d,O){super("Default"),this.root.push(new ZE({contentType:d,extension:O}))}}class XE extends u{constructor(){super(...arguments),this.xmlKeys={contentType:"ContentType",partName:"PartName"}}}class Eo extends a{constructor(d,O){super("Override"),this.root.push(new XE({contentType:d,partName:O}))}}class e1 extends a{constructor(){super("Types"),this.root.push(new YE({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new Mn("image/png","png")),this.root.push(new Mn("image/jpeg","jpeg")),this.root.push(new Mn("image/jpeg","jpg")),this.root.push(new Mn("image/bmp","bmp")),this.root.push(new Mn("image/gif","gif")),this.root.push(new Mn("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new Mn("application/xml","xml")),this.root.push(new Eo("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new Eo("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new Eo("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new Eo("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new Eo("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new Eo("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new Eo("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new Eo("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new Eo("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml"))}addFooter(d){this.root.push(new Eo("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${d}.xml`))}addHeader(d){this.root.push(new Eo("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${d}.xml`))}}class t1 extends a{constructor(d){super("cp:coreProperties"),this.root.push(new gi({cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"})),d.title&&this.root.push(new oe("dc:title",d.title)),d.subject&&this.root.push(new oe("dc:subject",d.subject)),d.creator&&this.root.push(new oe("dc:creator",d.creator)),d.keywords&&this.root.push(new oe("cp:keywords",d.keywords)),d.description&&this.root.push(new oe("dc:description",d.description)),d.lastModifiedBy&&this.root.push(new oe("cp:lastModifiedBy",d.lastModifiedBy)),d.revision&&this.root.push(new oe("cp:revision",String(d.revision))),this.root.push(new Mf("dcterms:created")),this.root.push(new Mf("dcterms:modified"))}}class Mf extends a{constructor(d){super(d),this.root.push(new gi({type:"dcterms:W3CDTF"})),this.root.push((0,re.sF)(new Date))}}class o1 extends u{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns",vt:"xmlns:vt"}}}class n1 extends u{constructor(){super(...arguments),this.xmlKeys={fmtid:"fmtid",pid:"pid",name:"name"}}}class i1 extends a{constructor(d,O){super("property"),this.root.push(new n1({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:d.toString(),name:O.name})),this.root.push(new r1(O.value))}}class r1 extends a{constructor(d){super("vt:lpwstr"),this.root.push(d)}}class s1 extends a{constructor(d){super("Properties"),this.properties=[],this.root.push(new o1({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const O of d)this.addCustomProperty(O)}prepForXml(d){return this.properties.forEach(O=>this.root.push(O)),super.prepForXml(d)}addCustomProperty(d){this.properties.push(new i1(this.nextId++,d))}}class a1 extends u{constructor(){super(...arguments),this.xmlKeys={wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"}}}class l1 extends y{constructor(d,O){super("w:ftr",O),this.refId=d,O||this.root.push(new a1({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(d){this.root.push(d)}}class Lf{constructor(d,O,ee){this.media=d,this.footer=new l1(O,ee),this.relationships=new ur}add(d){this.footer.add(d)}addChildElement(d){this.footer.addChildElement(d)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class c1 extends u{constructor(){super(...arguments),this.xmlKeys={type:"w:type",id:"w:id"}}}class u1 extends a{constructor(){super("w:footnoteRef")}}class d1 extends Yt{constructor(){super({style:"FootnoteReference"}),this.root.push(new u1)}}(function(p){p.SEPERATOR="separator",p.CONTINUATION_SEPERATOR="continuationSeparator"})(Fs||(Fs={}));class ic extends a{constructor(d){super("w:footnote"),this.root.push(new c1({type:d.type,id:d.id}));for(let O=0;O<d.children.length;O++){const ee=d.children[O];O===0&&ee.addRunToFront(new d1),this.root.push(ee)}}}class h1 extends a{constructor(){super("w:continuationSeparator")}}class f1 extends Yt{constructor(){super({}),this.root.push(new h1)}}class p1 extends a{constructor(){super("w:separator")}}class m1 extends Yt{constructor(){super({}),this.root.push(new p1)}}class v1 extends u{constructor(){super(...arguments),this.xmlKeys={wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"}}}class Ff extends a{constructor(){super("w:footnotes"),this.root.push(new v1({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const d=new ic({id:-1,type:Fs.SEPERATOR,children:[new on({spacing:{after:0,line:240,lineRule:mi.AUTO},children:[new m1]})]});this.root.push(d);const O=new ic({id:0,type:Fs.CONTINUATION_SEPERATOR,children:[new on({spacing:{after:0,line:240,lineRule:mi.AUTO},children:[new f1]})]});this.root.push(O)}createFootNote(d,O){const ee=new ic({id:d,children:O});this.root.push(ee)}}class g1{constructor(){this.footnotess=new Ff,this.relationships=new ur}get View(){return this.footnotess}get Relationships(){return this.relationships}}class b1 extends u{constructor(){super(...arguments),this.xmlKeys={wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"}}}class y1 extends y{constructor(d,O){super("w:hdr",O),this.refId=d,O||this.root.push(new b1({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(d){this.root.push(d)}}class Bf{constructor(d,O,ee){this.media=d,this.header=new y1(O,ee),this.relationships=new ur}add(d){return this.header.add(d),this}addChildElement(d){this.header.addChildElement(d)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class rc{constructor(){this.map=new Map}addImage(d,O){this.map.set(d,O)}get Array(){return Array.from(this.map.values())}}(function(p){p.DECIMAL="decimal",p.UPPER_ROMAN="upperRoman",p.LOWER_ROMAN="lowerRoman",p.UPPER_LETTER="upperLetter",p.LOWER_LETTER="lowerLetter",p.ORDINAL="ordinal",p.CARDINAL_TEXT="cardinalText",p.ORDINAL_TEXT="ordinalText",p.HEX="hex",p.CHICAGO="chicago",p.IDEOGRAPH__DIGITAL="ideographDigital",p.JAPANESE_COUNTING="japaneseCounting",p.AIUEO="aiueo",p.IROHA="iroha",p.DECIMAL_FULL_WIDTH="decimalFullWidth",p.DECIMAL_HALF_WIDTH="decimalHalfWidth",p.JAPANESE_LEGAL="japaneseLegal",p.JAPANESE_DIGITAL_TEN_THOUSAND="japaneseDigitalTenThousand",p.DECIMAL_ENCLOSED_CIRCLE="decimalEnclosedCircle",p.DECIMAL_FULL_WIDTH2="decimalFullWidth2",p.AIUEO_FULL_WIDTH="aiueoFullWidth",p.IROHA_FULL_WIDTH="irohaFullWidth",p.DECIMAL_ZERO="decimalZero",p.BULLET="bullet",p.GANADA="ganada",p.CHOSUNG="chosung",p.DECIMAL_ENCLOSED_FULLSTOP="decimalEnclosedFullstop",p.DECIMAL_ENCLOSED_PARENTHESES="decimalEnclosedParen",p.DECIMAL_ENCLOSED_CIRCLE_CHINESE="decimalEnclosedCircleChinese",p.IDEOGRAPH_ENCLOSED_CIRCLE="ideographEnclosedCircle",p.IDEOGRAPH_TRADITIONAL="ideographTraditional",p.IDEOGRAPH_ZODIAC="ideographZodiac",p.IDEOGRAPH_ZODIAC_TRADITIONAL="ideographZodiacTraditional",p.TAIWANESE_COUNTING="taiwaneseCounting",p.IDEOGRAPH_LEGAL_TRADITIONAL="ideographLegalTraditional",p.TAIWANESE_COUNTING_THOUSAND="taiwaneseCountingThousand",p.TAIWANESE_DIGITAL="taiwaneseDigital",p.CHINESE_COUNTING="chineseCounting",p.CHINESE_LEGAL_SIMPLIFIED="chineseLegalSimplified",p.CHINESE_COUNTING_THOUSAND="chineseCountingThousand",p.KOREAN_DIGITAL="koreanDigital",p.KOREAN_COUNTING="koreanCounting",p.KOREAN_LEGAL="koreanLegal",p.KOREAN_DIGITAL2="koreanDigital2",p.VIETNAMESE_COUNTING="vietnameseCounting",p.RUSSIAN_LOWER="russianLower",p.RUSSIAN_UPPER="russianUpper",p.NONE="none",p.NUMBER_IN_DASH="numberInDash",p.HEBREW1="hebrew1",p.HEBREW2="hebrew2",p.ARABIC_ALPHA="arabicAlpha",p.ARABIC_ABJAD="arabicAbjad",p.HINDI_VOWELS="hindiVowels",p.HINDI_CONSONANTS="hindiConsonants",p.HINDI_NUMBERS="hindiNumbers",p.HINDI_COUNTING="hindiCounting",p.THAI_LETTERS="thaiLetters",p.THAI_NUMBERS="thaiNumbers",p.THAI_COUNTING="thaiCounting",p.BAHT_TEXT="bahtText",p.DOLLAR_TEXT="dollarText",p.CUSTOM="custom"})(uo||(uo={}));class w1 extends u{constructor(){super(...arguments),this.xmlKeys={ilvl:"w:ilvl",tentative:"w15:tentative"}}}class E1 extends a{constructor(d){super("w:numFmt"),this.root.push(new f({val:d}))}}class A1 extends a{constructor(d){super("w:lvlText"),this.root.push(new f({val:d}))}}class _1 extends a{constructor(d){super("w:lvlJc"),this.root.push(new f({val:d}))}}(function(p){p.NOTHING="nothing",p.SPACE="space",p.TAB="tab"})(nc||(nc={}));class N1 extends a{constructor(d){super("w:suff"),this.root.push(new f({val:d}))}}class C1 extends a{constructor(){super("w:isLgl")}}class sc extends a{constructor({level:d,format:O,text:ee,alignment:fe=w.START,start:we=1,style:ke,suffix:Ue,isLegalNumberingStyle:We}){if(super("w:lvl"),this.root.push(new x("w:start",(0,re.vH)(we))),O&&this.root.push(new E1(O)),Ue&&this.root.push(new N1(Ue)),We&&this.root.push(new C1),ee&&this.root.push(new A1(ee)),this.root.push(new _1(fe)),this.paragraphProperties=new On(ke&&ke.paragraph),this.runProperties=new wo(ke&&ke.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),d>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new w1({ilvl:(0,re.vH)(d),tentative:1}))}}class Uf extends sc{}class S1 extends sc{}class x1 extends a{constructor(d){super("w:multiLevelType"),this.root.push(new f({val:d}))}}class I1 extends u{constructor(){super(...arguments),this.xmlKeys={abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"}}}class ac extends a{constructor(d,O){super("w:abstractNum"),this.root.push(new I1({abstractNumId:(0,re.vH)(d),restartNumberingAfterBreak:0})),this.root.push(new x1("hybridMultilevel")),this.id=d;for(const ee of O)this.root.push(new Uf(ee))}}class T1 extends a{constructor(d){super("w:abstractNumId"),this.root.push(new f({val:d}))}}class R1 extends u{constructor(){super(...arguments),this.xmlKeys={numId:"w:numId"}}}class lc extends a{constructor(d){if(super("w:num"),this.numId=d.numId,this.reference=d.reference,this.instance=d.instance,this.root.push(new R1({numId:(0,re.vH)(d.numId)})),this.root.push(new T1((0,re.vH)(d.abstractNumId))),d.overrideLevels&&d.overrideLevels.length)for(const O of d.overrideLevels)this.root.push(new $f(O.num,O.start))}}class P1 extends u{constructor(){super(...arguments),this.xmlKeys={ilvl:"w:ilvl"}}}class $f extends a{constructor(d,O){super("w:lvlOverride"),this.root.push(new P1({ilvl:d})),O!==void 0&&this.root.push(new k1(O))}}class D1 extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class k1 extends a{constructor(d){super("w:startOverride"),this.root.push(new D1({val:d}))}}class jf extends a{constructor(d){super("w:numbering"),this.abstractNumberingMap=new Map,this.concreteNumberingMap=new Map,this.referenceConfigMap=new Map,this.root.push(new gi({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const O=new ac((0,Tt.NY)(),[{level:0,format:uo.BULLET,text:"●",alignment:w.LEFT,style:{paragraph:{indent:{left:(0,Tt.vw)(.5),hanging:(0,Tt.vw)(.25)}}}},{level:1,format:uo.BULLET,text:"○",alignment:w.LEFT,style:{paragraph:{indent:{left:(0,Tt.vw)(1),hanging:(0,Tt.vw)(.25)}}}},{level:2,format:uo.BULLET,text:"■",alignment:w.LEFT,style:{paragraph:{indent:{left:2160,hanging:(0,Tt.vw)(.25)}}}},{level:3,format:uo.BULLET,text:"●",alignment:w.LEFT,style:{paragraph:{indent:{left:2880,hanging:(0,Tt.vw)(.25)}}}},{level:4,format:uo.BULLET,text:"○",alignment:w.LEFT,style:{paragraph:{indent:{left:3600,hanging:(0,Tt.vw)(.25)}}}},{level:5,format:uo.BULLET,text:"■",alignment:w.LEFT,style:{paragraph:{indent:{left:4320,hanging:(0,Tt.vw)(.25)}}}},{level:6,format:uo.BULLET,text:"●",alignment:w.LEFT,style:{paragraph:{indent:{left:5040,hanging:(0,Tt.vw)(.25)}}}},{level:7,format:uo.BULLET,text:"●",alignment:w.LEFT,style:{paragraph:{indent:{left:5760,hanging:(0,Tt.vw)(.25)}}}},{level:8,format:uo.BULLET,text:"●",alignment:w.LEFT,style:{paragraph:{indent:{left:6480,hanging:(0,Tt.vw)(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new lc({numId:1,abstractNumId:O.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",O);for(const ee of d.config)this.abstractNumberingMap.set(ee.reference,new ac((0,Tt.NY)(),ee.levels)),this.referenceConfigMap.set(ee.reference,ee.levels)}prepForXml(d){for(const O of this.abstractNumberingMap.values())this.root.push(O);for(const O of this.concreteNumberingMap.values())this.root.push(O);return super.prepForXml(d)}createConcreteNumberingInstance(d,O){const ee=this.abstractNumberingMap.get(d);if(!ee)return;const fe=`${d}-${O}`;if(this.concreteNumberingMap.has(fe))return;const we=this.referenceConfigMap.get(d),ke=we&&we[0].start,Ue={numId:(0,Tt.NY)(),abstractNumId:ee.id,reference:d,instance:O,overrideLevel:ke&&Number.isInteger(ke)?{num:0,start:ke}:{num:0,start:1}};this.concreteNumberingMap.set(fe,new lc(Ue))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class O1 extends u{constructor(){super(...arguments),this.xmlKeys={version:"w:val",name:"w:name",uri:"w:uri"}}}class M1 extends a{constructor(d){super("w:compatSetting"),this.root.push(new O1({version:d,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class L1 extends a{constructor(d){super("w:compat"),d.version&&this.root.push(new M1(d.version)),d.useSingleBorderforContiguousCells&&this.root.push(new Q("w:useSingleBorderforContiguousCells",d.useSingleBorderforContiguousCells)),d.wordPerfectJustification&&this.root.push(new Q("w:wpJustification",d.wordPerfectJustification)),d.noTabStopForHangingIndent&&this.root.push(new Q("w:noTabHangInd",d.noTabStopForHangingIndent)),d.noLeading&&this.root.push(new Q("w:noLeading",d.noLeading)),d.spaceForUnderline&&this.root.push(new Q("w:spaceForUL",d.spaceForUnderline)),d.noColumnBalance&&this.root.push(new Q("w:noColumnBalance",d.noColumnBalance)),d.balanceSingleByteDoubleByteWidth&&this.root.push(new Q("w:balanceSingleByteDoubleByteWidth",d.balanceSingleByteDoubleByteWidth)),d.noExtraLineSpacing&&this.root.push(new Q("w:noExtraLineSpacing",d.noExtraLineSpacing)),d.doNotLeaveBackslashAlone&&this.root.push(new Q("w:doNotLeaveBackslashAlone",d.doNotLeaveBackslashAlone)),d.underlineTrailingSpaces&&this.root.push(new Q("w:ulTrailSpace",d.underlineTrailingSpaces)),d.doNotExpandShiftReturn&&this.root.push(new Q("w:doNotExpandShiftReturn",d.doNotExpandShiftReturn)),d.spacingInWholePoints&&this.root.push(new Q("w:spacingInWholePoints",d.spacingInWholePoints)),d.lineWrapLikeWord6&&this.root.push(new Q("w:lineWrapLikeWord6",d.lineWrapLikeWord6)),d.printBodyTextBeforeHeader&&this.root.push(new Q("w:printBodyTextBeforeHeader",d.printBodyTextBeforeHeader)),d.printColorsBlack&&this.root.push(new Q("w:printColBlack",d.printColorsBlack)),d.spaceWidth&&this.root.push(new Q("w:wpSpaceWidth",d.spaceWidth)),d.showBreaksInFrames&&this.root.push(new Q("w:showBreaksInFrames",d.showBreaksInFrames)),d.subFontBySize&&this.root.push(new Q("w:subFontBySize",d.subFontBySize)),d.suppressBottomSpacing&&this.root.push(new Q("w:suppressBottomSpacing",d.suppressBottomSpacing)),d.suppressTopSpacing&&this.root.push(new Q("w:suppressTopSpacing",d.suppressTopSpacing)),d.suppressSpacingAtTopOfPage&&this.root.push(new Q("w:suppressSpacingAtTopOfPage",d.suppressSpacingAtTopOfPage)),d.suppressTopSpacingWP&&this.root.push(new Q("w:suppressTopSpacingWP",d.suppressTopSpacingWP)),d.suppressSpBfAfterPgBrk&&this.root.push(new Q("w:suppressSpBfAfterPgBrk",d.suppressSpBfAfterPgBrk)),d.swapBordersFacingPages&&this.root.push(new Q("w:swapBordersFacingPages",d.swapBordersFacingPages)),d.convertMailMergeEsc&&this.root.push(new Q("w:convMailMergeEsc",d.convertMailMergeEsc)),d.truncateFontHeightsLikeWP6&&this.root.push(new Q("w:truncateFontHeightsLikeWP6",d.truncateFontHeightsLikeWP6)),d.macWordSmallCaps&&this.root.push(new Q("w:mwSmallCaps",d.macWordSmallCaps)),d.usePrinterMetrics&&this.root.push(new Q("w:usePrinterMetrics",d.usePrinterMetrics)),d.doNotSuppressParagraphBorders&&this.root.push(new Q("w:doNotSuppressParagraphBorders",d.doNotSuppressParagraphBorders)),d.wrapTrailSpaces&&this.root.push(new Q("w:wrapTrailSpaces",d.wrapTrailSpaces)),d.footnoteLayoutLikeWW8&&this.root.push(new Q("w:footnoteLayoutLikeWW8",d.footnoteLayoutLikeWW8)),d.shapeLayoutLikeWW8&&this.root.push(new Q("w:shapeLayoutLikeWW8",d.shapeLayoutLikeWW8)),d.alignTablesRowByRow&&this.root.push(new Q("w:alignTablesRowByRow",d.alignTablesRowByRow)),d.forgetLastTabAlignment&&this.root.push(new Q("w:forgetLastTabAlignment",d.forgetLastTabAlignment)),d.adjustLineHeightInTable&&this.root.push(new Q("w:adjustLineHeightInTable",d.adjustLineHeightInTable)),d.autoSpaceLikeWord95&&this.root.push(new Q("w:autoSpaceLikeWord95",d.autoSpaceLikeWord95)),d.noSpaceRaiseLower&&this.root.push(new Q("w:noSpaceRaiseLower",d.noSpaceRaiseLower)),d.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new Q("w:doNotUseHTMLParagraphAutoSpacing",d.doNotUseHTMLParagraphAutoSpacing)),d.layoutRawTableWidth&&this.root.push(new Q("w:layoutRawTableWidth",d.layoutRawTableWidth)),d.layoutTableRowsApart&&this.root.push(new Q("w:layoutTableRowsApart",d.layoutTableRowsApart)),d.useWord97LineBreakRules&&this.root.push(new Q("w:useWord97LineBreakRules",d.useWord97LineBreakRules)),d.doNotBreakWrappedTables&&this.root.push(new Q("w:doNotBreakWrappedTables",d.doNotBreakWrappedTables)),d.doNotSnapToGridInCell&&this.root.push(new Q("w:doNotSnapToGridInCell",d.doNotSnapToGridInCell)),d.selectFieldWithFirstOrLastCharacter&&this.root.push(new Q("w:selectFldWithFirstOrLastChar",d.selectFieldWithFirstOrLastCharacter)),d.applyBreakingRules&&this.root.push(new Q("w:applyBreakingRules",d.applyBreakingRules)),d.doNotWrapTextWithPunctuation&&this.root.push(new Q("w:doNotWrapTextWithPunct",d.doNotWrapTextWithPunctuation)),d.doNotUseEastAsianBreakRules&&this.root.push(new Q("w:doNotUseEastAsianBreakRules",d.doNotUseEastAsianBreakRules)),d.useWord2002TableStyleRules&&this.root.push(new Q("w:useWord2002TableStyleRules",d.useWord2002TableStyleRules)),d.growAutofit&&this.root.push(new Q("w:growAutofit",d.growAutofit)),d.useFELayout&&this.root.push(new Q("w:useFELayout",d.useFELayout)),d.useNormalStyleForList&&this.root.push(new Q("w:useNormalStyleForList",d.useNormalStyleForList)),d.doNotUseIndentAsNumberingTabStop&&this.root.push(new Q("w:doNotUseIndentAsNumberingTabStop",d.doNotUseIndentAsNumberingTabStop)),d.useAlternateEastAsianLineBreakRules&&this.root.push(new Q("w:useAltKinsokuLineBreakRules",d.useAlternateEastAsianLineBreakRules)),d.allowSpaceOfSameStyleInTable&&this.root.push(new Q("w:allowSpaceOfSameStyleInTable",d.allowSpaceOfSameStyleInTable)),d.doNotSuppressIndentation&&this.root.push(new Q("w:doNotSuppressIndentation",d.doNotSuppressIndentation)),d.doNotAutofitConstrainedTables&&this.root.push(new Q("w:doNotAutofitConstrainedTables",d.doNotAutofitConstrainedTables)),d.autofitToFirstFixedWidthCell&&this.root.push(new Q("w:autofitToFirstFixedWidthCell",d.autofitToFirstFixedWidthCell)),d.underlineTabInNumberingList&&this.root.push(new Q("w:underlineTabInNumList",d.underlineTabInNumberingList)),d.displayHangulFixedWidth&&this.root.push(new Q("w:displayHangulFixedWidth",d.displayHangulFixedWidth)),d.splitPgBreakAndParaMark&&this.root.push(new Q("w:splitPgBreakAndParaMark",d.splitPgBreakAndParaMark)),d.doNotVerticallyAlignCellWithSp&&this.root.push(new Q("w:doNotVertAlignCellWithSp",d.doNotVerticallyAlignCellWithSp)),d.doNotBreakConstrainedForcedTable&&this.root.push(new Q("w:doNotBreakConstrainedForcedTable",d.doNotBreakConstrainedForcedTable)),d.ignoreVerticalAlignmentInTextboxes&&this.root.push(new Q("w:doNotVertAlignInTxbx",d.ignoreVerticalAlignmentInTextboxes)),d.useAnsiKerningPairs&&this.root.push(new Q("w:useAnsiKerningPairs",d.useAnsiKerningPairs)),d.cachedColumnBalance&&this.root.push(new Q("w:cachedColBalance",d.cachedColumnBalance))}}class F1 extends u{constructor(){super(...arguments),this.xmlKeys={wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"}}}class B1 extends a{constructor(d){var O,ee,fe,we;super("w:settings"),this.root.push(new F1({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new Q("w:displayBackgroundShape",!0)),d.trackRevisions!==void 0&&this.root.push(new Q("w:trackRevisions",d.trackRevisions)),d.evenAndOddHeaders!==void 0&&this.root.push(new Q("w:evenAndOddHeaders",d.evenAndOddHeaders)),d.updateFields!==void 0&&this.root.push(new Q("w:updateFields",d.updateFields)),this.root.push(new L1(Object.assign(Object.assign({},(O=d.compatibility)!==null&&O!==void 0?O:{}),{version:(we=(fe=(ee=d.compatibility)===null||ee===void 0?void 0:ee.version)!==null&&fe!==void 0?fe:d.compatibilityModeVersion)!==null&&we!==void 0?we:15})))}}class qf extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class U1 extends a{constructor(d){super("w:name"),this.root.push(new qf({val:d}))}}class $1 extends a{constructor(d){super("w:uiPriority"),this.root.push(new qf({val:(0,re.vH)(d)}))}}class j1 extends u{constructor(){super(...arguments),this.xmlKeys={type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"}}}class Vf extends a{constructor(d,O){super("w:style"),this.root.push(new j1(d)),O.name&&this.root.push(new U1(O.name)),O.basedOn&&this.root.push(new Ce("w:basedOn",O.basedOn)),O.next&&this.root.push(new Ce("w:next",O.next)),O.link&&this.root.push(new Ce("w:link",O.link)),O.uiPriority!==void 0&&this.root.push(new $1(O.uiPriority)),O.semiHidden!==void 0&&this.root.push(new Q("w:semiHidden",O.semiHidden)),O.unhideWhenUsed!==void 0&&this.root.push(new Q("w:unhideWhenUsed",O.unhideWhenUsed)),O.quickFormat!==void 0&&this.root.push(new Q("w:qFormat",O.quickFormat))}}class hr extends Vf{constructor(d){super({type:"paragraph",styleId:d.id},d),this.paragraphProperties=new On(d.paragraph),this.runProperties=new wo(d.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class fr extends Vf{constructor(d){super({type:"character",styleId:d.id},Object.assign({uiPriority:99,unhideWhenUsed:!0},d)),this.runProperties=new wo(d.run),this.root.push(this.runProperties)}}class rn extends hr{constructor(d){super(Object.assign(Object.assign({},d),{basedOn:"Normal",next:"Normal",quickFormat:!0}))}}class q1 extends rn{constructor(d){super(Object.assign(Object.assign({},d),{id:"Title",name:"Title"}))}}class V1 extends rn{constructor(d){super(Object.assign(Object.assign({},d),{id:"Heading1",name:"Heading 1"}))}}class H1 extends rn{constructor(d){super(Object.assign(Object.assign({},d),{id:"Heading2",name:"Heading 2"}))}}class z1 extends rn{constructor(d){super(Object.assign(Object.assign({},d),{id:"Heading3",name:"Heading 3"}))}}class Q1 extends rn{constructor(d){super(Object.assign(Object.assign({},d),{id:"Heading4",name:"Heading 4"}))}}class G1 extends rn{constructor(d){super(Object.assign(Object.assign({},d),{id:"Heading5",name:"Heading 5"}))}}class K1 extends rn{constructor(d){super(Object.assign(Object.assign({},d),{id:"Heading6",name:"Heading 6"}))}}class W1 extends rn{constructor(d){super(Object.assign(Object.assign({},d),{id:"Strong",name:"Strong"}))}}class J1 extends hr{constructor(d){super(Object.assign(Object.assign({},d),{id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0}))}}class Y1 extends hr{constructor(d){super(Object.assign(Object.assign({},d),{id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:mi.AUTO}},run:{size:20}}))}}class Z1 extends fr{constructor(d){super(Object.assign(Object.assign({},d),{id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}}))}}class X1 extends fr{constructor(d){super(Object.assign(Object.assign({},d),{id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}}))}}class eA extends fr{constructor(d){super(Object.assign(Object.assign({},d),{id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:G.SINGLE}}}))}}class Bs extends a{constructor(d){if(super("w:styles"),d.initialStyles&&this.root.push(d.initialStyles),d.importedStyles)for(const O of d.importedStyles)this.root.push(O);if(d.paragraphStyles)for(const O of d.paragraphStyles)this.root.push(new hr(O));if(d.characterStyles)for(const O of d.characterStyles)this.root.push(new fr(O))}}class Hf extends a{constructor(d){super("w:pPrDefault"),this.root.push(new On(d))}}class zf extends a{constructor(d){super("w:rPrDefault"),this.root.push(new wo(d))}}class Qf extends a{constructor(d){super("w:docDefaults"),this.runPropertiesDefaults=new zf(d.run),this.paragraphPropertiesDefaults=new Hf(d.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class tA{newInstance(d){const O=(0,g.xml2js)(d,{compact:!1});let ee;for(const we of O.elements||[])we.name==="w:styles"&&(ee=we);if(ee===void 0)throw new Error("can not find styles element");const fe=ee.elements||[];return new Bs({initialStyles:new S(ee.attributes),importedStyles:fe.map(we=>b(we))})}}class Gf{newInstance(d={}){var O;return{initialStyles:new gi({mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",Ignorable:"w14 w15"}),importedStyles:[new Qf((O=d.document)!==null&&O!==void 0?O:{}),new q1(Object.assign({run:{size:56}},d.title)),new V1(Object.assign({run:{color:"2E74B5",size:32}},d.heading1)),new H1(Object.assign({run:{color:"2E74B5",size:26}},d.heading2)),new z1(Object.assign({run:{color:"1F4D78",size:24}},d.heading3)),new Q1(Object.assign({run:{color:"2E74B5",italics:!0}},d.heading4)),new G1(Object.assign({run:{color:"2E74B5"}},d.heading5)),new K1(Object.assign({run:{color:"1F4D78"}},d.heading6)),new W1(Object.assign({run:{bold:!0}},d.strong)),new J1(d.listParagraph||{}),new eA(d.hyperlink||{}),new Z1(d.footnoteReference||{}),new Y1(d.footnoteText||{}),new X1(d.footnoteTextChar||{})]}}}class Kf{constructor(d){var O,ee,fe,we,ke,Ue,We;if(this.currentRelationshipId=1,this.headers=[],this.footers=[],this.coreProperties=new t1(Object.assign(Object.assign({},d),{creator:(O=d.creator)!==null&&O!==void 0?O:"Un-named",revision:(ee=d.revision)!==null&&ee!==void 0?ee:1,lastModifiedBy:(fe=d.lastModifiedBy)!==null&&fe!==void 0?fe:"Un-named"})),this.numbering=new jf(d.numbering?d.numbering:{config:[]}),this.comments=new Oh((we=d.comments)!==null&&we!==void 0?we:{children:[]}),this.fileRelationships=new ur,this.customProperties=new s1((ke=d.customProperties)!==null&&ke!==void 0?ke:[]),this.appProperties=new JE,this.footnotesWrapper=new g1,this.contentTypes=new e1,this.documentWrapper=new uf({background:d.background}),this.settings=new B1({compatibilityModeVersion:d.compatabilityModeVersion,compatibility:d.compatibility,evenAndOddHeaders:!!d.evenAndOddHeaderAndFooters,trackRevisions:(Ue=d.features)===null||Ue===void 0?void 0:Ue.trackRevisions,updateFields:(We=d.features)===null||We===void 0?void 0:We.updateFields}),this.media=new rc,d.externalStyles){const Ve=new tA;this.styles=Ve.newInstance(d.externalStyles)}else if(d.styles){const Ve=new Gf().newInstance(d.styles.default);this.styles=new Bs(Object.assign(Object.assign({},Ve),d.styles))}else{const Ve=new Gf;this.styles=new Bs(Ve.newInstance())}this.addDefaultRelationships();for(const Ve of d.sections)this.addSection(Ve);if(d.footnotes)for(const Ve in d.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(Ve),d.footnotes[Ve].children)}addSection({headers:d={},footers:O={},children:ee,properties:fe}){this.documentWrapper.View.Body.addSection(Object.assign(Object.assign({},fe),{headerWrapperGroup:{default:d.default?this.createHeader(d.default):void 0,first:d.first?this.createHeader(d.first):void 0,even:d.even?this.createHeader(d.even):void 0},footerWrapperGroup:{default:O.default?this.createFooter(O.default):void 0,first:O.first?this.createFooter(O.first):void 0,even:O.even?this.createFooter(O.even):void 0}}));for(const we of ee)this.documentWrapper.View.add(we)}createHeader(d){const O=new Bf(this.media,this.currentRelationshipId++);for(const ee of d.options.children)O.add(ee);return this.addHeaderToDocument(O),O}createFooter(d){const O=new Lf(this.media,this.currentRelationshipId++);for(const ee of d.options.children)O.add(ee);return this.addFooterToDocument(O),O}addHeaderToDocument(d,O=qo.DEFAULT){this.headers.push({header:d,type:O}),this.documentWrapper.Relationships.createRelationship(d.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(d,O=qo.DEFAULT){this.footers.push({footer:d,type:O}),this.documentWrapper.Relationships.createRelationship(d.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(d=>d.header)}get Footers(){return this.footers.map(d=>d.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}}const oA="";class nA extends a{constructor(d={}){super("w:instrText"),this.properties=d,this.root.push(new pe({space:R.PRESERVE}));let O="TOC";this.properties.captionLabel&&(O=`${O} \\a "${this.properties.captionLabel}"`),this.properties.entriesFromBookmark&&(O=`${O} \\b "${this.properties.entriesFromBookmark}"`),this.properties.captionLabelIncludingNumbers&&(O=`${O} \\c "${this.properties.captionLabelIncludingNumbers}"`),this.properties.sequenceAndPageNumbersSeparator&&(O=`${O} \\d "${this.properties.sequenceAndPageNumbersSeparator}"`),this.properties.tcFieldIdentifier&&(O=`${O} \\f "${this.properties.tcFieldIdentifier}"`),this.properties.hyperlink&&(O=`${O} \\h`),this.properties.tcFieldLevelRange&&(O=`${O} \\l "${this.properties.tcFieldLevelRange}"`),this.properties.pageNumbersEntryLevelsRange&&(O=`${O} \\n "${this.properties.pageNumbersEntryLevelsRange}"`),this.properties.headingStyleRange&&(O=`${O} \\o "${this.properties.headingStyleRange}"`),this.properties.entryAndPageNumberSeparator&&(O=`${O} \\p "${this.properties.entryAndPageNumberSeparator}"`),this.properties.seqFieldIdentifierForPrefix&&(O=`${O} \\s "${this.properties.seqFieldIdentifierForPrefix}"`),this.properties.stylesWithLevels&&this.properties.stylesWithLevels.length&&(O=`${O} \\t "${this.properties.stylesWithLevels.map(ee=>`${ee.styleName},${ee.level}`).join(",")}"`),this.properties.useAppliedParagraphOutlineLevel&&(O=`${O} \\u`),this.properties.preserveTabInEntries&&(O=`${O} \\w`),this.properties.preserveNewLineInEntries&&(O=`${O} \\x`),this.properties.hideTabAndPageNumbersInWebView&&(O=`${O} \\z`),this.root.push(O)}}class iA extends a{constructor(){super("w:sdtContent")}}class rA extends a{constructor(d){super("w:sdtPr"),this.root.push(new Ce("w:alias",d))}}class sA extends $l{constructor(d="Table of Contents",O){super("w:sdt"),this.root.push(new rA(d));const ee=new iA,fe=new on({children:[new Yt({children:[new L(!0),new nA(O),new Z]})]});ee.addChildElement(fe);const we=new on({children:[new Yt({children:[new ce]})]});ee.addChildElement(we),this.root.push(ee)}}class aA{constructor(d,O){this.styleName=d,this.level=O}}class lA{constructor(d={children:[]}){this.options=d}}class cA{constructor(d={children:[]}){this.options=d}}class Wf extends u{constructor(){super(...arguments),this.xmlKeys={id:"w:id"}}}class Jf extends a{constructor(d){super("w:footnoteReference"),this.root.push(new Wf({id:d}))}}class uA extends Yt{constructor(d){super({style:"FootnoteReference"}),this.root.push(new Jf(d))}}class dA extends a{constructor(d){super("w:ins"),this.root.push(new Me({id:d.id,author:d.author,date:d.date})),this.addChildElement(new rr(d))}}class hA extends a{constructor(){super("w:delInstrText"),this.root.push(new pe({space:R.PRESERVE})),this.root.push("PAGE")}}class fA extends a{constructor(){super("w:delInstrText"),this.root.push(new pe({space:R.PRESERVE})),this.root.push("NUMPAGES")}}class pA extends a{constructor(){super("w:delInstrText"),this.root.push(new pe({space:R.PRESERVE})),this.root.push("SECTIONPAGES")}}class Yf extends a{constructor(d){super("w:delText"),this.root.push(new pe({space:R.PRESERVE})),this.root.push(d)}}class mA extends a{constructor(d){super("w:del"),this.root.push(new Me({id:d.id,author:d.author,date:d.date})),this.deletedTextRunWrapper=new vA(d),this.addChildElement(this.deletedTextRunWrapper)}}class vA extends a{constructor(d){if(super("w:r"),this.root.push(new wo(d)),d.children)for(const O of d.children)if(typeof O!="string")this.root.push(O);else switch(O){case ne.CURRENT:this.root.push(new L),this.root.push(new hA),this.root.push(new Z),this.root.push(new ce);break;case ne.TOTAL_PAGES:this.root.push(new L),this.root.push(new fA),this.root.push(new Z),this.root.push(new ce);break;case ne.TOTAL_PAGES_IN_SECTION:this.root.push(new L),this.root.push(new pA),this.root.push(new Z),this.root.push(new ce);break;default:this.root.push(new Yf(O))}else d.text&&this.root.push(new Yf(d.text));if(d.break)for(let O=0;O<d.break;O++)this.root.splice(1,0,new v)}}var cc=n(6085),_t=n(3479);class uc{format(d,O={stack:[]}){const ee=d.prepForXml(O);if(ee)return ee;throw Error("XMLComponent did not format correctly")}}class Zf{replace(d,O,ee){let fe=d;return O.forEach((we,ke)=>{fe=fe.replace(new RegExp(`{${we.fileName}}`,"g"),(ee+ke).toString())}),fe}getMediaData(d,O){return O.Array.filter(ee=>d.search(`{${ee.fileName}}`)>0)}}class gA{replace(d,O){let ee=d;for(const fe of O)ee=ee.replace(new RegExp(`{${fe.reference}-${fe.instance}}`,"g"),fe.numId.toString());return ee}}var dc,Us=function(p,d,O,ee){return new(O||(O=Promise))(function(fe,we){function ke(Ve){try{We(ee.next(Ve))}catch(nt){we(nt)}}function Ue(Ve){try{We(ee.throw(Ve))}catch(nt){we(nt)}}function We(Ve){var nt;Ve.done?fe(Ve.value):(nt=Ve.value,nt instanceof O?nt:new O(function(lt){lt(nt)})).then(ke,Ue)}We((ee=ee.apply(p,d||[])).next())})};(function(p){p.NONE="",p.WITH_2_BLANKS="  ",p.WITH_4_BLANKS="    ",p.WITH_TAB="	"})(dc||(dc={}));class Xf{static toString(d,O){return Us(this,void 0,void 0,function*(){return yield this.compiler.compile(d,O).generateAsync({type:"string",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBuffer(d,O){return Us(this,void 0,void 0,function*(){return yield this.compiler.compile(d,O).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBase64String(d,O){return Us(this,void 0,void 0,function*(){return yield this.compiler.compile(d,O).generateAsync({type:"base64",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBlob(d,O){return Us(this,void 0,void 0,function*(){return yield this.compiler.compile(d,O).generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toStream(d,O){return this.compiler.compile(d,O).generateNodeStream({type:"nodebuffer",streamFiles:!0,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})}}Xf.compiler=new class{constructor(){this.formatter=new uc,this.imageReplacer=new Zf,this.numberingReplacer=new gA}compile(p,d){const O=new cc,ee=this.xmlifyFile(p,d),fe=new Map(Object.entries(ee));for(const[,we]of fe)if(Array.isArray(we))for(const ke of we)O.file(ke.path,ke.data);else O.file(we.path,we.data);for(const{stream:we,fileName:ke}of p.Media.Array)O.file(`word/media/${ke}`,we);return O}xmlifyFile(p,d){const O=p.Document.Relationships.RelationshipCount+1,ee=_t(this.formatter.format(p.Document.View,{viewWrapper:p.Document,file:p,stack:[]}),{indent:d,declaration:{standalone:"yes",encoding:"UTF-8"}}),fe=this.imageReplacer.getMediaData(ee,p.Media);return{Relationships:{data:(()=>(fe.forEach((we,ke)=>{p.Document.Relationships.createRelationship(O+ke,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${we.fileName}`)}),_t(this.formatter.format(p.Document.Relationships,{viewWrapper:p.Document,file:p,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}})))(),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const we=this.imageReplacer.replace(ee,fe,O);return this.numberingReplacer.replace(we,p.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const we=_t(this.formatter.format(p.Styles,{viewWrapper:p.Document,file:p,stack:[]}),{indent:d,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(we,p.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:_t(this.formatter.format(p.CoreProperties,{viewWrapper:p.Document,file:p,stack:[]}),{indent:d,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:_t(this.formatter.format(p.Numbering,{viewWrapper:p.Document,file:p,stack:[]}),{indent:d,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:_t(this.formatter.format(p.FileRelationships,{viewWrapper:p.Document,file:p,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:p.Headers.map((we,ke)=>{const Ue=_t(this.formatter.format(we.View,{viewWrapper:we,file:p,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(Ue,p.Media).forEach((We,Ve)=>{we.Relationships.createRelationship(Ve,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${We.fileName}`)}),{data:_t(this.formatter.format(we.Relationships,{viewWrapper:we,file:p,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${ke+1}.xml.rels`}}),FooterRelationships:p.Footers.map((we,ke)=>{const Ue=_t(this.formatter.format(we.View,{viewWrapper:we,file:p,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(Ue,p.Media).forEach((We,Ve)=>{we.Relationships.createRelationship(Ve,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${We.fileName}`)}),{data:_t(this.formatter.format(we.Relationships,{viewWrapper:we,file:p,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${ke+1}.xml.rels`}}),Headers:p.Headers.map((we,ke)=>{const Ue=_t(this.formatter.format(we.View,{viewWrapper:we,file:p,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}}),We=this.imageReplacer.getMediaData(Ue,p.Media),Ve=this.imageReplacer.replace(Ue,We,0);return{data:this.numberingReplacer.replace(Ve,p.Numbering.ConcreteNumbering),path:`word/header${ke+1}.xml`}}),Footers:p.Footers.map((we,ke)=>{const Ue=_t(this.formatter.format(we.View,{viewWrapper:we,file:p,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}}),We=this.imageReplacer.getMediaData(Ue,p.Media),Ve=this.imageReplacer.replace(Ue,We,0);return{data:this.numberingReplacer.replace(Ve,p.Numbering.ConcreteNumbering),path:`word/footer${ke+1}.xml`}}),ContentTypes:{data:_t(this.formatter.format(p.ContentTypes,{viewWrapper:p.Document,file:p,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:_t(this.formatter.format(p.CustomProperties,{viewWrapper:p.Document,file:p,stack:[]}),{indent:d,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:_t(this.formatter.format(p.AppProperties,{viewWrapper:p.Document,file:p,stack:[]}),{indent:d,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:_t(this.formatter.format(p.FootNotes.View,{viewWrapper:p.FootNotes,file:p,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:_t(this.formatter.format(p.FootNotes.Relationships,{viewWrapper:p.FootNotes,file:p,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:_t(this.formatter.format(p.Settings,{viewWrapper:p.Document,file:p,stack:[]}),{indent:d,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:_t(this.formatter.format(p.Comments,{viewWrapper:p.Document,file:p,stack:[]}),{indent:d,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/comments.xml"}}}};var Nt=n(5575);const bA=new uc,hc=p=>(0,g.xml2js)(p,{compact:!1,captureSpacesBetweenElements:!0}),ep=p=>{var d;return(d=hc(_t(bA.format(new xs({text:p})))).elements[0].elements)!==null&&d!==void 0?d:[]},tp=p=>Object.assign(Object.assign({},p),{attributes:{"xml:space":"preserve"}}),fc=(p,d)=>{var O,ee;return(ee=(O=p.elements)===null||O===void 0?void 0:O.filter(fe=>fe.name===d)[0].elements)!==null&&ee!==void 0?ee:[]};var Ln;(function(p){p[p.START=0]="START",p[p.MIDDLE=1]="MIDDLE",p[p.END=2]="END"})(Ln||(Ln={}));const yA=({paragraphElement:p,renderedParagraph:d,originalText:O,replacementText:ee})=>{const fe=d.text.indexOf(O),we=fe+O.length-1;let ke=Ln.START;for(const Ue of d.runs)for(const{text:We,index:Ve,start:nt,end:lt}of Ue.parts)switch(ke){case Ln.START:if(fe>=nt){const wt=fe-nt,Qt=Math.min(we,lt)-nt,Do=Ue.text.substring(wt,Qt+1);if(Do==="")continue;const so=We.replace(Do,ee);pc(p.elements[Ue.index].elements[Ve],so),ke=Ln.MIDDLE;continue}break;case Ln.MIDDLE:if(we<=lt){const wt=We.substring(we-nt+1);pc(p.elements[Ue.index].elements[Ve],wt);const Qt=p.elements[Ue.index].elements[Ve];p.elements[Ue.index].elements[Ve]=tp(Qt),ke=Ln.END}else pc(p.elements[Ue.index].elements[Ve],"")}return p},pc=(p,d)=>(p.elements=ep(d),p),wA=(p,d)=>{var O,ee,fe,we;for(let ke=0;ke<((O=p.elements)!==null&&O!==void 0?O:[]).length;ke++){const Ue=p.elements[ke];if(Ue.type==="element"&&Ue.name==="w:r"){const We=((ee=Ue.elements)!==null&&ee!==void 0?ee:[]).filter(Ve=>Ve.type==="element"&&Ve.name==="w:t");for(const Ve of We)if(!((we=(fe=Ve.elements)===null||fe===void 0?void 0:fe[0].text)===null||we===void 0)&&we.includes(d))return ke}}throw new Error("Token not found")},EA=(p,d)=>{var O,ee;let fe=0;const we=(ee=(O=p.elements)===null||O===void 0?void 0:O.map((ke,Ue)=>{var We,Ve;if(ke.type==="element"&&ke.name==="w:t"){const nt=((Ve=(We=ke.elements)===null||We===void 0?void 0:We[0].text)!==null&&Ve!==void 0?Ve:"").split(d).map(lt=>Object.assign(Object.assign(Object.assign({},ke),tp(ke)),{elements:ep(lt)}));return fe=Ue,nt}return ke}).flat())!==null&&ee!==void 0?ee:[];return{left:Object.assign(Object.assign({},JSON.parse(JSON.stringify(p))),{elements:we.slice(0,fe+1)}),right:Object.assign(Object.assign({},JSON.parse(JSON.stringify(p))),{elements:we.slice(fe+1)})}},AA=new uc,_A=(p,d,O,ee,fe)=>{for(const we of ee){const ke=d.children.map(Ue=>hc(_t(AA.format(Ue,fe)))).map(Ue=>Ue.elements[0]);switch(d.type){case mr.DOCUMENT:{const Ue=NA(p,we.path),We=CA(we.path);Ue.elements.splice(We,1,...ke);break}case mr.PARAGRAPH:default:{const Ue=op(p,we.path);yA({paragraphElement:Ue,renderedParagraph:we,originalText:O,replacementText:"ɵ"});const We=wA(Ue,"ɵ"),{left:Ve,right:nt}=EA(Ue.elements[We],"ɵ");Ue.elements.splice(We,1,Ve,...ke,nt);break}}}return p},op=(p,d)=>{let O=p;for(let ee=1;ee<d.length;ee++){const fe=d[ee],we=O.elements;if(!we)throw new Error("Could not find element");O=we[fe]}return O},NA=(p,d)=>op(p,d.slice(0,d.length-1)),CA=p=>p[p.length-1],SA=p=>{if(p.element.name!=="w:p")throw new Error(`Invalid node type: ${p.element.name}`);if(!p.element.elements)return{text:"",runs:[],index:-1,path:[]};let d=0;const O=p.element.elements.map((ee,fe)=>({element:ee,i:fe})).filter(({element:ee})=>ee.name==="w:r").map(({element:ee,i:fe})=>{const we=xA(ee,fe,d);return d+=we.text.length,we}).filter(ee=>!!ee).map(ee=>ee);return{text:O.reduce((ee,fe)=>ee+fe.text,""),runs:O,index:p.index,path:np(p)}},xA=(p,d,O)=>{if(!p.elements)return{text:"",parts:[],index:-1,start:O,end:O};let ee=O;const fe=p.elements.map((we,ke)=>{var Ue,We;return we.name==="w:t"&&we.elements&&we.elements.length>0?{text:(We=(Ue=we.elements[0].text)===null||Ue===void 0?void 0:Ue.toString())!==null&&We!==void 0?We:"",index:ke,start:ee,end:(()=>{var Ve,nt;return ee+=((nt=(Ve=we.elements[0].text)===null||Ve===void 0?void 0:Ve.toString())!==null&&nt!==void 0?nt:"").length-1,ee})()}:void 0}).filter(we=>!!we).map(we=>we);return{text:fe.reduce((we,ke)=>we+ke.text,""),parts:fe,index:d,start:O,end:ee}},np=p=>p.parent?[...np(p.parent),p.index]:[p.index],ip=p=>{var d,O;return(O=(d=p.element.elements)===null||d===void 0?void 0:d.map((ee,fe)=>({element:ee,index:fe,parent:p})))!==null&&O!==void 0?O:[]},IA=(p,d)=>{let O=[];const ee=[...ip({element:p,index:0,parent:void 0})];let fe;for(;ee.length>0;)fe=ee.shift(),fe.element.name==="w:p"?O=[...O,SA(fe)]:ee.push(...ip(fe));return O.filter(we=>we.text.includes(d))},rp=(p,d,O,ee,fe)=>{const we=fc(p,"Relationships");return we.push({attributes:{Id:`rId${d}`,Type:O,Target:ee,TargetMode:fe},name:"Relationship",type:"element"}),we},pr=(p,d,O)=>{fc(p,"Types").push({attributes:{ContentType:d,Extension:O},name:"Default",type:"element"})};var mr;(function(p){p.DOCUMENT="file",p.PARAGRAPH="paragraph"})(mr||(mr={}));const sp=new Zf,TA=(p,d)=>{return O=void 0,ee=void 0,we=function*(){var ke,Ue;const We=yield cc.loadAsync(p),Ve=new Map,nt={Media:new rc},lt=new Map,wt=[],Qt=[];let Do=!1;const so=new Map;for(const[ct,Bt]of Object.entries(We.files)){if(!ct.endsWith(".xml")&&!ct.endsWith(".rels")){so.set(ct,yield Bt.async("nodebuffer"));continue}const Gt=hc(yield Bt.async("text"));if(ct.startsWith("word/")&&!ct.endsWith(".xml.rels")){const ao={file:nt,viewWrapper:{Relationships:{createRelationship:(ln,Kt,ho,_i)=>{Qt.push({key:ct,hyperlink:{id:ln,link:ho}})}}},stack:[]};Ve.set(ct,ao);for(const[ln,Kt]of Object.entries(d.patches)){const ho=`{{${ln}}}`,_i=IA(Gt,ho);_A(Gt,Object.assign(Object.assign({},Kt),{children:Kt.children.map(cn=>{if(cn instanceof jl){const $s=new vi(cn.options.children,(0,Tt.EL)());return Qt.push({key:ct,hyperlink:{id:$s.linkId,link:cn.options.link}}),$s}return cn})}),ho,_i,ao)}const an=sp.getMediaData(JSON.stringify(Gt),ao.file.Media);an.length>0&&(Do=!0,wt.push({key:ct,mediaDatas:an}))}lt.set(ct,Gt)}for(const{key:ct,mediaDatas:Bt}of wt){const Gt=`word/_rels/${ct.split("/").pop()}.rels`,ao=(ke=lt.get(Gt))!==null&&ke!==void 0?ke:ap();lt.set(Gt,ao);const an=fc(ao,"Relationships").map(Kt=>{var ho,_i,cn;return($s=>{const lp=parseInt($s.substring(3),10);return isNaN(lp)?0:lp})((cn=(_i=(ho=Kt.attributes)===null||ho===void 0?void 0:ho.Id)===null||_i===void 0?void 0:_i.toString())!==null&&cn!==void 0?cn:"")}).reduce((Kt,ho)=>Math.max(Kt,ho),0)+1,ln=sp.replace(JSON.stringify(lt.get(ct)),Bt,an);lt.set(ct,JSON.parse(ln));for(let Kt=0;Kt<Bt.length;Kt++){const{fileName:ho}=Bt[Kt];rp(ao,an+Kt,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${ho}`)}}for(const{key:ct,hyperlink:Bt}of Qt){const Gt=`word/_rels/${ct.split("/").pop()}.rels`,ao=(Ue=lt.get(Gt))!==null&&Ue!==void 0?Ue:ap();lt.set(Gt,ao),rp(ao,Bt.id,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Bt.link,Ds.EXTERNAL)}if(Do){const ct=lt.get("[Content_Types].xml");if(!ct)throw new Error("Could not find content types file");pr(ct,"image/png","png"),pr(ct,"image/jpeg","jpeg"),pr(ct,"image/jpeg","jpg"),pr(ct,"image/bmp","bmp"),pr(ct,"image/gif","gif")}const sn=new cc;for(const[ct,Bt]of lt){const Gt=RA(Bt);sn.file(ct,Gt)}for(const[ct,Bt]of so)sn.file(ct,Bt);for(const{stream:ct,fileName:Bt}of nt.Media.Array)sn.file(`word/media/${Bt}`,ct);return sn.generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})},new((fe=void 0)||(fe=Promise))(function(ke,Ue){function We(lt){try{nt(we.next(lt))}catch(wt){Ue(wt)}}function Ve(lt){try{nt(we.throw(lt))}catch(wt){Ue(wt)}}function nt(lt){var wt;lt.done?ke(lt.value):(wt=lt.value,wt instanceof fe?wt:new fe(function(Qt){Qt(wt)})).then(We,Ve)}nt((we=we.apply(O,ee||[])).next())});var O,ee,fe,we},RA=p=>(0,g.js2xml)(p),ap=()=>({declaration:{attributes:{version:"1.0",encoding:"UTF-8",standalone:"yes"}},elements:[{type:"element",name:"Relationships",attributes:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},elements:[]}]})})(),r})())})(w$);var id={},E$={get exports(){return id},set exports(e){id=e}};(function(e,t){(function(o,i){i()})(Cr,function(){function o(l,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\uFEFF",l],{type:l.type}):l}function i(l,u,h){var f=new XMLHttpRequest;f.open("GET",l),f.responseType="blob",f.onload=function(){a(f.response,u,h)},f.onerror=function(){console.error("could not download file")},f.send()}function n(l){var u=new XMLHttpRequest;u.open("HEAD",l,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function r(l){try{l.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),l.dispatchEvent(u)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Cr=="object"&&Cr.global===Cr?Cr:void 0,c=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(l,u,h){var f=s.URL||s.webkitURL,g=document.createElement("a");u=u||l.name||"download",g.download=u,g.rel="noopener",typeof l=="string"?(g.href=l,g.origin===location.origin?r(g):n(g.href)?i(l,u,h):r(g,g.target="_blank")):(g.href=f.createObjectURL(l),setTimeout(function(){f.revokeObjectURL(g.href)},4e4),setTimeout(function(){r(g)},0))}:"msSaveOrOpenBlob"in navigator?function(l,u,h){if(u=u||l.name||"download",typeof l!="string")navigator.msSaveOrOpenBlob(o(l,h),u);else if(n(l))i(l,u,h);else{var f=document.createElement("a");f.href=l,f.target="_blank",setTimeout(function(){r(f)})}}:function(l,u,h,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof l=="string")return i(l,u,h);var g=l.type==="application/octet-stream",b=/constructor/i.test(s.HTMLElement)||s.safari,C=/CriOS\/[\d]+/.test(navigator.userAgent);if((C||g&&b||c)&&typeof FileReader<"u"){var T=new FileReader;T.onloadend=function(){var y=T.result;y=C?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=y:location=y,f=null},T.readAsDataURL(l)}else{var S=s.URL||s.webkitURL,_=S.createObjectURL(l);f?f.location=_:location.href=_,f=null,setTimeout(function(){S.revokeObjectURL(_)},4e4)}});s.saveAs=a.saveAs=a,e.exports=a})})(E$);const A$="/caracol/assets/graduationCap-8fa1ce8e.svg",_$="/caracol/assets/routeSolid-5d88aed0.svg",N$="/caracol/assets/alienar-fb2c87c3.svg",C$="/caracol/assets/idBadge-e2f47328.svg",yl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAApVBMVEUAAAAFBQUKCgozMzMzMzMoKCgsLCw4ODgsLCwxMTEVFRUzMzM7Ozs2NjY0NDQzMzNMTEw1NTUlJSUxMTEvLy8xMTExMTEtLS0VFRUcHBwuLi4oKCgxMTEuLi4rKyswMDAwMDArKystLS0uLi4xMTEuLi4kJCQxMTEwMDArKysqKioxMTEuLi4rKys0NDQsLCwkJCQuLi4vLy8uLi42NjYwMDAzMzMGZa9aAAAANnRSTlMABgFL7bBzQ9VhGOAzJeq3Coku+Lr16sIMCZhO/JRC5qV2KBDKehnt2bqvoIRWPB8K0bWOjGo12immAAAA/ElEQVRIx+3Sy1LCMBiG4STUoiIeGmKVJG1paUXOnv77vzRjNlJy0AwLGKbvpjNf55ksEnSG4ZJfOes1FlHKnAohaHRrFgmWrgxRFfCTqG8sZepnHpM9sqKaTKv2nHHOE/V5AWCTtiESdKPn1vz0SimVBCWPYBg8t5NUbWNNDIMv/iLafAUTmGXBBMY4mLw1weTy+kSIvkon8T8YN6F1OTRbL8BNQAws5WAnvo5NiknsTlILmW6QJ1xYyN29j5DPcPLQkY4cQubBhHz8j4y2vwNnAGnlJQtF6p1hKwXQZdZ3F+cA70O0U7OcMRZ5Ymwgk72DN+uet36JUZfqG2Wjeg1GwVSoAAAAAElFTkSuQmCC",Zc=he`
  query ($idUsuario: ID!) {
    Usuario(idUsuario: $idUsuario) {
      id
      informesMaestraVida {
        id
        year
        periodo
        idProfe
        nombreProfe
        categoria
        texto
      }
    }
  }
`,S$={components:{Calendario:ml,Loading:it,VentanaLista:b0,RutaGrado:r0},props:{personasConEspacio:Array,mostrarEspacioActual:Boolean,estaPersona:Object,seleccionado:Boolean,nodosSolidaridadPublicitados:Array},name:"PersonaVistaLista",apollo:{informes:{query:Zc,variables(){return{idUsuario:this.estaPersona.id}},skip(){return this.mostrando!="informe"},update({Usuario:e}){return e.informesMaestraVida}},objetivos:{query:he`
        query($idUsuario: ID!){
          Usuario(idUsuario: $idUsuario){
            id
            objetivosEstudiante{
              id
              nombre
              estadoDesarrollo
            }
          }
        }
      `,variables(){return{idUsuario:this.estaPersona.id}},update({Usuario:e}){return e.objetivosEstudiante},skip(){return this.mostrando!="informe"}}},data(){return{permisosPosibles:["usuario","administrador","atlasAdministrador","superadministrador","maestraVida","maestraVida-estudiante","maestraVida-profesor","maestraVida-acompañante","maestraVida-graduado"],informes:[],objetivos:[],mostrando:null,reseteandoPassword:!1,alienando:!1,mostrandoPermisos:!1,togglingPermiso:!1,settingPresenciaNodoSolidaridad:!1,guardandoInformeObjetivos:!1,guardandoInformeEspacios:!1,guardandoInformeComentario:!1,guardandoInformeProyectos:!1,creandoDocumentoInforme:!1,nuevoInformeObjetivos:null,nuevoInformeProyectos:null,nuevoInformeEspacios:null,nuevoInformeComentario:null,periodoInforme:"primero",activable:0}},methods:{resetearPassword(){confirm("¿Confirmar resetear el password de "+this.estaPersona.nombres+"?")&&(console.log("Reseteando password usuario"),this.reseteandoPassword=!0,this.$apollo.mutate({mutation:he`
            mutation ($idUsuario: ID!) {
              resetearPasswordUsuario(idUsuario: $idUsuario)
            }
          `,variables:{idUsuario:this.estaPersona.id}}).then(()=>{this.reseteandoPassword=!1,alert("Contraseña reseteada")}).catch(()=>{this.reseteandoPassword=!1}))},alienar(){!this.usuarioProfe&&!this.usuarioSuperadministrador||(this.alienando=!0,this.$apollo.query({query:he`
            query ($idAlienado: ID!) {
              alienarUsuario(idAlienado: $idAlienado)
            }
          `,variables:{idAlienado:this.estaPersona.id}}).then(({data:{alienarUsuario:e}})=>{console.log("Alienando"),this.alienando=!0,this.$router.push("/miPerfil")}).catch(e=>{console.log(`Error: ${e}`),this.alienando=!1}))},togglePermiso(e){this.usuarioSuperadministrador&&(this.togglingPermiso=!0,this.$apollo.mutate({mutation:he`
            mutation ($permiso: String!, $idUsuario: ID!) {
              togglePermisoUsuario(permiso: $permiso, idUsuario: $idUsuario) {
                id
                permisos
              }
            }
          `,variables:{permiso:e,idUsuario:this.estaPersona.id}}).then(()=>{this.togglingPermiso=!1}).catch(t=>{console.log(`Error: ${t}`),this.togglingPermiso=!1}))},toggleResponsableNodoSolidaridad(e){console.log(`Setting presencia de ${this.estaPersona.id} en el nodo ${e.id}`),e.responsables.includes(this.estaPersona.id)?(console.log("Sacándolo"),this.settingPresenciaNodoSolidaridad=!0,this.$apollo.mutate({mutation:he`
              mutation ($idNodo: ID!, $idUsuario: ID!) {
                removeResponsableNodoSolidaridad(
                  idNodo: $idNodo
                  idUsuario: $idUsuario
                ) {
                  id
                  responsables
                }
              }
            `,variables:{idNodo:e.id,idUsuario:this.estaPersona.id}}).then(()=>{this.settingPresenciaNodoSolidaridad=!1}).catch(o=>{console.log(`Error: ${o}`),this.settingPresenciaNodoSolidaridad=!1})):(console.log("Dentrándolo"),this.settingPresenciaNodoSolidaridad=!0,this.$apollo.mutate({mutation:he`
              mutation ($idNodo: ID!, $idUsuario: ID!) {
                addResponsableNodoSolidaridad(
                  idNodo: $idNodo
                  idUsuario: $idUsuario
                ) {
                  id
                  responsables
                }
              }
            `,variables:{idNodo:e.id,idUsuario:this.estaPersona.id}}).then(()=>{this.settingPresenciaNodoSolidaridad=!1}).catch(o=>{console.log(`Error: ${o}`),this.settingPresenciaNodoSolidaridad=!1}))},guardarInforme(e){console.log("Guardando informe");var t=null;if(e==="objetivos"){if(t=this.$refs.inputInformeCategoriaObjetivos.value,t===this.misInformesActivos.objetivos)return;this.guardandoInformeObjetivos=!0,t&&(t=t.trim()),this.nuevoInformeObjetivos=t}if(e==="espacios"){if(t=this.$refs.inputInformeCategoriaEspacios.value,t===this.misInformesActivos.espacios)return;this.guardandoInformeEspacios=!0,t&&(t=t.trim()),this.nuevoInformeEspacios=t}if(e==="comentario"){if(t=this.$refs.inputInformeCategoriaComentario.value,t===this.misInformesActivos.comentario)return;this.guardandoInformeComentario=!0,t&&(t=t.trim()),this.nuevoInformeComentario=t}if(e==="proyectos"){if(t=this.$refs.inputInformeCategoriaProyectos.value,t===this.misInformesActivos.proyectos)return;this.guardandoInformeProyectos=!0,t&&(t=t.trim()),this.nuevoInformeProyectos=t}this.$apollo.mutate({mutation:he`
            mutation (
              $idUsuario: ID!
              $year: Int!
              $periodo: String!
              $idProfe: ID!
              $categoria: String!
              $texto: String!
            ) {
              guardarInformeEstudianteMaestraVida(
                idUsuario: $idUsuario
                year: $year
                periodo: $periodo
                idProfe: $idProfe
                categoria: $categoria
                texto: $texto
              ) {
                id
                year
                periodo
                idProfe
                nombreProfe
                categoria
                texto
              }
            }
          `,variables:{idUsuario:this.estaPersona.id,year:2023,periodo:this.periodoInforme,idProfe:this.usuario.id,categoria:e,texto:t}}).then(({data:{guardarInformeEstudianteMaestraVida:o}})=>{const i=this.$apollo.provider.defaultClient,n=i.readQuery({query:Zc,variables:{idUsuario:this.estaPersona.id}});var r=JSON.parse(JSON.stringify(n)),s=r.Usuario.informesMaestraVida.find(c=>c.id===o.id);s||(r.Usuario.informesMaestraVida.push(o),i.writeQuery({query:Zc,variables:{idUsuario:this.estaPersona.id},data:r})),e==="objetivos"&&(this.guardandoInformeObjetivos=!1),e==="espacios"&&(this.guardandoInformeEspacios=!1),e==="comentario"&&(this.guardandoInformeComentario=!1),e==="proyectos"&&(this.guardandoInformeProyectos=!1)}).catch(o=>{alert("¡Error guardando informe!"),console.log("error: "+o),e==="objetivos"&&(this.guardandoInformeObjetivos=!1),e==="espacios"&&(this.guardandoInformeEspacios=!1),e==="comentario"&&(this.guardandoInformeComentario=!1),e==="proyectos"&&(this.guardandoInformeProyectos=!1)})},descargarArchivoInforme(){console.log("Creando documento docx de informe para "+this.estaPersona.nombres),this.creandoDocumentoInforme=!0;var e=new Be.TableRow({children:[new Be.TableCell({children:[new Be.Paragraph({text:"Acerca de los objetivos",style:"nombreSeccion",alignment:Be.AlignmentType.CENTER})],width:{size:300,type:Be.WidthType.DXA}}),new Be.TableCell({children:[...this.informes.filter(c=>c.year==2023&&c.periodo===this.periodoInforme&&c.categoria==="objetivos"&&c.texto&&c.texto.length>10).reduce((c,a)=>c.concat([new Be.Paragraph({children:a.texto.split(`
`).map(l=>new Be.TextRun({text:l,break:1})),style:"textoProfe"}),new Be.Paragraph({text:a.nombreProfe,style:"firmaProfe"})]),[])],width:{size:700,type:Be.WidthType.DXA}})]}),t=new Be.TableRow({children:[new Be.TableCell({width:{size:3e3,type:Be.WidthType.DXA},children:[new Be.Paragraph({text:"Proyectos pedagógicos productivos",style:"nombreSeccion",alignment:Be.AlignmentType.CENTER})]}),new Be.TableCell({width:{size:2700,type:Be.WidthType.DXA},children:[...this.informes.filter(c=>c.year==2023&&c.periodo===this.periodoInforme&&c.categoria==="proyectos"&&c.texto&&c.texto.length>10).reduce((c,a)=>c.concat([new Be.Paragraph({children:a.texto.split(`
`).map(l=>new Be.TextRun({text:l,break:1})),style:"textoProfe"}),new Be.Paragraph({text:a.nombreProfe,style:"firmaProfe"})]),[])]})]}),o=new Be.TableRow({children:[new Be.TableCell({children:[new Be.Paragraph({text:"Acerca de los espacios",style:"nombreSeccion",alignment:Be.AlignmentType.CENTER})],width:{size:300,type:Be.WidthType.DXA}}),new Be.TableCell({children:[...this.informes.filter(c=>c.year==2023&&c.periodo===this.periodoInforme&&c.categoria==="espacios"&&c.texto&&c.texto.length>10).reduce((c,a)=>c.concat([new Be.Paragraph({children:a.texto.split(`
`).map(l=>new Be.TextRun({text:l,break:1})),style:"textoProfe"}),new Be.Paragraph({text:a.nombreProfe,style:"firmaProfe"})]),[])],width:{size:700,type:Be.WidthType.DXA}})]}),i=new Be.TableRow({children:[new Be.TableCell({children:[new Be.Paragraph({text:"Comentario",style:"nombreSeccion",alignment:Be.AlignmentType.CENTER})],width:{size:300,type:Be.WidthType.DXA}}),new Be.TableCell({children:[...this.informes.filter(c=>c.year==2023&&c.periodo===this.periodoInforme&&c.categoria==="comentario"&&c.texto&&c.texto.length>10).reduce((c,a)=>c.concat([new Be.Paragraph({children:a.texto.split(`
`).map(l=>new Be.TextRun({text:l,break:1})),style:"textoProfe"}),new Be.Paragraph({text:a.nombreProfe,style:"firmaProfe"})]),[])],width:{size:700,type:Be.WidthType.DXA}})]}),n=new Be.TableRow({children:[new Be.TableCell({children:[new Be.Paragraph({text:"Promocionado: SI",style:"nombreSeccion",alignment:Be.AlignmentType.CENTER})],width:{size:300,type:Be.WidthType.DXA}})]}),r=new Be.Table({rows:[e,t,o,i,n],width:{size:8500,type:Be.WidthType.DXA}}),s=new Be.Document({styles:{paragraphStyles:[{id:"estiloGlobal",name:"Estilo global",run:{font:"Maiandra GD"}},{id:"titulos",name:"titulos",basedOn:"estiloGlobal",run:{bold:!0,size:24},paragraph:{spacing:{after:200}}},{id:"nombreEstudiante",name:"nombre del estudiante",basedOn:"estiloGlobal",run:{bold:!0,allCaps:!0},paragraph:{spacing:{after:120}}},{id:"nombreSeccion",name:"nombre de seccion",basedOn:"estiloGlobal",run:{bold:!0,size:24},paragraph:{spacing:{after:120}}},{id:"objetivo",name:"Objetivo del estudiante",basedOn:"estiloGlobal",run:{size:24}},{id:"textoProfe",name:"Texto escrito por un profe",basedOn:"estiloGlobal",run:{size:24},paragraph:{spacing:{after:30}}},{id:"firmaProfe",name:"Firma del profe",basedOn:"estiloGlobal",run:{italics:!0,size:18},paragraph:{spacing:{after:100}}}]},sections:[{children:[new Be.Paragraph({text:"INSTITUCIÓN EDUCATIVA MAESTRA VIDA",heading:Be.HeadingLevel.TITLE,style:"titulos",alignment:Be.AlignmentType.CENTER}),new Be.Paragraph({text:"RESOLUCIÓN DE APROBACIÓN N° 5549 DE JUNIO DE 2013",heading:Be.HeadingLevel.TITLE,style:"titulos",alignment:Be.AlignmentType.CENTER}),new Be.Paragraph({text:"EVALUACIÓN DE CONOCIMIENTO Y DESEMPEÑO",heading:Be.HeadingLevel.TITLE,style:"titulos",alignment:Be.AlignmentType.CENTER}),new Be.Paragraph({text:"PERIODO AGOSTO - OCTUBRE DE 2023",style:"titulos",alignment:Be.AlignmentType.CENTER}),new Be.Paragraph({text:"Nombre:  "+this.estaPersona.nombres+" "+this.estaPersona.apellidos,style:"nombreEstudiante"}),new Be.Paragraph({text:"Objetivos",style:"nombreSeccion"}),...this.objetivos.filter(c=>c.nombre!="Nuevo nodo de solidaridad").map(c=>new Be.Paragraph({text:c.nombre,style:"objetivo",bullet:{level:0}})),new Be.Paragraph({text:"",spacing:{after:200}}),r,new Be.Paragraph({children:[new Be.TextRun({text:"EQUIPO PEDAGÓGICO",bold:!0})],alignment:Be.AlignmentType.CENTER,style:"estiloGlobal",spacing:{before:1500}}),new Be.Paragraph({text:"Corporación Maestra Vida",heading:Be.HeadingLevel.TITLE,style:"titulos",alignment:Be.AlignmentType.CENTER})]}]});x$(s,`informe${this.estaPersona.username}.docx`),this.creandoDocumentoInforme=!1}},computed:{misInformesActivos(){if(!this.informes)return{objetivos:null,espacios:null,comentario:null,proyectos:null};var e=this.informes.find(n=>n.year===2023&&n.periodo===this.periodoInforme&&n.idProfe===this.usuario.id&&n.categoria==="objetivos"),t=this.informes.find(n=>n.year===2023&&n.periodo===this.periodoInforme&&n.idProfe===this.usuario.id&&n.categoria==="espacios"),o=this.informes.find(n=>n.year===2023&&n.periodo===this.periodoInforme&&n.idProfe===this.usuario.id&&n.categoria==="comentario"),i=this.informes.find(n=>n.year===2023&&n.periodo===this.periodoInforme&&n.idProfe===this.usuario.id&&n.categoria==="proyectos");return{objetivos:e?e.texto:null,espacios:t?t.texto:null,comentario:o?o.texto:null,proyectos:i?i.texto:null}},miEspacioActual(){const e=this.personasConEspacio.find(t=>t.id===this.estaPersona.id);return e?e.espacioActual:null},colorBarraSuperior(){if(!this.usuarioLogeado||!this.estaPersona.permisos||!this.estaPersona.permisos.includes("maestraVida-estudiante"))return{};var e="rgb(161, 240, 82)";return{backgroundColor:e}}},watch:{seleccionado(e){e||(this.mostrando=null)},informes:function(){this.activable++},misInformesActivos(){this.nuevoInformeObjetivos=this.misInformesActivos.objetivos,this.nuevoInformeProyectos=this.misInformesActivos.proyectos,this.nuevoInformeEspacios=this.misInformesActivos.espacios,this.nuevoInformeComentario=this.misInformesActivos.comentario}},mounted(){setTimeout(()=>{this.activable++},1e3),this.nuevoInformeObjetivos=this.misInformesActivos.objetivos,this.nuevoInformeProyectos=this.misInformesActivos.proyectos,this.nuevoInformeEspacios=this.misInformesActivos.espacios,this.nuevoInformeComentario=this.misInformesActivos.comentario}};function x$(e,t){const o="application/vnd.openxmlformats-officedocument.wordprocessingml.document";Be.Packer.toBlob(e).then(i=>{const n=i.slice(0,i.size,o);id.saveAs(n,t)})}const jt=e=>(Ze("data-v-0302057a"),e=e(),Xe(),e),I$={id:"barraSuperior"},T$={class:"iconoPersona"},R$={key:0,src:eh,alt:"Profesor"},P$={id:"zonaNombres"},D$={id:"nombres"},k$={id:"zonaApellidos"},O$={id:"apellidos"},M$={id:"contenedorControlesPersona",class:"contenedorControles"},L$=jt(()=>m("img",{src:_$,alt:"Ruta",style:{}},null,-1)),F$=[L$],B$=["title"],U$=jt(()=>m("img",{src:vl,alt:"calendario"},null,-1)),$$=[U$],j$=["title"],q$=jt(()=>m("img",{src:v0,alt:"P"},null,-1)),V$=[q$],H$=["title"],z$=jt(()=>m("img",{src:Ns,alt:"Cog"},null,-1)),Q$=[z$],G$=jt(()=>m("img",{src:N$,alt:"Virus"},null,-1)),K$=[G$],W$=["title"],J$=["title"],Y$=jt(()=>m("img",{src:g0,alt:"Cog"},null,-1)),Z$=[Y$],X$={id:"zonaContenidosMostrando"},ej={id:"zonaAdministracion"},tj={id:"barraInfoAdicional"},oj={key:0,id:"username"},nj={id:"contenedorAcciones",class:"contenedorControles"},ij=["title"],rj=jt(()=>m("img",{src:C$,alt:"Id"},null,-1)),sj=[rj],aj=jt(()=>m("img",{src:_0,alt:"Llave"},null,-1)),lj=[aj],cj=["onClick"],uj={id:"zonaInforme"},dj={key:0,class:"contenedorSeccionInforme"},hj={class:"contenedorControles"},fj={id:"selectoresPeriodo",style:{display:"flex"}},pj=jt(()=>m("img",{src:vs,alt:"archivo"},null,-1)),mj=[pj],vj=jt(()=>m("div",{class:"tituloSeccionInforme"},"Sobre objetivos",-1)),gj={class:"controlesSeccionInforme"},bj=jt(()=>m("img",{src:yl,alt:"Guardar"},null,-1)),yj=[bj],wj=jt(()=>m("div",{class:"tituloSeccionInforme"},"Sobre proyectos",-1)),Ej={class:"controlesSeccionInforme"},Aj=jt(()=>m("img",{src:yl,alt:"Guardar"},null,-1)),_j=[Aj],Nj=jt(()=>m("div",{class:"tituloSeccionInforme"},"Sobre espacios",-1)),Cj={class:"controlesSeccionInforme"},Sj=jt(()=>m("img",{src:yl,alt:"Guardar"},null,-1)),xj=[Sj],Ij=jt(()=>m("div",{class:"tituloSeccionInforme"},"Comentario",-1)),Tj={class:"controlesSeccionInforme"},Rj=jt(()=>m("img",{src:yl,alt:"Guardar"},null,-1)),Pj=[Rj],Dj={id:"zonaNodosSolidaridadPublicitados",class:"zonaPrimerNivel"},kj=["onClick"],Oj={key:0,id:"zonaCalendario",class:"zonaPrimerNivel"},Mj={key:1,id:"zonaObjetivos",class:"zonaPrimerNivel"},Lj={key:2,id:"zonaRutaGrado"};function Fj(e,t,o,i,n,r){const s=Pe("loading"),c=Pe("calendario"),a=Pe("ventana-lista"),l=Pe("ruta-grado");return J(),X("div",{class:ve(["personaVistaLista",{seleccionado:o.seleccionado}])},[m("div",I$,[m("div",T$,[o.estaPersona.permisos.includes("maestraVida-profesor")?(J(),X("img",R$)):Ie("",!0),o.estaPersona.permisos.includes("maestraVida-estudiante")?(J(),X("img",{key:1,src:A$,alt:"CapGraduacion",onClick:t[0]||(t[0]=u=>e.usuarioSuperadministrador?r.togglePermiso("maestraVida-estudiante"):"")})):Ie("",!0),!o.estaPersona.permisos.includes("maestraVida-profesor")&&!o.estaPersona.permisos.includes("maestraVida-estudiante")?(J(),X("img",{key:2,src:_s,alt:"Usuario",onClick:t[1]||(t[1]=u=>e.usuarioSuperadministrador?r.togglePermiso("maestraVida-estudiante"):"")})):Ie("",!0)]),m("div",P$,[m("div",D$,[gt(Ee(o.estaPersona.nombres)+" ",1),r.miEspacioActual?V((J(),X("span",{key:0,class:"espacioActual"},"("+Ee(r.miEspacioActual)+")",513)),[[K,o.mostrarEspacioActual]]):Ie("",!0)])]),m("div",k$,[m("div",O$,Ee(o.estaPersona.apellidos),1)]),V(m("div",M$,[m("div",{class:ve(["boton",{activo:n.mostrando==="rutaGrado"}]),onClick:t[2]||(t[2]=u=>n.mostrando=n.mostrando==="rutaGrado"?null:"rutaGrado")},F$,2),V(m("div",{class:ve(["boton selector",{activo:n.mostrando==="calendario"}]),title:n.mostrando==="calendario"?"Ocultar calendario":"Mostrar calendario",onClick:t[3]||(t[3]=u=>n.mostrando=n.mostrando==="calendario"?null:"calendario")},$$,10,B$),[[K,e.usuario&&(e.usuarioProfe||e.usuario.id===o.estaPersona.id||e.usuarioSuperadministrador)]]),e.usuarioSuperadministrador||e.usuarioProfe?(J(),X("div",{key:0,class:ve(["boton selector",{activo:n.mostrando==="nodosSolidaridadPublicitados"}]),title:n.mostrando==="nodosSolidaridadPublicitados"?"Ocultar nodosSolidaridadPublicitados":"Mostrar nodosSolidaridadPublicitados",onClick:t[4]||(t[4]=u=>n.mostrando=n.mostrando==="nodosSolidaridadPublicitados"?null:"nodosSolidaridadPublicitados")},V$,10,j$)):Ie("",!0),e.usuarioSuperadministrador?(J(),X("div",{key:1,class:ve(["boton selector",{activo:n.mostrando==="administracion"}]),title:n.mostrando==="administracion"?"Ocultar administracion":"Mostrar administracion",onClick:t[5]||(t[5]=u=>n.mostrando=n.mostrando==="administracion"?null:"administracion")},Q$,10,H$)):Ie("",!0),V(m("div",{class:"boton",onClick:t[6]||(t[6]=(...u)=>r.alienar&&r.alienar(...u)),title:"alienar"},K$,512),[[K,e.usuarioProfe||e.usuarioAdministrador]]),e.usuarioLogeado&&e.usuarioProfe?(J(),X("div",{key:2,class:ve(["boton selector",{activo:n.mostrando==="informe"}]),style:{width:"100px"},title:n.mostrando==="informe"?"Ocultar informe":"Mostrar informe",onClick:t[7]||(t[7]=u=>n.mostrando=n.mostrando==="informe"?null:"informe")}," Informes ",10,W$)):Ie("",!0),e.usuarioLogeado?(J(),X("div",{key:3,class:ve(["boton selector",{activo:n.mostrando==="objetivos"}]),title:n.mostrando==="objetivos"?"Ocultar objetivos":"Mostrar objetivos",onClick:t[8]||(t[8]=u=>n.mostrando=n.mostrando==="objetivos"?null:"objetivos")},Z$,10,J$)):Ie("",!0)],512),[[K,o.seleccionado]])]),m("div",X$,[V(m("div",ej,[V(m("div",tj,[e.usuarioSuperadministrador?(J(),X("div",oj,Ee(o.estaPersona.username),1)):Ie("",!0)],512),[[K,o.seleccionado]]),m("div",nj,[e.usuarioSuperadministrador?(J(),X("div",{key:0,class:ve(["boton selector",{activo:n.mostrandoPermisos}]),onClick:t[9]||(t[9]=u=>n.mostrandoPermisos=!n.mostrandoPermisos),title:n.mostrandoPermisos?"Ocultar permisos":"Mostrar permisos"},sj,10,ij)):Ie("",!0),V(m("div",{class:"boton",title:"Restaurar password (123456)",onClick:t[10]||(t[10]=(...u)=>r.resetearPassword&&r.resetearPassword(...u))},lj,512),[[K,!n.reseteandoPassword]]),V(Te(s,{texto:""},null,512),[[K,n.reseteandoPassword]])]),e.usuarioSuperadministrador?V((J(),X("div",{key:0,id:"listaPermisos",class:ve({deshabilitado:n.togglingPermiso})},[(J(!0),X(Fe,null,qe(n.permisosPosibles,u=>(J(),X("div",{class:ve(["activadorPermiso",{permisoGranted:o.estaPersona.permisos.includes(u)}]),onClick:h=>r.togglePermiso(u),key:u+"permiso"},Ee(u),11,cj))),128))],2)),[[K,n.mostrandoPermisos]]):Ie("",!0)],512),[[K,n.mostrando==="administracion"]]),V(m("div",uj,[V(Te(s,null,null,512),[[K,e.$apollo.queries.informes.loading]]),e.$apollo.queries.informes.loading?Ie("",!0):(J(),X("div",dj,[m("div",hj,[V(m("div",fj,[m("div",{class:ve(["boton selector",{activo:n.periodoInforme==="primero"}]),onClick:t[11]||(t[11]=u=>n.periodoInforme="primero")}," I ",2),m("div",{class:ve(["boton selector",{activo:n.periodoInforme==="segundo"}]),onClick:t[12]||(t[12]=u=>n.periodoInforme="segundo")}," II ",2),m("div",{class:ve(["boton selector",{activo:n.periodoInforme==="tercero"}]),onClick:t[13]||(t[13]=u=>n.periodoInforme="tercero")}," III ",2),m("div",{class:ve(["boton selector",{activo:n.periodoInforme==="total"}]),onClick:t[14]||(t[14]=u=>n.periodoInforme="total")}," Total ",2)],512),[[K,e.usuarioProfe]]),V(m("div",{class:"boton",onClick:t[15]||(t[15]=(...u)=>r.descargarArchivoInforme&&r.descargarArchivoInforme(...u))},mj,512),[[K,!n.creandoDocumentoInforme]]),V(Te(s,{texto:""},null,512),[[K,n.creandoDocumentoInforme]])]),vj,V(m("textarea",{id:"textAreaInformeObjetivos",onBlur:t[16]||(t[16]=u=>r.guardarInforme("objetivos")),ref:"inputInformeCategoriaObjetivos",class:ve(["seccionInforme",{deshabilitado:n.guardandoInformeObjetivos,guardado:n.nuevoInformeObjetivos==r.misInformesActivos.objetivos}]),"onUpdate:modelValue":t[17]||(t[17]=u=>n.nuevoInformeObjetivos=u)},null,34),[[Ke,n.nuevoInformeObjetivos]]),m("div",gj,[V(m("div",{class:ve([{guardado:n.nuevoInformeObjetivos===r.misInformesActivos.objetivos},"boton botonGuardarSeccion"]),onClick:t[18]||(t[18]=u=>r.guardarInforme("objetivos"))},yj,2),[[K,!n.guardandoInformeObjetivos]]),V(Te(s,null,null,512),[[K,n.guardandoInformeObjetivos]])]),wj,V(m("textarea",{id:"textAreaInformeProyectos",onBlur:t[19]||(t[19]=u=>r.guardarInforme("proyectos")),ref:"inputInformeCategoriaProyectos",class:ve(["seccionInforme",{deshabilitado:n.guardandoInformeProyectos,guardado:n.nuevoInformeProyectos==r.misInformesActivos.proyectos}]),"onUpdate:modelValue":t[20]||(t[20]=u=>n.nuevoInformeProyectos=u)},null,34),[[Ke,n.nuevoInformeProyectos]]),m("div",Ej,[V(m("div",{class:ve([{guardado:n.nuevoInformeProyectos===r.misInformesActivos.proyectos},"boton botonGuardarSeccion"]),onClick:t[21]||(t[21]=u=>r.guardarInforme("proyectos"))},_j,2),[[K,!n.guardandoInformeProyectos]]),V(Te(s,null,null,512),[[K,n.guardandoInformeProyectos]])]),Nj,V(m("textarea",{id:"textAreaInformeProyectos",onBlur:t[22]||(t[22]=u=>r.guardarInforme("espacios")),ref:"inputInformeCategoriaEspacios",class:ve(["seccionInforme",{deshabilitado:n.guardandoInformeEspacios,guardado:n.nuevoInformeEspacios==r.misInformesActivos.espacios}]),"onUpdate:modelValue":t[23]||(t[23]=u=>n.nuevoInformeEspacios=u)},null,34),[[Ke,n.nuevoInformeEspacios]]),m("div",Cj,[V(m("div",{class:ve([{guardado:n.nuevoInformeEspacios===r.misInformesActivos.espacios},"boton botonGuardarSeccion"]),onClick:t[24]||(t[24]=u=>r.guardarInforme("espacios"))},xj,2),[[K,!n.guardandoInformeEspacios]]),V(Te(s,null,null,512),[[K,n.guardandoInformeEspacios]])]),Ij,V(m("textarea",{id:"textAreaInformeComentario",onBlur:t[25]||(t[25]=u=>r.guardarInforme("comentario")),ref:"inputInformeCategoriaComentario",class:ve(["seccionInforme",{deshabilitado:n.guardandoInformeComentario,guardado:n.nuevoInformeComentario==r.misInformesActivos.comentario}]),"onUpdate:modelValue":t[26]||(t[26]=u=>n.nuevoInformeComentario=u)},null,34),[[Ke,n.nuevoInformeComentario]]),m("div",Tj,[V(m("div",{class:ve([{guardado:n.nuevoInformeComentario===r.misInformesActivos.comentario},"boton botonGuardarSeccion"]),onClick:t[27]||(t[27]=u=>r.guardarInforme("comentario"))},Pj,2),[[K,!n.guardandoInformeComentario]]),V(Te(s,null,null,512),[[K,n.guardandoInformeComentario]])])]))],512),[[K,n.mostrando==="informe"]]),V(m("div",Dj,[(J(!0),X(Fe,null,qe(o.nodosSolidaridadPublicitados,u=>(J(),X("div",{class:ve(["selectorNodoSolidaridad",{deshabilitado:n.settingPresenciaNodoSolidaridad,activo:u.responsables.includes(o.estaPersona.id)}]),onClick:h=>r.toggleResponsableNodoSolidaridad(u),key:u.id},Ee(u.nombre),11,kj))),128))],512),[[K,n.mostrando==="nodosSolidaridadPublicitados"]]),n.mostrando==="calendario"?(J(),X("div",Oj,[Te(c,{idUsuarioTarget:o.estaPersona.id,ref:"calendario",enfasis:"eventosPersonales"},null,8,["idUsuarioTarget"])])):Ie("",!0),n.mostrando==="objetivos"?(J(),X("div",Mj,[Te(a,{ref:"ventanaLista",idNodoRoot:o.estaPersona.id,tipoNodoRoot:"usuario"},null,8,["idNodoRoot"])])):Ie("",!0),n.mostrando==="rutaGrado"?V((J(),X("div",Lj,[Te(l,{idUsuario:o.estaPersona.id},null,8,["idUsuario"])],512)),[[K,n.mostrando==="rutaGrado"]]):Ie("",!0)])],2)}const Bj=He(S$,[["render",Fj],["__scopeId","data-v-0302057a"]]),Uj=/[^ a-zA-Z-]/,Xc=he`
  query {
    todosUsuarios {
      id
      nombres
      apellidos
      permisos
      username
    }
  }
`,$j={name:"Personas",components:{Loading:it,PersonaVistaLista:Bj},apollo:{personas:{query:Xc,update:function({todosUsuarios:e}){return e},fetchPolicy:"cache-first"},nodosSolidaridadPublicitados:{query:he`
        query {
          nodosSolidaridadPublicitados {
            id
            nombre
            responsables
          }
        }
      `},personasConEspacio:{query:he`
        query($dateActual: Date){
          todosUsuarios(dateActual: $dateActual){
            id
            espacioActual
          }
        }
      `,variables(){return{dateActual:Date.now()}},update({todosUsuarios:e}){return e}}},data(){const e=localStorage.getItem("configuracionPersonas");var t={};return e&&(t=JSON.parse(e)),{personas:[],personasConEspacio:[],nodosSolidaridadPublicitados:[],idPersonaMenuCx:null,idPersonaSeleccionada:null,tipoMostrarUsuarios:"todos",permisoInput:"",textoBuscar:null,textoBusquedaUsado:null,mostrandoInputBuscar:!1,buscados:[],debouncingBusqueda:!1,mostrarEspacioActual:t.mostrarEspacioActual!=null&&t.mostrarEspacioActual!=null?t.mostrarEspacioActual:!0,mostrandoConfiguracion:!1}},methods:{setLocalStorageConfiguracion(){const e={mostrarEspacioActual:this.mostrarEspacioActual},t=JSON.stringify(e);localStorage.setItem("configuracionPersonas",t)},copiarId(e){let t=e.target.innerText.trim();const o=document.createElement("textarea");o.value=t,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o)},eliminarPersonaDeDatabase(e){confirm("¿Seguro de eliminar a este individuo?")&&console.log(`Se eliminara una persona con id ${e} de la base de datos`),this.$apollo.mutate({mutation:he`
            mutation ($idUsuario: ID!) {
              eliminarUsuario(idUsuario: $idUsuario)
            }
          `,variables:{idUsuario:e},update:(t,{data:{eliminarUsuario:o}})=>{if(console.log(`Data: ${o}`),o)try{let i=t.readQuery({query:Xc,variables:{idUsuario:e}});console.log(`cache: ${i}`);let n=i.todosUsuarios.findIndex(r=>r.id==e);n>-1&&i.todosUsuarios.splice(n,1),console.log(`cache: ${i}`),t.writeQuery({query:Xc,variables:{idUsuario:e},data:i})}catch(i){console.log(`Error actualizando cache. E:${i}`)}}}).then(t=>{console.log(`Res: ${JSON.stringify(t)}`),t.data&&console.log("Usuario eliminado exitosamente")}).catch(t=>{console.log(`Error eliminando usuario: E: ${t}`)})},asignarPermisoTodos(){if(this.permisoIlegal){console.log("No enviado");return}confirm("¿Asignar este permiso a todas las personas?")&&this.$apollo.mutate({mutation:he`
            mutation ($nuevoPermiso: String!) {
              asignarPermisoTodosUsuarios(nuevoPermiso: $nuevoPermiso)
            }
          `,variables:{nuevoPermiso:this.permisoInput}}).then(()=>{alert("Permiso "+this.permisoInput+" asignado para todos los usuarios")})},iniciarBuscar(){this.mostrandoInputBuscar=!0,this.$nextTick(()=>{this.$refs.inputBuscar.focus()})},cancelarBusqueda(){this.buscados=[],this.textoBuscar=null,this.mostrandoInputBuscar=!1,this.textoBusquedaUsado=null},calcularBuscados:Jn(function(){console.log("Setting textoBusquedaUsado"),this.textoBusquedaUsado=this.textoBuscar},800)},computed:{opcionesEspecialesPersona:function(){let e=[];return this.usuarioSuperadministrador&&(e=e.concat([{textoVisible:"Eliminar de la base de datos",evento:"eliminandoseDeDatabase"},{textoVisible:"resetear contraseña (123456)",evento:"reseteandoPass"}])),e},permisoIlegal(){return!!(this.permisoInput.length<1||Uj.test(this.permisoInput))},personasVisibles(){var e=JSON.parse(JSON.stringify(this.personas));return this.tipoMostrarUsuarios==="profesores"?e=e.filter(t=>t.permisos.includes("maestraVida-profesor")):this.tipoMostrarUsuarios==="estudiantes"?e=e.filter(t=>t.permisos.includes("maestraVida-estudiante")):this.tipoMostrarUsuarios==="graduados"&&(e=e.filter(t=>t.permisos.includes("maestraVida-graduado"))),this.textoBusquedaUsado&&e.sort((t,o)=>Ma.stringSimilarity.compareTwoStrings(o.nombres+o.apellidos,this.textoBusquedaUsado)-Ma.stringSimilarity.compareTwoStrings(t.nombres+t.apellidos,this.textoBusquedaUsado)),e}},watch:{mostrarEspacioActual(){this.setLocalStorageConfiguracion()}}},jo=e=>(Ze("data-v-451657ed"),e=e(),Xe(),e),jj={class:"personas"},qj={class:"barraSeccion"},Vj={class:"contenedorControles",style:{"margin-left":"auto"}},Hj=jo(()=>m("img",{src:Ns,alt:"Configuración",style:{}},null,-1)),zj=[Hj],Qj={class:"zonaConfiguracion"},Gj=jo(()=>m("div",{class:"barraSeccion"},"Configuración",-1)),Kj={class:"contenedorBloquesConfiguracion"},Wj={class:"bloqueConfiguracion"},Jj={class:"campoConfiguracion"},Yj=jo(()=>m("label",{for:"checkMostrarEspacioActual"},"Mostrar espacio en el que se encuentra cada persona",-1)),Zj={class:"zonaConfiguracion"},Xj={class:"contenedorBloquesConfiguracion"},eq={class:"bloqueConfiguracion"},tq={class:"campoConfiguracion",id:"campoUsuariosMostrados"},oq=jo(()=>m("span",{style:{width:"100%"}}," Mostrar:",-1)),nq={class:"opcion"},iq=jo(()=>m("label",{for:"mostrarTodos"},"Todos",-1)),rq={class:"opcion"},sq=jo(()=>m("label",{for:"mostrarEstudiantes"},"Estudiantes",-1)),aq={class:"opcion"},lq=jo(()=>m("label",{for:"mostrarProfesores"},"Profesorxs",-1)),cq={class:"opcion"},uq=jo(()=>m("label",{for:"mostrarGraduados"},"Graduados",-1)),dq={id:"zonaBuscar"},hq={class:"barraSuperior"},fq=jo(()=>m("img",{src:s0,alt:"Lupa"},null,-1)),pq=[fq],mq=jo(()=>m("img",{src:zt,alt:"Equis"},null,-1)),vq=[mq];function gq(e,t,o,i,n,r){const s=Pe("router-view"),c=Pe("loading"),a=Pe("persona-vista-lista");return J(),X("div",jj,[Te(s),m("div",qj,[m("div",Vj,[m("div",{class:"boton",onClick:t[0]||(t[0]=l=>n.mostrandoConfiguracion=!n.mostrandoConfiguracion)},zj)])]),V(m("div",Qj,[Gj,m("div",Kj,[m("div",Wj,[m("div",Jj,[Yj,V(m("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>n.mostrarEspacioActual=l),type:"checkbox",name:"checkMostrarEspacioActual",id:"checkMostrarEspacioActual",ref:"checkMostrarEspacioActual"},null,512),[[qn,n.mostrarEspacioActual]])])])])],512),[[K,n.mostrandoConfiguracion]]),m("div",Zj,[m("div",Xj,[m("div",eq,[m("div",tq,[oq,m("div",nq,[iq,V(m("input",{type:"radio",name:"radioMostrarTodos",ref:"mostrarTodos",value:"todos","onUpdate:modelValue":t[2]||(t[2]=l=>n.tipoMostrarUsuarios=l),id:"radioMostrarTodos"},null,512),[[Ii,n.tipoMostrarUsuarios]])]),m("div",rq,[sq,V(m("input",{type:"radio",name:"radioMostrarEstudiantes",ref:"mostrarEstudiantes",value:"estudiantes","onUpdate:modelValue":t[3]||(t[3]=l=>n.tipoMostrarUsuarios=l),id:"radioMostrarEstudiantes"},null,512),[[Ii,n.tipoMostrarUsuarios]])]),m("div",aq,[lq,V(m("input",{type:"radio",name:"radioMostrarProfesores",ref:"mostrarProfesores",value:"profesores","onUpdate:modelValue":t[4]||(t[4]=l=>n.tipoMostrarUsuarios=l),id:"radioMostrarProfesores"},null,512),[[Ii,n.tipoMostrarUsuarios]])]),m("div",cq,[uq,V(m("input",{type:"radio",name:"radioMostrarGraduados",ref:"mostrarGraduados",value:"graduados","onUpdate:modelValue":t[5]||(t[5]=l=>n.tipoMostrarUsuarios=l),id:"radioMostrarGraduados"},null,512),[[Ii,n.tipoMostrarUsuarios]])])])])])]),m("div",dq,[m("div",hq,[V(m("input",{type:"text",ref:"inputBuscar","onUpdate:modelValue":t[6]||(t[6]=l=>n.textoBuscar=l),onInput:t[7]||(t[7]=(...l)=>r.calcularBuscados&&r.calcularBuscados(...l))},null,544),[[Ke,n.textoBuscar],[K,n.mostrandoInputBuscar]]),V(m("div",{class:"boton",onClick:t[8]||(t[8]=(...l)=>r.iniciarBuscar&&r.iniciarBuscar(...l))},pq,512),[[K,!n.mostrandoInputBuscar]]),V(m("div",{class:"boton",title:"Cancelar",onClick:t[9]||(t[9]=(...l)=>r.cancelarBusqueda&&r.cancelarBusqueda(...l))},vq,512),[[K,n.mostrandoInputBuscar]])])]),m("div",{id:"listaPersonas",onClick:t[10]||(t[10]=l=>n.idPersonaMenuCx=null)},[V(Te(c,{texto:"Cargando lista de personas..."},null,512),[[K,e.$apollo.queries.personas.loading]]),(J(!0),X(Fe,null,qe(r.personasVisibles,l=>(J(),Ge(a,{key:l.id,seleccionado:n.idPersonaSeleccionada===l.id,estaPersona:l,nodosSolidaridadPublicitados:n.nodosSolidaridadPublicitados,personasConEspacio:n.personasConEspacio,mostrarEspacioActual:n.mostrarEspacioActual,onClick:u=>n.idPersonaSeleccionada=l.id},null,8,["seleccionado","estaPersona","nodosSolidaridadPublicitados","personasConEspacio","mostrarEspacioActual","onClick"]))),128))])])}const bq=He($j,[["render",gq],["__scopeId","data-v-451657ed"]]),yq="/caracol/assets/exclamationCircle-1e9df160.svg",wq={components:{Loading:it},name:"EventoItemLista",props:{esteEvento:Object},mixins:[Es,As,c0,hh],data(){return{mostrando:null,eliminandose:!1}}},ph=e=>(Ze("data-v-8fbb8e28"),e=e(),Xe(),e),Eq={id:"barraSuperior"},Aq={id:"zonaInfoHorario",style:{display:"flex"}},_q={id:"horarioInicio",class:"infoHorario"},Nq={id:"zonaBotones"},Cq=ph(()=>m("img",{src:ws,alt:"Expandir"},null,-1)),Sq=[Cq],xq=ph(()=>m("img",{src:yq,alt:"Informacion"},null,-1)),Iq=[xq],Tq=ph(()=>m("img",{src:Dn,alt:"Eliminar"},null,-1)),Rq=[Tq],Pq={id:"barraInfo"},Dq={id:"zonaNombre"},kq={id:"zonaDescripcion",class:"zonaPrimerNivel"},Oq={class:"contenedorBotonesCampo"};function Mq(e,t,o,i,n,r){const s=Pe("loading");return J(),X("div",{class:ve(["eventoItemLista",{deshabilitado:n.eliminandose}])},[m("div",Eq,[m("div",Aq,[m("div",_q,Ee(e.dateInicioLegible+", "+e.duracionLegible),1)]),m("div",Nq,[m("div",{class:"boton botonControlEvento",title:"Expandir este evento",onClick:t[0]||(t[0]=ge(c=>e.$router.push(e.$route.path+"/ventanaEventoPublico/"+o.esteEvento.id),["stop"]))},Sq),m("div",{class:"boton botonMostrar",onClick:t[1]||(t[1]=c=>n.mostrando=n.mostrando==="descripcion"?null:"descripcion")},Iq),V(m("div",{class:"boton",id:"botonEliminarse",style:{"margin-left":"min(20px, 3%)"},onClick:t[2]||(t[2]=(...c)=>e.eliminarse&&e.eliminarse(...c))},Rq,512),[[K,e.administrador||e.usuarioSuperadministrador]])])]),m("div",Pq,[m("div",Dq,[V(m("input",{onKeypress:t[3]||(t[3]=vt(ge((...c)=>e.guardarNuevoNombre&&e.guardarNuevoNombre(...c),["prevent"]),["enter"])),ref:"inputNuevoNombre","onUpdate:modelValue":t[4]||(t[4]=c=>e.nuevoNombre=c),style:{width:"250px"},onClick:t[5]||(t[5]=ge(()=>{},["stop"])),onBlur:t[6]||(t[6]=c=>e.editandoNombre=!1),onKeydown:t[7]||(t[7]=(...c)=>e.keydownInputNuevoNombre&&e.keydownInputNuevoNombre(...c)),type:"text",class:ve(["inputNuevoNombre inputNombreCosa",{deshabilitado:e.enviandoNuevoNombre}])},null,34),[[Ke,e.nuevoNombre],[K,e.editandoNombre]]),V(Te(s,{texto:""},null,512),[[K,e.enviandoNuevoNombre]]),V(m("div",{id:"elNombre",class:ve({deshabilitado:e.enviandoNuevoNombre,administrador:e.administrador}),onClick:t[8]||(t[8]=(...c)=>e.toggleEditandoNombre&&e.toggleEditandoNombre(...c))},Ee(o.esteEvento.nombre),3),[[K,!e.editandoNombre]])])]),V(m("div",kq,[V(m("div",{id:"descripcion",class:"contenidoTexto",ref:"descripcion",onClick:t[9]||(t[9]=(...c)=>e.toggleEditandoDescripcion&&e.toggleEditandoDescripcion(...c))},Ee(o.esteEvento.descripcion),513),[[K,!e.editandoDescripcion]]),V(m("textarea",{id:"inputNuevoDescripcion",ref:"inputNuevoDescripcion",class:ve(["inputTextoNodo",{letrasRojas:e.nuevoDescripcionIlegal}]),"onUpdate:modelValue":t[10]||(t[10]=c=>e.nuevoDescripcion=c)},null,2),[[Ke,e.nuevoDescripcion],[K,e.editandoDescripcion]]),V(m("div",Oq,[m("img",{src:Pn,class:"botonGuardarCampo",alt:"Guardar",title:"Guardar descripción",id:"botonGuardarDescripcion",onClick:t[11]||(t[11]=(...c)=>e.guardarNuevoDescripcion&&e.guardarNuevoDescripcion(...c))}),m("img",{src:zt,class:"botonGuardarCampo",alt:"Cancelar",title:"Cancelar edición",id:"botonCancelarEdicionDescripcion",onClick:t[12]||(t[12]=c=>e.editandoDescripcion=!1)})],512),[[K,e.editandoDescripcion]]),V(Te(s,{texto:"Enviando..."},null,512),[[K,e.enviandoNuevoDescripcion]])],512),[[K,n.mostrando==="descripcion"]])],2)}const Lq=He(wq,[["render",Mq],["__scopeId","data-v-8fbb8e28"]]),eu=he`
  query ($idEspacio: ID!) {
    eventosPublicosEspacio(idEspacio: $idEspacio) {
      ...fragEventoPublico
    }
  }
  ${nr}
`,Fq={components:{EventoItemLista:Lq,Loading:it},props:{idEspacio:String},name:"ListaEventosEspacio",apollo:{eventosPublicosEspacio:{query:eu,variables(){return{idEspacio:this.idEspacio}},fetchPolicy:"cache-and-network"}},data(){return{idEventoSeleccionado:null,eventosPublicosEspacio:[]}},methods:{deleteEventoCache(e){const t=e.__typename.charAt(0).toLowerCase()+e.__typename.slice(1);var o=null;if(t==="eventoPublico")o={query:eu,variables:{idEspacio:this.idEspacio}};else if(t==="eventoPersonal"){console.log("add cache eventos personales not developed");return}else{console.log(`Tipo evento ${t} no reconocido`);return}const i=this.$apollo.provider.defaultClient,n=i.readQuery({...o});var r=JSON.parse(JSON.stringify(n)),s=null;t==="eventoPublico"?s=r.eventosPublicosEspacio:t==="eventoPersonal"&&(s=r.eventosPersonalesEspacio);const c=s.findIndex(a=>a.id===e.id);c>-1&&(s.splice(c,1),i.writeQuery({...o,data:r}))},addEventoCache(e){const t=e.__typename.charAt(0).toLowerCase()+e.__typename.slice(1);var o=null;if(t==="eventoPublico")o={query:eu,variables:{idEspacio:this.idEspacio}};else if(t==="eventoPersonal"){console.log("add cache eventos personales not developed");return}else{console.log(`Tipo evento ${t} no reconocido`);return}const i=this.$apollo.provider.defaultClient,n=i.readQuery({...o});var r=JSON.parse(JSON.stringify(n)),s=null;t==="eventoPublico"?s=r.eventosPublicosEspacio:t==="eventoPersonal"&&(s=r.eventosPersonalesEspacio),s.findIndex(a=>a.id===e.id)===-1&&(s.push(e),i.writeQuery({...o,data:r}))}},computed:{eventosPublicosEspacioOrdenados(){return[...this.eventosPublicosEspacio].sort((e,t)=>-new Date(e.horarioInicio).getTime()+new Date(t.horarioInicio).getTime())}}},Bq={class:"listaEventosEspacio"};function Uq(e,t,o,i,n,r){const s=Pe("loading"),c=Pe("evento-item-lista");return J(),X("div",Bq,[V(Te(s,{texto:""},null,512),[[K,e.$apollo.queries.eventosPublicosEspacio.loading]]),(J(!0),X(Fe,null,qe(r.eventosPublicosEspacioOrdenados,a=>(J(),Ge(c,{esteEvento:a,key:a.id,seleccionado:n.idEventoSeleccionado===a.id,onMeElimine:l=>{r.deleteEventoCache(a)}},null,8,["esteEvento","seleccionado","onMeElimine"]))),128))])}const $q=He(Fq,[["render",Uq],["__scopeId","data-v-304cab60"]]),jq="/caracol/assets/userCog-13234f22.svg",qq="/caracol/assets/clipboardList-6ff4ab60.svg",Vq={components:{Loading:it,IconoPersonaAutonomo:ui,Calendario:ml,ListaEventosEspacio:$q},name:"Espacio",props:{esteEspacio:Object},data(){return{abierto:!1,mostrando:null,nuevoNombre:"Nuevo nombre",editandoNombre:!1,enviandoNuevoNombre:!1,nuevoDescripcion:"Nueva descripcion",editandoDescripcion:!1,enviandoNuevoDescripcion:!1,mostrandoCuadroCrearEventoPublico:!1,nombreNuevoEventoPublico:"Espacio de "+this.esteEspacio.nombre,dateInicioNuevoEventoPublico:null,dateFinalNuevoEventoPublico:null,horarioInicioNuevoEventoPublico:null,horarioFinalNuevoEventoPublico:null,duracionNuevoEventoPublico:60,creandoEventoPublico:!1,enviandoNuevoEventoPublico:!1,introduciendoEventoPublicoCalendario:!1,settingEstadoParaChiquis:!1,eliminandose:!1}},methods:{toggleEstadoParaChiquis(){if(!this.usuarioSuperadministrador&&!this.administrador){console.log("No autorizado");return}this.settingEstadoParaChiquis=!0,this.$apollo.mutate({mutation:he`
          mutation($idEspacio: ID!, $nuevoEstado:Boolean!){
            setEspacioParaChiquis(idEspacio: $idEspacio, nuevoEstado: $nuevoEstado){
               id
               paraChiquis 
            }
          }
          `,variables:{idEspacio:this.esteEspacio.id,nuevoEstado:!this.esteEspacio.paraChiquis}}).then(()=>{this.settingEstadoParaChiquis=!1}).catch(e=>{console.log("Error: "+e),this.settingEstadoParaChiquis=!1})},guardarNuevoNombre(){if(this.nuevoNombre=this.$refs.inputNuevoNombre.value,this.nuevoNombreIlegal){console.log("No enviado");return}if(this.nuevoNombre==this.esteEspacio.nombre){this.editandoNombre=!1;return}console.log("guardando nuevo nombre"),this.enviandoNuevoNombre=!0,this.$apollo.mutate({mutation:he`
            mutation ($idEspacio: ID!, $nuevoNombre: String!) {
              editarNombreEspacio(
                idEspacio: $idEspacio
                nuevoNombre: $nuevoNombre
              ) {
                id
                nombre
              }
            }
          `,variables:{idEspacio:this.esteEspacio.id,nuevoNombre:this.nuevoNombre}}).then(()=>{this.enviandoNuevoNombre=!1,this.editandoNombre=!1}).catch(e=>{this.enviandoNuevoNombre=!1,console.log(`Error. E :${e}`)})},guardarNuevoDescripcion(){if(this.nuevoDescripcionIlegal){console.log("No enviado");return}if(this.nuevoDescripcion==this.esteEspacio.descripcion){this.editandoDescripcion=!1;return}console.log("guardando nuevo descripcion"),this.enviandoNuevoDescripcion=!0,this.$apollo.mutate({mutation:he`
            mutation ($idEspacio: ID!, $nuevoDescripcion: String!) {
              editarDescripcionEspacio(
                idEspacio: $idEspacio
                nuevoDescripcion: $nuevoDescripcion
              ) {
                id
                descripcion
              }
            }
          `,variables:{idEspacio:this.esteEspacio.id,nuevoDescripcion:this.nuevoDescripcion}}).then(()=>{this.enviandoNuevoDescripcion=!1,this.editandoDescripcion=!1}).catch(e=>{this.enviandoNuevoDescripcion=!1,console.log(`Error. E :${e}`)})},toggleEditandoDescripcion(){this.administrador&&(this.$refs.inputNuevoDescripcion.style.height=this.$refs.descripcion.offsetHeight+"px",this.editandoDescripcion=!this.editandoDescripcion,this.nuevoDescripcion=this.esteEspacio.descripcion,this.editandoDescripcion&&this.$nextTick(()=>{this.$refs.inputNuevoDescripcion.focus()}))},toggleEditandoNombre(e){this.administrador&&(e.stopPropagation(),this.editandoNombre=!0,this.nuevoNombre=this.esteEspacio.nombre,this.$nextTick(()=>{this.$refs.inputNuevoNombre.focus()}))},keydownInputNuevoNombre(e){e.key==="Escape"&&(this.editandoNombre=!1)},iniciarCreacionEvento(){this.introduciendoEventoPublicoCalendario=!0},eliminarse(){confirm("¿Confirmar la eliminación de este espacio? (Esta acción no puede deshacerse)")&&(!this.administrador&&!this.usuarioSuperadministrador||(this.eliminandose=!0,this.$apollo.mutate({mutation:he`
            mutation ($idEspacio: ID!) {
              eliminarEspacio(idEspacio: $idEspacio)
            }
          `,variables:{idEspacio:this.esteEspacio.id}}).then(()=>{this.$emit("meElimine")}).catch(e=>{console.log(`Error: ${e}`)})))},iniciarCuadroCrearEventoPublico(){this.nombreNuevoEventoPublico="Espacio de "+this.esteEspacio.nombre;var e=new Date;e.setHours(8),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e=new Date(e.getTime()+864e5);const t=e.toISOString().split("T")[0],i=new Date(e.getTime()+36e5).toISOString().split("T")[0];this.dateInicioNuevoEventoPublico=t,this.dateFinalNuevoEventoPublico=i,this.horarioInicioNuevoEventoPublico="08:00",this.horarioFinalNuevoEventoPublico="09:00",this.mostrandoCuadroCrearEventoPublico=!0},crearEventoPublico(){if(!this.administrador&&!this.usuarioSuperadministrador)return;console.log(`Date saved: ${this.dateInicioNuevoEventoPublico}`),this.duracionNuevoEventoPublico=this.$refs.inputDuracionNuevoEventoPublico.value;var e=new Date(this.dateInicioNuevoEventoPublico);console.log(`Date parsed: ${e}`);const t=e.getUTCDate();console.log(`Creando evento público el ${t}`);const o=parseInt(this.horarioInicioNuevoEventoPublico.substring(0,2)),i=parseInt(this.horarioInicioNuevoEventoPublico.substring(3));e.setDate(t),e.setHours(o),e.setMinutes(i);var n=new Date(e.getTime()+this.duracionNuevoEventoPublico*6e4);console.log(`Creando evento público el ${t}`),this.enviandoNuevoEventoPublico=!0,this.$apollo.mutate({mutation:he`
            mutation ($infoNuevoEvento: InputCrearEventoPublico) {
              crearEventoPublico(infoNuevoEvento: $infoNuevoEvento) {
                ...fragEventoPublico
              }
            }
            ${nr}
          `,variables:{infoNuevoEvento:{nombre:this.$refs.inputNombreNuevoEventoPublico.value,horarioInicio:e,horarioFinal:n,tipoParent:"espacio",idParent:this.esteEspacio.id}}}).then(({data:{crearEventoPublico:r}})=>{this.enviandoNuevoEventoPublico=!1,this.$refs.listaEventosEspacio.addEventoCache(r),this.mostrandoCuadroCrearEventoPublico=!1}).catch(r=>{console.log(`Error: ${r}`),this.enviandoNuevoEventoPublico=!1})}},computed:{administrador(){return this.usuarioLogeado?this.usuario.id===this.esteEspacio.idAdministrador:!1},nuevoNombreIlegal(){return!!(this.nuevoNombre.length<1||ps.test(this.nuevoNombre))},nuevoDescripcionIlegal(){return!!(!this.nuevoDescripcion||this.nuevoDescripcion.length<1||Ey.test(this.nuevoDescripcion))}},watch:{mostrando(e){e!="descripcion"&&(this.editandoDescripcion=!1),e==="descripcion"&&(!this.esteEspacio.descripcion||this.esteEspacio.descripcion.length<1)&&(this.editandoDescripcion||this.toggleEditandoDescripcion())},introduciendoEventoPublicoCalendario(e){e?this.$refs.calendario.eventoSiendoCreado={idParent:this.esteEspacio.id,tipoParent:"espacio",tipoEvento:"eventoPublico",idAdministrador:this.usuario.id}:this.$refs.calendario.eventoSiendoCreado=null}}},oo=e=>(Ze("data-v-c84e2b4f"),e=e(),Xe(),e),Hq={class:"barraSuperior"},zq={id:"zona1"},Qq={id:"zonaNombre"},Gq={id:"zonaBotones"},Kq=oo(()=>m("img",{src:di,alt:"Informacion"},null,-1)),Wq=[Kq],Jq=oo(()=>m("img",{src:jq,alt:"Administrador"},null,-1)),Yq=[Jq],Zq=oo(()=>m("img",{src:vl,alt:"Calendario"},null,-1)),Xq=[Zq],eV=oo(()=>m("img",{src:qq,alt:"Lista de eventos"},null,-1)),tV=[eV],oV=oo(()=>m("img",{src:Dn,alt:"Eliminar"},null,-1)),nV=[oV],iV={id:"zonaDescripcion",class:"zonaPrimerNivel"},rV=oo(()=>m("img",{src:y0,alt:"Chiqui",style:{height:"15px"}},null,-1)),sV={class:"contenedorBotonesCampo"},aV={id:"zonaAdministrador",class:"zonaPrimerNivel"},lV={key:0,id:"zonaCalendario",class:"zonaPrimerNivel"},cV={id:"contenedorControlesCalendario"},uV=["title"],dV=oo(()=>m("img",{src:fl,alt:"Calendario"},null,-1)),hV=[dV],fV=oo(()=>m("img",{src:Cs,alt:"Cancelar"},null,-1)),pV=[fV],mV={key:1,id:"zonaListaEventos",class:"zonaPrimerNivel"},vV={id:"controlesListaEventos",class:"contenedorControles"},gV=oo(()=>m("img",{src:li,alt:"Crear evento"},null,-1)),bV=[gV],yV=oo(()=>m("img",{src:Cs,alt:"Cancelar"},null,-1)),wV=[yV],EV={class:"bloqueCampoNuevoEventoPublico"},AV=oo(()=>m("div",{class:"nombreCampo"},"Nombre",-1)),_V={class:"bloqueCampoNuevoEventoPublico"},NV=oo(()=>m("div",{class:"nombreCampo"},"Inicio",-1)),CV={class:"bloqueCampoNuevoEventoPublico"},SV=oo(()=>m("div",{class:"nombreCampo"},"Duración",-1)),xV=oo(()=>m("img",{src:fl,alt:"CrearEvento"},null,-1)),IV=[xV];function TV(e,t,o,i,n,r){const s=Pe("loading"),c=Pe("icono-persona-autonomo"),a=Pe("calendario"),l=Pe("lista-eventos-espacio");return J(),X("div",{class:ve(["espacio",{mostrando:n.mostrando,deshabilitado:n.eliminandose}])},[m("div",Hq,[m("div",zq,[m("div",Qq,[V(m("input",{onKeypress:t[0]||(t[0]=vt(ge((...u)=>r.guardarNuevoNombre&&r.guardarNuevoNombre(...u),["prevent"]),["enter"])),ref:"inputNuevoNombre","onUpdate:modelValue":t[1]||(t[1]=u=>n.nuevoNombre=u),style:{width:"250px"},onClick:t[2]||(t[2]=ge(()=>{},["stop"])),onBlur:t[3]||(t[3]=(...u)=>r.guardarNuevoNombre&&r.guardarNuevoNombre(...u)),onKeydown:t[4]||(t[4]=(...u)=>r.keydownInputNuevoNombre&&r.keydownInputNuevoNombre(...u)),type:"text",class:ve(["inputNuevoNombre inputNombreCosa",{deshabilitado:n.enviandoNuevoNombre}])},null,34),[[Ke,n.nuevoNombre],[K,n.editandoNombre]]),V(Te(s,{texto:""},null,512),[[K,n.enviandoNuevoNombre]]),V(m("div",{id:"elNombre",class:ve({deshabilitado:n.enviandoNuevoNombre,administrador:r.administrador}),onClick:t[5]||(t[5]=(...u)=>r.toggleEditandoNombre&&r.toggleEditandoNombre(...u))},Ee(o.esteEspacio.nombre),3),[[K,!n.editandoNombre]])])]),m("div",Gq,[m("div",{class:ve(["boton botonMostrar selector",{activo:n.mostrando==="descripcion"}]),onClick:t[6]||(t[6]=u=>n.mostrando=n.mostrando==="descripcion"?null:"descripcion")},Wq,2),m("div",{class:ve(["boton botonMostrar selector",{activo:n.mostrando==="administrador"}]),onClick:t[7]||(t[7]=u=>n.mostrando=n.mostrando==="administrador"?null:"administrador")},Yq,2),m("div",{class:ve(["boton botonMostrar selector",{activo:n.mostrando==="calendario"}]),onClick:t[8]||(t[8]=u=>n.mostrando=n.mostrando==="calendario"?null:"calendario")},Xq,2),m("div",{class:ve(["boton botonMostrar selector",{activo:n.mostrando==="listaEventos"}]),onClick:t[9]||(t[9]=u=>n.mostrando=n.mostrando==="listaEventos"?null:"listaEventos")},tV,2),V(m("div",{class:"boton",id:"botonEliminarse",onClick:t[10]||(t[10]=(...u)=>r.eliminarse&&r.eliminarse(...u))},nV,512),[[K,r.administrador||e.usuarioSuperadministrador]])])]),V(m("div",iV,[m("div",{id:"zonaParaChiquis",onClick:t[11]||(t[11]=(...u)=>r.toggleEstadoParaChiquis&&r.toggleEstadoParaChiquis(...u)),class:ve({deshabilitado:n.settingEstadoParaChiquis})},[rV,gt(" "+Ee(o.esteEspacio.paraChiquis?"Espacio dirigido a niñxs pequeñxs":"Espacio abierto para todos"),1)],2),V(m("div",{id:"descripcion",class:"contenidoTexto",ref:"descripcion",onClick:t[12]||(t[12]=(...u)=>r.toggleEditandoDescripcion&&r.toggleEditandoDescripcion(...u))},Ee(o.esteEspacio.descripcion),513),[[K,!n.editandoDescripcion]]),V(m("textarea",{id:"inputNuevoDescripcion",ref:"inputNuevoDescripcion",class:ve(["inputTextoNodo",{letrasRojas:r.nuevoDescripcionIlegal}]),"onUpdate:modelValue":t[13]||(t[13]=u=>n.nuevoDescripcion=u)},null,2),[[Ke,n.nuevoDescripcion],[K,n.editandoDescripcion]]),V(m("div",sV,[m("img",{src:Pn,class:"botonGuardarCampo",alt:"Guardar",title:"Guardar descripción",id:"botonGuardarDescripcion",onClick:t[14]||(t[14]=(...u)=>r.guardarNuevoDescripcion&&r.guardarNuevoDescripcion(...u))}),m("img",{src:zt,class:"botonGuardarCampo",alt:"Cancelar",title:"Cancelar edición",id:"botonCancelarEdicionDescripcion",onClick:t[15]||(t[15]=u=>n.editandoDescripcion=!1)})],512),[[K,n.editandoDescripcion]]),V(Te(s,{texto:"Enviando..."},null,512),[[K,n.enviandoNuevoDescripcion]])],512),[[K,n.mostrando==="descripcion"]]),V(m("div",aV,[Te(c,{idPersona:o.esteEspacio.idAdministrador},null,8,["idPersona"])],512),[[K,n.mostrando==="administrador"]]),n.mostrando==="calendario"?(J(),X("div",lV,[m("div",cV,[r.administrador?V((J(),X("div",{key:0,class:"boton botonControlCalendario",title:"Programar una sesión de "+o.esteEspacio.nombre,onClick:t[16]||(t[16]=(...u)=>r.iniciarCreacionEvento&&r.iniciarCreacionEvento(...u))},hV,8,uV)),[[K,n.mostrando==="calendario"&&!n.introduciendoEventoPublicoCalendario]]):Ie("",!0),V(m("div",{class:"boton botonControlCalendario",title:"Cancelar creación de evento",onClick:t[17]||(t[17]=u=>n.introduciendoEventoPublicoCalendario=!1)},pV,512),[[K,n.mostrando==="calendario"&&n.introduciendoEventoPublicoCalendario]])]),Te(a,{idUsuarioTarget:e.usuario.id,ref:"calendario",idParent:o.esteEspacio.id,enfasis:"eventosPublicos",tipoParent:"espacio",onIniciaCreacionEvento:t[18]||(t[18]=u=>n.introduciendoEventoPublicoCalendario=!1)},null,8,["idUsuarioTarget","idParent"])])):Ie("",!0),n.mostrando==="listaEventos"?(J(),X("div",mV,[m("div",vV,[V(m("div",{class:"boton",title:"Crear nuevo evento de este espacio",onClick:t[19]||(t[19]=(...u)=>r.iniciarCuadroCrearEventoPublico&&r.iniciarCuadroCrearEventoPublico(...u))},bV,512),[[K,!n.mostrandoCuadroCrearEventoPublico&&(r.administrador||e.usuarioSuperadministrador)]]),V(m("div",{class:"boton",title:"Cancelar",onClick:t[20]||(t[20]=u=>n.mostrandoCuadroCrearEventoPublico=!1)},wV,512),[[K,n.mostrandoCuadroCrearEventoPublico]]),V(Te(s,{texto:""},null,512),[[K,n.creandoEventoPublico]])]),V(m("div",{id:"cuadroCrearEventoPublico",class:ve({deshabilitado:n.enviandoNuevoEventoPublico})},[m("div",EV,[AV,V(m("input",{class:"inputCampo",type:"text",name:"",id:"inputNombreNuevoEventoPublico",ref:"inputNombreNuevoEventoPublico","onUpdate:modelValue":t[21]||(t[21]=u=>n.nombreNuevoEventoPublico=u)},null,512),[[Ke,n.nombreNuevoEventoPublico]])]),m("div",_V,[NV,V(m("input",{type:"date","onUpdate:modelValue":t[22]||(t[22]=u=>n.dateInicioNuevoEventoPublico=u),class:"inputCampo"},null,512),[[Ke,n.dateInicioNuevoEventoPublico]]),V(m("input",{type:"time","onUpdate:modelValue":t[23]||(t[23]=u=>n.horarioInicioNuevoEventoPublico=u),class:"inputCampo"},null,512),[[Ke,n.horarioInicioNuevoEventoPublico]])]),m("div",CV,[SV,V(m("input",{type:"number",ref:"inputDuracionNuevoEventoPublico","onUpdate:modelValue":t[24]||(t[24]=u=>n.duracionNuevoEventoPublico=u),class:"inputCampo"},null,512),[[Ke,n.duracionNuevoEventoPublico]]),gt(" Minutos ")]),V(m("div",{class:ve(["boton",{deshabilitado:!n.duracionNuevoEventoPublico||n.duracionNuevoEventoPublico<5}]),id:"botonCrearEventoPublico",style:{margin:"10px auto"},title:"Crear evento",onClick:t[25]||(t[25]=(...u)=>r.crearEventoPublico&&r.crearEventoPublico(...u))},IV,2),[[K,!n.creandoEventoPublico]]),V(Te(s,{texto:"",style:{margin:"10px auto"}},null,512),[[K,n.enviandoNuevoEventoPublico]])],2),[[K,n.mostrandoCuadroCrearEventoPublico]]),Te(l,{idEspacio:this.esteEspacio.id,ref:"listaEventosEspacio"},null,8,["idEspacio"])])):Ie("",!0)],2)}const RV=He(Vq,[["render",TV],["__scopeId","data-v-c84e2b4f"]]),Dv="/caracol/assets/angleDown-f350642e.svg",Tr=he`
  query {
    todosEspacios {
      ...fragEspacio
    }
  }
  ${gl}
`,PV={components:{Espacio:RV,Loading:it,OrganizadorHorarioSemanal:A0},props:{yo:Object},apollo:{todosEspacios:{query:Tr}},name:"Espacios",data(){return{todosEspacios:[],verTodos:!1,creandoEspacio:!1,mostrandoEspacios:!1,mostrandoOrganizadorSemanal:!1,mostrandoConfiguracion:!1,tipoMostrarEspacios:"mios"}},methods:{crearNuevoEspacio(){this.creandoEspacio=!0,this.$apollo.mutate({mutation:he`
            mutation ($info: InputCrearEspacio) {
              crearEspacio(info: $info) {
                ...fragEspacio
              }
            }
            ${gl}
          `,variables:{info:{idAdministrador:this.usuario.id}}}).then(({data:{crearEspacio:e}})=>{const t=this.$apollo.provider.defaultClient,o=t.readQuery({query:Tr}),i=JSON.parse(JSON.stringify(o));i.todosEspacios.findIndex(r=>r.id===e.id)===-1?(i.todosEspacios.push(e),t.writeQuery({query:Tr,data:i})):console.log("El espacio ya estaba en caché"),this.creandoEspacio=!1}).catch(e=>{console.log(`Error: ${e}`),this.creandoEspacio=!1})},eliminarEspacioCache(e){const t=this.$apollo.provider.defaultClient,o=t.readQuery({query:Tr});var i=JSON.parse(JSON.stringify(o));const n=i.todosEspacios.findIndex(r=>r.id===e);n>-1&&(i.todosEspacios.splice(n,1),t.writeQuery({query:Tr,data:i}))},manejarCreacionEventos(e){console.log(`Manejando la repeticion de los eventos de un espacio con id ${e[0].idParent}`)},handleCambioFechaEvento(){console.log("Handling")}},computed:{usuarioProfe(){return this.usuarioLogeado?this.usuario.permisos.includes("maestraVida-profesor"):!1},espaciosVisibles(){return this.tipoMostrarEspacios==="todos"?this.espaciosUsuario.concat(this.espaciosNoUsuario):this.espaciosUsuario},espaciosUsuario(){return this.usuarioLogeado?this.todosEspacios.filter(e=>e.idAdministrador===this.usuario.id):[]},espaciosNoUsuario(){return this.usuarioLogeado?this.todosEspacios.filter(e=>e.idAdministrador!=this.usuario.id):this.todosEspacios}},watch:{mostrandoOrganizadorSemanal(e){e&&this.$refs.organizadorSemanal.$apollo.queries.espacios.refetch()}},beforeRouteLeave(e,t,o){if(this.$refs.organizadorSemanal.checkVentanaBloque()){console.log("Había bloque en ventana");return}o()}},Ss=e=>(Ze("data-v-d09db217"),e=e(),Xe(),e),DV={class:"espacios"},kV=Ss(()=>m("img",{src:Ns,alt:"Config",style:{}},null,-1)),OV=[kV],MV=Ss(()=>m("img",{src:li,alt:"Crear",style:{}},null,-1)),LV=[MV],FV={class:"zonaConfiguracion"},BV=Ss(()=>m("div",{class:"barraSeccion"}," Configuración ",-1)),UV={class:"contenedorBloquesConfiguracion"},$V={class:"bloqueConfiguracion"},jV={class:"campoConfiguracion"},qV=Ss(()=>m("label",{for:"checkMostrarTodosEspacios"},"Mis espacios",-1)),VV=Ss(()=>m("label",{for:"checkMostrarTodosEspacios"},"Todos los espacios",-1)),HV={id:"listaEspacios"},zV={key:0,class:"anuncioZonaVacia"};function QV(e,t,o,i,n,r){const s=Pe("router-view"),c=Pe("loading"),a=Pe("espacio"),l=Pe("organizador-horario-semanal");return J(),X("div",DV,[Te(s,{id:"visorVentanaEventoPublico",onMeRepetiPeriodicamente:r.manejarCreacionEventos,onEventoCambioFecha:t[0]||(t[0]=u=>r.manejarCreacionEventos([u]))},null,8,["onMeRepetiPeriodicamente"]),m("div",{class:"barraSeccion",onClick:t[4]||(t[4]=u=>n.mostrandoEspacios=!n.mostrandoEspacios)},[m("img",{src:Dv,style:Oe([{height:"20px"},[{transform:n.mostrandoEspacios?"none":"rotate(-90deg)"}]]),alt:"Abrir"},null,4),gt(" Espacios "),V(m("div",{class:"contenedorControles",onClick:t[3]||(t[3]=ge(()=>{},["stop"])),style:{"margin-left":"auto"}},[m("div",{class:"boton",onClick:t[1]||(t[1]=u=>n.mostrandoConfiguracion=!n.mostrandoConfiguracion)},OV),V(m("div",{class:"boton",onClick:t[2]||(t[2]=ge((...u)=>r.crearNuevoEspacio&&r.crearNuevoEspacio(...u),["stop"]))},LV,512),[[K,n.mostrandoEspacios&&!n.creandoEspacio]]),V(Te(c,{texto:""},null,512),[[K,n.creandoEspacio]])],512),[[K,n.mostrandoEspacios]])]),V(m("div",FV,[BV,m("div",UV,[m("div",$V,[m("div",jV,[gt(" Mostrar: "),qV,V(m("input",{type:"radio",name:"checkMostrarTodosEspacios",id:"checkMostrarTodosEspacios",ref:"checkMostrarTodosEspacios",value:"mios","onUpdate:modelValue":t[5]||(t[5]=u=>n.tipoMostrarEspacios=u)},null,512),[[Ii,n.tipoMostrarEspacios]]),VV,V(m("input",{type:"radio",name:"checkMostrarTodosEspacios",id:"checkMostrarTodosEspacios",ref:"checkMostrarTodosEspacios",value:"todos","onUpdate:modelValue":t[6]||(t[6]=u=>n.tipoMostrarEspacios=u)},null,512),[[Ii,n.tipoMostrarEspacios]])])])])],512),[[K,n.mostrandoConfiguracion&&n.mostrandoEspacios]]),V(m("div",HV,[!r.espaciosVisibles||r.espaciosVisibles.length<1?(J(),X("div",zV," Aún no hay espacios ")):Ie("",!0),(J(!0),X(Fe,null,qe(r.espaciosVisibles,u=>(J(),Ge(a,{ref_for:!0,ref:"espacios",key:u.id,esteEspacio:u,onMeElimine:h=>r.eliminarEspacioCache(u.id)},null,8,["esteEspacio","onMeElimine"]))),128))],512),[[K,n.mostrandoEspacios]]),m("div",{class:"barraSeccion",onClick:t[7]||(t[7]=u=>n.mostrandoOrganizadorSemanal=!n.mostrandoOrganizadorSemanal)},[m("img",{src:Dv,style:Oe([{height:"20px"},[{transform:n.mostrandoOrganizadorSemanal?"none":"rotate(-90deg)"}]]),alt:"Abrir"},null,4),gt(" Calendario semanal ")]),V(Te(l,{ref:"organizadorSemanal",yo:o.yo},null,8,["yo"]),[[K,n.mostrandoOrganizadorSemanal]])])}const GV=He(PV,[["render",QV],["__scopeId","data-v-d09db217"]]),KV={name:"InfoParticipanteEventoPublico",props:{estaParticipacion:Object,eventoPublico:Object,duracionEventoPublico:Number},data(){return{mostrando:null}},computed:{offsetBarraPresencia(){const o=(this.dateInicio-new Date(this.eventoPublico.horarioInicio))/6e4*100/this.duracionEventoPublico,i=this.duracionMinutos*100/this.duracionEventoPublico;return{left:o+"%",width:i+"%"}},duracionMinutos(){return(this.dateFinal-this.dateInicio)/6e4},horaInicioLegible(){var e=this.dateInicio.getHours(),t=this.dateInicio.getMinutes();return(""+e).length<2&&(e="0"+e),(""+t).length<2&&(t="0"+t),e+":"+t},horaFinalLegible(){var e=this.dateFinal.getHours(),t=this.dateFinal.getMinutes();return(""+e).length<2&&(e="0"+e),(""+t).length<2&&(t="0"+t),e+":"+t},dateInicio(){return new Date(this.estaParticipacion.horarioInicio)},dateFinal(){return new Date(this.estaParticipacion.horarioFinal)}}},N0=e=>(Ze("data-v-0f790998"),e=e(),Xe(),e),WV={class:"infoParticipanteEventoPublico"},JV={id:"barraSuperior"},YV=N0(()=>m("div",{class:"boton iconoUser"},[m("img",{src:_s,alt:"Usuario"})],-1)),ZV={id:"nombrePersona"},XV={class:"contenedorControles",style:{"margin-left":"auto"}},e7=N0(()=>m("img",{src:di,alt:"Info"},null,-1)),t7=[e7],o7={id:"barraTiempos"},n7={id:"bloqueInformacion"},i7={id:"nombreEventoPersonal"},r7={id:"horariosEventoPersonal"},s7={key:0,id:"descripcion"};function a7(e,t,o,i,n,r){return J(),X("div",WV,[m("div",JV,[YV,m("div",ZV,Ee(o.estaParticipacion.nombresPersona),1),m("div",XV,[m("div",{class:ve(["boton",{activo:n.mostrando==="descripcion"}]),onClick:t[0]||(t[0]=s=>n.mostrando=n.mostrando==="descripcion"?null:"descripcion")},t7,2)])]),m("div",o7,[m("div",{id:"barraPresencia",style:Oe([r.offsetBarraPresencia])},null,4)]),V(m("div",n7,[m("div",i7,Ee(this.estaParticipacion.nombre),1),m("div",r7,Ee(r.horaInicioLegible)+"-"+Ee(r.horaFinalLegible),1),o.estaParticipacion.descripcion?(J(),X("div",s7,Ee(o.estaParticipacion.descripcion),1)):Ie("",!0)],512),[[K,n.mostrando==="descripcion"]])])}const l7=He(KV,[["render",a7],["__scopeId","data-v-0f790998"]]),C0="/caracol/assets/hourglass-d9e3c275.svg",c7="/caracol/assets/broadcastTower-216b6220.svg",u7=he`
  query ($idEvento: ID!) {
    eventoPublico(idEvento: $idEvento) {
      ...fragEventoPublico
    }
  }
  ${nr}
`,d7={name:"VentanaEvento",apollo:{esteEvento:{query:u7,variables(){return{idEvento:this.$route.params.idEvento}},update({eventoPublico:e}){return e},fetchPolicy:"cache-and-network"}},components:{Loading:it,IconoPersonaAutonomo:ui,InfoParticipanteEventoPublico:l7},mixins:[Es,hh,As,c0,d0],data(){return{}},methods:{broadcastAFuturoMaximoParticipantes(){console.log(`Se fijará que todos los eventos futuros de este espacio tengan ${this.esteEvento.limiteDeCupos}`),confirm("Se fijará que todos los eventos de este espacio (Posteriores a este) tendrán un límite de cupos de "+this.esteEvento.limiteDeCupos+". ¿Continuar?")&&this.$apollo.mutate({mutation:he`
          mutation($idEspacio: ID!, $dateFrom: Date!, $limiteDeCupos: Int!){
            setLimiteDeCuposEventosPublicosEspacioFromDate(idEspacio: $idEspacio, dateFrom: $dateFrom, limiteDeCupos: $limiteDeCupos)                        
          }
        `,variables:{idEspacio:this.esteEvento.idParent,dateFrom:this.dateInicio,limiteDeCupos:this.esteEvento.limiteDeCupos}}).then(()=>{}).catch(e=>{console.log(`Error: ${e}`)})}},computed:{}},no=e=>(Ze("data-v-92bf6e6d"),e=e(),Xe(),e),h7={class:"ventanaEventoPublico"},f7={id:"zonaCobertura"},p7={id:"laVentana"},m7={id:"contenido"},v7={id:"barraSuperior"},g7=no(()=>m("img",{src:Cs,alt:"Salir"},null,-1)),b7=[g7],y7=no(()=>m("img",{src:C0,alt:"Repetir"},null,-1)),w7=[y7],E7={id:"zonaRepetir"},A7=no(()=>m("div",{class:"instruccion",style:{"margin-bottom":"10px"}}," Repetir este evento... ",-1)),_7=no(()=>m("option",{value:"diariamente"},"Diariamente",-1)),N7=no(()=>m("option",{value:"semanalmente"},"Semanalmente",-1)),C7=[_7,N7],S7={id:"bloqueCantidadRepetir",style:{margin:"10px auto"}},x7=["min","max"],I7=no(()=>m("img",{src:ka,alt:"Aceptar"},null,-1)),T7=[I7],R7={id:"zonaNombre"},P7={id:"zonaTiempos"},D7={id:"bloqueHorarioInicio",class:"bloqueCampo"},k7=no(()=>m("div",{class:"nombreCampo"},"Inicio",-1)),O7={class:"valorCampo"},M7={id:"bloqueDuracion",class:"bloqueCampo"},L7=no(()=>m("div",{class:"nombreCampo"},"Duracion",-1)),F7={class:"valorCampo"},B7={key:0,id:"bloqueLugar",class:"bloqueCampo"},U7=no(()=>m("div",{class:"nombreCampo"},"Lugar",-1)),$7={class:"valorCampo"},j7={class:"bloqueAdministrador bloqueCampo"},q7=no(()=>m("div",{class:"nombreCampo"},"Administra",-1)),V7={class:"valorCampo",style:{opacity:"0.9"}},H7={id:"contenedorSelectoresMostrar"},z7=["title"],Q7=no(()=>m("img",{src:di,alt:"Descripción"},null,-1)),G7=[Q7],K7=["title"],W7=no(()=>m("img",{src:_s,alt:"Participantes"},null,-1)),J7=[W7],Y7={id:"zonaContenidoMostrando"},Z7={id:"zonaDescripcion",class:"zonaInformacion"},X7={class:"contenedorBotonesCampo"},eH={id:"zonaParticipantes"},tH={id:"bloqueMaxParticipantes",class:"bloqueCampo"},oH=no(()=>m("div",{class:"nombreCampo"},"Maximo:",-1)),nH={class:"valorCampo"},iH=no(()=>m("img",{src:c7,alt:"Todos"},null,-1)),rH=[iH],sH={id:"listaParticipantes"};function aH(e,t,o,i,n,r){const s=Pe("loading"),c=Pe("icono-persona-autonomo"),a=Pe("info-participante-evento-publico");return J(),X("div",h7,[m("div",f7,[m("div",p7,[V(Te(s,{texto:""},null,512),[[K,e.$apollo.queries.esteEvento.loading]]),V(m("div",m7,[m("div",v7,[m("div",{class:"boton",title:"Cerrar",style:{"margin-left":"auto"},onClick:t[0]||(t[0]=(...l)=>e.cerrarVentana&&e.cerrarVentana(...l))},b7),e.administrador||e.usuarioSuperadministrador?(J(),X("div",{key:0,class:"boton",title:"Repetir este evento",onClick:t[1]||(t[1]=l=>e.mostrandoZonaRepetir=!e.mostrandoZonaRepetir)},w7)):Ie("",!0)]),V(m("div",E7,[A7,V(m("select",{name:"",id:"selectFrecuenciaRepetir","onUpdate:modelValue":t[2]||(t[2]=l=>e.periodoRepetir=l)},C7,512),[[ls,e.periodoRepetir]]),m("div",S7,[V(m("input",{type:"number",min:e.minRepetir,max:e.maxRepetir,style:{width:"50px","margin-right":"20px"},name:"",id:"inputCantidadRepetir","onUpdate:modelValue":t[3]||(t[3]=l=>e.cantidadRepetir=l)},null,8,x7),[[Ke,e.cantidadRepetir]]),gt(" "+Ee(e.cantidadRepetir>1?"veces":"vez"),1)]),V(m("div",{class:"boton",style:{margin:"10px auto"},title:"Aceptar",onClick:t[4]||(t[4]=l=>e.repetirEvento(e.cantidadRepetir,e.periodoRepetir))},T7,512),[[K,!e.enviandoQueryRepetir]]),V(Te(s,{texto:"",style:{margin:"10px auto"}},null,512),[[K,e.enviandoQueryRepetir]])],512),[[K,e.mostrandoZonaRepetir]]),m("div",R7,[V(m("input",{onKeypress:t[5]||(t[5]=vt(ge((...l)=>e.guardarNuevoNombre&&e.guardarNuevoNombre(...l),["prevent"]),["enter"])),ref:"inputNuevoNombre","onUpdate:modelValue":t[6]||(t[6]=l=>e.nuevoNombre=l),onClick:t[7]||(t[7]=ge(()=>{},["stop"])),onBlur:t[8]||(t[8]=(...l)=>e.guardarNuevoNombre&&e.guardarNuevoNombre(...l)),onKeydown:t[9]||(t[9]=(...l)=>e.keydownInputNuevoNombre&&e.keydownInputNuevoNombre(...l)),type:"text",class:ve(["inputNuevoNombre inputNombreCosa",{deshabilitado:e.enviandoNuevoNombre}])},null,34),[[Ke,e.nuevoNombre],[K,e.editandoNombre]]),V(Te(s,{texto:""},null,512),[[K,e.enviandoNuevoNombre]]),V(m("div",{id:"elNombre",class:ve({deshabilitado:e.enviandoNuevoNombre,administrador:e.administrador}),onClick:t[10]||(t[10]=(...l)=>e.toggleEditandoNombre&&e.toggleEditandoNombre(...l))},Ee(e.esteEvento.nombre),3),[[K,!e.editandoNombre]])]),m("div",P7,[m("div",D7,[k7,m("div",O7,[V(m("div",{id:"fechaInicio",onClick:t[11]||(t[11]=ge((...l)=>e.iniciarEdicionFechaInicio&&e.iniciarEdicionFechaInicio(...l),["stop"]))},Ee(e.fechaInicioLegible),513),[[K,!e.editandoFechaInicio]]),V(m("input",{type:"date",id:"inputFechaInicio",ref:"inputFechaInicio",onKeypress:t[12]||(t[12]=vt(l=>e.updateFechaInicioHoldDuration(l.target.value),["enter"])),onBlur:t[13]||(t[13]=l=>e.updateFechaInicioHoldDuration(l.target.value))},null,544),[[K,e.editandoFechaInicio]]),V(m("div",{id:"horaInicio",onClick:t[14]||(t[14]=ge((...l)=>e.iniciarEdicionHoraInicio&&e.iniciarEdicionHoraInicio(...l),["stop"]))},Ee(e.horaInicioLegible),513),[[K,!e.editandoHoraInicio]]),V(m("input",{type:"time",id:"inputHoraInicio",ref:"inputHoraInicio",class:ve({deshabilitado:e.enviandoSomeHorario}),onBlur:t[15]||(t[15]=l=>e.updateHoraInicioHoldDuration(l.target.value)),onKeypress:t[16]||(t[16]=vt(l=>e.updateHoraInicioHoldDuration(l.target.value),["enter"]))},null,34),[[K,e.editandoHoraInicio]])])]),m("div",M7,[L7,m("div",F7,[V(m("div",{id:"duracion",onClick:t[17]||(t[17]=ge((...l)=>e.iniciarEdicionDuracion&&e.iniciarEdicionDuracion(...l),["stop"]))},Ee(e.duracionMinutos)+Ee(e.duracionMinutos!=1?" minutos":" minuto"),513),[[K,!e.editandoDuracion]]),V(m("input",{type:"number",id:"inputDuracion",style:{width:"100px"},ref:"inputDuracion",class:ve({deshabilitado:e.enviandoSomeHorario}),onBlur:t[18]||(t[18]=l=>e.updateDuracion(l.target.value)),onKeypress:t[19]||(t[19]=vt(l=>e.updateDuracion(l.target.value),["enter"]))},null,34),[[K,e.editandoDuracion]])])])]),e.esteEvento.lugar?(J(),X("div",B7,[U7,m("div",$7,Ee(e.esteEvento.lugar),1)])):Ie("",!0),m("div",j7,[q7,m("div",V7,[Te(c,{factorEscala:"0.5",idPersona:e.esteEvento.idAdministrador},null,8,["factorEscala","idPersona"])])]),m("div",H7,[m("div",{class:ve(["boton",{deshabilitado:(!e.esteEvento.descripcion||e.esteEvento.descripcion.length<1)&&!e.administrador}]),style:Oe({borderColor:e.mostrando==="descripcion"?"white":"black"}),onClick:t[20]||(t[20]=l=>e.mostrando="descripcion"),title:e.mostrando==="descripcion"?"":"Mostrar descripción"},G7,14,z7),m("div",{class:"boton",style:Oe({borderColor:e.mostrando==="participantes"?"white":"black"}),onClick:t[21]||(t[21]=l=>e.mostrando="participantes"),title:e.mostrando==="participantes"?"":"Mostrar participantes del evento"},J7,12,K7)]),m("div",Y7,[V(m("div",Z7,[V(m("div",{id:"descripcion",class:"contenidoTexto",ref:"descripcion",onClick:t[22]||(t[22]=(...l)=>e.toggleEditandoDescripcion&&e.toggleEditandoDescripcion(...l))},Ee(e.esteEvento.descripcion),513),[[K,!e.editandoDescripcion]]),V(m("textarea",{id:"inputNuevoDescripcion",class:ve(["inputTexto",{letrasRojas:e.nuevoDescripcionIlegal}]),ref:"inputNuevoDescripcion","onUpdate:modelValue":t[23]||(t[23]=l=>e.nuevoDescripcion=l)},null,2),[[Ke,e.nuevoDescripcion],[K,e.editandoDescripcion]]),V(m("div",X7,[m("img",{src:Pn,class:"boton botonGuardarCampo",alt:"Guardar",title:"Guardar descripción",id:"botonGuardarDescripcion",onClick:t[24]||(t[24]=(...l)=>e.guardarNuevoDescripcion&&e.guardarNuevoDescripcion(...l))}),m("img",{src:zt,class:"boton botonGuardarCampo",alt:"Cancelar",title:"Cancelar edición",id:"botonCancelarEdicionDescripcion",onClick:t[25]||(t[25]=l=>e.editandoDescripcion=!1)})],512),[[K,e.editandoDescripcion]]),V(Te(s,{texto:"Enviando..."},null,512),[[K,e.enviandoNuevoDescripcion]])],512),[[K,e.mostrando==="descripcion"]]),V(m("div",eH,[m("div",tH,[oH,m("div",nH,[V(m("input",{onKeypress:t[26]||(t[26]=vt(ge((...l)=>e.guardarNuevoLimiteDeCupos&&e.guardarNuevoLimiteDeCupos(...l),["prevent"]),["enter"])),ref:"inputNuevoLimiteDeCupos","onUpdate:modelValue":t[27]||(t[27]=l=>e.nuevoLimiteDeCupos=l),onClick:t[28]||(t[28]=ge(()=>{},["stop"])),onBlur:t[29]||(t[29]=(...l)=>e.guardarNuevoLimiteDeCupos&&e.guardarNuevoLimiteDeCupos(...l)),type:"number",class:ve(["inputNuevoLimiteDeCupos inputLimiteDeCuposCosa",{deshabilitado:e.enviandoNuevoLimiteDeCupos}])},null,34),[[Ke,e.nuevoLimiteDeCupos],[K,e.editandoLimiteDeCupos]]),V(Te(s,{texto:""},null,512),[[K,e.enviandoNuevoLimiteDeCupos]]),V(m("div",{id:"elLimiteDeCupos",class:ve({deshabilitado:e.enviandoNuevoLimiteDeCupos,administrador:e.administrador}),onClick:t[30]||(t[30]=(...l)=>e.toggleEditandoLimiteDeCupos&&e.toggleEditandoLimiteDeCupos(...l))},Ee(e.esteEvento.limiteDeCupos||"Sin límite"),3),[[K,!e.editandoLimiteDeCupos]])]),m("div",{class:"boton",style:{"margin-left":"20px"},onClick:t[31]||(t[31]=(...l)=>r.broadcastAFuturoMaximoParticipantes&&r.broadcastAFuturoMaximoParticipantes(...l)),title:"Fijar este valor para todos los eventos futuros de este espacio"},rH)]),m("div",sH,[(J(!0),X(Fe,null,qe(e.esteEvento.eventosEnmarcados,l=>(J(),Ge(a,{estaParticipacion:l,key:l.id,eventoPublico:e.esteEvento,duracionEventoPublico:e.duracionMinutos},null,8,["estaParticipacion","eventoPublico","duracionEventoPublico"]))),128))])],512),[[K,e.mostrando==="participantes"]])])],512),[[K,!e.$apollo.queries.esteEvento.loading]])])])])}const tu=He(d7,[["render",aH],["__scopeId","data-v-92bf6e6d"]]),lH="/caracol/assets/users-51870354.svg",cH=he`
  query ($idEvento: ID!) {
    eventoPersonal(idEvento: $idEvento) {
      ...fragEventoPersonal
    }
  }
  ${hi}
`,uH={name:"VentanaEventoPersonal",apollo:{esteEvento:{query:cH,variables(){return{idEvento:this.$route.params.idEvento}},update({eventoPersonal:e}){return e},fetchPolicy:"cache-and-network"}},components:{Loading:it,IconoPersonaAutonomo:ui},mixins:[Es,N4,As,d0],data(){return{mostrandoZonaRepetir:!1,periodoRepetir:"diariamente",cantidadRepetir:1,esteEvento:{idsParticipantes:[]}}},methods:{},computed:{}},Po=e=>(Ze("data-v-4735d611"),e=e(),Xe(),e),dH={class:"ventanaEventoPersonal"},hH={id:"zonaCobertura"},fH={id:"laVentana"},pH={id:"contenido"},mH={id:"barraSuperior"},vH=Po(()=>m("img",{src:Cs,alt:"Salir"},null,-1)),gH=[vH],bH=Po(()=>m("img",{src:C0,alt:"Repetir"},null,-1)),yH=[bH],wH={id:"zonaRepetir"},EH=Po(()=>m("div",{class:"instruccion",style:{"margin-bottom":"10px"}}," Repetir este evento... ",-1)),AH=Po(()=>m("option",{value:"diariamente"},"Diariamente",-1)),_H=Po(()=>m("option",{value:"semanalmente"},"Semanalmente",-1)),NH=[AH,_H],CH={id:"bloqueCantidadRepetir",style:{margin:"10px auto"}},SH=["min","max"],xH=Po(()=>m("img",{src:ka,alt:"Aceptar"},null,-1)),IH=[xH],TH={id:"zonaNombre"},RH={id:"zonaTiempos"},PH={id:"bloqueHorarioInicio",class:"bloqueCampo"},DH=Po(()=>m("div",{class:"nombreCampo"},"Inicio",-1)),kH={class:"valorCampo"},OH={id:"bloqueDuracion",class:"bloqueCampo"},MH=Po(()=>m("div",{class:"nombreCampo"},"Duracion",-1)),LH={class:"valorCampo"},FH={key:0,id:"bloqueLugar",class:"bloqueCampo"},BH=Po(()=>m("div",{class:"nombreCampo"},"Lugar",-1)),UH={class:"valorCampo"},$H={id:"contenedorSelectoresMostrar"},jH=["title"],qH=Po(()=>m("img",{src:di,alt:"Descripción"},null,-1)),VH=[qH],HH=["title"],zH=Po(()=>m("img",{src:lH,alt:"Participantes"},null,-1)),QH=[zH],GH={id:"zonaContenidoMostrando"},KH={id:"zonaDescripcion",class:"zonaInformacion"},WH={class:"contenedorBotonesCampo"},JH={id:"zonaParticipantes",class:"zonaInformacion"},YH={key:0,id:"listaParticipantes"};function ZH(e,t,o,i,n,r){const s=Pe("loading"),c=Pe("icono-persona-autonomo");return J(),X("div",dH,[m("div",hH,[m("div",fH,[V(Te(s,{texto:""},null,512),[[K,e.$apollo.queries.esteEvento.loading]]),V(m("div",pH,[m("div",mH,[m("div",{class:"boton",title:"Cerrar",style:{"margin-left":"auto"},onClick:t[0]||(t[0]=(...a)=>e.cerrarVentana&&e.cerrarVentana(...a))},gH),e.administrador||e.usuarioSuperadministrador?(J(),X("div",{key:0,class:"boton",title:"Repetir este evento",onClick:t[1]||(t[1]=a=>n.mostrandoZonaRepetir=!n.mostrandoZonaRepetir)},yH)):Ie("",!0)]),V(m("div",wH,[EH,V(m("select",{name:"",id:"selectFrecuenciaRepetir","onUpdate:modelValue":t[2]||(t[2]=a=>n.periodoRepetir=a)},NH,512),[[ls,n.periodoRepetir]]),m("div",CH,[V(m("input",{type:"number",min:e.minRepetir,max:e.maxRepetir,style:{width:"50px","margin-right":"20px"},name:"",id:"inputCantidadRepetir","onUpdate:modelValue":t[3]||(t[3]=a=>n.cantidadRepetir=a)},null,8,SH),[[Ke,n.cantidadRepetir]]),gt(" "+Ee(n.cantidadRepetir>1?"veces":"vez"),1)]),V(m("div",{class:"boton",style:{margin:"10px auto"},title:"Aceptar",onClick:t[4]||(t[4]=a=>e.repetirEvento(n.cantidadRepetir,n.periodoRepetir))},IH,512),[[K,!e.enviandoQueryRepetir]]),V(Te(s,{texto:"",style:{margin:"10px auto"}},null,512),[[K,e.enviandoQueryRepetir]])],512),[[K,n.mostrandoZonaRepetir]]),m("div",TH,[V(m("input",{onKeypress:t[5]||(t[5]=vt(ge((...a)=>e.guardarNuevoNombre&&e.guardarNuevoNombre(...a),["prevent"]),["enter"])),ref:"inputNuevoNombre","onUpdate:modelValue":t[6]||(t[6]=a=>e.nuevoNombre=a),onClick:t[7]||(t[7]=ge(()=>{},["stop"])),onBlur:t[8]||(t[8]=(...a)=>e.guardarNuevoNombre&&e.guardarNuevoNombre(...a)),onKeydown:t[9]||(t[9]=(...a)=>e.keydownInputNuevoNombre&&e.keydownInputNuevoNombre(...a)),type:"text",class:ve(["inputNuevoNombre inputNombreCosa",{deshabilitado:e.enviandoNuevoNombre}])},null,34),[[Ke,e.nuevoNombre],[K,e.editandoNombre]]),V(Te(s,{texto:""},null,512),[[K,e.enviandoNuevoNombre]]),V(m("div",{id:"elNombre",class:ve({deshabilitado:e.enviandoNuevoNombre,administrador:e.administrador}),onClick:t[10]||(t[10]=(...a)=>e.toggleEditandoNombre&&e.toggleEditandoNombre(...a))},Ee(n.esteEvento.nombre),3),[[K,!e.editandoNombre]])]),m("div",RH,[m("div",PH,[DH,m("div",kH,[V(m("div",{id:"fechaInicio",onClick:t[11]||(t[11]=ge((...a)=>e.iniciarEdicionFechaInicio&&e.iniciarEdicionFechaInicio(...a),["stop"]))},Ee(e.fechaInicioLegible),513),[[K,!e.editandoFechaInicio]]),V(m("input",{type:"date",id:"inputFechaInicio",ref:"inputFechaInicio",onKeypress:t[12]||(t[12]=vt(a=>e.updateFechaInicioHoldDuration(a.target.value),["enter"])),onBlur:t[13]||(t[13]=a=>e.updateFechaInicioHoldDuration(a.target.value))},null,544),[[K,e.editandoFechaInicio]]),V(m("div",{id:"horaInicio",onClick:t[14]||(t[14]=ge((...a)=>e.iniciarEdicionHoraInicio&&e.iniciarEdicionHoraInicio(...a),["stop"]))},Ee(e.horaInicioLegible),513),[[K,!e.editandoHoraInicio]]),V(m("input",{type:"time",id:"inputHoraInicio",ref:"inputHoraInicio",class:ve({deshabilitado:e.enviandoSomeHorario}),onBlur:t[15]||(t[15]=a=>e.updateHoraInicioHoldDuration(a.target.value)),onKeypress:t[16]||(t[16]=vt(a=>e.updateHoraInicioHoldDuration(a.target.value),["enter"]))},null,34),[[K,e.editandoHoraInicio]])])]),m("div",OH,[MH,m("div",LH,[V(m("div",{id:"duracion",onClick:t[17]||(t[17]=ge((...a)=>e.iniciarEdicionDuracion&&e.iniciarEdicionDuracion(...a),["stop"]))},Ee(e.duracionMinutos)+Ee(e.duracionMinutos!=1?" minutos":" minuto"),513),[[K,!e.editandoDuracion]]),V(m("input",{type:"number",id:"inputDuracion",style:{width:"100px"},ref:"inputDuracion",class:ve({deshabilitado:e.enviandoSomeHorario}),onBlur:t[18]||(t[18]=a=>e.updateDuracion(a.target.value)),onKeypress:t[19]||(t[19]=vt(a=>e.updateDuracion(a.target.value),["enter"]))},null,34),[[K,e.editandoDuracion]])])])]),n.esteEvento.lugar?(J(),X("div",FH,[BH,m("div",UH,Ee(n.esteEvento.lugar),1)])):Ie("",!0),m("div",$H,[m("div",{class:ve(["boton",{deshabilitado:(!n.esteEvento.descripcion||n.esteEvento.descripcion.length<1)&&!e.administrador}]),style:Oe({borderColor:e.mostrando==="descripcion"?"white":"black"}),onClick:t[20]||(t[20]=a=>e.mostrando="descripcion"),title:e.mostrando==="descripcion"?"":"Mostrar descripción"},VH,14,jH),m("div",{class:"boton",title:e.mostrando==="participantes"?"Ocultar participantes":"Mostrar participantes",onClick:t[21]||(t[21]=a=>e.mostrando=e.mostrando==="participantes"?null:"participantes")},QH,8,HH)]),m("div",GH,[V(m("div",KH,[V(m("div",{id:"descripcion",class:"contenidoTexto",ref:"descripcion",onClick:t[22]||(t[22]=(...a)=>e.toggleEditandoDescripcion&&e.toggleEditandoDescripcion(...a))},Ee(n.esteEvento.descripcion),513),[[K,!e.editandoDescripcion]]),V(m("textarea",{id:"inputNuevoDescripcion",class:ve(["inputTexto",{letrasRojas:e.nuevoDescripcionIlegal}]),ref:"inputNuevoDescripcion","onUpdate:modelValue":t[23]||(t[23]=a=>e.nuevoDescripcion=a)},null,2),[[Ke,e.nuevoDescripcion],[K,e.editandoDescripcion]]),V(m("div",WH,[m("img",{src:Pn,class:"boton botonGuardarCampo",alt:"Guardar",title:"Guardar descripción",id:"botonGuardarDescripcion",onClick:t[24]||(t[24]=(...a)=>e.guardarNuevoDescripcion&&e.guardarNuevoDescripcion(...a))}),m("img",{src:zt,class:"boton botonGuardarCampo",alt:"Cancelar",title:"Cancelar edición",id:"botonCancelarEdicionDescripcion",onClick:t[25]||(t[25]=a=>e.editandoDescripcion=!1)})],512),[[K,e.editandoDescripcion]]),V(Te(s,{texto:"Enviando..."},null,512),[[K,e.enviandoNuevoDescripcion]])],512),[[K,e.mostrando==="descripcion"]]),V(m("div",JH,[n.esteEvento.idPersona?(J(),X("div",YH,[(J(!0),X(Fe,null,qe([n.esteEvento.idPersona].concat(n.esteEvento.idsParticipantes),a=>(J(),Ge(c,{key:"participante"+a,idPersona:a,factorEscala:"0.7"},null,8,["idPersona","factorEscala"]))),128))])):Ie("",!0)],512),[[K,e.mostrando==="participantes"]])])],512),[[K,!e.$apollo.queries.esteEvento.loading]])])])])}const ou=He(uH,[["render",ZH],["__scopeId","data-v-4735d611"]]),S0=iI({history:wx("/caracol"),routes:[{path:"/atlas",name:"atlas",component:lk,children:[{path:"nodoConocimiento/:idNodo",component:Cv,name:"visorNodoConocimiento"},{path:"repasos",component:eB,name:"ventanaRepasos"}]},{path:"/rutaGrado/:idUsuario",name:"rutaGrado",component:r0,props:!0},{path:"/adminNodosConocimiento",name:"adminNodosConocimiento",component:Ik},{path:"/login",name:"loginArea",component:_B},{path:"/miperfil",name:"perfilPersonal",component:qU,children:[{path:"ventanaEventoPublico/:idEvento",component:tu,name:"VentanaEventoPublico"},{path:"ventanaEventoPersonal/:idEvento",component:ou,name:"VentanaEventoPersonal"}]},{path:"/nodoConocimiento/:idNodo",component:Cv},{path:"/registro",name:"registro",component:y$},{path:"/personas",name:"personas",component:bq,children:[{path:"ventanaEventoPublico/:idEvento",component:tu,name:"VentanaEventoPublico"},{path:"ventanaEventoPersonal/:idEvento",component:ou,name:"VentanaEventoPersonal"}]},{path:"/espacios",name:"espacios",component:GV,children:[{path:"ventanaEventoPublico/:idEvento",component:tu,name:"VentanaEventoPublico"},{path:"ventanaEventoPersonal/:idEvento",component:ou,name:"VentanaEventoPersonal"}]},{path:"/",redirect(){return console.log("Redirecting"),localStorage.getItem("token")?"/miPerfil":"/login"}},{path:"/:catchAll(.*)",redirect(){return"/"}}]});S0.beforeEach(async(e,t)=>{var i;if(!Da)return!1;let o=Da.readQuery({query:Sa});if(!((i=o==null?void 0:o.auth_usuario)!=null&&i.id)&&e.name!="loginArea")return{name:"loginArea"}});const XH=async function(){await iR.restore(),wl.mount("#app")},wl=fC(ox);wl.mixin(xS);wl.use(S0);wl.use(vR);XH()});export default e9();
