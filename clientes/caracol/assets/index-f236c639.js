var __=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var XH=__((tV,Qu)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();function Gu(e,t){const o=Object.create(null),i=e.split(",");for(let n=0;n<i.length;n++)o[i[n]]=!0;return t?n=>!!o[n.toLowerCase()]:n=>!!o[n]}function qe(e){if(ze(e)){const t={};for(let o=0;o<e.length;o++){const i=e[o],n=Tt(i)?x_(i):qe(i);if(n)for(const r in n)t[r]=n[r]}return t}else{if(Tt(e))return e;if(gt(e))return e}}const C_=/;(?![^(]*\))/g,S_=/:([^]+)/,N_=/\/\*.*?\*\//gs;function x_(e){const t={};return e.replace(N_,"").split(C_).forEach(o=>{if(o){const i=o.split(S_);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Ae(e){let t="";if(Tt(e))t=e;else if(ze(e))for(let o=0;o<e.length;o++){const i=Ae(e[o]);i&&(t+=i+" ")}else if(gt(e))for(const o in e)e[o]&&(t+=o+" ");return t.trim()}const T_="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",I_=Gu(T_);function Pg(e){return!!e||e===""}function P_(e,t){if(e.length!==t.length)return!1;let o=!0;for(let i=0;o&&i<e.length;i++)o=Jn(e[i],t[i]);return o}function Jn(e,t){if(e===t)return!0;let o=ep(e),i=ep(t);if(o||i)return o&&i?e.getTime()===t.getTime():!1;if(o=Fr(e),i=Fr(t),o||i)return e===t;if(o=ze(e),i=ze(t),o||i)return o&&i?P_(e,t):!1;if(o=gt(e),i=gt(t),o||i){if(!o||!i)return!1;const n=Object.keys(e).length,r=Object.keys(t).length;if(n!==r)return!1;for(const a in e){const l=e.hasOwnProperty(a),s=t.hasOwnProperty(a);if(l&&!s||!l&&s||!Jn(e[a],t[a]))return!1}}return String(e)===String(t)}function Wu(e,t){return e.findIndex(o=>Jn(o,t))}const we=e=>Tt(e)?e:e==null?"":ze(e)||gt(e)&&(e.toString===Rg||!Ye(e.toString))?JSON.stringify(e,Dg,2):String(e),Dg=(e,t)=>t&&t.__v_isRef?Dg(e,t.value):Si(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((o,[i,n])=>(o[`${i} =>`]=n,o),{})}:qi(t)?{[`Set(${t.size})`]:[...t.values()]}:gt(t)&&!ze(t)&&!Og(t)?String(t):t,yt={},Ci=[],So=()=>{},D_=()=>!1,k_=/^on[^a-z]/,wa=e=>k_.test(e),Ku=e=>e.startsWith("onUpdate:"),Lt=Object.assign,Ju=(e,t)=>{const o=e.indexOf(t);o>-1&&e.splice(o,1)},R_=Object.prototype.hasOwnProperty,it=(e,t)=>R_.call(e,t),ze=Array.isArray,Si=e=>Xr(e)==="[object Map]",qi=e=>Xr(e)==="[object Set]",ep=e=>Xr(e)==="[object Date]",Ye=e=>typeof e=="function",Tt=e=>typeof e=="string",Fr=e=>typeof e=="symbol",gt=e=>e!==null&&typeof e=="object",kg=e=>gt(e)&&Ye(e.then)&&Ye(e.catch),Rg=Object.prototype.toString,Xr=e=>Rg.call(e),O_=e=>Xr(e).slice(8,-1),Og=e=>Xr(e)==="[object Object]",Yu=e=>Tt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Hs=Gu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ea=e=>{const t=Object.create(null);return o=>t[o]||(t[o]=e(o))},F_=/-(\w)/g,Mo=Ea(e=>e.replace(F_,(t,o)=>o?o.toUpperCase():"")),L_=/\B([A-Z])/g,ti=Ea(e=>e.replace(L_,"-$1").toLowerCase()),Aa=Ea(e=>e.charAt(0).toUpperCase()+e.slice(1)),ol=Ea(e=>e?`on${Aa(e)}`:""),Lr=(e,t)=>!Object.is(e,t),Vs=(e,t)=>{for(let o=0;o<e.length;o++)e[o](t)},ra=(e,t,o)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:o})},sa=e=>{const t=parseFloat(e);return isNaN(t)?e:t},M_=e=>{const t=Tt(e)?Number(e):NaN;return isNaN(t)?e:t};let tp;const B_=()=>tp||(tp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Eo;class U_{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Eo,!t&&Eo&&(this.index=(Eo.scopes||(Eo.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const o=Eo;try{return Eo=this,t()}finally{Eo=o}}}on(){Eo=this}off(){Eo=this.parent}stop(t){if(this._active){let o,i;for(o=0,i=this.effects.length;o<i;o++)this.effects[o].stop();for(o=0,i=this.cleanups.length;o<i;o++)this.cleanups[o]();if(this.scopes)for(o=0,i=this.scopes.length;o<i;o++)this.scopes[o].stop(!0);if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function $_(e,t=Eo){t&&t.active&&t.effects.push(e)}function j_(){return Eo}const Zu=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Fg=e=>(e.w&_n)>0,Lg=e=>(e.n&_n)>0,q_=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=_n},H_=e=>{const{deps:t}=e;if(t.length){let o=0;for(let i=0;i<t.length;i++){const n=t[i];Fg(n)&&!Lg(n)?n.delete(e):t[o++]=n,n.w&=~_n,n.n&=~_n}t.length=o}},zl=new WeakMap;let _r=0,_n=1;const Ql=30;let Ao;const Gn=Symbol(""),Gl=Symbol("");class Xu{constructor(t,o=null,i){this.fn=t,this.scheduler=o,this.active=!0,this.deps=[],this.parent=void 0,$_(this,i)}run(){if(!this.active)return this.fn();let t=Ao,o=En;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Ao,Ao=this,En=!0,_n=1<<++_r,_r<=Ql?q_(this):op(this),this.fn()}finally{_r<=Ql&&H_(this),_n=1<<--_r,Ao=this.parent,En=o,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ao===this?this.deferStop=!0:this.active&&(op(this),this.onStop&&this.onStop(),this.active=!1)}}function op(e){const{deps:t}=e;if(t.length){for(let o=0;o<t.length;o++)t[o].delete(e);t.length=0}}let En=!0;const Mg=[];function Hi(){Mg.push(En),En=!1}function Vi(){const e=Mg.pop();En=e===void 0?!0:e}function Xt(e,t,o){if(En&&Ao){let i=zl.get(e);i||zl.set(e,i=new Map);let n=i.get(o);n||i.set(o,n=Zu()),Bg(n)}}function Bg(e,t){let o=!1;_r<=Ql?Lg(e)||(e.n|=_n,o=!Fg(e)):o=!e.has(Ao),o&&(e.add(Ao),Ao.deps.push(e))}function Yo(e,t,o,i,n,r){const a=zl.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(o==="length"&&ze(e)){const s=Number(i);a.forEach((c,u)=>{(u==="length"||u>=s)&&l.push(c)})}else switch(o!==void 0&&l.push(a.get(o)),t){case"add":ze(e)?Yu(o)&&l.push(a.get("length")):(l.push(a.get(Gn)),Si(e)&&l.push(a.get(Gl)));break;case"delete":ze(e)||(l.push(a.get(Gn)),Si(e)&&l.push(a.get(Gl)));break;case"set":Si(e)&&l.push(a.get(Gn));break}if(l.length===1)l[0]&&Wl(l[0]);else{const s=[];for(const c of l)c&&s.push(...c);Wl(Zu(s))}}function Wl(e,t){const o=ze(e)?e:[...e];for(const i of o)i.computed&&np(i);for(const i of o)i.computed||np(i)}function np(e,t){(e!==Ao||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const V_=Gu("__proto__,__v_isRef,__isVue"),Ug=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Fr)),z_=ed(),Q_=ed(!1,!0),G_=ed(!0),ip=W_();function W_(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...o){const i=st(this);for(let r=0,a=this.length;r<a;r++)Xt(i,"get",r+"");const n=i[t](...o);return n===-1||n===!1?i[t](...o.map(st)):n}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...o){Hi();const i=st(this)[t].apply(this,o);return Vi(),i}}),e}function K_(e){const t=st(this);return Xt(t,"has",e),t.hasOwnProperty(e)}function ed(e=!1,t=!1){return function(i,n,r){if(n==="__v_isReactive")return!e;if(n==="__v_isReadonly")return e;if(n==="__v_isShallow")return t;if(n==="__v_raw"&&r===(e?t?d1:Vg:t?Hg:qg).get(i))return i;const a=ze(i);if(!e){if(a&&it(ip,n))return Reflect.get(ip,n,r);if(n==="hasOwnProperty")return K_}const l=Reflect.get(i,n,r);return(Fr(n)?Ug.has(n):V_(n))||(e||Xt(i,"get",n),t)?l:Ht(l)?a&&Yu(n)?l:l.value:gt(l)?e?zg(l):es(l):l}}const J_=$g(),Y_=$g(!0);function $g(e=!1){return function(o,i,n,r){let a=o[i];if(ki(a)&&Ht(a)&&!Ht(n))return!1;if(!e&&(!aa(n)&&!ki(n)&&(a=st(a),n=st(n)),!ze(o)&&Ht(a)&&!Ht(n)))return a.value=n,!0;const l=ze(o)&&Yu(i)?Number(i)<o.length:it(o,i),s=Reflect.set(o,i,n,r);return o===st(r)&&(l?Lr(n,a)&&Yo(o,"set",i,n):Yo(o,"add",i,n)),s}}function Z_(e,t){const o=it(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&o&&Yo(e,"delete",t,void 0),i}function X_(e,t){const o=Reflect.has(e,t);return(!Fr(t)||!Ug.has(t))&&Xt(e,"has",t),o}function e1(e){return Xt(e,"iterate",ze(e)?"length":Gn),Reflect.ownKeys(e)}const jg={get:z_,set:J_,deleteProperty:Z_,has:X_,ownKeys:e1},t1={get:G_,set(e,t){return!0},deleteProperty(e,t){return!0}},o1=Lt({},jg,{get:Q_,set:Y_}),td=e=>e,_a=e=>Reflect.getPrototypeOf(e);function Ts(e,t,o=!1,i=!1){e=e.__v_raw;const n=st(e),r=st(t);o||(t!==r&&Xt(n,"get",t),Xt(n,"get",r));const{has:a}=_a(n),l=i?td:o?id:Mr;if(a.call(n,t))return l(e.get(t));if(a.call(n,r))return l(e.get(r));e!==n&&e.get(t)}function Is(e,t=!1){const o=this.__v_raw,i=st(o),n=st(e);return t||(e!==n&&Xt(i,"has",e),Xt(i,"has",n)),e===n?o.has(e):o.has(e)||o.has(n)}function Ps(e,t=!1){return e=e.__v_raw,!t&&Xt(st(e),"iterate",Gn),Reflect.get(e,"size",e)}function rp(e){e=st(e);const t=st(this);return _a(t).has.call(t,e)||(t.add(e),Yo(t,"add",e,e)),this}function sp(e,t){t=st(t);const o=st(this),{has:i,get:n}=_a(o);let r=i.call(o,e);r||(e=st(e),r=i.call(o,e));const a=n.call(o,e);return o.set(e,t),r?Lr(t,a)&&Yo(o,"set",e,t):Yo(o,"add",e,t),this}function ap(e){const t=st(this),{has:o,get:i}=_a(t);let n=o.call(t,e);n||(e=st(e),n=o.call(t,e)),i&&i.call(t,e);const r=t.delete(e);return n&&Yo(t,"delete",e,void 0),r}function cp(){const e=st(this),t=e.size!==0,o=e.clear();return t&&Yo(e,"clear",void 0,void 0),o}function Ds(e,t){return function(i,n){const r=this,a=r.__v_raw,l=st(a),s=t?td:e?id:Mr;return!e&&Xt(l,"iterate",Gn),a.forEach((c,u)=>i.call(n,s(c),s(u),r))}}function ks(e,t,o){return function(...i){const n=this.__v_raw,r=st(n),a=Si(r),l=e==="entries"||e===Symbol.iterator&&a,s=e==="keys"&&a,c=n[e](...i),u=o?td:t?id:Mr;return!t&&Xt(r,"iterate",s?Gl:Gn),{next(){const{value:f,done:p}=c.next();return p?{value:f,done:p}:{value:l?[u(f[0]),u(f[1])]:u(f),done:p}},[Symbol.iterator](){return this}}}}function un(e){return function(...t){return e==="delete"?!1:this}}function n1(){const e={get(r){return Ts(this,r)},get size(){return Ps(this)},has:Is,add:rp,set:sp,delete:ap,clear:cp,forEach:Ds(!1,!1)},t={get(r){return Ts(this,r,!1,!0)},get size(){return Ps(this)},has:Is,add:rp,set:sp,delete:ap,clear:cp,forEach:Ds(!1,!0)},o={get(r){return Ts(this,r,!0)},get size(){return Ps(this,!0)},has(r){return Is.call(this,r,!0)},add:un("add"),set:un("set"),delete:un("delete"),clear:un("clear"),forEach:Ds(!0,!1)},i={get(r){return Ts(this,r,!0,!0)},get size(){return Ps(this,!0)},has(r){return Is.call(this,r,!0)},add:un("add"),set:un("set"),delete:un("delete"),clear:un("clear"),forEach:Ds(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=ks(r,!1,!1),o[r]=ks(r,!0,!1),t[r]=ks(r,!1,!0),i[r]=ks(r,!0,!0)}),[e,o,t,i]}const[i1,r1,s1,a1]=n1();function od(e,t){const o=t?e?a1:s1:e?r1:i1;return(i,n,r)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?i:Reflect.get(it(o,n)&&n in i?o:i,n,r)}const c1={get:od(!1,!1)},l1={get:od(!1,!0)},u1={get:od(!0,!1)},qg=new WeakMap,Hg=new WeakMap,Vg=new WeakMap,d1=new WeakMap;function f1(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function h1(e){return e.__v_skip||!Object.isExtensible(e)?0:f1(O_(e))}function es(e){return ki(e)?e:nd(e,!1,jg,c1,qg)}function p1(e){return nd(e,!1,o1,l1,Hg)}function zg(e){return nd(e,!0,t1,u1,Vg)}function nd(e,t,o,i,n){if(!gt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=n.get(e);if(r)return r;const a=h1(e);if(a===0)return e;const l=new Proxy(e,a===2?i:o);return n.set(e,l),l}function Ni(e){return ki(e)?Ni(e.__v_raw):!!(e&&e.__v_isReactive)}function ki(e){return!!(e&&e.__v_isReadonly)}function aa(e){return!!(e&&e.__v_isShallow)}function Qg(e){return Ni(e)||ki(e)}function st(e){const t=e&&e.__v_raw;return t?st(t):e}function Gg(e){return ra(e,"__v_skip",!0),e}const Mr=e=>gt(e)?es(e):e,id=e=>gt(e)?zg(e):e;function Wg(e){En&&Ao&&(e=st(e),Bg(e.dep||(e.dep=Zu())))}function Kg(e,t){e=st(e);const o=e.dep;o&&Wl(o)}function Ht(e){return!!(e&&e.__v_isRef===!0)}function m1(e){return Jg(e,!1)}function g1(e){return Jg(e,!0)}function Jg(e,t){return Ht(e)?e:new v1(e,t)}class v1{constructor(t,o){this.__v_isShallow=o,this.dep=void 0,this.__v_isRef=!0,this._rawValue=o?t:st(t),this._value=o?t:Mr(t)}get value(){return Wg(this),this._value}set value(t){const o=this.__v_isShallow||aa(t)||ki(t);t=o?t:st(t),Lr(t,this._rawValue)&&(this._rawValue=t,this._value=o?t:Mr(t),Kg(this))}}function xi(e){return Ht(e)?e.value:e}const y1={get:(e,t,o)=>xi(Reflect.get(e,t,o)),set:(e,t,o,i)=>{const n=e[t];return Ht(n)&&!Ht(o)?(n.value=o,!0):Reflect.set(e,t,o,i)}};function Yg(e){return Ni(e)?e:new Proxy(e,y1)}var Zg;class b1{constructor(t,o,i,n){this._setter=o,this.dep=void 0,this.__v_isRef=!0,this[Zg]=!1,this._dirty=!0,this.effect=new Xu(t,()=>{this._dirty||(this._dirty=!0,Kg(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=i}get value(){const t=st(this);return Wg(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Zg="__v_isReadonly";function w1(e,t,o=!1){let i,n;const r=Ye(e);return r?(i=e,n=So):(i=e.get,n=e.set),new b1(i,n,r||!n,o)}function An(e,t,o,i){let n;try{n=i?e(...i):e()}catch(r){Ca(r,t,o)}return n}function po(e,t,o,i){if(Ye(e)){const r=An(e,t,o,i);return r&&kg(r)&&r.catch(a=>{Ca(a,t,o)}),r}const n=[];for(let r=0;r<e.length;r++)n.push(po(e[r],t,o,i));return n}function Ca(e,t,o,i=!0){const n=t?t.vnode:null;if(t){let r=t.parent;const a=t.proxy,l=o;for(;r;){const c=r.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,a,l)===!1)return}r=r.parent}const s=t.appContext.config.errorHandler;if(s){An(s,null,10,[e,a,l]);return}}E1(e,o,n,i)}function E1(e,t,o,i=!0){console.error(e)}let Br=!1,Kl=!1;const qt=[];let Oo=0;const Ti=[];let zo=null,qn=0;const Xg=Promise.resolve();let rd=null;function ev(e){const t=rd||Xg;return e?t.then(this?e.bind(this):e):t}function A1(e){let t=Oo+1,o=qt.length;for(;t<o;){const i=t+o>>>1;Ur(qt[i])<e?t=i+1:o=i}return t}function sd(e){(!qt.length||!qt.includes(e,Br&&e.allowRecurse?Oo+1:Oo))&&(e.id==null?qt.push(e):qt.splice(A1(e.id),0,e),tv())}function tv(){!Br&&!Kl&&(Kl=!0,rd=Xg.then(nv))}function _1(e){const t=qt.indexOf(e);t>Oo&&qt.splice(t,1)}function C1(e){ze(e)?Ti.push(...e):(!zo||!zo.includes(e,e.allowRecurse?qn+1:qn))&&Ti.push(e),tv()}function lp(e,t=Br?Oo+1:0){for(;t<qt.length;t++){const o=qt[t];o&&o.pre&&(qt.splice(t,1),t--,o())}}function ov(e){if(Ti.length){const t=[...new Set(Ti)];if(Ti.length=0,zo){zo.push(...t);return}for(zo=t,zo.sort((o,i)=>Ur(o)-Ur(i)),qn=0;qn<zo.length;qn++)zo[qn]();zo=null,qn=0}}const Ur=e=>e.id==null?1/0:e.id,S1=(e,t)=>{const o=Ur(e)-Ur(t);if(o===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return o};function nv(e){Kl=!1,Br=!0,qt.sort(S1);const t=So;try{for(Oo=0;Oo<qt.length;Oo++){const o=qt[Oo];o&&o.active!==!1&&An(o,null,14)}}finally{Oo=0,qt.length=0,ov(),Br=!1,rd=null,(qt.length||Ti.length)&&nv()}}function N1(e,t,...o){if(e.isUnmounted)return;const i=e.vnode.props||yt;let n=o;const r=t.startsWith("update:"),a=r&&t.slice(7);if(a&&a in i){const u=`${a==="modelValue"?"model":a}Modifiers`,{number:f,trim:p}=i[u]||yt;p&&(n=o.map(y=>Tt(y)?y.trim():y)),f&&(n=o.map(sa))}let l,s=i[l=ol(t)]||i[l=ol(Mo(t))];!s&&r&&(s=i[l=ol(ti(t))]),s&&po(s,e,6,n);const c=i[l+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,po(c,e,6,n)}}function iv(e,t,o=!1){const i=t.emitsCache,n=i.get(e);if(n!==void 0)return n;const r=e.emits;let a={},l=!1;if(!Ye(e)){const s=c=>{const u=iv(c,t,!0);u&&(l=!0,Lt(a,u))};!o&&t.mixins.length&&t.mixins.forEach(s),e.extends&&s(e.extends),e.mixins&&e.mixins.forEach(s)}return!r&&!l?(gt(e)&&i.set(e,null),null):(ze(r)?r.forEach(s=>a[s]=null):Lt(a,r),gt(e)&&i.set(e,a),a)}function Sa(e,t){return!e||!wa(t)?!1:(t=t.slice(2).replace(/Once$/,""),it(e,t[0].toLowerCase()+t.slice(1))||it(e,ti(t))||it(e,t))}let Ut=null,Na=null;function ca(e){const t=Ut;return Ut=e,Na=e&&e.type.__scopeId||null,t}function ot(e){Na=e}function nt(){Na=null}function $t(e,t=Ut,o){if(!t||e._n)return e;const i=(...n)=>{i._d&&wp(-1);const r=ca(t);let a;try{a=e(...n)}finally{ca(r),i._d&&wp(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function nl(e){const{type:t,vnode:o,proxy:i,withProxy:n,props:r,propsOptions:[a],slots:l,attrs:s,emit:c,render:u,renderCache:f,data:p,setupState:y,ctx:v,inheritAttrs:C}=e;let I,N;const _=ca(e);try{if(o.shapeFlag&4){const w=n||i;I=Ro(u.call(w,w,f,r,y,p,v)),N=s}else{const w=t;I=Ro(w.length>1?w(r,{attrs:s,slots:l,emit:c}):w(r,null)),N=t.props?s:x1(s)}}catch(w){Ir.length=0,Ca(w,e,1),I=Ie(mo)}let b=I;if(N&&C!==!1){const w=Object.keys(N),{shapeFlag:T}=b;w.length&&T&7&&(a&&w.some(Ku)&&(N=T1(N,a)),b=Cn(b,N))}return o.dirs&&(b=Cn(b),b.dirs=b.dirs?b.dirs.concat(o.dirs):o.dirs),o.transition&&(b.transition=o.transition),I=b,ca(_),I}const x1=e=>{let t;for(const o in e)(o==="class"||o==="style"||wa(o))&&((t||(t={}))[o]=e[o]);return t},T1=(e,t)=>{const o={};for(const i in e)(!Ku(i)||!(i.slice(9)in t))&&(o[i]=e[i]);return o};function I1(e,t,o){const{props:i,children:n,component:r}=e,{props:a,children:l,patchFlag:s}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(o&&s>=0){if(s&1024)return!0;if(s&16)return i?up(i,a,c):!!a;if(s&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const p=u[f];if(a[p]!==i[p]&&!Sa(c,p))return!0}}}else return(n||l)&&(!l||!l.$stable)?!0:i===a?!1:i?a?up(i,a,c):!0:!!a;return!1}function up(e,t,o){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let n=0;n<i.length;n++){const r=i[n];if(t[r]!==e[r]&&!Sa(o,r))return!0}return!1}function P1({vnode:e,parent:t},o){for(;t&&t.subTree===e;)(e=t.vnode).el=o,t=t.parent}const D1=e=>e.__isSuspense;function k1(e,t){t&&t.pendingBranch?ze(e)?t.effects.push(...e):t.effects.push(e):C1(e)}function zs(e,t){if(Nt){let o=Nt.provides;const i=Nt.parent&&Nt.parent.provides;i===o&&(o=Nt.provides=Object.create(i)),o[e]=t}}function Ko(e,t,o=!1){const i=Nt||Ut;if(i){const n=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(n&&e in n)return n[e];if(arguments.length>1)return o&&Ye(t)?t.call(i.proxy):t}}const Rs={};function Qs(e,t,o){return rv(e,t,o)}function rv(e,t,{immediate:o,deep:i,flush:n,onTrack:r,onTrigger:a}=yt){const l=j_()===(Nt==null?void 0:Nt.scope)?Nt:null;let s,c=!1,u=!1;if(Ht(e)?(s=()=>e.value,c=aa(e)):Ni(e)?(s=()=>e,i=!0):ze(e)?(u=!0,c=e.some(b=>Ni(b)||aa(b)),s=()=>e.map(b=>{if(Ht(b))return b.value;if(Ni(b))return zn(b);if(Ye(b))return An(b,l,2)})):Ye(e)?t?s=()=>An(e,l,2):s=()=>{if(!(l&&l.isUnmounted))return f&&f(),po(e,l,3,[p])}:s=So,t&&i){const b=s;s=()=>zn(b())}let f,p=b=>{f=N.onStop=()=>{An(b,l,4)}},y;if(Hr)if(p=So,t?o&&po(t,l,3,[s(),u?[]:void 0,p]):s(),n==="sync"){const b=NC();y=b.__watcherHandles||(b.__watcherHandles=[])}else return So;let v=u?new Array(e.length).fill(Rs):Rs;const C=()=>{if(N.active)if(t){const b=N.run();(i||c||(u?b.some((w,T)=>Lr(w,v[T])):Lr(b,v)))&&(f&&f(),po(t,l,3,[b,v===Rs?void 0:u&&v[0]===Rs?[]:v,p]),v=b)}else N.run()};C.allowRecurse=!!t;let I;n==="sync"?I=C:n==="post"?I=()=>Yt(C,l&&l.suspense):(C.pre=!0,l&&(C.id=l.uid),I=()=>sd(C));const N=new Xu(s,I);t?o?C():v=N.run():n==="post"?Yt(N.run.bind(N),l&&l.suspense):N.run();const _=()=>{N.stop(),l&&l.scope&&Ju(l.scope.effects,N)};return y&&y.push(_),_}function R1(e,t,o){const i=this.proxy,n=Tt(e)?e.includes(".")?sv(i,e):()=>i[e]:e.bind(i,i);let r;Ye(t)?r=t:(r=t.handler,o=t);const a=Nt;Ri(this);const l=rv(n,r.bind(i),o);return a?Ri(a):Wn(),l}function sv(e,t){const o=t.split(".");return()=>{let i=e;for(let n=0;n<o.length&&i;n++)i=i[o[n]];return i}}function zn(e,t){if(!gt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Ht(e))zn(e.value,t);else if(ze(e))for(let o=0;o<e.length;o++)zn(e[o],t);else if(qi(e)||Si(e))e.forEach(o=>{zn(o,t)});else if(Og(e))for(const o in e)zn(e[o],t);return e}function av(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return fv(()=>{e.isMounted=!0}),pv(()=>{e.isUnmounting=!0}),e}const uo=[Function,Array],O1={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:uo,onEnter:uo,onAfterEnter:uo,onEnterCancelled:uo,onBeforeLeave:uo,onLeave:uo,onAfterLeave:uo,onLeaveCancelled:uo,onBeforeAppear:uo,onAppear:uo,onAfterAppear:uo,onAppearCancelled:uo},setup(e,{slots:t}){const o=Iv(),i=av();let n;return()=>{const r=t.default&&ad(t.default(),!0);if(!r||!r.length)return;let a=r[0];if(r.length>1){for(const C of r)if(C.type!==mo){a=C;break}}const l=st(e),{mode:s}=l;if(i.isLeaving)return il(a);const c=dp(a);if(!c)return il(a);const u=$r(c,l,i,o);jr(c,u);const f=o.subTree,p=f&&dp(f);let y=!1;const{getTransitionKey:v}=c.type;if(v){const C=v();n===void 0?n=C:C!==n&&(n=C,y=!0)}if(p&&p.type!==mo&&(!Hn(c,p)||y)){const C=$r(p,l,i,o);if(jr(p,C),s==="out-in")return i.isLeaving=!0,C.afterLeave=()=>{i.isLeaving=!1,o.update.active!==!1&&o.update()},il(a);s==="in-out"&&c.type!==mo&&(C.delayLeave=(I,N,_)=>{const b=lv(i,p);b[String(p.key)]=p,I._leaveCb=()=>{N(),I._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=_})}return a}}},cv=O1;function lv(e,t){const{leavingVNodes:o}=e;let i=o.get(t.type);return i||(i=Object.create(null),o.set(t.type,i)),i}function $r(e,t,o,i){const{appear:n,mode:r,persisted:a=!1,onBeforeEnter:l,onEnter:s,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:f,onLeave:p,onAfterLeave:y,onLeaveCancelled:v,onBeforeAppear:C,onAppear:I,onAfterAppear:N,onAppearCancelled:_}=t,b=String(e.key),w=lv(o,e),T=(H,P)=>{H&&po(H,i,9,P)},k=(H,P)=>{const D=P[1];T(H,P),ze(H)?H.every(B=>B.length<=1)&&D():H.length<=1&&D()},M={mode:r,persisted:a,beforeEnter(H){let P=l;if(!o.isMounted)if(n)P=C||l;else return;H._leaveCb&&H._leaveCb(!0);const D=w[b];D&&Hn(e,D)&&D.el._leaveCb&&D.el._leaveCb(),T(P,[H])},enter(H){let P=s,D=c,B=u;if(!o.isMounted)if(n)P=I||s,D=N||c,B=_||u;else return;let F=!1;const Q=H._enterCb=E=>{F||(F=!0,E?T(B,[H]):T(D,[H]),M.delayedLeave&&M.delayedLeave(),H._enterCb=void 0)};P?k(P,[H,Q]):Q()},leave(H,P){const D=String(e.key);if(H._enterCb&&H._enterCb(!0),o.isUnmounting)return P();T(f,[H]);let B=!1;const F=H._leaveCb=Q=>{B||(B=!0,P(),Q?T(v,[H]):T(y,[H]),H._leaveCb=void 0,w[D]===e&&delete w[D])};w[D]=e,p?k(p,[H,F]):F()},clone(H){return $r(H,t,o,i)}};return M}function il(e){if(xa(e))return e=Cn(e),e.children=null,e}function dp(e){return xa(e)?e.children?e.children[0]:void 0:e}function jr(e,t){e.shapeFlag&6&&e.component?jr(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ad(e,t=!1,o){let i=[],n=0;for(let r=0;r<e.length;r++){let a=e[r];const l=o==null?a.key:String(o)+String(a.key!=null?a.key:r);a.type===Me?(a.patchFlag&128&&n++,i=i.concat(ad(a.children,t,l))):(t||a.type!==mo)&&i.push(l!=null?Cn(a,{key:l}):a)}if(n>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}function uv(e){return Ye(e)?{setup:e,name:e.name}:e}const Nr=e=>!!e.type.__asyncLoader,xa=e=>e.type.__isKeepAlive;function F1(e,t){dv(e,"a",t)}function L1(e,t){dv(e,"da",t)}function dv(e,t,o=Nt){const i=e.__wdc||(e.__wdc=()=>{let n=o;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Ta(t,i,o),o){let n=o.parent;for(;n&&n.parent;)xa(n.parent.vnode)&&M1(i,t,o,n),n=n.parent}}function M1(e,t,o,i){const n=Ta(t,e,i,!0);mv(()=>{Ju(i[t],n)},o)}function Ta(e,t,o=Nt,i=!1){if(o){const n=o[e]||(o[e]=[]),r=t.__weh||(t.__weh=(...a)=>{if(o.isUnmounted)return;Hi(),Ri(o);const l=po(t,o,e,a);return Wn(),Vi(),l});return i?n.unshift(r):n.push(r),r}}const Xo=e=>(t,o=Nt)=>(!Hr||e==="sp")&&Ta(e,(...i)=>t(...i),o),B1=Xo("bm"),fv=Xo("m"),U1=Xo("bu"),hv=Xo("u"),pv=Xo("bum"),mv=Xo("um"),$1=Xo("sp"),j1=Xo("rtg"),q1=Xo("rtc");function H1(e,t=Nt){Ta("ec",e,t)}function W(e,t){const o=Ut;if(o===null)return e;const i=Da(o)||o.proxy,n=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[a,l,s,c=yt]=t[r];a&&(Ye(a)&&(a={mounted:a,updated:a}),a.deep&&zn(l),n.push({dir:a,instance:i,value:l,oldValue:void 0,arg:s,modifiers:c}))}return e}function On(e,t,o,i){const n=e.dirs,r=t&&t.dirs;for(let a=0;a<n.length;a++){const l=n[a];r&&(l.oldValue=r[a].value);let s=l.dir[i];s&&(Hi(),po(s,o,8,[e.el,l,e,t]),Vi())}}const gv="components";function Re(e,t){return z1(gv,e,!0,t)||e}const V1=Symbol();function z1(e,t,o=!0,i=!1){const n=Ut||Nt;if(n){const r=n.type;if(e===gv){const l=_C(r,!1);if(l&&(l===t||l===Mo(t)||l===Aa(Mo(t))))return r}const a=fp(n[e]||r[e],t)||fp(n.appContext[e],t);return!a&&i?r:a}}function fp(e,t){return e&&(e[t]||e[Mo(t)]||e[Aa(Mo(t))])}function Ve(e,t,o,i){let n;const r=o&&o[i];if(ze(e)||Tt(e)){n=new Array(e.length);for(let a=0,l=e.length;a<l;a++)n[a]=t(e[a],a,void 0,r&&r[a])}else if(typeof e=="number"){n=new Array(e);for(let a=0;a<e;a++)n[a]=t(a+1,a,void 0,r&&r[a])}else if(gt(e))if(e[Symbol.iterator])n=Array.from(e,(a,l)=>t(a,l,void 0,r&&r[l]));else{const a=Object.keys(e);n=new Array(a.length);for(let l=0,s=a.length;l<s;l++){const c=a[l];n[l]=t(e[c],c,l,r&&r[l])}}else n=[];return o&&(o[i]=n),n}function vv(e,t,o={},i,n){if(Ut.isCE||Ut.parent&&Nr(Ut.parent)&&Ut.parent.isCE)return t!=="default"&&(o.name=t),Ie("slot",o,i&&i());let r=e[t];r&&r._c&&(r._d=!1),J();const a=r&&yv(r(o)),l=We(Me,{key:o.key||a&&a.key||`_${t}`},a||(i?i():[]),a&&e._===1?64:-2);return!n&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function yv(e){return e.some(t=>ua(t)?!(t.type===mo||t.type===Me&&!yv(t.children)):!0)?e:null}const Jl=e=>e?Pv(e)?Da(e)||e.proxy:Jl(e.parent):null,xr=Lt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Jl(e.parent),$root:e=>Jl(e.root),$emit:e=>e.emit,$options:e=>cd(e),$forceUpdate:e=>e.f||(e.f=()=>sd(e.update)),$nextTick:e=>e.n||(e.n=ev.bind(e.proxy)),$watch:e=>R1.bind(e)}),rl=(e,t)=>e!==yt&&!e.__isScriptSetup&&it(e,t),Q1={get({_:e},t){const{ctx:o,setupState:i,data:n,props:r,accessCache:a,type:l,appContext:s}=e;let c;if(t[0]!=="$"){const y=a[t];if(y!==void 0)switch(y){case 1:return i[t];case 2:return n[t];case 4:return o[t];case 3:return r[t]}else{if(rl(i,t))return a[t]=1,i[t];if(n!==yt&&it(n,t))return a[t]=2,n[t];if((c=e.propsOptions[0])&&it(c,t))return a[t]=3,r[t];if(o!==yt&&it(o,t))return a[t]=4,o[t];Yl&&(a[t]=0)}}const u=xr[t];let f,p;if(u)return t==="$attrs"&&Xt(e,"get",t),u(e);if((f=l.__cssModules)&&(f=f[t]))return f;if(o!==yt&&it(o,t))return a[t]=4,o[t];if(p=s.config.globalProperties,it(p,t))return p[t]},set({_:e},t,o){const{data:i,setupState:n,ctx:r}=e;return rl(n,t)?(n[t]=o,!0):i!==yt&&it(i,t)?(i[t]=o,!0):it(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=o,!0)},has({_:{data:e,setupState:t,accessCache:o,ctx:i,appContext:n,propsOptions:r}},a){let l;return!!o[a]||e!==yt&&it(e,a)||rl(t,a)||(l=r[0])&&it(l,a)||it(i,a)||it(xr,a)||it(n.config.globalProperties,a)},defineProperty(e,t,o){return o.get!=null?e._.accessCache[t]=0:it(o,"value")&&this.set(e,t,o.value,null),Reflect.defineProperty(e,t,o)}};let Yl=!0;function G1(e){const t=cd(e),o=e.proxy,i=e.ctx;Yl=!1,t.beforeCreate&&hp(t.beforeCreate,e,"bc");const{data:n,computed:r,methods:a,watch:l,provide:s,inject:c,created:u,beforeMount:f,mounted:p,beforeUpdate:y,updated:v,activated:C,deactivated:I,beforeDestroy:N,beforeUnmount:_,destroyed:b,unmounted:w,render:T,renderTracked:k,renderTriggered:M,errorCaptured:H,serverPrefetch:P,expose:D,inheritAttrs:B,components:F,directives:Q,filters:E}=t;if(c&&W1(c,i,null,e.appContext.config.unwrapInjectedRef),a)for(const z in a){const be=a[z];Ye(be)&&(i[z]=be.bind(o))}if(n){const z=n.call(o,o);gt(z)&&(e.data=es(z))}if(Yl=!0,r)for(const z in r){const be=r[z],me=Ye(be)?be.bind(o,o):Ye(be.get)?be.get.bind(o,o):So,_e=!Ye(be)&&Ye(be.set)?be.set.bind(o):So,x=ho({get:me,set:_e});Object.defineProperty(i,z,{enumerable:!0,configurable:!0,get:()=>x.value,set:$=>x.value=$})}if(l)for(const z in l)bv(l[z],i,o,z);if(s){const z=Ye(s)?s.call(o):s;Reflect.ownKeys(z).forEach(be=>{zs(be,z[be])})}u&&hp(u,e,"c");function ie(z,be){ze(be)?be.forEach(me=>z(me.bind(o))):be&&z(be.bind(o))}if(ie(B1,f),ie(fv,p),ie(U1,y),ie(hv,v),ie(F1,C),ie(L1,I),ie(H1,H),ie(q1,k),ie(j1,M),ie(pv,_),ie(mv,w),ie($1,P),ze(D))if(D.length){const z=e.exposed||(e.exposed={});D.forEach(be=>{Object.defineProperty(z,be,{get:()=>o[be],set:me=>o[be]=me})})}else e.exposed||(e.exposed={});T&&e.render===So&&(e.render=T),B!=null&&(e.inheritAttrs=B),F&&(e.components=F),Q&&(e.directives=Q)}function W1(e,t,o=So,i=!1){ze(e)&&(e=Zl(e));for(const n in e){const r=e[n];let a;gt(r)?"default"in r?a=Ko(r.from||n,r.default,!0):a=Ko(r.from||n):a=Ko(r),Ht(a)&&i?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):t[n]=a}}function hp(e,t,o){po(ze(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,o)}function bv(e,t,o,i){const n=i.includes(".")?sv(o,i):()=>o[i];if(Tt(e)){const r=t[e];Ye(r)&&Qs(n,r)}else if(Ye(e))Qs(n,e.bind(o));else if(gt(e))if(ze(e))e.forEach(r=>bv(r,t,o,i));else{const r=Ye(e.handler)?e.handler.bind(o):t[e.handler];Ye(r)&&Qs(n,r,e)}}function cd(e){const t=e.type,{mixins:o,extends:i}=t,{mixins:n,optionsCache:r,config:{optionMergeStrategies:a}}=e.appContext,l=r.get(t);let s;return l?s=l:!n.length&&!o&&!i?s=t:(s={},n.length&&n.forEach(c=>la(s,c,a,!0)),la(s,t,a)),gt(t)&&r.set(t,s),s}function la(e,t,o,i=!1){const{mixins:n,extends:r}=t;r&&la(e,r,o,!0),n&&n.forEach(a=>la(e,a,o,!0));for(const a in t)if(!(i&&a==="expose")){const l=K1[a]||o&&o[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const K1={data:pp,props:Bn,emits:Bn,methods:Bn,computed:Bn,beforeCreate:Wt,created:Wt,beforeMount:Wt,mounted:Wt,beforeUpdate:Wt,updated:Wt,beforeDestroy:Wt,beforeUnmount:Wt,destroyed:Wt,unmounted:Wt,activated:Wt,deactivated:Wt,errorCaptured:Wt,serverPrefetch:Wt,components:Bn,directives:Bn,watch:Y1,provide:pp,inject:J1};function pp(e,t){return t?e?function(){return Lt(Ye(e)?e.call(this,this):e,Ye(t)?t.call(this,this):t)}:t:e}function J1(e,t){return Bn(Zl(e),Zl(t))}function Zl(e){if(ze(e)){const t={};for(let o=0;o<e.length;o++)t[e[o]]=e[o];return t}return e}function Wt(e,t){return e?[...new Set([].concat(e,t))]:t}function Bn(e,t){return e?Lt(Lt(Object.create(null),e),t):t}function Y1(e,t){if(!e)return t;if(!t)return e;const o=Lt(Object.create(null),e);for(const i in t)o[i]=Wt(e[i],t[i]);return o}function Z1(e,t,o,i=!1){const n={},r={};ra(r,Pa,1),e.propsDefaults=Object.create(null),wv(e,t,n,r);for(const a in e.propsOptions[0])a in n||(n[a]=void 0);o?e.props=i?n:p1(n):e.type.props?e.props=n:e.props=r,e.attrs=r}function X1(e,t,o,i){const{props:n,attrs:r,vnode:{patchFlag:a}}=e,l=st(n),[s]=e.propsOptions;let c=!1;if((i||a>0)&&!(a&16)){if(a&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let p=u[f];if(Sa(e.emitsOptions,p))continue;const y=t[p];if(s)if(it(r,p))y!==r[p]&&(r[p]=y,c=!0);else{const v=Mo(p);n[v]=Xl(s,l,v,y,e,!1)}else y!==r[p]&&(r[p]=y,c=!0)}}}else{wv(e,t,n,r)&&(c=!0);let u;for(const f in l)(!t||!it(t,f)&&((u=ti(f))===f||!it(t,u)))&&(s?o&&(o[f]!==void 0||o[u]!==void 0)&&(n[f]=Xl(s,l,f,void 0,e,!0)):delete n[f]);if(r!==l)for(const f in r)(!t||!it(t,f))&&(delete r[f],c=!0)}c&&Yo(e,"set","$attrs")}function wv(e,t,o,i){const[n,r]=e.propsOptions;let a=!1,l;if(t)for(let s in t){if(Hs(s))continue;const c=t[s];let u;n&&it(n,u=Mo(s))?!r||!r.includes(u)?o[u]=c:(l||(l={}))[u]=c:Sa(e.emitsOptions,s)||(!(s in i)||c!==i[s])&&(i[s]=c,a=!0)}if(r){const s=st(o),c=l||yt;for(let u=0;u<r.length;u++){const f=r[u];o[f]=Xl(n,s,f,c[f],e,!it(c,f))}}return a}function Xl(e,t,o,i,n,r){const a=e[o];if(a!=null){const l=it(a,"default");if(l&&i===void 0){const s=a.default;if(a.type!==Function&&Ye(s)){const{propsDefaults:c}=n;o in c?i=c[o]:(Ri(n),i=c[o]=s.call(null,t),Wn())}else i=s}a[0]&&(r&&!l?i=!1:a[1]&&(i===""||i===ti(o))&&(i=!0))}return i}function Ev(e,t,o=!1){const i=t.propsCache,n=i.get(e);if(n)return n;const r=e.props,a={},l=[];let s=!1;if(!Ye(e)){const u=f=>{s=!0;const[p,y]=Ev(f,t,!0);Lt(a,p),y&&l.push(...y)};!o&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!s)return gt(e)&&i.set(e,Ci),Ci;if(ze(r))for(let u=0;u<r.length;u++){const f=Mo(r[u]);mp(f)&&(a[f]=yt)}else if(r)for(const u in r){const f=Mo(u);if(mp(f)){const p=r[u],y=a[f]=ze(p)||Ye(p)?{type:p}:Object.assign({},p);if(y){const v=yp(Boolean,y.type),C=yp(String,y.type);y[0]=v>-1,y[1]=C<0||v<C,(v>-1||it(y,"default"))&&l.push(f)}}}const c=[a,l];return gt(e)&&i.set(e,c),c}function mp(e){return e[0]!=="$"}function gp(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function vp(e,t){return gp(e)===gp(t)}function yp(e,t){return ze(t)?t.findIndex(o=>vp(o,e)):Ye(t)&&vp(t,e)?0:-1}const Av=e=>e[0]==="_"||e==="$stable",ld=e=>ze(e)?e.map(Ro):[Ro(e)],eC=(e,t,o)=>{if(t._n)return t;const i=$t((...n)=>ld(t(...n)),o);return i._c=!1,i},_v=(e,t,o)=>{const i=e._ctx;for(const n in e){if(Av(n))continue;const r=e[n];if(Ye(r))t[n]=eC(n,r,i);else if(r!=null){const a=ld(r);t[n]=()=>a}}},Cv=(e,t)=>{const o=ld(t);e.slots.default=()=>o},tC=(e,t)=>{if(e.vnode.shapeFlag&32){const o=t._;o?(e.slots=st(t),ra(t,"_",o)):_v(t,e.slots={})}else e.slots={},t&&Cv(e,t);ra(e.slots,Pa,1)},oC=(e,t,o)=>{const{vnode:i,slots:n}=e;let r=!0,a=yt;if(i.shapeFlag&32){const l=t._;l?o&&l===1?r=!1:(Lt(n,t),!o&&l===1&&delete n._):(r=!t.$stable,_v(t,n)),a=t}else t&&(Cv(e,t),a={default:1});if(r)for(const l in n)!Av(l)&&!(l in a)&&delete n[l]};function Sv(){return{app:null,config:{isNativeTag:D_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let nC=0;function iC(e,t){return function(i,n=null){Ye(i)||(i=Object.assign({},i)),n!=null&&!gt(n)&&(n=null);const r=Sv(),a=new Set;let l=!1;const s=r.app={_uid:nC++,_component:i,_props:n,_container:null,_context:r,_instance:null,version:xC,get config(){return r.config},set config(c){},use(c,...u){return a.has(c)||(c&&Ye(c.install)?(a.add(c),c.install(s,...u)):Ye(c)&&(a.add(c),c(s,...u))),s},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),s},component(c,u){return u?(r.components[c]=u,s):r.components[c]},directive(c,u){return u?(r.directives[c]=u,s):r.directives[c]},mount(c,u,f){if(!l){const p=Ie(i,n);return p.appContext=r,u&&t?t(p,c):e(p,c,f),l=!0,s._container=c,c.__vue_app__=s,Da(p.component)||p.component.proxy}},unmount(){l&&(e(null,s._container),delete s._container.__vue_app__)},provide(c,u){return r.provides[c]=u,s}};return s}}function eu(e,t,o,i,n=!1){if(ze(e)){e.forEach((p,y)=>eu(p,t&&(ze(t)?t[y]:t),o,i,n));return}if(Nr(i)&&!n)return;const r=i.shapeFlag&4?Da(i.component)||i.component.proxy:i.el,a=n?null:r,{i:l,r:s}=e,c=t&&t.r,u=l.refs===yt?l.refs={}:l.refs,f=l.setupState;if(c!=null&&c!==s&&(Tt(c)?(u[c]=null,it(f,c)&&(f[c]=null)):Ht(c)&&(c.value=null)),Ye(s))An(s,l,12,[a,u]);else{const p=Tt(s),y=Ht(s);if(p||y){const v=()=>{if(e.f){const C=p?it(f,s)?f[s]:u[s]:s.value;n?ze(C)&&Ju(C,r):ze(C)?C.includes(r)||C.push(r):p?(u[s]=[r],it(f,s)&&(f[s]=u[s])):(s.value=[r],e.k&&(u[e.k]=s.value))}else p?(u[s]=a,it(f,s)&&(f[s]=a)):y&&(s.value=a,e.k&&(u[e.k]=a))};a?(v.id=-1,Yt(v,o)):v()}}}const Yt=k1;function rC(e){return sC(e)}function sC(e,t){const o=B_();o.__VUE__=!0;const{insert:i,remove:n,patchProp:r,createElement:a,createText:l,createComment:s,setText:c,setElementText:u,parentNode:f,nextSibling:p,setScopeId:y=So,insertStaticContent:v}=e,C=(m,S,L,Y=null,le=null,he=null,de=!1,pe=null,Ee=!!S.dynamicChildren)=>{if(m===S)return;m&&!Hn(m,S)&&(Y=G(m),$(m,le,he,!0),m=null),S.patchFlag===-2&&(Ee=!1,S.dynamicChildren=null);const{type:ge,ref:Pe,shapeFlag:Oe}=S;switch(ge){case Ia:I(m,S,L,Y);break;case mo:N(m,S,L,Y);break;case sl:m==null&&_(S,L,Y,de);break;case Me:F(m,S,L,Y,le,he,de,pe,Ee);break;default:Oe&1?T(m,S,L,Y,le,he,de,pe,Ee):Oe&6?Q(m,S,L,Y,le,he,de,pe,Ee):(Oe&64||Oe&128)&&ge.process(m,S,L,Y,le,he,de,pe,Ee,se)}Pe!=null&&le&&eu(Pe,m&&m.ref,he,S||m,!S)},I=(m,S,L,Y)=>{if(m==null)i(S.el=l(S.children),L,Y);else{const le=S.el=m.el;S.children!==m.children&&c(le,S.children)}},N=(m,S,L,Y)=>{m==null?i(S.el=s(S.children||""),L,Y):S.el=m.el},_=(m,S,L,Y)=>{[m.el,m.anchor]=v(m.children,S,L,Y,m.el,m.anchor)},b=({el:m,anchor:S},L,Y)=>{let le;for(;m&&m!==S;)le=p(m),i(m,L,Y),m=le;i(S,L,Y)},w=({el:m,anchor:S})=>{let L;for(;m&&m!==S;)L=p(m),n(m),m=L;n(S)},T=(m,S,L,Y,le,he,de,pe,Ee)=>{de=de||S.type==="svg",m==null?k(S,L,Y,le,he,de,pe,Ee):P(m,S,le,he,de,pe,Ee)},k=(m,S,L,Y,le,he,de,pe)=>{let Ee,ge;const{type:Pe,props:Oe,shapeFlag:A,transition:R,dirs:j}=m;if(Ee=m.el=a(m.type,he,Oe&&Oe.is,Oe),A&8?u(Ee,m.children):A&16&&H(m.children,Ee,null,Y,le,he&&Pe!=="foreignObject",de,pe),j&&On(m,null,Y,"created"),M(Ee,m,m.scopeId,de,Y),Oe){for(const ce in Oe)ce!=="value"&&!Hs(ce)&&r(Ee,ce,null,Oe[ce],he,m.children,Y,le,q);"value"in Oe&&r(Ee,"value",null,Oe.value),(ge=Oe.onVnodeBeforeMount)&&ko(ge,Y,m)}j&&On(m,null,Y,"beforeMount");const ne=(!le||le&&!le.pendingBranch)&&R&&!R.persisted;ne&&R.beforeEnter(Ee),i(Ee,S,L),((ge=Oe&&Oe.onVnodeMounted)||ne||j)&&Yt(()=>{ge&&ko(ge,Y,m),ne&&R.enter(Ee),j&&On(m,null,Y,"mounted")},le)},M=(m,S,L,Y,le)=>{if(L&&y(m,L),Y)for(let he=0;he<Y.length;he++)y(m,Y[he]);if(le){let he=le.subTree;if(S===he){const de=le.vnode;M(m,de,de.scopeId,de.slotScopeIds,le.parent)}}},H=(m,S,L,Y,le,he,de,pe,Ee=0)=>{for(let ge=Ee;ge<m.length;ge++){const Pe=m[ge]=pe?gn(m[ge]):Ro(m[ge]);C(null,Pe,S,L,Y,le,he,de,pe)}},P=(m,S,L,Y,le,he,de)=>{const pe=S.el=m.el;let{patchFlag:Ee,dynamicChildren:ge,dirs:Pe}=S;Ee|=m.patchFlag&16;const Oe=m.props||yt,A=S.props||yt;let R;L&&Fn(L,!1),(R=A.onVnodeBeforeUpdate)&&ko(R,L,S,m),Pe&&On(S,m,L,"beforeUpdate"),L&&Fn(L,!0);const j=le&&S.type!=="foreignObject";if(ge?D(m.dynamicChildren,ge,pe,L,Y,j,he):de||be(m,S,pe,null,L,Y,j,he,!1),Ee>0){if(Ee&16)B(pe,S,Oe,A,L,Y,le);else if(Ee&2&&Oe.class!==A.class&&r(pe,"class",null,A.class,le),Ee&4&&r(pe,"style",Oe.style,A.style,le),Ee&8){const ne=S.dynamicProps;for(let ce=0;ce<ne.length;ce++){const ue=ne[ce],Ce=Oe[ue],He=A[ue];(He!==Ce||ue==="value")&&r(pe,ue,Ce,He,le,m.children,L,Y,q)}}Ee&1&&m.children!==S.children&&u(pe,S.children)}else!de&&ge==null&&B(pe,S,Oe,A,L,Y,le);((R=A.onVnodeUpdated)||Pe)&&Yt(()=>{R&&ko(R,L,S,m),Pe&&On(S,m,L,"updated")},Y)},D=(m,S,L,Y,le,he,de)=>{for(let pe=0;pe<S.length;pe++){const Ee=m[pe],ge=S[pe],Pe=Ee.el&&(Ee.type===Me||!Hn(Ee,ge)||Ee.shapeFlag&70)?f(Ee.el):L;C(Ee,ge,Pe,null,Y,le,he,de,!0)}},B=(m,S,L,Y,le,he,de)=>{if(L!==Y){if(L!==yt)for(const pe in L)!Hs(pe)&&!(pe in Y)&&r(m,pe,L[pe],null,de,S.children,le,he,q);for(const pe in Y){if(Hs(pe))continue;const Ee=Y[pe],ge=L[pe];Ee!==ge&&pe!=="value"&&r(m,pe,ge,Ee,de,S.children,le,he,q)}"value"in Y&&r(m,"value",L.value,Y.value)}},F=(m,S,L,Y,le,he,de,pe,Ee)=>{const ge=S.el=m?m.el:l(""),Pe=S.anchor=m?m.anchor:l("");let{patchFlag:Oe,dynamicChildren:A,slotScopeIds:R}=S;R&&(pe=pe?pe.concat(R):R),m==null?(i(ge,L,Y),i(Pe,L,Y),H(S.children,L,Pe,le,he,de,pe,Ee)):Oe>0&&Oe&64&&A&&m.dynamicChildren?(D(m.dynamicChildren,A,L,le,he,de,pe),(S.key!=null||le&&S===le.subTree)&&ud(m,S,!0)):be(m,S,L,Pe,le,he,de,pe,Ee)},Q=(m,S,L,Y,le,he,de,pe,Ee)=>{S.slotScopeIds=pe,m==null?S.shapeFlag&512?le.ctx.activate(S,L,Y,de,Ee):E(S,L,Y,le,he,de,Ee):oe(m,S,Ee)},E=(m,S,L,Y,le,he,de)=>{const pe=m.component=yC(m,Y,le);if(xa(m)&&(pe.ctx.renderer=se),bC(pe),pe.asyncDep){if(le&&le.registerDep(pe,ie),!m.el){const Ee=pe.subTree=Ie(mo);N(null,Ee,S,L)}return}ie(pe,m,S,L,le,he,de)},oe=(m,S,L)=>{const Y=S.component=m.component;if(I1(m,S,L))if(Y.asyncDep&&!Y.asyncResolved){z(Y,S,L);return}else Y.next=S,_1(Y.update),Y.update();else S.el=m.el,Y.vnode=S},ie=(m,S,L,Y,le,he,de)=>{const pe=()=>{if(m.isMounted){let{next:Pe,bu:Oe,u:A,parent:R,vnode:j}=m,ne=Pe,ce;Fn(m,!1),Pe?(Pe.el=j.el,z(m,Pe,de)):Pe=j,Oe&&Vs(Oe),(ce=Pe.props&&Pe.props.onVnodeBeforeUpdate)&&ko(ce,R,Pe,j),Fn(m,!0);const ue=nl(m),Ce=m.subTree;m.subTree=ue,C(Ce,ue,f(Ce.el),G(Ce),m,le,he),Pe.el=ue.el,ne===null&&P1(m,ue.el),A&&Yt(A,le),(ce=Pe.props&&Pe.props.onVnodeUpdated)&&Yt(()=>ko(ce,R,Pe,j),le)}else{let Pe;const{el:Oe,props:A}=S,{bm:R,m:j,parent:ne}=m,ce=Nr(S);if(Fn(m,!1),R&&Vs(R),!ce&&(Pe=A&&A.onVnodeBeforeMount)&&ko(Pe,ne,S),Fn(m,!0),Oe&&U){const ue=()=>{m.subTree=nl(m),U(Oe,m.subTree,m,le,null)};ce?S.type.__asyncLoader().then(()=>!m.isUnmounted&&ue()):ue()}else{const ue=m.subTree=nl(m);C(null,ue,L,Y,m,le,he),S.el=ue.el}if(j&&Yt(j,le),!ce&&(Pe=A&&A.onVnodeMounted)){const ue=S;Yt(()=>ko(Pe,ne,ue),le)}(S.shapeFlag&256||ne&&Nr(ne.vnode)&&ne.vnode.shapeFlag&256)&&m.a&&Yt(m.a,le),m.isMounted=!0,S=L=Y=null}},Ee=m.effect=new Xu(pe,()=>sd(ge),m.scope),ge=m.update=()=>Ee.run();ge.id=m.uid,Fn(m,!0),ge()},z=(m,S,L)=>{S.component=m;const Y=m.vnode.props;m.vnode=S,m.next=null,X1(m,S.props,Y,L),oC(m,S.children,L),Hi(),lp(),Vi()},be=(m,S,L,Y,le,he,de,pe,Ee=!1)=>{const ge=m&&m.children,Pe=m?m.shapeFlag:0,Oe=S.children,{patchFlag:A,shapeFlag:R}=S;if(A>0){if(A&128){_e(ge,Oe,L,Y,le,he,de,pe,Ee);return}else if(A&256){me(ge,Oe,L,Y,le,he,de,pe,Ee);return}}R&8?(Pe&16&&q(ge,le,he),Oe!==ge&&u(L,Oe)):Pe&16?R&16?_e(ge,Oe,L,Y,le,he,de,pe,Ee):q(ge,le,he,!0):(Pe&8&&u(L,""),R&16&&H(Oe,L,Y,le,he,de,pe,Ee))},me=(m,S,L,Y,le,he,de,pe,Ee)=>{m=m||Ci,S=S||Ci;const ge=m.length,Pe=S.length,Oe=Math.min(ge,Pe);let A;for(A=0;A<Oe;A++){const R=S[A]=Ee?gn(S[A]):Ro(S[A]);C(m[A],R,L,null,le,he,de,pe,Ee)}ge>Pe?q(m,le,he,!0,!1,Oe):H(S,L,Y,le,he,de,pe,Ee,Oe)},_e=(m,S,L,Y,le,he,de,pe,Ee)=>{let ge=0;const Pe=S.length;let Oe=m.length-1,A=Pe-1;for(;ge<=Oe&&ge<=A;){const R=m[ge],j=S[ge]=Ee?gn(S[ge]):Ro(S[ge]);if(Hn(R,j))C(R,j,L,null,le,he,de,pe,Ee);else break;ge++}for(;ge<=Oe&&ge<=A;){const R=m[Oe],j=S[A]=Ee?gn(S[A]):Ro(S[A]);if(Hn(R,j))C(R,j,L,null,le,he,de,pe,Ee);else break;Oe--,A--}if(ge>Oe){if(ge<=A){const R=A+1,j=R<Pe?S[R].el:Y;for(;ge<=A;)C(null,S[ge]=Ee?gn(S[ge]):Ro(S[ge]),L,j,le,he,de,pe,Ee),ge++}}else if(ge>A)for(;ge<=Oe;)$(m[ge],le,he,!0),ge++;else{const R=ge,j=ge,ne=new Map;for(ge=j;ge<=A;ge++){const Ze=S[ge]=Ee?gn(S[ge]):Ro(S[ge]);Ze.key!=null&&ne.set(Ze.key,ge)}let ce,ue=0;const Ce=A-j+1;let He=!1,Je=0;const ut=new Array(Ce);for(ge=0;ge<Ce;ge++)ut[ge]=0;for(ge=R;ge<=Oe;ge++){const Ze=m[ge];if(ue>=Ce){$(Ze,le,he,!0);continue}let oo;if(Ze.key!=null)oo=ne.get(Ze.key);else for(ce=j;ce<=A;ce++)if(ut[ce-j]===0&&Hn(Ze,S[ce])){oo=ce;break}oo===void 0?$(Ze,le,he,!0):(ut[oo-j]=ge+1,oo>=Je?Je=oo:He=!0,C(Ze,S[oo],L,null,le,he,de,pe,Ee),ue++)}const et=He?aC(ut):Ci;for(ce=et.length-1,ge=Ce-1;ge>=0;ge--){const Ze=j+ge,oo=S[Ze],vo=Ze+1<Pe?S[Ze+1].el:Y;ut[ge]===0?C(null,oo,L,vo,le,he,de,pe,Ee):He&&(ce<0||ge!==et[ce]?x(oo,L,vo,2):ce--)}}},x=(m,S,L,Y,le=null)=>{const{el:he,type:de,transition:pe,children:Ee,shapeFlag:ge}=m;if(ge&6){x(m.component.subTree,S,L,Y);return}if(ge&128){m.suspense.move(S,L,Y);return}if(ge&64){de.move(m,S,L,se);return}if(de===Me){i(he,S,L);for(let Oe=0;Oe<Ee.length;Oe++)x(Ee[Oe],S,L,Y);i(m.anchor,S,L);return}if(de===sl){b(m,S,L);return}if(Y!==2&&ge&1&&pe)if(Y===0)pe.beforeEnter(he),i(he,S,L),Yt(()=>pe.enter(he),le);else{const{leave:Oe,delayLeave:A,afterLeave:R}=pe,j=()=>i(he,S,L),ne=()=>{Oe(he,()=>{j(),R&&R()})};A?A(he,j,ne):ne()}else i(he,S,L)},$=(m,S,L,Y=!1,le=!1)=>{const{type:he,props:de,ref:pe,children:Ee,dynamicChildren:ge,shapeFlag:Pe,patchFlag:Oe,dirs:A}=m;if(pe!=null&&eu(pe,null,L,m,!0),Pe&256){S.ctx.deactivate(m);return}const R=Pe&1&&A,j=!Nr(m);let ne;if(j&&(ne=de&&de.onVnodeBeforeUnmount)&&ko(ne,S,m),Pe&6)K(m.component,L,Y);else{if(Pe&128){m.suspense.unmount(L,Y);return}R&&On(m,null,S,"beforeUnmount"),Pe&64?m.type.remove(m,S,L,le,se,Y):ge&&(he!==Me||Oe>0&&Oe&64)?q(ge,S,L,!1,!0):(he===Me&&Oe&384||!le&&Pe&16)&&q(Ee,S,L),Y&&te(m)}(j&&(ne=de&&de.onVnodeUnmounted)||R)&&Yt(()=>{ne&&ko(ne,S,m),R&&On(m,null,S,"unmounted")},L)},te=m=>{const{type:S,el:L,anchor:Y,transition:le}=m;if(S===Me){V(L,Y);return}if(S===sl){w(m);return}const he=()=>{n(L),le&&!le.persisted&&le.afterLeave&&le.afterLeave()};if(m.shapeFlag&1&&le&&!le.persisted){const{leave:de,delayLeave:pe}=le,Ee=()=>de(L,he);pe?pe(m.el,he,Ee):Ee()}else he()},V=(m,S)=>{let L;for(;m!==S;)L=p(m),n(m),m=L;n(S)},K=(m,S,L)=>{const{bum:Y,scope:le,update:he,subTree:de,um:pe}=m;Y&&Vs(Y),le.stop(),he&&(he.active=!1,$(de,m,S,L)),pe&&Yt(pe,S),Yt(()=>{m.isUnmounted=!0},S),S&&S.pendingBranch&&!S.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===S.pendingId&&(S.deps--,S.deps===0&&S.resolve())},q=(m,S,L,Y=!1,le=!1,he=0)=>{for(let de=he;de<m.length;de++)$(m[de],S,L,Y,le)},G=m=>m.shapeFlag&6?G(m.component.subTree):m.shapeFlag&128?m.suspense.next():p(m.anchor||m.el),ee=(m,S,L)=>{m==null?S._vnode&&$(S._vnode,null,null,!0):C(S._vnode||null,m,S,null,null,null,L),lp(),ov(),S._vnode=m},se={p:C,um:$,m:x,r:te,mt:E,mc:H,pc:be,pbc:D,n:G,o:e};let ae,U;return t&&([ae,U]=t(se)),{render:ee,hydrate:ae,createApp:iC(ee,ae)}}function Fn({effect:e,update:t},o){e.allowRecurse=t.allowRecurse=o}function ud(e,t,o=!1){const i=e.children,n=t.children;if(ze(i)&&ze(n))for(let r=0;r<i.length;r++){const a=i[r];let l=n[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=n[r]=gn(n[r]),l.el=a.el),o||ud(a,l)),l.type===Ia&&(l.el=a.el)}}function aC(e){const t=e.slice(),o=[0];let i,n,r,a,l;const s=e.length;for(i=0;i<s;i++){const c=e[i];if(c!==0){if(n=o[o.length-1],e[n]<c){t[i]=n,o.push(i);continue}for(r=0,a=o.length-1;r<a;)l=r+a>>1,e[o[l]]<c?r=l+1:a=l;c<e[o[r]]&&(r>0&&(t[i]=o[r-1]),o[r]=i)}}for(r=o.length,a=o[r-1];r-- >0;)o[r]=a,a=t[a];return o}const cC=e=>e.__isTeleport,Tr=e=>e&&(e.disabled||e.disabled===""),bp=e=>typeof SVGElement<"u"&&e instanceof SVGElement,tu=(e,t)=>{const o=e&&e.to;return Tt(o)?t?t(o):null:o},lC={__isTeleport:!0,process(e,t,o,i,n,r,a,l,s,c){const{mc:u,pc:f,pbc:p,o:{insert:y,querySelector:v,createText:C,createComment:I}}=c,N=Tr(t.props);let{shapeFlag:_,children:b,dynamicChildren:w}=t;if(e==null){const T=t.el=C(""),k=t.anchor=C("");y(T,o,i),y(k,o,i);const M=t.target=tu(t.props,v),H=t.targetAnchor=C("");M&&(y(H,M),a=a||bp(M));const P=(D,B)=>{_&16&&u(b,D,B,n,r,a,l,s)};N?P(o,k):M&&P(M,H)}else{t.el=e.el;const T=t.anchor=e.anchor,k=t.target=e.target,M=t.targetAnchor=e.targetAnchor,H=Tr(e.props),P=H?o:k,D=H?T:M;if(a=a||bp(k),w?(p(e.dynamicChildren,w,P,n,r,a,l),ud(e,t,!0)):s||f(e,t,P,D,n,r,a,l,!1),N)H||Os(t,o,T,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const B=t.target=tu(t.props,v);B&&Os(t,B,null,c,0)}else H&&Os(t,k,M,c,1)}Nv(t)},remove(e,t,o,i,{um:n,o:{remove:r}},a){const{shapeFlag:l,children:s,anchor:c,targetAnchor:u,target:f,props:p}=e;if(f&&r(u),(a||!Tr(p))&&(r(c),l&16))for(let y=0;y<s.length;y++){const v=s[y];n(v,t,o,!0,!!v.dynamicChildren)}},move:Os,hydrate:uC};function Os(e,t,o,{o:{insert:i},m:n},r=2){r===0&&i(e.targetAnchor,t,o);const{el:a,anchor:l,shapeFlag:s,children:c,props:u}=e,f=r===2;if(f&&i(a,t,o),(!f||Tr(u))&&s&16)for(let p=0;p<c.length;p++)n(c[p],t,o,2);f&&i(l,t,o)}function uC(e,t,o,i,n,r,{o:{nextSibling:a,parentNode:l,querySelector:s}},c){const u=t.target=tu(t.props,s);if(u){const f=u._lpa||u.firstChild;if(t.shapeFlag&16)if(Tr(t.props))t.anchor=c(a(e),t,l(e),o,i,n,r),t.targetAnchor=f;else{t.anchor=a(e);let p=f;for(;p;)if(p=a(p),p&&p.nodeType===8&&p.data==="teleport anchor"){t.targetAnchor=p,u._lpa=t.targetAnchor&&a(t.targetAnchor);break}c(f,t,u,o,i,n,r)}Nv(t)}return t.anchor&&a(t.anchor)}const dC=lC;function Nv(e){const t=e.ctx;if(t&&t.ut){let o=e.children[0].el;for(;o!==e.targetAnchor;)o.nodeType===1&&o.setAttribute("data-v-owner",t.uid),o=o.nextSibling;t.ut()}}const Me=Symbol(void 0),Ia=Symbol(void 0),mo=Symbol(void 0),sl=Symbol(void 0),Ir=[];let _o=null;function J(e=!1){Ir.push(_o=e?null:[])}function fC(){Ir.pop(),_o=Ir[Ir.length-1]||null}let qr=1;function wp(e){qr+=e}function xv(e){return e.dynamicChildren=qr>0?_o||Ci:null,fC(),qr>0&&_o&&_o.push(e),e}function re(e,t,o,i,n,r){return xv(g(e,t,o,i,n,r,!0))}function We(e,t,o,i,n){return xv(Ie(e,t,o,i,n,!0))}function ua(e){return e?e.__v_isVNode===!0:!1}function Hn(e,t){return e.type===t.type&&e.key===t.key}const Pa="__vInternal",Tv=({key:e})=>e??null,Gs=({ref:e,ref_key:t,ref_for:o})=>e!=null?Tt(e)||Ht(e)||Ye(e)?{i:Ut,r:e,k:t,f:!!o}:e:null;function g(e,t=null,o=null,i=0,n=null,r=e===Me?0:1,a=!1,l=!1){const s={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Tv(t),ref:t&&Gs(t),scopeId:Na,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Ut};return l?(dd(s,o),r&128&&e.normalize(s)):o&&(s.shapeFlag|=Tt(o)?8:16),qr>0&&!a&&_o&&(s.patchFlag>0||r&6)&&s.patchFlag!==32&&_o.push(s),s}const Ie=hC;function hC(e,t=null,o=null,i=0,n=null,r=!1){if((!e||e===V1)&&(e=mo),ua(e)){const l=Cn(e,t,!0);return o&&dd(l,o),qr>0&&!r&&_o&&(l.shapeFlag&6?_o[_o.indexOf(e)]=l:_o.push(l)),l.patchFlag|=-2,l}if(CC(e)&&(e=e.__vccOpts),t){t=pC(t);let{class:l,style:s}=t;l&&!Tt(l)&&(t.class=Ae(l)),gt(s)&&(Qg(s)&&!ze(s)&&(s=Lt({},s)),t.style=qe(s))}const a=Tt(e)?1:D1(e)?128:cC(e)?64:gt(e)?4:Ye(e)?2:0;return g(e,t,o,i,n,a,r,!0)}function pC(e){return e?Qg(e)||Pa in e?Lt({},e):e:null}function Cn(e,t,o=!1){const{props:i,ref:n,patchFlag:r,children:a}=e,l=t?mC(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Tv(l),ref:t&&t.ref?o&&n?ze(n)?n.concat(Gs(t)):[n,Gs(t)]:Gs(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Me?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Cn(e.ssContent),ssFallback:e.ssFallback&&Cn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function dt(e=" ",t=0){return Ie(Ia,null,e,t)}function Te(e="",t=!1){return t?(J(),We(mo,null,e)):Ie(mo,null,e)}function Ro(e){return e==null||typeof e=="boolean"?Ie(mo):ze(e)?Ie(Me,null,e.slice()):typeof e=="object"?gn(e):Ie(Ia,null,String(e))}function gn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Cn(e)}function dd(e,t){let o=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(ze(t))o=16;else if(typeof t=="object")if(i&65){const n=t.default;n&&(n._c&&(n._d=!1),dd(e,n()),n._c&&(n._d=!0));return}else{o=32;const n=t._;!n&&!(Pa in t)?t._ctx=Ut:n===3&&Ut&&(Ut.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ye(t)?(t={default:t,_ctx:Ut},o=32):(t=String(t),i&64?(o=16,t=[dt(t)]):o=8);e.children=t,e.shapeFlag|=o}function mC(...e){const t={};for(let o=0;o<e.length;o++){const i=e[o];for(const n in i)if(n==="class")t.class!==i.class&&(t.class=Ae([t.class,i.class]));else if(n==="style")t.style=qe([t.style,i.style]);else if(wa(n)){const r=t[n],a=i[n];a&&r!==a&&!(ze(r)&&r.includes(a))&&(t[n]=r?[].concat(r,a):a)}else n!==""&&(t[n]=i[n])}return t}function ko(e,t,o,i=null){po(e,t,7,[o,i])}const gC=Sv();let vC=0;function yC(e,t,o){const i=e.type,n=(t?t.appContext:e.appContext)||gC,r={uid:vC++,vnode:e,type:i,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new U_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ev(i,n),emitsOptions:iv(i,n),emit:null,emitted:null,propsDefaults:yt,inheritAttrs:i.inheritAttrs,ctx:yt,data:yt,props:yt,attrs:yt,slots:yt,refs:yt,setupState:yt,setupContext:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=N1.bind(null,r),e.ce&&e.ce(r),r}let Nt=null;const Iv=()=>Nt||Ut,Ri=e=>{Nt=e,e.scope.on()},Wn=()=>{Nt&&Nt.scope.off(),Nt=null};function Pv(e){return e.vnode.shapeFlag&4}let Hr=!1;function bC(e,t=!1){Hr=t;const{props:o,children:i}=e.vnode,n=Pv(e);Z1(e,o,n,t),tC(e,i);const r=n?wC(e,t):void 0;return Hr=!1,r}function wC(e,t){const o=e.type;e.accessCache=Object.create(null),e.proxy=Gg(new Proxy(e.ctx,Q1));const{setup:i}=o;if(i){const n=e.setupContext=i.length>1?AC(e):null;Ri(e),Hi();const r=An(i,e,0,[e.props,n]);if(Vi(),Wn(),kg(r)){if(r.then(Wn,Wn),t)return r.then(a=>{Ep(e,a,t)}).catch(a=>{Ca(a,e,0)});e.asyncDep=r}else Ep(e,r,t)}else Dv(e,t)}function Ep(e,t,o){Ye(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:gt(t)&&(e.setupState=Yg(t)),Dv(e,o)}let Ap;function Dv(e,t,o){const i=e.type;if(!e.render){if(!t&&Ap&&!i.render){const n=i.template||cd(e).template;if(n){const{isCustomElement:r,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:s}=i,c=Lt(Lt({isCustomElement:r,delimiters:l},a),s);i.render=Ap(n,c)}}e.render=i.render||So}Ri(e),Hi(),G1(e),Vi(),Wn()}function EC(e){return new Proxy(e.attrs,{get(t,o){return Xt(e,"get","$attrs"),t[o]}})}function AC(e){const t=i=>{e.exposed=i||{}};let o;return{get attrs(){return o||(o=EC(e))},slots:e.slots,emit:e.emit,expose:t}}function Da(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Yg(Gg(e.exposed)),{get(t,o){if(o in t)return t[o];if(o in xr)return xr[o](e)},has(t,o){return o in t||o in xr}}))}function _C(e,t=!0){return Ye(e)?e.displayName||e.name:e.name||t&&e.__name}function CC(e){return Ye(e)&&"__vccOpts"in e}const ho=(e,t)=>w1(e,t,Hr);function fd(e,t,o){const i=arguments.length;return i===2?gt(t)&&!ze(t)?ua(t)?Ie(e,null,[t]):Ie(e,t):Ie(e,null,t):(i>3?o=Array.prototype.slice.call(arguments,2):i===3&&ua(o)&&(o=[o]),Ie(e,t,o))}const SC=Symbol(""),NC=()=>Ko(SC),xC="3.2.47",TC="http://www.w3.org/2000/svg",Vn=typeof document<"u"?document:null,_p=Vn&&Vn.createElement("template"),IC={insert:(e,t,o)=>{t.insertBefore(e,o||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,o,i)=>{const n=t?Vn.createElementNS(TC,e):Vn.createElement(e,o?{is:o}:void 0);return e==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:e=>Vn.createTextNode(e),createComment:e=>Vn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Vn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,o,i,n,r){const a=o?o.previousSibling:t.lastChild;if(n&&(n===r||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),o),!(n===r||!(n=n.nextSibling)););else{_p.innerHTML=i?`<svg>${e}</svg>`:e;const l=_p.content;if(i){const s=l.firstChild;for(;s.firstChild;)l.appendChild(s.firstChild);l.removeChild(s)}t.insertBefore(l,o)}return[a?a.nextSibling:t.firstChild,o?o.previousSibling:t.lastChild]}};function PC(e,t,o){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):o?e.setAttribute("class",t):e.className=t}function DC(e,t,o){const i=e.style,n=Tt(o);if(o&&!n){if(t&&!Tt(t))for(const r in t)o[r]==null&&ou(i,r,"");for(const r in o)ou(i,r,o[r])}else{const r=i.display;n?t!==o&&(i.cssText=o):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=r)}}const Cp=/\s*!important$/;function ou(e,t,o){if(ze(o))o.forEach(i=>ou(e,t,i));else if(o==null&&(o=""),t.startsWith("--"))e.setProperty(t,o);else{const i=kC(e,t);Cp.test(o)?e.setProperty(ti(i),o.replace(Cp,""),"important"):e[i]=o}}const Sp=["Webkit","Moz","ms"],al={};function kC(e,t){const o=al[t];if(o)return o;let i=Mo(t);if(i!=="filter"&&i in e)return al[t]=i;i=Aa(i);for(let n=0;n<Sp.length;n++){const r=Sp[n]+i;if(r in e)return al[t]=r}return t}const Np="http://www.w3.org/1999/xlink";function RC(e,t,o,i,n){if(i&&t.startsWith("xlink:"))o==null?e.removeAttributeNS(Np,t.slice(6,t.length)):e.setAttributeNS(Np,t,o);else{const r=I_(t);o==null||r&&!Pg(o)?e.removeAttribute(t):e.setAttribute(t,r?"":o)}}function OC(e,t,o,i,n,r,a){if(t==="innerHTML"||t==="textContent"){i&&a(i,n,r),e[t]=o??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=o;const s=o??"";(e.value!==s||e.tagName==="OPTION")&&(e.value=s),o==null&&e.removeAttribute(t);return}let l=!1;if(o===""||o==null){const s=typeof e[t];s==="boolean"?o=Pg(o):o==null&&s==="string"?(o="",l=!0):s==="number"&&(o=0,l=!0)}try{e[t]=o}catch{}l&&e.removeAttribute(t)}function Qo(e,t,o,i){e.addEventListener(t,o,i)}function FC(e,t,o,i){e.removeEventListener(t,o,i)}function LC(e,t,o,i,n=null){const r=e._vei||(e._vei={}),a=r[t];if(i&&a)a.value=i;else{const[l,s]=MC(t);if(i){const c=r[t]=$C(i,n);Qo(e,l,c,s)}else a&&(FC(e,l,a,s),r[t]=void 0)}}const xp=/(?:Once|Passive|Capture)$/;function MC(e){let t;if(xp.test(e)){t={};let i;for(;i=e.match(xp);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ti(e.slice(2)),t]}let cl=0;const BC=Promise.resolve(),UC=()=>cl||(BC.then(()=>cl=0),cl=Date.now());function $C(e,t){const o=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=o.attached)return;po(jC(i,o.value),t,5,[i])};return o.value=e,o.attached=UC(),o}function jC(e,t){if(ze(t)){const o=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{o.call(e),e._stopped=!0},t.map(i=>n=>!n._stopped&&i&&i(n))}else return t}const Tp=/^on[a-z]/,qC=(e,t,o,i,n=!1,r,a,l,s)=>{t==="class"?PC(e,i,n):t==="style"?DC(e,o,i):wa(t)?Ku(t)||LC(e,t,o,i,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):HC(e,t,i,n))?OC(e,t,i,r,a,l,s):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),RC(e,t,i,n))};function HC(e,t,o,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&Tp.test(t)&&Ye(o)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Tp.test(t)&&Tt(o)?!1:t in e}const dn="transition",lr="animation",ts=(e,{slots:t})=>fd(cv,Rv(e),t);ts.displayName="Transition";const kv={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},VC=ts.props=Lt({},cv.props,kv),Ln=(e,t=[])=>{ze(e)?e.forEach(o=>o(...t)):e&&e(...t)},Ip=e=>e?ze(e)?e.some(t=>t.length>1):e.length>1:!1;function Rv(e){const t={};for(const F in e)F in kv||(t[F]=e[F]);if(e.css===!1)return t;const{name:o="v",type:i,duration:n,enterFromClass:r=`${o}-enter-from`,enterActiveClass:a=`${o}-enter-active`,enterToClass:l=`${o}-enter-to`,appearFromClass:s=r,appearActiveClass:c=a,appearToClass:u=l,leaveFromClass:f=`${o}-leave-from`,leaveActiveClass:p=`${o}-leave-active`,leaveToClass:y=`${o}-leave-to`}=e,v=zC(n),C=v&&v[0],I=v&&v[1],{onBeforeEnter:N,onEnter:_,onEnterCancelled:b,onLeave:w,onLeaveCancelled:T,onBeforeAppear:k=N,onAppear:M=_,onAppearCancelled:H=b}=t,P=(F,Q,E)=>{pn(F,Q?u:l),pn(F,Q?c:a),E&&E()},D=(F,Q)=>{F._isLeaving=!1,pn(F,f),pn(F,y),pn(F,p),Q&&Q()},B=F=>(Q,E)=>{const oe=F?M:_,ie=()=>P(Q,F,E);Ln(oe,[Q,ie]),Pp(()=>{pn(Q,F?s:r),Vo(Q,F?u:l),Ip(oe)||Dp(Q,i,C,ie)})};return Lt(t,{onBeforeEnter(F){Ln(N,[F]),Vo(F,r),Vo(F,a)},onBeforeAppear(F){Ln(k,[F]),Vo(F,s),Vo(F,c)},onEnter:B(!1),onAppear:B(!0),onLeave(F,Q){F._isLeaving=!0;const E=()=>D(F,Q);Vo(F,f),Fv(),Vo(F,p),Pp(()=>{F._isLeaving&&(pn(F,f),Vo(F,y),Ip(w)||Dp(F,i,I,E))}),Ln(w,[F,E])},onEnterCancelled(F){P(F,!1),Ln(b,[F])},onAppearCancelled(F){P(F,!0),Ln(H,[F])},onLeaveCancelled(F){D(F),Ln(T,[F])}})}function zC(e){if(e==null)return null;if(gt(e))return[ll(e.enter),ll(e.leave)];{const t=ll(e);return[t,t]}}function ll(e){return M_(e)}function Vo(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.add(o)),(e._vtc||(e._vtc=new Set)).add(t)}function pn(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const{_vtc:o}=e;o&&(o.delete(t),o.size||(e._vtc=void 0))}function Pp(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let QC=0;function Dp(e,t,o,i){const n=e._endId=++QC,r=()=>{n===e._endId&&i()};if(o)return setTimeout(r,o);const{type:a,timeout:l,propCount:s}=Ov(e,t);if(!a)return i();const c=a+"end";let u=0;const f=()=>{e.removeEventListener(c,p),r()},p=y=>{y.target===e&&++u>=s&&f()};setTimeout(()=>{u<s&&f()},l+1),e.addEventListener(c,p)}function Ov(e,t){const o=window.getComputedStyle(e),i=v=>(o[v]||"").split(", "),n=i(`${dn}Delay`),r=i(`${dn}Duration`),a=kp(n,r),l=i(`${lr}Delay`),s=i(`${lr}Duration`),c=kp(l,s);let u=null,f=0,p=0;t===dn?a>0&&(u=dn,f=a,p=r.length):t===lr?c>0&&(u=lr,f=c,p=s.length):(f=Math.max(a,c),u=f>0?a>c?dn:lr:null,p=u?u===dn?r.length:s.length:0);const y=u===dn&&/\b(transform|all)(,|$)/.test(i(`${dn}Property`).toString());return{type:u,timeout:f,propCount:p,hasTransform:y}}function kp(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((o,i)=>Rp(o)+Rp(e[i])))}function Rp(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Fv(){return document.body.offsetHeight}const Lv=new WeakMap,Mv=new WeakMap,Bv={name:"TransitionGroup",props:Lt({},VC,{tag:String,moveClass:String}),setup(e,{slots:t}){const o=Iv(),i=av();let n,r;return hv(()=>{if(!n.length)return;const a=e.moveClass||`${e.name||"v"}-move`;if(!ZC(n[0].el,o.vnode.el,a))return;n.forEach(KC),n.forEach(JC);const l=n.filter(YC);Fv(),l.forEach(s=>{const c=s.el,u=c.style;Vo(c,a),u.transform=u.webkitTransform=u.transitionDuration="";const f=c._moveCb=p=>{p&&p.target!==c||(!p||/transform$/.test(p.propertyName))&&(c.removeEventListener("transitionend",f),c._moveCb=null,pn(c,a))};c.addEventListener("transitionend",f)})}),()=>{const a=st(e),l=Rv(a);let s=a.tag||Me;n=r,r=t.default?ad(t.default()):[];for(let c=0;c<r.length;c++){const u=r[c];u.key!=null&&jr(u,$r(u,l,i,o))}if(n)for(let c=0;c<n.length;c++){const u=n[c];jr(u,$r(u,l,i,o)),Lv.set(u,u.el.getBoundingClientRect())}return Ie(s,null,r)}}},GC=e=>delete e.mode;Bv.props;const WC=Bv;function KC(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function JC(e){Mv.set(e,e.el.getBoundingClientRect())}function YC(e){const t=Lv.get(e),o=Mv.get(e),i=t.left-o.left,n=t.top-o.top;if(i||n){const r=e.el.style;return r.transform=r.webkitTransform=`translate(${i}px,${n}px)`,r.transitionDuration="0s",e}}function ZC(e,t,o){const i=e.cloneNode();e._vtc&&e._vtc.forEach(a=>{a.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),o.split(/\s+/).forEach(a=>a&&i.classList.add(a)),i.style.display="none";const n=t.nodeType===1?t:t.parentNode;n.appendChild(i);const{hasTransform:r}=Ov(i);return n.removeChild(i),r}const Sn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ze(t)?o=>Vs(t,o):t};function XC(e){e.target.composing=!0}function Op(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ke={created(e,{modifiers:{lazy:t,trim:o,number:i}},n){e._assign=Sn(n);const r=i||n.props&&n.props.type==="number";Qo(e,t?"change":"input",a=>{if(a.target.composing)return;let l=e.value;o&&(l=l.trim()),r&&(l=sa(l)),e._assign(l)}),o&&Qo(e,"change",()=>{e.value=e.value.trim()}),t||(Qo(e,"compositionstart",XC),Qo(e,"compositionend",Op),Qo(e,"change",Op))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:o,trim:i,number:n}},r){if(e._assign=Sn(r),e.composing||document.activeElement===e&&e.type!=="range"&&(o||i&&e.value.trim()===t||(n||e.type==="number")&&sa(e.value)===t))return;const a=t??"";e.value!==a&&(e.value=a)}},Un={deep:!0,created(e,t,o){e._assign=Sn(o),Qo(e,"change",()=>{const i=e._modelValue,n=Oi(e),r=e.checked,a=e._assign;if(ze(i)){const l=Wu(i,n),s=l!==-1;if(r&&!s)a(i.concat(n));else if(!r&&s){const c=[...i];c.splice(l,1),a(c)}}else if(qi(i)){const l=new Set(i);r?l.add(n):l.delete(n),a(l)}else a(Uv(e,r))})},mounted:Fp,beforeUpdate(e,t,o){e._assign=Sn(o),Fp(e,t,o)}};function Fp(e,{value:t,oldValue:o},i){e._modelValue=t,ze(t)?e.checked=Wu(t,i.props.value)>-1:qi(t)?e.checked=t.has(i.props.value):t!==o&&(e.checked=Jn(t,Uv(e,!0)))}const wi={created(e,{value:t},o){e.checked=Jn(t,o.props.value),e._assign=Sn(o),Qo(e,"change",()=>{e._assign(Oi(e))})},beforeUpdate(e,{value:t,oldValue:o},i){e._assign=Sn(i),t!==o&&(e.checked=Jn(t,i.props.value))}},ka={deep:!0,created(e,{value:t,modifiers:{number:o}},i){const n=qi(t);Qo(e,"change",()=>{const r=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>o?sa(Oi(a)):Oi(a));e._assign(e.multiple?n?new Set(r):r:r[0])}),e._assign=Sn(i)},mounted(e,{value:t}){Lp(e,t)},beforeUpdate(e,t,o){e._assign=Sn(o)},updated(e,{value:t}){Lp(e,t)}};function Lp(e,t){const o=e.multiple;if(!(o&&!ze(t)&&!qi(t))){for(let i=0,n=e.options.length;i<n;i++){const r=e.options[i],a=Oi(r);if(o)ze(t)?r.selected=Wu(t,a)>-1:r.selected=t.has(a);else if(Jn(Oi(r),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!o&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Oi(e){return"_value"in e?e._value:e.value}function Uv(e,t){const o=t?"_trueValue":"_falseValue";return o in e?e[o]:t}const eS=["ctrl","shift","alt","meta"],tS={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>eS.some(o=>e[`${o}Key`]&&!t.includes(o))},De=(e,t)=>(o,...i)=>{for(let n=0;n<t.length;n++){const r=tS[t[n]];if(r&&r(o,t))return}return e(o,...i)},oS={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},xt=(e,t)=>o=>{if(!("key"in o))return;const i=ti(o.key);if(t.some(n=>n===i||oS[n]===i))return e(o)},Z={beforeMount(e,{value:t},{transition:o}){e._vod=e.style.display==="none"?"":e.style.display,o&&t?o.beforeEnter(e):ur(e,t)},mounted(e,{value:t},{transition:o}){o&&t&&o.enter(e)},updated(e,{value:t,oldValue:o},{transition:i}){!t!=!o&&(i?t?(i.beforeEnter(e),ur(e,!0),i.enter(e)):i.leave(e,()=>{ur(e,!1)}):ur(e,t))},beforeUnmount(e,{value:t}){ur(e,t)}};function ur(e,t){e.style.display=t?e._vod:"none"}const nS=Lt({patchProp:qC},IC);let Mp;function iS(){return Mp||(Mp=rC(nS))}const rS=(...e)=>{const t=iS().createApp(...e),{mount:o}=t;return t.mount=i=>{const n=sS(i);if(!n)return;const r=t._component;!Ye(r)&&!r.render&&!r.template&&(r.template=n.innerHTML),n.innerHTML="";const a=o(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),a},t};function sS(e){return Tt(e)?document.querySelector(e):e}var nu=function(e,t){return nu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,i){o.__proto__=i}||function(o,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])},nu(e,t)};function ao(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");nu(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}var ye=function(){return ye=Object.assign||function(t){for(var o,i=1,n=arguments.length;i<n;i++){o=arguments[i];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t},ye.apply(this,arguments)};function Yn(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(o[i[n]]=e[i[n]]);return o}function vn(e,t,o,i){function n(r){return r instanceof o?r:new o(function(a){a(r)})}return new(o||(o=Promise))(function(r,a){function l(u){try{c(i.next(u))}catch(f){a(f)}}function s(u){try{c(i.throw(u))}catch(f){a(f)}}function c(u){u.done?r(u.value):n(u.value).then(l,s)}c((i=i.apply(e,t||[])).next())})}function yn(e,t){var o={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,n,r,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(u){return s([c,u])}}function s(c){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(o=0)),o;)try{if(i=1,n&&(r=c[0]&2?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[c[0]&2,r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(r=o.trys,!(r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){o=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(c[0]===6&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(u){c=[6,u],n=0}finally{i=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function da(e,t,o){if(o||arguments.length===2)for(var i=0,n=t.length,r;i<n;i++)(r||!(i in t))&&(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function Ws(e,t){if(!!!e)throw new Error(t)}function aS(e){return typeof e=="object"&&e!==null}function cS(e,t){if(!!!e)throw new Error(t??"Unexpected invariant triggered.")}const lS=/\r\n|[\n\r]/g;function iu(e,t){let o=0,i=1;for(const n of e.body.matchAll(lS)){if(typeof n.index=="number"||cS(!1),n.index>=t)break;o=n.index+n[0].length,i+=1}return{line:i,column:t+1-o}}function uS(e){return $v(e.source,iu(e.source,e.start))}function $v(e,t){const o=e.locationOffset.column-1,i="".padStart(o)+e.body,n=t.line-1,r=e.locationOffset.line-1,a=t.line+r,l=t.line===1?o:0,s=t.column+l,c=`${e.name}:${a}:${s}
`,u=i.split(/\r\n|[\n\r]/g),f=u[n];if(f.length>120){const p=Math.floor(s/80),y=s%80,v=[];for(let C=0;C<f.length;C+=80)v.push(f.slice(C,C+80));return c+Bp([[`${a} |`,v[0]],...v.slice(1,p+1).map(C=>["|",C]),["|","^".padStart(y)],["|",v[p+1]]])}return c+Bp([[`${a-1} |`,u[n-1]],[`${a} |`,f],["|","^".padStart(s)],[`${a+1} |`,u[n+1]]])}function Bp(e){const t=e.filter(([i,n])=>n!==void 0),o=Math.max(...t.map(([i])=>i.length));return t.map(([i,n])=>i.padStart(o)+(n?" "+n:"")).join(`
`)}function dS(e){const t=e[0];return t==null||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}class hd extends Error{constructor(t,...o){var i,n,r;const{nodes:a,source:l,positions:s,path:c,originalError:u,extensions:f}=dS(o);super(t),this.name="GraphQLError",this.path=c??void 0,this.originalError=u??void 0,this.nodes=Up(Array.isArray(a)?a:a?[a]:void 0);const p=Up((i=this.nodes)===null||i===void 0?void 0:i.map(v=>v.loc).filter(v=>v!=null));this.source=l??(p==null||(n=p[0])===null||n===void 0?void 0:n.source),this.positions=s??(p==null?void 0:p.map(v=>v.start)),this.locations=s&&l?s.map(v=>iu(l,v)):p==null?void 0:p.map(v=>iu(v.source,v.start));const y=aS(u==null?void 0:u.extensions)?u==null?void 0:u.extensions:void 0;this.extensions=(r=f??y)!==null&&r!==void 0?r:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),u!=null&&u.stack?Object.defineProperty(this,"stack",{value:u.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,hd):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let t=this.message;if(this.nodes)for(const o of this.nodes)o.loc&&(t+=`

`+uS(o.loc));else if(this.source&&this.locations)for(const o of this.locations)t+=`

`+$v(this.source,o);return t}toJSON(){const t={message:this.message};return this.locations!=null&&(t.locations=this.locations),this.path!=null&&(t.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(t.extensions=this.extensions),t}}function Up(e){return e===void 0||e.length===0?void 0:e}function Ft(e,t,o){return new hd(`Syntax Error: ${o}`,{source:e,positions:[t]})}class fS{constructor(t,o,i){this.start=t.start,this.end=o.end,this.startToken=t,this.endToken=o,this.source=i}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class jv{constructor(t,o,i,n,r,a){this.kind=t,this.start=o,this.end=i,this.line=n,this.column=r,this.value=a,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const qv={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},hS=new Set(Object.keys(qv));function $p(e){const t=e==null?void 0:e.kind;return typeof t=="string"&&hS.has(t)}var Ei;(function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"})(Ei||(Ei={}));var ru;(function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(ru||(ru={}));var Ue;(function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(Ue||(Ue={}));function su(e){return e===9||e===32}function Vr(e){return e>=48&&e<=57}function Hv(e){return e>=97&&e<=122||e>=65&&e<=90}function Vv(e){return Hv(e)||e===95}function pS(e){return Hv(e)||Vr(e)||e===95}function mS(e){var t;let o=Number.MAX_SAFE_INTEGER,i=null,n=-1;for(let a=0;a<e.length;++a){var r;const l=e[a],s=gS(l);s!==l.length&&(i=(r=i)!==null&&r!==void 0?r:a,n=a,a!==0&&s<o&&(o=s))}return e.map((a,l)=>l===0?a:a.slice(o)).slice((t=i)!==null&&t!==void 0?t:0,n+1)}function gS(e){let t=0;for(;t<e.length&&su(e.charCodeAt(t));)++t;return t}function vS(e,t){const o=e.replace(/"""/g,'\\"""'),i=o.split(/\r\n|[\n\r]/g),n=i.length===1,r=i.length>1&&i.slice(1).every(y=>y.length===0||su(y.charCodeAt(0))),a=o.endsWith('\\"""'),l=e.endsWith('"')&&!a,s=e.endsWith("\\"),c=l||s,u=!(t!=null&&t.minimize)&&(!n||e.length>70||c||r||a);let f="";const p=n&&su(e.charCodeAt(0));return(u&&!p||r)&&(f+=`
`),f+=o,(u||c)&&(f+=`
`),'"""'+f+'"""'}var xe;(function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"})(xe||(xe={}));class yS{constructor(t){const o=new jv(xe.SOF,0,0,0,0);this.source=t,this.lastToken=o,this.token=o,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let t=this.token;if(t.kind!==xe.EOF)do if(t.next)t=t.next;else{const o=wS(this,t.end);t.next=o,o.prev=t,t=o}while(t.kind===xe.COMMENT);return t}}function bS(e){return e===xe.BANG||e===xe.DOLLAR||e===xe.AMP||e===xe.PAREN_L||e===xe.PAREN_R||e===xe.SPREAD||e===xe.COLON||e===xe.EQUALS||e===xe.AT||e===xe.BRACKET_L||e===xe.BRACKET_R||e===xe.BRACE_L||e===xe.PIPE||e===xe.BRACE_R}function zi(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function Ra(e,t){return zv(e.charCodeAt(t))&&Qv(e.charCodeAt(t+1))}function zv(e){return e>=55296&&e<=56319}function Qv(e){return e>=56320&&e<=57343}function Zn(e,t){const o=e.source.body.codePointAt(t);if(o===void 0)return xe.EOF;if(o>=32&&o<=126){const i=String.fromCodePoint(o);return i==='"'?`'"'`:`"${i}"`}return"U+"+o.toString(16).toUpperCase().padStart(4,"0")}function Pt(e,t,o,i,n){const r=e.line,a=1+o-e.lineStart;return new jv(t,o,i,r,a,n)}function wS(e,t){const o=e.source.body,i=o.length;let n=t;for(;n<i;){const r=o.charCodeAt(n);switch(r){case 65279:case 9:case 32:case 44:++n;continue;case 10:++n,++e.line,e.lineStart=n;continue;case 13:o.charCodeAt(n+1)===10?n+=2:++n,++e.line,e.lineStart=n;continue;case 35:return ES(e,n);case 33:return Pt(e,xe.BANG,n,n+1);case 36:return Pt(e,xe.DOLLAR,n,n+1);case 38:return Pt(e,xe.AMP,n,n+1);case 40:return Pt(e,xe.PAREN_L,n,n+1);case 41:return Pt(e,xe.PAREN_R,n,n+1);case 46:if(o.charCodeAt(n+1)===46&&o.charCodeAt(n+2)===46)return Pt(e,xe.SPREAD,n,n+3);break;case 58:return Pt(e,xe.COLON,n,n+1);case 61:return Pt(e,xe.EQUALS,n,n+1);case 64:return Pt(e,xe.AT,n,n+1);case 91:return Pt(e,xe.BRACKET_L,n,n+1);case 93:return Pt(e,xe.BRACKET_R,n,n+1);case 123:return Pt(e,xe.BRACE_L,n,n+1);case 124:return Pt(e,xe.PIPE,n,n+1);case 125:return Pt(e,xe.BRACE_R,n,n+1);case 34:return o.charCodeAt(n+1)===34&&o.charCodeAt(n+2)===34?xS(e,n):_S(e,n)}if(Vr(r)||r===45)return AS(e,n,r);if(Vv(r))return TS(e,n);throw Ft(e.source,n,r===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:zi(r)||Ra(o,n)?`Unexpected character: ${Zn(e,n)}.`:`Invalid character: ${Zn(e,n)}.`)}return Pt(e,xe.EOF,i,i)}function ES(e,t){const o=e.source.body,i=o.length;let n=t+1;for(;n<i;){const r=o.charCodeAt(n);if(r===10||r===13)break;if(zi(r))++n;else if(Ra(o,n))n+=2;else break}return Pt(e,xe.COMMENT,t,n,o.slice(t+1,n))}function AS(e,t,o){const i=e.source.body;let n=t,r=o,a=!1;if(r===45&&(r=i.charCodeAt(++n)),r===48){if(r=i.charCodeAt(++n),Vr(r))throw Ft(e.source,n,`Invalid number, unexpected digit after 0: ${Zn(e,n)}.`)}else n=ul(e,n,r),r=i.charCodeAt(n);if(r===46&&(a=!0,r=i.charCodeAt(++n),n=ul(e,n,r),r=i.charCodeAt(n)),(r===69||r===101)&&(a=!0,r=i.charCodeAt(++n),(r===43||r===45)&&(r=i.charCodeAt(++n)),n=ul(e,n,r),r=i.charCodeAt(n)),r===46||Vv(r))throw Ft(e.source,n,`Invalid number, expected digit but got: ${Zn(e,n)}.`);return Pt(e,a?xe.FLOAT:xe.INT,t,n,i.slice(t,n))}function ul(e,t,o){if(!Vr(o))throw Ft(e.source,t,`Invalid number, expected digit but got: ${Zn(e,t)}.`);const i=e.source.body;let n=t+1;for(;Vr(i.charCodeAt(n));)++n;return n}function _S(e,t){const o=e.source.body,i=o.length;let n=t+1,r=n,a="";for(;n<i;){const l=o.charCodeAt(n);if(l===34)return a+=o.slice(r,n),Pt(e,xe.STRING,t,n+1,a);if(l===92){a+=o.slice(r,n);const s=o.charCodeAt(n+1)===117?o.charCodeAt(n+2)===123?CS(e,n):SS(e,n):NS(e,n);a+=s.value,n+=s.size,r=n;continue}if(l===10||l===13)break;if(zi(l))++n;else if(Ra(o,n))n+=2;else throw Ft(e.source,n,`Invalid character within String: ${Zn(e,n)}.`)}throw Ft(e.source,n,"Unterminated string.")}function CS(e,t){const o=e.source.body;let i=0,n=3;for(;n<12;){const r=o.charCodeAt(t+n++);if(r===125){if(n<5||!zi(i))break;return{value:String.fromCodePoint(i),size:n}}if(i=i<<4|Cr(r),i<0)break}throw Ft(e.source,t,`Invalid Unicode escape sequence: "${o.slice(t,t+n)}".`)}function SS(e,t){const o=e.source.body,i=jp(o,t+2);if(zi(i))return{value:String.fromCodePoint(i),size:6};if(zv(i)&&o.charCodeAt(t+6)===92&&o.charCodeAt(t+7)===117){const n=jp(o,t+8);if(Qv(n))return{value:String.fromCodePoint(i,n),size:12}}throw Ft(e.source,t,`Invalid Unicode escape sequence: "${o.slice(t,t+6)}".`)}function jp(e,t){return Cr(e.charCodeAt(t))<<12|Cr(e.charCodeAt(t+1))<<8|Cr(e.charCodeAt(t+2))<<4|Cr(e.charCodeAt(t+3))}function Cr(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function NS(e,t){const o=e.source.body;switch(o.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw Ft(e.source,t,`Invalid character escape sequence: "${o.slice(t,t+2)}".`)}function xS(e,t){const o=e.source.body,i=o.length;let n=e.lineStart,r=t+3,a=r,l="";const s=[];for(;r<i;){const c=o.charCodeAt(r);if(c===34&&o.charCodeAt(r+1)===34&&o.charCodeAt(r+2)===34){l+=o.slice(a,r),s.push(l);const u=Pt(e,xe.BLOCK_STRING,t,r+3,mS(s).join(`
`));return e.line+=s.length-1,e.lineStart=n,u}if(c===92&&o.charCodeAt(r+1)===34&&o.charCodeAt(r+2)===34&&o.charCodeAt(r+3)===34){l+=o.slice(a,r),a=r+1,r+=4;continue}if(c===10||c===13){l+=o.slice(a,r),s.push(l),c===13&&o.charCodeAt(r+1)===10?r+=2:++r,l="",a=r,n=r;continue}if(zi(c))++r;else if(Ra(o,r))r+=2;else throw Ft(e.source,r,`Invalid character within String: ${Zn(e,r)}.`)}throw Ft(e.source,r,"Unterminated string.")}function TS(e,t){const o=e.source.body,i=o.length;let n=t+1;for(;n<i;){const r=o.charCodeAt(n);if(pS(r))++n;else break}return Pt(e,xe.NAME,t,n,o.slice(t,n))}const IS=10,Gv=2;function Wv(e){return Oa(e,[])}function Oa(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return PS(e,t);default:return String(e)}}function PS(e,t){if(e===null)return"null";if(t.includes(e))return"[Circular]";const o=[...t,e];if(DS(e)){const i=e.toJSON();if(i!==e)return typeof i=="string"?i:Oa(i,o)}else if(Array.isArray(e))return RS(e,o);return kS(e,o)}function DS(e){return typeof e.toJSON=="function"}function kS(e,t){const o=Object.entries(e);return o.length===0?"{}":t.length>Gv?"["+OS(e)+"]":"{ "+o.map(([n,r])=>n+": "+Oa(r,t)).join(", ")+" }"}function RS(e,t){if(e.length===0)return"[]";if(t.length>Gv)return"[Array]";const o=Math.min(IS,e.length),i=e.length-o,n=[];for(let r=0;r<o;++r)n.push(Oa(e[r],t));return i===1?n.push("... 1 more item"):i>1&&n.push(`... ${i} more items`),"["+n.join(", ")+"]"}function OS(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){const o=e.constructor.name;if(typeof o=="string"&&o!=="")return o}return t}const FS=function(t,o){return t instanceof o};class pd{constructor(t,o="GraphQL request",i={line:1,column:1}){typeof t=="string"||Ws(!1,`Body must be a string. Received: ${Wv(t)}.`),this.body=t,this.name=o,this.locationOffset=i,this.locationOffset.line>0||Ws(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Ws(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function LS(e){return FS(e,pd)}function MS(e,t){return new BS(e,t).parseDocument()}class BS{constructor(t,o={}){const i=LS(t)?t:new pd(t);this._lexer=new yS(i),this._options=o,this._tokenCounter=0}parseName(){const t=this.expectToken(xe.NAME);return this.node(t,{kind:Ue.NAME,value:t.value})}parseDocument(){return this.node(this._lexer.token,{kind:Ue.DOCUMENT,definitions:this.many(xe.SOF,this.parseDefinition,xe.EOF)})}parseDefinition(){if(this.peek(xe.BRACE_L))return this.parseOperationDefinition();const t=this.peekDescription(),o=t?this._lexer.lookahead():this._lexer.token;if(o.kind===xe.NAME){switch(o.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(t)throw Ft(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(o.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(o)}parseOperationDefinition(){const t=this._lexer.token;if(this.peek(xe.BRACE_L))return this.node(t,{kind:Ue.OPERATION_DEFINITION,operation:Ei.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const o=this.parseOperationType();let i;return this.peek(xe.NAME)&&(i=this.parseName()),this.node(t,{kind:Ue.OPERATION_DEFINITION,operation:o,name:i,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const t=this.expectToken(xe.NAME);switch(t.value){case"query":return Ei.QUERY;case"mutation":return Ei.MUTATION;case"subscription":return Ei.SUBSCRIPTION}throw this.unexpected(t)}parseVariableDefinitions(){return this.optionalMany(xe.PAREN_L,this.parseVariableDefinition,xe.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:Ue.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(xe.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(xe.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const t=this._lexer.token;return this.expectToken(xe.DOLLAR),this.node(t,{kind:Ue.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:Ue.SELECTION_SET,selections:this.many(xe.BRACE_L,this.parseSelection,xe.BRACE_R)})}parseSelection(){return this.peek(xe.SPREAD)?this.parseFragment():this.parseField()}parseField(){const t=this._lexer.token,o=this.parseName();let i,n;return this.expectOptionalToken(xe.COLON)?(i=o,n=this.parseName()):n=o,this.node(t,{kind:Ue.FIELD,alias:i,name:n,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(xe.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(t){const o=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(xe.PAREN_L,o,xe.PAREN_R)}parseArgument(t=!1){const o=this._lexer.token,i=this.parseName();return this.expectToken(xe.COLON),this.node(o,{kind:Ue.ARGUMENT,name:i,value:this.parseValueLiteral(t)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const t=this._lexer.token;this.expectToken(xe.SPREAD);const o=this.expectOptionalKeyword("on");return!o&&this.peek(xe.NAME)?this.node(t,{kind:Ue.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(t,{kind:Ue.INLINE_FRAGMENT,typeCondition:o?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const t=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(t,{kind:Ue.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:Ue.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(t){const o=this._lexer.token;switch(o.kind){case xe.BRACKET_L:return this.parseList(t);case xe.BRACE_L:return this.parseObject(t);case xe.INT:return this.advanceLexer(),this.node(o,{kind:Ue.INT,value:o.value});case xe.FLOAT:return this.advanceLexer(),this.node(o,{kind:Ue.FLOAT,value:o.value});case xe.STRING:case xe.BLOCK_STRING:return this.parseStringLiteral();case xe.NAME:switch(this.advanceLexer(),o.value){case"true":return this.node(o,{kind:Ue.BOOLEAN,value:!0});case"false":return this.node(o,{kind:Ue.BOOLEAN,value:!1});case"null":return this.node(o,{kind:Ue.NULL});default:return this.node(o,{kind:Ue.ENUM,value:o.value})}case xe.DOLLAR:if(t)if(this.expectToken(xe.DOLLAR),this._lexer.token.kind===xe.NAME){const i=this._lexer.token.value;throw Ft(this._lexer.source,o.start,`Unexpected variable "$${i}" in constant value.`)}else throw this.unexpected(o);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const t=this._lexer.token;return this.advanceLexer(),this.node(t,{kind:Ue.STRING,value:t.value,block:t.kind===xe.BLOCK_STRING})}parseList(t){const o=()=>this.parseValueLiteral(t);return this.node(this._lexer.token,{kind:Ue.LIST,values:this.any(xe.BRACKET_L,o,xe.BRACKET_R)})}parseObject(t){const o=()=>this.parseObjectField(t);return this.node(this._lexer.token,{kind:Ue.OBJECT,fields:this.any(xe.BRACE_L,o,xe.BRACE_R)})}parseObjectField(t){const o=this._lexer.token,i=this.parseName();return this.expectToken(xe.COLON),this.node(o,{kind:Ue.OBJECT_FIELD,name:i,value:this.parseValueLiteral(t)})}parseDirectives(t){const o=[];for(;this.peek(xe.AT);)o.push(this.parseDirective(t));return o}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(t){const o=this._lexer.token;return this.expectToken(xe.AT),this.node(o,{kind:Ue.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t)})}parseTypeReference(){const t=this._lexer.token;let o;if(this.expectOptionalToken(xe.BRACKET_L)){const i=this.parseTypeReference();this.expectToken(xe.BRACKET_R),o=this.node(t,{kind:Ue.LIST_TYPE,type:i})}else o=this.parseNamedType();return this.expectOptionalToken(xe.BANG)?this.node(t,{kind:Ue.NON_NULL_TYPE,type:o}):o}parseNamedType(){return this.node(this._lexer.token,{kind:Ue.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(xe.STRING)||this.peek(xe.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("schema");const i=this.parseConstDirectives(),n=this.many(xe.BRACE_L,this.parseOperationTypeDefinition,xe.BRACE_R);return this.node(t,{kind:Ue.SCHEMA_DEFINITION,description:o,directives:i,operationTypes:n})}parseOperationTypeDefinition(){const t=this._lexer.token,o=this.parseOperationType();this.expectToken(xe.COLON);const i=this.parseNamedType();return this.node(t,{kind:Ue.OPERATION_TYPE_DEFINITION,operation:o,type:i})}parseScalarTypeDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("scalar");const i=this.parseName(),n=this.parseConstDirectives();return this.node(t,{kind:Ue.SCALAR_TYPE_DEFINITION,description:o,name:i,directives:n})}parseObjectTypeDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("type");const i=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),a=this.parseFieldsDefinition();return this.node(t,{kind:Ue.OBJECT_TYPE_DEFINITION,description:o,name:i,interfaces:n,directives:r,fields:a})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(xe.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(xe.BRACE_L,this.parseFieldDefinition,xe.BRACE_R)}parseFieldDefinition(){const t=this._lexer.token,o=this.parseDescription(),i=this.parseName(),n=this.parseArgumentDefs();this.expectToken(xe.COLON);const r=this.parseTypeReference(),a=this.parseConstDirectives();return this.node(t,{kind:Ue.FIELD_DEFINITION,description:o,name:i,arguments:n,type:r,directives:a})}parseArgumentDefs(){return this.optionalMany(xe.PAREN_L,this.parseInputValueDef,xe.PAREN_R)}parseInputValueDef(){const t=this._lexer.token,o=this.parseDescription(),i=this.parseName();this.expectToken(xe.COLON);const n=this.parseTypeReference();let r;this.expectOptionalToken(xe.EQUALS)&&(r=this.parseConstValueLiteral());const a=this.parseConstDirectives();return this.node(t,{kind:Ue.INPUT_VALUE_DEFINITION,description:o,name:i,type:n,defaultValue:r,directives:a})}parseInterfaceTypeDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("interface");const i=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),a=this.parseFieldsDefinition();return this.node(t,{kind:Ue.INTERFACE_TYPE_DEFINITION,description:o,name:i,interfaces:n,directives:r,fields:a})}parseUnionTypeDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("union");const i=this.parseName(),n=this.parseConstDirectives(),r=this.parseUnionMemberTypes();return this.node(t,{kind:Ue.UNION_TYPE_DEFINITION,description:o,name:i,directives:n,types:r})}parseUnionMemberTypes(){return this.expectOptionalToken(xe.EQUALS)?this.delimitedMany(xe.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("enum");const i=this.parseName(),n=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();return this.node(t,{kind:Ue.ENUM_TYPE_DEFINITION,description:o,name:i,directives:n,values:r})}parseEnumValuesDefinition(){return this.optionalMany(xe.BRACE_L,this.parseEnumValueDefinition,xe.BRACE_R)}parseEnumValueDefinition(){const t=this._lexer.token,o=this.parseDescription(),i=this.parseEnumValueName(),n=this.parseConstDirectives();return this.node(t,{kind:Ue.ENUM_VALUE_DEFINITION,description:o,name:i,directives:n})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw Ft(this._lexer.source,this._lexer.token.start,`${Fs(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("input");const i=this.parseName(),n=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();return this.node(t,{kind:Ue.INPUT_OBJECT_TYPE_DEFINITION,description:o,name:i,directives:n,fields:r})}parseInputFieldsDefinition(){return this.optionalMany(xe.BRACE_L,this.parseInputValueDef,xe.BRACE_R)}parseTypeSystemExtension(){const t=this._lexer.lookahead();if(t.kind===xe.NAME)switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(t)}parseSchemaExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const o=this.parseConstDirectives(),i=this.optionalMany(xe.BRACE_L,this.parseOperationTypeDefinition,xe.BRACE_R);if(o.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:Ue.SCHEMA_EXTENSION,directives:o,operationTypes:i})}parseScalarTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const o=this.parseName(),i=this.parseConstDirectives();if(i.length===0)throw this.unexpected();return this.node(t,{kind:Ue.SCALAR_TYPE_EXTENSION,name:o,directives:i})}parseObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const o=this.parseName(),i=this.parseImplementsInterfaces(),n=this.parseConstDirectives(),r=this.parseFieldsDefinition();if(i.length===0&&n.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:Ue.OBJECT_TYPE_EXTENSION,name:o,interfaces:i,directives:n,fields:r})}parseInterfaceTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const o=this.parseName(),i=this.parseImplementsInterfaces(),n=this.parseConstDirectives(),r=this.parseFieldsDefinition();if(i.length===0&&n.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:Ue.INTERFACE_TYPE_EXTENSION,name:o,interfaces:i,directives:n,fields:r})}parseUnionTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const o=this.parseName(),i=this.parseConstDirectives(),n=this.parseUnionMemberTypes();if(i.length===0&&n.length===0)throw this.unexpected();return this.node(t,{kind:Ue.UNION_TYPE_EXTENSION,name:o,directives:i,types:n})}parseEnumTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const o=this.parseName(),i=this.parseConstDirectives(),n=this.parseEnumValuesDefinition();if(i.length===0&&n.length===0)throw this.unexpected();return this.node(t,{kind:Ue.ENUM_TYPE_EXTENSION,name:o,directives:i,values:n})}parseInputObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const o=this.parseName(),i=this.parseConstDirectives(),n=this.parseInputFieldsDefinition();if(i.length===0&&n.length===0)throw this.unexpected();return this.node(t,{kind:Ue.INPUT_OBJECT_TYPE_EXTENSION,name:o,directives:i,fields:n})}parseDirectiveDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("directive"),this.expectToken(xe.AT);const i=this.parseName(),n=this.parseArgumentDefs(),r=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const a=this.parseDirectiveLocations();return this.node(t,{kind:Ue.DIRECTIVE_DEFINITION,description:o,name:i,arguments:n,repeatable:r,locations:a})}parseDirectiveLocations(){return this.delimitedMany(xe.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const t=this._lexer.token,o=this.parseName();if(Object.prototype.hasOwnProperty.call(ru,o.value))return o;throw this.unexpected(t)}node(t,o){return this._options.noLocation!==!0&&(o.loc=new fS(t,this._lexer.lastToken,this._lexer.source)),o}peek(t){return this._lexer.token.kind===t}expectToken(t){const o=this._lexer.token;if(o.kind===t)return this.advanceLexer(),o;throw Ft(this._lexer.source,o.start,`Expected ${Kv(t)}, found ${Fs(o)}.`)}expectOptionalToken(t){return this._lexer.token.kind===t?(this.advanceLexer(),!0):!1}expectKeyword(t){const o=this._lexer.token;if(o.kind===xe.NAME&&o.value===t)this.advanceLexer();else throw Ft(this._lexer.source,o.start,`Expected "${t}", found ${Fs(o)}.`)}expectOptionalKeyword(t){const o=this._lexer.token;return o.kind===xe.NAME&&o.value===t?(this.advanceLexer(),!0):!1}unexpected(t){const o=t??this._lexer.token;return Ft(this._lexer.source,o.start,`Unexpected ${Fs(o)}.`)}any(t,o,i){this.expectToken(t);const n=[];for(;!this.expectOptionalToken(i);)n.push(o.call(this));return n}optionalMany(t,o,i){if(this.expectOptionalToken(t)){const n=[];do n.push(o.call(this));while(!this.expectOptionalToken(i));return n}return[]}many(t,o,i){this.expectToken(t);const n=[];do n.push(o.call(this));while(!this.expectOptionalToken(i));return n}delimitedMany(t,o){this.expectOptionalToken(t);const i=[];do i.push(o.call(this));while(this.expectOptionalToken(t));return i}advanceLexer(){const{maxTokens:t}=this._options,o=this._lexer.advance();if(t!==void 0&&o.kind!==xe.EOF&&(++this._tokenCounter,this._tokenCounter>t))throw Ft(this._lexer.source,o.start,`Document contains more that ${t} tokens. Parsing aborted.`)}}function Fs(e){const t=e.value;return Kv(e.kind)+(t!=null?` "${t}"`:"")}function Kv(e){return bS(e)?`"${e}"`:e}function US(e){return`"${e.replace($S,jS)}"`}const $S=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function jS(e){return qS[e.charCodeAt(0)]}const qS=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],md=Object.freeze({});function Zo(e,t,o=qv){const i=new Map;for(const N of Object.values(Ue))i.set(N,HS(t,N));let n,r=Array.isArray(e),a=[e],l=-1,s=[],c=e,u,f;const p=[],y=[];do{l++;const N=l===a.length,_=N&&s.length!==0;if(N){if(u=y.length===0?void 0:p[p.length-1],c=f,f=y.pop(),_)if(r){c=c.slice();let w=0;for(const[T,k]of s){const M=T-w;k===null?(c.splice(M,1),w++):c[M]=k}}else{c=Object.defineProperties({},Object.getOwnPropertyDescriptors(c));for(const[w,T]of s)c[w]=T}l=n.index,a=n.keys,s=n.edits,r=n.inArray,n=n.prev}else if(f){if(u=r?l:a[l],c=f[u],c==null)continue;p.push(u)}let b;if(!Array.isArray(c)){var v,C;$p(c)||Ws(!1,`Invalid AST Node: ${Wv(c)}.`);const w=N?(v=i.get(c.kind))===null||v===void 0?void 0:v.leave:(C=i.get(c.kind))===null||C===void 0?void 0:C.enter;if(b=w==null?void 0:w.call(t,c,u,f,p,y),b===md)break;if(b===!1){if(!N){p.pop();continue}}else if(b!==void 0&&(s.push([u,b]),!N))if($p(b))c=b;else{p.pop();continue}}if(b===void 0&&_&&s.push([u,c]),N)p.pop();else{var I;n={inArray:r,index:l,keys:a,edits:s,prev:n},r=Array.isArray(c),a=r?c:(I=o[c.kind])!==null&&I!==void 0?I:[],l=-1,s=[],f&&y.push(f),f=c}}while(n!==void 0);return s.length!==0?s[s.length-1][1]:e}function HS(e,t){const o=e[t];return typeof o=="object"?o:typeof o=="function"?{enter:o,leave:void 0}:{enter:e.enter,leave:e.leave}}function Jv(e){return Zo(e,zS)}const VS=80,zS={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>$e(e.definitions,`

`)},OperationDefinition:{leave(e){const t=Xe("(",$e(e.variableDefinitions,", "),")"),o=$e([e.operation,$e([e.name,t]),$e(e.directives," ")]," ");return(o==="query"?"":o+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:o,directives:i})=>e+": "+t+Xe(" = ",o)+Xe(" ",$e(i," "))},SelectionSet:{leave:({selections:e})=>bo(e)},Field:{leave({alias:e,name:t,arguments:o,directives:i,selectionSet:n}){const r=Xe("",e,": ")+t;let a=r+Xe("(",$e(o,", "),")");return a.length>VS&&(a=r+Xe(`(
`,Ks($e(o,`
`)),`
)`)),$e([a,$e(i," "),n]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+Xe(" ",$e(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:o})=>$e(["...",Xe("on ",e),$e(t," "),o]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:o,directives:i,selectionSet:n})=>`fragment ${e}${Xe("(",$e(o,", "),")")} on ${t} ${Xe("",$e(i," ")," ")}`+n},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?vS(e):US(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+$e(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+$e(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+Xe("(",$e(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:o})=>Xe("",e,`
`)+$e(["schema",$e(t," "),bo(o)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:o})=>Xe("",e,`
`)+$e(["scalar",t,$e(o," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:o,directives:i,fields:n})=>Xe("",e,`
`)+$e(["type",t,Xe("implements ",$e(o," & ")),$e(i," "),bo(n)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:o,type:i,directives:n})=>Xe("",e,`
`)+t+(qp(o)?Xe(`(
`,Ks($e(o,`
`)),`
)`):Xe("(",$e(o,", "),")"))+": "+i+Xe(" ",$e(n," "))},InputValueDefinition:{leave:({description:e,name:t,type:o,defaultValue:i,directives:n})=>Xe("",e,`
`)+$e([t+": "+o,Xe("= ",i),$e(n," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:o,directives:i,fields:n})=>Xe("",e,`
`)+$e(["interface",t,Xe("implements ",$e(o," & ")),$e(i," "),bo(n)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:o,types:i})=>Xe("",e,`
`)+$e(["union",t,$e(o," "),Xe("= ",$e(i," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:o,values:i})=>Xe("",e,`
`)+$e(["enum",t,$e(o," "),bo(i)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:o})=>Xe("",e,`
`)+$e([t,$e(o," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:o,fields:i})=>Xe("",e,`
`)+$e(["input",t,$e(o," "),bo(i)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:o,repeatable:i,locations:n})=>Xe("",e,`
`)+"directive @"+t+(qp(o)?Xe(`(
`,Ks($e(o,`
`)),`
)`):Xe("(",$e(o,", "),")"))+(i?" repeatable":"")+" on "+$e(n," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>$e(["extend schema",$e(e," "),bo(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>$e(["extend scalar",e,$e(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:o,fields:i})=>$e(["extend type",e,Xe("implements ",$e(t," & ")),$e(o," "),bo(i)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:o,fields:i})=>$e(["extend interface",e,Xe("implements ",$e(t," & ")),$e(o," "),bo(i)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:o})=>$e(["extend union",e,$e(t," "),Xe("= ",$e(o," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:o})=>$e(["extend enum",e,$e(t," "),bo(o)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:o})=>$e(["extend input",e,$e(t," "),bo(o)]," ")}};function $e(e,t=""){var o;return(o=e==null?void 0:e.filter(i=>i).join(t))!==null&&o!==void 0?o:""}function bo(e){return Xe(`{
`,Ks($e(e,`
`)),`
}`)}function Xe(e,t,o=""){return t!=null&&t!==""?e+t+o:""}function Ks(e){return Xe("  ",e.replace(/\n/g,`
  `))}function qp(e){var t;return(t=e==null?void 0:e.some(o=>o.includes(`
`)))!==null&&t!==void 0?t:!1}function Hp(e){return e.kind===Ue.FIELD||e.kind===Ue.FRAGMENT_SPREAD||e.kind===Ue.INLINE_FRAGMENT}var Js=new Map,au=new Map,Yv=!0,fa=!1;function Zv(e){return e.replace(/[\s,]+/g," ").trim()}function QS(e){return Zv(e.source.body.substring(e.start,e.end))}function GS(e){var t=new Set,o=[];return e.definitions.forEach(function(i){if(i.kind==="FragmentDefinition"){var n=i.name.value,r=QS(i.loc),a=au.get(n);a&&!a.has(r)?Yv&&console.warn("Warning: fragment with name "+n+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):a||au.set(n,a=new Set),a.add(r),t.has(r)||(t.add(r),o.push(i))}else o.push(i)}),ye(ye({},e),{definitions:o})}function WS(e){var t=new Set(e.definitions);t.forEach(function(i){i.loc&&delete i.loc,Object.keys(i).forEach(function(n){var r=i[n];r&&typeof r=="object"&&t.add(r)})});var o=e.loc;return o&&(delete o.startToken,delete o.endToken),e}function KS(e){var t=Zv(e);if(!Js.has(t)){var o=MS(e,{experimentalFragmentVariables:fa,allowLegacyFragmentVariables:fa});if(!o||o.kind!=="Document")throw new Error("Not a valid GraphQL document.");Js.set(t,WS(GS(o)))}return Js.get(t)}function Et(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];typeof e=="string"&&(e=[e]);var i=e[0];return t.forEach(function(n,r){n&&n.kind==="Document"?i+=n.loc.source.body:i+=n,i+=e[r+1]}),KS(i)}function JS(){Js.clear(),au.clear()}function YS(){Yv=!1}function ZS(){fa=!0}function XS(){fa=!1}var dr={gql:Et,resetCaches:JS,disableFragmentWarnings:YS,enableExperimentalFragmentVariables:ZS,disableExperimentalFragmentVariables:XS};(function(e){e.gql=dr.gql,e.resetCaches=dr.resetCaches,e.disableFragmentWarnings=dr.disableFragmentWarnings,e.enableExperimentalFragmentVariables=dr.enableExperimentalFragmentVariables,e.disableExperimentalFragmentVariables=dr.disableExperimentalFragmentVariables})(Et||(Et={}));Et.default=Et;const Se=Et,Qe=(e,t)=>{const o=e.__vccOpts||e;for(const[i,n]of t)o[i]=n;return o},eN={name:"Notificacion",props:{estaNotificacion:{type:Object,default:function(){return{}}}},methods:{visitar(){var e="/";this.estaNotificacion.elementoTarget.tipo=="actividadEstudiantil"?e+="actividad/"+this.estaNotificacion.elementoTarget.id:this.estaNotificacion.elementoTarget.tipo==="nodoAtlasSolidaridad"&&(e+="atlasSolidaridad/"+this.estaNotificacion.elementoTarget.id),this.eliminarse(),this.$router.push(e).catch(t=>{console.log(`Error de navegación: ${t.message.substr(0,28)}`)})},eliminarse(){let e=this.estaNotificacion.id;console.log(`Eliminandose: ${e}`),this.$apollo.mutate({mutation:Se`
          mutation ($idNotificacion: ID!) {
            eliminarNotificacion(idNotificacion: $idNotificacion)
          }
        `,variables:{idNotificacion:e},update:(t,{data:{eliminarNotificacion:o}})=>{if(o){let i=t.readQuery({query:Qr,variables:{idNotificacion:e}}),n=JSON.parse(JSON.stringify(i)),r=n.yo.notificaciones.findIndex(a=>a.id==e);r>-1&&n.yo.notificaciones.splice(r,1),t.writeQuery({query:Qr,variables:{idNotificacion:e},data:n})}}})}},computed:{mensaje:function(){var e="";return this.estaNotificacion.elementoTarget.tipo=="actividadEstudiantil"?this.estaNotificacion.elementoTarget.nombre?e+="Tienes una nueva respuesta en la actividad <span style='color: white' class='textoTarget'>"+this.estaNotificacion.elementoTarget.nombre+"</span>":e+="Tienes una nueva respuesta en una actividad":e=this.estaNotificacion.texto,e},fechaFormateada:function(){let e=new Date(this.estaNotificacion.fecha).toString(),t=e.indexOf("("),o=e.substr(0,t),i=o.indexOf("GMT");return i>-1&&(o=o.substr(0,i)),o}}},tN={id:"info"},oN=["src"],nN=["innerHTML"];function iN(e,t,o,i,n,r){return J(),We(ts,{name:"recogerseArriba"},{default:$t(()=>[g("div",{class:"notificacion",onClick:t[0]||(t[0]=(...a)=>r.visitar&&r.visitar(...a))},[g("div",tN,we(r.fechaFormateada),1),g("img",{src:this.serverUrl+"/api/usuarios/fotografias/"+o.estaNotificacion.causante.id,alt:"",id:"caritaCausante"},null,8,oN),g("div",{id:"texto",innerHTML:r.mensaje},null,8,nN)])]),_:1})}const rN=Qe(eN,[["render",iN],["__scopeId","data-v-294d3aee"]]),Xv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAMAAAAPkIrYAAABEVBMVEUAAAACAgIAAAAAAAABAQE0NDR7e3sBAQEEBAR5eXkeHh4MDAwwMDADAwMGBgYVFRUKCgoPDw8ODg4ICAggICATExMPDw9QUFBZWVkGBgYBAQEJCQkCAgIZGRkLCws2NjZkZGQODg4GBgYGBgYODg4MDAwPDw8SEhIICAgRERENDQ0bGxslJSUREREWFhYbGxsdHR0cHBwvLy9vb28xMTH///8ICAgODg4ICAgGBgYSEhIUFBQYGBgjIyMaGhoEBAQMDAwoKCgoKCgtLS0kJCQ7OzsMDAwDAwMAAAAjIyMPDw8QEBANDQ0HBwcMDAwcHBwKCgohISEtLS0NDQ0HBwc4ODgVFRVAQEBYWFg1NTUAAADjrFRNAAAAWnRSTlMA/qU/eUQdwVcCH78M79mVV9HB42dXPBIF+eLSWVc/Kgvy8u7OubOwpaN6aVhYT0tENzAdHAPq4daxi4B4cF1OSUhCOSMi8cPBr6almZmSdWlkT05OQDAgHRixeboEAAABzElEQVRYw+3WWU/CQBSG4YPiUnAB29KioIgCyg6K+77v+/r9/x8iTVpGI+kMHi686Hs1SZMnnTmTphQUFBTUa2OJ6vPLfjptmpVYu9FvxWLm/kHiU1WyCpAWn1OiThbgFuqW9+xJZX9tavEoQ341821M4c2WgWWSZgAbJMsOYYYUugaOpacF7KlY78AWSXoDGqRSSH4UDUBt3EkUSFICiChZWWwqWKtK1hlyRI9Vv8szC3woWfOYItKB3KmftaJkrTnWOoDQIduadiyrFm1jzX5YTiVAp+4NAsM9WTQJ1PtlZYBtpjWPqLvScce2vLu6jlumlUXeXW3gimklseSuZrDEtICbfllNYKdjDfCsRfENiPMsrQDkqRfrdeh3R/V6rVLUgQWrF2sSPumrpGTJqeS2TWqWR42XDMNIpZyfiFjFNNPpcrlcPagdNk61H2PwszwqQkpdSCxByRvxswTFtzxqd4tveRSSFte6dDdoAPEM0+qcVQ5YK81Ztqa1Wi3tD5agyJ6CT1FNav2Y4H3WF5NYkXA4QiLteO9hp1gM/27CwYTFaqyDCYuPCYuPCYuPCYuPCYuPnQuLjUFYbExYfExY7OxUKkFBQUH/sC/SIJ/NRVDIKwAAAABJRU5ErkJggg==",sN={name:"NotificacionActividadForos",props:{estaNotificacion:{type:Object,default:function(){return{}}}},methods:{visitar(){var e="/";if(e+=this.estaNotificacion.tipoParent+"/"+this.estaNotificacion.idParent,this.estaNotificacion.tipoParent=="libro"){console.log("Es el enlace a un libro");var t=this.tallerCuentosUrl+"?t="+this.usuario.token+"&l="+this.estaNotificacion.idParent;console.log(`Abriendo enlace: ${t}`),window.open(t,"_blank"),this.eliminarse()}else this.eliminarse(),this.$router.push(e).catch(o=>{console.log(`Error de navegación: ${o.message.substr(0,28)}`),o.message.substr(0,28)=="Avoided redundant navigation"&&console.log("Error por navegación")})},eliminarse(){let e=this.estaNotificacion.idParent;console.log(`Eliminandose: ${e}`),this.$apollo.mutate({mutation:Se`
          mutation($idParent: ID!) {
            eliminarNotificacionActividadForos(idParent: $idParent)
          }
        `,variables:{idParent:e},update:(t,{data:{eliminarNotificacionActividadForos:o}})=>{if(o){let i=t.readQuery({query:Qr}),n=JSON.parse(JSON.stringify(i)),r=n.yo.notificacionesActividadForos.findIndex(a=>a.idParent==e);r>-1&&n.yo.notificacionesActividadForos.splice(r,1),t.writeQuery({query:Qr,data:n})}}})}},computed:{mensaje:function(){let e=this.estaNotificacion.tipoParent;e=="nodoConocimiento"&&(e="nodo de conocimiento");var o="Hay nuevas respuestas en los foros del "+("<span style='color:red'>"+e+"</span>")+" "+this.estaNotificacion.nombreParent;return o},tallerCuentosUrl(){return"https://pe-pe-pe.herokuapp.com/tallerCuentos"}}},aN=e=>(ot("data-v-b9c79077"),e=e(),nt(),e),cN=aN(()=>g("img",{src:Xv,alt:"Conversación",id:"iconoConversacion"},null,-1)),lN=["innerHTML"];function uN(e,t,o,i,n,r){return J(),re("div",{class:"notificacionActividadForos",onClick:t[0]||(t[0]=(...a)=>r.visitar&&r.visitar(...a))},[cN,g("div",{id:"texto",innerHTML:r.mensaje},null,8,lN)])}const dN=Qe(sN,[["render",uN],["__scopeId","data-v-b9c79077"]]),xo="/caracol/assets/equis-115f5fad.svg",fN={name:"CuadritoMensajeUsuario",props:{mensajes:Array},data(){return{mostrar:!1,idOcultador:null}},methods:{dismiss(){this.mostrar=!1}},watch:{mensajes(){this.mostrar=!0,this.idOcultador=setTimeout(()=>{this.mostrar=!1},6e3)}}},hN={class:"boton",id:"botonDismiss"},pN={key:0,id:"mensaje"};function mN(e,t,o,i,n,r){return J(),re("div",{class:Ae(["cuadritoMensajeUsuario",{mostrar:n.mostrar}])},[g("div",hN,[g("img",{src:xo,alt:"Equis",style:{},onClick:t[0]||(t[0]=(...a)=>r.dismiss&&r.dismiss(...a))})]),o.mensajes&&o.mensajes.length>0?(J(),re("div",pN,we(o.mensajes[o.mensajes.length-1]),1)):Te("",!0)],2)}const gN=Qe(fN,[["render",mN],["__scopeId","data-v-07b6a5e0"]]);let Fi=window.location.host;Fi.includes("localhost")&&(Fi="localhost:3000");console.log(`Host location: ${Fi}`);let ey="http://",ty="ws://";Fi.includes("heroku")&&(console.log("Protocolo https"),ey="https://",ty="wss://");let oy=ey+Fi,vN=ty+Fi;var yN=new Intl.NumberFormat("en-US",{style:"currency",currency:"COP"});const zr=Se`
  query auth_usuario_local{
    auth_usuario @client{
      id
      username
      permisos
      token
    }
  }
`,bN={apollo:{usuario:{query:zr,fetchPolicy:"cache-only",update({auth_usuario:e}){return e}},estadoRed:{query:Se`
            query{
                estadoRed @client
            }
        `}},data(){return{serverUrl:oy,usuario:null}},computed:{usuarioLogeado(){return this.usuario!=null&&this.usuario.id},usuarioSuperadministrador:function(){var e,t;return(t=(e=this.usuario)==null?void 0:e.permisos)==null?void 0:t.includes("superadministrador")},produccion(){return!0},usuarioProfe:function(){var e;return(e=this.usuario)!=null&&e.permisos?this.usuario.permisos.includes("maestraVida-profesor"):!1}},methods:{selectTargetFocus(e){e.target&&e.target.select()},toReadableTime(e){var t=new Date(e),o=""+t.getHours();o.length===1&&(o="0"+o);var i=""+t.getMinutes();return i.length===1&&(i="0"+i),o+":"+i},toReadableDate(e){var t=new Date(e),o=t.getFullYear();const i=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],n=["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"];var r=i[t.getMonth()],a=t.getDate(),l=n[t.getDay()],s=l+" "+a+" de "+r;return o!=new Date(Date.now()).getFullYear()&&(s="("+o+") "+s),s},toReadableFullDate(e){return this.toReadableDate(e)+" - "+this.toReadableTime(e)},enrichedToReadableDate(e){var t=new Date(e),o=t.getFullYear(),i=t.getMonth(),n=t.getDate(),r=new Date,a=new Date(r.getTime()+864e5),l=new Date(r.getTime()-864e5);return o===r.getFullYear()&&i===r.getMonth()&&n===r.getDate()?"Hoy":o===a.getFullYear()&&i===a.getMonth()&&n===a.getDate()?"Mañana":o===l.getFullYear()&&i===l.getMonth()&&n===l.getDate()?"Ayer":this.toReadableDate(e)},enrichedToReadableFullDate(e){return this.enrichedToReadableDate(e)+" - "+this.toReadableTime(e)},toReadableMoney(e){var t=yN.format(e);return t}}},wN="/caracol/assets/stream-ec9379f8.svg",EN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAsVBMVEUAAAAAAAAAAAABAQEFBQUBAQEDAwMBAQECAgIBAQEAAAAAAAAFBQUAAAAAAAABAQEKCgoREREBAQECAgIBAQEHBwcBAQEBAQEBAQECAgIBAQEHBwceHh4AAAABAQEAAAABAQECAgIBAQEBAQEFBQUEBAQKCgoBAQEBAQEBAQECAgIDAwMCAgIBAQEJCQkNDQ0BAQEGBgYFBQUDAwMBAQEBAQEGBgYICAgAAAAAAAAAAABES1EIAAAAOnRSTlMA7PQwArcHQaM9qPhU/PrIHArDXVgQ1q+dhHIhBe/f28ynjn9jSA3jvrSVemxoJxirTjGZk4k1FTg3rkgIUQAAAZtJREFUSMftlVmPgjAQgEvltBQEuZFDxPu+d+f//7A12UhWbQGf9sXvhclMvobM9EAcemNHs9A79G1iJMHmDUPxcBBKoE7aKwUsRRRLWGltWDMhchx9CGVb47AUABvUICCVvVZCMQXBVsPRYp4Raq7cRqPMIV9eXPEWyrEeJLDTGowRFsIYVQz2Pph6vQGm8zTTM2R1zoraCmMZ+5trjLN0/5oVC/5MrSFErHw8p2uO4hCfvZqObfZ85CFxEKdi9JmFztS88jY2UQfMvFEgDnHqMf8spGXNPj0w0qKKxzxF7GKFnda4ivpRPsq/KLKEv7jKgqxZJwz7/LtUx7PXM3aVEh1xGQSwfElGcBwgPlrqXZ5Smzytv65DOD1lzhCiWjam8HjOlanZ9Jau6NB6aCJdoQbcnfG3P9Zc6HeaWMD6sV+J0ATJtIe+R750R6CzKs4gr2L1eW7yHetI+lWsEr0q1IzNMbqTqpF5q1fc9WEk/74FPkSoFYoNwXg7icvb10UtnTlNPDM1cNFDbdmud55nnvboHeTt1hXZpR+YEyU0uY0rZgAAAABJRU5ErkJggg==",AN=Se`
  query{
    estadoRed
  }
`,Qr=Se`
  query {
    yo {
      id
      nombres
      apellidos
      notificaciones {
        id
        fecha
        texto
        elementoTarget {
          tipo
          id
          nombre
        }
        causante {
          id
          tipo
        }
      }
      notificacionesActividadForos {
        idParent
        tipoParent
        numeroRespuestasNuevas
        nombreParent
      }
      permisos
      foros {
        idForo
        conversaciones {
          idConversacion
          respuestasLeidas
        }
      }
    }
  }
`;function _N(e){var t=e.split(".")[1],o=t.replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(atob(o).split("").map(function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(i)}const CN={name:"App",apollo:{yo:{query:Qr,fetchPolicy:"network-only",skip(){return!this.usuarioLogeado}}},components:{Notificacion:rN,NotificacionActividadForos:dN,CuadritoMensajeUsuario:gN},data(){return{accionesLogeado:!1,mostrandoNotificaciones:!1,yo:{notificaciones:[],notificacionesActividadForos:[]},mostrandoNav:!1,navSeleccionado:"home",errores:[]}},computed:{tallerCuentosUrl(){return"https://192.168.1.100:3000"},username:function(){return this.usuario.username},colorBlancoAccionLogeado:function(){return this.accionesLogeado?{backgroundColor:"white"}:{}},notificacionesOrdenadas:function(){var e=JSON.parse(JSON.stringify(this.yo.notificaciones));return e.sort((t,o)=>new Date(o.fecha)-new Date(t.fecha))}},methods:{setEstadoRed(){console.log(`Detectado estado de red en ${navigator.onLine}`),this.$apollo.provider.defaultClient.writeQuery({query:AN,data:{estadoRed:navigator.onLine}})},logearUsuario(e){console.log("Logeando usuario");let t=_N(e);const o=this.$apollo.provider.defaultClient;let i={id:t.id,username:t.username,permisos:t.permisos,token:e};o.writeQuery({query:zr,data:{auth_usuario:i}}),this.$router.push({name:"perfilPersonal"}),this.setEstadoRed()},async deslogearse(){const e=this.$apollo.provider.defaultClient;e.writeQuery({query:zr,data:{auth_usuario:null}}),console.log("Navegando a loginArea"),await this.$router.push({name:"loginArea"}),console.log("On loginArea"),this.$nextTick(()=>{e.resetStore().then(()=>{console.log("Store reset"),this.setEstadoRed()}).catch(t=>{console.log("Error resetting store: "+t),this.setEstadoRed()})})}},created(){this.setEstadoRed(),window.addEventListener("online",this.setEstadoRed),window.addEventListener("offline",this.setEstadoRed)},destroyed(){window.removeEventListener("online",this.setEstadoRed),window.removeEventListener("offline",this.setEstadoRed)}},To=e=>(ot("data-v-7a8b872c"),e=e(),nt(),e),SN={id:"app"},NN={id:"navBar"},xN=To(()=>g("img",{id:"botonDesplegarNav",src:wN,alt:"Menu"},null,-1)),TN=To(()=>g("div",{id:"logoPepepe"},"Pepepe",-1)),IN=[xN,TN],PN=To(()=>g("div",{class:"botonNavBarra botonNav hoverNegro",id:"navActividadesVirtuales"}," Foros ",-1)),DN={id:"bloqueHerramientas",class:"bloqueBotones"},kN=To(()=>g("div",{class:"botonNavBarra botonNav hoverNegro",id:"navAtlas"}," Herramientas ",-1)),RN={id:"enlacesHijosHerramientas",class:"contenedorHijos"},ON=To(()=>g("div",{class:"botonNavBarra botonNav hoverNegro botonNavHijo",id:"navAtlas"}," Atlas de conocimientos ",-1)),FN=To(()=>g("div",{class:"botonNavBarra botonNav hoverNegro",id:"navActividadesVirtuales"}," Personas ",-1)),LN=To(()=>g("div",{class:"botonNavBarra botonNav hoverNegro",id:"navActividadesVirtuales"}," Horario semanal ",-1)),MN=To(()=>g("div",{class:"botonNavBarra botonNav hoverNegro",id:"navRutaGrado"}," Mi ruta de grado ",-1)),BN=To(()=>g("div",{class:"botonNavBarra botonNav hoverNegro"}," Registrar usuario ",-1)),UN={id:"botonesNavDerecha"},$N={key:0,id:"bloqueNotificaciones"},jN={id:"numeroNotificaciones"},qN=["title"],HN={id:"contenedorNotificaciones"},VN={key:0,id:"botonesLogeado"},zN=To(()=>g("div",{class:"botonesLogeado hoverNegro",id:"Perfil"},"Perfil",-1)),QN=To(()=>g("div",null,"Login",-1));function GN(e,t,o,i,n,r){const a=Re("router-link"),l=Re("notificacion-actividad-foros"),s=Re("notificacion"),c=Re("router-view"),u=Re("cuadrito-mensaje-usuario");return J(),re("div",SN,[g("div",NN,[g("div",{id:"zonaIcono",onClick:t[0]||(t[0]=f=>n.mostrandoNav=!n.mostrandoNav)},IN),g("div",{id:"botonesNavEnlaces",class:Ae({enlacesOcultos:!n.mostrandoNav}),onClick:t[1]||(t[1]=f=>n.mostrandoNav=!1)},[e.usuarioLogeado==!0&&e.usuario.permisos&&e.usuario.permisos.includes("maestraVida")?(J(),We(a,{key:0,to:"/foros"},{default:$t(()=>[PN]),_:1})):Te("",!0),g("div",DN,[kN,g("div",RN,[Ie(a,{to:"/atlas"},{default:$t(()=>[ON]),_:1})])]),e.usuarioLogeado?(J(),We(a,{key:1,to:"/personas"},{default:$t(()=>[FN]),_:1})):Te("",!0),Ie(a,{to:"/espacios"},{default:$t(()=>[LN]),_:1}),n.yo&&n.yo.id?(J(),We(a,{key:2,to:"/rutaGrado/"+n.yo.id},{default:$t(()=>[MN]),_:1},8,["to"])):Te("",!0),e.usuarioSuperadministrador?(J(),We(a,{key:3,to:"/registro",id:"navRegistro"},{default:$t(()=>[BN]),_:1})):Te("",!0)],2),g("div",UN,[e.usuarioLogeado?W((J(),re("div",$N,[g("span",jN,we(n.yo.notificaciones.length+n.yo.notificacionesActividadForos.length),1),g("img",{src:EN,alt:"Notificaciones",title:n.yo.notificaciones.length+"Notificaciones",id:"imagenCampanita",onClick:t[2]||(t[2]=f=>n.mostrandoNotificaciones=!n.mostrandoNotificaciones)},null,8,qN),W(g("div",HN,[(J(!0),re(Me,null,Ve(n.yo.notificacionesActividadForos,f=>(J(),We(l,{estaNotificacion:f,key:f.id},null,8,["estaNotificacion"]))),128)),(J(!0),re(Me,null,Ve(r.notificacionesOrdenadas,f=>(J(),We(s,{key:f.id,estaNotificacion:f},null,8,["estaNotificacion"]))),128))],512),[[Z,n.mostrandoNotificaciones]])],512)),[[Z,n.yo.notificaciones.length>0||n.yo.notificacionesActividadForos.length>0]]):Te("",!0),e.usuarioLogeado?(J(),re("div",{key:1,class:"botonNavBarra botonNav navLogin hoverNegro",id:"navLogged",onClick:t[4]||(t[4]=f=>n.accionesLogeado=!n.accionesLogeado),onMouseleave:t[5]||(t[5]=f=>n.accionesLogeado=!1)},[dt(we(r.username)+" ",1),n.accionesLogeado?(J(),re("div",VN,[Ie(a,{to:"/miperfil"},{default:$t(()=>[zN]),_:1}),g("div",{class:"botonesLogeado hoverNegro",id:"desconexion",onClick:t[3]||(t[3]=(...f)=>r.deslogearse&&r.deslogearse(...f))}," Desconexion ")])):Te("",!0)],32)):(J(),We(a,{key:2,to:"/login",class:"botonNavBarra botonNav navLogin hoverNegro",id:"navLogin"},{default:$t(()=>[QN]),_:1}))])]),Ie(c,{onLogearse:r.logearUsuario,id:"visorRouter",yo:n.yo},null,8,["onLogearse","yo"]),Ie(u,{style:{"z-index":"100"},mensajes:this.errores},null,8,["mensajes"])])}const WN=Qe(CN,[["render",GN],["__scopeId","data-v-7a8b872c"]]);/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const yi=typeof window<"u";function KN(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ft=Object.assign;function dl(e,t){const o={};for(const i in t){const n=t[i];o[i]=No(n)?n.map(e):e(n)}return o}const Pr=()=>{},No=Array.isArray,JN=/\/$/,YN=e=>e.replace(JN,"");function fl(e,t,o="/"){let i,n={},r="",a="";const l=t.indexOf("#");let s=t.indexOf("?");return l<s&&l>=0&&(s=-1),s>-1&&(i=t.slice(0,s),r=t.slice(s+1,l>-1?l:t.length),n=e(r)),l>-1&&(i=i||t.slice(0,l),a=t.slice(l,t.length)),i=tx(i??t,o),{fullPath:i+(r&&"?")+r+a,path:i,query:n,hash:a}}function ZN(e,t){const o=t.query?e(t.query):"";return t.path+(o&&"?")+o+(t.hash||"")}function Vp(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function XN(e,t,o){const i=t.matched.length-1,n=o.matched.length-1;return i>-1&&i===n&&Li(t.matched[i],o.matched[n])&&ny(t.params,o.params)&&e(t.query)===e(o.query)&&t.hash===o.hash}function Li(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function ny(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const o in e)if(!ex(e[o],t[o]))return!1;return!0}function ex(e,t){return No(e)?zp(e,t):No(t)?zp(t,e):e===t}function zp(e,t){return No(t)?e.length===t.length&&e.every((o,i)=>o===t[i]):e.length===1&&e[0]===t}function tx(e,t){if(e.startsWith("/"))return e;if(!e)return t;const o=t.split("/"),i=e.split("/");let n=o.length-1,r,a;for(r=0;r<i.length;r++)if(a=i[r],a!==".")if(a==="..")n>1&&n--;else break;return o.slice(0,n).join("/")+"/"+i.slice(r-(r===i.length?1:0)).join("/")}var Gr;(function(e){e.pop="pop",e.push="push"})(Gr||(Gr={}));var Dr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Dr||(Dr={}));function ox(e){if(!e)if(yi){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),YN(e)}const nx=/^[^#]+#/;function ix(e,t){return e.replace(nx,"#")+t}function rx(e,t){const o=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-o.left-(t.left||0),top:i.top-o.top-(t.top||0)}}const Fa=()=>({left:window.pageXOffset,top:window.pageYOffset});function sx(e){let t;if("el"in e){const o=e.el,i=typeof o=="string"&&o.startsWith("#"),n=typeof o=="string"?i?document.getElementById(o.slice(1)):document.querySelector(o):o;if(!n)return;t=rx(n,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Qp(e,t){return(history.state?history.state.position-t:-1)+e}const cu=new Map;function ax(e,t){cu.set(e,t)}function cx(e){const t=cu.get(e);return cu.delete(e),t}let lx=()=>location.protocol+"//"+location.host;function iy(e,t){const{pathname:o,search:i,hash:n}=t,r=e.indexOf("#");if(r>-1){let l=n.includes(e.slice(r))?e.slice(r).length:1,s=n.slice(l);return s[0]!=="/"&&(s="/"+s),Vp(s,"")}return Vp(o,e)+i+n}function ux(e,t,o,i){let n=[],r=[],a=null;const l=({state:p})=>{const y=iy(e,location),v=o.value,C=t.value;let I=0;if(p){if(o.value=y,t.value=p,a&&a===v){a=null;return}I=C?p.position-C.position:0}else i(y);n.forEach(N=>{N(o.value,v,{delta:I,type:Gr.pop,direction:I?I>0?Dr.forward:Dr.back:Dr.unknown})})};function s(){a=o.value}function c(p){n.push(p);const y=()=>{const v=n.indexOf(p);v>-1&&n.splice(v,1)};return r.push(y),y}function u(){const{history:p}=window;p.state&&p.replaceState(ft({},p.state,{scroll:Fa()}),"")}function f(){for(const p of r)p();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u),{pauseListeners:s,listen:c,destroy:f}}function Gp(e,t,o,i=!1,n=!1){return{back:e,current:t,forward:o,replaced:i,position:window.history.length,scroll:n?Fa():null}}function dx(e){const{history:t,location:o}=window,i={value:iy(e,o)},n={value:t.state};n.value||r(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(s,c,u){const f=e.indexOf("#"),p=f>-1?(o.host&&document.querySelector("base")?e:e.slice(f))+s:lx()+e+s;try{t[u?"replaceState":"pushState"](c,"",p),n.value=c}catch(y){console.error(y),o[u?"replace":"assign"](p)}}function a(s,c){const u=ft({},t.state,Gp(n.value.back,s,n.value.forward,!0),c,{position:n.value.position});r(s,u,!0),i.value=s}function l(s,c){const u=ft({},n.value,t.state,{forward:s,scroll:Fa()});r(u.current,u,!0);const f=ft({},Gp(i.value,s,null),{position:u.position+1},c);r(s,f,!1),i.value=s}return{location:i,state:n,push:l,replace:a}}function fx(e){e=ox(e);const t=dx(e),o=ux(e,t.state,t.location,t.replace);function i(r,a=!0){a||o.pauseListeners(),history.go(r)}const n=ft({location:"",base:e,go:i,createHref:ix.bind(null,e)},t,o);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>t.state.value}),n}function hx(e){return typeof e=="string"||e&&typeof e=="object"}function ry(e){return typeof e=="string"||typeof e=="symbol"}const fn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},sy=Symbol("");var Wp;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Wp||(Wp={}));function Mi(e,t){return ft(new Error,{type:e,[sy]:!0},t)}function Ho(e,t){return e instanceof Error&&sy in e&&(t==null||!!(e.type&t))}const Kp="[^/]+?",px={sensitive:!1,strict:!1,start:!0,end:!0},mx=/[.+*?^${}()[\]/\\]/g;function gx(e,t){const o=ft({},px,t),i=[];let n=o.start?"^":"";const r=[];for(const c of e){const u=c.length?[]:[90];o.strict&&!c.length&&(n+="/");for(let f=0;f<c.length;f++){const p=c[f];let y=40+(o.sensitive?.25:0);if(p.type===0)f||(n+="/"),n+=p.value.replace(mx,"\\$&"),y+=40;else if(p.type===1){const{value:v,repeatable:C,optional:I,regexp:N}=p;r.push({name:v,repeatable:C,optional:I});const _=N||Kp;if(_!==Kp){y+=10;try{new RegExp(`(${_})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${v}" (${_}): `+w.message)}}let b=C?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;f||(b=I&&c.length<2?`(?:/${b})`:"/"+b),I&&(b+="?"),n+=b,y+=20,I&&(y+=-8),C&&(y+=-20),_===".*"&&(y+=-50)}u.push(y)}i.push(u)}if(o.strict&&o.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}o.strict||(n+="/?"),o.end?n+="$":o.strict&&(n+="(?:/|$)");const a=new RegExp(n,o.sensitive?"":"i");function l(c){const u=c.match(a),f={};if(!u)return null;for(let p=1;p<u.length;p++){const y=u[p]||"",v=r[p-1];f[v.name]=y&&v.repeatable?y.split("/"):y}return f}function s(c){let u="",f=!1;for(const p of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const y of p)if(y.type===0)u+=y.value;else if(y.type===1){const{value:v,repeatable:C,optional:I}=y,N=v in c?c[v]:"";if(No(N)&&!C)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const _=No(N)?N.join("/"):N;if(!_)if(I)p.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${v}"`);u+=_}}return u||"/"}return{re:a,score:i,keys:r,parse:l,stringify:s}}function vx(e,t){let o=0;for(;o<e.length&&o<t.length;){const i=t[o]-e[o];if(i)return i;o++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function yx(e,t){let o=0;const i=e.score,n=t.score;for(;o<i.length&&o<n.length;){const r=vx(i[o],n[o]);if(r)return r;o++}if(Math.abs(n.length-i.length)===1){if(Jp(i))return 1;if(Jp(n))return-1}return n.length-i.length}function Jp(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const bx={type:0,value:""},wx=/[a-zA-Z0-9_]/;function Ex(e){if(!e)return[[]];if(e==="/")return[[bx]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${o})/"${c}": ${y}`)}let o=0,i=o;const n=[];let r;function a(){r&&n.push(r),r=[]}let l=0,s,c="",u="";function f(){c&&(o===0?r.push({type:0,value:c}):o===1||o===2||o===3?(r.length>1&&(s==="*"||s==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:s==="*"||s==="+",optional:s==="*"||s==="?"})):t("Invalid state to consume buffer"),c="")}function p(){c+=s}for(;l<e.length;){if(s=e[l++],s==="\\"&&o!==2){i=o,o=4;continue}switch(o){case 0:s==="/"?(c&&f(),a()):s===":"?(f(),o=1):p();break;case 4:p(),o=i;break;case 1:s==="("?o=2:wx.test(s)?p():(f(),o=0,s!=="*"&&s!=="?"&&s!=="+"&&l--);break;case 2:s===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+s:o=3:u+=s;break;case 3:f(),o=0,s!=="*"&&s!=="?"&&s!=="+"&&l--,u="";break;default:t("Unknown state");break}}return o===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),a(),n}function Ax(e,t,o){const i=gx(Ex(e.path),o),n=ft(i,{record:e,parent:t,children:[],alias:[]});return t&&!n.record.aliasOf==!t.record.aliasOf&&t.children.push(n),n}function _x(e,t){const o=[],i=new Map;t=Xp({strict:!1,end:!0,sensitive:!1},t);function n(u){return i.get(u)}function r(u,f,p){const y=!p,v=Cx(u);v.aliasOf=p&&p.record;const C=Xp(t,u),I=[v];if("alias"in u){const b=typeof u.alias=="string"?[u.alias]:u.alias;for(const w of b)I.push(ft({},v,{components:p?p.record.components:v.components,path:w,aliasOf:p?p.record:v}))}let N,_;for(const b of I){const{path:w}=b;if(f&&w[0]!=="/"){const T=f.record.path,k=T[T.length-1]==="/"?"":"/";b.path=f.record.path+(w&&k+w)}if(N=Ax(b,f,C),p?p.alias.push(N):(_=_||N,_!==N&&_.alias.push(N),y&&u.name&&!Zp(N)&&a(u.name)),v.children){const T=v.children;for(let k=0;k<T.length;k++)r(T[k],N,p&&p.children[k])}p=p||N,(N.record.components&&Object.keys(N.record.components).length||N.record.name||N.record.redirect)&&s(N)}return _?()=>{a(_)}:Pr}function a(u){if(ry(u)){const f=i.get(u);f&&(i.delete(u),o.splice(o.indexOf(f),1),f.children.forEach(a),f.alias.forEach(a))}else{const f=o.indexOf(u);f>-1&&(o.splice(f,1),u.record.name&&i.delete(u.record.name),u.children.forEach(a),u.alias.forEach(a))}}function l(){return o}function s(u){let f=0;for(;f<o.length&&yx(u,o[f])>=0&&(u.record.path!==o[f].record.path||!ay(u,o[f]));)f++;o.splice(f,0,u),u.record.name&&!Zp(u)&&i.set(u.record.name,u)}function c(u,f){let p,y={},v,C;if("name"in u&&u.name){if(p=i.get(u.name),!p)throw Mi(1,{location:u});C=p.record.name,y=ft(Yp(f.params,p.keys.filter(_=>!_.optional).map(_=>_.name)),u.params&&Yp(u.params,p.keys.map(_=>_.name))),v=p.stringify(y)}else if("path"in u)v=u.path,p=o.find(_=>_.re.test(v)),p&&(y=p.parse(v),C=p.record.name);else{if(p=f.name?i.get(f.name):o.find(_=>_.re.test(f.path)),!p)throw Mi(1,{location:u,currentLocation:f});C=p.record.name,y=ft({},f.params,u.params),v=p.stringify(y)}const I=[];let N=p;for(;N;)I.unshift(N.record),N=N.parent;return{name:C,path:v,params:y,matched:I,meta:Nx(I)}}return e.forEach(u=>r(u)),{addRoute:r,resolve:c,removeRoute:a,getRoutes:l,getRecordMatcher:n}}function Yp(e,t){const o={};for(const i of t)i in e&&(o[i]=e[i]);return o}function Cx(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Sx(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Sx(e){const t={},o=e.props||!1;if("component"in e)t.default=o;else for(const i in e.components)t[i]=typeof o=="boolean"?o:o[i];return t}function Zp(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Nx(e){return e.reduce((t,o)=>ft(t,o.meta),{})}function Xp(e,t){const o={};for(const i in e)o[i]=i in t?t[i]:e[i];return o}function ay(e,t){return t.children.some(o=>o===e||ay(e,o))}const cy=/#/g,xx=/&/g,Tx=/\//g,Ix=/=/g,Px=/\?/g,ly=/\+/g,Dx=/%5B/g,kx=/%5D/g,uy=/%5E/g,Rx=/%60/g,dy=/%7B/g,Ox=/%7C/g,fy=/%7D/g,Fx=/%20/g;function gd(e){return encodeURI(""+e).replace(Ox,"|").replace(Dx,"[").replace(kx,"]")}function Lx(e){return gd(e).replace(dy,"{").replace(fy,"}").replace(uy,"^")}function lu(e){return gd(e).replace(ly,"%2B").replace(Fx,"+").replace(cy,"%23").replace(xx,"%26").replace(Rx,"`").replace(dy,"{").replace(fy,"}").replace(uy,"^")}function Mx(e){return lu(e).replace(Ix,"%3D")}function Bx(e){return gd(e).replace(cy,"%23").replace(Px,"%3F")}function Ux(e){return e==null?"":Bx(e).replace(Tx,"%2F")}function ha(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function $x(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let n=0;n<i.length;++n){const r=i[n].replace(ly," "),a=r.indexOf("="),l=ha(a<0?r:r.slice(0,a)),s=a<0?null:ha(r.slice(a+1));if(l in t){let c=t[l];No(c)||(c=t[l]=[c]),c.push(s)}else t[l]=s}return t}function em(e){let t="";for(let o in e){const i=e[o];if(o=Mx(o),i==null){i!==void 0&&(t+=(t.length?"&":"")+o);continue}(No(i)?i.map(r=>r&&lu(r)):[i&&lu(i)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+o,r!=null&&(t+="="+r))})}return t}function jx(e){const t={};for(const o in e){const i=e[o];i!==void 0&&(t[o]=No(i)?i.map(n=>n==null?null:""+n):i==null?i:""+i)}return t}const qx=Symbol(""),tm=Symbol(""),vd=Symbol(""),hy=Symbol(""),uu=Symbol("");function fr(){let e=[];function t(i){return e.push(i),()=>{const n=e.indexOf(i);n>-1&&e.splice(n,1)}}function o(){e=[]}return{add:t,list:()=>e,reset:o}}function bn(e,t,o,i,n){const r=i&&(i.enterCallbacks[n]=i.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const s=f=>{f===!1?l(Mi(4,{from:o,to:t})):f instanceof Error?l(f):hx(f)?l(Mi(2,{from:t,to:f})):(r&&i.enterCallbacks[n]===r&&typeof f=="function"&&r.push(f),a())},c=e.call(i&&i.instances[n],t,o,s);let u=Promise.resolve(c);e.length<3&&(u=u.then(s)),u.catch(f=>l(f))})}function hl(e,t,o,i){const n=[];for(const r of e)for(const a in r.components){let l=r.components[a];if(!(t!=="beforeRouteEnter"&&!r.instances[a]))if(Hx(l)){const c=(l.__vccOpts||l)[t];c&&n.push(bn(c,o,i,r,a))}else{let s=l();n.push(()=>s.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${r.path}"`));const u=KN(c)?c.default:c;r.components[a]=u;const p=(u.__vccOpts||u)[t];return p&&bn(p,o,i,r,a)()}))}}return n}function Hx(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function om(e){const t=Ko(vd),o=Ko(hy),i=ho(()=>t.resolve(xi(e.to))),n=ho(()=>{const{matched:s}=i.value,{length:c}=s,u=s[c-1],f=o.matched;if(!u||!f.length)return-1;const p=f.findIndex(Li.bind(null,u));if(p>-1)return p;const y=nm(s[c-2]);return c>1&&nm(u)===y&&f[f.length-1].path!==y?f.findIndex(Li.bind(null,s[c-2])):p}),r=ho(()=>n.value>-1&&Gx(o.params,i.value.params)),a=ho(()=>n.value>-1&&n.value===o.matched.length-1&&ny(o.params,i.value.params));function l(s={}){return Qx(s)?t[xi(e.replace)?"replace":"push"](xi(e.to)).catch(Pr):Promise.resolve()}return{route:i,href:ho(()=>i.value.href),isActive:r,isExactActive:a,navigate:l}}const Vx=uv({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:om,setup(e,{slots:t}){const o=es(om(e)),{options:i}=Ko(vd),n=ho(()=>({[im(e.activeClass,i.linkActiveClass,"router-link-active")]:o.isActive,[im(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:o.isExactActive}));return()=>{const r=t.default&&t.default(o);return e.custom?r:fd("a",{"aria-current":o.isExactActive?e.ariaCurrentValue:null,href:o.href,onClick:o.navigate,class:n.value},r)}}}),zx=Vx;function Qx(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Gx(e,t){for(const o in t){const i=t[o],n=e[o];if(typeof i=="string"){if(i!==n)return!1}else if(!No(n)||n.length!==i.length||i.some((r,a)=>r!==n[a]))return!1}return!0}function nm(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const im=(e,t,o)=>e??t??o,Wx=uv({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:o}){const i=Ko(uu),n=ho(()=>e.route||i.value),r=Ko(tm,0),a=ho(()=>{let c=xi(r);const{matched:u}=n.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),l=ho(()=>n.value.matched[a.value]);zs(tm,ho(()=>a.value+1)),zs(qx,l),zs(uu,n);const s=m1();return Qs(()=>[s.value,l.value,e.name],([c,u,f],[p,y,v])=>{u&&(u.instances[f]=c,y&&y!==u&&c&&c===p&&(u.leaveGuards.size||(u.leaveGuards=y.leaveGuards),u.updateGuards.size||(u.updateGuards=y.updateGuards))),c&&u&&(!y||!Li(u,y)||!p)&&(u.enterCallbacks[f]||[]).forEach(C=>C(c))},{flush:"post"}),()=>{const c=n.value,u=e.name,f=l.value,p=f&&f.components[u];if(!p)return rm(o.default,{Component:p,route:c});const y=f.props[u],v=y?y===!0?c.params:typeof y=="function"?y(c):y:null,I=fd(p,ft({},v,t,{onVnodeUnmounted:N=>{N.component.isUnmounted&&(f.instances[u]=null)},ref:s}));return rm(o.default,{Component:I,route:c})||I}}});function rm(e,t){if(!e)return null;const o=e(t);return o.length===1?o[0]:o}const Kx=Wx;function Jx(e){const t=_x(e.routes,e),o=e.parseQuery||$x,i=e.stringifyQuery||em,n=e.history,r=fr(),a=fr(),l=fr(),s=g1(fn);let c=fn;yi&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=dl.bind(null,K=>""+K),f=dl.bind(null,Ux),p=dl.bind(null,ha);function y(K,q){let G,ee;return ry(K)?(G=t.getRecordMatcher(K),ee=q):ee=K,t.addRoute(ee,G)}function v(K){const q=t.getRecordMatcher(K);q&&t.removeRoute(q)}function C(){return t.getRoutes().map(K=>K.record)}function I(K){return!!t.getRecordMatcher(K)}function N(K,q){if(q=ft({},q||s.value),typeof K=="string"){const m=fl(o,K,q.path),S=t.resolve({path:m.path},q),L=n.createHref(m.fullPath);return ft(m,S,{params:p(S.params),hash:ha(m.hash),redirectedFrom:void 0,href:L})}let G;if("path"in K)G=ft({},K,{path:fl(o,K.path,q.path).path});else{const m=ft({},K.params);for(const S in m)m[S]==null&&delete m[S];G=ft({},K,{params:f(K.params)}),q.params=f(q.params)}const ee=t.resolve(G,q),se=K.hash||"";ee.params=u(p(ee.params));const ae=ZN(i,ft({},K,{hash:Lx(se),path:ee.path})),U=n.createHref(ae);return ft({fullPath:ae,hash:se,query:i===em?jx(K.query):K.query||{}},ee,{redirectedFrom:void 0,href:U})}function _(K){return typeof K=="string"?fl(o,K,s.value.path):ft({},K)}function b(K,q){if(c!==K)return Mi(8,{from:q,to:K})}function w(K){return M(K)}function T(K){return w(ft(_(K),{replace:!0}))}function k(K){const q=K.matched[K.matched.length-1];if(q&&q.redirect){const{redirect:G}=q;let ee=typeof G=="function"?G(K):G;return typeof ee=="string"&&(ee=ee.includes("?")||ee.includes("#")?ee=_(ee):{path:ee},ee.params={}),ft({query:K.query,hash:K.hash,params:"path"in ee?{}:K.params},ee)}}function M(K,q){const G=c=N(K),ee=s.value,se=K.state,ae=K.force,U=K.replace===!0,m=k(G);if(m)return M(ft(_(m),{state:typeof m=="object"?ft({},se,m.state):se,force:ae,replace:U}),q||G);const S=G;S.redirectedFrom=q;let L;return!ae&&XN(i,ee,G)&&(L=Mi(16,{to:S,from:ee}),_e(ee,ee,!0,!1)),(L?Promise.resolve(L):P(S,ee)).catch(Y=>Ho(Y)?Ho(Y,2)?Y:me(Y):z(Y,S,ee)).then(Y=>{if(Y){if(Ho(Y,2))return M(ft({replace:U},_(Y.to),{state:typeof Y.to=="object"?ft({},se,Y.to.state):se,force:ae}),q||S)}else Y=B(S,ee,!0,U,se);return D(S,ee,Y),Y})}function H(K,q){const G=b(K,q);return G?Promise.reject(G):Promise.resolve()}function P(K,q){let G;const[ee,se,ae]=Yx(K,q);G=hl(ee.reverse(),"beforeRouteLeave",K,q);for(const m of ee)m.leaveGuards.forEach(S=>{G.push(bn(S,K,q))});const U=H.bind(null,K,q);return G.push(U),gi(G).then(()=>{G=[];for(const m of r.list())G.push(bn(m,K,q));return G.push(U),gi(G)}).then(()=>{G=hl(se,"beforeRouteUpdate",K,q);for(const m of se)m.updateGuards.forEach(S=>{G.push(bn(S,K,q))});return G.push(U),gi(G)}).then(()=>{G=[];for(const m of K.matched)if(m.beforeEnter&&!q.matched.includes(m))if(No(m.beforeEnter))for(const S of m.beforeEnter)G.push(bn(S,K,q));else G.push(bn(m.beforeEnter,K,q));return G.push(U),gi(G)}).then(()=>(K.matched.forEach(m=>m.enterCallbacks={}),G=hl(ae,"beforeRouteEnter",K,q),G.push(U),gi(G))).then(()=>{G=[];for(const m of a.list())G.push(bn(m,K,q));return G.push(U),gi(G)}).catch(m=>Ho(m,8)?m:Promise.reject(m))}function D(K,q,G){for(const ee of l.list())ee(K,q,G)}function B(K,q,G,ee,se){const ae=b(K,q);if(ae)return ae;const U=q===fn,m=yi?history.state:{};G&&(ee||U?n.replace(K.fullPath,ft({scroll:U&&m&&m.scroll},se)):n.push(K.fullPath,se)),s.value=K,_e(K,q,G,U),me()}let F;function Q(){F||(F=n.listen((K,q,G)=>{if(!V.listening)return;const ee=N(K),se=k(ee);if(se){M(ft(se,{replace:!0}),ee).catch(Pr);return}c=ee;const ae=s.value;yi&&ax(Qp(ae.fullPath,G.delta),Fa()),P(ee,ae).catch(U=>Ho(U,12)?U:Ho(U,2)?(M(U.to,ee).then(m=>{Ho(m,20)&&!G.delta&&G.type===Gr.pop&&n.go(-1,!1)}).catch(Pr),Promise.reject()):(G.delta&&n.go(-G.delta,!1),z(U,ee,ae))).then(U=>{U=U||B(ee,ae,!1),U&&(G.delta&&!Ho(U,8)?n.go(-G.delta,!1):G.type===Gr.pop&&Ho(U,20)&&n.go(-1,!1)),D(ee,ae,U)}).catch(Pr)}))}let E=fr(),oe=fr(),ie;function z(K,q,G){me(K);const ee=oe.list();return ee.length?ee.forEach(se=>se(K,q,G)):console.error(K),Promise.reject(K)}function be(){return ie&&s.value!==fn?Promise.resolve():new Promise((K,q)=>{E.add([K,q])})}function me(K){return ie||(ie=!K,Q(),E.list().forEach(([q,G])=>K?G(K):q()),E.reset()),K}function _e(K,q,G,ee){const{scrollBehavior:se}=e;if(!yi||!se)return Promise.resolve();const ae=!G&&cx(Qp(K.fullPath,0))||(ee||!G)&&history.state&&history.state.scroll||null;return ev().then(()=>se(K,q,ae)).then(U=>U&&sx(U)).catch(U=>z(U,K,q))}const x=K=>n.go(K);let $;const te=new Set,V={currentRoute:s,listening:!0,addRoute:y,removeRoute:v,hasRoute:I,getRoutes:C,resolve:N,options:e,push:w,replace:T,go:x,back:()=>x(-1),forward:()=>x(1),beforeEach:r.add,beforeResolve:a.add,afterEach:l.add,onError:oe.add,isReady:be,install(K){const q=this;K.component("RouterLink",zx),K.component("RouterView",Kx),K.config.globalProperties.$router=q,Object.defineProperty(K.config.globalProperties,"$route",{enumerable:!0,get:()=>xi(s)}),yi&&!$&&s.value===fn&&($=!0,w(n.location).catch(se=>{}));const G={};for(const se in fn)G[se]=ho(()=>s.value[se]);K.provide(vd,q),K.provide(hy,es(G)),K.provide(uu,s);const ee=K.unmount;te.add(K),K.unmount=function(){te.delete(K),te.size<1&&(c=fn,F&&F(),F=null,s.value=fn,$=!1,ie=!1),ee()}}};return V}function gi(e){return e.reduce((t,o)=>t.then(()=>o()),Promise.resolve())}function Yx(e,t){const o=[],i=[],n=[],r=Math.max(t.matched.length,e.matched.length);for(let a=0;a<r;a++){const l=t.matched[a];l&&(e.matched.find(c=>Li(c,l))?i.push(l):o.push(l));const s=e.matched[a];s&&(t.matched.find(c=>Li(c,s))||n.push(s))}return[o,i,n]}var pl="Invariant Violation",sm=Object.setPrototypeOf,Zx=sm===void 0?function(e,t){return e.__proto__=t,e}:sm,lt=function(e){ao(t,e);function t(o){o===void 0&&(o=pl);var i=e.call(this,typeof o=="number"?pl+": "+o+" (see https://github.com/apollographql/invariant-packages)":o)||this;return i.framesToPop=1,i.name=pl,Zx(i,t.prototype),i}return t}(Error);function Fe(e,t){if(!e)throw new lt(t)}var py=["debug","log","warn","error","silent"],Xx=py.indexOf("log");function Ls(e){return function(){if(py.indexOf(e)>=Xx){var t=console[e]||console.log;return t.apply(console,arguments)}}}(function(e){e.debug=Ls("debug"),e.log=Ls("log"),e.warn=Ls("warn"),e.error=Ls("error")})(Fe||(Fe={}));function fo(e){try{return e()}catch{}}const am=fo(function(){return globalThis})||fo(function(){return window})||fo(function(){return self})||fo(function(){return global})||fo(function(){return fo.constructor("return this")()});var cm="__",lm=[cm,cm].join("DEV");function eT(){try{return!!__DEV__}catch{return Object.defineProperty(am,lm,{value:fo(function(){return"production"})!=="production",enumerable:!1,configurable:!0,writable:!0}),am[lm]}}const ml=eT();function wn(e){try{return e()}catch{}}var du=wn(function(){return globalThis})||wn(function(){return window})||wn(function(){return self})||wn(function(){return global})||wn(function(){return wn.constructor("return this")()}),fu=!1;function tT(){du&&!wn(function(){return"production"})&&!wn(function(){return process})&&(Object.defineProperty(du,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),fu=!0)}tT();function um(){fu&&(delete du.process,fu=!1)}function oT(){return um()}function nT(){__DEV__?Fe(typeof ml=="boolean",ml):Fe(typeof ml=="boolean",39)}oT();nT();function La(e,t){var o=e.directives;return!o||!o.length?!0:sT(o).every(function(i){var n=i.directive,r=i.ifArgument,a=!1;return r.value.kind==="Variable"?(a=t&&t[r.value.name.value],__DEV__?Fe(a!==void 0,"Invalid variable referenced in @".concat(n.name.value," directive.")):Fe(a!==void 0,40)):a=r.value.value,n.name.value==="skip"?!a:a})}function yd(e,t,o){var i=new Set(e),n=i.size;return Zo(t,{Directive:function(r){if(i.delete(r.name.value)&&(!o||!i.size))return md}}),o?!i.size:i.size<n}function iT(e){return e&&yd(["client","export"],e,!0)}function rT(e){var t=e.name.value;return t==="skip"||t==="include"}function sT(e){var t=[];return e&&e.length&&e.forEach(function(o){if(rT(o)){var i=o.arguments,n=o.name.value;__DEV__?Fe(i&&i.length===1,"Incorrect number of arguments for the @".concat(n," directive.")):Fe(i&&i.length===1,41);var r=i[0];__DEV__?Fe(r.name&&r.name.value==="if","Invalid argument for the @".concat(n," directive.")):Fe(r.name&&r.name.value==="if",42);var a=r.value;__DEV__?Fe(a&&(a.kind==="Variable"||a.kind==="BooleanValue"),"Argument for the @".concat(n," directive must be a variable or a boolean value.")):Fe(a&&(a.kind==="Variable"||a.kind==="BooleanValue"),43),t.push({directive:o,ifArgument:r})}}),t}function aT(e,t){var o=t,i=[];e.definitions.forEach(function(r){if(r.kind==="OperationDefinition")throw __DEV__?new lt("Found a ".concat(r.operation," operation").concat(r.name?" named '".concat(r.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new lt(44);r.kind==="FragmentDefinition"&&i.push(r)}),typeof o>"u"&&(__DEV__?Fe(i.length===1,"Found ".concat(i.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):Fe(i.length===1,45),o=i[0].name.value);var n=ye(ye({},e),{definitions:da([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:o}}]}}],e.definitions,!0)});return n}function bd(e){e===void 0&&(e=[]);var t={};return e.forEach(function(o){t[o.name.value]=o}),t}function wd(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":{var o=e.name.value;if(typeof t=="function")return t(o);var i=t&&t[o];return __DEV__?Fe(i,"No fragment named ".concat(o)):Fe(i,46),i||null}default:return null}}function wt(e){return e!==null&&typeof e=="object"}function Ii(e){return{__ref:String(e)}}function ht(e){return!!(e&&typeof e=="object"&&typeof e.__ref=="string")}function cT(e){return wt(e)&&e.kind==="Document"&&Array.isArray(e.definitions)}function lT(e){return e.kind==="StringValue"}function uT(e){return e.kind==="BooleanValue"}function dT(e){return e.kind==="IntValue"}function fT(e){return e.kind==="FloatValue"}function hT(e){return e.kind==="Variable"}function pT(e){return e.kind==="ObjectValue"}function mT(e){return e.kind==="ListValue"}function gT(e){return e.kind==="EnumValue"}function vT(e){return e.kind==="NullValue"}function Bi(e,t,o,i){if(dT(o)||fT(o))e[t.value]=Number(o.value);else if(uT(o)||lT(o))e[t.value]=o.value;else if(pT(o)){var n={};o.fields.map(function(a){return Bi(n,a.name,a.value,i)}),e[t.value]=n}else if(hT(o)){var r=(i||{})[o.name.value];e[t.value]=r}else if(mT(o))e[t.value]=o.values.map(function(a){var l={};return Bi(l,t,a,i),l[t.value]});else if(gT(o))e[t.value]=o.value;else if(vT(o))e[t.value]=null;else throw __DEV__?new lt('The inline argument "'.concat(t.value,'" of kind "').concat(o.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new lt(55)}function yT(e,t){var o=null;e.directives&&(o={},e.directives.forEach(function(n){o[n.name.value]={},n.arguments&&n.arguments.forEach(function(r){var a=r.name,l=r.value;return Bi(o[n.name.value],a,l,t)})}));var i=null;return e.arguments&&e.arguments.length&&(i={},e.arguments.forEach(function(n){var r=n.name,a=n.value;return Bi(i,r,a,t)})),Ed(e.name.value,i,o)}var bT=["connection","include","skip","client","rest","export"],Ed=Object.assign(function(e,t,o){if(t&&o&&o.connection&&o.connection.key)if(o.connection.filter&&o.connection.filter.length>0){var i=o.connection.filter?o.connection.filter:[];i.sort();var n={};return i.forEach(function(l){n[l]=t[l]}),"".concat(o.connection.key,"(").concat(hr(n),")")}else return o.connection.key;var r=e;if(t){var a=hr(t);r+="(".concat(a,")")}return o&&Object.keys(o).forEach(function(l){bT.indexOf(l)===-1&&(o[l]&&Object.keys(o[l]).length?r+="@".concat(l,"(").concat(hr(o[l]),")"):r+="@".concat(l))}),r},{setStringify:function(e){var t=hr;return hr=e,t}}),hr=function(t){return JSON.stringify(t,wT)};function wT(e,t){return wt(t)&&!Array.isArray(t)&&(t=Object.keys(t).sort().reduce(function(o,i){return o[i]=t[i],o},{})),t}function Ma(e,t){if(e.arguments&&e.arguments.length){var o={};return e.arguments.forEach(function(i){var n=i.name,r=i.value;return Bi(o,n,r,t)}),o}return null}function Xn(e){return e.alias?e.alias.value:e.name.value}function hu(e,t,o){if(typeof e.__typename=="string")return e.__typename;for(var i=0,n=t.selections;i<n.length;i++){var r=n[i];if(ei(r)){if(r.name.value==="__typename")return e[Xn(r)]}else{var a=hu(e,wd(r,o).selectionSet,o);if(typeof a=="string")return a}}}function ei(e){return e.kind==="Field"}function ET(e){return e.kind==="InlineFragment"}function Ba(e){__DEV__?Fe(e&&e.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):Fe(e&&e.kind==="Document",47);var t=e.definitions.filter(function(o){return o.kind!=="FragmentDefinition"}).map(function(o){if(o.kind!=="OperationDefinition")throw __DEV__?new lt('Schema type definitions not allowed in queries. Found: "'.concat(o.kind,'"')):new lt(48);return o});return __DEV__?Fe(t.length<=1,"Ambiguous GraphQL document: contains ".concat(t.length," operations")):Fe(t.length<=1,49),e}function os(e){return Ba(e),e.definitions.filter(function(t){return t.kind==="OperationDefinition"})[0]}function pu(e){return e.definitions.filter(function(t){return t.kind==="OperationDefinition"&&!!t.name}).map(function(t){return t.name.value})[0]||null}function Ad(e){return e.definitions.filter(function(t){return t.kind==="FragmentDefinition"})}function my(e){var t=os(e);return __DEV__?Fe(t&&t.operation==="query","Must contain a query definition."):Fe(t&&t.operation==="query",50),t}function AT(e){__DEV__?Fe(e.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):Fe(e.kind==="Document",51),__DEV__?Fe(e.definitions.length<=1,"Fragment must have exactly one definition."):Fe(e.definitions.length<=1,52);var t=e.definitions[0];return __DEV__?Fe(t.kind==="FragmentDefinition","Must be a fragment definition."):Fe(t.kind==="FragmentDefinition",53),t}function Ua(e){Ba(e);for(var t,o=0,i=e.definitions;o<i.length;o++){var n=i[o];if(n.kind==="OperationDefinition"){var r=n.operation;if(r==="query"||r==="mutation"||r==="subscription")return n}n.kind==="FragmentDefinition"&&!t&&(t=n)}if(t)return t;throw __DEV__?new lt("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new lt(54)}function _d(e){var t=Object.create(null),o=e&&e.variableDefinitions;return o&&o.length&&o.forEach(function(i){i.defaultValue&&Bi(t,i.variable.name,i.defaultValue)}),t}var At=Array.isArray;function go(e){return Array.isArray(e)&&e.length>0}var dm={kind:Ue.FIELD,name:{kind:Ue.NAME,value:"__typename"}};function gy(e,t){return!e||e.selectionSet.selections.every(function(o){return o.kind===Ue.FRAGMENT_SPREAD&&gy(t[o.name.value],t)})}function _T(e){return gy(os(e)||AT(e),bd(Ad(e)))?null:e}function CT(e){var t=new Set,o=[];return e.forEach(function(i){i.name?t.add(i.name):i.test&&o.push(i.test)}),function(i){return t.has(i.name.value)||o.some(function(n){return n(i)})}}function fm(e){var t=new Map;return function(i){i===void 0&&(i=e);var n=t.get(i);return n||t.set(i,n={variables:new Set,fragmentSpreads:new Set}),n}}function vy(e,t){for(var o=fm(""),i=fm(""),n=function(_){for(var b=0,w=void 0;b<_.length&&(w=_[b]);++b)if(!At(w)){if(w.kind===Ue.OPERATION_DEFINITION)return o(w.name&&w.name.value);if(w.kind===Ue.FRAGMENT_DEFINITION)return i(w.name.value)}return __DEV__&&Fe.error("Could not find operation or fragment"),null},r=0,a=t.definitions.length-1;a>=0;--a)t.definitions[a].kind===Ue.OPERATION_DEFINITION&&++r;var l=CT(e),s=e.some(function(_){return _.remove}),c=function(_){return s&&_&&_.some(l)},u=new Map,f=!1,p={enter:function(_){if(c(_.directives))return f=!0,null}},y=Zo(t,{Field:p,InlineFragment:p,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(_,b,w,T,k){var M=n(k);M&&M.variables.add(_.name.value)}},FragmentSpread:{enter:function(_,b,w,T,k){if(c(_.directives))return f=!0,null;var M=n(k);M&&M.fragmentSpreads.add(_.name.value)}},FragmentDefinition:{enter:function(_,b,w,T){u.set(JSON.stringify(T),_)},leave:function(_,b,w,T){var k=u.get(JSON.stringify(T));if(_===k)return _;if(r>0&&_.selectionSet.selections.every(function(M){return M.kind===Ue.FIELD&&M.name.value==="__typename"}))return i(_.name.value).removed=!0,f=!0,null}},Directive:{leave:function(_){if(l(_))return f=!0,null}}});if(!f)return t;var v=function(_){return _.transitiveVars||(_.transitiveVars=new Set(_.variables),_.removed||_.fragmentSpreads.forEach(function(b){v(i(b)).transitiveVars.forEach(function(w){_.transitiveVars.add(w)})})),_},C=new Set;y.definitions.forEach(function(_){_.kind===Ue.OPERATION_DEFINITION?v(o(_.name&&_.name.value)).fragmentSpreads.forEach(function(b){C.add(b)}):_.kind===Ue.FRAGMENT_DEFINITION&&r===0&&!i(_.name.value).removed&&C.add(_.name.value)}),C.forEach(function(_){v(i(_)).fragmentSpreads.forEach(function(b){C.add(b)})});var I=function(_){return!!(!C.has(_)||i(_).removed)},N={enter:function(_){if(I(_.name.value))return null}};return _T(Zo(y,{FragmentSpread:N,FragmentDefinition:N,OperationDefinition:{leave:function(_){if(_.variableDefinitions){var b=v(o(_.name&&_.name.value)).transitiveVars;if(b.size<_.variableDefinitions.length)return ye(ye({},_),{variableDefinitions:_.variableDefinitions.filter(function(w){return b.has(w.variable.name.value)})})}}}}))}var Cd=Object.assign(function(e){return Zo(e,{SelectionSet:{enter:function(t,o,i){if(!(i&&i.kind===Ue.OPERATION_DEFINITION)){var n=t.selections;if(n){var r=n.some(function(l){return ei(l)&&(l.name.value==="__typename"||l.name.value.lastIndexOf("__",0)===0)});if(!r){var a=i;if(!(ei(a)&&a.directives&&a.directives.some(function(l){return l.name.value==="export"})))return ye(ye({},t),{selections:da(da([],n,!0),[dm],!1)})}}}}}})},{added:function(e){return e===dm}}),ST={test:function(e){var t=e.name.value==="connection";return t&&(!e.arguments||!e.arguments.some(function(o){return o.name.value==="key"}))&&__DEV__&&Fe.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key."),t}};function NT(e){return vy([ST],Ba(e))}function xT(e){var t=Ua(e),o=t.operation;if(o==="query")return e;var i=Zo(e,{OperationDefinition:{enter:function(n){return ye(ye({},n),{operation:"query"})}}});return i}function TT(e){Ba(e);var t=vy([{test:function(o){return o.name.value==="client"},remove:!0}],e);return t}var IT=Object.prototype.hasOwnProperty;function hm(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Sd(e)}function Sd(e){var t=e[0]||{},o=e.length;if(o>1)for(var i=new Nn,n=1;n<o;++n)t=i.merge(t,e[n]);return t}var PT=function(e,t,o){return this.merge(e[o],t[o])},Nn=function(){function e(t){t===void 0&&(t=PT),this.reconciler=t,this.isObject=wt,this.pastCopies=new Set}return e.prototype.merge=function(t,o){for(var i=this,n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return wt(o)&&wt(t)?(Object.keys(o).forEach(function(a){if(IT.call(t,a)){var l=t[a];if(o[a]!==l){var s=i.reconciler.apply(i,da([t,o,a],n,!1));s!==l&&(t=i.shallowCopyForMerge(t),t[a]=s)}}else t=i.shallowCopyForMerge(t),t[a]=o[a]}),t):o},e.prototype.shallowCopyForMerge=function(t){return wt(t)&&(this.pastCopies.has(t)||(Array.isArray(t)?t=t.slice(0):t=ye({__proto__:Object.getPrototypeOf(t)},t),this.pastCopies.add(t))),t},e}();function DT(e,t){var o=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(o)return(o=o.call(e)).next.bind(o);if(Array.isArray(e)||(o=kT(e))||t&&e&&typeof e.length=="number"){o&&(e=o);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kT(e,t){if(e){if(typeof e=="string")return pm(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return pm(e,t)}}function pm(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,i=new Array(t);o<t;o++)i[o]=e[o];return i}function mm(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Nd(e,t,o){return t&&mm(e.prototype,t),o&&mm(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}var xd=function(){return typeof Symbol=="function"},Td=function(e){return xd()&&!!Symbol[e]},Id=function(e){return Td(e)?Symbol[e]:"@@"+e};xd()&&!Td("observable")&&(Symbol.observable=Symbol("observable"));var RT=Id("iterator"),mu=Id("observable"),yy=Id("species");function pa(e,t){var o=e[t];if(o!=null){if(typeof o!="function")throw new TypeError(o+" is not a function");return o}}function pr(e){var t=e.constructor;return t!==void 0&&(t=t[yy],t===null&&(t=void 0)),t!==void 0?t:mt}function OT(e){return e instanceof mt}function Ui(e){Ui.log?Ui.log(e):setTimeout(function(){throw e})}function Ys(e){Promise.resolve().then(function(){try{e()}catch(t){Ui(t)}})}function by(e){var t=e._cleanup;if(t!==void 0&&(e._cleanup=void 0,!!t))try{if(typeof t=="function")t();else{var o=pa(t,"unsubscribe");o&&o.call(t)}}catch(i){Ui(i)}}function gu(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function FT(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var o=0;o<t.length&&(wy(e,t[o].type,t[o].value),e._state!=="closed");++o);}}function wy(e,t,o){e._state="running";var i=e._observer;try{var n=pa(i,t);switch(t){case"next":n&&n.call(i,o);break;case"error":if(gu(e),n)n.call(i,o);else throw o;break;case"complete":gu(e),n&&n.call(i);break}}catch(r){Ui(r)}e._state==="closed"?by(e):e._state==="running"&&(e._state="ready")}function gl(e,t,o){if(e._state!=="closed"){if(e._state==="buffering"){e._queue.push({type:t,value:o});return}if(e._state!=="ready"){e._state="buffering",e._queue=[{type:t,value:o}],Ys(function(){return FT(e)});return}wy(e,t,o)}}var LT=function(){function e(o,i){this._cleanup=void 0,this._observer=o,this._queue=void 0,this._state="initializing";var n=new MT(this);try{this._cleanup=i.call(void 0,n)}catch(r){n.error(r)}this._state==="initializing"&&(this._state="ready")}var t=e.prototype;return t.unsubscribe=function(){this._state!=="closed"&&(gu(this),by(this))},Nd(e,[{key:"closed",get:function(){return this._state==="closed"}}]),e}(),MT=function(){function e(o){this._subscription=o}var t=e.prototype;return t.next=function(i){gl(this._subscription,"next",i)},t.error=function(i){gl(this._subscription,"error",i)},t.complete=function(){gl(this._subscription,"complete")},Nd(e,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),e}(),mt=function(){function e(o){if(!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if(typeof o!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=o}var t=e.prototype;return t.subscribe=function(i){return(typeof i!="object"||i===null)&&(i={next:i,error:arguments[1],complete:arguments[2]}),new LT(i,this._subscriber)},t.forEach=function(i){var n=this;return new Promise(function(r,a){if(typeof i!="function"){a(new TypeError(i+" is not a function"));return}function l(){s.unsubscribe(),r()}var s=n.subscribe({next:function(c){try{i(c,l)}catch(u){a(u),s.unsubscribe()}},error:a,complete:r})})},t.map=function(i){var n=this;if(typeof i!="function")throw new TypeError(i+" is not a function");var r=pr(this);return new r(function(a){return n.subscribe({next:function(l){try{l=i(l)}catch(s){return a.error(s)}a.next(l)},error:function(l){a.error(l)},complete:function(){a.complete()}})})},t.filter=function(i){var n=this;if(typeof i!="function")throw new TypeError(i+" is not a function");var r=pr(this);return new r(function(a){return n.subscribe({next:function(l){try{if(!i(l))return}catch(s){return a.error(s)}a.next(l)},error:function(l){a.error(l)},complete:function(){a.complete()}})})},t.reduce=function(i){var n=this;if(typeof i!="function")throw new TypeError(i+" is not a function");var r=pr(this),a=arguments.length>1,l=!1,s=arguments[1],c=s;return new r(function(u){return n.subscribe({next:function(f){var p=!l;if(l=!0,!p||a)try{c=i(c,f)}catch(y){return u.error(y)}else c=f},error:function(f){u.error(f)},complete:function(){if(!l&&!a)return u.error(new TypeError("Cannot reduce an empty sequence"));u.next(c),u.complete()}})})},t.concat=function(){for(var i=this,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var l=pr(this);return new l(function(s){var c,u=0;function f(p){c=p.subscribe({next:function(y){s.next(y)},error:function(y){s.error(y)},complete:function(){u===r.length?(c=void 0,s.complete()):f(l.from(r[u++]))}})}return f(i),function(){c&&(c.unsubscribe(),c=void 0)}})},t.flatMap=function(i){var n=this;if(typeof i!="function")throw new TypeError(i+" is not a function");var r=pr(this);return new r(function(a){var l=[],s=n.subscribe({next:function(u){if(i)try{u=i(u)}catch(p){return a.error(p)}var f=r.from(u).subscribe({next:function(p){a.next(p)},error:function(p){a.error(p)},complete:function(){var p=l.indexOf(f);p>=0&&l.splice(p,1),c()}});l.push(f)},error:function(u){a.error(u)},complete:function(){c()}});function c(){s.closed&&l.length===0&&a.complete()}return function(){l.forEach(function(u){return u.unsubscribe()}),s.unsubscribe()}})},t[mu]=function(){return this},e.from=function(i){var n=typeof this=="function"?this:e;if(i==null)throw new TypeError(i+" is not an object");var r=pa(i,mu);if(r){var a=r.call(i);if(Object(a)!==a)throw new TypeError(a+" is not an object");return OT(a)&&a.constructor===n?a:new n(function(l){return a.subscribe(l)})}if(Td("iterator")&&(r=pa(i,RT),r))return new n(function(l){Ys(function(){if(!l.closed){for(var s=DT(r.call(i)),c;!(c=s()).done;){var u=c.value;if(l.next(u),l.closed)return}l.complete()}})});if(Array.isArray(i))return new n(function(l){Ys(function(){if(!l.closed){for(var s=0;s<i.length;++s)if(l.next(i[s]),l.closed)return;l.complete()}})});throw new TypeError(i+" is not observable")},e.of=function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];var a=typeof this=="function"?this:e;return new a(function(l){Ys(function(){if(!l.closed){for(var s=0;s<n.length;++s)if(l.next(n[s]),l.closed)return;l.complete()}})})},Nd(e,null,[{key:yy,get:function(){return this}}]),e}();xd()&&Object.defineProperty(mt,Symbol("extensions"),{value:{symbol:mu,hostReportError:Ui},configurable:!0});function BT(e){var t,o=e.Symbol;if(typeof o=="function")if(o.observable)t=o.observable;else{typeof o.for=="function"?t=o.for("https://github.com/benlesh/symbol-observable"):t=o("https://github.com/benlesh/symbol-observable");try{o.observable=t}catch{}}else t="@@observable";return t}var bi;typeof self<"u"?bi=self:typeof window<"u"?bi=window:typeof global<"u"?bi=global:typeof Qu<"u"?bi=Qu:bi=Function("return this")();BT(bi);var gm=mt.prototype,vm="@@observable";gm[vm]||(gm[vm]=function(){return this});var UT=Object.prototype.toString;function Ey(e){return vu(e)}function vu(e,t){switch(UT.call(e)){case"[object Array]":{if(t=t||new Map,t.has(e))return t.get(e);var o=e.slice(0);return t.set(e,o),o.forEach(function(n,r){o[r]=vu(n,t)}),o}case"[object Object]":{if(t=t||new Map,t.has(e))return t.get(e);var i=Object.create(Object.getPrototypeOf(e));return t.set(e,i),Object.keys(e).forEach(function(n){i[n]=vu(e[n],t)}),i}default:return e}}function $T(e){var t=new Set([e]);return t.forEach(function(o){wt(o)&&jT(o)===o&&Object.getOwnPropertyNames(o).forEach(function(i){wt(o[i])&&t.add(o[i])})}),e}function jT(e){if(__DEV__&&!Object.isFrozen(e))try{Object.freeze(e)}catch(t){if(t instanceof TypeError)return null;throw t}return e}function yu(e){return __DEV__&&$T(e),e}function kr(e,t,o){var i=[];e.forEach(function(n){return n[t]&&i.push(n)}),i.forEach(function(n){return n[t](o)})}function vl(e,t,o){return new mt(function(i){var n=i.next,r=i.error,a=i.complete,l=0,s=!1,c={then:function(y){return new Promise(function(v){return v(y())})}};function u(y,v){return y?function(C){++l;var I=function(){return y(C)};c=c.then(I,I).then(function(N){--l,n&&n.call(i,N),s&&f.complete()},function(N){throw--l,N}).catch(function(N){r&&r.call(i,N)})}:function(C){return v&&v.call(i,C)}}var f={next:u(t,n),error:u(o,r),complete:function(){s=!0,l||a&&a.call(i)}},p=e.subscribe(f);return function(){return p.unsubscribe()}})}var oi=typeof WeakMap=="function"&&fo(function(){return navigator.product})!=="ReactNative",qT=typeof WeakSet=="function",Ay=typeof Symbol=="function"&&typeof Symbol.for=="function",$a=Ay&&Symbol.asyncIterator;fo(function(){return window.document.createElement});fo(function(){return navigator.userAgent.indexOf("jsdom")>=0});function _y(e){function t(o){Object.defineProperty(e,o,{value:mt})}return Ay&&Symbol.species&&t(Symbol.species),t("@@species"),e}function ym(e){return e&&typeof e.then=="function"}var Sr=function(e){ao(t,e);function t(o){var i=e.call(this,function(n){return i.addObserver(n),function(){return i.removeObserver(n)}})||this;return i.observers=new Set,i.promise=new Promise(function(n,r){i.resolve=n,i.reject=r}),i.handlers={next:function(n){i.sub!==null&&(i.latest=["next",n],i.notify("next",n),kr(i.observers,"next",n))},error:function(n){var r=i.sub;r!==null&&(r&&setTimeout(function(){return r.unsubscribe()}),i.sub=null,i.latest=["error",n],i.reject(n),i.notify("error",n),kr(i.observers,"error",n))},complete:function(){var n=i,r=n.sub,a=n.sources,l=a===void 0?[]:a;if(r!==null){var s=l.shift();s?ym(s)?s.then(function(c){return i.sub=c.subscribe(i.handlers)}):i.sub=s.subscribe(i.handlers):(r&&setTimeout(function(){return r.unsubscribe()}),i.sub=null,i.latest&&i.latest[0]==="next"?i.resolve(i.latest[1]):i.resolve(),i.notify("complete"),kr(i.observers,"complete"))}}},i.nextResultListeners=new Set,i.cancel=function(n){i.reject(n),i.sources=[],i.handlers.complete()},i.promise.catch(function(n){}),typeof o=="function"&&(o=[new mt(o)]),ym(o)?o.then(function(n){return i.start(n)},i.handlers.error):i.start(o),i}return t.prototype.start=function(o){this.sub===void 0&&(this.sources=Array.from(o),this.handlers.complete())},t.prototype.deliverLastMessage=function(o){if(this.latest){var i=this.latest[0],n=o[i];n&&n.call(o,this.latest[1]),this.sub===null&&i==="next"&&o.complete&&o.complete()}},t.prototype.addObserver=function(o){this.observers.has(o)||(this.deliverLastMessage(o),this.observers.add(o))},t.prototype.removeObserver=function(o){this.observers.delete(o)&&this.observers.size<1&&this.handlers.complete()},t.prototype.notify=function(o,i){var n=this.nextResultListeners;n.size&&(this.nextResultListeners=new Set,n.forEach(function(r){return r(o,i)}))},t.prototype.beforeNext=function(o){var i=!1;this.nextResultListeners.add(function(n,r){i||(i=!0,o(n,r))})},t}(mt);_y(Sr);function Pi(e){return"incremental"in e}function HT(e){return"hasNext"in e&&"data"in e}function VT(e){return Pi(e)||HT(e)}function Cy(e,t){var o=e,i=new Nn;return Pi(t)&&go(t.incremental)&&t.incremental.forEach(function(n){for(var r=n.data,a=n.path,l=a.length-1;l>=0;--l){var s=a[l],c=!isNaN(+s),u=c?[]:{};u[s]=r,r=u}o=i.merge(o,r)}),o}function Zs(e){var t=bu(e);return go(t)}function bu(e){var t=go(e.errors)?e.errors.slice(0):[];return Pi(e)&&go(e.incremental)&&e.incremental.forEach(function(o){o.errors&&t.push.apply(t,o.errors)}),t}function ja(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=Object.create(null);return e.forEach(function(i){i&&Object.keys(i).forEach(function(n){var r=i[n];r!==void 0&&(o[n]=r)})}),o}var bm=new Map;function wu(e){var t=bm.get(e)||1;return bm.set(e,t+1),"".concat(e,":").concat(t,":").concat(Math.random().toString(36).slice(2))}function zT(e){var t=wu("stringifyForDisplay");return JSON.stringify(e,function(o,i){return i===void 0?t:i}).split(JSON.stringify(t)).join("<undefined>")}function yl(e,t){return ja(e,t,t.variables&&{variables:ye(ye({},e&&e.variables),t.variables)})}function wm(e){return new mt(function(t){t.error(e)})}var Eu=function(e,t,o){var i=new Error(o);throw i.name="ServerError",i.response=e,i.statusCode=e.status,i.result=t,i};function QT(e){for(var t=["query","operationName","variables","extensions","context"],o=0,i=Object.keys(e);o<i.length;o++){var n=i[o];if(t.indexOf(n)<0)throw __DEV__?new lt("illegal argument: ".concat(n)):new lt(27)}return e}function GT(e,t){var o=ye({},e),i=function(r){typeof r=="function"?o=ye(ye({},o),r(o)):o=ye(ye({},o),r)},n=function(){return ye({},o)};return Object.defineProperty(t,"setContext",{enumerable:!1,value:i}),Object.defineProperty(t,"getContext",{enumerable:!1,value:n}),t}function WT(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName=typeof t.query!="string"?pu(t.query)||void 0:""),t}function Em(e,t){return t?t(e):mt.of()}function mr(e){return typeof e=="function"?new Io(e):e}function Ms(e){return e.request.length<=1}var KT=function(e){ao(t,e);function t(o,i){var n=e.call(this,o)||this;return n.link=i,n}return t}(Error),Io=function(){function e(t){t&&(this.request=t)}return e.empty=function(){return new e(function(){return mt.of()})},e.from=function(t){return t.length===0?e.empty():t.map(mr).reduce(function(o,i){return o.concat(i)})},e.split=function(t,o,i){var n=mr(o),r=mr(i||new e(Em));return Ms(n)&&Ms(r)?new e(function(a){return t(a)?n.request(a)||mt.of():r.request(a)||mt.of()}):new e(function(a,l){return t(a)?n.request(a,l)||mt.of():r.request(a,l)||mt.of()})},e.execute=function(t,o){return t.request(GT(o.context,WT(QT(o))))||mt.of()},e.concat=function(t,o){var i=mr(t);if(Ms(i))return __DEV__&&Fe.warn(new KT("You are calling concat on a terminating link, which will have no effect",i)),i;var n=mr(o);return Ms(n)?new e(function(r){return i.request(r,function(a){return n.request(a)||mt.of()})||mt.of()}):new e(function(r,a){return i.request(r,function(l){return n.request(l,a)||mt.of()})||mt.of()})},e.prototype.split=function(t,o,i){return this.concat(e.split(t,o,i||new e(Em)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(t,o){throw __DEV__?new lt("request is not implemented"):new lt(22)},e.prototype.onError=function(t,o){if(o&&o.error)return o.error(t),!1;throw t},e.prototype.setOnError=function(t){return this.onError=t,this},e}(),Sy=Io.from,JT=Io.split,Au=Io.execute,YT="3.7.10";function ZT(e){return!!e.body}function XT(e){return!!e.getReader}function eI(e){return!!($a&&e[Symbol.asyncIterator])}function tI(e){return!!e.stream}function oI(e){return!!e.arrayBuffer}function nI(e){return!!e.pipe}function iI(e){var t,o=e[Symbol.asyncIterator]();return t={next:function(){return o.next()}},t[Symbol.asyncIterator]=function(){return this},t}function rI(e){var t=null,o=null,i=!1,n=[],r=[];function a(f){if(!o){if(r.length){var p=r.shift();if(Array.isArray(p)&&p[0])return p[0]({value:f,done:!1})}n.push(f)}}function l(f){o=f;var p=r.slice();p.forEach(function(y){y[1](f)}),!t||t()}function s(){i=!0;var f=r.slice();f.forEach(function(p){p[0]({value:void 0,done:!0})}),!t||t()}t=function(){t=null,e.removeListener("data",a),e.removeListener("error",l),e.removeListener("end",s),e.removeListener("finish",s),e.removeListener("close",s)},e.on("data",a),e.on("error",l),e.on("end",s),e.on("finish",s),e.on("close",s);function c(){return new Promise(function(f,p){if(o)return p(o);if(n.length)return f({value:n.shift(),done:!1});if(i)return f({value:void 0,done:!0});r.push([f,p])})}var u={next:function(){return c()}};return $a&&(u[Symbol.asyncIterator]=function(){return this}),u}function sI(e){var t=!1,o={next:function(){return t?Promise.resolve({value:void 0,done:!0}):(t=!0,new Promise(function(i,n){e.then(function(r){i({value:r,done:!1})}).catch(n)}))}};return $a&&(o[Symbol.asyncIterator]=function(){return this}),o}function Am(e){var t={next:function(){return e.read()}};return $a&&(t[Symbol.asyncIterator]=function(){return this}),t}function aI(e){var t=e;if(ZT(e)&&(t=e.body),eI(t))return iI(t);if(XT(t))return Am(t.getReader());if(tI(t))return Am(t.stream().getReader());if(oI(t))return sI(t.arrayBuffer());if(nI(t))return rI(t);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var _m=Object.prototype.hasOwnProperty;function cI(e,t){var o,i,n;return vn(this,void 0,void 0,function(){var r,a,l,s,c,u,f,p,y,v,C,I,N,_,b,w,T,k,M,H;return yn(this,function(P){switch(P.label){case 0:if(TextDecoder===void 0)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");r=new TextDecoder("utf-8"),a=(o=e.headers)===null||o===void 0?void 0:o.get("content-type"),l="boundary=",s=a!=null&&a.includes(l)?a==null?void 0:a.substring((a==null?void 0:a.indexOf(l))+l.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",c="--".concat(s),u="",f=aI(e),p=!0,P.label=1;case 1:return p?[4,f.next()]:[3,3];case 2:for(y=P.sent(),v=y.value,C=y.done,I=typeof v=="string"?v:r.decode(v),p=!C,u+=I,N=u.indexOf(c);N>-1;){if(_=void 0,H=[u.slice(0,N),u.slice(N+c.length)],_=H[0],u=H[1],_.trim()){if(b=_.indexOf(`\r
\r
`),w=lI(_.slice(0,b)),T=w["content-type"],T&&T.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");k=_.slice(b);try{M=Ny(e,k.replace(`\r
`,"")),(Object.keys(M).length>1||"data"in M||"incremental"in M||"errors"in M)&&((i=t.next)===null||i===void 0||i.call(t,M))}catch(D){Pd(D,t)}}N=u.indexOf(c)}return[3,1];case 3:return(n=t.complete)===null||n===void 0||n.call(t),[2]}})})}function lI(e){var t={};return e.split(`
`).forEach(function(o){var i=o.indexOf(":");if(i>-1){var n=o.slice(0,i).trim().toLowerCase(),r=o.slice(i+1).trim();t[n]=r}}),t}function Ny(e,t){if(e.status>=300){var o=function(){try{return JSON.parse(t)}catch{return t}};Eu(e,o(),"Response not successful: Received status code ".concat(e.status))}try{return JSON.parse(t)}catch(n){var i=n;throw i.name="ServerParseError",i.response=e,i.statusCode=e.status,i.bodyText=t,i}}function Pd(e,t){var o,i;e.name!=="AbortError"&&(e.result&&e.result.errors&&e.result.data&&((o=t.next)===null||o===void 0||o.call(t,e.result)),(i=t.error)===null||i===void 0||i.call(t,e))}function uI(e,t,o){dI(t)(e).then(function(i){var n,r;(n=o.next)===null||n===void 0||n.call(o,i),(r=o.complete)===null||r===void 0||r.call(o)}).catch(function(i){return Pd(i,o)})}function dI(e){return function(t){return t.text().then(function(o){return Ny(t,o)}).then(function(o){return t.status>=300&&Eu(t,o,"Response not successful: Received status code ".concat(t.status)),!Array.isArray(o)&&!_m.call(o,"data")&&!_m.call(o,"errors")&&Eu(t,o,"Server response was missing for query '".concat(Array.isArray(e)?e.map(function(i){return i.operationName}):e.operationName,"'.")),o})}}var _u=function(e,t){var o;try{o=JSON.stringify(e)}catch(n){var i=__DEV__?new lt("Network request failed. ".concat(t," is not serializable: ").concat(n.message)):new lt(24);throw i.parseError=n,i}return o},fI={includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},hI={accept:"*/*","content-type":"application/json"},pI={method:"POST"},mI={http:fI,headers:hI,options:pI},gI=function(e,t){return t(e)};function vI(e,t){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];var n={},r={};o.forEach(function(f){n=ye(ye(ye({},n),f.options),{headers:ye(ye({},n.headers),f.headers)}),f.credentials&&(n.credentials=f.credentials),r=ye(ye({},r),f.http)}),n.headers&&(n.headers=yI(n.headers,r.preserveHeaderCase));var a=e.operationName,l=e.extensions,s=e.variables,c=e.query,u={operationName:a,variables:s};return r.includeExtensions&&(u.extensions=l),r.includeQuery&&(u.query=t(c,Jv)),{options:n,body:u}}function yI(e,t){if(!t){var o=Object.create(null);return Object.keys(Object(e)).forEach(function(r){o[r.toLowerCase()]=e[r]}),o}var i=Object.create(null);Object.keys(Object(e)).forEach(function(r){i[r.toLowerCase()]={originalName:r,value:e[r]}});var n=Object.create(null);return Object.keys(i).forEach(function(r){n[i[r].originalName]=i[r].value}),n}var bI=function(e){if(!e&&typeof fetch>"u")throw __DEV__?new lt(`
"fetch" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:

import fetch from 'cross-fetch';
import { ApolloClient, HttpLink } from '@apollo/client';
const client = new ApolloClient({
  link: new HttpLink({ uri: '/graphql', fetch })
});
    `):new lt(23)},wI=function(){if(typeof AbortController>"u")return{controller:!1,signal:!1};var e=new AbortController,t=e.signal;return{controller:e,signal:t}},EI=function(e,t){var o=e.getContext(),i=o.uri;return i||(typeof t=="function"?t(e):t||"/graphql")};function AI(e,t){var o=[],i=function(f,p){o.push("".concat(f,"=").concat(encodeURIComponent(p)))};if("query"in t&&i("query",t.query),t.operationName&&i("operationName",t.operationName),t.variables){var n=void 0;try{n=_u(t.variables,"Variables map")}catch(f){return{parseError:f}}i("variables",n)}if(t.extensions){var r=void 0;try{r=_u(t.extensions,"Extensions map")}catch(f){return{parseError:f}}i("extensions",r)}var a="",l=e,s=e.indexOf("#");s!==-1&&(a=e.substr(s),l=e.substr(0,s));var c=l.indexOf("?")===-1?"?":"&",u=l+c+o.join("&")+a;return{newURI:u}}var Cm=fo(function(){return fetch}),xy=function(e){e===void 0&&(e={});var t=e.uri,o=t===void 0?"/graphql":t,i=e.fetch,n=e.print,r=n===void 0?gI:n,a=e.includeExtensions,l=e.preserveHeaderCase,s=e.useGETForQueries,c=e.includeUnusedVariables,u=c===void 0?!1:c,f=Yn(e,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);__DEV__&&bI(i||Cm);var p={http:{includeExtensions:a,preserveHeaderCase:l},options:f.fetchOptions,credentials:f.credentials,headers:f.headers};return new Io(function(y){var v=EI(y,o),C=y.getContext(),I={};if(C.clientAwareness){var N=C.clientAwareness,_=N.name,b=N.version;_&&(I["apollographql-client-name"]=_),b&&(I["apollographql-client-version"]=b)}var w=ye(ye({},I),C.headers),T={http:C.http,options:C.fetchOptions,credentials:C.credentials,headers:w},k=vI(y,r,mI,p,T),M=k.options,H=k.body;if(H.variables&&!u){var P=new Set(Object.keys(H.variables));Zo(y.query,{Variable:function(be,me,_e){_e&&_e.kind!=="VariableDefinition"&&P.delete(be.name.value)}}),P.size&&(H.variables=ye({},H.variables),P.forEach(function(be){delete H.variables[be]}))}var D;if(!M.signal){var B=wI(),F=B.controller,Q=B.signal;D=F,D&&(M.signal=Q)}var E=function(be){return be.kind==="OperationDefinition"&&be.operation==="mutation"};if(s&&!y.query.definitions.some(E)&&(M.method="GET"),yd(["defer"],y.query)&&(M.headers=M.headers||{},M.headers.accept="multipart/mixed; deferSpec=20220824, application/json"),M.method==="GET"){var oe=AI(v,H),ie=oe.newURI,z=oe.parseError;if(z)return wm(z);v=ie}else try{M.body=_u(H,"Payload")}catch(be){return wm(be)}return new mt(function(be){var me=i||fo(function(){return fetch})||Cm;return me(v,M).then(function(_e){var x;y.setContext({response:_e});var $=(x=_e.headers)===null||x===void 0?void 0:x.get("content-type");return $!==null&&/^multipart\/mixed/i.test($)?cI(_e,be):uI(_e,y,be)}).catch(function(_e){return Pd(_e,be)}),function(){D&&D.abort()}})})},_I=function(e){ao(t,e);function t(o){o===void 0&&(o={});var i=e.call(this,xy(o).request)||this;return i.options=o,i}return t}(Io),Ty=Object.prototype,Sm=Ty.toString,CI=Ty.hasOwnProperty,Nm=Function.prototype.toString,Cu=new Map;function Dt(e,t){try{return Su(e,t)}finally{Cu.clear()}}function Su(e,t){if(e===t)return!0;var o=Sm.call(e),i=Sm.call(t);if(o!==i)return!1;switch(o){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":{if(Tm(e,t))return!0;var n=xm(e),r=xm(t),a=n.length;if(a!==r.length)return!1;for(var l=0;l<a;++l)if(!CI.call(t,n[l]))return!1;for(var l=0;l<a;++l){var s=n[l];if(!Su(e[s],t[s]))return!1}return!0}case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!==e)return t!==t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e=="".concat(t);case"[object Map]":case"[object Set]":{if(e.size!==t.size)return!1;if(Tm(e,t))return!0;for(var c=e.entries(),u=o==="[object Map]";;){var f=c.next();if(f.done)break;var p=f.value,y=p[0],v=p[1];if(!t.has(y)||u&&!Su(v,t.get(y)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":{var C=e.byteLength;if(C===t.byteLength)for(;C--&&e[C]===t[C];);return C===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{var I=Nm.call(e);return I!==Nm.call(t)?!1:!xI(I,NI)}}return!1}function xm(e){return Object.keys(e).filter(SI,e)}function SI(e){return this[e]!==void 0}var NI="{ [native code] }";function xI(e,t){var o=e.length-t.length;return o>=0&&e.indexOf(t,o)===o}function Tm(e,t){var o=Cu.get(e);if(o){if(o.has(t))return!0}else Cu.set(e,o=new Set);return o.add(t),!1}var TI=function(){return Object.create(null)},Iy=Array.prototype,II=Iy.forEach,PI=Iy.slice,ns=function(){function e(t,o){t===void 0&&(t=!0),o===void 0&&(o=TI),this.weakness=t,this.makeData=o}return e.prototype.lookup=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return this.lookupArray(t)},e.prototype.lookupArray=function(t){var o=this;return II.call(t,function(i){return o=o.getChildTrie(i)}),o.data||(o.data=this.makeData(PI.call(t)))},e.prototype.getChildTrie=function(t){var o=this.weakness&&DI(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),i=o.get(t);return i||o.set(t,i=new e(this.weakness,this.makeData)),i},e}();function DI(e){switch(typeof e){case"object":if(e===null)break;case"function":return!0}return!1}var Bt=null,Im={},kI=1,RI=function(){return function(){function e(){this.id=["slot",kI++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var t=Bt;t;t=t.parent)if(this.id in t.slots){var o=t.slots[this.id];if(o===Im)break;return t!==Bt&&(Bt.slots[this.id]=o),!0}return Bt&&(Bt.slots[this.id]=Im),!1},e.prototype.getValue=function(){if(this.hasValue())return Bt.slots[this.id]},e.prototype.withValue=function(t,o,i,n){var r,a=(r={__proto__:null},r[this.id]=t,r),l=Bt;Bt={parent:l,slots:a};try{return o.apply(n,i)}finally{Bt=l}},e.bind=function(t){var o=Bt;return function(){var i=Bt;try{return Bt=o,t.apply(this,arguments)}finally{Bt=i}}},e.noContext=function(t,o,i){if(Bt){var n=Bt;try{return Bt=null,t.apply(i,o)}finally{Bt=n}}else return t.apply(i,o)},e}()};function Pm(e){try{return e()}catch{}}var bl="@wry/context:Slot",OI=Pm(function(){return globalThis})||Pm(function(){return global})||Object.create(null),Dm=OI,qa=Dm[bl]||Array[bl]||function(e){try{Object.defineProperty(Dm,bl,{value:e,enumerable:!1,writable:!1,configurable:!0})}finally{return e}}(RI());qa.bind;qa.noContext;function FI(){}var LI=function(){function e(t,o){t===void 0&&(t=1/0),o===void 0&&(o=FI),this.max=t,this.dispose=o,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(t){return this.map.has(t)},e.prototype.get=function(t){var o=this.getNode(t);return o&&o.value},e.prototype.getNode=function(t){var o=this.map.get(t);if(o&&o!==this.newest){var i=o.older,n=o.newer;n&&(n.older=i),i&&(i.newer=n),o.older=this.newest,o.older.newer=o,o.newer=null,this.newest=o,o===this.oldest&&(this.oldest=n)}return o},e.prototype.set=function(t,o){var i=this.getNode(t);return i?i.value=o:(i={key:t,value:o,newer:null,older:this.newest},this.newest&&(this.newest.newer=i),this.newest=i,this.oldest=this.oldest||i,this.map.set(t,i),i.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(t){var o=this.map.get(t);return o?(o===this.newest&&(this.newest=o.older),o===this.oldest&&(this.oldest=o.newer),o.newer&&(o.newer.older=o.older),o.older&&(o.older.newer=o.newer),this.map.delete(t),this.dispose(o.value,t),!0):!1},e}(),Ha=new qa,wl,MI=Object.prototype.hasOwnProperty,Dd=(wl=Array.from,wl===void 0?function(e){var t=[];return e.forEach(function(o){return t.push(o)}),t}:wl);function ma(e){var t=e.unsubscribe;typeof t=="function"&&(e.unsubscribe=void 0,t())}var Wr=[],BI=100;function $i(e,t){if(!e)throw new Error(t||"assertion failure")}function UI(e,t){var o=e.length;return o>0&&o===t.length&&e[o-1]===t[o-1]}function Py(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}function $I(e){return e.slice(0)}var jI=function(){function e(t){this.fn=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++e.count}return e.prototype.peek=function(){if(this.value.length===1&&!xn(this))return km(this),this.value[0]},e.prototype.recompute=function(t){return $i(!this.recomputing,"already recomputing"),km(this),xn(this)?qI(this,t):Py(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Dy(this),ma(this))},e.prototype.dispose=function(){var t=this;this.setDirty(),Ly(this),kd(this,function(o,i){o.setDirty(),My(o,t)})},e.prototype.forget=function(){this.dispose()},e.prototype.dependOn=function(t){t.add(this),this.deps||(this.deps=Wr.pop()||new Set),this.deps.add(t)},e.prototype.forgetDeps=function(){var t=this;this.deps&&(Dd(this.deps).forEach(function(o){return o.delete(t)}),this.deps.clear(),Wr.push(this.deps),this.deps=null)},e.count=0,e}();function km(e){var t=Ha.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),xn(e)?Ry(t,e):Oy(t,e),t}function qI(e,t){return Ly(e),Ha.withValue(e,HI,[e,t]),zI(e,t)&&VI(e),Py(e.value)}function HI(e,t){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,t)}catch(o){e.value[1]=o}e.recomputing=!1}function xn(e){return e.dirty||!!(e.dirtyChildren&&e.dirtyChildren.size)}function VI(e){e.dirty=!1,!xn(e)&&ky(e)}function Dy(e){kd(e,Ry)}function ky(e){kd(e,Oy)}function kd(e,t){var o=e.parents.size;if(o)for(var i=Dd(e.parents),n=0;n<o;++n)t(i[n],e)}function Ry(e,t){$i(e.childValues.has(t)),$i(xn(t));var o=!xn(e);if(!e.dirtyChildren)e.dirtyChildren=Wr.pop()||new Set;else if(e.dirtyChildren.has(t))return;e.dirtyChildren.add(t),o&&Dy(e)}function Oy(e,t){$i(e.childValues.has(t)),$i(!xn(t));var o=e.childValues.get(t);o.length===0?e.childValues.set(t,$I(t.value)):UI(o,t.value)||e.setDirty(),Fy(e,t),!xn(e)&&ky(e)}function Fy(e,t){var o=e.dirtyChildren;o&&(o.delete(t),o.size===0&&(Wr.length<BI&&Wr.push(o),e.dirtyChildren=null))}function Ly(e){e.childValues.size>0&&e.childValues.forEach(function(t,o){My(e,o)}),e.forgetDeps(),$i(e.dirtyChildren===null)}function My(e,t){t.parents.delete(e),e.childValues.delete(t),Fy(e,t)}function zI(e,t){if(typeof e.subscribe=="function")try{ma(e),e.unsubscribe=e.subscribe.apply(null,t)}catch{return e.setDirty(),!1}return!0}var QI={setDirty:!0,dispose:!0,forget:!0};function By(e){var t=new Map,o=e&&e.subscribe;function i(n){var r=Ha.getValue();if(r){var a=t.get(n);a||t.set(n,a=new Set),r.dependOn(a),typeof o=="function"&&(ma(a),a.unsubscribe=o(n))}}return i.dirty=function(r,a){var l=t.get(r);if(l){var s=a&&MI.call(QI,a)?a:"setDirty";Dd(l).forEach(function(c){return c[s]()}),t.delete(r),ma(l)}},i}function Uy(){var e=new ns(typeof WeakMap=="function");return function(){return e.lookupArray(arguments)}}Uy();var El=new Set;function ga(e,t){t===void 0&&(t=Object.create(null));var o=new LI(t.max||Math.pow(2,16),function(c){return c.dispose()}),i=t.keyArgs,n=t.makeCacheKey||Uy(),r=function(){var c=n.apply(null,i?i.apply(null,arguments):arguments);if(c===void 0)return e.apply(null,arguments);var u=o.get(c);u||(o.set(c,u=new jI(e)),u.subscribe=t.subscribe,u.forget=function(){return o.delete(c)});var f=u.recompute(Array.prototype.slice.call(arguments));return o.set(c,u),El.add(o),Ha.hasValue()||(El.forEach(function(p){return p.clean()}),El.clear()),f};Object.defineProperty(r,"size",{get:function(){return o.map.size},configurable:!1,enumerable:!1});function a(c){var u=o.get(c);u&&u.setDirty()}r.dirtyKey=a,r.dirty=function(){a(n.apply(null,arguments))};function l(c){var u=o.get(c);if(u)return u.peek()}r.peekKey=l,r.peek=function(){return l(n.apply(null,arguments))};function s(c){return o.delete(c)}return r.forgetKey=s,r.forget=function(){return s(n.apply(null,arguments))},r.makeCacheKey=n,r.getKey=i?function(){return n.apply(null,i.apply(null,arguments))}:n,Object.freeze(r)}var GI=function(){function e(){this.getFragmentDoc=ga(aT)}return e.prototype.batch=function(t){var o=this,i=typeof t.optimistic=="string"?t.optimistic:t.optimistic===!1?null:void 0,n;return this.performTransaction(function(){return n=t.update(o)},i),n},e.prototype.recordOptimisticTransaction=function(t,o){this.performTransaction(t,o)},e.prototype.transformDocument=function(t){return t},e.prototype.transformForLink=function(t){return t},e.prototype.identify=function(t){},e.prototype.gc=function(){return[]},e.prototype.modify=function(t){return!1},e.prototype.readQuery=function(t,o){return o===void 0&&(o=!!t.optimistic),this.read(ye(ye({},t),{rootId:t.id||"ROOT_QUERY",optimistic:o}))},e.prototype.readFragment=function(t,o){return o===void 0&&(o=!!t.optimistic),this.read(ye(ye({},t),{query:this.getFragmentDoc(t.fragment,t.fragmentName),rootId:t.id,optimistic:o}))},e.prototype.writeQuery=function(t){var o=t.id,i=t.data,n=Yn(t,["id","data"]);return this.write(Object.assign(n,{dataId:o||"ROOT_QUERY",result:i}))},e.prototype.writeFragment=function(t){var o=t.id,i=t.data,n=t.fragment,r=t.fragmentName,a=Yn(t,["id","data","fragment","fragmentName"]);return this.write(Object.assign(a,{query:this.getFragmentDoc(n,r),dataId:o,result:i}))},e.prototype.updateQuery=function(t,o){return this.batch({update:function(i){var n=i.readQuery(t),r=o(n);return r==null?n:(i.writeQuery(ye(ye({},t),{data:r})),r)}})},e.prototype.updateFragment=function(t,o){return this.batch({update:function(i){var n=i.readFragment(t),r=o(n);return r==null?n:(i.writeFragment(ye(ye({},t),{data:r})),r)}})},e}(),$y=function(e){ao(t,e);function t(o,i,n,r){var a,l=e.call(this,o)||this;if(l.message=o,l.path=i,l.query=n,l.variables=r,Array.isArray(l.path)){l.missing=l.message;for(var s=l.path.length-1;s>=0;--s)l.missing=(a={},a[l.path[s]]=l.missing,a)}else l.missing=l.path;return l.__proto__=t.prototype,l}return t}(Error),Ot=Object.prototype.hasOwnProperty;function gr(e){return e==null}function jy(e,t){var o=e.__typename,i=e.id,n=e._id;if(typeof o=="string"&&(t&&(t.keyObject=gr(i)?gr(n)?void 0:{_id:n}:{id:i}),gr(i)&&!gr(n)&&(i=n),!gr(i)))return"".concat(o,":").concat(typeof i=="number"||typeof i=="string"?i:JSON.stringify(i))}var qy={dataIdFromObject:jy,addTypename:!0,resultCaching:!0,canonizeResults:!1};function WI(e){return ja(qy,e)}function Hy(e){var t=e.canonizeResults;return t===void 0?qy.canonizeResults:t}function KI(e,t){return ht(t)?e.get(t.__ref,"__typename"):t&&t.__typename}var Vy=/^[_a-z][_0-9a-z]*/i;function Tn(e){var t=e.match(Vy);return t?t[0]:e}function Nu(e,t,o){return wt(t)?At(t)?t.every(function(i){return Nu(e,i,o)}):e.selections.every(function(i){if(ei(i)&&La(i,o)){var n=Xn(i);return Ot.call(t,n)&&(!i.selectionSet||Nu(i.selectionSet,t[n],o))}return!0}):!1}function Ai(e){return wt(e)&&!ht(e)&&!At(e)}function JI(){return new Nn}function zy(e,t){var o=bd(Ad(e));return{fragmentMap:o,lookupFragment:function(i){var n=o[i];return!n&&t&&(n=t.lookup(i)),n||null}}}var Xs=Object.create(null),Al=function(){return Xs},Rm=Object.create(null),Kr=function(){function e(t,o){var i=this;this.policies=t,this.group=o,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(n,r){return yu(ht(n)?i.get(n.__ref,r):n&&n[r])},this.canRead=function(n){return ht(n)?i.has(n.__ref):typeof n=="object"},this.toReference=function(n,r){if(typeof n=="string")return Ii(n);if(ht(n))return n;var a=i.policies.identify(n)[0];if(a){var l=Ii(a);return r&&i.merge(a,n),l}}}return e.prototype.toObject=function(){return ye({},this.data)},e.prototype.has=function(t){return this.lookup(t,!0)!==void 0},e.prototype.get=function(t,o){if(this.group.depend(t,o),Ot.call(this.data,t)){var i=this.data[t];if(i&&Ot.call(i,o))return i[o]}if(o==="__typename"&&Ot.call(this.policies.rootTypenamesById,t))return this.policies.rootTypenamesById[t];if(this instanceof mn)return this.parent.get(t,o)},e.prototype.lookup=function(t,o){if(o&&this.group.depend(t,"__exists"),Ot.call(this.data,t))return this.data[t];if(this instanceof mn)return this.parent.lookup(t,o);if(this.policies.rootTypenamesById[t])return Object.create(null)},e.prototype.merge=function(t,o){var i=this,n;ht(t)&&(t=t.__ref),ht(o)&&(o=o.__ref);var r=typeof t=="string"?this.lookup(n=t):t,a=typeof o=="string"?this.lookup(n=o):o;if(a){__DEV__?Fe(typeof n=="string","store.merge expects a string ID"):Fe(typeof n=="string",1);var l=new Nn(ZI).merge(r,a);if(this.data[n]=l,l!==r&&(delete this.refs[n],this.group.caching)){var s=Object.create(null);r||(s.__exists=1),Object.keys(a).forEach(function(c){if(!r||r[c]!==l[c]){s[c]=1;var u=Tn(c);u!==c&&!i.policies.hasKeyArgs(l.__typename,u)&&(s[u]=1),l[c]===void 0&&!(i instanceof mn)&&delete l[c]}}),s.__typename&&!(r&&r.__typename)&&this.policies.rootTypenamesById[n]===l.__typename&&delete s.__typename,Object.keys(s).forEach(function(c){return i.group.dirty(n,c)})}}},e.prototype.modify=function(t,o){var i=this,n=this.lookup(t);if(n){var r=Object.create(null),a=!1,l=!0,s={DELETE:Xs,INVALIDATE:Rm,isReference:ht,toReference:this.toReference,canRead:this.canRead,readField:function(c,u){return i.policies.readField(typeof c=="string"?{fieldName:c,from:u||Ii(t)}:c,{store:i})}};if(Object.keys(n).forEach(function(c){var u=Tn(c),f=n[c];if(f!==void 0){var p=typeof o=="function"?o:o[c]||o[u];if(p){var y=p===Al?Xs:p(yu(f),ye(ye({},s),{fieldName:u,storeFieldName:c,storage:i.getStorage(t,c)}));y===Rm?i.group.dirty(t,c):(y===Xs&&(y=void 0),y!==f&&(r[c]=y,a=!0,f=y))}f!==void 0&&(l=!1)}}),a)return this.merge(t,r),l&&(this instanceof mn?this.data[t]=void 0:delete this.data[t],this.group.dirty(t,"__exists")),!0}return!1},e.prototype.delete=function(t,o,i){var n,r=this.lookup(t);if(r){var a=this.getFieldValue(r,"__typename"),l=o&&i?this.policies.getStoreFieldName({typename:a,fieldName:o,args:i}):o;return this.modify(t,l?(n={},n[l]=Al,n):Al)}return!1},e.prototype.evict=function(t,o){var i=!1;return t.id&&(Ot.call(this.data,t.id)&&(i=this.delete(t.id,t.fieldName,t.args)),this instanceof mn&&this!==o&&(i=this.parent.evict(t,o)||i),(t.fieldName||i)&&this.group.dirty(t.id,t.fieldName||"__exists")),i},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var t=this,o=this.toObject(),i=[];return this.getRootIdSet().forEach(function(n){Ot.call(t.policies.rootTypenamesById,n)||i.push(n)}),i.length&&(o.__META={extraRootIds:i.sort()}),o},e.prototype.replace=function(t){var o=this;if(Object.keys(this.data).forEach(function(r){t&&Ot.call(t,r)||o.delete(r)}),t){var i=t.__META,n=Yn(t,["__META"]);Object.keys(n).forEach(function(r){o.merge(r,n[r])}),i&&i.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(t){return this.rootIds[t]=(this.rootIds[t]||0)+1},e.prototype.release=function(t){if(this.rootIds[t]>0){var o=--this.rootIds[t];return o||delete this.rootIds[t],o}return 0},e.prototype.getRootIdSet=function(t){return t===void 0&&(t=new Set),Object.keys(this.rootIds).forEach(t.add,t),this instanceof mn?this.parent.getRootIdSet(t):Object.keys(this.policies.rootTypenamesById).forEach(t.add,t),t},e.prototype.gc=function(){var t=this,o=this.getRootIdSet(),i=this.toObject();o.forEach(function(a){Ot.call(i,a)&&(Object.keys(t.findChildRefIds(a)).forEach(o.add,o),delete i[a])});var n=Object.keys(i);if(n.length){for(var r=this;r instanceof mn;)r=r.parent;n.forEach(function(a){return r.delete(a)})}return n},e.prototype.findChildRefIds=function(t){if(!Ot.call(this.refs,t)){var o=this.refs[t]=Object.create(null),i=this.data[t];if(!i)return o;var n=new Set([i]);n.forEach(function(r){ht(r)&&(o[r.__ref]=!0),wt(r)&&Object.keys(r).forEach(function(a){var l=r[a];wt(l)&&n.add(l)})})}return this.refs[t]},e.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},e}(),Qy=function(){function e(t,o){o===void 0&&(o=null),this.caching=t,this.parent=o,this.d=null,this.resetCaching()}return e.prototype.resetCaching=function(){this.d=this.caching?By():null,this.keyMaker=new ns(oi)},e.prototype.depend=function(t,o){if(this.d){this.d(_l(t,o));var i=Tn(o);i!==o&&this.d(_l(t,i)),this.parent&&this.parent.depend(t,o)}},e.prototype.dirty=function(t,o){this.d&&this.d.dirty(_l(t,o),o==="__exists"?"forget":"setDirty")},e}();function _l(e,t){return t+"#"+e}function Om(e,t){Rr(e)&&e.group.depend(t,"__exists")}(function(e){var t=function(o){ao(i,o);function i(n){var r=n.policies,a=n.resultCaching,l=a===void 0?!0:a,s=n.seed,c=o.call(this,r,new Qy(l))||this;return c.stump=new YI(c),c.storageTrie=new ns(oi),s&&c.replace(s),c}return i.prototype.addLayer=function(n,r){return this.stump.addLayer(n,r)},i.prototype.removeLayer=function(){return this},i.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},i}(e);e.Root=t})(Kr||(Kr={}));var mn=function(e){ao(t,e);function t(o,i,n,r){var a=e.call(this,i.policies,r)||this;return a.id=o,a.parent=i,a.replay=n,a.group=r,n(a),a}return t.prototype.addLayer=function(o,i){return new t(o,this,i,this.group)},t.prototype.removeLayer=function(o){var i=this,n=this.parent.removeLayer(o);return o===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(r){var a=i.data[r],l=n.lookup(r);l?a?a!==l&&Object.keys(a).forEach(function(s){Dt(a[s],l[s])||i.group.dirty(r,s)}):(i.group.dirty(r,"__exists"),Object.keys(l).forEach(function(s){i.group.dirty(r,s)})):i.delete(r)}),n):n===this.parent?this:n.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return ye(ye({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(o){var i=this.parent.findChildRefIds(o);return Ot.call(this.data,o)?ye(ye({},i),e.prototype.findChildRefIds.call(this,o)):i},t.prototype.getStorage=function(){for(var o=this.parent;o.parent;)o=o.parent;return o.getStorage.apply(o,arguments)},t}(Kr),YI=function(e){ao(t,e);function t(o){return e.call(this,"EntityStore.Stump",o,function(){},new Qy(o.group.caching,o.group))||this}return t.prototype.removeLayer=function(){return this},t.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},t}(mn);function ZI(e,t,o){var i=e[o],n=t[o];return Dt(i,n)?i:n}function Rr(e){return!!(e instanceof Kr&&e.group.caching)}function XI(e){return wt(e)?At(e)?e.slice(0):ye({__proto__:Object.getPrototypeOf(e)},e):e}var xu=function(){function e(){this.known=new(qT?WeakSet:Set),this.pool=new ns(oi),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return e.prototype.isKnown=function(t){return wt(t)&&this.known.has(t)},e.prototype.pass=function(t){if(wt(t)){var o=XI(t);return this.passes.set(o,t),o}return t},e.prototype.admit=function(t){var o=this;if(wt(t)){var i=this.passes.get(t);if(i)return i;var n=Object.getPrototypeOf(t);switch(n){case Array.prototype:{if(this.known.has(t))return t;var r=t.map(this.admit,this),a=this.pool.lookupArray(r);return a.array||(this.known.add(a.array=r),__DEV__&&Object.freeze(r)),a.array}case null:case Object.prototype:{if(this.known.has(t))return t;var l=Object.getPrototypeOf(t),s=[l],c=this.sortedKeys(t);s.push(c.json);var u=s.length;c.sorted.forEach(function(y){s.push(o.admit(t[y]))});var a=this.pool.lookupArray(s);if(!a.object){var f=a.object=Object.create(l);this.known.add(f),c.sorted.forEach(function(y,v){f[y]=s[u+v]}),__DEV__&&Object.freeze(f)}return a.object}}}return t},e.prototype.sortedKeys=function(t){var o=Object.keys(t),i=this.pool.lookupArray(o);if(!i.keys){o.sort();var n=JSON.stringify(o);(i.keys=this.keysByJSON.get(n))||this.keysByJSON.set(n,i.keys={sorted:o,json:n})}return i.keys},e}(),Kn=Object.assign(function(e){if(wt(e)){Tu===void 0&&Fm();var t=Tu.admit(e),o=Iu.get(t);return o===void 0&&Iu.set(t,o=JSON.stringify(t)),o}return JSON.stringify(e)},{reset:Fm}),Tu,Iu;function Fm(){Tu=new xu,Iu=new(oi?WeakMap:Map)}function Lm(e){return[e.selectionSet,e.objectOrReference,e.context,e.context.canonizeResults]}var e2=function(){function e(t){var o=this;this.knownResults=new(oi?WeakMap:Map),this.config=ja(t,{addTypename:t.addTypename!==!1,canonizeResults:Hy(t)}),this.canon=t.canon||new xu,this.executeSelectionSet=ga(function(i){var n,r=i.context.canonizeResults,a=Lm(i);a[3]=!r;var l=(n=o.executeSelectionSet).peek.apply(n,a);return l?r?ye(ye({},l),{result:o.canon.admit(l.result)}):l:(Om(i.context.store,i.enclosingRef.__ref),o.execSelectionSetImpl(i))},{max:this.config.resultCacheMaxSize,keyArgs:Lm,makeCacheKey:function(i,n,r,a){if(Rr(r.store))return r.store.makeCacheKey(i,ht(n)?n.__ref:n,r.varString,a)}}),this.executeSubSelectedArray=ga(function(i){return Om(i.context.store,i.enclosingRef.__ref),o.execSubSelectedArrayImpl(i)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(i){var n=i.field,r=i.array,a=i.context;if(Rr(a.store))return a.store.makeCacheKey(n,r,a.varString)}})}return e.prototype.resetCanon=function(){this.canon=new xu},e.prototype.diffQueryAgainstStore=function(t){var o=t.store,i=t.query,n=t.rootId,r=n===void 0?"ROOT_QUERY":n,a=t.variables,l=t.returnPartialData,s=l===void 0?!0:l,c=t.canonizeResults,u=c===void 0?this.config.canonizeResults:c,f=this.config.cache.policies;a=ye(ye({},_d(my(i))),a);var p=Ii(r),y=this.executeSelectionSet({selectionSet:Ua(i).selectionSet,objectOrReference:p,enclosingRef:p,context:ye({store:o,query:i,policies:f,variables:a,varString:Kn(a),canonizeResults:u},zy(i,this.config.fragments))}),v;if(y.missing&&(v=[new $y(t2(y.missing),y.missing,i,a)],!s))throw v[0];return{result:y.result,complete:!v,missing:v}},e.prototype.isFresh=function(t,o,i,n){if(Rr(n.store)&&this.knownResults.get(t)===i){var r=this.executeSelectionSet.peek(i,o,n,this.canon.isKnown(t));if(r&&t===r.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(t){var o=this,i=t.selectionSet,n=t.objectOrReference,r=t.enclosingRef,a=t.context;if(ht(n)&&!a.policies.rootTypenamesById[n.__ref]&&!a.store.has(n.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(n.__ref," object")};var l=a.variables,s=a.policies,c=a.store,u=c.getFieldValue(n,"__typename"),f=[],p,y=new Nn;this.config.addTypename&&typeof u=="string"&&!s.rootIdsByTypename[u]&&f.push({__typename:u});function v(b,w){var T;return b.missing&&(p=y.merge(p,(T={},T[w]=b.missing,T))),b.result}var C=new Set(i.selections);C.forEach(function(b){var w,T;if(La(b,l))if(ei(b)){var k=s.readField({fieldName:b.name.value,field:b,variables:a.variables,from:n},a),M=Xn(b);k===void 0?Cd.added(b)||(p=y.merge(p,(w={},w[M]="Can't find field '".concat(b.name.value,"' on ").concat(ht(n)?n.__ref+" object":"object "+JSON.stringify(n,null,2)),w))):At(k)?k=v(o.executeSubSelectedArray({field:b,array:k,enclosingRef:r,context:a}),M):b.selectionSet?k!=null&&(k=v(o.executeSelectionSet({selectionSet:b.selectionSet,objectOrReference:k,enclosingRef:ht(k)?k:r,context:a}),M)):a.canonizeResults&&(k=o.canon.pass(k)),k!==void 0&&f.push((T={},T[M]=k,T))}else{var H=wd(b,a.lookupFragment);if(!H&&b.kind===Ue.FRAGMENT_SPREAD)throw __DEV__?new lt("No fragment named ".concat(b.name.value)):new lt(5);H&&s.fragmentMatches(H,u)&&H.selectionSet.selections.forEach(C.add,C)}});var I=Sd(f),N={result:I,missing:p},_=a.canonizeResults?this.canon.admit(N):yu(N);return _.result&&this.knownResults.set(_.result,i),_},e.prototype.execSubSelectedArrayImpl=function(t){var o=this,i=t.field,n=t.array,r=t.enclosingRef,a=t.context,l,s=new Nn;function c(u,f){var p;return u.missing&&(l=s.merge(l,(p={},p[f]=u.missing,p))),u.result}return i.selectionSet&&(n=n.filter(a.store.canRead)),n=n.map(function(u,f){return u===null?null:At(u)?c(o.executeSubSelectedArray({field:i,array:u,enclosingRef:r,context:a}),f):i.selectionSet?c(o.executeSelectionSet({selectionSet:i.selectionSet,objectOrReference:u,enclosingRef:ht(u)?u:r,context:a}),f):(__DEV__&&o2(a.store,i,u),u)}),{result:a.canonizeResults?this.canon.admit(n):n,missing:l}},e}();function t2(e){try{JSON.stringify(e,function(t,o){if(typeof o=="string")throw o;return o})}catch(t){return t}}function o2(e,t,o){if(!t.selectionSet){var i=new Set([o]);i.forEach(function(n){wt(n)&&(__DEV__?Fe(!ht(n),"Missing selection set for object of type ".concat(KI(e,n)," returned for query field ").concat(t.name.value)):Fe(!ht(n),6),Object.values(n).forEach(i.add,i))})}}var Rd=new qa,Mm=new WeakMap;function Or(e){var t=Mm.get(e);return t||Mm.set(e,t={vars:new Set,dep:By()}),t}function Bm(e){Or(e).vars.forEach(function(t){return t.forgetCache(e)})}function n2(e){Or(e).vars.forEach(function(t){return t.attachCache(e)})}function i2(e){var t=new Set,o=new Set,i=function(r){if(arguments.length>0){if(e!==r){e=r,t.forEach(function(s){Or(s).dep.dirty(i),r2(s)});var a=Array.from(o);o.clear(),a.forEach(function(s){return s(e)})}}else{var l=Rd.getValue();l&&(n(l),Or(l).dep(i))}return e};i.onNextChange=function(r){return o.add(r),function(){o.delete(r)}};var n=i.attachCache=function(r){return t.add(r),Or(r).vars.add(i),i};return i.forgetCache=function(r){return t.delete(r)},i}function r2(e){e.broadcastWatches&&e.broadcastWatches()}var Um=Object.create(null);function Od(e){var t=JSON.stringify(e);return Um[t]||(Um[t]=Object.create(null))}function $m(e){var t=Od(e);return t.keyFieldsFn||(t.keyFieldsFn=function(o,i){var n=function(a,l){return i.readField(l,a)},r=i.keyObject=Fd(e,function(a){var l=Di(i.storeObject,a,n);return l===void 0&&o!==i.storeObject&&Ot.call(o,a[0])&&(l=Di(o,a,Wy)),__DEV__?Fe(l!==void 0,"Missing field '".concat(a.join("."),"' while extracting keyFields from ").concat(JSON.stringify(o))):Fe(l!==void 0,2),l});return"".concat(i.typename,":").concat(JSON.stringify(r))})}function jm(e){var t=Od(e);return t.keyArgsFn||(t.keyArgsFn=function(o,i){var n=i.field,r=i.variables,a=i.fieldName,l=Fd(e,function(c){var u=c[0],f=u.charAt(0);if(f==="@"){if(n&&go(n.directives)){var p=u.slice(1),y=n.directives.find(function(N){return N.name.value===p}),v=y&&Ma(y,r);return v&&Di(v,c.slice(1))}return}if(f==="$"){var C=u.slice(1);if(r&&Ot.call(r,C)){var I=c.slice(0);return I[0]=C,Di(r,I)}return}if(o)return Di(o,c)}),s=JSON.stringify(l);return(o||s!=="{}")&&(a+=":"+s),a})}function Fd(e,t){var o=new Nn;return Gy(e).reduce(function(i,n){var r,a=t(n);if(a!==void 0){for(var l=n.length-1;l>=0;--l)a=(r={},r[n[l]]=a,r);i=o.merge(i,a)}return i},Object.create(null))}function Gy(e){var t=Od(e);if(!t.paths){var o=t.paths=[],i=[];e.forEach(function(n,r){At(n)?(Gy(n).forEach(function(a){return o.push(i.concat(a))}),i.length=0):(i.push(n),At(e[r+1])||(o.push(i.slice(0)),i.length=0))})}return t.paths}function Wy(e,t){return e[t]}function Di(e,t,o){return o=o||Wy,Ky(t.reduce(function i(n,r){return At(n)?n.map(function(a){return i(a,r)}):n&&o(n,r)},e))}function Ky(e){return wt(e)?At(e)?e.map(Ky):Fd(Object.keys(e).sort(),function(t){return Di(e,t)}):e}Ed.setStringify(Kn);function Pu(e){return e.args!==void 0?e.args:e.field?Ma(e.field,e.variables):null}var s2=function(){},qm=function(e,t){return t.fieldName},Hm=function(e,t,o){var i=o.mergeObjects;return i(e,t)},Vm=function(e,t){return t},a2=function(){function e(t){this.config=t,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=ye({dataIdFromObject:jy},t),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),t.possibleTypes&&this.addPossibleTypes(t.possibleTypes),t.typePolicies&&this.addTypePolicies(t.typePolicies)}return e.prototype.identify=function(t,o){var i,n=this,r=o&&(o.typename||((i=o.storeObject)===null||i===void 0?void 0:i.__typename))||t.__typename;if(r===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var a=o&&o.storeObject||t,l=ye(ye({},o),{typename:r,storeObject:a,readField:o&&o.readField||function(){var p=Ld(arguments,a);return n.readField(p,{store:n.cache.data,variables:p.variables})}}),s,c=r&&this.getTypePolicy(r),u=c&&c.keyFn||this.config.dataIdFromObject;u;){var f=u(t,l);if(At(f))u=$m(f);else{s=f;break}}return s=s?String(s):void 0,l.keyObject?[s,l.keyObject]:[s]},e.prototype.addTypePolicies=function(t){var o=this;Object.keys(t).forEach(function(i){var n=t[i],r=n.queryType,a=n.mutationType,l=n.subscriptionType,s=Yn(n,["queryType","mutationType","subscriptionType"]);r&&o.setRootTypename("Query",i),a&&o.setRootTypename("Mutation",i),l&&o.setRootTypename("Subscription",i),Ot.call(o.toBeAdded,i)?o.toBeAdded[i].push(s):o.toBeAdded[i]=[s]})},e.prototype.updateTypePolicy=function(t,o){var i=this,n=this.getTypePolicy(t),r=o.keyFields,a=o.fields;function l(s,c){s.merge=typeof c=="function"?c:c===!0?Hm:c===!1?Vm:s.merge}l(n,o.merge),n.keyFn=r===!1?s2:At(r)?$m(r):typeof r=="function"?r:n.keyFn,a&&Object.keys(a).forEach(function(s){var c=i.getFieldPolicy(t,s,!0),u=a[s];if(typeof u=="function")c.read=u;else{var f=u.keyArgs,p=u.read,y=u.merge;c.keyFn=f===!1?qm:At(f)?jm(f):typeof f=="function"?f:c.keyFn,typeof p=="function"&&(c.read=p),l(c,y)}c.read&&c.merge&&(c.keyFn=c.keyFn||qm)})},e.prototype.setRootTypename=function(t,o){o===void 0&&(o=t);var i="ROOT_"+t.toUpperCase(),n=this.rootTypenamesById[i];o!==n&&(__DEV__?Fe(!n||n===t,"Cannot change root ".concat(t," __typename more than once")):Fe(!n||n===t,3),n&&delete this.rootIdsByTypename[n],this.rootIdsByTypename[o]=i,this.rootTypenamesById[i]=o)},e.prototype.addPossibleTypes=function(t){var o=this;this.usingPossibleTypes=!0,Object.keys(t).forEach(function(i){o.getSupertypeSet(i,!0),t[i].forEach(function(n){o.getSupertypeSet(n,!0).add(i);var r=n.match(Vy);(!r||r[0]!==n)&&o.fuzzySubtypes.set(n,new RegExp(n))})})},e.prototype.getTypePolicy=function(t){var o=this;if(!Ot.call(this.typePolicies,t)){var i=this.typePolicies[t]=Object.create(null);i.fields=Object.create(null);var n=this.supertypeMap.get(t);n&&n.size&&n.forEach(function(a){var l=o.getTypePolicy(a),s=l.fields,c=Yn(l,["fields"]);Object.assign(i,c),Object.assign(i.fields,s)})}var r=this.toBeAdded[t];return r&&r.length&&r.splice(0).forEach(function(a){o.updateTypePolicy(t,a)}),this.typePolicies[t]},e.prototype.getFieldPolicy=function(t,o,i){if(t){var n=this.getTypePolicy(t).fields;return n[o]||i&&(n[o]=Object.create(null))}},e.prototype.getSupertypeSet=function(t,o){var i=this.supertypeMap.get(t);return!i&&o&&this.supertypeMap.set(t,i=new Set),i},e.prototype.fragmentMatches=function(t,o,i,n){var r=this;if(!t.typeCondition)return!0;if(!o)return!1;var a=t.typeCondition.name.value;if(o===a)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(a))for(var l=this.getSupertypeSet(o,!0),s=[l],c=function(v){var C=r.getSupertypeSet(v,!1);C&&C.size&&s.indexOf(C)<0&&s.push(C)},u=!!(i&&this.fuzzySubtypes.size),f=!1,p=0;p<s.length;++p){var y=s[p];if(y.has(a))return l.has(a)||(f&&__DEV__&&Fe.warn("Inferring subtype ".concat(o," of supertype ").concat(a)),l.add(a)),!0;y.forEach(c),u&&p===s.length-1&&Nu(t.selectionSet,i,n)&&(u=!1,f=!0,this.fuzzySubtypes.forEach(function(v,C){var I=o.match(v);I&&I[0]===o&&c(C)}))}return!1},e.prototype.hasKeyArgs=function(t,o){var i=this.getFieldPolicy(t,o,!1);return!!(i&&i.keyFn)},e.prototype.getStoreFieldName=function(t){var o=t.typename,i=t.fieldName,n=this.getFieldPolicy(o,i,!1),r,a=n&&n.keyFn;if(a&&o)for(var l={typename:o,fieldName:i,field:t.field||null,variables:t.variables},s=Pu(t);a;){var c=a(s,l);if(At(c))a=jm(c);else{r=c||i;break}}return r===void 0&&(r=t.field?yT(t.field,t.variables):Ed(i,Pu(t))),r===!1?i:i===Tn(r)?r:i+":"+r},e.prototype.readField=function(t,o){var i=t.from;if(i){var n=t.field||t.fieldName;if(n){if(t.typename===void 0){var r=o.store.getFieldValue(i,"__typename");r&&(t.typename=r)}var a=this.getStoreFieldName(t),l=Tn(a),s=o.store.getFieldValue(i,a),c=this.getFieldPolicy(t.typename,l,!1),u=c&&c.read;if(u){var f=zm(this,i,t,o,o.store.getStorage(ht(i)?i.__ref:i,a));return Rd.withValue(this.cache,u,[s,f])}return s}}},e.prototype.getReadFunction=function(t,o){var i=this.getFieldPolicy(t,o,!1);return i&&i.read},e.prototype.getMergeFunction=function(t,o,i){var n=this.getFieldPolicy(t,o,!1),r=n&&n.merge;return!r&&i&&(n=this.getTypePolicy(i),r=n&&n.merge),r},e.prototype.runMergeFunction=function(t,o,i,n,r){var a=i.field,l=i.typename,s=i.merge;return s===Hm?Jy(n.store)(t,o):s===Vm?o:(n.overwrite&&(t=void 0),s(t,o,zm(this,void 0,{typename:l,fieldName:a.name.value,field:a,variables:n.variables},n,r||Object.create(null))))},e}();function zm(e,t,o,i,n){var r=e.getStoreFieldName(o),a=Tn(r),l=o.variables||i.variables,s=i.store,c=s.toReference,u=s.canRead;return{args:Pu(o),field:o.field||null,fieldName:a,storeFieldName:r,variables:l,isReference:ht,toReference:c,storage:n,cache:e.cache,canRead:u,readField:function(){return e.readField(Ld(arguments,t,l),i)},mergeObjects:Jy(i.store)}}function Ld(e,t,o){var i=e[0],n=e[1],r=e.length,a;return typeof i=="string"?a={fieldName:i,from:r>1?n:t}:(a=ye({},i),Ot.call(a,"from")||(a.from=t)),__DEV__&&a.from===void 0&&__DEV__&&Fe.warn("Undefined 'from' passed to readField with arguments ".concat(zT(Array.from(e)))),a.variables===void 0&&(a.variables=o),a}function Jy(e){return function(o,i){if(At(o)||At(i))throw __DEV__?new lt("Cannot automatically merge arrays"):new lt(4);if(wt(o)&&wt(i)){var n=e.getFieldValue(o,"__typename"),r=e.getFieldValue(i,"__typename"),a=n&&r&&n!==r;if(a)return i;if(ht(o)&&Ai(i))return e.merge(o.__ref,i),o;if(Ai(o)&&ht(i))return e.merge(o,i.__ref),i;if(Ai(o)&&Ai(i))return ye(ye({},o),i)}return i}}function Cl(e,t,o){var i="".concat(t).concat(o),n=e.flavors.get(i);return n||e.flavors.set(i,n=e.clientOnly===t&&e.deferred===o?e:ye(ye({},e),{clientOnly:t,deferred:o})),n}var c2=function(){function e(t,o,i){this.cache=t,this.reader=o,this.fragments=i}return e.prototype.writeToStore=function(t,o){var i=this,n=o.query,r=o.result,a=o.dataId,l=o.variables,s=o.overwrite,c=os(n),u=JI();l=ye(ye({},_d(c)),l);var f=ye(ye({store:t,written:Object.create(null),merge:function(y,v){return u.merge(y,v)},variables:l,varString:Kn(l)},zy(n,this.fragments)),{overwrite:!!s,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),p=this.processSelectionSet({result:r||Object.create(null),dataId:a,selectionSet:c.selectionSet,mergeTree:{map:new Map},context:f});if(!ht(p))throw __DEV__?new lt("Could not identify object ".concat(JSON.stringify(r))):new lt(7);return f.incomingById.forEach(function(y,v){var C=y.storeObject,I=y.mergeTree,N=y.fieldNodeSet,_=Ii(v);if(I&&I.map.size){var b=i.applyMerges(I,_,C,f);if(ht(b))return;C=b}if(__DEV__&&!f.overwrite){var w=Object.create(null);N.forEach(function(M){M.selectionSet&&(w[M.name.value]=!0)});var T=function(M){return w[Tn(M)]===!0},k=function(M){var H=I&&I.map.get(M);return!!(H&&H.info&&H.info.merge)};Object.keys(C).forEach(function(M){T(M)&&!k(M)&&l2(_,C,M,f.store)})}t.merge(v,C)}),t.retain(p.__ref),p},e.prototype.processSelectionSet=function(t){var o=this,i=t.dataId,n=t.result,r=t.selectionSet,a=t.context,l=t.mergeTree,s=this.cache.policies,c=Object.create(null),u=i&&s.rootTypenamesById[i]||hu(n,r,a.fragmentMap)||i&&a.store.get(i,"__typename");typeof u=="string"&&(c.__typename=u);var f=function(){var b=Ld(arguments,c,a.variables);if(ht(b.from)){var w=a.incomingById.get(b.from.__ref);if(w){var T=s.readField(ye(ye({},b),{from:w.storeObject}),a);if(T!==void 0)return T}}return s.readField(b,a)},p=new Set;this.flattenFields(r,n,a,u).forEach(function(b,w){var T,k=Xn(w),M=n[k];if(p.add(w),M!==void 0){var H=s.getStoreFieldName({typename:u,fieldName:w.name.value,field:w,variables:b.variables}),P=Qm(l,H),D=o.processFieldValue(M,w,w.selectionSet?Cl(b,!1,!1):b,P),B=void 0;w.selectionSet&&(ht(D)||Ai(D))&&(B=f("__typename",D));var F=s.getMergeFunction(u,w.name.value,B);F?P.info={field:w,typename:u,merge:F}:Gm(l,H),c=b.merge(c,(T={},T[H]=D,T))}else __DEV__&&!b.clientOnly&&!b.deferred&&!Cd.added(w)&&!s.getReadFunction(u,w.name.value)&&__DEV__&&Fe.error("Missing field '".concat(Xn(w),"' while writing result ").concat(JSON.stringify(n,null,2)).substring(0,1e3))});try{var y=s.identify(n,{typename:u,selectionSet:r,fragmentMap:a.fragmentMap,storeObject:c,readField:f}),v=y[0],C=y[1];i=i||v,C&&(c=a.merge(c,C))}catch(b){if(!i)throw b}if(typeof i=="string"){var I=Ii(i),N=a.written[i]||(a.written[i]=[]);if(N.indexOf(r)>=0||(N.push(r),this.reader&&this.reader.isFresh(n,I,r,a)))return I;var _=a.incomingById.get(i);return _?(_.storeObject=a.merge(_.storeObject,c),_.mergeTree=Du(_.mergeTree,l),p.forEach(function(b){return _.fieldNodeSet.add(b)})):a.incomingById.set(i,{storeObject:c,mergeTree:va(l)?void 0:l,fieldNodeSet:p}),I}return c},e.prototype.processFieldValue=function(t,o,i,n){var r=this;return!o.selectionSet||t===null?__DEV__?Ey(t):t:At(t)?t.map(function(a,l){var s=r.processFieldValue(a,o,i,Qm(n,l));return Gm(n,l),s}):this.processSelectionSet({result:t,selectionSet:o.selectionSet,context:i,mergeTree:n})},e.prototype.flattenFields=function(t,o,i,n){n===void 0&&(n=hu(o,t,i.fragmentMap));var r=new Map,a=this.cache.policies,l=new ns(!1);return function s(c,u){var f=l.lookup(c,u.clientOnly,u.deferred);f.visited||(f.visited=!0,c.selections.forEach(function(p){if(La(p,i.variables)){var y=u.clientOnly,v=u.deferred;if(!(y&&v)&&go(p.directives)&&p.directives.forEach(function(N){var _=N.name.value;if(_==="client"&&(y=!0),_==="defer"){var b=Ma(N,i.variables);(!b||b.if!==!1)&&(v=!0)}}),ei(p)){var C=r.get(p);C&&(y=y&&C.clientOnly,v=v&&C.deferred),r.set(p,Cl(i,y,v))}else{var I=wd(p,i.lookupFragment);if(!I&&p.kind===Ue.FRAGMENT_SPREAD)throw __DEV__?new lt("No fragment named ".concat(p.name.value)):new lt(8);I&&a.fragmentMatches(I,n,o,i.variables)&&s(I.selectionSet,Cl(i,y,v))}}}))}(t,i),r},e.prototype.applyMerges=function(t,o,i,n,r){var a,l=this;if(t.map.size&&!ht(i)){var s=!At(i)&&(ht(o)||Ai(o))?o:void 0,c=i;s&&!r&&(r=[ht(s)?s.__ref:s]);var u,f=function(p,y){return At(p)?typeof y=="number"?p[y]:void 0:n.store.getFieldValue(p,String(y))};t.map.forEach(function(p,y){var v=f(s,y),C=f(c,y);if(C!==void 0){r&&r.push(y);var I=l.applyMerges(p,v,C,n,r);I!==C&&(u=u||new Map,u.set(y,I)),r&&Fe(r.pop()===y)}}),u&&(i=At(c)?c.slice(0):ye({},c),u.forEach(function(p,y){i[y]=p}))}return t.info?this.cache.policies.runMergeFunction(o,i,t.info,n,r&&(a=n.store).getStorage.apply(a,r)):i},e}(),Yy=[];function Qm(e,t){var o=e.map;return o.has(t)||o.set(t,Yy.pop()||{map:new Map}),o.get(t)}function Du(e,t){if(e===t||!t||va(t))return e;if(!e||va(e))return t;var o=e.info&&t.info?ye(ye({},e.info),t.info):e.info||t.info,i=e.map.size&&t.map.size,n=i?new Map:e.map.size?e.map:t.map,r={info:o,map:n};if(i){var a=new Set(t.map.keys());e.map.forEach(function(l,s){r.map.set(s,Du(l,t.map.get(s))),a.delete(s)}),a.forEach(function(l){r.map.set(l,Du(t.map.get(l),e.map.get(l)))})}return r}function va(e){return!e||!(e.info||e.map.size)}function Gm(e,t){var o=e.map,i=o.get(t);i&&va(i)&&(Yy.push(i),o.delete(t))}var Wm=new Set;function l2(e,t,o,i){var n=function(f){var p=i.getFieldValue(f,o);return typeof p=="object"&&p},r=n(e);if(r){var a=n(t);if(a&&!ht(r)&&!Dt(r,a)&&!Object.keys(r).every(function(f){return i.getFieldValue(a,f)!==void 0})){var l=i.getFieldValue(e,"__typename")||i.getFieldValue(t,"__typename"),s=Tn(o),c="".concat(l,".").concat(s);if(!Wm.has(c)){Wm.add(c);var u=[];!At(r)&&!At(a)&&[r,a].forEach(function(f){var p=i.getFieldValue(f,"__typename");typeof p=="string"&&!u.includes(p)&&u.push(p)}),__DEV__&&Fe.warn("Cache data may be lost when replacing the ".concat(s," field of a ").concat(l,` object.

To address this problem (which is not a bug in Apollo Client), `).concat(u.length?"either ensure all objects of type "+u.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(c,` field, so InMemoryCache can safely merge these objects:

  existing: `).concat(JSON.stringify(r).slice(0,1e3),`
  incoming: `).concat(JSON.stringify(a).slice(0,1e3),`

For more information about these options, please refer to the documentation:

  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers
  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects
`))}}}}var u2=function(e){ao(t,e);function t(o){o===void 0&&(o={});var i=e.call(this)||this;return i.watches=new Set,i.typenameDocumentCache=new Map,i.makeVar=i2,i.txCount=0,i.config=WI(o),i.addTypename=!!i.config.addTypename,i.policies=new a2({cache:i,dataIdFromObject:i.config.dataIdFromObject,possibleTypes:i.config.possibleTypes,typePolicies:i.config.typePolicies}),i.init(),i}return t.prototype.init=function(){var o=this.data=new Kr.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=o.stump,this.resetResultCache()},t.prototype.resetResultCache=function(o){var i=this,n=this.storeReader,r=this.config.fragments;this.storeWriter=new c2(this,this.storeReader=new e2({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:Hy(this.config),canon:o?void 0:n&&n.canon,fragments:r}),r),this.maybeBroadcastWatch=ga(function(a,l){return i.broadcastWatch(a,l)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(a){var l=a.optimistic?i.optimisticData:i.data;if(Rr(l)){var s=a.optimistic,c=a.id,u=a.variables;return l.makeCacheKey(a.query,a.callback,Kn({optimistic:s,id:c,variables:u}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(a){return a.resetCaching()})},t.prototype.restore=function(o){return this.init(),o&&this.data.replace(o),this},t.prototype.extract=function(o){return o===void 0&&(o=!1),(o?this.optimisticData:this.data).extract()},t.prototype.read=function(o){var i=o.returnPartialData,n=i===void 0?!1:i;try{return this.storeReader.diffQueryAgainstStore(ye(ye({},o),{store:o.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:n})).result||null}catch(r){if(r instanceof $y)return null;throw r}},t.prototype.write=function(o){try{return++this.txCount,this.storeWriter.writeToStore(this.data,o)}finally{!--this.txCount&&o.broadcast!==!1&&this.broadcastWatches()}},t.prototype.modify=function(o){if(Ot.call(o,"id")&&!o.id)return!1;var i=o.optimistic?this.optimisticData:this.data;try{return++this.txCount,i.modify(o.id||"ROOT_QUERY",o.fields)}finally{!--this.txCount&&o.broadcast!==!1&&this.broadcastWatches()}},t.prototype.diff=function(o){return this.storeReader.diffQueryAgainstStore(ye(ye({},o),{store:o.optimistic?this.optimisticData:this.data,rootId:o.id||"ROOT_QUERY",config:this.config}))},t.prototype.watch=function(o){var i=this;return this.watches.size||n2(this),this.watches.add(o),o.immediate&&this.maybeBroadcastWatch(o),function(){i.watches.delete(o)&&!i.watches.size&&Bm(i),i.maybeBroadcastWatch.forget(o)}},t.prototype.gc=function(o){Kn.reset();var i=this.optimisticData.gc();return o&&!this.txCount&&(o.resetResultCache?this.resetResultCache(o.resetResultIdentities):o.resetResultIdentities&&this.storeReader.resetCanon()),i},t.prototype.retain=function(o,i){return(i?this.optimisticData:this.data).retain(o)},t.prototype.release=function(o,i){return(i?this.optimisticData:this.data).release(o)},t.prototype.identify=function(o){if(ht(o))return o.__ref;try{return this.policies.identify(o)[0]}catch(i){__DEV__&&Fe.warn(i)}},t.prototype.evict=function(o){if(!o.id){if(Ot.call(o,"id"))return!1;o=ye(ye({},o),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(o,this.data)}finally{!--this.txCount&&o.broadcast!==!1&&this.broadcastWatches()}},t.prototype.reset=function(o){var i=this;return this.init(),Kn.reset(),o&&o.discardWatches?(this.watches.forEach(function(n){return i.maybeBroadcastWatch.forget(n)}),this.watches.clear(),Bm(this)):this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(o){var i=this.optimisticData.removeLayer(o);i!==this.optimisticData&&(this.optimisticData=i,this.broadcastWatches())},t.prototype.batch=function(o){var i=this,n=o.update,r=o.optimistic,a=r===void 0?!0:r,l=o.removeOptimistic,s=o.onWatchUpdated,c,u=function(p){var y=i,v=y.data,C=y.optimisticData;++i.txCount,p&&(i.data=i.optimisticData=p);try{return c=n(i)}finally{--i.txCount,i.data=v,i.optimisticData=C}},f=new Set;return s&&!this.txCount&&this.broadcastWatches(ye(ye({},o),{onWatchUpdated:function(p){return f.add(p),!1}})),typeof a=="string"?this.optimisticData=this.optimisticData.addLayer(a,u):a===!1?u(this.data):u(),typeof l=="string"&&(this.optimisticData=this.optimisticData.removeLayer(l)),s&&f.size?(this.broadcastWatches(ye(ye({},o),{onWatchUpdated:function(p,y){var v=s.call(this,p,y);return v!==!1&&f.delete(p),v}})),f.size&&f.forEach(function(p){return i.maybeBroadcastWatch.dirty(p)})):this.broadcastWatches(o),c},t.prototype.performTransaction=function(o,i){return this.batch({update:o,optimistic:i||i!==null})},t.prototype.transformDocument=function(o){if(this.addTypename){var i=this.typenameDocumentCache.get(o);return i||(i=Cd(o),this.typenameDocumentCache.set(o,i),this.typenameDocumentCache.set(i,i)),i}return o},t.prototype.transformForLink=function(o){var i=this.config.fragments;return i?i.transform(o):o},t.prototype.broadcastWatches=function(o){var i=this;this.txCount||this.watches.forEach(function(n){return i.maybeBroadcastWatch(n,o)})},t.prototype.broadcastWatch=function(o,i){var n=o.lastDiff,r=this.diff(o);i&&(o.optimistic&&typeof i.optimistic=="string"&&(r.fromOptimisticTransaction=!0),i.onWatchUpdated&&i.onWatchUpdated.call(this,o,r,n)===!1)||(!n||!Dt(n.result,r.result))&&o.callback(o.lastDiff=r,n)},t}(GI);function d2(e){return e.hasOwnProperty("graphQLErrors")}var f2=function(e){var t="";if(go(e.graphQLErrors)||go(e.clientErrors)){var o=(e.graphQLErrors||[]).concat(e.clientErrors||[]);o.forEach(function(i){var n=i?i.message:"Error message not found.";t+="".concat(n,`
`)})}return e.networkError&&(t+="".concat(e.networkError.message,`
`)),t=t.replace(/\n$/,""),t},$n=function(e){ao(t,e);function t(o){var i=o.graphQLErrors,n=o.clientErrors,r=o.networkError,a=o.errorMessage,l=o.extraInfo,s=e.call(this,a)||this;return s.name="ApolloError",s.graphQLErrors=i||[],s.clientErrors=n||[],s.networkError=r||null,s.message=a||f2(s),s.extraInfo=l,s.__proto__=t.prototype,s}return t}(Error),pt;(function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"})(pt||(pt={}));function Jr(e){return e?e<7:!1}var h2=Object.assign,p2=Object.hasOwnProperty,ku=function(e){ao(t,e);function t(o){var i=o.queryManager,n=o.queryInfo,r=o.options,a=e.call(this,function(I){try{var N=I._subscription._observer;N&&!N.error&&(N.error=m2)}catch{}var _=!a.observers.size;a.observers.add(I);var b=a.last;return b&&b.error?I.error&&I.error(b.error):b&&b.result&&I.next&&I.next(b.result),_&&a.reobserve().catch(function(){}),function(){a.observers.delete(I)&&!a.observers.size&&a.tearDownQuery()}})||this;a.observers=new Set,a.subscriptions=new Set,a.queryInfo=n,a.queryManager=i,a.isTornDown=!1;var l=i.defaultOptions.watchQuery,s=l===void 0?{}:l,c=s.fetchPolicy,u=c===void 0?"cache-first":c,f=r.fetchPolicy,p=f===void 0?u:f,y=r.initialFetchPolicy,v=y===void 0?p==="standby"?u:p:y;a.options=ye(ye({},r),{initialFetchPolicy:v,fetchPolicy:p}),a.queryId=n.queryId||i.generateQueryId();var C=os(a.query);return a.queryName=C&&C.name&&C.name.value,a}return Object.defineProperty(t.prototype,"query",{get:function(){return this.queryManager.transform(this.options.query).document},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var o=this;return new Promise(function(i,n){var r={next:function(l){i(l),o.observers.delete(r),o.observers.size||o.queryManager.removeQuery(o.queryId),setTimeout(function(){a.unsubscribe()},0)},error:n},a=o.subscribe(r)})},t.prototype.getCurrentResult=function(o){o===void 0&&(o=!0);var i=this.getLastResult(!0),n=this.queryInfo.networkStatus||i&&i.networkStatus||pt.ready,r=ye(ye({},i),{loading:Jr(n),networkStatus:n}),a=this.options.fetchPolicy,l=a===void 0?"cache-first":a;if(!(l==="network-only"||l==="no-cache"||l==="standby"||this.queryManager.transform(this.options.query).hasForcedResolvers)){var s=this.queryInfo.getDiff();(s.complete||this.options.returnPartialData)&&(r.data=s.result),Dt(r.data,{})&&(r.data=void 0),s.complete?(delete r.partial,s.complete&&r.networkStatus===pt.loading&&(l==="cache-first"||l==="cache-only")&&(r.networkStatus=pt.ready,r.loading=!1)):r.partial=!0,__DEV__&&!s.complete&&!this.options.partialRefetch&&!r.loading&&!r.data&&!r.error&&Xy(s.missing)}return o&&this.updateLastResult(r),r},t.prototype.isDifferentFromLastResult=function(o,i){return!this.last||!Dt(this.last.result,o)||i&&!Dt(this.last.variables,i)},t.prototype.getLast=function(o,i){var n=this.last;if(n&&n[o]&&(!i||Dt(n.variables,this.variables)))return n[o]},t.prototype.getLastResult=function(o){return this.getLast("result",o)},t.prototype.getLastError=function(o){return this.getLast("error",o)},t.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(o){var i,n={pollInterval:0},r=this.options.fetchPolicy;if(r==="cache-and-network"?n.fetchPolicy=r:r==="no-cache"?n.fetchPolicy="no-cache":n.fetchPolicy="network-only",__DEV__&&o&&p2.call(o,"variables")){var a=my(this.query),l=a.variableDefinitions;(!l||!l.some(function(s){return s.variable.name.value==="variables"}))&&__DEV__&&Fe.warn("Called refetch(".concat(JSON.stringify(o),") for query ").concat(((i=a.name)===null||i===void 0?void 0:i.value)||JSON.stringify(a),`, which does not declare a $variables variable.
Did you mean to call refetch(variables) instead of refetch({ variables })?`))}return o&&!Dt(this.options.variables,o)&&(n.variables=this.options.variables=ye(ye({},this.options.variables),o)),this.queryInfo.resetLastWrite(),this.reobserve(n,pt.refetch)},t.prototype.fetchMore=function(o){var i=this,n=ye(ye({},o.query?o:ye(ye(ye(ye({},this.options),{query:this.query}),o),{variables:ye(ye({},this.options.variables),o.variables)})),{fetchPolicy:"no-cache"}),r=this.queryManager.generateQueryId(),a=this.queryInfo,l=a.networkStatus;a.networkStatus=pt.fetchMore,n.notifyOnNetworkStatusChange&&this.observe();var s=new Set;return this.queryManager.fetchQuery(r,n,pt.fetchMore).then(function(c){return i.queryManager.removeQuery(r),a.networkStatus===pt.fetchMore&&(a.networkStatus=l),i.queryManager.cache.batch({update:function(u){var f=o.updateQuery;f?u.updateQuery({query:i.query,variables:i.variables,returnPartialData:!0,optimistic:!1},function(p){return f(p,{fetchMoreResult:c.data,variables:n.variables})}):u.writeQuery({query:n.query,variables:n.variables,data:c.data})},onWatchUpdated:function(u){s.add(u.query)}}),c}).finally(function(){s.has(i.query)||Zy(i)})},t.prototype.subscribeToMore=function(o){var i=this,n=this.queryManager.startGraphQLSubscription({query:o.document,variables:o.variables,context:o.context}).subscribe({next:function(r){var a=o.updateQuery;a&&i.updateQuery(function(l,s){var c=s.variables;return a(l,{subscriptionData:r,variables:c})})},error:function(r){if(o.onError){o.onError(r);return}__DEV__&&Fe.error("Unhandled GraphQL subscription error",r)}});return this.subscriptions.add(n),function(){i.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(o){return this.reobserve(o)},t.prototype.setVariables=function(o){return Dt(this.variables,o)?this.observers.size?this.result():Promise.resolve():(this.options.variables=o,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:o},pt.setVariables):Promise.resolve())},t.prototype.updateQuery=function(o){var i=this.queryManager,n=i.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,r=o(n,{variables:this.variables});r&&(i.cache.writeQuery({query:this.options.query,data:r,variables:this.variables}),i.broadcastQueries())},t.prototype.startPolling=function(o){this.options.pollInterval=o,this.updatePolling()},t.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},t.prototype.applyNextFetchPolicy=function(o,i){if(i.nextFetchPolicy){var n=i.fetchPolicy,r=n===void 0?"cache-first":n,a=i.initialFetchPolicy,l=a===void 0?r:a;r==="standby"||(typeof i.nextFetchPolicy=="function"?i.fetchPolicy=i.nextFetchPolicy(r,{reason:o,options:i,observable:this,initialFetchPolicy:l}):o==="variables-changed"?i.fetchPolicy=l:i.fetchPolicy=i.nextFetchPolicy)}return i.fetchPolicy},t.prototype.fetch=function(o,i){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,o,i)},t.prototype.updatePolling=function(){var o=this;if(!this.queryManager.ssrMode){var i=this,n=i.pollingInfo,r=i.options.pollInterval;if(!r){n&&(clearTimeout(n.timeout),delete this.pollingInfo);return}if(!(n&&n.interval===r)){__DEV__?Fe(r,"Attempted to start a polling query without a polling interval."):Fe(r,13);var a=n||(this.pollingInfo={});a.interval=r;var l=function(){o.pollingInfo&&(Jr(o.queryInfo.networkStatus)?s():o.reobserve({fetchPolicy:o.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},pt.poll).then(s,s))},s=function(){var c=o.pollingInfo;c&&(clearTimeout(c.timeout),c.timeout=setTimeout(l,c.interval))};s()}}},t.prototype.updateLastResult=function(o,i){return i===void 0&&(i=this.variables),this.last=ye(ye({},this.last),{result:this.queryManager.assumeImmutableResults?o:Ey(o),variables:i}),go(o.errors)||delete this.last.error,this.last},t.prototype.reobserve=function(o,i){var n=this;this.isTornDown=!1;var r=i===pt.refetch||i===pt.fetchMore||i===pt.poll,a=this.options.variables,l=this.options.fetchPolicy,s=ja(this.options,o||{}),c=r?s:h2(this.options,s);r||(this.updatePolling(),o&&o.variables&&!Dt(o.variables,a)&&c.fetchPolicy!=="standby"&&c.fetchPolicy===l&&(this.applyNextFetchPolicy("variables-changed",c),i===void 0&&(i=pt.setVariables)));var u=c.variables&&ye({},c.variables),f=this.fetch(c,i),p={next:function(y){n.reportResult(y,u)},error:function(y){n.reportError(y,u)}};return r||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=f,this.observer=p),f.addObserver(p),f.promise},t.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},t.prototype.reportResult=function(o,i){var n=this.getLastError();(n||this.isDifferentFromLastResult(o,i))&&((n||!o.partial||this.options.returnPartialData)&&this.updateLastResult(o,i),kr(this.observers,"next",o))},t.prototype.reportError=function(o,i){var n=ye(ye({},this.getLastResult()),{error:o,errors:o.graphQLErrors,networkStatus:pt.error,loading:!1});this.updateLastResult(n,i),kr(this.observers,"error",this.last.error=o)},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(o){return o.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t}(mt);_y(ku);function Zy(e){var t=e.options,o=t.fetchPolicy,i=t.nextFetchPolicy;return o==="cache-and-network"||o==="network-only"?e.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return this.nextFetchPolicy=i,typeof i=="function"?i.apply(this,arguments):o}}):e.reobserve()}function m2(e){__DEV__&&Fe.error("Unhandled error",e.message,e.stack)}function Xy(e){__DEV__&&e&&__DEV__&&Fe.debug("Missing cache result fields: ".concat(JSON.stringify(e)),e)}var eb=function(){function e(t){var o=t.cache,i=t.client,n=t.resolvers,r=t.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=o,i&&(this.client=i),n&&this.addResolvers(n),r&&this.setFragmentMatcher(r)}return e.prototype.addResolvers=function(t){var o=this;this.resolvers=this.resolvers||{},Array.isArray(t)?t.forEach(function(i){o.resolvers=hm(o.resolvers,i)}):this.resolvers=hm(this.resolvers,t)},e.prototype.setResolvers=function(t){this.resolvers={},this.addResolvers(t)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(t){var o=t.document,i=t.remoteResult,n=t.context,r=t.variables,a=t.onlyRunForcedResolvers,l=a===void 0?!1:a;return vn(this,void 0,void 0,function(){return yn(this,function(s){return o?[2,this.resolveDocument(o,i.data,n,r,this.fragmentMatcher,l).then(function(c){return ye(ye({},i),{data:c.result})})]:[2,i]})})},e.prototype.setFragmentMatcher=function(t){this.fragmentMatcher=t},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(t){return yd(["client"],t)&&this.resolvers?t:null},e.prototype.serverQuery=function(t){return TT(t)},e.prototype.prepareContext=function(t){var o=this.cache;return ye(ye({},t),{cache:o,getCacheKey:function(i){return o.identify(i)}})},e.prototype.addExportedVariables=function(t,o,i){return o===void 0&&(o={}),i===void 0&&(i={}),vn(this,void 0,void 0,function(){return yn(this,function(n){return t?[2,this.resolveDocument(t,this.buildRootValueFromCache(t,o)||{},this.prepareContext(i),o).then(function(r){return ye(ye({},o),r.exportedVariables)})]:[2,ye({},o)]})})},e.prototype.shouldForceResolvers=function(t){var o=!1;return Zo(t,{Directive:{enter:function(i){if(i.name.value==="client"&&i.arguments&&(o=i.arguments.some(function(n){return n.name.value==="always"&&n.value.kind==="BooleanValue"&&n.value.value===!0}),o))return md}}}),o},e.prototype.buildRootValueFromCache=function(t,o){return this.cache.diff({query:xT(t),variables:o,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(t,o,i,n,r,a){return i===void 0&&(i={}),n===void 0&&(n={}),r===void 0&&(r=function(){return!0}),a===void 0&&(a=!1),vn(this,void 0,void 0,function(){var l,s,c,u,f,p,y,v,C,I,N;return yn(this,function(_){return l=Ua(t),s=Ad(t),c=bd(s),u=this.collectSelectionsToResolve(l,c),f=l.operation,p=f?f.charAt(0).toUpperCase()+f.slice(1):"Query",y=this,v=y.cache,C=y.client,I={fragmentMap:c,context:ye(ye({},i),{cache:v,client:C}),variables:n,fragmentMatcher:r,defaultOperationType:p,exportedVariables:{},selectionsToResolve:u,onlyRunForcedResolvers:a},N=!1,[2,this.resolveSelectionSet(l.selectionSet,N,o,I).then(function(b){return{result:b,exportedVariables:I.exportedVariables}})]})})},e.prototype.resolveSelectionSet=function(t,o,i,n){return vn(this,void 0,void 0,function(){var r,a,l,s,c,u=this;return yn(this,function(f){return r=n.fragmentMap,a=n.context,l=n.variables,s=[i],c=function(p){return vn(u,void 0,void 0,function(){var y,v;return yn(this,function(C){return!o&&!n.selectionsToResolve.has(p)?[2]:La(p,l)?ei(p)?[2,this.resolveField(p,o,i,n).then(function(I){var N;typeof I<"u"&&s.push((N={},N[Xn(p)]=I,N))})]:(ET(p)?y=p:(y=r[p.name.value],__DEV__?Fe(y,"No fragment named ".concat(p.name.value)):Fe(y,11)),y&&y.typeCondition&&(v=y.typeCondition.name.value,n.fragmentMatcher(i,v,a))?[2,this.resolveSelectionSet(y.selectionSet,o,i,n).then(function(I){s.push(I)})]:[2]):[2]})})},[2,Promise.all(t.selections.map(c)).then(function(){return Sd(s)})]})})},e.prototype.resolveField=function(t,o,i,n){return vn(this,void 0,void 0,function(){var r,a,l,s,c,u,f,p,y,v=this;return yn(this,function(C){return i?(r=n.variables,a=t.name.value,l=Xn(t),s=a!==l,c=i[l]||i[a],u=Promise.resolve(c),(!n.onlyRunForcedResolvers||this.shouldForceResolvers(t))&&(f=i.__typename||n.defaultOperationType,p=this.resolvers&&this.resolvers[f],p&&(y=p[s?a:l],y&&(u=Promise.resolve(Rd.withValue(this.cache,y,[i,Ma(t,r),n.context,{field:t,fragmentMap:n.fragmentMap}]))))),[2,u.then(function(I){var N,_;if(I===void 0&&(I=c),t.directives&&t.directives.forEach(function(w){w.name.value==="export"&&w.arguments&&w.arguments.forEach(function(T){T.name.value==="as"&&T.value.kind==="StringValue"&&(n.exportedVariables[T.value.value]=I)})}),!t.selectionSet||I==null)return I;var b=(_=(N=t.directives)===null||N===void 0?void 0:N.some(function(w){return w.name.value==="client"}))!==null&&_!==void 0?_:!1;if(Array.isArray(I))return v.resolveSubSelectedArray(t,o||b,I,n);if(t.selectionSet)return v.resolveSelectionSet(t.selectionSet,o||b,I,n)})]):[2,null]})})},e.prototype.resolveSubSelectedArray=function(t,o,i,n){var r=this;return Promise.all(i.map(function(a){if(a===null)return null;if(Array.isArray(a))return r.resolveSubSelectedArray(t,o,a,n);if(t.selectionSet)return r.resolveSelectionSet(t.selectionSet,o,a,n)}))},e.prototype.collectSelectionsToResolve=function(t,o){var i=function(a){return!Array.isArray(a)},n=this.selectionsToResolveCache;function r(a){if(!n.has(a)){var l=new Set;n.set(a,l),Zo(a,{Directive:function(s,c,u,f,p){s.name.value==="client"&&p.forEach(function(y){i(y)&&Hp(y)&&l.add(y)})},FragmentSpread:function(s,c,u,f,p){var y=o[s.name.value];__DEV__?Fe(y,"No fragment named ".concat(s.name.value)):Fe(y,12);var v=r(y);v.size>0&&(p.forEach(function(C){i(C)&&Hp(C)&&l.add(C)}),l.add(s),v.forEach(function(C){l.add(C)}))}})}return n.get(a)}return r(t)},e}(),_i=new(oi?WeakMap:Map);function Sl(e,t){var o=e[t];typeof o=="function"&&(e[t]=function(){return _i.set(e,(_i.get(e)+1)%1e15),o.apply(this,arguments)})}function Km(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var Nl=function(){function e(t,o){o===void 0&&(o=t.generateQueryId()),this.queryId=o,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var i=this.cache=t.cache;_i.has(i)||(_i.set(i,0),Sl(i,"evict"),Sl(i,"modify"),Sl(i,"reset"))}return e.prototype.init=function(t){var o=t.networkStatus||pt.loading;return this.variables&&this.networkStatus!==pt.loading&&!Dt(this.variables,t.variables)&&(o=pt.setVariables),Dt(t.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:t.document,variables:t.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:o}),t.observableQuery&&this.setObservableQuery(t.observableQuery),t.lastRequestId&&(this.lastRequestId=t.lastRequestId),this},e.prototype.reset=function(){Km(this),this.dirty=!1},e.prototype.getDiff=function(t){t===void 0&&(t=this.variables);var o=this.getDiffOptions(t);if(this.lastDiff&&Dt(o,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=t);var i=this.observableQuery;if(i&&i.options.fetchPolicy==="no-cache")return{complete:!1};var n=this.cache.diff(o);return this.updateLastDiff(n,o),n},e.prototype.updateLastDiff=function(t,o){this.lastDiff=t?{diff:t,options:o||this.getDiffOptions()}:void 0},e.prototype.getDiffOptions=function(t){var o;return t===void 0&&(t=this.variables),{query:this.document,variables:t,returnPartialData:!0,optimistic:!0,canonizeResults:(o=this.observableQuery)===null||o===void 0?void 0:o.options.canonizeResults}},e.prototype.setDiff=function(t){var o=this,i=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(t),!this.dirty&&!Dt(i&&i.result,t&&t.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return o.notify()},0)))},e.prototype.setObservableQuery=function(t){var o=this;t!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=t,t?(t.queryInfo=this,this.listeners.add(this.oqListener=function(){var i=o.getDiff();i.fromOptimisticTransaction?t.observe():Zy(t)})):delete this.oqListener)},e.prototype.notify=function(){var t=this;Km(this),this.shouldNotify()&&this.listeners.forEach(function(o){return o(t)}),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(Jr(this.networkStatus)&&this.observableQuery){var t=this.observableQuery.options.fetchPolicy;if(t!=="cache-only"&&t!=="cache-and-network")return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=e.prototype.cancel,this.subscriptions.forEach(function(o){return o.unsubscribe()});var t=this.observableQuery;t&&t.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(t){var o=this;t===void 0&&(t=this.variables);var i=this.observableQuery;if(!(i&&i.options.fetchPolicy==="no-cache")){var n=ye(ye({},this.getDiffOptions(t)),{watcher:this,callback:function(r){return o.setDiff(r)}});(!this.lastWatch||!Dt(n,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=n))}},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(t,o){var i=this.lastWrite;return!(i&&i.dmCount===_i.get(this.cache)&&Dt(o,i.variables)&&Dt(t.data,i.result.data))},e.prototype.markResult=function(t,o,i,n){var r=this,a=new Nn,l=go(t.errors)?t.errors.slice(0):[];if(this.reset(),"incremental"in t&&go(t.incremental)){var s=Cy(this.getDiff().result,t);t.data=s}else if("hasNext"in t&&t.hasNext){var c=this.getDiff();t.data=a.merge(c.result,t.data)}this.graphQLErrors=l,i.fetchPolicy==="no-cache"?this.updateLastDiff({result:t.data,complete:!0},this.getDiffOptions(i.variables)):n!==0&&(Ru(t,i.errorPolicy)?this.cache.performTransaction(function(u){if(r.shouldWrite(t,i.variables))u.writeQuery({query:o,data:t.data,variables:i.variables,overwrite:n===1}),r.lastWrite={result:t,variables:i.variables,dmCount:_i.get(r.cache)};else if(r.lastDiff&&r.lastDiff.diff.complete){t.data=r.lastDiff.diff.result;return}var f=r.getDiffOptions(i.variables),p=u.diff(f);r.stopped||r.updateWatch(i.variables),r.updateLastDiff(p,f),p.complete&&(t.data=p.result)}):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=pt.ready},e.prototype.markError=function(t){return this.networkStatus=pt.error,this.lastWrite=void 0,this.reset(),t.graphQLErrors&&(this.graphQLErrors=t.graphQLErrors),t.networkError&&(this.networkError=t.networkError),t},e}();function Ru(e,t){t===void 0&&(t="none");var o=t==="ignore"||t==="all",i=!Zs(e);return!i&&o&&e.data&&(i=!0),i}var g2=Object.prototype.hasOwnProperty,v2=function(){function e(t){var o=t.cache,i=t.link,n=t.defaultOptions,r=t.queryDeduplication,a=r===void 0?!1:r,l=t.onBroadcast,s=t.ssrMode,c=s===void 0?!1:s,u=t.clientAwareness,f=u===void 0?{}:u,p=t.localState,y=t.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(oi?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=o,this.link=i,this.defaultOptions=n||Object.create(null),this.queryDeduplication=a,this.clientAwareness=f,this.localState=p||new eb({cache:o}),this.ssrMode=c,this.assumeImmutableResults=!!y,(this.onBroadcast=l)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var t=this;this.queries.forEach(function(o,i){t.stopQueryNoBroadcast(i)}),this.cancelPendingFetches(__DEV__?new lt("QueryManager stopped while query was in flight"):new lt(14))},e.prototype.cancelPendingFetches=function(t){this.fetchCancelFns.forEach(function(o){return o(t)}),this.fetchCancelFns.clear()},e.prototype.mutate=function(t){var o,i,n=t.mutation,r=t.variables,a=t.optimisticResponse,l=t.updateQueries,s=t.refetchQueries,c=s===void 0?[]:s,u=t.awaitRefetchQueries,f=u===void 0?!1:u,p=t.update,y=t.onQueryUpdated,v=t.fetchPolicy,C=v===void 0?((o=this.defaultOptions.mutate)===null||o===void 0?void 0:o.fetchPolicy)||"network-only":v,I=t.errorPolicy,N=I===void 0?((i=this.defaultOptions.mutate)===null||i===void 0?void 0:i.errorPolicy)||"none":I,_=t.keepRootFields,b=t.context;return vn(this,void 0,void 0,function(){var w,T,k,M,H,P;return yn(this,function(D){switch(D.label){case 0:return __DEV__?Fe(n,"mutation option is required. You must specify your GraphQL document in the mutation option."):Fe(n,15),__DEV__?Fe(C==="network-only"||C==="no-cache","Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):Fe(C==="network-only"||C==="no-cache",16),w=this.generateMutationId(),T=this.transform(n),k=T.document,M=T.hasClientExports,n=this.cache.transformForLink(k),r=this.getVariables(n,r),M?[4,this.localState.addExportedVariables(n,r,b)]:[3,2];case 1:r=D.sent(),D.label=2;case 2:return H=this.mutationStore&&(this.mutationStore[w]={mutation:n,variables:r,loading:!0,error:null}),a&&this.markMutationOptimistic(a,{mutationId:w,document:n,variables:r,fetchPolicy:C,errorPolicy:N,context:b,updateQueries:l,update:p,keepRootFields:_}),this.broadcastQueries(),P=this,[2,new Promise(function(B,F){return vl(P.getObservableFromLink(n,ye(ye({},b),{optimisticResponse:a}),r,!1),function(Q){if(Zs(Q)&&N==="none")throw new $n({graphQLErrors:bu(Q)});H&&(H.loading=!1,H.error=null);var E=ye({},Q);return typeof c=="function"&&(c=c(E)),N==="ignore"&&Zs(E)&&delete E.errors,P.markMutationResult({mutationId:w,result:E,document:n,variables:r,fetchPolicy:C,errorPolicy:N,context:b,update:p,updateQueries:l,awaitRefetchQueries:f,refetchQueries:c,removeOptimistic:a?w:void 0,onQueryUpdated:y,keepRootFields:_})}).subscribe({next:function(Q){P.broadcastQueries(),(!("hasNext"in Q)||Q.hasNext===!1)&&B(Q)},error:function(Q){H&&(H.loading=!1,H.error=Q),a&&P.cache.removeOptimistic(w),P.broadcastQueries(),F(Q instanceof $n?Q:new $n({networkError:Q}))}})})]}})})},e.prototype.markMutationResult=function(t,o){var i=this;o===void 0&&(o=this.cache);var n=t.result,r=[],a=t.fetchPolicy==="no-cache";if(!a&&Ru(n,t.errorPolicy)){if(Pi(n)||r.push({result:n.data,dataId:"ROOT_MUTATION",query:t.document,variables:t.variables}),Pi(n)&&go(n.incremental)){var l=o.diff({id:"ROOT_MUTATION",query:this.transform(t.document).asQuery,variables:t.variables,optimistic:!1,returnPartialData:!0}),s=void 0;l.result&&(s=Cy(l.result,n)),typeof s<"u"&&(n.data=s,r.push({result:s,dataId:"ROOT_MUTATION",query:t.document,variables:t.variables}))}var c=t.updateQueries;c&&this.queries.forEach(function(f,p){var y=f.observableQuery,v=y&&y.queryName;if(!(!v||!g2.call(c,v))){var C=c[v],I=i.queries.get(p),N=I.document,_=I.variables,b=o.diff({query:N,variables:_,returnPartialData:!0,optimistic:!1}),w=b.result,T=b.complete;if(T&&w){var k=C(w,{mutationResult:n,queryName:N&&pu(N)||void 0,queryVariables:_});k&&r.push({result:k,dataId:"ROOT_QUERY",query:N,variables:_})}}})}if(r.length>0||t.refetchQueries||t.update||t.onQueryUpdated||t.removeOptimistic){var u=[];if(this.refetchQueries({updateCache:function(f){a||r.forEach(function(C){return f.write(C)});var p=t.update,y=!VT(n)||Pi(n)&&!n.hasNext;if(p){if(!a){var v=f.diff({id:"ROOT_MUTATION",query:i.transform(t.document).asQuery,variables:t.variables,optimistic:!1,returnPartialData:!0});v.complete&&(n=ye(ye({},n),{data:v.result}),"incremental"in n&&delete n.incremental,"hasNext"in n&&delete n.hasNext)}y&&p(f,n,{context:t.context,variables:t.variables})}!a&&!t.keepRootFields&&y&&f.modify({id:"ROOT_MUTATION",fields:function(C,I){var N=I.fieldName,_=I.DELETE;return N==="__typename"?C:_}})},include:t.refetchQueries,optimistic:!1,removeOptimistic:t.removeOptimistic,onQueryUpdated:t.onQueryUpdated||null}).forEach(function(f){return u.push(f)}),t.awaitRefetchQueries||t.onQueryUpdated)return Promise.all(u).then(function(){return n})}return Promise.resolve(n)},e.prototype.markMutationOptimistic=function(t,o){var i=this,n=typeof t=="function"?t(o.variables):t;return this.cache.recordOptimisticTransaction(function(r){try{i.markMutationResult(ye(ye({},o),{result:{data:n}}),r)}catch(a){__DEV__&&Fe.error(a)}},o.mutationId)},e.prototype.fetchQuery=function(t,o,i){return this.fetchQueryObservable(t,o,i).promise},e.prototype.getQueryStore=function(){var t=Object.create(null);return this.queries.forEach(function(o,i){t[i]={variables:o.variables,networkStatus:o.networkStatus,networkError:o.networkError,graphQLErrors:o.graphQLErrors}}),t},e.prototype.resetErrors=function(t){var o=this.queries.get(t);o&&(o.networkError=void 0,o.graphQLErrors=[])},e.prototype.transform=function(t){var o=this.transformCache;if(!o.has(t)){var i=this.cache.transformDocument(t),n=NT(i),r=this.localState.clientQuery(i),a=n&&this.localState.serverQuery(n),l={document:i,hasClientExports:iT(i),hasForcedResolvers:this.localState.shouldForceResolvers(i),clientQuery:r,serverQuery:a,defaultVars:_d(os(i)),asQuery:ye(ye({},i),{definitions:i.definitions.map(function(c){return c.kind==="OperationDefinition"&&c.operation!=="query"?ye(ye({},c),{operation:"query"}):c})})},s=function(c){c&&!o.has(c)&&o.set(c,l)};s(t),s(i),s(r),s(a)}return o.get(t)},e.prototype.getVariables=function(t,o){return ye(ye({},this.transform(t).defaultVars),o)},e.prototype.watchQuery=function(t){t=ye(ye({},t),{variables:this.getVariables(t.query,t.variables)}),typeof t.notifyOnNetworkStatusChange>"u"&&(t.notifyOnNetworkStatusChange=!1);var o=new Nl(this),i=new ku({queryManager:this,queryInfo:o,options:t});return this.queries.set(i.queryId,o),o.init({document:i.query,observableQuery:i,variables:i.variables}),i},e.prototype.query=function(t,o){var i=this;return o===void 0&&(o=this.generateQueryId()),__DEV__?Fe(t.query,"query option is required. You must specify your GraphQL document in the query option."):Fe(t.query,17),__DEV__?Fe(t.query.kind==="Document",'You must wrap the query string in a "gql" tag.'):Fe(t.query.kind==="Document",18),__DEV__?Fe(!t.returnPartialData,"returnPartialData option only supported on watchQuery."):Fe(!t.returnPartialData,19),__DEV__?Fe(!t.pollInterval,"pollInterval option only supported on watchQuery."):Fe(!t.pollInterval,20),this.fetchQuery(o,t).finally(function(){return i.stopQuery(o)})},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(t){this.stopQueryInStoreNoBroadcast(t),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(t){var o=this.queries.get(t);o&&o.stop()},e.prototype.clearStore=function(t){return t===void 0&&(t={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new lt("Store reset while query was in flight (not completed in link chain)"):new lt(21)),this.queries.forEach(function(o){o.observableQuery?o.networkStatus=pt.loading:o.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(t)},e.prototype.getObservableQueries=function(t){var o=this;t===void 0&&(t="active");var i=new Map,n=new Map,r=new Set;return Array.isArray(t)&&t.forEach(function(a){typeof a=="string"?n.set(a,!1):cT(a)?n.set(o.transform(a).document,!1):wt(a)&&a.query&&r.add(a)}),this.queries.forEach(function(a,l){var s=a.observableQuery,c=a.document;if(s){if(t==="all"){i.set(l,s);return}var u=s.queryName,f=s.options.fetchPolicy;if(f==="standby"||t==="active"&&!s.hasObservers())return;(t==="active"||u&&n.has(u)||c&&n.has(c))&&(i.set(l,s),u&&n.set(u,!0),c&&n.set(c,!0))}}),r.size&&r.forEach(function(a){var l=wu("legacyOneTimeQuery"),s=o.getQuery(l).init({document:a.query,variables:a.variables}),c=new ku({queryManager:o,queryInfo:s,options:ye(ye({},a),{fetchPolicy:"network-only"})});Fe(c.queryId===l),s.setObservableQuery(c),i.set(l,c)}),__DEV__&&n.size&&n.forEach(function(a,l){a||__DEV__&&Fe.warn("Unknown query ".concat(typeof l=="string"?"named ":"").concat(JSON.stringify(l,null,2)," requested in refetchQueries options.include array"))}),i},e.prototype.reFetchObservableQueries=function(t){var o=this;t===void 0&&(t=!1);var i=[];return this.getObservableQueries(t?"all":"active").forEach(function(n,r){var a=n.options.fetchPolicy;n.resetLastResults(),(t||a!=="standby"&&a!=="cache-only")&&i.push(n.refetch()),o.getQuery(r).setDiff(null)}),this.broadcastQueries(),Promise.all(i)},e.prototype.setObservableQuery=function(t){this.getQuery(t.queryId).setObservableQuery(t)},e.prototype.startGraphQLSubscription=function(t){var o=this,i=t.query,n=t.fetchPolicy,r=t.errorPolicy,a=t.variables,l=t.context,s=l===void 0?{}:l;i=this.transform(i).document,a=this.getVariables(i,a);var c=function(f){return o.getObservableFromLink(i,s,f).map(function(p){if(n!=="no-cache"&&(Ru(p,r)&&o.cache.write({query:i,result:p.data,dataId:"ROOT_SUBSCRIPTION",variables:f}),o.broadcastQueries()),Zs(p))throw new $n({graphQLErrors:p.errors});return p})};if(this.transform(i).hasClientExports){var u=this.localState.addExportedVariables(i,a,s).then(c);return new mt(function(f){var p=null;return u.then(function(y){return p=y.subscribe(f)},f.error),function(){return p&&p.unsubscribe()}})}return c(a)},e.prototype.stopQuery=function(t){this.stopQueryNoBroadcast(t),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(t){this.stopQueryInStoreNoBroadcast(t),this.removeQuery(t)},e.prototype.removeQuery=function(t){this.fetchCancelFns.delete(t),this.queries.has(t)&&(this.getQuery(t).stop(),this.queries.delete(t))},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(t){return t.notify()})},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(t,o,i,n){var r=this,a;n===void 0&&(n=(a=o==null?void 0:o.queryDeduplication)!==null&&a!==void 0?a:this.queryDeduplication);var l,s=this.transform(t).serverQuery;if(s){var c=this,u=c.inFlightLinkObservables,f=c.link,p={query:s,variables:i,operationName:pu(s)||void 0,context:this.prepareContext(ye(ye({},o),{forceFetch:!n}))};if(o=p.context,n){var y=u.get(s)||new Map;u.set(s,y);var v=Kn(i);if(l=y.get(v),!l){var C=new Sr([Au(f,p)]);y.set(v,l=C),C.beforeNext(function(){y.delete(v)&&y.size<1&&u.delete(s)})}}else l=new Sr([Au(f,p)])}else l=new Sr([mt.of({data:{}})]),o=this.prepareContext(o);var I=this.transform(t).clientQuery;return I&&(l=vl(l,function(N){return r.localState.runResolvers({document:I,remoteResult:N,context:o,variables:i})})),l},e.prototype.getResultsFromLink=function(t,o,i){var n=t.lastRequestId=this.generateRequestId(),r=this.cache.transformForLink(this.transform(t.document).document);return vl(this.getObservableFromLink(r,i.context,i.variables),function(a){var l=bu(a),s=l.length>0;if(n>=t.lastRequestId){if(s&&i.errorPolicy==="none")throw t.markError(new $n({graphQLErrors:l}));t.markResult(a,r,i,o),t.markReady()}var c={data:a.data,loading:!1,networkStatus:pt.ready};return s&&i.errorPolicy!=="ignore"&&(c.errors=l,c.networkStatus=pt.error),c},function(a){var l=d2(a)?a:new $n({networkError:a});throw n>=t.lastRequestId&&t.markError(l),l})},e.prototype.fetchQueryObservable=function(t,o,i){var n=this;i===void 0&&(i=pt.loading);var r=this.transform(o.query).document,a=this.getVariables(r,o.variables),l=this.getQuery(t),s=this.defaultOptions.watchQuery,c=o.fetchPolicy,u=c===void 0?s&&s.fetchPolicy||"cache-first":c,f=o.errorPolicy,p=f===void 0?s&&s.errorPolicy||"none":f,y=o.returnPartialData,v=y===void 0?!1:y,C=o.notifyOnNetworkStatusChange,I=C===void 0?!1:C,N=o.context,_=N===void 0?{}:N,b=Object.assign({},o,{query:r,variables:a,fetchPolicy:u,errorPolicy:p,returnPartialData:v,notifyOnNetworkStatusChange:I,context:_}),w=function(M){b.variables=M;var H=n.fetchQueryByPolicy(l,b,i);return b.fetchPolicy!=="standby"&&H.length>0&&l.observableQuery&&l.observableQuery.applyNextFetchPolicy("after-fetch",o),H},T=function(){return n.fetchCancelFns.delete(t)};this.fetchCancelFns.set(t,function(M){T(),setTimeout(function(){return k.cancel(M)})});var k=new Sr(this.transform(b.query).hasClientExports?this.localState.addExportedVariables(b.query,b.variables,b.context).then(w):w(b.variables));return k.promise.then(T,T),k},e.prototype.refetchQueries=function(t){var o=this,i=t.updateCache,n=t.include,r=t.optimistic,a=r===void 0?!1:r,l=t.removeOptimistic,s=l===void 0?a?wu("refetchQueries"):void 0:l,c=t.onQueryUpdated,u=new Map;n&&this.getObservableQueries(n).forEach(function(p,y){u.set(y,{oq:p,lastDiff:o.getQuery(y).getDiff()})});var f=new Map;return i&&this.cache.batch({update:i,optimistic:a&&s||!1,removeOptimistic:s,onWatchUpdated:function(p,y,v){var C=p.watcher instanceof Nl&&p.watcher.observableQuery;if(C){if(c){u.delete(C.queryId);var I=c(C,y,v);return I===!0&&(I=C.refetch()),I!==!1&&f.set(C,I),I}c!==null&&u.set(C.queryId,{oq:C,lastDiff:v,diff:y})}}}),u.size&&u.forEach(function(p,y){var v=p.oq,C=p.lastDiff,I=p.diff,N;if(c){if(!I){var _=v.queryInfo;_.reset(),I=_.getDiff()}N=c(v,I,C)}(!c||N===!0)&&(N=v.refetch()),N!==!1&&f.set(v,N),y.indexOf("legacyOneTimeQuery")>=0&&o.stopQueryNoBroadcast(y)}),s&&this.cache.removeOptimistic(s),f},e.prototype.fetchQueryByPolicy=function(t,o,i){var n=this,r=o.query,a=o.variables,l=o.fetchPolicy,s=o.refetchWritePolicy,c=o.errorPolicy,u=o.returnPartialData,f=o.context,p=o.notifyOnNetworkStatusChange,y=t.networkStatus;t.init({document:this.transform(r).document,variables:a,networkStatus:i});var v=function(){return t.getDiff(a)},C=function(w,T){T===void 0&&(T=t.networkStatus||pt.loading);var k=w.result;__DEV__&&!u&&!Dt(k,{})&&Xy(w.missing);var M=function(H){return mt.of(ye({data:H,loading:Jr(T),networkStatus:T},w.complete?null:{partial:!0}))};return k&&n.transform(r).hasForcedResolvers?n.localState.runResolvers({document:r,remoteResult:{data:k},context:f,variables:a,onlyRunForcedResolvers:!0}).then(function(H){return M(H.data||void 0)}):c==="none"&&T===pt.refetch&&Array.isArray(w.missing)?M(void 0):M(k)},I=l==="no-cache"?0:i===pt.refetch&&s!=="merge"?1:2,N=function(){return n.getResultsFromLink(t,I,{variables:a,context:f,fetchPolicy:l,errorPolicy:c})},_=p&&typeof y=="number"&&y!==i&&Jr(i);switch(l){default:case"cache-first":{var b=v();return b.complete?[C(b,t.markReady())]:u||_?[C(b),N()]:[N()]}case"cache-and-network":{var b=v();return b.complete||u||_?[C(b),N()]:[N()]}case"cache-only":return[C(v(),t.markReady())];case"network-only":return _?[C(v()),N()]:[N()];case"no-cache":return _?[C(t.getDiff()),N()]:[N()];case"standby":return[]}},e.prototype.getQuery=function(t){return t&&!this.queries.has(t)&&this.queries.set(t,new Nl(this,t)),this.queries.get(t)},e.prototype.prepareContext=function(t){t===void 0&&(t={});var o=this.localState.prepareContext(t);return ye(ye({},o),{clientAwareness:this.clientAwareness})},e}(),Jm=!1,y2=function(){function e(t){var o=this;this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var i=t.uri,n=t.credentials,r=t.headers,a=t.cache,l=t.ssrMode,s=l===void 0?!1:l,c=t.ssrForceFetchDelay,u=c===void 0?0:c,f=t.connectToDevTools,p=f===void 0?typeof window=="object"&&!window.__APOLLO_CLIENT__&&__DEV__:f,y=t.queryDeduplication,v=y===void 0?!0:y,C=t.defaultOptions,I=t.assumeImmutableResults,N=I===void 0?!1:I,_=t.resolvers,b=t.typeDefs,w=t.fragmentMatcher,T=t.name,k=t.version,M=t.link;if(M||(M=i?new _I({uri:i,credentials:n,headers:r}):Io.empty()),!a)throw __DEV__?new lt(`To initialize Apollo Client, you must specify a 'cache' property in the options object. 
For more information, please visit: https://go.apollo.dev/c/docs`):new lt(9);if(this.link=M,this.cache=a,this.disableNetworkFetches=s||u>0,this.queryDeduplication=v,this.defaultOptions=C||Object.create(null),this.typeDefs=b,u&&setTimeout(function(){return o.disableNetworkFetches=!1},u),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),p&&typeof window=="object"&&(window.__APOLLO_CLIENT__=this),!Jm&&p&&__DEV__&&(Jm=!0,typeof window<"u"&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var H=window.navigator,P=H&&H.userAgent,D=void 0;typeof P=="string"&&(P.indexOf("Chrome/")>-1?D="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":P.indexOf("Firefox/")>-1&&(D="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),D&&__DEV__&&Fe.log("Download the Apollo DevTools for a better development experience: "+D)}this.version=YT,this.localState=new eb({cache:a,client:this,resolvers:_,fragmentMatcher:w}),this.queryManager=new v2({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,queryDeduplication:v,ssrMode:s,clientAwareness:{name:T,version:k},localState:this.localState,assumeImmutableResults:N,onBroadcast:p?function(){o.devToolsHookCb&&o.devToolsHookCb({action:{},state:{queries:o.queryManager.getQueryStore(),mutations:o.queryManager.mutationStore||{}},dataWithOptimisticResults:o.cache.extract(!0)})}:void 0})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(t){return this.defaultOptions.watchQuery&&(t=yl(this.defaultOptions.watchQuery,t)),this.disableNetworkFetches&&(t.fetchPolicy==="network-only"||t.fetchPolicy==="cache-and-network")&&(t=ye(ye({},t),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(t)},e.prototype.query=function(t){return this.defaultOptions.query&&(t=yl(this.defaultOptions.query,t)),__DEV__?Fe(t.fetchPolicy!=="cache-and-network","The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):Fe(t.fetchPolicy!=="cache-and-network",10),this.disableNetworkFetches&&t.fetchPolicy==="network-only"&&(t=ye(ye({},t),{fetchPolicy:"cache-first"})),this.queryManager.query(t)},e.prototype.mutate=function(t){return this.defaultOptions.mutate&&(t=yl(this.defaultOptions.mutate,t)),this.queryManager.mutate(t)},e.prototype.subscribe=function(t){return this.queryManager.startGraphQLSubscription(t)},e.prototype.readQuery=function(t,o){return o===void 0&&(o=!1),this.cache.readQuery(t,o)},e.prototype.readFragment=function(t,o){return o===void 0&&(o=!1),this.cache.readFragment(t,o)},e.prototype.writeQuery=function(t){var o=this.cache.writeQuery(t);return t.broadcast!==!1&&this.queryManager.broadcastQueries(),o},e.prototype.writeFragment=function(t){var o=this.cache.writeFragment(t);return t.broadcast!==!1&&this.queryManager.broadcastQueries(),o},e.prototype.__actionHookForDevTools=function(t){this.devToolsHookCb=t},e.prototype.__requestRaw=function(t){return Au(this.link,t)},e.prototype.resetStore=function(){var t=this;return Promise.resolve().then(function(){return t.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(t.resetStoreCallbacks.map(function(o){return o()}))}).then(function(){return t.reFetchObservableQueries()})},e.prototype.clearStore=function(){var t=this;return Promise.resolve().then(function(){return t.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(t.clearStoreCallbacks.map(function(o){return o()}))})},e.prototype.onResetStore=function(t){var o=this;return this.resetStoreCallbacks.push(t),function(){o.resetStoreCallbacks=o.resetStoreCallbacks.filter(function(i){return i!==t})}},e.prototype.onClearStore=function(t){var o=this;return this.clearStoreCallbacks.push(t),function(){o.clearStoreCallbacks=o.clearStoreCallbacks.filter(function(i){return i!==t})}},e.prototype.reFetchObservableQueries=function(t){return this.queryManager.reFetchObservableQueries(t)},e.prototype.refetchQueries=function(t){var o=this.queryManager.refetchQueries(t),i=[],n=[];o.forEach(function(a,l){i.push(l),n.push(a)});var r=Promise.all(n);return r.queries=i,r.results=n,r.catch(function(a){__DEV__&&Fe.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(a))}),r},e.prototype.getObservableQueries=function(t){return t===void 0&&(t="active"),this.queryManager.getObservableQueries(t)},e.prototype.extract=function(t){return this.cache.extract(t)},e.prototype.restore=function(t){return this.cache.restore(t)},e.prototype.addResolvers=function(t){this.localState.addResolvers(t)},e.prototype.setResolvers=function(t){this.localState.setResolvers(t)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(t){this.localState.setFragmentMatcher(t)},e.prototype.setLink=function(t){this.link=this.queryManager.link=t},e}();function b2(e,t){var o=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(o!=null){var i,n,r,a,l=[],s=!0,c=!1;try{if(r=(o=o.call(e)).next,t===0){if(Object(o)!==o)return;s=!1}else for(;!(s=(i=r.call(o)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(u){c=!0,n=u}finally{try{if(!s&&o.return!=null&&(a=o.return(),Object(a)!==a))return}finally{if(c)throw n}}return l}}function Ym(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),o.push.apply(o,i)}return o}function vi(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?Ym(Object(o),!0).forEach(function(i){Wo(e,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Ym(Object(o)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(o,i))})}return e}function Ou(e){return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(e)}function is(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zm(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ib(i.key),i)}}function rs(e,t,o){return t&&Zm(e.prototype,t),o&&Zm(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wo(e,t,o){return t=ib(t),t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function tb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fu(e,t)}function jt(e){return jt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},jt(e)}function Fu(e,t){return Fu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},Fu(e,t)}function w2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E2(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qn(e)}function ob(e){var t=w2();return function(){var i=jt(e),n;if(t){var r=jt(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return E2(this,n)}}function A2(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=jt(e),e!==null););return e}function Zt(){return typeof Reflect<"u"&&Reflect.get?Zt=Reflect.get.bind():Zt=function(t,o,i){var n=A2(t,o);if(n){var r=Object.getOwnPropertyDescriptor(n,o);return r.get?r.get.call(arguments.length<3?t:i):r.value}},Zt.apply(this,arguments)}function Xm(e,t){return S2(e)||b2(e,t)||nb(e,t)||T2()}function _2(e){return C2(e)||N2(e)||nb(e)||x2()}function C2(e){if(Array.isArray(e))return Lu(e)}function S2(e){if(Array.isArray(e))return e}function N2(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nb(e,t){if(e){if(typeof e=="string")return Lu(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Lu(e,t)}}function Lu(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,i=new Array(t);o<t;o++)i[o]=e[o];return i}function x2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I2(e,t){if(typeof e!="object"||e===null)return e;var o=e[Symbol.toPrimitive];if(o!==void 0){var i=o.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ib(e){var t=I2(e,"string");return typeof t=="symbol"?t:String(t)}function Mu(e,t,o,i){var n,r=!1,a=0;function l(){n&&clearTimeout(n)}function s(){l(),r=!0}typeof t!="boolean"&&(i=o,o=t,t=void 0);function c(){for(var u=arguments.length,f=new Array(u),p=0;p<u;p++)f[p]=arguments[p];var y=this,v=Date.now()-a;if(r)return;function C(){a=Date.now(),o.apply(y,f)}function I(){n=void 0}i&&!n&&C(),l(),i===void 0&&v>e?C():t!==!0&&(n=setTimeout(i?I:C,i===void 0?e-v:e))}return c.cancel=s,c}function P2(e,t,o){return o===void 0?Mu(e,t,!1):Mu(e,o,t!==!1)}var rb=Object.freeze({__proto__:null,debounce:P2,throttle:Mu});function sb(e){return function(t,o){return e(o,t)}}var eg=sb(rb.throttle),tg=sb(rb.debounce),Bu=function(t,o){for(;typeof t=="function";)t=t.call(o);return t},Uu=function(t,o){return Object.entries(t).filter(function(i){var n=Xm(i,1),r=n[0];return!o.includes(r)}).reduce(function(i,n){var r=Xm(n,2),a=r[0],l=r[1];return i[a]=l,i},{})},og=function(t){t.graphQLErrors&&t.graphQLErrors.length&&(t.gqlError=t.graphQLErrors[0])},Fo=typeof window>"u",D2={query:"_skipAllQueries",subscription:"_skipAllSubscriptions"},ab=function(){function e(t,o,i){is(this,e),Wo(this,"type",null),Wo(this,"vueApolloSpecialKeys",[]),this.vm=t,this.key=o,this.initialOptions=i,this.options=Object.assign({},i),this._skip=!1,this._pollInterval=null,this._watchers=[],this._destroyed=!1,this.lastApolloOptions=null}return rs(e,[{key:"autostart",value:function(){var o=this;typeof this.options.skip=="function"?this._skipWatcher=this.vm.$watch(function(){return o.options.skip.call(o.vm,o.vm,o.key)},this.skipChanged.bind(this),{immediate:!0,deep:this.options.deep}):!this.options.skip&&!this.allSkip?this.start():this._skip=!0,typeof this.options.pollInterval=="function"&&(this._pollWatcher=this.vm.$watch(this.options.pollInterval.bind(this.vm),this.pollIntervalChanged.bind(this),{immediate:!0}))}},{key:"pollIntervalChanged",value:function(o,i){o!==i&&(this.pollInterval=o,o==null?this.stopPolling():this.startPolling(o))}},{key:"skipChanged",value:function(o,i){o!==i&&(this.skip=o)}},{key:"pollInterval",get:function(){return this._pollInterval},set:function(o){this._pollInterval=o}},{key:"skip",get:function(){return this._skip},set:function(o){o||this.allSkip?this.stop():this.start(),this._skip=o}},{key:"allSkip",get:function(){return this.vm.$apollo[D2[this.type]]}},{key:"refresh",value:function(){this._skip||(this.stop(),this.start())}},{key:"start",value:function(){var o=this;this.starting=!0;for(var i=function(){var s=r[n];if(typeof o.initialOptions[s]=="function"){var c=o.initialOptions[s].bind(o.vm);o.options[s]=c();var u=function(p){o._destroyed||(o.options[s]=p,o.refresh())};Fo||(u=o.options.throttle?eg(u,o.options.throttle):u,u=o.options.debounce?tg(u,o.options.debounce):u),o._watchers.push(o.vm.$watch(c,u,{deep:o.options.deep}))}},n=0,r=["query","document","context"];n<r.length;n++)i();if(typeof this.options.variables=="function"){var a=this.executeApollo.bind(this);Fo||(a=this.options.throttle?eg(a,this.options.throttle):a,a=this.options.debounce?tg(a,this.options.debounce):a),this._watchers.push(this.vm.$watch(function(){return typeof o.options.variables=="function"?o.options.variables.call(o.vm):o.options.variables},a,{immediate:!0,deep:this.options.deep}))}else this.executeApollo(this.options.variables)}},{key:"stop",value:function(){for(var o=0,i=this._watchers;o<i.length;o++){var n=i[o];n()}this.sub&&(this.sub.unsubscribe(),this.sub=null)}},{key:"generateApolloOptions",value:function(o){var i=Uu(this.options,this.vueApolloSpecialKeys);return i.variables=o,this.lastApolloOptions=i,i}},{key:"executeApollo",value:function(o){this.starting=!1}},{key:"nextResult",value:function(o){var i=o.error;i&&og(i)}},{key:"callHandlers",value:function(o){for(var i=!1,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];for(var l=0;l<o.length;l++){var s=o[l];if(s){i=!0;var c=s.apply(this.vm,r);if(typeof c<"u"&&!c)break}}return i}},{key:"errorHandler",value:function(){for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return this.callHandlers.apply(this,[[this.options.error,this.vm.$apollo.error,this.vm.$apollo.provider.errorHandler]].concat(i))}},{key:"catchError",value:function(o){og(o);var i=this.errorHandler(o,this.vm,this.key,this.type,this.lastApolloOptions);if(!i)if(o.graphQLErrors&&o.graphQLErrors.length!==0){console.error("GraphQL execution errors for ".concat(this.type," '").concat(this.key,"'"));for(var n=0,r=o.graphQLErrors;n<r.length;n++){var a=r[n];console.error(a)}}else if(o.networkError)console.error("Error sending the ".concat(this.type," '").concat(this.key,"'"),o.networkError);else if(console.error("[vue-apollo] An error has occurred for ".concat(this.type," '").concat(this.key,"'")),Array.isArray(o)){var l;(l=console).error.apply(l,_2(o))}else console.error(o)}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.stop(),this._skipWatcher&&this._skipWatcher())}}]),e}(),k2=["variables","watch","update","result","error","loadingKey","watchLoading","skip","throttle","debounce","subscribeToMore","prefetch","manual"],R2=function(e){tb(o,e);var t=ob(o);function o(i,n,r){var a,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return is(this,o),i.$data.$apolloData&&!i.$data.$apolloData.queries[n]&&(i.$data.$apolloData.queries[n]={loading:!1}),a=t.call(this,i,n,r),Wo(Qn(a),"type","query"),Wo(Qn(a),"vueApolloSpecialKeys",k2),Wo(Qn(a),"_loading",!1),Wo(Qn(a),"_linkedSubscriptions",[]),Fo&&(a.firstRun=new Promise(function(s,c){a._firstRunResolve=s,a._firstRunReject=c})),Fo&&(a.options.fetchPolicy="network-only"),r.manual||(a.hasDataField=Object.prototype.hasOwnProperty.call(a.vm.$data,n),a.hasDataField?Object.defineProperty(a.vm.$data.$apolloData.data,n,{get:function(){return a.vm.$data[n]},enumerable:!0,configurable:!0}):Object.defineProperty(a.vm.$data,n,{get:function(){return a.vm.$data.$apolloData.data[n]},enumerable:!0,configurable:!0})),l&&a.autostart(),a}return rs(o,[{key:"client",get:function(){return this.vm.$apollo.getClient(this.options)}},{key:"loading",get:function(){return this.vm.$data.$apolloData&&this.vm.$data.$apolloData.queries[this.key]?this.vm.$data.$apolloData.queries[this.key].loading:this._loading},set:function(n){this._loading!==n&&(this._loading=n,this.vm.$data.$apolloData&&this.vm.$data.$apolloData.queries[this.key]&&(this.vm.$data.$apolloData.queries[this.key].loading=n,this.vm.$data.$apolloData.loading+=n?1:-1))}},{key:"stop",value:function(){Zt(jt(o.prototype),"stop",this).call(this),this.loadingDone(),this.observer&&(this.observer.stopPolling(),this.observer=null)}},{key:"generateApolloOptions",value:function(n){var r=Zt(jt(o.prototype),"generateApolloOptions",this).call(this,n);return this.vm.$isServer&&delete r.pollInterval,r}},{key:"executeApollo",value:function(n){if(!this._destroyed){var r=JSON.stringify(n);if(this.sub){if(r===this.previousVariablesJson)return;this.sub.unsubscribe();for(var a=0,l=this._linkedSubscriptions;a<l.length;a++){var s=l[a];s.stop()}}if(this.previousVariablesJson=r,this.observer=this.vm.$apollo.watchQuery(this.generateApolloOptions(n)),this.startQuerySubscription(),this.options.fetchPolicy!=="no-cache"||this.options.notifyOnNetworkStatusChange){var c=this.retrieveCurrentResult();(this.options.notifyOnNetworkStatusChange||this.observer.getCurrentResult&&!c.loading)&&this.nextResult(c)}Zt(jt(o.prototype),"executeApollo",this).call(this,n);for(var u=0,f=this._linkedSubscriptions;u<f.length;u++){var p=f[u];p.start()}}}},{key:"startQuerySubscription",value:function(){this.sub&&!this.sub.closed||(this.sub=this.observer.subscribe({next:this.nextResult.bind(this),error:this.catchError.bind(this)}))}},{key:"retrieveCurrentResult",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.observer.getCurrentResult?this.observer.getCurrentResult():this.observer.currentResult();return(n||r.loading)&&(this.loading||this.applyLoadingModifier(1),this.loading=!0),r}},{key:"nextResult",value:function(n){Zt(jt(o.prototype),"nextResult",this).call(this,n);var r=n.data,a=n.loading,l=n.error,s=n.errors,c=s&&s.length;if((l||c)&&this.firstRunReject(l),a||this.loadingDone(),!l&&c){var u=new Error("GraphQL error: ".concat(s.map(function(p){return p.message}).join(" | ")));Object.assign(u,{graphQLErrors:s,networkError:null}),Zt(jt(o.prototype),"catchError",this).call(this,u)}if(!(this.observer.options.errorPolicy==="none"&&(l||c))){var f=typeof this.options.result=="function";r==null||(this.options.manual?f||console.error("".concat(this.key," query must have a 'result' hook in manual mode")):typeof this.options.update=="function"?this.setData(this.options.update.call(this.vm,r)):typeof r[this.key]>"u"&&Object.keys(r).length?console.error("Missing ".concat(this.key," attribute on result"),r):this.setData(r[this.key])),f&&this.options.result.call(this.vm,n,this.key)}}},{key:"setData",value:function(n){var r=this.hasDataField?this.vm.$data:this.vm.$data.$apolloData.data;r[this.key]=n}},{key:"catchError",value:function(n){Zt(jt(o.prototype),"catchError",this).call(this,n),this.firstRunReject(n),this.loadingDone(n),this.nextResult(this.observer.getCurrentResult?this.observer.getCurrentResult():this.observer.currentResult()),this.resubscribeToQuery()}},{key:"resubscribeToQuery",value:function(){var n=this.observer.getLastError(),r=this.observer.getLastResult();this.observer.resetLastResults(),this.startQuerySubscription(),Object.assign(this.observer,{lastError:n,lastResult:r})}},{key:"loadingKey",get:function(){return this.options.loadingKey||this.vm.$apollo.loadingKey}},{key:"watchLoading",value:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return this.callHandlers.apply(this,[[this.options.watchLoading,this.vm.$apollo.watchLoading,this.vm.$apollo.provider.watchLoading]].concat(r,[this]))}},{key:"applyLoadingModifier",value:function(n){var r=this.loadingKey;r&&typeof this.vm[r]=="number"&&(this.vm[r]+=n),this.watchLoading(n===1,n)}},{key:"loadingDone",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.loading&&this.applyLoadingModifier(-1),this.loading=!1,n||this.firstRunResolve()}},{key:"fetchMore",value:function(){var n=this;if(this.observer){var r;return this.retrieveCurrentResult(!0),(r=this.observer).fetchMore.apply(r,arguments).then(function(a){return a.loading||n.loadingDone(),a})}}},{key:"subscribeToMore",value:function(){if(this.observer){var n;return{unsubscribe:(n=this.observer).subscribeToMore.apply(n,arguments)}}}},{key:"refetch",value:function(n){var r=this;if(n&&(this.options.variables=n),this.observer){var a=this.observer.refetch(n).then(function(l){return l.loading||r.loadingDone(),l});return this.retrieveCurrentResult(),a}}},{key:"setVariables",value:function(n,r){if(this.options.variables=n,this.observer){var a=this.observer.setVariables(n,r);return this.retrieveCurrentResult(),a}}},{key:"setOptions",value:function(n){if(Object.assign(this.options,n),this.observer){var r=this.observer.setOptions(n);return this.retrieveCurrentResult(),r}}},{key:"startPolling",value:function(){if(this.observer){var n;return(n=this.observer).startPolling.apply(n,arguments)}}},{key:"stopPolling",value:function(){if(this.observer){var n;return(n=this.observer).stopPolling.apply(n,arguments)}}},{key:"firstRunResolve",value:function(){this._firstRunResolve&&(this._firstRunResolve(),this._firstRunResolve=null)}},{key:"firstRunReject",value:function(n){this._firstRunReject&&(this._firstRunReject(n),this._firstRunReject=null)}},{key:"destroy",value:function(){Zt(jt(o.prototype),"destroy",this).call(this),this.loading&&this.watchLoading(!1,-1),this.loading=!1}}]),o}(ab),O2=function(e){tb(o,e);var t=ob(o);function o(i,n,r){var a,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return is(this,o),a=t.call(this,i,n,r),Wo(Qn(a),"type","subscription"),Wo(Qn(a),"vueApolloSpecialKeys",["variables","result","error","throttle","debounce","linkedQuery"]),l&&a.autostart(),a}return rs(o,[{key:"generateApolloOptions",value:function(n){var r=Zt(jt(o.prototype),"generateApolloOptions",this).call(this,n);return r.onError=this.catchError.bind(this),r}},{key:"executeApollo",value:function(n){if(!this._destroyed){var r=JSON.stringify(n);if(this.sub){if(r===this.previousVariablesJson)return;this.sub.unsubscribe()}this.previousVariablesJson=r;var a=this.generateApolloOptions(n);if(typeof a.updateQuery=="function"&&(a.updateQuery=a.updateQuery.bind(this.vm)),this.options.linkedQuery){if(typeof this.options.result=="function"){var l=this.options.result.bind(this.vm),s=a.updateQuery&&a.updateQuery.bind(this.vm);a.updateQuery=function(){return l.apply(void 0,arguments),s&&s.apply(void 0,arguments)}}this.sub=this.options.linkedQuery.subscribeToMore(a)}else this.observer=this.vm.$apollo.subscribe(a),this.sub=this.observer.subscribe({next:this.nextResult.bind(this),error:this.catchError.bind(this)});Zt(jt(o.prototype),"executeApollo",this).call(this,n)}}},{key:"nextResult",value:function(n){Zt(jt(o.prototype),"nextResult",this).call(this,n),typeof this.options.result=="function"&&this.options.result.call(this.vm,n,this.key)}},{key:"catchError",value:function(n){Zt(jt(o.prototype),"catchError",this).call(this,n),this.skip||(this.stop(),this.start())}}]),o}(ab),F2=function(){function e(t,o){is(this,e),this._apolloSubscriptions=[],this._watchers=[],this.vm=t,this.provider=o,this.queries={},this.subscriptions={},this.client=void 0,this.loadingKey=void 0,this.error=void 0}return rs(e,[{key:"getClient",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!o||!o.client){if(Ou(this.client)==="object")return this.client;if(this.client)if(this.provider.clients){var i=this.provider.clients[this.client];if(!i)throw new Error("[vue-apollo] Missing client '".concat(this.client,"' in 'apolloProvider'"));return i}else throw new Error("[vue-apollo] Missing 'clients' options in 'apolloProvider'");return this.provider.defaultClient}var n=this.provider.clients[o.client];if(!n)throw new Error("[vue-apollo] Missing client '".concat(o.client,"' in 'apolloProvider'"));return n}},{key:"query",value:function(o){return this.getClient(o).query(o)}},{key:"watchQuery",value:function(o){var i=this,n=this.getClient(o).watchQuery(o),r=n.subscribe.bind(n);return n.subscribe=function(a){var l=r(a);return i._apolloSubscriptions.push(l),l},n}},{key:"mutate",value:function(o){return this.getClient(o).mutate(o)}},{key:"subscribe",value:function(o){var i=this;if(!Fo){var n=this.getClient(o).subscribe(o),r=n.subscribe.bind(n);return n.subscribe=function(a){var l=r(a);return i._apolloSubscriptions.push(l),l},n}}},{key:"loading",get:function(){return this.vm.$data.$apolloData.loading!==0}},{key:"data",get:function(){return this.vm.$data.$apolloData.data}},{key:"addSmartQuery",value:function(o,i){var n=this,r=Bu(i,this.vm);if(!r.query){var a=r;r={query:a}}var l=this.vm.$options.apollo,s=this.provider.defaultOptions,c;if(s&&s.$query&&(c=s.$query),l&&l.$query&&(c=vi(vi({},c||{}),l.$query)),c)for(var u in c)typeof r[u]>"u"&&(r[u]=c[u]);var f=this.queries[o]=new R2(this.vm,o,r,!1);if((!Fo||r.prefetch!==!1)&&f.autostart(),!Fo){var p=r.subscribeToMore;p&&(Array.isArray(p)?p.forEach(function(y,v){n.addSmartSubscription("".concat(o).concat(v),vi(vi({},y),{},{linkedQuery:f}))}):this.addSmartSubscription(o,vi(vi({},p),{},{linkedQuery:f})))}return f}},{key:"addSmartSubscription",value:function(o,i){if(!Fo){i=Bu(i,this.vm);var n=this.subscriptions[o]=new O2(this.vm,o,i,!1);if(n.autostart(),i.linkedQuery){var r=i.linkedQuery._linkedSubscriptions.findIndex(function(a){return a.key===o});r!==-1?i.linkedQuery._linkedSubscriptions[r]=n:i.linkedQuery._linkedSubscriptions.push(n)}return n}}},{key:"defineReactiveSetter",value:function(o,i,n){var r=this;this._watchers.push(this.vm.$watch(i,function(a){r[o]=a},{immediate:!0,deep:n}))}},{key:"skipAllQueries",set:function(o){this._skipAllQueries=o;for(var i in this.queries)this.queries[i].skip=o}},{key:"skipAllSubscriptions",set:function(o){this._skipAllSubscriptions=o;for(var i in this.subscriptions)this.subscriptions[i].skip=o}},{key:"skipAll",set:function(o){this.skipAllQueries=o,this.skipAllSubscriptions=o}},{key:"destroy",value:function(){for(var o=0,i=this._watchers;o<i.length;o++){var n=i[o];n()}for(var r in this.queries)this.queries[r].destroy();for(var a in this.subscriptions)this.subscriptions[a].destroy();this._apolloSubscriptions.forEach(function(l){l.unsubscribe()}),this._apolloSubscriptions=null,this.vm=null}}]),e}();function xl(e,t){return typeof e<"u"&&Object.prototype.hasOwnProperty.call(e,t)}function L2(){var e=this,t=this.$apolloProvider;if(!(this._apolloLaunched||!t)){this._apolloLaunched=!0;var o=this.$options.apollo;if(o){this.$_apolloPromises=[],o.$init||(o.$init=!0,t.defaultOptions&&(o=this.$options.apollo=Object.assign({},t.defaultOptions,o))),Mn(this.$apollo,"skipAll",o.$skipAll,o.$deep),Mn(this.$apollo,"skipAllQueries",o.$skipAllQueries,o.$deep),Mn(this.$apollo,"skipAllSubscriptions",o.$skipAllSubscriptions,o.$deep),Mn(this.$apollo,"client",o.$client,o.$deep),Mn(this.$apollo,"loadingKey",o.$loadingKey,o.$deep),Mn(this.$apollo,"error",o.$error,o.$deep),Mn(this.$apollo,"watchLoading",o.$watchLoading,o.$deep),Object.defineProperty(this,"$apolloData",{get:function(){return e.$data.$apolloData},enumerable:!0,configurable:!0});for(var i in o)if(i.charAt(0)!=="$"){var n=o[i],r=this.$apollo.addSmartQuery(i,n);Fo&&(n=Bu(n,this),t.prefetch!==!1&&n.prefetch!==!1&&o.$prefetch!==!1&&!r.skip&&this.$_apolloPromises.push(r.firstRun))}if(o.subscribe&&console.warn("vue-apollo -> `subscribe` option is deprecated. Use the `$subscribe` option instead."),o.$subscribe)for(var a in o.$subscribe)this.$apollo.addSmartSubscription(a,o.$subscribe[a])}}}function Mn(e,t,o,i){typeof o<"u"&&(typeof o=="function"?e.defineReactiveSetter(t,o,i):e[t]=o)}function Bs(){this.$apollo&&(this.$apollo.destroy(),this.$apollo=null)}function M2(e,t){e.mixin({data:function(){var i={$apolloData:{queries:{},loading:0,data:{}}},n=this.$options.apollo;if(n){for(var r in n)if(r.charAt(0)!=="$"){var a=n[r];!a.manual&&!xl(this.$options.props,r)&&!xl(this.$options.computed,r)&&!xl(this.$options.methods,r)&&(i[r]=null)}}return i},beforeCreate:function(){var i=this;if(this.$apollo=new F2(this,t),Fo){var n=this.$options.ssrRender;this.$options.ssrRender=function(r){var a=n.call(i,r);return Bs.call(i),a}}},serverPrefetch:function(){var i=this;if(this.$_apolloPromises)return Promise.all(this.$_apolloPromises).then(function(){var n={vm:i,provider:i.$apollo.provider,loading:!1,queries:{},subscriptions:{}};Bs.call(i),i.$apollo=n}).catch(function(n){return Bs.call(i),Promise.reject(n)})},created:L2,unmounted:Bs})}var Us=["$subscribe"],B2=function(){function e(t){if(is(this,e),!t)throw new Error("Options argument required");this.clients=t.clients||{},t.defaultClient&&(this.clients.defaultClient=this.defaultClient=t.defaultClient),this.defaultOptions=t.defaultOptions,this.watchLoading=t.watchLoading,this.errorHandler=t.errorHandler,this.prefetch=t.prefetch}return rs(e,[{key:"install",value:function(o){o.config.optionMergeStrategies.apollo=function(i,n,r){if(!i)return n;if(!n)return i;for(var a=Object.assign({},Uu(i,Us),i.data),l=Object.assign({},Uu(n,Us),n.data),s={},c=0;c<Us.length;c++){var u=Us[c];s[u]=ng(i[u],n[u])}return Object.assign(s,ng(a,l))},o.config.globalProperties.$apolloProvider=this,M2(o,this)}}]),e}();function ng(e,t){return e?Object.assign(Object.assign(Object.create(null),e),t):t}function U2(e){return new B2(e)}function cb(e){return new Io(function(t,o){return new mt(function(i){var n,r,a;try{n=o(t).subscribe({next:function(l){if(l.errors&&(a=e({graphQLErrors:l.errors,response:l,operation:t,forward:o}),a)){r=a.subscribe({next:i.next.bind(i),error:i.error.bind(i),complete:i.complete.bind(i)});return}i.next(l)},error:function(l){if(a=e({operation:t,networkError:l,graphQLErrors:l&&l.result&&l.result.errors,forward:o}),a){r=a.subscribe({next:i.next.bind(i),error:i.error.bind(i),complete:i.complete.bind(i)});return}i.error(l)},complete:function(){a||i.complete.bind(i)()}})}catch(l){e({networkError:l,operation:t,forward:o}),i.error(l)}return function(){n&&n.unsubscribe(),r&&n.unsubscribe()}})})}(function(e){ao(t,e);function t(o){var i=e.call(this)||this;return i.link=cb(o),i}return t.prototype.request=function(o,i){return this.link.request(o,i)},t})(Io);function $2(e){return new Io(function(t,o){var i=Yn(t,[]);return new mt(function(n){var r,a=!1;return Promise.resolve(i).then(function(l){return e(l,t.getContext())}).then(t.setContext).then(function(){a||(r=o(t).subscribe({next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)}))}).catch(n.error.bind(n)),function(){a=!0,r&&r.unsubscribe()}})})}function j2(e){return wt(e)&&"code"in e&&"reason"in e}var q2=function(e){ao(t,e);function t(o){var i=e.call(this)||this;return i.client=o,i}return t.prototype.request=function(o){var i=this;return new mt(function(n){return i.client.subscribe(ye(ye({},o),{query:Jv(o.query)}),{next:n.next.bind(n),complete:n.complete.bind(n),error:function(r){return r instanceof Error?n.error(r):j2(r)?n.error(new Error("Socket closed with event ".concat(r.code," ").concat(r.reason||""))):n.error(new $n({graphQLErrors:Array.isArray(r)?r:[r]}))}})})},t}(Io),ig=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;for(var i=Array(e),n=0,t=0;t<o;t++)for(var r=arguments[t],a=0,l=r.length;a<l;a++,n++)i[n]=r[a];return i},H2=function(){function e(t){var o=t.debug,i=o===void 0?!1:o;this.debug=i,this.lines=[]}return e.prototype.emit=function(t,o){if(t in console){var i=e.prefix;console[t].apply(console,ig([i],o))}},e.prototype.tailLogs=function(){var t=this;this.lines.forEach(function(o){var i=o[0],n=o[1];return t.emit(i,n)})},e.prototype.getLogs=function(){return this.lines},e.prototype.write=function(t,o){var i=e.buffer;this.lines=ig(this.lines.slice(1-i),[[t,o]]),(this.debug||t!=="log")&&this.emit(t,o)},e.prototype.info=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];this.write("log",t)},e.prototype.warn=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];this.write("warn",t)},e.prototype.error=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];this.write("error",t)},e.buffer=30,e.prefix="[apollo-cache-persist]",e}(),V2=function(){function e(t){var o=t.cache,i=t.serialize,n=i===void 0?!0:i;this.cache=o,this.serialize=n}return e.prototype.extract=function(){var t=this.cache.extract();return this.serialize&&(t=JSON.stringify(t)),t},e.prototype.restore=function(t){this.serialize&&typeof t=="string"&&(t=JSON.parse(t)),t!=null&&this.cache.restore(t)},e}(),$s=globalThis&&globalThis.__awaiter||function(e,t,o,i){function n(r){return r instanceof o?r:new o(function(a){a(r)})}return new(o||(o=Promise))(function(r,a){function l(u){try{c(i.next(u))}catch(f){a(f)}}function s(u){try{c(i.throw(u))}catch(f){a(f)}}function c(u){u.done?r(u.value):n(u.value).then(l,s)}c((i=i.apply(e,t||[])).next())})},js=globalThis&&globalThis.__generator||function(e,t){var o={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,n,r,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(u){return s([c,u])}}function s(c){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(r=c[0]&2?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[c[0]&2,r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(r=o.trys,!(r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){o=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(c[0]===6&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(u){c=[6,u],n=0}finally{i=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},lb=function(){function e(t){var o=t.storage,i=t.key,n=i===void 0?"apollo-cache-persist":i;this.storage=o,this.key=n}return e.prototype.read=function(){return $s(this,void 0,void 0,function(){return js(this,function(t){return[2,this.storage.getItem(this.key)]})})},e.prototype.write=function(t){return $s(this,void 0,void 0,function(){return js(this,function(o){switch(o.label){case 0:return[4,this.storage.setItem(this.key,t)];case 1:return o.sent(),[2]}})})},e.prototype.purge=function(){return $s(this,void 0,void 0,function(){return js(this,function(t){switch(t.label){case 0:return[4,this.storage.removeItem(this.key)];case 1:return t.sent(),[2]}})})},e.prototype.getSize=function(){return $s(this,void 0,void 0,function(){var t;return js(this,function(o){switch(o.label){case 0:return[4,this.storage.getItem(this.key)];case 1:return t=o.sent(),t==null?[2,0]:[2,typeof t=="string"?t.length:null]}})})},e}(),Tl=globalThis&&globalThis.__awaiter||function(e,t,o,i){function n(r){return r instanceof o?r:new o(function(a){a(r)})}return new(o||(o=Promise))(function(r,a){function l(u){try{c(i.next(u))}catch(f){a(f)}}function s(u){try{c(i.throw(u))}catch(f){a(f)}}function c(u){u.done?r(u.value):n(u.value).then(l,s)}c((i=i.apply(e,t||[])).next())})},Il=globalThis&&globalThis.__generator||function(e,t){var o={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,n,r,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(c){return function(u){return s([c,u])}}function s(c){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(r=c[0]&2?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[c[0]&2,r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(r=o.trys,!(r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){o=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(c[0]===6&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(u){c=[6,u],n=0}finally{i=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},ub=function(){function e(t,o){var i=t.log,n=t.cache,r=t.storage,a=o.maxSize,l=a===void 0?1024*1024:a,s=o.persistenceMapper;this.log=i,this.cache=n,this.storage=r,this.paused=!1,s&&(this.persistenceMapper=s),l&&(this.maxSize=l)}return e.prototype.persist=function(){return Tl(this,void 0,void 0,function(){var t,o;return Il(this,function(i){switch(i.label){case 0:return i.trys.push([0,6,,7]),t=this.cache.extract(),!this.paused&&this.persistenceMapper?[4,this.persistenceMapper(t)]:[3,2];case 1:t=i.sent(),i.label=2;case 2:return this.maxSize!=null&&typeof t=="string"&&t.length>this.maxSize&&!this.paused?[4,this.purge()]:[3,4];case 3:return i.sent(),this.paused=!0,[2];case 4:return this.paused?[2]:[4,this.storage.write(t)];case 5:return i.sent(),this.log.info(typeof t=="string"?"Persisted cache of size "+t.length+" characters":"Persisted cache"),[3,7];case 6:throw o=i.sent(),this.log.error("Error persisting cache",o),o;case 7:return[2]}})})},e.prototype.restore=function(){return Tl(this,void 0,void 0,function(){var t,o;return Il(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),[4,this.storage.read()];case 1:return t=i.sent(),t==null?[3,3]:[4,this.cache.restore(t)];case 2:return i.sent(),this.log.info(typeof t=="string"?"Restored cache of size "+t.length+" characters":"Restored cache"),[3,4];case 3:this.log.info("No stored cache to restore"),i.label=4;case 4:return[3,6];case 5:throw o=i.sent(),this.log.error("Error restoring cache",o),o;case 6:return[2]}})})},e.prototype.purge=function(){return Tl(this,void 0,void 0,function(){var t;return Il(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.storage.purge()];case 1:return o.sent(),this.log.info("Purged cache storage"),[3,3];case 2:throw t=o.sent(),this.log.error("Error purging cache storage",t),t;case 3:return[2]}})})},e}();const db=function(e){var t=e.cache;return function(o){var i=t.write,n=t.evict,r=t.modify;return t.write=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var s=i.apply(t,a);return o(),s},t.evict=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var s=n.apply(t,a);return o(),s},t.modify=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var s=r.apply(t,a);return o(),s},function(){t.write=i,t.evict=n,t.modify=r}}},z2=function(e){var t=e.log,o=e.cache;return function(i){return t.warn("Trigger option `background` not available on web; using `write` trigger"),db({cache:o})(i)}};var Q2=function(){function e(t,o){var i=this,n=t.log,r=t.persistor;this.fire=function(){if(!i.debounce){i.persist();return}i.timeout!=null&&clearTimeout(i.timeout),i.timeout=setTimeout(i.persist,i.debounce)},this.persist=function(){i.paused||i.persistor.persist()};var a=e.defaultDebounce,l=o.cache,s=o.debounce,c=o.trigger,u=c===void 0?"write":c;if(u)switch(this.debounce=s??a,this.persistor=r,this.paused=!1,u){case"write":this.uninstall=db({cache:l})(this.fire);break;case"background":s&&n.warn("Debounce is not recommended with `background` trigger"),this.debounce=s,this.uninstall=z2({cache:l,log:n})(this.fire);break;default:if(typeof u=="function")this.uninstall=u(this.fire);else throw Error("Unrecognized trigger option: "+u)}}return e.prototype.pause=function(){this.paused=!0},e.prototype.resume=function(){this.paused=!1},e.prototype.remove=function(){this.uninstall&&(this.uninstall(),this.uninstall=null,this.paused=!0)},e.defaultDebounce=1e3,e}(),fb=function(){function e(t){if(!t.cache)throw new Error("In order to persist your Apollo Cache, you need to pass in a cache. Please see https://www.apollographql.com/docs/react/basics/caching.html for our default InMemoryCache.");if(!t.storage)throw new Error("In order to persist your Apollo Cache, you need to pass in an underlying storage provider. Please see https://github.com/apollographql/apollo-cache-persist#storage-providers");var o=new H2(t),i=new V2(t),n=new lb(t),r=new ub({log:o,cache:i,storage:n},t),a=new Q2({log:o,persistor:r},t);this.log=o,this.cache=i,this.storage=n,this.persistor=r,this.trigger=a}return e.prototype.persist=function(){return this.persistor.persist()},e.prototype.restore=function(){return this.persistor.restore()},e.prototype.purge=function(){return this.persistor.purge()},e.prototype.pause=function(){this.trigger.pause()},e.prototype.resume=function(){this.trigger.resume()},e.prototype.remove=function(){this.trigger.remove()},e.prototype.getLogs=function(t){if(t===void 0&&(t=!1),t)this.log.tailLogs();else return this.log.getLogs()},e.prototype.getSize=function(){return this.storage.getSize()},e}(),Md=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])},e(t,o)};return function(t,o){e(t,o);function i(){this.constructor=t}t.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}}();(function(e){Md(t,e);function t(o){var i=e.call(this,o)||this;return i.storage=new W2(o),i.persistor=new G2({log:i.log,cache:i.cache,storage:i.storage},o),i}return t.prototype.restoreSync=function(){this.persistor.restoreSync()},t})(fb);var G2=function(e){Md(t,e);function t(o,i){var n=o.log,r=o.cache,a=o.storage;return e.call(this,{log:n,cache:r,storage:a},i)||this}return t.prototype.restoreSync=function(){this.cache.restore(this.storage.readSync())},t}(ub),W2=function(e){Md(t,e);function t(o){return e.call(this,o)||this}return t.prototype.readSync=function(){return this.storage.getItem(this.key)},t}(lb),K2=function(){function e(t){this.storage=t}return e.prototype.getItem=function(t){return this.storage.getItem(t)},e.prototype.removeItem=function(t){return this.storage.removeItem(t)},e.prototype.setItem=function(t,o){return o!==null?this.storage.setItem(t,o):this.removeItem(t)},e}();const hb=new u2({typePolicies:{Query:{fields:{nodoConocimiento:{read(e,{variables:t,toReference:o}){return t!=null&&t.idNodo?o({__typename:"NodoConocimiento",id:t.idNodo}):!1}}}}}}),J2=new fb({cache:hb,storage:new K2(window.localStorage)});function Jt(e){return e===null?"null":Array.isArray(e)?"array":typeof e}function jn(e){return Jt(e)==="object"}function Y2(e){return Array.isArray(e)&&e.length>0&&e.every(t=>"message"in t)}function rg(e,t){return e.length<124?e:t}const Z2="graphql-transport-ws";var so;(function(e){e[e.InternalServerError=4500]="InternalServerError",e[e.InternalClientError=4005]="InternalClientError",e[e.BadRequest=4400]="BadRequest",e[e.BadResponse=4004]="BadResponse",e[e.Unauthorized=4401]="Unauthorized",e[e.Forbidden=4403]="Forbidden",e[e.SubprotocolNotAcceptable=4406]="SubprotocolNotAcceptable",e[e.ConnectionInitialisationTimeout=4408]="ConnectionInitialisationTimeout",e[e.ConnectionAcknowledgementTimeout=4504]="ConnectionAcknowledgementTimeout",e[e.SubscriberAlreadyExists=4409]="SubscriberAlreadyExists",e[e.TooManyInitialisationRequests=4429]="TooManyInitialisationRequests"})(so||(so={}));var St;(function(e){e.ConnectionInit="connection_init",e.ConnectionAck="connection_ack",e.Ping="ping",e.Pong="pong",e.Subscribe="subscribe",e.Next="next",e.Error="error",e.Complete="complete"})(St||(St={}));function pb(e){if(!jn(e))throw new Error(`Message is expected to be an object, but got ${Jt(e)}`);if(!e.type)throw new Error("Message is missing the 'type' property");if(typeof e.type!="string")throw new Error(`Message is expects the 'type' property to be a string, but got ${Jt(e.type)}`);switch(e.type){case St.ConnectionInit:case St.ConnectionAck:case St.Ping:case St.Pong:{if(e.payload!=null&&!jn(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object or nullish or missing, but got "${e.payload}"`);break}case St.Subscribe:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Jt(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!jn(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${Jt(e.payload)}`);if(typeof e.payload.query!="string")throw new Error(`"${e.type}" message payload expects the 'query' property to be a string, but got ${Jt(e.payload.query)}`);if(e.payload.variables!=null&&!jn(e.payload.variables))throw new Error(`"${e.type}" message payload expects the 'variables' property to be a an object or nullish or missing, but got ${Jt(e.payload.variables)}`);if(e.payload.operationName!=null&&Jt(e.payload.operationName)!=="string")throw new Error(`"${e.type}" message payload expects the 'operationName' property to be a string or nullish or missing, but got ${Jt(e.payload.operationName)}`);if(e.payload.extensions!=null&&!jn(e.payload.extensions))throw new Error(`"${e.type}" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ${Jt(e.payload.extensions)}`);break}case St.Next:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Jt(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!jn(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${Jt(e.payload)}`);break}case St.Error:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Jt(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!Y2(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an array of GraphQL errors, but got ${JSON.stringify(e.payload)}`);break}case St.Complete:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Jt(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);break}default:throw new Error(`Invalid message 'type' property "${e.type}"`)}return e}function X2(e,t){return pb(typeof e=="string"?JSON.parse(e,t):e)}function vr(e,t){return pb(e),JSON.stringify(e,t)}function eP(e){const{url:t,connectionParams:o,lazy:i=!0,onNonLazyError:n=console.error,lazyCloseTimeout:r=0,keepAlive:a=0,disablePong:l,connectionAckWaitTimeout:s=0,retryAttempts:c=5,retryWait:u=async function(oe){let ie=1e3;for(let z=0;z<oe;z++)ie*=2;await new Promise(z=>setTimeout(z,ie+Math.floor(Math.random()*(3e3-300)+300)))},shouldRetry:f=qs,isFatalConnectionProblem:p,on:y,webSocketImpl:v,generateID:C=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,oe=>{const ie=Math.random()*16|0;return(oe=="x"?ie:ie&3|8).toString(16)})},jsonMessageReplacer:I,jsonMessageReviver:N}=e;let _;if(v){if(!oP(v))throw new Error("Invalid WebSocket implementation provided");_=v}else typeof WebSocket<"u"?_=WebSocket:typeof global<"u"?_=global.WebSocket||global.MozWebSocket:typeof window<"u"&&(_=window.WebSocket||window.MozWebSocket);if(!_)throw new Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");const b=_,w=(()=>{const E=(()=>{const ie={};return{on(z,be){return ie[z]=be,()=>{delete ie[z]}},emit(z){var be;"id"in z&&((be=ie[z.id])===null||be===void 0||be.call(ie,z))}}})(),oe={connecting:y!=null&&y.connecting?[y.connecting]:[],opened:y!=null&&y.opened?[y.opened]:[],connected:y!=null&&y.connected?[y.connected]:[],ping:y!=null&&y.ping?[y.ping]:[],pong:y!=null&&y.pong?[y.pong]:[],message:y!=null&&y.message?[E.emit,y.message]:[E.emit],closed:y!=null&&y.closed?[y.closed]:[],error:y!=null&&y.error?[y.error]:[]};return{onMessage:E.on,on(ie,z){const be=oe[ie];return be.push(z),()=>{be.splice(be.indexOf(z),1)}},emit(ie,...z){for(const be of[...oe[ie]])be(...z)}}})();function T(E){const oe=[w.on("error",ie=>{oe.forEach(z=>z()),E(ie)}),w.on("closed",ie=>{oe.forEach(z=>z()),E(ie)})]}let k,M=0,H,P=!1,D=0,B=!1;async function F(){clearTimeout(H);const[E,oe]=await(k??(k=new Promise((be,me)=>(async()=>{if(P){if(await u(D),!M)return k=void 0,me({code:1e3,reason:"All Subscriptions Gone"});D++}w.emit("connecting");const _e=new b(typeof t=="function"?await t():t,Z2);let x,$;function te(){isFinite(a)&&a>0&&(clearTimeout($),$=setTimeout(()=>{_e.readyState===b.OPEN&&(_e.send(vr({type:St.Ping})),w.emit("ping",!1,void 0))},a))}T(K=>{k=void 0,clearTimeout(x),clearTimeout($),me(K),qs(K)&&K.code===4499&&(_e.close(4499,"Terminated"),_e.onerror=null,_e.onclose=null)}),_e.onerror=K=>w.emit("error",K),_e.onclose=K=>w.emit("closed",K),_e.onopen=async()=>{try{w.emit("opened",_e);const K=typeof o=="function"?await o():o;if(_e.readyState!==b.OPEN)return;_e.send(vr(K?{type:St.ConnectionInit,payload:K}:{type:St.ConnectionInit},I)),isFinite(s)&&s>0&&(x=setTimeout(()=>{_e.close(so.ConnectionAcknowledgementTimeout,"Connection acknowledgement timeout")},s)),te()}catch(K){w.emit("error",K),_e.close(so.InternalClientError,rg(K instanceof Error?K.message:new Error(K).message,"Internal client error"))}};let V=!1;_e.onmessage=({data:K})=>{try{const q=X2(K,N);if(w.emit("message",q),q.type==="ping"||q.type==="pong"){w.emit(q.type,!0,q.payload),q.type==="pong"?te():l||(_e.send(vr(q.payload?{type:St.Pong,payload:q.payload}:{type:St.Pong})),w.emit("pong",!1,q.payload));return}if(V)return;if(q.type!==St.ConnectionAck)throw new Error(`First message cannot be of type ${q.type}`);clearTimeout(x),V=!0,w.emit("connected",_e,q.payload),P=!1,D=0,be([_e,new Promise((G,ee)=>T(ee))])}catch(q){_e.onmessage=null,w.emit("error",q),_e.close(so.BadResponse,rg(q instanceof Error?q.message:new Error(q).message,"Bad response"))}}})())));E.readyState===b.CLOSING&&await oe;let ie=()=>{};const z=new Promise(be=>ie=be);return[E,ie,Promise.race([z.then(()=>{if(!M){const be=()=>E.close(1e3,"Normal Closure");isFinite(r)&&r>0?H=setTimeout(()=>{E.readyState===b.OPEN&&be()},r):be()}}),oe])]}function Q(E){if(qs(E)&&(tP(E.code)||[so.InternalServerError,so.InternalClientError,so.BadRequest,so.BadResponse,so.Unauthorized,so.SubprotocolNotAcceptable,so.SubscriberAlreadyExists,so.TooManyInitialisationRequests].includes(E.code)))throw E;if(B)return!1;if(qs(E)&&E.code===1e3)return M>0;if(!c||D>=c||!f(E)||p!=null&&p(E))throw E;return P=!0}return i||(async()=>{for(M++;;)try{const[,,E]=await F();await E}catch(E){try{if(!Q(E))return}catch(oe){return n==null?void 0:n(oe)}}})(),{on:w.on,subscribe(E,oe){const ie=C(E);let z=!1,be=!1,me=()=>{M--,z=!0};return(async()=>{for(M++;;)try{const[_e,x,$]=await F();if(z)return x();const te=w.onMessage(ie,V=>{switch(V.type){case St.Next:{oe.next(V.payload);return}case St.Error:{be=!0,z=!0,oe.error(V.payload),me();return}case St.Complete:{z=!0,me();return}}});_e.send(vr({id:ie,type:St.Subscribe,payload:E},I)),me=()=>{!z&&_e.readyState===b.OPEN&&_e.send(vr({id:ie,type:St.Complete},I)),M--,z=!0,x()},await $.finally(te);return}catch(_e){if(!Q(_e))return}})().then(()=>{be||oe.complete()}).catch(_e=>{oe.error(_e)}),()=>{z||me()}},async dispose(){if(B=!0,k){const[E]=await k;E.close(1e3,"Normal Closure")}},terminate(){k&&w.emit("closed",{code:4499,reason:"Terminated",wasClean:!1})}}}function qs(e){return jn(e)&&"code"in e&&"reason"in e}function tP(e){return[1e3,1001,1006,1005,1012,1013,1013].includes(e)?!1:e>=1e3&&e<=1999}function oP(e){return typeof e=="function"&&"constructor"in e&&"CLOSED"in e&&"CLOSING"in e&&"CONNECTING"in e&&"OPEN"in e}const nP=xy({uri:oy+"/graphql"}),iP=$2((e,{headers:t})=>{let o=mb(),i="";return o&&(i="Bearer "+o),{headers:{...t,authorization:i}}}),rP=new q2(eP({url:vN+"/graphql",connectionParams:()=>({authentication:mb(),mensaje:"hola"})})),sP=JT(({query:e})=>{const t=Ua(e);return t.kind==="OperationDefinition"&&t.operation==="subscription"},rP,Sy([iP,nP])),aP=cb(({graphQLErrors:e,networkError:t})=>{console.log("NODE_ENV: production")}),Yr=new y2({link:Sy([aP,sP]),cache:hb}),cP=U2({defaultClient:Yr,defaultOptions:{$fetchPolicy:"cache-and-network"}});function mb(){var t,o;let e=Yr.readQuery({query:Et`
      query {
        auth_usuario @client {
          id
          token
        }
      }
    `});return(t=e==null?void 0:e.auth_usuario)!=null&&t.token?(o=e==null?void 0:e.auth_usuario)==null?void 0:o.token:""}const lP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAABm1BMVEUAAAB9fX2jo6NeXl6Pj4+Pj4+ioqIvLy82NjY1NTWMjIxLS0tra2uOjo4tLS1VVVWioqJXV1ehoaGhoaFdXV2Li4s5OTl5eXksLCwaGhpTU1MdHR17e3uOjo5BQUGOjo4vLy9UVFSOjo4dHR0wMDCPj49nZ2dDQ0MfHx9paWkyMjI+Pj4mJiY3NzcdHR17e3tqamqOjo6Ojo56enqgoKA7OztpaWmQkJChoaFPT08mJiY9PT2NjY2Pj49/f3+fn5+lpaVoaGh6enp7e3sdHR1oaGhTU1NBQUEvLy9UVFR7e3t7e3saGhpoaGg+Pj4dHR1qamp7e3tCQkJCQkKPj498fHweHh5paWmPj49paWlCQkJnZ2dVVVV9fX0vLy9nZ2d7e3tUVFQfHx9ra2t8fHxVVVVERERERERqampAQECPj49DQ0MzMzNVVVV6enpVVVVpaWl6enpFRUUmJiYaGhpmZmZTU1NTU1MyMjJ7e3ufn596enqPj493d3d8fHwbGxukpKRoaGhUVFQrKysaGhp7e3s/Pz8+Pj49PT291zY1AAAAgXRSTlMABlYN4txVHhcSEQoD4N6UUDAuJxgLB/39+/ba2NfHxcS7qKSej4mBdm1sZmBaWlZWUEtJSEdAOjc2NDEpHBoYCPz49vXv7+/s6+bl5ODg09HKwby7u7u6ubGwrKinp6KhoKCWlY2NgoF6eXlzcWxrY2JRT01IQz09PDs2MC8nJSDBqhNCAAABgklEQVRIx+3SRVPDQBTA8VdClTptcZeWCnVX3N3d3d0lJG352GwuDKewb4YZLv3fkskvu/N2odAfZZErkSK2WTXbDpQp5RaAkiae56tidMJZr22Ow9swIRV0y9xrOY5rtsjHBHJNRewcSSsHWzfPN9ENwFVOSL0C4MrmVABVitVyrt8OtAX3juKgcBwHqYVrNJ+vjQKiksUcyYohzKRAdtUYc/CZz/VdAibGWjvlAGRKBlAxBoMaJwzLvQM6E4rsfJDOUKfSIBAdhqh1AjkBTNGGysoNE6Ay3d4xgE4iwYq2pTUPUnSw7MgNRjBzLKkVdTILAtkHTOc9LDseAlSerdYQmP3ul59DTKdFx6gGYLa7yqrd32/MEb3sUQWi+Tuz2ewM+SjhC5PflxaRjOLkooyQ6hR4pzU1hxIwEiGLiJOHQULWJapGaXFxTRje9TKZvhTEO50YWnmCZB0hGh/ZWSBg/PUapV7NZFAtUo10PkEeMxmg7LmlrtGLvdVJFRT6v74ABqxMskl6QHIAAAAASUVORK5CYII=",uP={name:"Loading",props:{texto:{type:String},colorLetra:{type:String,default:"black"}},computed:{estiloTexto(){return{color:this.colorLetra}}}},dP=e=>(ot("data-v-47eb51b8"),e=e(),nt(),e),fP={class:"loading"},hP=dP(()=>g("img",{src:lP,alt:"Cargando",id:"iconoLoading"},null,-1));function pP(e,t,o,i,n,r){return J(),re("div",fP,[hP,o.texto?(J(),re("span",{key:0,style:qe([r.estiloTexto]),class:"textoLoading"},we(o.texto),5)):Te("",!0)])}const vt=Qe(uP,[["render",pP],["__scopeId","data-v-47eb51b8"]]),mP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAnFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD4jUzeAAAAM3RSTlMA+xEW+PI/BSPvyIob4YV/XzwfAnZyZUeUVgnqwrdrNg7Tz7utb9vVv6SdmEwxKeWyjk9WFiZCAAAB0ElEQVRIx+2U2bKqMBBFu0kgcJhFQHGeZ8+w///frmKdstSEK+9nvVCws6pJuiv0xyOB00/6qaB3caMN44qcx8E7QmfH9XJP1o/D/0slNjDolSKjLPjZX1+OzULmA15e0S/T2AbnjcrFGHaIqtJffp3oynkGNDkJsKxIjUNc+KYa6wNcmnduY1iR2AJYL3su3RBrfFomZQevQ2IGfE0yujOR8E39YOSkFuBx9hj0YBvKRBhUVACrlx9mjPXKBj1Sayyyl2SEhX6uGD+UAs5rlMNWOsUBAooRKm3k6pQ+ZEY7jHSnD6T6PtoZ9RBpIgGU+iqsqHKU7vgNVVKgQ3ocsHYvQqJvULrwlDaYY29Qthjpg7ieC8fzNZNU6JVAIiYqsH0O9vCmpOcA+0yqFM+bZ0RkQAwwt16LhwinZOLIGFrPxhzSITM5MDs9disEF9REzpC+uA/XgSELEZ+bnPITkMtiIqbBZDViIHTIxyDxo5PRsXwbVxhXvGhKNKm/cJfM0nhxW+ONitthjIFNCHSpAeWmZeqq+30xU9aHxjHzjdCido4DDNs60a/DqzbOR+1I920nrh3BSKiVIxy0UajLYMAT1IKVvBhHaoWb9AX9ceEfSSU0mMLFKFUAAAAASUVORK5CYII=",gP={components:{Loading:vt},name:"BuscadorNodosConocimiento",data(){return{textoBusqueda:"",cantidadPalabrasValidas:0,resultados:[],mostrandoInput:!1,mostrandoLista:!1,esperandoResultados:!1}},methods:{clickEnLupa(){this.mostrandoInput?this.buscarDatabase():(this.mostrandoInput=!0,this.$nextTick(()=>{this.$refs.inputBuscador.focus(),this.$refs.inputBuscador.select()}))},cerrar(){this.mostrandoInput=!1},buscarDatabase(){this.textoBusqueda&&(console.log("******Descargando resultados de búsqueda"),this.esperandoResultados=!0,this.$apollo.query({query:Se`
            query ($palabrasBuscadas: String!) {
              busquedaAmplia(palabrasBuscadas: $palabrasBuscadas) {
                id
                nombre
                resumen
                autoCoords {
                  x
                  y
                }
              }
            }
          `,variables:{palabrasBuscadas:this.textoBusqueda},fetchPolicy:"network-only"}).then(({data:{busquedaAmplia:e}})=>{this.resultados=e,this.esperandoResultados=!1,this.mostrandoLista=!0}).catch(e=>{console.log(`Error: ${e}`),this.esperandoResultados=!1}))},cerrarBusqueda(){this.mostrandoInput=!1,this.mostrandoLista=!1}},watch:{textoBusqueda:function(){this.mostrandoLista=!1}}},vP={id:"barraSuperior"},yP={id:"listaResultados"},bP=["onClick"];function wP(e,t,o,i,n,r){const a=Re("loading");return J(),re("div",{id:"buscadorNodosConocimiento",style:qe([{width:n.mostrandoInput?"min(100vh, 350px)":"30px"}])},[g("div",vP,[g("img",{src:mP,alt:"Lupa",title:"Buscar nodos de conocimiento",id:"imagenLupa",class:Ae({opaco:!n.mostrandoInput}),onClick:t[0]||(t[0]=De((...l)=>r.clickEnLupa&&r.clickEnLupa(...l),["stop"]))},null,2),Ie(ts,{name:"unfold"},{default:$t(()=>[W(g("input",{type:"text",placeholder:"Buscar","onUpdate:modelValue":t[1]||(t[1]=l=>n.textoBusqueda=l),id:"inputBuscador",ref:"inputBuscador",autocomplete:"off",onClick:t[2]||(t[2]=De(()=>{},["stop"])),onKeypress:t[3]||(t[3]=xt((...l)=>r.buscarDatabase&&r.buscarDatabase(...l),["enter"]))},null,544),[[Ke,n.textoBusqueda],[Z,n.mostrandoInput]])]),_:1})]),W(Ie(a,{texto:"Buscando"},null,512),[[Z,n.esperandoResultados]]),W(g("div",yP,[(J(!0),re(Me,null,Ve(n.resultados,l=>(J(),re("div",{class:"resultado",key:l.id,onClick:De(s=>{e.$emit("nodoSeleccionado",l),n.mostrandoInput=!1,n.mostrandoLista=!1},["stop"])},we(l.nombre),9,bP))),128))],512),[[Z,n.mostrandoLista]])],4)}const EP=Qe(gP,[["render",wP],["__scopeId","data-v-8626ce9a"]]),AP={name:"PieProgreso",props:{colorProgreso:{type:String,default:"#04AA6D"},mostrarNumero:{type:Boolean,default:!0},progreso:{type:Number,default:0},cifrasDecimales:{type:Number,default(){return 0}},size:{type:Number,default:40},colorFondo:{type:String,default:"#f5f5f59c"}},data(){return{}},computed:{estiloCirculoVacio(){return{width:this.size+"px",height:this.size+"px",backgroundColor:this.colorFondo}},estiloCanvasProgreso(){return{width:this.size+"px",height:this.size+"px"}},estiloNumero(){let e=70;return this.progreso>=100&&(e=60),{fontSize:e+"%"}}},methods:{trazarGraph(){const e=this.$refs.canvasProgreso.getContext("2d"),t=Math.round(this.size/2),o=2*Math.PI/100*this.progreso-Math.PI/2;e.clearRect(0,0,this.size,this.size),e.beginPath(),e.strokeStyle=this.colorProgreso||"#04AA6D",e.lineWidth=5,e.arc(t,t,Math.round(t*.8),-(Math.PI/2),o),e.stroke()}},watch:{progreso(){this.trazarGraph()}},mounted(){this.trazarGraph()}},_P={class:"pieProgreso"},CP={id:"contenidoExterno"},SP={key:0},NP=["width","height"];function xP(e,t,o,i,n,r){return J(),re("div",_P,[g("div",{id:"circuloVacio",style:qe([r.estiloCirculoVacio])},[g("div",CP,[vv(e.$slots,"default",{},void 0,!0)]),o.mostrarNumero?(J(),re("div",{key:0,id:"numeroProgreso",style:qe([r.estiloNumero])},[o.progreso?(J(),re("span",SP,we(o.progreso.toFixed(o.cifrasDecimales)),1)):Te("",!0)],4)):Te("",!0),g("canvas",{id:"canvasProgreso",ref:"canvasProgreso",width:o.size,height:o.size,style:qe([r.estiloCanvasProgreso])},null,12,NP)],4)])}const Bd=Qe(AP,[["render",xP],["__scopeId","data-v-19c7acef"]]),Ud="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAh1BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD3YishAAAALHRSTlMAHWYM844W+fbOXRF7rtQHbBPl3NiGVcSrdjLqx7M6JebtiVG2PDmSZUW4lkeFA2IAAAKHSURBVFjDpZfterIwDIZTOlS+XgTlQ1FEdLp34/yPb6R0VCjYcvX54bVR7tCmSdrAnEiaBE61aZpN5QR1SmCRPu1dM9Lu+alLewdOSzYOng5efzSz+qiVJrZX/u46s90HoQCUPNw6W/PH1+1b/HLidH6jwxF6y7mN02Wed7vZV340NRr5VbcOd463u3Gfwoyo333BnhwNAzZ4frvj5MxeCsIJ/htHNhYoZG3wvbtsgX0/PoJSx5jNYXL9e62AJfsJP7iMX4GWVsyCO9h/9G6snTAkxt16jYcT+u8I2jqiJ08v8YtT+oIFspDoo9q74v7DIp0xL/4yq8YVLawYBL2W8Ang3z4slI9f7aZwwPyhGsz/w5fYaFq02AFQO70JrNhWuYMp7Fj9w/yP1Py/rlL0mx1hfSh5EOd6POrZP8oxoPkKbtp8c++fpRj9AATnRbX55ke4EddAmJ1Mlxc+QGXt/ykk7W+tzYuA595LWCFxtXlrXAMCcNrfBwjRZ7E+3XR4KNsnDlTME71Ch725VfOd/2PAzKajzEYLah4ohibgyLC2cgtKHkLGygaEBZmXDchLEBYUPF+C7MRevszLTpS2MXqxIPPyNsqBFDk6vAikRDplIkfNi1CWkwktqHmRTHI6owUVL9JZKijcgpLnBWWupHmOiuclbbaoRo6KX7GiOl/WvUxUcVmirPODpaBT54hF5nlxsJgfbZAYHK5Gx3vhDXLYWnzBsAyvOJnxJcv0mmd60TS86uZyib0vu2ybXffz0LDhULQ8hb+abnkK0fIom6503HSlf01XdtFv+0pCw5CS0rX7tq9QetlL3jWeiWfa+mqqtPdjem+XSkxu/2Ns/2MnSObb/1/3C6xgJU1VjAAAAABJRU5ErkJggg==",Va="/caracol/assets/lightbulbEmpty-b30e6079.svg",za="/caracol/assets/fireSolid-fd34d4dd.svg",TP={components:{PieProgreso:Bd,Loading:vt},name:"IconoNodoConocimiento",apollo:{},data(){return{}},props:{esteNodo:Object,seleccionado:Boolean,datosEsteNodo:Object,mostrarPorcentajeCompletado:Boolean,porcentajeCompletado:Number,opcionesMenuCx:Array,menuCx:Boolean,siendoRemovido:Boolean},computed:{estiloCartelNombre(){var e="var(--atlasConocimientoBaseNodo)",t="black";return this.aprendido||this.estudiado?e="var(--atlasConocimientoCheck)":this.nodoRepasar?e="var(--atlasConocimientoRepaso)":this.aprendible?e="var(--atlasConocimientoAvailable)":t="#313131",{backgroundColor:e,color:t}},estudiado(){var e;return!!((e=this.datosEsteNodo)!=null&&e.estudiado)},estudiadoRecientemente(){if(!this.estudiado||!this.datosEsteNodo.diasRepaso)return!1;let e=new Date,t=e;t.setHours(0),t.setMinutes(0),t.setSeconds(0);let o=new Date(this.datosEsteNodo.estudiado).getTime(),i=o+this.datosEsteNodo.diasRepaso*864e5,n=e.getTime();return console.log(`${this.datosEsteNodo.nombreNodo}: Millis estudiado: ${o}, millisRepaso: ${i}, millisHoy ${n}`),i>n},repasar(){return this.estudiado&&!this.estudiadoRecientemente},aprendido(){var e;return(e=this.datosEsteNodo)==null?void 0:e.aprendido}},methods:{abrirPaginaNodo(){this.$router.push(this.$route.path+"/nodoConocimiento/"+this.esteNodo.id)}}},IP={key:0,src:Ud,alt:"Aprendido",title:"Este tema ya ha sido aprendido",id:"iconoAprendido"},PP={id:"iconoNodo"},DP={key:0,src:Va},kP={key:1,src:za},RP=["onClick"];function OP(e,t,o,i,n,r){const a=Re("pie-progreso"),l=Re("loading");return J(),re("div",{class:Ae(["iconoNodoConocimiento",{deshabilitado:o.siendoRemovido}]),onDblclick:t[1]||(t[1]=De((...s)=>r.abrirPaginaNodo&&r.abrirPaginaNodo(...s),["stop"]))},[r.aprendido?(J(),re("img",IP)):Te("",!0),o.porcentajeCompletado?W((J(),We(a,{key:1,id:"piePorcentajeCompletado",cifrasDecimales:0,progreso:o.porcentajeCompletado,size:30},null,8,["progreso"])),[[Z,o.mostrarPorcentajeCompletado]]):Te("",!0),W(Ie(l,{id:"loadingRemovido"},null,512),[[Z,o.siendoRemovido]]),W(g("div",PP,[o.esteNodo.tipoNodo==="concepto"?(J(),re("img",DP)):(J(),re("img",kP))],512),[[Z,!o.mostrarPorcentajeCompletado&&!o.siendoRemovido]]),g("div",{id:"nombre",ref:"nombre",style:qe([r.estiloCartelNombre]),class:Ae({seleccionado:o.seleccionado})},we(o.esteNodo.nombre),7),W(g("div",{class:"menuContextual",onClick:t[0]||(t[0]=De(()=>{},["stop"]))},[(J(!0),re(Me,null,Ve(o.opcionesMenuCx,s=>(J(),re("div",{class:"botonMenuCx",key:s.accion,onClick:c=>e.$emit(s.accion)},we(s.texto),9,RP))),128))],512),[[Z,o.menuCx]])],34)}const FP=Qe(TP,[["render",OP],["__scopeId","data-v-98b15389"]]),ss=/[^ a-zA-ZÀ-ž0-9_():.,-]/,gb=/[^\n\r a-zA-ZÀ-ž0-9_()":;.,+¡!¿?@=-]/,Pl=Se`
  query ($idsNodos: [ID!]!) {
    nodosConocimientoByIds(idsNodos: $idsNodos) {
      id
      nombre
      descripcion
      tipoNodo
    }
  }
`,LP={name:"ColeccionNodosConocimiento",components:{IconoNodoConocimiento:FP,Loading:vt},apollo:{nodosConocimiento:{query:Pl,variables(){return{idsNodos:this.estaColeccion.idsNodos}},skip(){var e;return!((e=this.estaColeccion)!=null&&e.idsNodos.length)>0},update({nodosConocimientoByIds:e}){return e}},progresoNodos:{query:Se`
        query ($idsNodos: [ID!]!) {
          nodosConocimientoByIds(idsNodos: $idsNodos) {
            id
            porcentajeCompletado
          }
        }
      `,variables(){return{idsNodos:this.estaColeccion.idsNodos}},skip(){var e;return!((e=this.nodosConocimiento)!=null&&e.length)>0},update({nodosConocimientoByIds:e}){return e}},progresoColeccion:{query:Se`
        query ($idColeccion: ID!, $idUsuario: ID!) {
          coleccionNodosConocimiento(
            idColeccion: $idColeccion
            idUsuario: $idUsuario
          ) {
            id
            progreso
          }
        }
      `,variables(){return{idColeccion:this.estaColeccion.id,idUsuario:this.yo.id}},skip(){var e,t;return!((e=this.yo)!=null&&e.id)||!((t=this.estaColeccion)!=null&&t.id)},update({coleccionNodosConocimiento:e}){return e.progreso}}},props:{estaColeccion:Object,yo:Object},data(){return{idNodoSeleccionado:null,idNodoMenuCx:null,idNodoSiendoRemovido:null,nodosConocimiento:[],progresoNodos:[],progresoColeccion:null,editandoTitulo:!1,guardandoNuevoTitulo:!1,mostrarPorcentajesNodos:!1,opcionesMenuCxNodos:[{texto:"Remover",accion:"removerme"}]}},methods:{iniciarEdicionTitulo(){this.$refs.inputNuevoTitulo.value=this.estaColeccion.titulo,this.editandoTitulo=!0},guardarNuevoTitulo(){var e=this.$refs.inputNuevoTitulo.value;if(console.log(`seting nombre de coleccion con value: ${e}`),ss.test(e))return alert("¡El nombre contenía caracteres ilegales!"),!0;this.guardandoNuevoTitulo=!0,this.$apollo.mutate({mutation:Se`
            mutation ($idColeccion: ID!, $nuevoNombre: String!) {
              setNombreColeccionNodosAtlasConocimientoUsuario(
                idColeccion: $idColeccion
                nuevoNombre: $nuevoNombre
              ) {
                id
                atlas {
                  colecciones {
                    id
                    nombre
                  }
                }
              }
            }
          `,variables:{idColeccion:this.estaColeccion.id,nuevoNombre:e}}).then(()=>{this.guardandoNuevoTitulo=!1,this.editandoTitulo=!1}).catch(t=>{console.log(`Error: ${t}`),this.guardandoNuevoTitulo=!1})},removerNodo(e){this.idNodoSiendoRemovido=e,this.$apollo.mutate({mutation:Se`
            mutation ($idColeccion: ID!, $idNodo: ID!) {
              removeNodoColeccionNodosAtlasConocimientoUsuario(
                idColeccion: $idColeccion
                idNodo: $idNodo
              )
            }
          `,variables:{idColeccion:this.estaColeccion.id,idNodo:e}}).then(()=>{this.idNodoSiendoRemovido=null,this.idNodoSeleccionado=null;const t=this.$apollo.provider.defaultClient,o=t.readQuery({query:Pl,variables:{idsNodos:this.estaColeccion.idsNodos}});let i=JSON.parse(JSON.stringify(o));const n=i.nodosConocimientoByIds.findIndex(r=>r.id===e);n>-1?(i.nodosConocimientoByIds.splice(n,1),t.writeQuery({query:Pl,variables:{idsNodos:this.estaColeccion.idsNodos},data:i})):console.log("El nodo no estaba en la colección.")}).catch(t=>{console.log(`Error: ${t}`),this.idNodoSiendoRemovido=null})}}},MP={id:"barraProgreso"},BP={id:"numeroProgreso"},UP={class:"barraSeccion",id:"barraSuperior"},$P={class:"listaNodos"};function jP(e,t,o,i,n,r){const a=Re("loading"),l=Re("icono-nodo-conocimiento");return J(),re("div",{class:"coleccionNodosConocimiento",onClick:t[4]||(t[4]=s=>n.idNodoMenuCx=null)},[W(g("div",{id:"zonaBarraProgreso",onMouseenter:t[0]||(t[0]=s=>n.mostrarPorcentajesNodos=!0),onMouseleave:t[1]||(t[1]=s=>n.mostrarPorcentajesNodos=!1)},[g("div",MP,[g("div",{id:"barraProgresoVerde",style:qe([{width:n.progresoColeccion+"%"}])},null,4)]),g("div",BP,we(n.progresoColeccion)+"%",1)],544),[[Z,!e.$apollo.queries.progresoColeccion.loading]]),W(Ie(a,null,null,512),[[Z,e.$apollo.queries.progresoColeccion.loading]]),g("div",UP,[W(g("div",{id:"elTitulo",onClick:t[2]||(t[2]=De((...s)=>r.iniciarEdicionTitulo&&r.iniciarEdicionTitulo(...s),["stop"]))},we(o.estaColeccion.titulo),513),[[Z,!n.editandoTitulo]]),W(g("input",{class:Ae({deshabilitado:n.guardandoNuevoTitulo}),type:"text",id:"inputNuevoTitulo",style:{"text-align":"center"},ref:"inputNuevoTitulo",onKeypress:t[3]||(t[3]=xt((...s)=>r.guardarNuevoTitulo&&r.guardarNuevoTitulo(...s),["enter"]))},null,34),[[Z,n.editandoTitulo]])]),g("div",$P,[(J(!0),re(Me,null,Ve(n.nodosConocimiento,s=>(J(),We(l,{key:s.id,esteNodo:s,seleccionado:n.idNodoSeleccionado===s.id,datosEsteNodo:o.yo.atlas.datosNodos.find(c=>c.idNodo===s.id),mostrarPorcentajeCompletado:n.mostrarPorcentajesNodos,siendoRemovido:n.idNodoSiendoRemovido===s.id,porcentajeCompletado:(n.progresoNodos.find(c=>c.id===s.id)||{}).porcentajeCompletado,menuCx:n.idNodoMenuCx===s.id,opcionesMenuCx:n.opcionesMenuCxNodos,onContextmenu:De(c=>n.idNodoMenuCx=s.id,["stop","prevent"]),onClick:De(c=>n.idNodoSeleccionado=n.idNodoSeleccionado===s.id?null:s.id,["self","stop"]),onRemoverme:c=>r.removerNodo(s.id)},null,8,["esteNodo","seleccionado","datosEsteNodo","mostrarPorcentajeCompletado","siendoRemovido","porcentajeCompletado","menuCx","opcionesMenuCx","onContextmenu","onClick","onRemoverme"]))),128))])])}const qP=Qe(LP,[["render",jP],["__scopeId","data-v-8c395b3e"]]),ea=Se`
  fragment fragDatoNodoConocimiento on DatoNodoUsuario {
    id
    idNodo
    nombreNodo
    aprendido
    estudiado
    diasRepaso    
  }
`,vb=Se`
  fragment fragColecciones on ColeccionNodosAtlasConocimiento {
    id
    nombre
    idsNodos
    nodos {
      id
      nombre
    }
  }
`,yb=Se`
  fragment fragNodoConocimiento on NodoConocimiento {
    id
    nombre
    descripcion
    expertos
    tipoNodo
    nivel    
    coordsManuales {
      x
      y
    }
    coords {
      x
      y
    }
    autoCoords {
      x
      y
    }
    centroMasa {
      x
      y
    }
    stuck
    angulo
    puntaje
    vinculos {
      id
      idRef
      rol
      tipo
    }
    fuerzaCentroMasa {
      fuerza
      direccion
    }
    fuerzaColision {
      fuerza
      direccion
    }
  }
`,yr=Se`
  query todosNodos {
    todosNodos {
      ...fragNodoConocimiento
    }
  }
  ${yb}
`,Co=Se`
  query {
    yo {
      id
      atlas {
        datosNodos {
          ...fragDatoNodoConocimiento
        }
        configuracion {
          modo
        }
        colecciones {
          ...fragColecciones
        }
      }
    }
  }
  ${ea}
  ${vb}
`,Qa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAqFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAs30iGAAAAN3RSTlMA/ID3Cw8F6qwT8jmmfUZAMR8Y3dGSG+/ZsJ2Gb10H5sO+u7ZnSqF1V8iZjGBrW1Iu4MyCKOxPW1J8IAAAAv9JREFUSMftltmWqjAQRUmQGUREZbgtIOI8D931/392ISl6oYLNYvVjnyfLYlNJqJxE+NPv6cv0ffOrG7t2IZe77sJqM2BKtQ6woXNYNzrAfZHDYr8t0ZN6AmqgcFgZVJPNGlqzTZBhEG05PJbxjyzYpKthEztZQi5CMbybJI/MO4aUFNmwibaAySsnKY0J2UkYnHAJVg3znQHXPwH1ASQTUDtMzuvnrV0xb8rfMHzgT3mJyaQejtTHygij/lXeXKc9Titk+eg8DQDm+zMr1cPK4lRoEMWmovnDezUmbPHjYC8JMhb2qNCoxc68jQu6r+ak52+uvpfz6uJWfPDV9va+2+S8ftFWABtqT3rSxLY2LARaJH/WraCpU4aOFTO2nRYKuA/rMvUhbrk9JBVizjqG4XA6BrPXCp6KOMbVSNdHvB0piMc3vmH0B3LZKxtW7wCFyIGN4Qompgd9Y/jkV6kuKttz8fMcA63a0EzjpS93tsu3n6Kerh9cw4dCavHckeg2ewmaQcxeaeukIDTewn51+UJgIuPs8BGAO3n1MMeFrW0YFgGmbQUeAdIsN9JeYW0ERNR1EbhGLzAK4XvMo4uD8MMjr8OGJaV0jsOW0urun7gwUlUV/4Ow2lN8wYKi5Jp4Nu5mpoOAC7aXZXkYQCF38fCpZqLohQO0XMo//ZwVltDfFJ4NPVGcrZ9c114YEbcyFa68KU3mHNxYN6Dy/oyMhT38sT0nq0/m+asJb899242hHLUsAdQsk44KqFLrLXlJCHyLJBdQFkI7UagRbc9+PpJeGxuyrbE1Lpz7K6gOOzjtCgO03hqgpaDrR4KWBQrnvXmmCdIOh2A1fyPsPW7zg/28WGqDRdIPph+ZNccNfT5u1Kj+lExqDjr6fNBdtXo4xfyuWrnlEVse7uLp+3AHCFse7uW1opyyE5I8WjrlpAmbUvOlhCZ+epBxluPHC418SP3Ect5tiqHUcJXCZPdLXHvZJWx3gIf42ZOh0EFHlznvUeikk+q66kn406/pP19rpKSAcXvNAAAAAElFTkSuQmCC",HP={components:{Loading:vt},name:"SelectorConjunto",props:{seleccionado:Boolean,estaColeccion:Object,menuCx:Boolean},data(){return{eliminandose:!1}},methods:{eliminarse(){confirm("Confirmar eliminación de colección? (Esta acción no se puede deshacer)")&&(this.eliminandose=!0,this.$apollo.mutate({mutation:Et`
            mutation ($idColeccion: ID!) {
              eliminarColeccionNodosAtlasConocimientoUsuario(
                idColeccion: $idColeccion
              ) 
            }
          `,variables:{idColeccion:this.estaColeccion.id}}).then(()=>{this.eliminandose=!1;const e=this.$apollo.provider.defaultClient,t=e.readQuery({query:Co});var o=JSON.parse(JSON.stringify(t)),i=o.yo.atlas.colecciones;const n=i.findIndex(r=>r.id===this.estaColeccion.id);n>-1?(console.log("Retirando colección de caché"),i.splice(n,1),e.writeQuery({query:Co,data:o})):console.log("La colección a borrar no estaba en caché")}).catch(e=>{console.log(`Error: ${e}`),this.eliminandose=!1}))}}},VP={id:"zonaIcono"},zP={src:Qa,alt:"Coleccion",style:{height:"30px"}},QP={id:"zonaInformacion"},GP={id:"nombre"};function WP(e,t,o,i,n,r){const a=Re("loading");return J(),re("div",{class:Ae(["selectorConjunto",{seleccionado:o.seleccionado,deshabilitado:n.eliminandose}])},[W(g("div",{class:"menuContextual",id:"menuContextual",onClick:t[1]||(t[1]=De(()=>{},["stop"]))},[g("div",{class:"botonMenuCx",onClick:t[0]||(t[0]=De((...l)=>r.eliminarse&&r.eliminarse(...l),["stop"]))},"Eliminar")],512),[[Z,o.menuCx]]),g("div",VP,[W(g("img",zP,null,512),[[Z,!n.eliminandose]]),W(Ie(a,null,null,512),[[Z,n.eliminandose]])]),g("div",QP,[g("div",GP,we(o.estaColeccion.nombre),1)])],2)}const KP=Qe(HP,[["render",WP],["__scopeId","data-v-c921d2cc"]]),Qi="/caracol/assets/plusCircle-b5e3a2dd.svg",JP=/[^ a-zA-ZÀ-ž0-9_():.,-]/,YP={components:{ColeccionNodosConocimiento:qP,SelectorConjunto:KP,Loading:vt},name:"PanelConjuntosNodos",props:{yo:Object,modoAtlas:String},data(){return{abierto:!1,idColeccionSeleccionada:0,editandoNombreColeccion:!1,idNodoSeleccionado:null,idColeccionAbierta:null,idColeccionMenuCx:null,enviandoQueryColecciones:!1,enviandoQueryNodosSeccion:!1,creandoColeccion:!1}},methods:{abrirPaginaNodo(e){e&&this.$router.push("/nodoConocimiento/"+e)},crearNuevaColeccion(){this.enviandoQueryColecciones=!0,this.creandoColeccion=!0,this.$apollo.mutate({mutation:Se`
            mutation {
              crearColeccionNodosAtlasConocimientoUsuario {
                ...fragColecciones
              }
            }
            ${vb}
          `}).then(({data:{crearColeccionNodosAtlasConocimientoUsuario:e}})=>{this.enviandoQueryColecciones=!1;const t=this.$apollo.provider.defaultClient,o=t.readQuery({query:Co});var i=JSON.parse(JSON.stringify(o)),n=i.yo.atlas.colecciones;n.findIndex(a=>a.id===e.id)===-1?(n.push(e),t.writeQuery({query:Co,data:i})):console.log("La colección ya estaba incluida"),this.creandoColeccion=!1}).catch(e=>{console.log(`Error: ${e}`),this.creandoColeccion=!1})},seleccionarColeccion(e,t){if(this.idColeccionSeleccionada===t){const o=this.conjuntos.find(i=>i.id===t).nombre;console.log(`Seting value del input a ${o}`),this.editandoNombreColeccion=!0,document.getElementById("inputNombreColeccion"+t).value=o}else this.editandoNombreColeccion=!1;this.idColeccionSeleccionada=t,this.idNodoSeleccionado=null},guardarNuevoNombreColeccion(e,t){var o=e.target.value;if(console.log(`seting nombre de coleccion ${t} con value: ${o}`),JP.test(o))return alert("¡El nombre contenía caracteres ilegales!"),!0;this.enviandoQueryColecciones=!0,this.$apollo.mutate({mutation:Se`
            mutation ($idColeccion: ID!, $nuevoNombre: String!) {
              setNombreColeccionNodosAtlasConocimientoUsuario(
                idColeccion: $idColeccion
                nuevoNombre: $nuevoNombre
              ) {
                id
                atlas {
                  colecciones {
                    id
                    nombre
                    idsNodos
                    nodos {
                      id
                      nombre
                    }
                  }
                }
              }
            }
          `,variables:{idColeccion:t,nuevoNombre:o}}).then(()=>{this.enviandoQueryColecciones=!1,this.editandoNombreColeccion=!1}).catch(i=>{console.log(`Error: ${i}`),this.enviandoQueryColecciones=!1})}},computed:{conjuntos(){return this.conjuntosUsuario},conjuntosUsuario(){if(!this.yo||!this.yo.atlas||!this.yo.atlas.colecciones)return[];var e=JSON.parse(JSON.stringify(this.yo.atlas.colecciones));return e.forEach(t=>{t.titulo=t.nombre,t.modo="estudiante",t.editable=!0,t.editandoNombre=!1}),e},coleccionSeleccionada(){return this.conjuntos.find(e=>e.id===this.idColeccionSeleccionada)},coleccionAbierta(){return this.idColeccionAbierta?this.conjuntos.find(e=>e.id===this.idColeccionAbierta):null}},watch:{abierto(){this.idNodoSeleccionado=null}}},ZP=e=>(ot("data-v-fed4a0cd"),e=e(),nt(),e),XP={class:"barraSeccion"},eD={key:0},tD={style:{"margin-left":"auto"}},oD=ZP(()=>g("img",{src:Qi,alt:"Nuevo",style:{}},null,-1)),nD=[oD],iD={key:0,class:"anuncioZonaVacia"};function rD(e,t,o,i,n,r){const a=Re("loading"),l=Re("selector-conjunto"),s=Re("coleccion-nodos-conocimiento");return W((J(),re("div",{id:"panelConjuntosNodos",onMouseup:t[4]||(t[4]=De(()=>{},["left","stop"])),onMousedown:t[5]||(t[5]=De(()=>{},["left","stop"])),onTouchmove:t[6]||(t[6]=De(()=>{},["stop"]))},[g("div",XP,[g("span",{onClick:t[0]||(t[0]=c=>n.idColeccionAbierta=null)}," Colecciones"),r.coleccionAbierta?(J(),re("span",eD,we(" > "+r.coleccionAbierta.titulo),1)):Te("",!0),g("div",tD,[W(g("div",{onClick:t[1]||(t[1]=(...c)=>r.crearNuevaColeccion&&r.crearNuevaColeccion(...c)),class:"boton"},nD,512),[[Z,!n.creandoColeccion]]),W(Ie(a,null,null,512),[[Z,n.creandoColeccion]])])]),W(g("div",{id:"listaConjuntos",onClick:[t[2]||(t[2]=c=>n.idColeccionMenuCx=null),t[3]||(t[3]=De(c=>n.idColeccionSeleccionada=null,["self"]))]},[r.conjuntos.length<1?(J(),re("div",iD," Aún no hay colecciones ")):Te("",!0),(J(!0),re(Me,null,Ve(r.conjuntos,c=>(J(),We(l,{key:c.id,seleccionado:c.id===n.idColeccionSeleccionada,menuCx:n.idColeccionMenuCx===c.id,estaColeccion:c,onContextmenu:De(u=>n.idColeccionMenuCx=c.id,["exact","stop","prevent"]),onDblclick:u=>n.idColeccionAbierta=c.id,onClick:u=>n.idColeccionSeleccionada=n.idColeccionSeleccionada===c.id?null:c.id},null,8,["seleccionado","menuCx","estaColeccion","onContextmenu","onDblclick","onClick"]))),128))],512),[[Z,!r.coleccionAbierta]]),r.coleccionAbierta?(J(),We(s,{key:0,yo:o.yo,estaColeccion:r.coleccionAbierta},null,8,["yo","estaColeccion"])):Te("",!0)],544)),[[Z,n.abierto]])}const sD=Qe(YP,[["render",rD],["__scopeId","data-v-fed4a0cd"]]),aD={name:"EnlacesNodoConocimiento",props:{yo:Object,idNodoSeleccionado:String,idsNodosPreviosSeleccionado:Array,idsNodosContinuacionSeleccionado:Array,conectadoSeleccionado:Boolean,esteNodo:Object,todosNodos:Array,factorZoom:Number,callingPosiciones:Boolean,nodoSeleccionado:Object,childSeleccionado:Boolean,idsTodosNodosRender:Array,esquinasDiagrama:Object,transicionarPosicionNodos:Boolean,idsNodosPresentesCabeza:Array,redibujarEnlaces:{type:Number,default:0}},data(){return{esquinasSeleccionado:{x1:0,x2:0,y1:0,y2:0},posicionSeleccionado:{x:0,y:0},factorFuerza:15,vinculosGrises:[]}},methods:{drawVinculos(){var e=JSON.parse(JSON.stringify(this.esteNodo.vinculos.filter(t=>t.rol==="target"&&this.idsTodosNodosRender.includes(t.idRef))));e.forEach(t=>{const o=this.todosNodos.find(u=>u.id===t.idRef).coords,i={x:o.x-this.posNodo.x,y:o.y-this.posNodo.y},n=Math.PI+Math.atan2(i.y,i.x),r=Math.hypot(i.x,i.y),a=t.rol==="target"&&this.idsNodosPresentesCabeza.includes(this.esteNodo.id)||t.rol==="source"&&this.idsNodosPresentesCabeza.includes(t.idRef),l=t.rol==="source"&&!this.idsNodosPresentesCabeza.includes(this.esteNodo.id)||t.rol==="target"&&this.idsNodosPresentesCabeza.includes(t.idRef),s=!a&&!l;let c="black";l&&(c="var(--atlasConocimientoAvailable)"),s&&(c="black"),a&&(c="var(--atlasConocimientoCheck)"),t.inaccesible=s,t.estilo={transform:"rotate("+n+"rad)",top:Math.round((i.y-1)*this.factorZoom)+"px",left:Math.round(i.x*this.factorZoom)+"px",width:Math.round(r*this.factorZoom)+"px",backgroundColor:c,borderLeftColor:c}}),this.vinculosGrises=e}},computed:{estiloPosicion(){const e=this.esteNodo.autoCoords.x-this.esquinasDiagrama.x1,t=this.esteNodo.autoCoords.y-this.esquinasDiagrama.y1;return{left:e*this.factorZoom+"px",top:t*this.factorZoom+"px"}},estiloFuerzaColision(){return{transform:"rotate("+this.esteNodo.fuerzaColision.direccion+"rad)",top:"0px",left:"0px",width:Math.ceil(this.esteNodo.fuerzaColision.fuerza*this.factorFuerza*this.factorZoom)+"px"}},estiloFuerzaCentroMasa(){return{transform:"rotate("+this.esteNodo.fuerzaCentroMasa.direccion+"rad)",top:"0px",left:"0px",width:Math.round(this.esteNodo.fuerzaCentroMasa.fuerza*this.factorFuerza*this.factorZoom)+"px"}},altoVinculos(){return{height:Math.ceil(1*this.factorZoom)+"px"}},sizeFlecha(){return{borderWidth:Math.round(7*this.factorZoom)+"px"}},posNodo(){return this.esteNodo.coords},seleccionado(){return this.nodoSeleccionado?this.nodoSeleccionado.id===this.esteNodo.id:!1},enAmbitoNodoSeleccionado(){return console.log("checking if enlace enAmbitoNodoSeleccionado"),this.idNodoSeleccionado&&(this.idsNodosPreviosSeleccionado.includes(this.esteNodo.id)||this.idsNodosContinuacionSeleccionado.includes(this.esteNodo.id))}}};function cD(e,t,o,i,n,r){return J(),re("div",{class:"enlacesNodoConocimiento",style:qe([r.estiloPosicion])},[Ie(WC,{tag:"div"},{default:$t(()=>[(J(!0),re(Me,null,Ve(n.vinculosGrises,a=>(J(),re("div",{class:Ae(["vinculo vinculoGris",{irrelevante:o.idNodoSeleccionado&&o.esteNodo.id!=o.idNodoSeleccionado&&(!r.enAmbitoNodoSeleccionado||!o.idsNodosPreviosSeleccionado.includes(a.idRef)&&!o.idsNodosContinuacionSeleccionado.includes(a.idRef)&&a.idRef!=o.idNodoSeleccionado),inaccesible:a.inaccesible}]),key:a.id,style:qe([a.estilo,r.altoVinculos])},[g("div",{class:"flechaVinculo",style:qe([r.sizeFlecha])},null,4)],6))),128))]),_:1}),W(g("div",{class:"fuerza",style:qe([r.estiloFuerzaColision,{opacity:o.nodoSeleccionado?1:.3}]),id:"fuerzaColision"},null,4),[[Z,o.callingPosiciones]]),W(g("div",{class:"fuerza",style:qe([r.estiloFuerzaCentroMasa,{opacity:o.nodoSeleccionado?1:.3}]),id:"fuerzaCentroMasa"},null,4),[[Z,o.callingPosiciones]])],4)}const lD=Qe(aD,[["render",cD],["__scopeId","data-v-b413db9d"]]);var Go=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $u(e,t,o){var i,n,r,a,l;t==null&&(t=100);function s(){var u=Date.now()-a;u<t&&u>=0?i=setTimeout(s,t-u):(i=null,o||(l=e.apply(r,n),r=n=null))}var c=function(){r=this,n=arguments,a=Date.now();var u=o&&!i;return i||(i=setTimeout(s,t)),u&&(l=e.apply(r,n),r=n=null),l};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(l=e.apply(r,n),r=n=null,clearTimeout(i),i=null)},c}$u.debounce=$u;var $d=$u;function uD(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var jd=uD,dD=typeof Go=="object"&&Go&&Go.Object===Object&&Go,fD=dD,hD=fD,pD=typeof self=="object"&&self&&self.Object===Object&&self,mD=hD||pD||Function("return this")(),bb=mD,gD=bb,vD=function(){return gD.Date.now()},yD=vD,bD=/\s/;function wD(e){for(var t=e.length;t--&&bD.test(e.charAt(t)););return t}var ED=wD,AD=ED,_D=/^\s+/;function CD(e){return e&&e.slice(0,AD(e)+1).replace(_D,"")}var SD=CD,ND=bb,xD=ND.Symbol,wb=xD,sg=wb,Eb=Object.prototype,TD=Eb.hasOwnProperty,ID=Eb.toString,br=sg?sg.toStringTag:void 0;function PD(e){var t=TD.call(e,br),o=e[br];try{e[br]=void 0;var i=!0}catch{}var n=ID.call(e);return i&&(t?e[br]=o:delete e[br]),n}var DD=PD,kD=Object.prototype,RD=kD.toString;function OD(e){return RD.call(e)}var FD=OD,ag=wb,LD=DD,MD=FD,BD="[object Null]",UD="[object Undefined]",cg=ag?ag.toStringTag:void 0;function $D(e){return e==null?e===void 0?UD:BD:cg&&cg in Object(e)?LD(e):MD(e)}var jD=$D;function qD(e){return e!=null&&typeof e=="object"}var HD=qD,VD=jD,zD=HD,QD="[object Symbol]";function GD(e){return typeof e=="symbol"||zD(e)&&VD(e)==QD}var WD=GD,KD=SD,lg=jd,JD=WD,ug=0/0,YD=/^[-+]0x[0-9a-f]+$/i,ZD=/^0b[01]+$/i,XD=/^0o[0-7]+$/i,ek=parseInt;function tk(e){if(typeof e=="number")return e;if(JD(e))return ug;if(lg(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=lg(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=KD(e);var o=ZD.test(e);return o||XD.test(e)?ek(e.slice(2),o?2:8):YD.test(e)?ug:+e}var ok=tk,nk=jd,Dl=yD,dg=ok,ik="Expected a function",rk=Math.max,sk=Math.min;function ak(e,t,o){var i,n,r,a,l,s,c=0,u=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(ik);t=dg(t)||0,nk(o)&&(u=!!o.leading,f="maxWait"in o,r=f?rk(dg(o.maxWait)||0,t):r,p="trailing"in o?!!o.trailing:p);function y(k){var M=i,H=n;return i=n=void 0,c=k,a=e.apply(H,M),a}function v(k){return c=k,l=setTimeout(N,t),u?y(k):a}function C(k){var M=k-s,H=k-c,P=t-M;return f?sk(P,r-H):P}function I(k){var M=k-s,H=k-c;return s===void 0||M>=t||M<0||f&&H>=r}function N(){var k=Dl();if(I(k))return _(k);l=setTimeout(N,C(k))}function _(k){return l=void 0,p&&i?y(k):(i=n=void 0,a)}function b(){l!==void 0&&clearTimeout(l),c=0,i=s=n=l=void 0}function w(){return l===void 0?a:_(Dl())}function T(){var k=Dl(),M=I(k);if(i=arguments,n=this,s=k,M){if(l===void 0)return v(s);if(f)return clearTimeout(l),l=setTimeout(N,t),y(s)}return l===void 0&&(l=setTimeout(N,t)),a}return T.cancel=b,T.flush=w,T}var ck=ak,lk=ck,uk=jd,dk="Expected a function";function fk(e,t,o){var i=!0,n=!0;if(typeof e!="function")throw new TypeError(dk);return uk(o)&&(i="leading"in o?!!o.leading:i,n="trailing"in o?!!o.trailing:n),lk(e,t,{leading:i,maxWait:t,trailing:n})}var hk=fk;const pk={name:"NodoConocimientoVistaLista",props:{idNodo:{type:String,required:!0},yo:{type:Object,required:!0}},apollo:{elNodo:{query:Et`
        query ($idNodo: ID!) {
          nodoConocimiento(id: $idNodo) {
            id
            nombre
            tipoNodo
            vinculos {
              id
              idRef
              rol
              tipo
            }
          }
        }
      `,variables(){return{idNodo:this.idNodo}},update({nodoConocimiento:e}){return e},fetchPolicy:"cache-first"}},data(){return{elNodo:{vinculos:[]}}},computed:{datoUsuarioEsteNodo(){var e,t;return(t=(e=this.yo)==null?void 0:e.datosUsuario)==null?void 0:t.find(o=>o.idNodo===this.idNodo)},aprendido(){var e;return(e=this.datoUsuarioEsteNodo)==null?void 0:e.aprendido},estudiado(){var e;return this.datoUsuarioEsteNodo?(e=this.datoUsuarioEsteNodo)==null?void 0:e.estudiado:null},fresco(){var t;return!this.estudiado||!((t=this.datoUsuarioEsteNodo)!=null&&t.diasRepaso)?!1:this.estudiado+this.datoUsuarioEsteNodo.diasRepaso*24*60*60*1e3>Date.now()}}},mk={class:"nodoConocimientoVistaLista"},gk={id:"barraPrincipal"},vk={key:0,id:"iconoNodo"},yk={key:0,src:za,alt:"Skill"},bk={key:1,src:Va,alt:"Idea"},wk={id:"nombreNodo"};function Ek(e,t,o,i,n,r){var a;return J(),re("div",mk,[g("div",gk,[n.elNodo?(J(),re("div",vk,[n.elNodo.tipoNodo==="habilidad"?(J(),re("img",yk)):(J(),re("img",bk))])):Te("",!0),g("div",wk,we((a=n.elNodo)==null?void 0:a.nombre),1)])])}const Ak=Qe(pk,[["render",Ek],["__scopeId","data-v-3c069a92"]]),_k={props:{elNodo:{type:Object},nivelesConexionDeeper:{type:Boolean,default:!1},nivelesConexionHigher:{type:Boolean,default:!1},yo:{type:Object,required:!0},nodoCreandoDependencia:{type:Object}},components:{Loading:vt,PieProgreso:Bd,NodoConocimientoVistaLista:Ak},name:"ControlesNodo",data(){return{mostrandoFlechasConexiones:!1,desplegado:!1,filaMostrada:1,mostrando:"",montado:!1,heightNombre:0,heigthAll:0,settingDateEstudiado:!1,diasRepaso:0,guardandoDiasRepaso:!1,settingEstadoAprendido:!1,nivelesConexion:0,idVinculoEliminando:null,creandoDependencia:!1}},computed:{usuarioExpertoNodo(){var e;return!this.elNodo||!this.yo?!1:(e=this.elNodo.expertos)==null?void 0:e.includes(this.yo.id)},estiloPos(){let e=0;return this.elNodo&&(e=this.heightNombre),this.desplegado&&(e=this.heigthAll),{transform:`translate(-50%, -${e}px)`}},posSignaler(){let e=0;return this.nivelesConexion!=0&&(e=30),this.nivelesConexion<0&&(e=-e),{transform:`translateX(calc(-50% + ${e}px))`}},datoUsuarioEsteNodo(){var e,t;return!this.elNodo||!((t=(e=this.yo)==null?void 0:e.atlas)!=null&&t.datosNodos)?null:this.yo.atlas.datosNodos.find(o=>o.idNodo===this.elNodo.id)},nodoEstudiado(){return!this.elNodo||!this.datoUsuarioEsteNodo?!1:this.datoUsuarioEsteNodo.estudiado},nodoAprendido(){return!this.elNodo||!this.datoUsuarioEsteNodo?!1:this.datoUsuarioEsteNodo.aprendido},nodoFresco(){var t,o;if(!this.elNodo||!((t=this.datoUsuarioEsteNodo)!=null&&t.estudiado)||!((o=this.datoUsuarioEsteNodo)!=null&&o.diasRepaso))return!1;if(this.nodoAprendido)return!0;let e=new Date(this.datoUsuarioEsteNodo.estudiado).getTime()+this.datoUsuarioEsteNodo.diasRepaso*864e5;return Date.now()<e},nodoRepasar(){return this.nodoEstudiado&&!this.nodoFresco&&!this.nodoAprendido},porcentajeRepaso(){var o;if(!((o=this.datoUsuarioEsteNodo)!=null&&o.estudiado)||!this.datoUsuarioEsteNodo.diasRepaso||this.nodoAprendido)return null;let t=(Date.now()-new Date(this.datoUsuarioEsteNodo.estudiado).getTime())/(this.datoUsuarioEsteNodo.diasRepaso*864e5/100);return t>100&&(t=100),t<0&&(t=0),100-t},usuarioExperto(){var e,t;return!((e=this.usuario)!=null&&e.id)||!((t=this.elNodo)!=null&&t.expertos)?!1:this.elNodo.expertos.includes(this.usuario.id)}},methods:{crearDependenciaNodo(e){if(!e||!this.elNodo)return;let t=this.elNodo;console.log(`Mutando que ${e.nombre} es dependencia de ${t.nombre}`),this.creandoDependencia=!0,this.$apollo.mutate({mutation:Et`
            mutation($tipo: String!, $idSource: ID!, $idTarget: ID!){
              crearVinculo(tipo: $tipo, idSource: $idSource, idTarget: $idTarget){
                modificados{
                  id
                  vinculos{
                    id
                    idRef
                    tipo
                    rol
                  }
                }
              }
            }
            `,variables:{tipo:"continuacion",idSource:e.id,idTarget:t.id}}).then(()=>{this.creandoDependencia=!1,this.$emit("cancelarCreandoDependencia")}).catch(o=>{console.log("Error: "+o),this.creandoDependencia=!1})},eliminarVinculo(e){if(!this.usuarioExperto&&!this.usuarioSuperadministrador)return;let t=e.idRef;this.idVinculoEliminando=e.id,this.$apollo.mutate({mutation:Et`
              mutation($idSource: ID!, $idTarget: ID!){
                eliminarVinculoFromTo(idSource: $idSource, idTarget: $idTarget){
                  modificados{
                    id
                    vinculos{
                      id
                      idRef
                      tipo
                      rol
                    }
                  }
                }
              }
              `,variables:{idSource:t,idTarget:this.elNodo.id}}).then(()=>{this.idVinculoEliminando=null}).catch(o=>{console.log("Error: "+o),this.idVinculoEliminando=null})},toggleDespliege(){this.mostrandoFlechasConexiones||(this.desplegado=!this.desplegado)},clickFuera(){this.mostrandoFlechasConexiones=!1},marcarEstudiado(){this.settingDateEstudiado=!0,this.$apollo.mutate({mutation:Et`
                    mutation( $idUsuario: ID!, $idNodo: ID!, $fecha: Date!){
                        setDateNodoConocimientoEstudiadoUsuario(idUsuario: $idUsuario, idNodo: $idNodo, fecha: $fecha){
                            ...fragDatoNodoConocimiento
                        }
                    }
                    ${ea}
                    `,variables:{idUsuario:this.usuario.id,idNodo:this.elNodo.id,fecha:new Date}}).then(({data:{setDateNodoConocimientoEstudiadoUsuario:e}})=>{this.settingDateEstudiado=!1;let t=this.$apollo.provider.defaultClient,o=t.readQuery({query:Co,variables:{idUsuario:this.usuario.id}});if(o.yo.atlas.datosNodos.indexOf(n=>n.idNodo===this.elNodo.id)===-1){let n=JSON.parse(JSON.stringify(o));n.yo.atlas.datosNodos.push(e),t.writeQuery({query:Co,variables:{idUsuario:this.usuario.id},data:n})}}).catch(e=>{console.log("Error: "+e),this.settingDateEstudiado=!1})},setDiasRepaso(){this.elNodo&&(this.diasRepaso=Number(this.$refs.inputDiasRepaso.value),!(this.datosUsuarioEsteNodo&&this.diasRepaso===this.datoUsuarioEsteNodo.diasRepaso)&&(this.diasRepaso<1||!this.diasRepaso>3e3||(this.guardandoDiasRepaso=!0,this.$apollo.mutate({mutation:Et`
                    mutation($idNodo: ID!, $nuevoDiasRepaso: Int!){
                        setDiasRepasoNodoConocimientoUsuario(idNodo: $idNodo, nuevoDiasRepaso: $nuevoDiasRepaso){
                             ...fragDatoNodoConocimiento
                        }
                    }
                    ${ea}
                    `,variables:{idNodo:this.elNodo.id,nuevoDiasRepaso:this.diasRepaso}}).then(()=>{this.guardandoDiasRepaso=!1,this.mostrando=""}).catch(e=>{console.log("Error: "+e),this.guardandoDiasRepaso=!1}))))},marcarAprendido(){if(!this.elNodo)return;let e=!0;this.datoUsuarioEsteNodo&&(e=!this.datoUsuarioEsteNodo.aprendido),this.settingEstadoAprendido=!0,this.$apollo.mutate({mutation:Et`
                    mutation($idNodo: ID!, $nuevoEstadoAprendido: Boolean!){
                        setNodoAtlasAprendidoUsuario(idNodo: $idNodo, nuevoEstadoAprendido: $nuevoEstadoAprendido){
                            ...fragDatoNodoConocimiento
                        }
                    }
                    ${ea}
                    `,variables:{idNodo:this.elNodo.id,nuevoEstadoAprendido:e}}).then(({data:{setNodoAtlasAprendidoUsuario:t}})=>{this.settingEstadoAprendido=!1;let o=this.$apollo.provider.defaultClient,i=o.readQuery({query:Co,variables:{idUsuario:this.usuario.id}}),n=t.filter(a=>{var l,s,c;return((c=(s=(l=i.yo)==null?void 0:l.atlas)==null?void 0:s.datosNodos)==null?void 0:c.findIndex(u=>u.idNodo===a.idNodo))===-1});console.log("Nuevos datos nodos: ",n.length);let r=JSON.parse(JSON.stringify(i));r.yo.atlas.datosNodos=r.yo.atlas.datosNodos.concat(n),o.writeQuery({query:Co,variables:{idUsuario:this.usuario.id},data:r})}).catch(t=>{console.log("Error: "+t),this.settingEstadoAprendido=!1})},recalcularHeights(){this.$nextTick(()=>{this.heightNombre=this.$refs.nombre.clientHeight,this.heigthAll=this.$el.clientHeight})},iniciarCrearDependenciaNodo(){this.elNodo&&this.$emit("iniciarCrearDependenciaNodo")}},watch:{elNodo(e){this.mostrandoFlechasConexiones=!1,e?this.recalcularHeights():(this.desplegado=!1,this.mostrando="",this.heightNombre=0,this.heigthAll=0,this.nivelesConexion=0,this.$emit("cancelarCreandoDependencia"))},datoUsuarioEsteNodo(e){e&&(this.diasRepaso=e.diasRepaso||0)},nivelesConexion:{handler(e){this.$emit("nivelesConexion",e)},immediate:!0},filaMostrada(){this.recalcularHeights()},mostrando(){this.recalcularHeights()}},mounted(){this.montado=!0,this.desplegado=!1}},Ab="/caracol/assets/codeBranch-1d161a21.svg",_b="/caracol/assets/chevron-96483fd8.svg",Ck="/caracol/assets/bookSolid-eae94e37.svg",Cb="/caracol/assets/stopwatchSolid-d874903c.svg",Sk="/caracol/assets/circlecheckSolid-bfeb7e39.svg",ni="/caracol/assets/trash-63deb6cc.svg",Bo=e=>(ot("data-v-9f8953d0"),e=e(),nt(),e),Nk={id:"anuncioCreandoDependencia"},xk={class:"anuncio"},Tk={src:Ab,alt:"Dependencia"},Ik=Bo(()=>g("span",null," Creando dependencia ",-1)),Pk=Bo(()=>g("div",{class:"subanuncio"},null,-1)),Dk={id:"centerSignaler"},kk={id:"bloqueFlechasConexiones"},Rk=Bo(()=>g("img",{src:_b,alt:"Arrow"},null,-1)),Ok=[Rk],Fk={id:"indicadorNiveles"},Lk=Bo(()=>g("img",{src:_b,alt:"Arrow"},null,-1)),Mk=[Lk],Bk={key:0,src:Va,alt:"Skill"},Uk={key:1,src:za,alt:"Skill"},$k={class:"filaControles"},jk={class:"bloqueControl",style:{}},qk={src:Ck,alt:"Repaso"},Hk=Bo(()=>g("img",{src:Cb,alt:"Repaso"},null,-1)),Vk={src:Sk,alt:"Check"},zk={class:"filaControles"},Qk={key:0,class:"bloqueControl",id:"bloqueControlDependencias"},Gk=Bo(()=>g("img",{src:Ab,alt:"Repaso"},null,-1)),Wk=Bo(()=>g("img",{src:Qi,alt:"Nuevo"},null,-1)),Kk=[Wk],Jk={key:1,class:"bloqueControl"},Yk=Bo(()=>g("img",{src:ni,alt:"Eliminar"},null,-1)),Zk=[Yk],Xk={class:"contenidoMostrado",id:"zonaGestionDependencias"},eR={key:0,id:"listaDependencias"},tR=["onClick"],oR={src:xo,alt:"Eliminar"},nR={id:"zonaSelectorFilas"},iR=["onClick"],rR={id:"zonaMostrada"},sR={class:"bloqueConfiguracion bloqueSplash",id:"configuracionTiempoRepaso"},aR=Bo(()=>g("img",{src:xo,alt:"Cerrar"},null,-1)),cR=[aR],lR=Bo(()=>g("h3",{class:"tituloSplash"},[g("img",{src:Cb,alt:"Crono"}),dt(" Periodo de repaso ")],-1)),uR={class:"descripcionSplash"};function dR(e,t){var a,l;const o=Re("Loading"),i=Re("loading"),n=Re("pie-progreso"),r=Re("NodoConocimientoVistaLista");return J(),re("div",{class:"controlesNodo",style:qe(e.estiloPos),onClick:t[15]||(t[15]=(...s)=>e.clickFuera&&e.clickFuera(...s))},[W(g("div",Nk,[g("div",xk,[W(g("img",Tk,null,512),[[Z,!e.creandoDependencia]]),W(Ie(o,null,null,512),[[Z,e.creandoDependencia]]),Ik]),Pk],512),[[Z,e.nodoCreandoDependencia]]),W(g("div",Dk,null,512),[[Z,e.elNodo]]),W(g("div",{id:"zonaControlVerConexiones",onClick:t[2]||(t[2]=De(s=>e.mostrandoFlechasConexiones=!0,["stop"]))},[g("div",{id:"signaler",style:qe([e.posSignaler])},null,4),W(g("div",kk,[g("div",{class:Ae(["boton botonConexiones",{deshabilitado:!e.nivelesConexionDeeper}]),onClick:t[0]||(t[0]=De(s=>e.nivelesConexion--,["stop"]))},Ok,2),g("div",Fk,we(Math.abs(e.nivelesConexion)),1),g("div",{class:Ae(["boton botonConexiones",{deshabilitado:!e.nivelesConexionHigher}]),onClick:t[1]||(t[1]=De(s=>e.nivelesConexion++,["stop"])),style:{transform:"rotate(180deg)"}},Mk,2)],512),[[Z,e.mostrandoFlechasConexiones]])],512),[[Z,e.elNodo]]),g("div",{id:"nombre",ref:"nombre",onClick:t[3]||(t[3]=(...s)=>e.toggleDespliege&&e.toggleDespliege(...s))},[e.elNodo&&e.elNodo.tipoNodo==="concepto"?(J(),re("img",Bk)):(J(),re("img",Uk)),dt(" "+we(((a=e.elNodo)==null?void 0:a.nombre)||""),1)],512),g("div",{id:"zonaControles",onClick:t[11]||(t[11]=()=>{})},[W(g("div",$k,[g("div",jk,[g("div",{class:Ae(["botonTexto selector botonControl",{deshabilitado:e.nodoAprendido,checked:e.nodoFresco}]),onClick:t[4]||(t[4]=(...s)=>e.marcarEstudiado&&e.marcarEstudiado(...s)),onDblclick:t[5]||(t[5]=(...s)=>e.marcarAprendido&&e.marcarAprendido(...s)),style:{"align-self":"normal","border-top-right-radius":"0px","border-bottom-right-radius":"0px","flex-grow":"1","flex-shrink":"1"}},[W(Ie(i,null,null,512),[[Z,e.settingDateEstudiado]]),W(g("img",qk,null,512),[[Z,!e.settingDateEstudiado]]),dt(" Estudiado ")],34),W(g("div",{class:"botonTexto botonControl",style:{"border-top-left-radius":"0px","border-bottom-left-radius":"0px","align-self":"normal"},onClick:t[6]||(t[6]=De(s=>e.mostrando=e.mostrando==="tiempoRepaso"?"":"tiempoRepaso",["stop"]))},[Ie(n,{mostrarNumero:!1,"color-progreso":"#3f7d20","color-fondo":"transparent",progreso:e.porcentajeRepaso,size:40},{default:$t(()=>[Hk]),_:1},8,["progreso"]),dt(" "+we(e.datoUsuarioEsteNodo?e.datoUsuarioEsteNodo.diasRepaso:""),1)],512),[[Z,e.datoUsuarioEsteNodo&&e.datoUsuarioEsteNodo.estudiado&&e.datoUsuarioEsteNodo.diasRepaso&&!e.nodoAprendido]]),g("div",{class:Ae(["botonTexto selector botonControl",{checked:e.nodoAprendido}]),id:"botonMarcarAprendido",style:{width:"100%"},onClick:t[7]||(t[7]=(...s)=>e.marcarAprendido&&e.marcarAprendido(...s))},[W(Ie(i,null,null,512),[[Z,e.settingEstadoAprendido]]),W(g("img",Vk,null,512),[[Z,!e.settingEstadoAprendido]]),dt(" "+we("Aprendido"))],2)])],512),[[Z,e.filaMostrada===1]]),W(g("div",zk,[e.usuarioExperto||e.usuarioSuperadministrador?(J(),re("div",Qk,[g("div",{class:Ae(["botonTexto selector botonControl",{activo:e.mostrando==="dependenciasNodo"}]),onClick:t[8]||(t[8]=s=>e.mostrando=e.mostrando==="dependenciasNodo"?null:"dependenciasNodo")},[Gk,dt(" Dependencias ")],2),e.usuarioSuperadministrador||e.usuarioExpertoNodo?(J(),re("div",{key:0,class:Ae(["botonTexto",{deshabilitado:e.nodoCreandoDependencia}]),id:"botonCrearDependenciaNodo",onClick:t[9]||(t[9]=De((...s)=>e.iniciarCrearDependenciaNodo&&e.iniciarCrearDependenciaNodo(...s),["stop"]))},Kk,2)):Te("",!0)])):Te("",!0),e.usuarioSuperadministrador?(J(),re("div",Jk,[g("div",{class:"boton botonControl",onClick:t[10]||(t[10]=(...s)=>e.eliminarNodo&&e.eliminarNodo(...s))},Zk)])):Te("",!0),W(g("div",Xk,[e.elNodo&&e.elNodo.vinculos?(J(),re("div",eR,[(J(!0),re(Me,null,Ve(e.elNodo.vinculos.filter(s=>s.tipo=="continuacion"&&s.rol==="target"),s=>(J(),re("div",{class:"dependencia",key:s.id},[Ie(r,{idNodo:s.idRef,yo:e.yo},null,8,["idNodo","yo"]),g("div",{class:Ae(["botonTexto botonEliminarDependencia",{deshabilitado:e.idVinculoEliminando===s.id}]),onClick:De(c=>e.eliminarVinculo(s),["stop"])},[W(Ie(o,null,null,512),[[Z,e.idVinculoEliminando===s.id]]),W(g("img",oR,null,512),[[Z,e.idVinculoEliminando!=s.id]])],10,tR)]))),128))])):Te("",!0)],512),[[Z,e.mostrando==="dependenciasNodo"]])],512),[[Z,e.filaMostrada===2]]),g("div",nR,[(J(),re(Me,null,Ve(2,s=>g("div",{class:Ae(["selectorFila boton selector",{activo:e.filaMostrada===s}]),key:"selectorFila"+s,onClick:De(c=>e.filaMostrada=s,["stop"])},null,10,iR)),64))])]),W(g("div",rR,null,512),[[Z,e.mostrando]]),(J(),We(dC,{to:"body"},[W(g("div",sR,[g("div",{class:"boton",id:"botonCerrar",onClick:t[12]||(t[12]=s=>e.mostrando="")},cR),lR,W(g("input",{type:"number",ref:"inputDiasRepaso",id:"inputDiasRepaso",min:"0",max:"180","onUpdate:modelValue":t[13]||(t[13]=s=>e.diasRepaso=s)},null,512),[[Ke,e.diasRepaso]]),g("div",uR," Selecciona la cantidad de días entre repasos para el nodo "+we(((l=e.elNodo)==null?void 0:l.nombre)||"")+". ",1),g("div",{class:Ae(["botonTexto",{deshabilitado:e.guardandoDiasRepaso}]),onClick:t[14]||(t[14]=(...s)=>e.setDiasRepaso&&e.setDiasRepaso(...s))}," Aceptar ",2),W(Ie(i,null,null,512),[[Z,e.guardandoDiasRepaso]])],512),[[Z,e.mostrando==="tiempoRepaso"]])]))],4)}const fR=Qe(_k,[["render",dR],["__scopeId","data-v-9f8953d0"]]),hR={components:{BuscadorNodosConocimiento:EP,Loading:vt,PanelConjuntosNodos:sD,EnlacesNodoConocimiento:lD,PieProgreso:Bd,ControlesNodo:fR},name:"AtlasConocimiento",apollo:{todosNodos:{query:yr,update({todosNodos:e}){this.nodosDescargados=!0;var t=JSON.parse(JSON.stringify(e));t.forEach(i=>{i.coordsManuales=i.autoCoords,i.coords=i.autoCoords,i.vinculos=i.vinculos.map(n=>{if(n.rol==="source")return{...n};if(!t.find(I=>I.id===n.idRef))return{...n};let a=n.idRef,l=i,s=t.find(I=>I.id===a),c=l.autoCoords,u=s.autoCoords,f=Math.atan2(u.y-c.y,u.x-c.x),p=Math.sqrt(Math.pow(u.y-c.y,2)+Math.pow(u.x-c.x,2)),y=100,v=p,C={paddingLeft:Math.round(y/2)+"px",paddingRight:Math.round(y/2)+"px",width:Math.round(v)+"px",transform:"rotate("+f+"rad)"};return{...n,estilo:C}})});const o=localStorage.getItem("atlasConocimientoIdLastNodoTarget");if(o){const i=e.find(n=>n.id===o);i&&(this.idNodoTarget=i.id)}return t}},yo:{query:Co,skip(){return!this.usuarioLogeado||this.todosNodos.length<1},update({yo:e}){var o,i;const t=localStorage.getItem("atlasConocimientoIdLastColeccionTarget");if(t&&((o=e.atlas)!=null&&o.colecciones)){const n=(i=e.atlas)==null?void 0:i.colecciones.find(r=>r.id===t);n&&(this.idColeccionSeleccionada=n.id)}return e},fetchPolicy:"cache-and-network"},configuracionAtlas:{query:Se`
        query ($nombreAtlas: String!) {
          configuracionAtlas(nombreAtlas: $nombreAtlas) {
            id
            posicionando
          }
        }
      `,variables:{nombreAtlas:"conocimiento"},fetchPolicy:"network-only"},progresoNodoTarget:{query:Se`
        query ($idNodo: ID!) {
          nodo(idNodo: $idNodo) {
            id
            porcentajeCompletado
          }
        }
      `,variables(){return{idNodo:this.idNodoTarget}},skip(){return!this.idNodoTarget},update({nodo:e}){return e.porcentajeCompletado}},progresoColeccionSeleccionada:{query:Se`
        query ($idColeccion: ID!, $idUsuario: ID!) {
          coleccionNodosConocimiento(
            idColeccion: $idColeccion
            idUsuario: $idUsuario
          ) {
            id
            progreso
          }
        }
      `,variables(){return{idColeccion:this.idColeccionSeleccionada,idUsuario:this.usuario.id}},update({coleccionNodosConocimiento:e}){return e.progreso},skip(){return!this.idColeccionSeleccionada}}},data(){return{firstLoad:!0,configuracionAtlas:{posicionando:!1},hovered:!1,todosNodos:[],nodosDescargados:!1,posicionCreandoNodo:null,idNodoSeleccionado:null,nivelesConexion:0,factorEscalera:.2,idsNodosCadenaPreviaSeleccionado:[],idNodoMenuCx:null,idsNecesariosParaTarget:[],enviandoQueryModo:!1,modoAtlas:"estudiante",enviandoQueryTarget:!1,redibujarEnlacesNodos:0,yo:{atlas:{datosNodos:[],configuracion:{modo:"estudiante"}}},centroVistaDecimal:{x:218,y:39},showingZoomInfo:!1,zoom:60,minZoom:20,maxZoom:200,pinching:!1,lastPinchDistance:0,panningVista:!1,vistaPanned:!1,actualizarVinculosGrises:0,ultimoTouchX:0,ultimoTouchY:0,cerrarBusqueda:0,callingPosiciones:!1,mostrandoMenuContextual:!1,offsetMenuContextual:{top:"0px",left:"0px"},enviandoQueryConfiguracionAtlas:!1,idColeccionSeleccionada:null,seleccionandoColeccion:!1,mostrandoOpcionesColeccion:!1,indexLastLocateNextAvailable:0,indexLastLocateNextCheck:0,indexLastLocateNextRepaso:0,idColeccionTargetOnLastLocalizacion:null,idNodoTarget:null,nodoCreandoDependencia:null,creandoDependencia:!1,editandoVinculos:!1}},computed:{nombreColeccionSeleccionada(){var e;return this.idColeccionSeleccionada?((e=this.coleccionSeleccionada)==null?void 0:e.nombre)||"Cargando":"Atlas"},coleccionSeleccionada(){return this.idColeccionSeleccionada?this.coleccionesUsuario.find(e=>e.id===this.idColeccionSeleccionada):null},coleccionesUsuario(){var e,t;return(t=(e=this.yo)==null?void 0:e.atlas)!=null&&t.colecciones?this.yo.atlas.colecciones:[]},nodoSeleccionado:function(){return this.idNodoSeleccionado?this.todosNodos.find(e=>e.id===this.idNodoSeleccionado):null},nodoTarget(){return this.idNodoTarget?this.todosNodos.find(e=>e.id===this.idNodoTarget):null},idsNodosEstudiables(){var i,n;if(!((n=(i=this.yo)==null?void 0:i.atlas)!=null&&n.datosNodos))return[];let e=[...this.idsNodosFrescos,...this.idsNodosAprendidos];return this.nodosRender.filter(r=>e.includes(r.id)).map(r=>r.vinculos.filter(a=>a.rol==="source"&&a.tipo==="continuacion").map(a=>a.idRef)).flat()},idsNodosAprendidos(){return this.yo.atlas.datosNodos.filter(e=>e.aprendido===!0).map(e=>e.idNodo)},datosNodosEstudiados(){return this.yo.atlas.datosNodos.filter(e=>!e.aprendido&&e.estudiado)},idsNodosEstudiados(){return this.datosNodosEstudiados.map(e=>e.idNodo)},datosNodosRepasar(){if(!this.yo||!this.yo.atlas||!this.yo.atlas.datosNodos)return[];var e=this.datosNodosEstudiados.filter(o=>o.diasRepaso);return e.filter(o=>new Date(o.estudiado).getTime()+o.diasRepaso*864e5<Date.now())},idsNodosRepasar(){return this.datosNodosRepasar.map(e=>e.idNodo)},idsNodosRepasarPresentes(){return this.idTarget?this.idsNodosRepasar.filter(e=>this.idsNodosRender.includes(e)):this.idsNodosRepasar},datosNodosFrescos(){return this.datosNodosEstudiados.filter(e=>!this.idsNodosRepasar.includes(e.idNodo))},idsNodosFrescos(){return this.datosNodosFrescos.map(e=>e.idNodo)},idsNodosPresentesCabeza(){return this.idsNodosFrescos.filter(e=>!this.idsNodosAprendidos.includes(e)).concat(this.idsNodosAprendidos)},factorZoom(){return Number((this.zoom/100).toFixed(2))},sizeContenedorNodos(){return{width:this.esquinasDiagrama.x2-this.esquinasDiagrama.x1+"px",height:this.esquinasDiagrama.y2-this.esquinasDiagrama.y1+"px"}},esquinasDiagrama(){const e=this.todosNodos.reduce((r,a)=>a.autoCoords.x>r?a.autoCoords.x:r,0),t=this.todosNodos.reduce((r,a)=>a.autoCoords.y>r?a.autoCoords.y:r,0),o=this.todosNodos.reduce((r,a)=>a.autoCoords.x<r?a.autoCoords.x:r,0),i=this.todosNodos.reduce((r,a)=>a.autoCoords.y<r?a.autoCoords.y:r,0);let n=400;return{x1:o-n,y1:i-n,x2:e+n,y2:t+n}},nodosRender(){var e;if(console.log("recalculando nodosRender con idColeccion: ",(e=this.coleccionSeleccionada)==null?void 0:e.id),this.$route.name!="atlas")return[];if(this.idNodoTarget)return this.todosNodos.filter(t=>this.idsNecesariosParaTarget.includes(t.id)).concat([this.todosNodos.find(t=>this.idNodoTarget===t.id)]);if(this.coleccionSeleccionada){let t=this.coleccionSeleccionada.idsNodos,o=[],i=[];for(;t.length>0;){i=this.todosNodos.filter(r=>t.includes(r.id)),o.push(...i);let n=o.map(r=>r.id);t=[];for(const r of i){let l=r.vinculos.filter(s=>s.tipo==="continuacion"&&s.rol==="target").map(s=>s.idRef).filter(s=>!n.includes(s));t.push(...l)}}return o}return this.todosNodos},idsNodosRender(){return this.nodosRender.map(e=>e.id)},idsTodosNodosRender(){return this.nodosRender.map(e=>e.id)},offsetLoadingCreandoNodo(){if(!this.posicionCreandoNodo)return null;const e=(this.posicionCreandoNodo.x-this.esquinasDiagrama.x1)*this.factorZoom,t=(this.posicionCreandoNodo.y-this.esquinasDiagrama.y1)*this.factorZoom;return{left:e+"px",top:t+"px"}},nodoAbierto(){return this.$route.name==="visorNodoConocimiento"},idTarget(){return this.idNodoTarget||this.idColeccionSeleccionada},idsNodosConectadosSeleccionadoLabelled(){if(!this.nodoSeleccionado)return[];let e="target";this.nivelesConexion>0&&(e="source");let t=[this.nodoSeleccionado],o=[[this.nodoSeleccionado.id]];for(let i=0;i<Math.abs(this.nivelesConexion);i++){let n=t.map(r=>r.vinculos.filter(a=>a.tipo==="continuacion"&&a.rol===e).map(a=>a.idRef)).flat();t=this.todosNodos.filter(r=>n.includes(r.id)),o.push(t.map(r=>r.id))}return o},idsRedSeleccion(){return this.nodoSeleccionado?this.idsNodosConectadosSeleccionadoLabelled.flat():[]},nivelesConexionDeeper(){if(!this.nodoSeleccionado)return!1;if(this.nivelesConexion>0)return!0;let e=[];return this.idsNodosConectadosSeleccionadoLabelled.length>0&&(e=this.idsNodosConectadosSeleccionadoLabelled[this.idsNodosConectadosSeleccionadoLabelled.length-1]),this.todosNodos.filter(o=>e.includes(o.id)).map(o=>o.vinculos.filter(i=>i.tipo==="continuacion"&&i.rol==="target")).flat().length>0},nivelesConexionHigher(){if(!this.nodoSeleccionado)return!1;if(this.nivelesConexion<0)return!0;let e=[];return this.idsNodosConectadosSeleccionadoLabelled.length>0&&(e=this.idsNodosConectadosSeleccionadoLabelled[this.idsNodosConectadosSeleccionadoLabelled.length-1]),this.todosNodos.filter(o=>e.includes(o.id)).map(o=>o.vinculos.filter(i=>i.tipo==="continuacion"&&i.rol==="source")).flat().length>0}},methods:{touchStartDiagrama(e){if(e.touches.length===2){e.stopPropagation(),e.preventDefault();let t=Math.sqrt(Math.pow(e.touches[0].clientX-e.touches[1].clientX,2)+Math.pow(e.touches[0].clientY-e.touches[1].clientY,2));this.lastPinchingDistance=t}},touchMoveDiagrama(e){if(e.touches.length===2){e.stopPropagation(),e.preventDefault();let t={x:(e.touches[0].clientX+e.touches[1].clientX)/2,y:(e.touches[0].clientY+e.touches[1].clientY)/2},o=this.$refs.contenedorDiagrama.getBoundingClientRect(),i={x:t.x-o.left,y:t.y-o.top},n=Math.sqrt(Math.pow(e.touches[0].clientX-e.touches[1].clientX,2)+Math.pow(e.touches[0].clientY-e.touches[1].clientY,2));if(!this.lastPinchingDistance){this.lastPinchingDistance=n;return}let r=n-this.lastPinchingDistance;r!=0&&(r=r/Math.abs(r),hk(this.zoomVista(r,i),1e3)),this.lastPinchingDistance=n}},clickNodo(e){if(this.nodoCreandoDependencia){if(e.id===this.nodoCreandoDependencia.id)return;this.$refs.controlesNodo.crearDependenciaNodo(e);return}this.idNodoSeleccionado=e.id},iniciarCrearDependenciaNodo(e){this.nodoCreandoDependencia=e},clickFuera(){this.seleccionNodo({}),this.$refs.controlesNodo.clickFuera(),this.$refs.buscadorNodos.cerrarBusqueda(),this.$refs.panelConjuntosNodos.abierto=!1},localizarNext(e){var o;let t=[...this.nodosRender];if(this.idColeccionTargetOnLastLocalizacion=this.idColeccionSeleccionada,e==="available"){let i=0,n=t.find(r=>{if(this.idsNodosPresentesCabeza.includes(r.id)||this.indexLastLocateNextAvailable===r.id)return!1;let a=r.vinculos.filter(s=>s.tipo==="continuacion"&&s.rol==="target").map(s=>s.idRef);return!(t.filter(s=>a.includes(s.id)).some(s=>!this.idsNodosPresentesCabeza.includes(s.id))||(i++,i<=this.indexLastLocateNextAvailable))});n?(this.centrarEnNodoById(n.id),this.indexLastLocateNextAvailable=i):this.indexLastLocateNextAvailable=0}else if(e==="check"){let i=0,n=t.find(r=>{if(this.idsNodosPresentesCabeza.includes(r.id))return i++,!(i<=this.indexLastLocateCheck)});n?(this.centrarEnNodoById(n.id),this.indexLastLocateCheck=i):this.indexLastLocateCheck=0}else if(e==="repaso"){if(!((o=this.idsNodosRepasarPresentes)!=null&&o.length)>0)return;this.indexLastLocateNextRepaso++,this.indexLastLocateNextRepaso>=this.idsNodosRepasarPresentes.length&&(this.indexLastLocateNextRepaso=0),this.centrarEnNodoById(this.idsNodosRepasarPresentes[this.indexLastLocateNextRepaso])}},setIdColeccionSeleccionada(e){this.indexLastLocateNextAvailable=0,this.indexLastLocateNextCheck=0,this.idColeccionSeleccionada=e},iniciarCallingPosiciones(){var e=prompt("¿Cuantos ciclos?");isNaN(e)||(e=Math.round(e),!(e<1)&&(console.log(`Enviando reposicionamiento de ${e} ciclos`),this.callingPosiciones=!0,this.$apollo.mutate({mutation:Se`
            mutation ($ciclos: Int!) {
              posicionarNodosConocimientoByFuerzas(ciclos: $ciclos)
            }
          `,variables:{ciclos:e}}).then(()=>{this.callingPosiciones=!1}).catch(t=>{this.callingPosiciones=!1,console.log(`Error: ${t}`)})))},togglePosicionamiento(){this.enviandoQueryConfiguracionAtlas=!0,this.$apollo.mutate({mutation:Se`
            mutation ($nombreAtlas: String!) {
              togglePosicionamientoAutomaticoAtlas(nombreAtlas: $nombreAtlas) {
                id
                posicionando
              }
            }
          `,variables:{nombreAtlas:"conocimiento"}}).then(()=>{this.enviandoQueryConfiguracionAtlas=!1}).catch(()=>{this.enviandoQueryConfiguracionAtlas=!1})},abrirMenuContextual(e){let t=this.$refs.contenedorDiagrama.getBoundingClientRect(),o=Math.round(e.pageY-t.top),i=Math.round(e.pageX-t.left);this.offsetMenuContextual.top=o+"px",this.offsetMenuContextual.left=i+"px",this.mostrandoMenuContextual=!0},crearNodoEnMenuContextual(){const e=this.$refs.contenedorNodos.getBoundingClientRect(),t=parseInt(this.offsetMenuContextual.left)-parseInt(e.left),o=parseInt(this.offsetMenuContextual.top)-(parseInt(e.top)-parseInt(this.$el.offsetTop)),i=t,n=o;console.log(`xPix: ${parseInt(this.offsetMenuContextual.left)}`),console.log(`posXContenedorNodos: ${parseInt(e.left)}, ${e.top}`),console.log(`distanciaLeftPx: ${t}`),console.log(`distanciaTopPx: ${o}`),console.log(`Scroll x contenedorDiagrama: ${this.$refs.contenedorDiagrama.scrollLeft}`);var r={x:parseInt(i/this.factorZoom+this.esquinasDiagrama.x1),y:parseInt(n/this.factorZoom+this.esquinasDiagrama.y1)};console.log(`Creando nuevo nodo en ${JSON.stringify(r)}`),this.crearNodo(r)},encontrarNodosNecesariosDeNodo(e,t){const o=this.todosNodos.find(n=>n.id==e);return o&&o.vinculos.filter(n=>n.rol=="target").map(n=>n.idRef).forEach(n=>{t.includes(n)||(t.push(n),t=this.encontrarNodosNecesariosDeNodo(n,t))}),t},setNodoTargetCache(e){console.log(`Seting en cache al nodo ${e} como target`);const t=this.$apollo.provider.defaultClient,o=t.readQuery({query:Co});var i=JSON.parse(JSON.stringify(o));i.yo.atlas.idNodoTarget=e,t.writeQuery({query:Co,data:i})},setModo(e){this.usuarioLogeado&&(this.modoAtlas=e)},setNodoTarget(e){this.idNodoTarget=e},centrarEnNodo(e){const t=this.$refs.contenedorDiagrama.getBoundingClientRect(),o={x:(e.autoCoords.x-this.esquinasDiagrama.x1)*this.factorZoom,y:(e.autoCoords.y-this.esquinasDiagrama.y1)*this.factorZoom},i={x:parseInt(o.x-t.width/2),y:parseInt(o.y-t.height/2)};this.$refs.contenedorDiagrama.scrollLeft=i.x,this.$refs.contenedorDiagrama.scrollTop=i.y,this.seleccionNodo(e)},centrarEnNodoById(e){console.log(`Centrando en nodo con id ${e}`);var t=this.todosNodos.find(o=>o.id===e);if(t){this.centrarEnNodo(t);return}this.$apollo.query({query:Se`
            query ($idNodo: ID!) {
              nodo(idNodo: $idNodo) {
                id
                autoCoords {
                  x
                  y
                }
              }
            }
          `,variables:{idNodo:e}}).then(({data:{nodo:o}})=>{console.log(`Recibido nodo así: ${JSON.stringify(o)}`),this.centrarEnNodo(o)}).catch(o=>{console.log(`Error: ${o}`)})},cambiarCoordsManualesNodo(e,t){if(!this.usuarioSuperadministrador){console.log("No autorizado");return}this.todosNodos[this.todosNodos.findIndex(o=>o.id==e)].coords=t,this.$apollo.mutate({mutation:Se`
            mutation ($idNodo: String, $coordsManuales: CoordsInput) {
              setCoordsManuales(
                idNodo: $idNodo
                coordsManuales: $coordsManuales
              ) {
                modificados {
                  id
                  coordsManuales {
                    x
                    y
                  }
                  coords {
                    x
                    y
                  }
                }
              }
            }
          `,variables:{idNodo:e,coordsManuales:t}}).then(()=>{this.$refs.canvases.crearImagenTodosVinculos()}).catch(o=>{console.log(`Error: ${o}`)})},eliminarNodo(e){if(!this.usuarioSuperadministrador){console.log("No autorizado");return}confirm("¿Seguro de que quieres eliminar este nodo?")&&(console.log("enviando mutacion de eliminar nodo"),this.$apollo.mutate({mutation:Se`
            mutation ($idNodo: ID!) {
              eliminarNodo(idNodo: $idNodo)
            }
          `,variables:{idNodo:e},update(t,{data:{eliminarNodo:o}}){if(!o){console.log("Nodo no fue eliminado");return}const i=t.readQuery({query:yr});var n=JSON.parse(JSON.stringify(i));const r=n.todosNodos.findIndex(a=>a.id==e);r>-1?(n.todosNodos.splice(r,1),t.writeQuery({query:yr,data:n})):console.log("El nodo no estaba presente")}}).then(t=>{console.log(`quitando el objeto del array. ${t}`)}))},crearNodo(e){if(!this.usuarioSuperadministrador){console.log("Error usuario no autorizado");return}console.log("enviando una mutación de crear nodo");let t={coordsManuales:{x:e.x,y:e.y},coords:{x:e.x,y:e.y},autoCoords:{x:e.x,y:e.y}};console.log(`en las coordenadas: ${e.x}, ${e.y} `),this.posicionCreandoNodo={x:e.x,y:e.y},this.$apollo.mutate({mutation:Se`
            mutation ($infoNodo: NodoConocimientoInput) {
              crearNodo(infoNodo: $infoNodo) {
                ...fragNodoConocimiento
              }
            }
            ${yb}
          `,variables:{infoNodo:t}}).then(({data:{crearNodo:o}})=>{console.log(`Creado ${o.id}`);const i=this.$apollo.provider.defaultClient,n=i.readQuery({query:yr});var r=JSON.parse(JSON.stringify(n));console.log("1");var a=r.todosNodos;console.log("2"),a.findIndex(s=>s.id===o.id)>-1?console.log("El nodo ya estaba en caché"):(a.push(o),i.writeQuery({query:yr,data:r})),this.posicionCreandoNodo=null}).catch(o=>{this.posicionCreandoNodo=null,console.log(`Error. E: ${o}`)})},seleccionNodo(e){this.idNodoSeleccionado=e.id},async eliminarVinculo(e,t){if(!this.usuarioSuperadministrador){console.log("No autorizado");return}console.log(`eliminando un vinculo entre ${e} y ${t} `),this.editandoVinculos=!0,this.$apollo.mutate({mutation:Se`
            mutation ($idNodoFrom: ID!, $idNodoTo: ID!) {
              eliminarVinculoFromTo(
                idSource: $idNodoFrom
                idTarget: $idNodoTo
              ) {
                modificados {
                  id
                  vinculos {
                    id
                    idRef
                    tipo
                    rol
                  }
                }
              }
            }
          `,variables:{idNodoFrom:e,idNodoTo:t}}).then(()=>{this.editandoVinculos=!1}).catch(o=>{console.log(`error: ${o}`),this.editandoVinculos=!1})},zoomVista(e,t){let o=this.$refs.contenedorDiagrama,i={x:t.x+this.$refs.contenedorDiagrama.scrollLeft,y:t.y+this.$refs.contenedorDiagrama.scrollTop},n=5*e,r=this.zoom+n;r<this.minZoom?r=this.minZoom:r>this.maxZoom&&(r=this.maxZoom);let a=r/this.zoom;this.zoom=r;let l={x:i.x*a,y:i.y*a},s=l.x-t.x,c=l.y-t.y;this.$nextTick(()=>{o.scrollLeft=Math.round(s),o.scrollTop=Math.round(c)}),this.showingZoomInfo=!0},zoomWheel(e){if(!this.hovered||!e.ctrlKey)return;e.preventDefault();var t=this.$refs.contenedorDiagrama;let o=t.getBoundingClientRect(),i={x:e.clientX-o.left,y:e.clientY-o.top};e.deltaY>0?this.zoomVista(-1,i):this.zoomVista(1,i)},hideZoomInfo:$d(function(){this.showingZoomInfo=!1},1e3)},watch:{idColeccionSeleccionada(e){console.log(`idColeccionSeleccionada: ${e}`),this.seleccionandoColeccion=!1,localStorage.setItem("atlasConocimientoIdLastColeccionTarget",e),e&&console.log("Setting lastTarget")},seleccionandoColeccion(){this.mostrandoOpcionesColeccion=!1},idNodoTarget(e){if(localStorage.setItem("atlasConocimientoIdLastNodoTarget",e),!e){this.idsNecesariosParaTarget=[];return}this.idsNecesariosParaTarget=this.encontrarNodosNecesariosDeNodo(e,[])},zoom(){this.showingZoomInfo=!0,this.hideZoomInfo()}},mounted(){screen.width<600&&(this.zoom=40)},created(){window.addEventListener("wheel",this.zoomWheel,{passive:!1})},removed(){window.removeEventListener("wheel",this.zoomWheel)}},pR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAqFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAs30iGAAAAN3RSTlMA/ID3Cw8F6qwT8jmmfUZAMR8Y3dGSG+/ZsJ2Gb10H5sO+u7ZnSqF1V8iZjGBrW1Iu4MyCKOxPW1J8IAAAAv9JREFUSMftltmWqjAQRUmQGUREZbgtIOI8D931/392ISl6oYLNYvVjnyfLYlNJqJxE+NPv6cv0ffOrG7t2IZe77sJqM2BKtQ6woXNYNzrAfZHDYr8t0ZN6AmqgcFgZVJPNGlqzTZBhEG05PJbxjyzYpKthEztZQi5CMbybJI/MO4aUFNmwibaAySsnKY0J2UkYnHAJVg3znQHXPwH1ASQTUDtMzuvnrV0xb8rfMHzgT3mJyaQejtTHygij/lXeXKc9Titk+eg8DQDm+zMr1cPK4lRoEMWmovnDezUmbPHjYC8JMhb2qNCoxc68jQu6r+ak52+uvpfz6uJWfPDV9va+2+S8ftFWABtqT3rSxLY2LARaJH/WraCpU4aOFTO2nRYKuA/rMvUhbrk9JBVizjqG4XA6BrPXCp6KOMbVSNdHvB0piMc3vmH0B3LZKxtW7wCFyIGN4Qompgd9Y/jkV6kuKttz8fMcA63a0EzjpS93tsu3n6Kerh9cw4dCavHckeg2ewmaQcxeaeukIDTewn51+UJgIuPs8BGAO3n1MMeFrW0YFgGmbQUeAdIsN9JeYW0ERNR1EbhGLzAK4XvMo4uD8MMjr8OGJaV0jsOW0urun7gwUlUV/4Ow2lN8wYKi5Jp4Nu5mpoOAC7aXZXkYQCF38fCpZqLohQO0XMo//ZwVltDfFJ4NPVGcrZ9c114YEbcyFa68KU3mHNxYN6Dy/oyMhT38sT0nq0/m+asJb899242hHLUsAdQsk44KqFLrLXlJCHyLJBdQFkI7UagRbc9+PpJeGxuyrbE1Lpz7K6gOOzjtCgO03hqgpaDrR4KWBQrnvXmmCdIOh2A1fyPsPW7zg/28WGqDRdIPph+ZNccNfT5u1Kj+lExqDjr6fNBdtXo4xfyuWrnlEVse7uLp+3AHCFse7uW1opyyE5I8WjrlpAmbUvOlhCZ+epBxluPHC418SP3Ect5tiqHUcJXCZPdLXHvZJWx3gIf42ZOh0EFHlznvUeikk+q66kn406/pP19rpKSAcXvNAAAAAElFTkSuQmCC",qd="/caracol/assets/ellipsisVertical-b6601740.svg",Hd="/caracol/assets/locationCrosshair-033bceb2.svg",Sb="/caracol/assets/crosshairsSolid-e6c81b12.svg",mR="/caracol/assets/expandSolid-e988a130.svg",Vd="/caracol/assets/teacher-09fe7473.svg",gR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAABg1BMVEUAAAAAAAAAAAAaGhocHBwFBQUDAwMAAAAFBQUgICBiYmIREREKCgoLCwtQUFAAAAAVFRVHR0cJCQkCAgIBAQEDAwMTExMhISE1NTUHBwcDAwMHBwcICAgHBwcCAgIVFRUYGBgUFBQSEhJeXl4EBAQFBQUFBQUBAQELCwsAAAANDQ0vLy8LCwsVFRUREREZGRkAAAAHBwcJCQkHBwcHBwcGBgYICAgMDAwCAgIAAAAQEBAaGhoKCgoVFRUKCgoQEBAQEBAZGRkHBwciIiIhISEoKCgtLS0JCQkEBAQNDQ0KCgoDAwMKCgoZGRkICAgKCgoLCwsJCQkQEBAICAgODg4dHR0YGBgTExMICAgPDw8LCwscHBwgICAtLS0ZGRktLS04ODgqKiomJiYPDw8NDQ0UFBQQEBAAAAAMDAwODg4YGBgKCgoWFhYYGBgyMjIfHx80NDQAAAAICAgzMzMkJCQrKysAAAA0NDQzMzM8PDwTExMWFhZISEgpKSlFRUUfHx8AAACEqLVPAAAAgHRSTlMA/pkLmb8f399/CtfPZRvzvxW1/PXzuh4D5dvSo41lY09HLQbw7+riyL+sdW9YS0E/+NrWy8a7sqObmI2EeXl2aWheODQcCfPm1sXCwL+tpp6Wj4eDgHJvWUhDPj0sJxkWEhDg0dC/vr2uqqqihYSDenFqY1pSTklGQ0M5NSULCM5vugoAAAJJSURBVEjH7dNnV+JAFIDhuWRR1oYbmjTpKH0BpSOCYF/b2rvbe+/1/vRNmABhYTB89/2SczjnOZc7mZCbuha1JTTPDrg+xKEFhXT2RcXifAaxbkYVkzIgbUPxmDxKrYwpJcXGlOkHSskPr0TuE6V5cnTMrJsobszuB9DzLtJHEz8rk9FYMe8wkX5yqw0aX0rZpItLIrabHA+mrdI+sd3IBBMcVcoL4pPb481o5oGeWqHHgbuWwa+2l53RA96H6E+DVVzHE8SXzCmHgEKg14pPnfER6p3iyFksEFa1oB9QymxMIeKO8KtJAw4miX1eCG+ODC4tDU4bjVYRpjhCqj7tEZHHNfoeCr15Fwp9PHN/++qurtJxlgFCjrW+qlyYbGqpFQ1NLVaRvhqvcIAR3eCAnAxosEsQ3sB62ruEfIBETU4u3w53CsOr050WeY1rHGnrVicR/kgJmiSH610IyKuTyRZRoXGog4zs3W71Io5T844MJYYTQrJoIx1EJbsP8+uAqNVRgVPn4n1RdSGkWcSL8lavyNC93mRiq01AiVxLLqxyYLBzAjH2JideukJijd/K77v+ioNtvUkY6uK4FrVlsyqaBZ972MSz2XiVo4CtnvxhE1OyQZxxTI7THqKaYxOXoUHujEB4iFaEmSs2mQMZmSQ0B2hMTLKYxi7EqV8+Y5LfFjnJjNLsekOMSZx6GUHzsBToIkziEFeBxpS5MdovK5SY5NQskMfx/3bheMy1k/1A4H3z5k9btj/xgYxAtp9+aZ5joMCRm8g/1gHtCvE8ISoAAAAASUVORK5CYII=",Uo=e=>(ot("data-v-fbc5db77"),e=e(),nt(),e),vR={key:0,id:"zonaSeleccionColeccion"},yR=Uo(()=>g("img",{src:pR,alt:"Colección",id:"iconoColeccionSeleccionada"},null,-1)),bR={style:{"z-index":"1"}},wR=Uo(()=>g("img",{src:qd,alt:"Opciones",style:{}},null,-1)),ER=[wR],AR={id:"contenedorControlesColeccion"},_R=Uo(()=>g("img",{src:Hd,alt:"Localizar"},null,-1)),CR=[_R],SR=Uo(()=>g("img",{src:Hd,alt:"Localizar",style:{filter:"var(--filtroAtlasCheck)"}},null,-1)),NR=[SR],xR=Uo(()=>g("img",{src:Hd,alt:"Localizar",style:{filter:"var(--filtroAtlasRepaso)"}},null,-1)),TR=[xR],IR={id:"listaSelectoresColeccion"},PR=Uo(()=>g("img",{src:Qa,alt:"Coleccion",style:{height:"15px"}},null,-1)),DR=["onClick"],kR=Uo(()=>g("img",{src:Qa,alt:"Coleccion",style:{height:"15px"}},null,-1)),RR={id:"zonaNodoTarget"},OR=Uo(()=>g("img",{style:{height:"25px"},src:Sb,alt:"Target",id:"iconoNodoTarget"},null,-1)),FR=Uo(()=>g("img",{src:xo,alt:"Equis"},null,-1)),LR=[FR],MR={id:"contenedorElementosDiagrama"},BR=["onDblclick","onClick"],UR={class:"boton",id:"botonRastrear"},$R=["onClick"],jR={class:"bolita"},qR={key:0,src:Va,alt:"Skill"},HR={key:1,src:za,alt:"Skill"},VR={class:"cajaTexto"},zR={class:"boton",id:"botonAbrir"},QR=["onClick"],GR={class:"laLinea"},WR=Uo(()=>g("img",{src:Qa,alt:"Nodos de usuario"},null,-1)),KR=[WR],JR=["title"],YR={key:0,src:Vd,alt:"Experto"},ZR={key:1,src:gR,alt:"Estudiante"},XR={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},eO=["fill"];function tO(e,t){const o=Re("router-view"),i=Re("pie-progreso"),n=Re("buscador-nodos-conocimiento"),r=Re("panel-conjuntos-nodos"),a=Re("loading"),l=Re("controles-nodo");return J(),re("div",{class:"atlasConocimiento",style:qe({overflowY:e.nodoAbierto?"scroll":"hidden"}),onMousedown:t[24]||(t[24]=De(s=>e.panningVista=!0,["left","exact","stop"])),onMouseenter:t[25]||(t[25]=s=>e.hovered=!0),onMouseleave:t[26]||(t[26]=s=>e.hovered=!1),onClick:t[27]||(t[27]=(...s)=>e.clickFuera&&e.clickFuera(...s))},[Ie(o,{yo:e.yo,datosNodosRepasar:e.datosNodosRepasar,datosNodosUrgentes:e.datosNodosRepasar,onCentrarEnNodo:t[0]||(t[0]=s=>e.centrarEnNodoById(s))},null,8,["yo","datosNodosRepasar","datosNodosUrgentes"]),e.yo.atlas&&e.yo.atlas.colecciones?W((J(),re("div",vR,[g("div",{id:"nombreColeccion",class:Ae({seleccionandoColeccion:e.seleccionandoColeccion}),onClick:t[1]||(t[1]=De(s=>e.seleccionandoColeccion=!e.seleccionandoColeccion,["stop"]))},[e.coleccionSeleccionada&&e.progresoColeccionSeleccionada?(J(),We(i,{key:0,progreso:e.progresoColeccionSeleccionada,"color-fondo":"transparent",style:{"margin-right":"10px"}},{default:$t(()=>[yR]),_:1},8,["progreso"])):Te("",!0),g("span",bR,we(e.nombreColeccionSeleccionada),1)],2),W(g("div",{class:"boton",id:"botonMostrarOpcionesColeccion",onClick:t[2]||(t[2]=s=>e.mostrandoOpcionesColeccion=!e.mostrandoOpcionesColeccion)},ER,512),[[Z,!e.seleccionandoColeccion]]),W(g("div",AR,[g("div",{class:"boton controlColeccion",onClick:t[3]||(t[3]=s=>e.localizarNext("available"))},CR),g("div",{class:"boton controlColeccion",onClick:t[4]||(t[4]=s=>e.localizarNext("check"))},NR),g("div",{class:Ae(["boton controlColeccion",{deshabilitado:!e.idsNodosRepasarPresentes||e.idsNodosRepasarPresentes.length===0}]),onClick:t[5]||(t[5]=s=>e.localizarNext("repaso"))},TR,2)],512),[[Z,e.mostrandoOpcionesColeccion]]),W(g("div",IR,[W(g("div",{class:"selectorColeccion",onClick:t[6]||(t[6]=De(s=>e.setIdColeccionSeleccionada(null),["stop"]))},[PR,dt(" Atlas ")],512),[[Z,e.idColeccionSeleccionada]]),(J(!0),re(Me,null,Ve(e.coleccionesUsuario.filter(s=>e.idColeccionSeleccionada!=s.id),s=>(J(),re("div",{class:"selectorColeccion",onClick:De(c=>e.setIdColeccionSeleccionada(s.id),["stop"]),key:s.id},[kR,dt(" "+we(s.nombre),1)],8,DR))),128))],512),[[Z,e.seleccionandoColeccion]])],512)),[[Z,!e.idNodoTarget]]):Te("",!0),W(g("div",{id:"menuContextual",style:qe([e.offsetMenuContextual])},[e.usuarioProfe?(J(),re("div",{key:0,class:Ae(["botonMenuContextual",{deshabilitado:e.posicionCreandoNodo}]),id:"botonCrearNuevoNodo",onClick:t[7]||(t[7]=(...s)=>e.crearNodoEnMenuContextual&&e.crearNodoEnMenuContextual(...s))}," Crear Nodo de conocimiento ",2)):Te("",!0)],4),[[Z,e.mostrandoMenuContextual]]),W(g("div",RR,[e.nodoTarget?(J(),re("div",{key:0,id:"nombreNodoTarget",onClick:t[8]||(t[8]=s=>e.centrarEnNodo(e.nodoTarget))},[W(Ie(i,{progreso:e.progresoNodoTarget,size:40,cifrasDecimales:0,"color-fondo":"transparent"},{default:$t(()=>[OR]),_:1},8,["progreso"]),[[Z,e.progresoNodoTarget!=null&&!e.$apollo.queries.progresoNodoTarget.loading]]),dt(" "+we(e.nodoTarget.nombre),1)])):Te("",!0),g("div",{class:"boton",id:"botonCancelarNodoTarget",onClick:t[9]||(t[9]=De(s=>e.setNodoTarget(null),["stop"]))},LR)],512),[[Z,e.idNodoTarget]]),e.usuarioSuperadministrador&&e.usuario.username=="juanMamian"?(J(),re("div",{key:1,id:"botonCallingPosiciones",onClick:t[10]||(t[10]=De((...s)=>e.iniciarCallingPosiciones&&e.iniciarCallingPosiciones(...s),["stop"])),class:Ae({deshabilitado:e.callingPosiciones}),style:qe([{backgroundColor:e.callingPosiciones?"green":"transparent"}])},null,6)):Te("",!0),Ie(n,{onNodoSeleccionado:e.centrarEnNodo,ref:"buscadorNodos"},null,8,["onNodoSeleccionado"]),Ie(r,{ref:"panelConjuntosNodos",yo:e.yo,modoAtlas:e.modoAtlas,onCentrarEnNodo:t[11]||(t[11]=s=>e.centrarEnNodo(e.todosNodos.find(c=>c.id==s)))},null,8,["yo","modoAtlas"]),W(g("div",{id:"contenedorDiagrama",ref:"contenedorDiagrama",onTouchmove:t[13]||(t[13]=(...s)=>e.touchMoveDiagrama&&e.touchMoveDiagrama(...s)),onTouchstart:t[14]||(t[14]=(...s)=>e.touchStartDiagrama&&e.touchStartDiagrama(...s))},[g("div",MR,[g("div",{id:"contenedorNodos",onContextmenu:t[12]||(t[12]=De((...s)=>e.abrirMenuContextual&&e.abrirMenuContextual(...s),["self","exact","prevent"])),ref:"contenedorNodos",style:qe([{transform:"scale("+e.factorZoom+")"},e.sizeContenedorNodos])},[W(Ie(a,{texto:"",style:qe([{position:"absolute"},[e.offsetLoadingCreandoNodo]])},null,8,["style"]),[[Z,e.posicionCreandoNodo]]),(J(!0),re(Me,null,Ve(e.nodosRender,s=>(J(),re("div",{class:Ae(["placeholderNodoConocimiento",{fantasmeado:e.idNodoSeleccionado&&e.nivelesConexion&&!e.idsRedSeleccion.includes(s.id),continuacionSeleccionado:e.nivelesConexion>0&&e.idsRedSeleccion.includes(s.id),previoSeleccionado:e.nivelesConexion<0&&e.idsRedSeleccion.includes(s.id),seleccionado:e.idNodoSeleccionado===s.id,aprendido:e.idsNodosAprendidos.includes(s.id),estudiado:e.idsNodosEstudiados.includes(s.id),fresco:e.idsNodosFrescos.includes(s.id),aprendible:e.idsNodosEstudiables.includes(s.id)||!s.vinculos.some(c=>c.tipo==="continuacion"&&c.rol==="target"),repasar:e.idsNodosRepasar.includes(s.id)}]),onDblclick:c=>e.$router.push({name:"visorNodoConocimiento",params:{idNodo:s.id}}),onClick:De(c=>e.clickNodo(s),["stop"]),style:qe([{top:s.coords.y-e.esquinasDiagrama.y1+"px",left:s.coords.x-e.esquinasDiagrama.x1+"px"}]),key:"placeholderNodo"+s.id},[W(g("div",UR,[g("img",{src:Sb,alt:"Rastrear",style:qe([{filter:e.idNodoTarget===s.id?"var(--filtroAtlasSeleccion)":"none"}]),onClick:De(c=>e.setNodoTarget(e.idNodoTarget===s.id?null:s.id),["stop"])},null,12,$R)],512),[[Z,e.idNodoSeleccionado===s.id||e.idNodoTarget==s.id]]),g("div",jR,[s.tipoNodo==="concepto"?(J(),re("img",qR)):(J(),re("img",HR))]),g("div",VR,[dt(we(s.nombre)+" ",1),W(g("div",zR,[g("img",{src:mR,alt:"Abrir",onClick:De(c=>e.$router.push({name:"visorNodoConocimiento",params:{idNodo:s.id}}),["stop"])},null,8,QR)],512),[[Z,e.idNodoSeleccionado==s.id]])]),(J(!0),re(Me,null,Ve(s.vinculos.filter(c=>c.estilo),c=>(J(),re("div",{class:"lineaVinculo",key:c.id,style:qe([c.estilo])},[W(g("div",GR,null,512),[[Z,!e.idNodoSeleccionado||!e.nivelesConexion||e.idsRedSeleccion.includes(s.id)&&e.idsRedSeleccion.includes(c.idRef)]])],4))),128))],46,BR))),128))],36)])],544),[[Z,!e.$apollo.queries.yo.loading]]),Ie(ts,{name:"fadeOut"},{default:$t(()=>[W(g("div",{id:"infoZoom"}," x"+we(e.factorZoom),513),[[Z,e.showingZoomInfo]])]),_:1}),g("div",{id:"barraInferior",onClick:t[18]||(t[18]=De(()=>{},["stop"]))},[g("div",{class:"boton",title:"Mostrar colecciones",onClick:t[15]||(t[15]=s=>e.$refs.panelConjuntosNodos.abierto=!0)},KR),g("div",{class:Ae(["boton",{deshabilitado:e.enviandoQueryModo}]),title:"Cambiar a modo "+e.modoAtlas=="experto"?"estudiante":"experto",onClick:t[16]||(t[16]=s=>e.setModo(e.modoAtlas==="estudiante"?"experto":"estudiante"))},[e.modoAtlas==="experto"?(J(),re("img",YR)):Te("",!0),e.modoAtlas==="estudiante"?(J(),re("img",ZR)):Te("",!0)],10,JR),g("div",{class:"boton",title:"Mostrar temas para repasar",onClick:t[17]||(t[17]=s=>e.$router.push({name:"ventanaRepasos"}))},[(J(),re("svg",XR,[g("path",{d:"M256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512zM232 256C232 264 236 271.5 242.7 275.1L338.7 339.1C349.7 347.3 364.6 344.3 371.1 333.3C379.3 322.3 376.3 307.4 365.3 300L280 243.2V120C280 106.7 269.3 96 255.1 96C242.7 96 231.1 106.7 231.1 120L232 256z",fill:e.datosNodosRepasar.length>0?"var(--atlasConocimientoRepaso)":""},null,8,eO)]))])]),Ie(l,{yo:e.yo,ref:"controlesNodo",style:{"z-index":"20"},elNodo:e.nodoSeleccionado,nivelesConexionDeeper:e.nivelesConexionDeeper,nivelesConexionHigher:e.nivelesConexionHigher,nodoCreandoDependencia:e.nodoCreandoDependencia,onSetMeTarget:t[19]||(t[19]=s=>{e.setNodoTarget(e.nodoSeleccionado.id),e.centrarEnNodoById(e.nodoSeleccionado.id)}),onNivelesConexion:t[20]||(t[20]=s=>e.nivelesConexion=s),onClick:t[21]||(t[21]=De(()=>{},["stop"])),onIniciarCrearDependenciaNodo:t[22]||(t[22]=s=>e.iniciarCrearDependenciaNodo(e.nodoSeleccionado)),onCancelarCreandoDependencia:t[23]||(t[23]=s=>e.nodoCreandoDependencia=null)},null,8,["yo","elNodo","nivelesConexionDeeper","nivelesConexionHigher","nodoCreandoDependencia"]),W(Ie(a,{id:"simboloDescargandoNodos",texto:"descargando nodos de conocimiento"},null,512),[[Z,e.$apollo.queries.yo.loading]])],36)}const oO=Qe(hR,[["render",tO],["__scopeId","data-v-fbc5db77"]]),Nb="/caracol/assets/link-90c9ac52.svg",Ga="/caracol/assets/file-2ee96f5f.svg",nO={name:"NodoConocimientoVistaListaAdmin",props:{esteNodo:Object},data(){return{}},computed:{usuarioExperto(){return this.usuarioLogeado?this.esteNodo.expertos.includes(this.usuario.id):!1}},methods:{guardarEnlaceSeccion(e,t){var o=e.target.value.trim();console.log("Guardando nuevo enlace: "+o),this.$apollo.mutate({mutation:Se`
            mutation ($idNodo: ID!, $idSeccion: ID!, $nuevoEnlace: String!) {
              setNuevoEnlaceSeccionNodo(
                idNodo: $idNodo
                idSeccion: $idSeccion
                nuevoEnlace: $nuevoEnlace
              ) {
                id
                modo
                enlace
              }
            }
          `,variables:{idNodo:this.esteNodo.id,idSeccion:t,nuevoEnlace:o}}).then(()=>{}).catch(i=>{console.log("Error: "+i)})}}},iO={class:"nodoConocimientoVistaListaAdmin"},rO=["href"],sO={class:"nombre"},aO={id:"listaSecciones"},cO={class:"barraSuperior"},lO={class:"imagenTipoSeccion"},uO={key:0,src:Nb,alt:"Enlace"},dO={key:1,src:Ga,alt:"Archivo"},fO={class:"nombre"},hO={class:"zonaSource"},pO=["value","onKeypress"];function mO(e,t,o,i,n,r){return J(),re("div",iO,[g("div",{class:Ae(["barraSuperior",{deUsuario:r.usuarioExperto}])},[g("a",{href:e.clienteUrl+"/#/atlas/nodoConocimiento/"+o.esteNodo.id,target:"_blank"},[g("div",sO,we(o.esteNodo.nombre),1)],8,rO)],2),g("div",aO,[(J(!0),re(Me,null,Ve(o.esteNodo.secciones,a=>(J(),re("div",{class:"seccion",key:a.id},[g("div",cO,[g("div",lO,[a.modo==="enlace"?(J(),re("img",uO)):Te("",!0),a.modo==="archivo"?(J(),re("img",dO)):Te("",!0)]),g("div",fO,we(a.nombre),1),g("div",hO,[g("input",{type:"text",value:a.enlace,onKeypress:xt(l=>r.guardarEnlaceSeccion(l,a.id),["enter"]),class:"inputEnlace"},null,40,pO)])])]))),128))])])}const gO=Qe(nO,[["render",mO],["__scopeId","data-v-cb421092"]]),vO=Se`
  query{
    todosNodos {
      id
      nombre
      secciones {
        id
        nombre
        enlace
        modo
      }
      expertos
    }
  }
  
`,yO={components:{NodoConocimientoVistaListaAdmin:gO},name:"AdminNodosConocimiento",apollo:{todosNodos:{query:vO,fetchPolicy:"cache-and-network"}},data(){return{idNodoSeleccionado:null,todosNodos:[]}},computed:{nodosOrdenados(){return this.usuarioLogeado?[...this.todosNodos].sort((e,t)=>{var o=0;return e.expertos.includes(this.usuario.id)&&o--,t.expertos.includes(this.usuario.id)&&o++,o}):this.todosNodos}}},bO={class:"adminNodosConocimiento"},wO={id:"listaNodos"};function EO(e,t,o,i,n,r){const a=Re("nodo-conocimiento-vista-lista-admin");return J(),re("div",bO,[g("div",wO,[(J(!0),re(Me,null,Ve(r.nodosOrdenados,l=>(J(),We(a,{key:l.id,esteNodo:l},null,8,["esteNodo"]))),128))])])}const AO=Qe(yO,[["render",EO],["__scopeId","data-v-cbc5b8c7"]]);function xb(e,t){return function(){return e.apply(t,arguments)}}const{toString:Tb}=Object.prototype,{getPrototypeOf:zd}=Object,Qd=(e=>t=>{const o=Tb.call(t);return e[o]||(e[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),en=e=>(e=e.toLowerCase(),t=>Qd(t)===e),Wa=e=>t=>typeof t===e,{isArray:Gi}=Array,Zr=Wa("undefined");function _O(e){return e!==null&&!Zr(e)&&e.constructor!==null&&!Zr(e.constructor)&&In(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ib=en("ArrayBuffer");function CO(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Ib(e.buffer),t}const SO=Wa("string"),In=Wa("function"),Pb=Wa("number"),Gd=e=>e!==null&&typeof e=="object",NO=e=>e===!0||e===!1,ta=e=>{if(Qd(e)!=="object")return!1;const t=zd(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},xO=en("Date"),TO=en("File"),IO=en("Blob"),PO=en("FileList"),DO=e=>Gd(e)&&In(e.pipe),kO=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||Tb.call(e)===t||In(e.toString)&&e.toString()===t)},RO=en("URLSearchParams"),OO=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function as(e,t,{allOwnKeys:o=!1}={}){if(e===null||typeof e>"u")return;let i,n;if(typeof e!="object"&&(e=[e]),Gi(e))for(i=0,n=e.length;i<n;i++)t.call(null,e[i],i,e);else{const r=o?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let l;for(i=0;i<a;i++)l=r[i],t.call(null,e[l],l,e)}}function Db(e,t){t=t.toLowerCase();const o=Object.keys(e);let i=o.length,n;for(;i-- >0;)if(n=o[i],t===n.toLowerCase())return n;return null}const kb=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Rb=e=>!Zr(e)&&e!==kb;function ju(){const{caseless:e}=Rb(this)&&this||{},t={},o=(i,n)=>{const r=e&&Db(t,n)||n;ta(t[r])&&ta(i)?t[r]=ju(t[r],i):ta(i)?t[r]=ju({},i):Gi(i)?t[r]=i.slice():t[r]=i};for(let i=0,n=arguments.length;i<n;i++)arguments[i]&&as(arguments[i],o);return t}const FO=(e,t,o,{allOwnKeys:i}={})=>(as(t,(n,r)=>{o&&In(n)?e[r]=xb(n,o):e[r]=n},{allOwnKeys:i}),e),LO=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),MO=(e,t,o,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),o&&Object.assign(e.prototype,o)},BO=(e,t,o,i)=>{let n,r,a;const l={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),r=n.length;r-- >0;)a=n[r],(!i||i(a,e,t))&&!l[a]&&(t[a]=e[a],l[a]=!0);e=o!==!1&&zd(e)}while(e&&(!o||o(e,t))&&e!==Object.prototype);return t},UO=(e,t,o)=>{e=String(e),(o===void 0||o>e.length)&&(o=e.length),o-=t.length;const i=e.indexOf(t,o);return i!==-1&&i===o},$O=e=>{if(!e)return null;if(Gi(e))return e;let t=e.length;if(!Pb(t))return null;const o=new Array(t);for(;t-- >0;)o[t]=e[t];return o},jO=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&zd(Uint8Array)),qO=(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=i.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},HO=(e,t)=>{let o;const i=[];for(;(o=e.exec(t))!==null;)i.push(o);return i},VO=en("HTMLFormElement"),zO=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,i,n){return i.toUpperCase()+n}),fg=(({hasOwnProperty:e})=>(t,o)=>e.call(t,o))(Object.prototype),QO=en("RegExp"),Ob=(e,t)=>{const o=Object.getOwnPropertyDescriptors(e),i={};as(o,(n,r)=>{t(n,r,e)!==!1&&(i[r]=n)}),Object.defineProperties(e,i)},GO=e=>{Ob(e,(t,o)=>{if(In(e)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const i=e[o];if(In(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},WO=(e,t)=>{const o={},i=n=>{n.forEach(r=>{o[r]=!0})};return Gi(e)?i(e):i(String(e).split(t)),o},KO=()=>{},JO=(e,t)=>(e=+e,Number.isFinite(e)?e:t),kl="abcdefghijklmnopqrstuvwxyz",hg="0123456789",Fb={DIGIT:hg,ALPHA:kl,ALPHA_DIGIT:kl+kl.toUpperCase()+hg},YO=(e=16,t=Fb.ALPHA_DIGIT)=>{let o="";const{length:i}=t;for(;e--;)o+=t[Math.random()*i|0];return o};function ZO(e){return!!(e&&In(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const XO=e=>{const t=new Array(10),o=(i,n)=>{if(Gd(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[n]=i;const r=Gi(i)?[]:{};return as(i,(a,l)=>{const s=o(a,n+1);!Zr(s)&&(r[l]=s)}),t[n]=void 0,r}}return i};return o(e,0)},Ne={isArray:Gi,isArrayBuffer:Ib,isBuffer:_O,isFormData:kO,isArrayBufferView:CO,isString:SO,isNumber:Pb,isBoolean:NO,isObject:Gd,isPlainObject:ta,isUndefined:Zr,isDate:xO,isFile:TO,isBlob:IO,isRegExp:QO,isFunction:In,isStream:DO,isURLSearchParams:RO,isTypedArray:jO,isFileList:PO,forEach:as,merge:ju,extend:FO,trim:OO,stripBOM:LO,inherits:MO,toFlatObject:BO,kindOf:Qd,kindOfTest:en,endsWith:UO,toArray:$O,forEachEntry:qO,matchAll:HO,isHTMLForm:VO,hasOwnProperty:fg,hasOwnProp:fg,reduceDescriptors:Ob,freezeMethods:GO,toObjectSet:WO,toCamelCase:zO,noop:KO,toFiniteNumber:JO,findKey:Db,global:kb,isContextDefined:Rb,ALPHABET:Fb,generateString:YO,isSpecCompliantForm:ZO,toJSONObject:XO};function rt(e,t,o,i,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),o&&(this.config=o),i&&(this.request=i),n&&(this.response=n)}Ne.inherits(rt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ne.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Lb=rt.prototype,Mb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Mb[e]={value:e}});Object.defineProperties(rt,Mb);Object.defineProperty(Lb,"isAxiosError",{value:!0});rt.from=(e,t,o,i,n,r)=>{const a=Object.create(Lb);return Ne.toFlatObject(e,a,function(s){return s!==Error.prototype},l=>l!=="isAxiosError"),rt.call(a,e.message,t,o,i,n),a.cause=e,a.name=e.name,r&&Object.assign(a,r),a};const eF=null;function qu(e){return Ne.isPlainObject(e)||Ne.isArray(e)}function Bb(e){return Ne.endsWith(e,"[]")?e.slice(0,-2):e}function pg(e,t,o){return e?e.concat(t).map(function(n,r){return n=Bb(n),!o&&r?"["+n+"]":n}).join(o?".":""):t}function tF(e){return Ne.isArray(e)&&!e.some(qu)}const oF=Ne.toFlatObject(Ne,{},null,function(t){return/^is[A-Z]/.test(t)});function Ka(e,t,o){if(!Ne.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,o=Ne.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,I){return!Ne.isUndefined(I[C])});const i=o.metaTokens,n=o.visitor||u,r=o.dots,a=o.indexes,s=(o.Blob||typeof Blob<"u"&&Blob)&&Ne.isSpecCompliantForm(t);if(!Ne.isFunction(n))throw new TypeError("visitor must be a function");function c(v){if(v===null)return"";if(Ne.isDate(v))return v.toISOString();if(!s&&Ne.isBlob(v))throw new rt("Blob is not supported. Use a Buffer instead.");return Ne.isArrayBuffer(v)||Ne.isTypedArray(v)?s&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function u(v,C,I){let N=v;if(v&&!I&&typeof v=="object"){if(Ne.endsWith(C,"{}"))C=i?C:C.slice(0,-2),v=JSON.stringify(v);else if(Ne.isArray(v)&&tF(v)||(Ne.isFileList(v)||Ne.endsWith(C,"[]"))&&(N=Ne.toArray(v)))return C=Bb(C),N.forEach(function(b,w){!(Ne.isUndefined(b)||b===null)&&t.append(a===!0?pg([C],w,r):a===null?C:C+"[]",c(b))}),!1}return qu(v)?!0:(t.append(pg(I,C,r),c(v)),!1)}const f=[],p=Object.assign(oF,{defaultVisitor:u,convertValue:c,isVisitable:qu});function y(v,C){if(!Ne.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+C.join("."));f.push(v),Ne.forEach(v,function(N,_){(!(Ne.isUndefined(N)||N===null)&&n.call(t,N,Ne.isString(_)?_.trim():_,C,p))===!0&&y(N,C?C.concat(_):[_])}),f.pop()}}if(!Ne.isObject(e))throw new TypeError("data must be an object");return y(e),t}function mg(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function Wd(e,t){this._pairs=[],e&&Ka(e,this,t)}const Ub=Wd.prototype;Ub.append=function(t,o){this._pairs.push([t,o])};Ub.toString=function(t){const o=t?function(i){return t.call(this,i,mg)}:mg;return this._pairs.map(function(n){return o(n[0])+"="+o(n[1])},"").join("&")};function nF(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function $b(e,t,o){if(!t)return e;const i=o&&o.encode||nF,n=o&&o.serialize;let r;if(n?r=n(t,o):r=Ne.isURLSearchParams(t)?t.toString():new Wd(t,o).toString(i),r){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+r}return e}class iF{constructor(){this.handlers=[]}use(t,o,i){return this.handlers.push({fulfilled:t,rejected:o,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ne.forEach(this.handlers,function(i){i!==null&&t(i)})}}const gg=iF,jb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rF=typeof URLSearchParams<"u"?URLSearchParams:Wd,sF=typeof FormData<"u"?FormData:null,aF=typeof Blob<"u"?Blob:null,cF=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),lF=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Lo={isBrowser:!0,classes:{URLSearchParams:rF,FormData:sF,Blob:aF},isStandardBrowserEnv:cF,isStandardBrowserWebWorkerEnv:lF,protocols:["http","https","file","blob","url","data"]};function uF(e,t){return Ka(e,new Lo.classes.URLSearchParams,Object.assign({visitor:function(o,i,n,r){return Lo.isNode&&Ne.isBuffer(o)?(this.append(i,o.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}function dF(e){return Ne.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function fF(e){const t={},o=Object.keys(e);let i;const n=o.length;let r;for(i=0;i<n;i++)r=o[i],t[r]=e[r];return t}function qb(e){function t(o,i,n,r){let a=o[r++];const l=Number.isFinite(+a),s=r>=o.length;return a=!a&&Ne.isArray(n)?n.length:a,s?(Ne.hasOwnProp(n,a)?n[a]=[n[a],i]:n[a]=i,!l):((!n[a]||!Ne.isObject(n[a]))&&(n[a]=[]),t(o,i,n[a],r)&&Ne.isArray(n[a])&&(n[a]=fF(n[a])),!l)}if(Ne.isFormData(e)&&Ne.isFunction(e.entries)){const o={};return Ne.forEachEntry(e,(i,n)=>{t(dF(i),n,o,0)}),o}return null}const hF={"Content-Type":void 0};function pF(e,t,o){if(Ne.isString(e))try{return(t||JSON.parse)(e),Ne.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(o||JSON.stringify)(e)}const Ja={transitional:jb,adapter:["xhr","http"],transformRequest:[function(t,o){const i=o.getContentType()||"",n=i.indexOf("application/json")>-1,r=Ne.isObject(t);if(r&&Ne.isHTMLForm(t)&&(t=new FormData(t)),Ne.isFormData(t))return n&&n?JSON.stringify(qb(t)):t;if(Ne.isArrayBuffer(t)||Ne.isBuffer(t)||Ne.isStream(t)||Ne.isFile(t)||Ne.isBlob(t))return t;if(Ne.isArrayBufferView(t))return t.buffer;if(Ne.isURLSearchParams(t))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return uF(t,this.formSerializer).toString();if((l=Ne.isFileList(t))||i.indexOf("multipart/form-data")>-1){const s=this.env&&this.env.FormData;return Ka(l?{"files[]":t}:t,s&&new s,this.formSerializer)}}return r||n?(o.setContentType("application/json",!1),pF(t)):t}],transformResponse:[function(t){const o=this.transitional||Ja.transitional,i=o&&o.forcedJSONParsing,n=this.responseType==="json";if(t&&Ne.isString(t)&&(i&&!this.responseType||n)){const a=!(o&&o.silentJSONParsing)&&n;try{return JSON.parse(t)}catch(l){if(a)throw l.name==="SyntaxError"?rt.from(l,rt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Lo.classes.FormData,Blob:Lo.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ne.forEach(["delete","get","head"],function(t){Ja.headers[t]={}});Ne.forEach(["post","put","patch"],function(t){Ja.headers[t]=Ne.merge(hF)});const Kd=Ja,mF=Ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),gF=e=>{const t={};let o,i,n;return e&&e.split(`
`).forEach(function(a){n=a.indexOf(":"),o=a.substring(0,n).trim().toLowerCase(),i=a.substring(n+1).trim(),!(!o||t[o]&&mF[o])&&(o==="set-cookie"?t[o]?t[o].push(i):t[o]=[i]:t[o]=t[o]?t[o]+", "+i:i)}),t},vg=Symbol("internals");function wr(e){return e&&String(e).trim().toLowerCase()}function oa(e){return e===!1||e==null?e:Ne.isArray(e)?e.map(oa):String(e)}function vF(e){const t=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=o.exec(e);)t[i[1]]=i[2];return t}function yF(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function Rl(e,t,o,i,n){if(Ne.isFunction(i))return i.call(this,t,o);if(n&&(t=o),!!Ne.isString(t)){if(Ne.isString(i))return t.indexOf(i)!==-1;if(Ne.isRegExp(i))return i.test(t)}}function bF(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,o,i)=>o.toUpperCase()+i)}function wF(e,t){const o=Ne.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+o,{value:function(n,r,a){return this[i].call(this,t,n,r,a)},configurable:!0})})}class Ya{constructor(t){t&&this.set(t)}set(t,o,i){const n=this;function r(l,s,c){const u=wr(s);if(!u)throw new Error("header name must be a non-empty string");const f=Ne.findKey(n,u);(!f||n[f]===void 0||c===!0||c===void 0&&n[f]!==!1)&&(n[f||s]=oa(l))}const a=(l,s)=>Ne.forEach(l,(c,u)=>r(c,u,s));return Ne.isPlainObject(t)||t instanceof this.constructor?a(t,o):Ne.isString(t)&&(t=t.trim())&&!yF(t)?a(gF(t),o):t!=null&&r(o,t,i),this}get(t,o){if(t=wr(t),t){const i=Ne.findKey(this,t);if(i){const n=this[i];if(!o)return n;if(o===!0)return vF(n);if(Ne.isFunction(o))return o.call(this,n,i);if(Ne.isRegExp(o))return o.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,o){if(t=wr(t),t){const i=Ne.findKey(this,t);return!!(i&&this[i]!==void 0&&(!o||Rl(this,this[i],i,o)))}return!1}delete(t,o){const i=this;let n=!1;function r(a){if(a=wr(a),a){const l=Ne.findKey(i,a);l&&(!o||Rl(i,i[l],l,o))&&(delete i[l],n=!0)}}return Ne.isArray(t)?t.forEach(r):r(t),n}clear(t){const o=Object.keys(this);let i=o.length,n=!1;for(;i--;){const r=o[i];(!t||Rl(this,this[r],r,t,!0))&&(delete this[r],n=!0)}return n}normalize(t){const o=this,i={};return Ne.forEach(this,(n,r)=>{const a=Ne.findKey(i,r);if(a){o[a]=oa(n),delete o[r];return}const l=t?bF(r):String(r).trim();l!==r&&delete o[r],o[l]=oa(n),i[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const o=Object.create(null);return Ne.forEach(this,(i,n)=>{i!=null&&i!==!1&&(o[n]=t&&Ne.isArray(i)?i.join(", "):i)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,o])=>t+": "+o).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...o){const i=new this(t);return o.forEach(n=>i.set(n)),i}static accessor(t){const i=(this[vg]=this[vg]={accessors:{}}).accessors,n=this.prototype;function r(a){const l=wr(a);i[l]||(wF(n,a),i[l]=!0)}return Ne.isArray(t)?t.forEach(r):r(t),this}}Ya.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ne.freezeMethods(Ya.prototype);Ne.freezeMethods(Ya);const Jo=Ya;function Ol(e,t){const o=this||Kd,i=t||o,n=Jo.from(i.headers);let r=i.data;return Ne.forEach(e,function(l){r=l.call(o,r,n.normalize(),t?t.status:void 0)}),n.normalize(),r}function Hb(e){return!!(e&&e.__CANCEL__)}function cs(e,t,o){rt.call(this,e??"canceled",rt.ERR_CANCELED,t,o),this.name="CanceledError"}Ne.inherits(cs,rt,{__CANCEL__:!0});function EF(e,t,o){const i=o.config.validateStatus;!o.status||!i||i(o.status)?e(o):t(new rt("Request failed with status code "+o.status,[rt.ERR_BAD_REQUEST,rt.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}const AF=Lo.isStandardBrowserEnv?function(){return{write:function(o,i,n,r,a,l){const s=[];s.push(o+"="+encodeURIComponent(i)),Ne.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Ne.isString(r)&&s.push("path="+r),Ne.isString(a)&&s.push("domain="+a),l===!0&&s.push("secure"),document.cookie=s.join("; ")},read:function(o){const i=document.cookie.match(new RegExp("(^|;\\s*)("+o+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(o){this.write(o,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function _F(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function CF(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function Vb(e,t){return e&&!_F(t)?CF(e,t):t}const SF=Lo.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");let i;function n(r){let a=r;return t&&(o.setAttribute("href",a),a=o.href),o.setAttribute("href",a),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:o.pathname.charAt(0)==="/"?o.pathname:"/"+o.pathname}}return i=n(window.location.href),function(a){const l=Ne.isString(a)?n(a):a;return l.protocol===i.protocol&&l.host===i.host}}():function(){return function(){return!0}}();function NF(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function xF(e,t){e=e||10;const o=new Array(e),i=new Array(e);let n=0,r=0,a;return t=t!==void 0?t:1e3,function(s){const c=Date.now(),u=i[r];a||(a=c),o[n]=s,i[n]=c;let f=r,p=0;for(;f!==n;)p+=o[f++],f=f%e;if(n=(n+1)%e,n===r&&(r=(r+1)%e),c-a<t)return;const y=u&&c-u;return y?Math.round(p*1e3/y):void 0}}function yg(e,t){let o=0;const i=xF(50,250);return n=>{const r=n.loaded,a=n.lengthComputable?n.total:void 0,l=r-o,s=i(l),c=r<=a;o=r;const u={loaded:r,total:a,progress:a?r/a:void 0,bytes:l,rate:s||void 0,estimated:s&&a&&c?(a-r)/s:void 0,event:n};u[t?"download":"upload"]=!0,e(u)}}const TF=typeof XMLHttpRequest<"u",IF=TF&&function(e){return new Promise(function(o,i){let n=e.data;const r=Jo.from(e.headers).normalize(),a=e.responseType;let l;function s(){e.cancelToken&&e.cancelToken.unsubscribe(l),e.signal&&e.signal.removeEventListener("abort",l)}Ne.isFormData(n)&&(Lo.isStandardBrowserEnv||Lo.isStandardBrowserWebWorkerEnv)&&r.setContentType(!1);let c=new XMLHttpRequest;if(e.auth){const y=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";r.set("Authorization","Basic "+btoa(y+":"+v))}const u=Vb(e.baseURL,e.url);c.open(e.method.toUpperCase(),$b(u,e.params,e.paramsSerializer),!0),c.timeout=e.timeout;function f(){if(!c)return;const y=Jo.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),C={data:!a||a==="text"||a==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:y,config:e,request:c};EF(function(N){o(N),s()},function(N){i(N),s()},C),c=null}if("onloadend"in c?c.onloadend=f:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(f)},c.onabort=function(){c&&(i(new rt("Request aborted",rt.ECONNABORTED,e,c)),c=null)},c.onerror=function(){i(new rt("Network Error",rt.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let v=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const C=e.transitional||jb;e.timeoutErrorMessage&&(v=e.timeoutErrorMessage),i(new rt(v,C.clarifyTimeoutError?rt.ETIMEDOUT:rt.ECONNABORTED,e,c)),c=null},Lo.isStandardBrowserEnv){const y=(e.withCredentials||SF(u))&&e.xsrfCookieName&&AF.read(e.xsrfCookieName);y&&r.set(e.xsrfHeaderName,y)}n===void 0&&r.setContentType(null),"setRequestHeader"in c&&Ne.forEach(r.toJSON(),function(v,C){c.setRequestHeader(C,v)}),Ne.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),a&&a!=="json"&&(c.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&c.addEventListener("progress",yg(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",yg(e.onUploadProgress)),(e.cancelToken||e.signal)&&(l=y=>{c&&(i(!y||y.type?new cs(null,e,c):y),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(l),e.signal&&(e.signal.aborted?l():e.signal.addEventListener("abort",l)));const p=NF(u);if(p&&Lo.protocols.indexOf(p)===-1){i(new rt("Unsupported protocol "+p+":",rt.ERR_BAD_REQUEST,e));return}c.send(n||null)})},na={http:eF,xhr:IF};Ne.forEach(na,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const PF={getAdapter:e=>{e=Ne.isArray(e)?e:[e];const{length:t}=e;let o,i;for(let n=0;n<t&&(o=e[n],!(i=Ne.isString(o)?na[o.toLowerCase()]:o));n++);if(!i)throw i===!1?new rt(`Adapter ${o} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Ne.hasOwnProp(na,o)?`Adapter '${o}' is not available in the build`:`Unknown adapter '${o}'`);if(!Ne.isFunction(i))throw new TypeError("adapter is not a function");return i},adapters:na};function Fl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new cs(null,e)}function bg(e){return Fl(e),e.headers=Jo.from(e.headers),e.data=Ol.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),PF.getAdapter(e.adapter||Kd.adapter)(e).then(function(i){return Fl(e),i.data=Ol.call(e,e.transformResponse,i),i.headers=Jo.from(i.headers),i},function(i){return Hb(i)||(Fl(e),i&&i.response&&(i.response.data=Ol.call(e,e.transformResponse,i.response),i.response.headers=Jo.from(i.response.headers))),Promise.reject(i)})}const wg=e=>e instanceof Jo?e.toJSON():e;function ji(e,t){t=t||{};const o={};function i(c,u,f){return Ne.isPlainObject(c)&&Ne.isPlainObject(u)?Ne.merge.call({caseless:f},c,u):Ne.isPlainObject(u)?Ne.merge({},u):Ne.isArray(u)?u.slice():u}function n(c,u,f){if(Ne.isUndefined(u)){if(!Ne.isUndefined(c))return i(void 0,c,f)}else return i(c,u,f)}function r(c,u){if(!Ne.isUndefined(u))return i(void 0,u)}function a(c,u){if(Ne.isUndefined(u)){if(!Ne.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function l(c,u,f){if(f in t)return i(c,u);if(f in e)return i(void 0,c)}const s={url:r,method:r,data:r,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(c,u)=>n(wg(c),wg(u),!0)};return Ne.forEach(Object.keys(e).concat(Object.keys(t)),function(u){const f=s[u]||n,p=f(e[u],t[u],u);Ne.isUndefined(p)&&f!==l||(o[u]=p)}),o}const zb="1.3.4",Jd={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Jd[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const Eg={};Jd.transitional=function(t,o,i){function n(r,a){return"[Axios v"+zb+"] Transitional option '"+r+"'"+a+(i?". "+i:"")}return(r,a,l)=>{if(t===!1)throw new rt(n(a," has been removed"+(o?" in "+o:"")),rt.ERR_DEPRECATED);return o&&!Eg[a]&&(Eg[a]=!0,console.warn(n(a," has been deprecated since v"+o+" and will be removed in the near future"))),t?t(r,a,l):!0}};function DF(e,t,o){if(typeof e!="object")throw new rt("options must be an object",rt.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let n=i.length;for(;n-- >0;){const r=i[n],a=t[r];if(a){const l=e[r],s=l===void 0||a(l,r,e);if(s!==!0)throw new rt("option "+r+" must be "+s,rt.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new rt("Unknown option "+r,rt.ERR_BAD_OPTION)}}const Hu={assertOptions:DF,validators:Jd},hn=Hu.validators;class ya{constructor(t){this.defaults=t,this.interceptors={request:new gg,response:new gg}}request(t,o){typeof t=="string"?(o=o||{},o.url=t):o=t||{},o=ji(this.defaults,o);const{transitional:i,paramsSerializer:n,headers:r}=o;i!==void 0&&Hu.assertOptions(i,{silentJSONParsing:hn.transitional(hn.boolean),forcedJSONParsing:hn.transitional(hn.boolean),clarifyTimeoutError:hn.transitional(hn.boolean)},!1),n!==void 0&&Hu.assertOptions(n,{encode:hn.function,serialize:hn.function},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let a;a=r&&Ne.merge(r.common,r[o.method]),a&&Ne.forEach(["delete","get","head","post","put","patch","common"],v=>{delete r[v]}),o.headers=Jo.concat(a,r);const l=[];let s=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(o)===!1||(s=s&&C.synchronous,l.unshift(C.fulfilled,C.rejected))});const c=[];this.interceptors.response.forEach(function(C){c.push(C.fulfilled,C.rejected)});let u,f=0,p;if(!s){const v=[bg.bind(this),void 0];for(v.unshift.apply(v,l),v.push.apply(v,c),p=v.length,u=Promise.resolve(o);f<p;)u=u.then(v[f++],v[f++]);return u}p=l.length;let y=o;for(f=0;f<p;){const v=l[f++],C=l[f++];try{y=v(y)}catch(I){C.call(this,I);break}}try{u=bg.call(this,y)}catch(v){return Promise.reject(v)}for(f=0,p=c.length;f<p;)u=u.then(c[f++],c[f++]);return u}getUri(t){t=ji(this.defaults,t);const o=Vb(t.baseURL,t.url);return $b(o,t.params,t.paramsSerializer)}}Ne.forEach(["delete","get","head","options"],function(t){ya.prototype[t]=function(o,i){return this.request(ji(i||{},{method:t,url:o,data:(i||{}).data}))}});Ne.forEach(["post","put","patch"],function(t){function o(i){return function(r,a,l){return this.request(ji(l||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:a}))}}ya.prototype[t]=o(),ya.prototype[t+"Form"]=o(!0)});const ia=ya;class Yd{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(r){o=r});const i=this;this.promise.then(n=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](n);i._listeners=null}),this.promise.then=n=>{let r;const a=new Promise(l=>{i.subscribe(l),r=l}).then(n);return a.cancel=function(){i.unsubscribe(r)},a},t(function(r,a,l){i.reason||(i.reason=new cs(r,a,l),o(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const o=this._listeners.indexOf(t);o!==-1&&this._listeners.splice(o,1)}static source(){let t;return{token:new Yd(function(n){t=n}),cancel:t}}}const kF=Yd;function RF(e){return function(o){return e.apply(null,o)}}function OF(e){return Ne.isObject(e)&&e.isAxiosError===!0}const Vu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Vu).forEach(([e,t])=>{Vu[t]=e});const FF=Vu;function Qb(e){const t=new ia(e),o=xb(ia.prototype.request,t);return Ne.extend(o,ia.prototype,t,{allOwnKeys:!0}),Ne.extend(o,t,null,{allOwnKeys:!0}),o.create=function(n){return Qb(ji(e,n))},o}const kt=Qb(Kd);kt.Axios=ia;kt.CanceledError=cs;kt.CancelToken=kF;kt.isCancel=Hb;kt.VERSION=zb;kt.toFormData=Ka;kt.AxiosError=rt;kt.Cancel=kt.CanceledError;kt.all=function(t){return Promise.all(t)};kt.spread=RF;kt.isAxiosError=OF;kt.mergeConfig=ji;kt.AxiosHeaders=Jo;kt.formToJSON=e=>qb(Ne.isHTMLForm(e)?new FormData(e):e);kt.HttpStatusCode=FF;kt.default=kt;const Za=kt,LF="/caracol/assets/arrowUp-364c5229.svg",MF={components:{Loading:vt},name:"ArchivoSeccionNodo",props:{esteArchivo:Object,usuarioExperto:Boolean,idNodo:String,idSeccion:String},data(){return{eliminandose:!1,marcandoPrimario:!1}},methods:{eliminarse(){if(this.usuarioExperto){if(!confirm("Borrando archivo ¿Continuar?")){console.log("Cancelado");return}this.eliminandose=!0,this.$apollo.mutate({mutation:Se`
            mutation ($idNodo: ID!, $idSeccion: ID!, $nombreArchivo: String!) {
              eliminarArchivoSeccionNodo(
                idNodo: $idNodo
                idSeccion: $idSeccion
                nombreArchivo: $nombreArchivo
              )
            }
          `,variables:{idNodo:this.idNodo,idSeccion:this.idSeccion,nombreArchivo:this.esteArchivo.nombre}}).then(({data:{eliminarArchivoSeccionNodo:e}})=>{if(this.eliminandose=!1,!e){console.log("Archivo no eliminado");return}this.$emit("meElimine")}).catch(e=>{this.eliminandose=!1,console.log(`Error. E: ${e}`)})}},marcarPrimario(){this.marcandoPrimario=!0,this.$apollo.mutate({mutation:Se`
          mutation($idNodo:ID!, $idSeccion: ID!, $nombreArchivo:String!){
            marcarPrimarioArchivoSeccionNodo(idNodo:$idNodo, idSeccion:$idSeccion, nombreArchivo: $nombreArchivo)
          }
        `,variables:{idNodo:this.idNodo,idSeccion:this.idSeccion,nombreArchivo:this.esteArchivo.nombre}}).then(()=>{this.marcandoPrimario=!1,this.$emit("soyPrimario")}).catch(()=>{this.marcandoPrimario=!1})}}},Zd=e=>(ot("data-v-468eec1c"),e=e(),nt(),e),BF={id:"barraSuperior"},UF=Zd(()=>g("div",{id:"icono"},[g("img",{src:Ga,alt:"Archivo"})],-1)),$F={id:"nombre"},jF={class:"contenedorControles",style:{"margin-left":"auto","margin-right":"10px"}},qF=Zd(()=>g("img",{src:ni,alt:"Basura"},null,-1)),HF=[qF],VF=Zd(()=>g("img",{src:LF,alt:"Subir"},null,-1)),zF=[VF];function QF(e,t,o,i,n,r){const a=Re("loading");return J(),re("div",{class:Ae(["archivoSeccionNodo",{deshabilitado:n.eliminandose}])},[g("div",BF,[UF,g("div",$F,we(o.esteArchivo.nombre),1),g("div",jF,[g("div",{class:"boton",title:"Eliminar",onClick:t[0]||(t[0]=(...l)=>r.eliminarse&&r.eliminarse(...l))},HF),W(g("div",{class:"boton",onClick:t[1]||(t[1]=(...l)=>r.marcarPrimario&&r.marcarPrimario(...l))},zF,512),[[Z,!o.esteArchivo.primario&&!n.marcandoPrimario]]),W(Ie(a,{texto:""},null,512),[[Z,n.marcandoPrimario]])])])],2)}const GF=Qe(MF,[["render",QF],["__scopeId","data-v-468eec1c"]]),WF="/caracol/assets/edit-47695e84.svg",KF={props:{estaSeccion:Object,idNodo:String,usuarioExperto:Boolean},components:{ArchivoSeccionNodo:GF,Loading:vt},name:"SeccionNodoConocimiento",data(){return{editando:!1,subiendoArchivo:!1,versionArchivo:0,editandoNombre:!1,enviandoNuevoNombre:!1,guardandoNuevoEnlace:!1,inputNuevoEnlace:this.estaSeccion.enlace,modo:""}},methods:{subirArchivoContenido(e){const t=e.target;var o=new FormData;const i=t.files[0];o.append("nuevoArchivo",i),o.append("idNodo",this.idNodo),o.append("idSeccion",this.estaSeccion.id),this.subiendoArchivo=!0,Za({method:"post",url:this.serverUrl+"/api/atlas/subirArchivoContenidoSeccionNodo",data:o,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.usuario.token}}).then(({data:{infoArchivo:n}})=>{this.subiendoArchivo=!1,this.versionArchivo++,this.$emit("subiArchivo",n)}).catch(n=>{this.subiendoArchivo=!1,console.log(`Error subiendo archivo. E: ${n}`)})},iniciarEdicionNombre(){this.$refs.inputNuevoNombre.value=this.estaSeccion.nombre,this.editandoNombre=!0},guardarNuevoNombre(){var e=this.$refs.inputNuevoNombre.value.trim();if(e==this.estaSeccion.nombre){this.editandoNombre=!1;return}if(!(e.length<1)){if(ss.test(e)){console.log("Caracteres ilegales");return}console.log("guardando nuevo nombre"),this.enviandoNuevoNombre=!0,this.$apollo.mutate({mutation:Se`
            mutation (
              $idNodo: ID!
              $idSeccion: ID!
              $nuevoNombre: String!
            ) {
              editarNombreSeccionNodoConocimiento(
                idNodo: $idNodo
                idSeccion: $idSeccion
                nuevoNombre: $nuevoNombre
              ) {
                id
                nombre
              }
            }
          `,variables:{idNodo:this.idNodo,idSeccion:this.estaSeccion.id,nuevoNombre:e}}).then(t=>{console.log(`fin de la mutacion. Data: ${JSON.stringify(t)} `),this.enviandoNuevoNombre=!1,this.editandoNombre=!1}).catch(t=>{this.enviandoNuevoNombre=!1,console.log(`Error. E :${t}`)})}},toggleModo(){const e=this.modo==="archivo"?"enlace":"archivo";console.log("Cambiando a "+e),this.modo=e},guardarNuevoEnlace(){console.log("guardar nuevo enlace");var e=this.$refs.inputNuevoEnlace.value.trim();console.log(e),!(e===this.estaSeccion.enlace||!e||e.length<5)&&(!this.usuarioExperto&&!this.usuarioSuperadministrador||(this.guardandoNuevoEnlace=!0,this.$apollo.mutate({mutation:Se`
          mutation($idNodo: ID!, $idSeccion:ID!, $nuevoEnlace:String!){
            setNuevoEnlaceSeccionNodo(idNodo: $idNodo, idSeccion: $idSeccion, nuevoEnlace: $nuevoEnlace){
              id
              modo
              enlace
            }
          }
        `,variables:{idNodo:this.idNodo,idSeccion:this.estaSeccion.id,nuevoEnlace:e}}).then(()=>{this.guardandoNuevoEnlace=!1}).catch(t=>{console.log("Error: "+t),this.guardandoNuevoEnlace=!0})))}},computed:{direccionNodo:function(){return this.serverUrl+"/assetsAtlas/contenidosNodos/"+this.idNodo},archivosOrdenados(){var e=JSON.parse(JSON.stringify(this.estaSeccion.archivos));return e.sort(t=>t.primario?-1:0),e},srcIframe(){if(this.estaSeccion.modo==="enlace"&&this.estaSeccion.enlace){var e=this.estaSeccion.enlace;let t=window.location.href;return e.substring(0,25)==="https://pe-pe-pe.herokuapp.com"&&t.substring(0,20)!="http://192.168.1.100"&&(e="https://pe-pe-pe.herokuapp.com"+e.substring(25),console.log("Enlace queda: "+e)),console.log("El enlace es: "+e),e}return this.direccionNodo+"/"+this.estaSeccion.id+"/?v="+this.versionArchivo}},watch:{"estaSeccion.modo":{handler:function(){this.modo=this.estaSeccion.modo},immediate:!0}}},Gb=e=>(ot("data-v-384c2e49"),e=e(),nt(),e),JF={class:"seccionNodoConocimiento"},YF={class:"contenedorControles"},ZF=Gb(()=>g("img",{src:WF,alt:"Editar"},null,-1)),XF=[ZF],eL=["src"],tL=["src"],oL={key:0,id:"zonaAdministracion"},nL=["value"],iL={class:"contenedorControles"},rL=Gb(()=>g("img",{src:Qi,alt:"Plus"},null,-1)),sL=[rL],aL=["title"],cL={src:Ga,alt:"Archivo"},lL={src:Nb,alt:"Archivo"},uL={id:"listaArchivos"},dL={id:"zonaEnlace"};function fL(e,t,o,i,n,r){const a=Re("loading"),l=Re("archivo-seccion-nodo");return J(),re("div",JF,[g("div",YF,[o.usuarioExperto||e.usuarioSuperadministrador?(J(),re("div",{key:0,class:"boton",onClick:t[0]||(t[0]=s=>n.editando=!n.editando)},XF)):Te("",!0)]),W((J(),re("div",{id:"zonaFront",class:"frontDeSeccion",key:n.versionArchivo},[o.estaSeccion.modo==="enlace"||o.estaSeccion.tipoPrimario&&o.estaSeccion.tipoPrimario.substring(0,5)!="image"?(J(),re("iframe",{key:0,id:"iframeSeccion",src:r.srcIframe,frameborder:"0"},null,8,eL)):Te("",!0),o.estaSeccion.modo==="archivo"&&o.estaSeccion.tipoPrimario&&o.estaSeccion.tipoPrimario.substring(0,5)==="image"?(J(),re("img",{key:1,src:r.direccionNodo+"/"+o.estaSeccion.id+"/?v="+n.versionArchivo},null,8,tL)):Te("",!0)])),[[Z,!n.editando]]),o.usuarioExperto||e.usuarioSuperadministrador?W((J(),re("div",oL,[W(g("div",{id:"nombre",onClick:t[1]||(t[1]=(...s)=>r.iniciarEdicionNombre&&r.iniciarEdicionNombre(...s))},we(o.estaSeccion.nombre),513),[[Z,!n.editandoNombre]]),W(g("input",{type:"text",name:"",value:o.estaSeccion.nombre,id:"inputNuevoNombre",ref:"inputNuevoNombre",class:Ae({deshabilitado:n.enviandoNuevoNombre}),onBlur:t[2]||(t[2]=(...s)=>r.guardarNuevoNombre&&r.guardarNuevoNombre(...s)),onKeypress:t[3]||(t[3]=xt((...s)=>r.guardarNuevoNombre&&r.guardarNuevoNombre(...s),["enter"]))},null,42,nL),[[Z,n.editandoNombre]]),W(Ie(a,{texto:""},null,512),[[Z,n.enviandoNuevoNombre]]),g("div",iL,[n.modo==="archivo"?W((J(),re("div",{key:0,class:"boton",title:"Subir un archivo",onClick:t[4]||(t[4]=s=>e.$refs.inputArchivoContenido.click())},sL,512)),[[Z,!n.subiendoArchivo]]):Te("",!0),W(Ie(a,{texto:""},null,512),[[Z,n.subiendoArchivo]]),g("div",{class:"boton",title:o.estaSeccion.modo==="archivo"?"Cambiar modo a enlace":"Cambiar modo a archivo",onClick:t[5]||(t[5]=De((...s)=>r.toggleModo&&r.toggleModo(...s),["stop"]))},[W(g("img",cL,null,512),[[Z,n.modo==="archivo"]]),W(g("img",lL,null,512),[[Z,n.modo==="enlace"]])],8,aL)]),W(g("div",uL,[W(g("input",{type:"file",class:"inputArchivoContenido",ref:"inputArchivoContenido",onChange:t[6]||(t[6]=s=>r.subirArchivoContenido(s))},null,544),[[Z,!1]]),(J(!0),re(Me,null,Ve(r.archivosOrdenados,s=>(J(),We(l,{esteArchivo:s,usuarioExperto:o.usuarioExperto,idNodo:o.idNodo,idSeccion:o.estaSeccion.id,key:s.id,onMeElimine:c=>e.$emit("archivoEliminado",s.nombre),onSoyPrimario:c=>{e.$emit("tengoNuevoPrimario",s.nombre),n.versionArchivo++}},null,8,["esteArchivo","usuarioExperto","idNodo","idSeccion","onMeElimine","onSoyPrimario"]))),128))],512),[[Z,n.modo==="archivo"]]),W(g("div",dL,[W(g("input",{type:"text",id:"inputNuevoEnlace",ref:"inputNuevoEnlace","onUpdate:modelValue":t[7]||(t[7]=s=>n.inputNuevoEnlace=s),onBlur:t[8]||(t[8]=(...s)=>r.guardarNuevoEnlace&&r.guardarNuevoEnlace(...s)),placeholder:"Enlace al recurso",onKeypress:t[9]||(t[9]=xt((...s)=>r.guardarNuevoEnlace&&r.guardarNuevoEnlace(...s),["enter"]))},null,544),[[Ke,n.inputNuevoEnlace]])],512),[[Z,n.modo==="enlace"]])],512)),[[Z,n.editando]]):Te("",!0)])}const hL=Qe(KF,[["render",fL],["__scopeId","data-v-384c2e49"]]);Se`
  fragment fragEvento on EventoCalendario{
    id
    nombre
    descripcion
    horarioInicio
    horarioFinal
    responsables  
    participantes
    origen
    idOrigen    
  }
`;Se`
fragment fragResponsables on Usuario {
  id
  username
  nombres
  apellidos
  email
  permisos
  numeroTel
  lugarResidencia
}
`;const Wb=Se`
fragment fragMinimoPersona on Usuario {
  id
  nombres
  apellidos
  username
  titulo
}
`,pL=Se`
  fragment fragParticipacion on ParticipacionActividadGrupoEstudiantil{
    id
      fechaUpload
      archivo {
        extension
        nombre
        googleDriveDirectLink,        
      }
      comentario
      enlaceAdjunto
      infoAutor{
        ...fragMinimoPersona
      }
  }
  ${Wb}
`,mL=Se`
fragment fragDesarrollo on DesarrolloActividadGrupoEstudiantil{
    id
    estado
    leidoPorProfe
    infoEstudiante{
      ...fragMinimoPersona
    }
    participaciones {
      ...fragParticipacion
    }
}
${pL}
`;Se`
fragment fragActividad on ActividadGrupoEstudiantil {
  id
  nombre
  fechaUpload
  hayGuia
  infoCreador{
    ...fragMinimoPersona
  }
  desarrollos {
    ...fragDesarrollo 
  }
}
${mL}
`;Se`
  fragment fragBienProyecto on BienProyecto{
    id
      nombre
      descripcion
      unidad
      cantidad
      fechaCierre
      fechaReparticion
      instruccionesRecibir
      listaPeticiones{
        idBeneficiario
        cantidadSolicitada
        cantidadAsignada
      }
  }
`;Se`
fragment fragServicioProyecto on ServicioProyecto{
  id
  nombre
  descripcion
  listaPeticiones{
    idBeneficiario
  }
}
`;Se`
  fragment fragTrabajoProyecto on TrabajoDeProyecto{
    id
      nombre
      descripcion
      estadoDesarrollo
      vinculos{
        idRef
        tipo
        tipoRef
      }
      coords{
        x
        y
      }
  }
`;const gL=Se`
  fragment fragQuote on Quote{
    mensaje    
    infoAutor{
      id
      nombres
      apellidos
      username
    }
    fecha
  }
`,vL=Se`
  fragment fragInterpolacion on Interpolacion{
    tipo
    enlaceIframe
    mensaje    
  }
`,Kb=Se`
  fragment fragRespuesta on RespuestaConversacionForo{
    id
    fecha
    mensaje
    interpolaciones{
      ...fragInterpolacion
      quote{
        ...fragQuote
        interpolaciones{
          ...fragInterpolacion
          quote{
            ...fragQuote
            interpolaciones{
              ...fragInterpolacion
              quote{
                ...fragQuote
                interpolaciones{
                  ...fragInterpolacion
                  quote{
                    ...fragQuote
                    interpolaciones{
                      ...fragInterpolacion
                      quote{
                        ...fragQuote
                        interpolaciones{
                          ...fragInterpolacion
                          quote{
                            ...fragQuote
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
    enlaceAdjunto
    infoAutor{
      id
      nombres
      apellidos
      username
    }
    archivo{
      googleDriveDirectLink
    }
  }
  ${gL}, 
  ${vL}
`,Jb=Se`
  fragment fragConversacion on Conversacion{
    id
    titulo    
    estado
    acceso   
    cantidadRespuestas
    infoUltimaRespuesta{
      fecha      
    }
  }
`,yL=Se`
  query ($idUsuario: ID!) {
    Usuario(idUsuario: $idUsuario) {
      ...fragMinimoPersona
    }
  }
  ${Wb}
`,bL={name:"IconoPersonaAutonomo",apollo:{estaPersona:{query:yL,variables(){return{idUsuario:this.idPersona}},update({Usuario:e}){return e},skip(){return!this.idPersona}}},data(){return{estaPersona:{permisos:[]},nuevoPermiso:null,mounted:!1,fotografiaEnabled:!1,basicWidthFoto:70,basicFontSizeNombre:15}},props:{idPersona:String,seleccionado:Boolean,menuContextual:Boolean,factorEscala:{type:String,default:"1"},opcionesMenuCx:{type:Array}},computed:{soyYo(){return this.mounted&&this.idPersona&&this.usuario?this.usuario.id==this.idPersona:!1},offsetFoto(){return{width:this.basicWidthFoto*this.factor+"px",height:this.basicWidthFoto*this.factor+"px"}},offsetIcono(){return{width:this.basicWidthFoto*this.factor+"px"}},factor(){return Number(this.factorEscala)}},methods:{addPermisos(){console.log(`enviando ${this.nuevoPermiso} para el usuario con id ${this.idPersona}`),this.$apollo.mutate({mutation:Se`
            mutation ($nuevoPermiso: String!, $idUsuario: ID!) {
              addPermisoUsuario(
                nuevoPermiso: $nuevoPermiso
                idUsuario: $idUsuario
              ) {
                id
                permisos
              }
            }
          `,variables:{nuevoPermiso:this.nuevoPermiso,idUsuario:this.idPersona}}).then(()=>{}).catch(e=>{console.log("error: "+e)})},copiarId(e){let t=e.target.innerText.trim();const o=document.createElement("textarea");o.value=t,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o)},fotografiaCargada(){console.log("Fotografía cargada")}},mounted(){this.mounted=!0},beforeRouteUpdate(){console.log("Before update")}},wL=e=>(ot("data-v-b62346f2"),e=e(),nt(),e),EL=["src"],AL={id:"contenedorAlertas"},_L=wL(()=>g("br",null,null,-1)),CL={id:"menuCxPersona"},SL={key:0,class:"botonMenuCx"},NL=["onClick"];function xL(e,t,o,i,n,r){return J(),re("div",{class:Ae(["iconoPersonaAutonomo",{yo:r.soyYo}]),style:qe([r.offsetIcono])},[W(g("img",{class:"fotografia",src:this.serverUrl+"/api/usuarios/fotografias/"+o.idPersona,style:qe([r.offsetFoto]),onLoad:t[0]||(t[0]=a=>n.fotografiaEnabled=!0),alt:"Usuario"},null,44,EL),[[Z,n.fotografiaEnabled]]),g("div",AL,[vv(e.$slots,"alertas",{},void 0,!0)]),g("div",{class:Ae(["nombres",{nombreSeleccionado:o.seleccionado}]),style:qe([{fontSize:n.basicFontSizeNombre*r.factor+"px"}])},[dt(we(n.estaPersona.nombres)+" ",1),_L,g("b",null,we(n.estaPersona.titulo),1)],6),W(g("div",CL,[g("div",{class:"botonMenuCx",onClick:t[1]||(t[1]=De((...a)=>r.copiarId&&r.copiarId(...a),["stop"]))},we(o.idPersona),1),e.usuarioSuperadministrador?(J(),re("div",SL,we(n.estaPersona.username),1)):Te("",!0),e.usuarioSuperadministrador?W((J(),re("input",{key:1,type:"text","onUpdate:modelValue":t[2]||(t[2]=a=>n.nuevoPermiso=a),placeholder:"Nuevo permiso"},null,512)),[[Ke,n.nuevoPermiso]]):Te("",!0),e.usuarioSuperadministrador?(J(),re("div",{key:2,class:"botonMenuCx",onClick:t[3]||(t[3]=De((...a)=>r.addPermisos&&r.addPermisos(...a),["stop"]))},"Dar permiso")):Te("",!0),(J(!0),re(Me,null,Ve(o.opcionesMenuCx,(a,l)=>(J(),re("div",{class:"botonMenuCx",key:l,onClick:s=>e.$emit(a.evento)},we(a.textoVisible),9,NL))),128))],512),[[Z,o.menuContextual]])],6)}const Wi=Qe(bL,[["render",xL],["__scopeId","data-v-b62346f2"]]),TL={name:"Interpolacion",props:{estaInterpolacion:Object},data(){return{altoIframe:{height:"200px"}}},mounted(){this.estaInterpolacion.tipo=="video"&&this.$set(this.altoIframe,"height",this.$refs.elIframe.offsetWidth/1.77+"px")}},IL={class:"interpolacion"},PL={key:0,id:"bloqueIframe"},DL=["src"],kL={key:1,id:"bloqueQuote"},RL={id:"infoQuote"},OL={class:"quote"},FL={id:"bloqueMensaje"},LL={id:"elMensaje"};function ML(e,t,o,i,n,r){const a=Re("interpolacion",!0);return J(),re("div",IL,[o.estaInterpolacion.tipo=="video"?(J(),re("div",PL,[W(g("iframe",{id:"elIframe",ref:"elIframe",src:o.estaInterpolacion.enlaceIframe,style:qe([n.altoIframe]),frameborder:"0"},null,12,DL),[[Z,o.estaInterpolacion.enlaceIframe]])])):Te("",!0),o.estaInterpolacion.tipo=="quote"?(J(),re("div",kL,[g("div",RL,we(o.estaInterpolacion.quote.infoAutor.nombres)+" escribio: ",1),g("div",OL,[dt(we(o.estaInterpolacion.quote.mensaje)+" ",1),(J(!0),re(Me,null,Ve(o.estaInterpolacion.quote.interpolaciones,l=>(J(),We(a,{key:l.id,estaInterpolacion:l},null,8,["estaInterpolacion"]))),128))])])):Te("",!0),g("div",FL,[g("div",LL,we(o.estaInterpolacion.mensaje),1)])])}const Yb=Qe(TL,[["render",ML],["__scopeId","data-v-986343d9"]]);var BL=/[^\n\r a-zA-ZÀ-ž0-9_()":;.,+¡!¿?@=-]/;const UL={components:{Interpolacion:Yb},name:"CreadorInterpolacion",props:{estaInterpolacion:Object},data(){return{mensaje:null,enlaceIframe:null,enlaceIframeSet:null,enlaceAceptado:!1}},methods:{onPasteEnlace(){this.enlaceAceptado=!1,console.log("Paste")},setEnlaceIframe(){if(!(!this.enlaceIframe||this.enlaceIframe.substr(0,8)!="https://")){if(this.enlaceIframe.substr(12,17)=="youtube.com/watch"&&(this.enlaceIframe=this.enlaceIframe.substr(0,24)+"embed/"+this.enlaceIframe.substr(32)),this.enlaceIframe.substr(0,24)!="https://www.youtube.com/"){console.log("Enlace no válido"),this.enlaceIframe.alert("Enlace no válido");return}this.enlaceIframeSet=this.enlaceIframe,this.$emit("enlaceIframeSet",this.enlaceIframeSet),this.enlaceAceptado=!0}},checkHeight(){for(;this.$refs.inputMensaje.scrollHeight>this.$refs.inputMensaje.offsetHeight;)this.$refs.inputMensaje.rows++},addToMensaje(e){e&&(this.mensaje+=`

`+e,this.$nextTick(()=>{this.checkHeight()}))},temp(){console.log("1")}},computed:{mensajeIlegal(){return!!(!this.mensaje||this.mensaje.length<1||BL.test(this.mensaje))}}},Zb=e=>(ot("data-v-38178547"),e=e(),nt(),e),$L={class:"creadorInterpolacion"},jL=Zb(()=>g("div",{class:"rayaX1"},null,-1)),qL=Zb(()=>g("div",{class:"rayaX2"},null,-1)),HL=[jL,qL],VL={key:0,id:"bloqueIframe"},zL=["src"],QL={id:"zonaInputEnlace"},GL={key:1,id:"bloqueQuote"},WL={id:"infoQuote"},KL={id:"quote"},JL={id:"zonaMensaje"};function YL(e,t,o,i,n,r){const a=Re("interpolacion");return J(),re("div",$L,[g("div",{class:"bEliminarInterpolacion bolitaX",onClick:t[0]||(t[0]=l=>e.$emit("eliminarse",n.mensaje))},HL),o.estaInterpolacion.tipo=="video"?(J(),re("div",VL,[o.estaInterpolacion.tipo=="video"?W((J(),re("iframe",{key:0,id:"elIframe",src:o.estaInterpolacion.enlaceIframe,frameborder:"0"},null,8,zL)),[[Z,o.estaInterpolacion.enlaceIframe]]):Te("",!0),g("div",QL,[W(g("input",{type:"text",id:"inputEnlace","onUpdate:modelValue":t[1]||(t[1]=l=>n.enlaceIframe=l),onInput:t[2]||(t[2]=l=>n.enlaceAceptado=!1),onKeypress:t[3]||(t[3]=xt((...l)=>r.setEnlaceIframe&&r.setEnlaceIframe(...l),["enter"])),onPaste:t[4]||(t[4]=(...l)=>r.onPasteEnlace&&r.onPasteEnlace(...l)),placeholder:"Introduce el enlace"},null,544),[[Ke,n.enlaceIframe]]),g("img",{src:Ud,width:"17px",style:qe([{cursor:"pointer"},[{backgroundColor:n.enlaceAceptado?"green":""}]]),alt:"Ok",title:"Aceptar",class:"bAceptar",onClick:t[5]||(t[5]=(...l)=>r.setEnlaceIframe&&r.setEnlaceIframe(...l))},null,4)])])):Te("",!0),o.estaInterpolacion.tipo=="quote"?(J(),re("div",GL,[g("div",WL,we(o.estaInterpolacion.quote.infoAutor.nombres)+" escribio: ",1),g("div",KL,[dt(we(o.estaInterpolacion.quote.mensaje)+" ",1),(J(!0),re(Me,null,Ve(o.estaInterpolacion.quote.interpolaciones,l=>(J(),We(a,{key:l.id,estaInterpolacion:l},null,8,["estaInterpolacion"]))),128))])])):Te("",!0),g("div",JL,[W(g("textarea",{name:"inputMensaje",id:"inputMensaje",ref:"inputMensaje",class:Ae({letrasRojas:r.mensajeIlegal}),"onUpdate:modelValue":t[6]||(t[6]=l=>n.mensaje=l),onInput:t[7]||(t[7]=(...l)=>r.checkHeight&&r.checkHeight(...l))},null,34),[[Ke,n.mensaje]])])])}const ZL=Qe(UL,[["render",YL],["__scopeId","data-v-38178547"]]),XL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAApVBMVEUAAADM28LI2L3h5tzj6d7R3srn7eTL2cPT38vW4s7g6uDF1bvH173C07fa4NTO3cTk7N7W4tPK2sDa5NTi7OLo8Oja5NXJ2b7M28LD1bfk7ODZ5dLY49DR38jd59fV4czT4MvP3sbP3cXK2r/H2LzW4s7S38rS38nQ3sfL2sHF1rna4tL////5+/j9/v3u8+v3+fXw9O31+PLy9u/7/Pr4+vfr8egF2h3MAAAALHRSTlMAcFEYHCQVFQUcDxkRDAh8ICBjJhEMAVc/KyjQx5XwrqiJg11Ku6Kcj2o4NHigeIkAAAKNSURBVGje3dl9U+IwEAbwR0opUKjg8S6e53nvV+RFuO//0W4SZXYYzG5owo74/COObX/QNLuGwDeDtMBBmmkDMZNkcKTZiyN8gpBWqNAIPyzie+xXJGYQEs60FU5pokpGOCGVH8ws4ND4KRCUITxSV5hbfQQnDygi0SbxX0RJ54yfg5IpGEAi/iG+Ej4/wgvT5ckBzTq0513ezWrD5FIuK5f3+OlCyKV8EP7SVxUzPqVflhWzOF4NUIuJicgJR/xb1enva+U6oyN9kltv42fA7fJV7oTbVXcgm6U567uX8dUcuiLk6OHNHcgSVrn3NdZ4IkQKIVibk79AyvWLUQ15Ve78DA4ZMAgpssEgXaQMslceJOMZPJLxCJ7NRa7dlZSMimNCypXjuN9kBCC8ckNGIIKNudQNY4QipIwZIxQhpfaWsUEUhAr55OCQRzIiIKRMQRmTEQ3B9lD5ZusuIiOlTU4GFfZoSPmaLkwm1KNiIHR+uV2Y65qWXTMv7P3bRUHIeAKs8m++fBmPpv0RByHDKCb7i+ekBCFk0JNMz+6UXvJILiBk2Mztb/uWPCGFRSYcQoYjY59S30IiIFtr8E1rzSNDZkxoosstPmDgyWDyqzQHC0jOIAtrCPlhFR6puxAyhNzbOepEOuzt2lGx4jO3SpUx2a2o7Eq5taNfMsiMWTpM4ZfP7qVDKq1P/gCnKNztGrmQ3WPNNw9HiOYSu62w+qXUz4dk0M0MZ0oC7QxxlgzEeRk/Iwh5r9/eJW8Vsg8Tna2Nhso0bCE8cs1KFYxoSiFumIano7AjlClU57bCplDxrnY9ejqdsKPSMAY67bWvs3XZ0+l57a7OfuJMaYs3KZT+NRimIxym793k/gPFdL6ma6aH6QAAAABJRU5ErkJggg==",eM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAMAAAAL34HQAAAAjVBMVEUAAABJSUo5Tk9BSFdGTVxHTl1FTVxGTV1FTF0+RFdFTFw8RVVHTV1JUF9JT15FTF1FTVxGTV1GTVxHT15GUV9ESltITl5GTV1HTV1JUF9FTVxGTl1GTV1GTFtGTV1ITlxGTFxGTVxFTVtGTVxGTF1GTVxHTl1FTFtHTV1HT1tFTV1ITl1GTVxHR1VHTl5Dm7GSAAAALnRSTlMABgokwLbn/OMp3R73SIRVqO9tsRA0YevIwnVc8z2fLJWOQdeCfGcxyxrPT7oJm8OXKQAAAppJREFUeNrt2WuPojAYhuEiCijoCIg4nBQ8jYd5///PW0vXYLLLMmmBZSbP9c2YNDeBljYwAAAAAAAAAAAAAACARlr7mKpplE1a5+/iFVOxvlInTL9g8mKLujI+M1mXMXUnZ7LeHOrO3maSInowjZJLgmvIcEgIDS6khyRlkg5E5ETbKTeflGMt0qmM25K4PCh/pRkfeM4kLYjo4zmVTyYRHZgkm1+VsWVC4apmbZ5Z8SMrlJ8+Hs/SmRC0mzWz5aePWZOlehOVs6qbmCpnuSe7FCxJOcs86Dan56SaRcmsZJF6FpnPsVSzKupZFWQh6ztn3aJ4NbysOCRz7F36zpq9lzZ1WRkR8TD7C1nh77ES5SxrPiqtdjVZSxI+Ir0py1mPhMhs7Z24NuuzhOtx+6+sfncQS6rsD+chZhHN8qCXrOul2tg3ZAlWntZlhc9/bolqFmWnNRddG7Iqxq7Q/ppFvrfmvHsL65YpUGNWJczm2p9Z1VitL6fNWYKbBQ3Lae9Zwk4bZNZ9NcQsJxrgTXT8mA0uK1m+jdjQstzs9tn9xmYZedxh35xVLVk1WRMx1nGsnLXXmXBsyqoW+LqssHj+SPp8VVt5qg1uB8E3D4Pbb5Vbrf6yrEIrfeY1z9ai2pg2ZSWxJnimahbtJz73btZkBX64ifSvHcgsMdYk7OGcuNpehnh8HeipGlnI+llZjlUKW8kyLM5Qz0o8vVT4LWQttjp33tEP/VyweWa9DerjisiqLleW1+E3HzoySRefWruJh5dHPvXpITyedRlFRtxi2sYjH70sEAYJhiXDJeFlrCRVmtRdmelMkr2h7uyYtLVLXRkHTJ63p06Y9zlTERz9cfuy04Up0kbtYwAAAAAAAAAAAAAAAAD/yS+cHKxqoQUmgQAAAABJRU5ErkJggg==",tM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAeFBMVEUAAAAXEAoUDQhlRSs0JBYrHRJLMh9FLhxeQCcaEgtiQykyIhUlGQ85JhgsHhJTOCIpGxEgFg1ZPCU/KhpWOSN0TzF6UzQvIBNrSS14UjNPNSFjRClyTjF8VTVcPiZnRyxuSy93UTIDAgEKBwQRDAcPCgYIBQMGBAI5vVJyAAAAInRSTlMA/v6A/v79/aX+kP7+/f7d/v6+/c00Ef5iHfGLPQewd1IkgWmI6gAAAZ1JREFUaN7t1eluqzAQhuGxwxInmDVrl7N8A+b+7/AcqdCChJrUxZVazfNrBBIvBgtICCGEEOK7ecpSGtWlUtmB1pc6RYMccAyUtLq018O0Rx8XRe6Qh4v8YUT0n0V/GU61i6r05B1pen4ZGPZliHgRoAvfSI5hUK9vZbvk0Bhw4RmJMewAg4zedSyhr6EjdDRogkcoRRU+smUdPrLh9isinUS+IHKGCRdxw0apVTp+VvK1Iwd2NNfBjtfaTT2evCNHjZqmLhgPWJ6rTr4RylDRVImOlv8nJXlHCu4TelM7WFr1nYy3XtBo10JRgMjJoLPX8QmBLyEidKzQqygpHqxx0BtaOTJqOsCxA/hMFCAySGKjTZZeyTPi1Vzye91IxG6BeVo1Uugl59lKQpHIRPocPmI5Dh/JYcJHYiga/Y32U1ESIhJjrt0EiGyNmtmvvJJlEpGIRH5YJP9QpCUvEZjuVTtDXrYOj/evOic/Gpruk3D/i/wUDL2jO1hGTr4sA6xuaR1Qkb+D4R43uTaiT9k10S324ZmEEEIIIb6xf4x8QD01P3dKAAAAAElFTkSuQmCC",oM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAMAAABG8BK2AAAAsVBMVEUAAAAAAAABAQEKCgoICAgEBAQHBwcEBAQAAAALCwsBAQEDAwMFBQUDAwMDAwMEBAQEBAQBAQENDQ0AAAAHBwcBAQEDAwMEBAQAAAABAQECAgICAgIODg4BAQECAgIGBgYBAQECAgICAgIDAwMEBAQBAQEEBAQCAgICAgIfHx8BAQEKCgoFBQUBAQEBAQECAgICAgIBAQEJCQkLCwsBAQEEBAQDAwMAAAACAgIDAwMAAAA7PaJUAAAAOnRSTlMA+t4VBFwodsAOonlOIX1nY68a8DLQjzrr48e2H7yBRfWynXJwyj6QhwhAGFbn16qZXycLpUlqAsKU+ypwswAAA9RJREFUWMPlWNmWojAQlX1HFBBX3Ntdu13aHv//wyYLIWkL1B7OmZfOE0rqJlV1b6VC7dcNy0vcwPB9I3ATz/onCFXXFqYcSjcypFA2F5qu/hCkqdkyQRCHJNva5gcgntGVBGvxuWt4L4Ios3lm1I4bLaOuaXWj1Yjb2Z/zmfIKijum02W7HilqHiolqtsyfTN2nyfH6ZDNm1NdhVGfmsTBjvMkbfqErDcIlBKHgwGZMNEfobz1iDtG80EOHeJa7618ytrEMxrDxzseNvAsc126F4LS6j+LX79FcEr2o2OPJP+VbPoS9ksvzNEEozivccvBOBOr6A3eqf8q0X08u2BNt4PjUm530i9bN+E8wPHpuIAQY5yjfinIR2MnSVI4T3UW5wbm8z29ZpgvpZmO7FyeXY3lHfNndqdprEajlE+DGx+dQAjm/LveDayAMu663Zs45EvG58H90k00UQpKUD72xHr0de51yNPhRF8EEvJRXFtDf5glaqzLtMxo1nWV2AQw245iosU1oQLgt9MSotFyZdLwH0mUltm7KXq2VS4DGXlcLP2UgHBBf5K6tYJ21CeKClVozFJ7PrL1XL4jBPN14l4IXi3Qq3oRyqp51PuWsuZxvGAY88Tihn4sclGiULWjolJ33u92cs8Q/F1ip84qo2UbYVqMe8jFWIF06THqxp+C8kTuKjEKDmNgEiI5qYAusnA8pVkQY8K/KE8xElaYsCWkAm1PdxyFsTWgyMuaqHOJyTwo0FMqUeru95Q3cpIjj73vIgrYM0iUtaR7aGybm/U7edQY8iARKS7swCfZF9lCLW8Tz02XrurIoZz2M+RzVLtTkV8Cc7SpxZ9milgS+tYxOR5z5BqAKXbKO1OLdKWYNBhTzf+i/y0IEaFTMMQqXTd08KyMOYxAKaUFDDFMuDYiNY4w7rrM7BkyHSDhkH6rA8nvB0vZKEfZc8cB/YAY9A524pOTuUeB2jYo+FwMUJpDbDVX+ILWxbcP77NkBUC4NGGh2OJwHtScQqnz1lcs0DmCQsHLFocZs6W9CXJenncDuBexbMFimISChqNDluiTaA3tYEnfxISsTeGYG4EGAZR0eMBQqhy2ejSN6TE5A/bwgKFbEI67iBpLO5QFRiEw+HG3KTt866FI3XgL7cXDF7YCDsNscxRTJB3sq7reg8ZkO8i02P4TQXPQmJS2SYr23t3HveVQheagTXrUtKnWRuGUg+MKmraqLWT1hrZae30F7XXVZr/61ePpRcipdhGqfi2rfkmsfmV9foFegAt0d6b8l+v86x8Xqn/qqP7h5beNvx6U8A4TgRU+AAAAAElFTkSuQmCC",nM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAMAAAAPkIrYAAABjFBMVEUAAAA+MzgAAAAiHBwgGBg+OzsiIh4eGxlEPj8WFBMhHh0nIyRAPT1ORkYfGhYjHhwfGhoeGRgeGRkgGxkmHx8oIiMoJCQlIyEpJyUrJyQpKCkiICAqJiQwKyscFxggHR0dFxYhHhwhHBwgGxoeGxsmISEdGRkjHh4dGhkgHRweGhsjHR4mJCE+PTlST08rKCgbFhYjGRogGxocGBcgHhwpJiUiHRwiHxwgGRkYFBMkHx8uKCcfHBoqJycsKSkdGRchGx0hHx9fX18kHRsaFRQmISIlHx4cGBckHB4sJSYhHRwdGRkhHx0cFhgiIB8cGhoeGxkhFxYdFxQaFxYZFhYoJSYaFxQaFxQVERFXUFckGBoiGRggGRkiGhogGRcnGRsjFxgjGBciHBwjGxshHBolGRclGBkhGBolGxkmFxkjGhckGBUhGxgkGhUlFxUfGBkhFxggGBQlFxcjGhkfGhkfGxciGRYgGRYdFxUeGhMgGhslFxgiGxUiFxYdGRkhGhEfFxccGBMhFxElHR4/VDeRAAAAWnRSTlMABBD+/AoH/h7JokYZD/bx5uHcya1tZ2BSOzIpJB/7+ffr2NPMxKqnl5WOiII1Fhb9+PPx0c66sbGgjnVvW1dLPy0I+unh0MbFmYN9eXBqYFLo2Na1nldWOyk6oaQ9AAADUElEQVRYw+3VV1MaURTA8SUgEFAporRg75qYbm/pvdd7t/cGuyu9aEzyxXNXTSZPEW+cPGT2/8rwmzl7OAvh5eXl5fX/5evNF87FuZJLz04mnv41dOVSev5RfPjgILTxV07fpVdPppKjgiCIoepYFtvpCWcWl5P9FknaQFU7nepyH5YT7N15Pj1xo9qs0jZggSxLxWJgA8fJrkcm7lmKYDa/NmibHR14rSFr7PIZF9aXG5q9eU8URZ7nBdFsNKhrK+uPr3GSpC73nGVh+c35h/FhyzRNZPl5wRTpWGormgrsc1ItNNj9wjJPpxKjlEkqUFX1I0qwErPRvpcPSNvmoJnY7ca5U8g8W3nT7xeApOs6B9DWBDRiKzG3EwwvxPwKtG26utpzqrMU3ZiZ6O/ojkNT7raKbY0RBN7vv7+W9RE7KRJSQlmH9Kkj5l5EJm/4G1+bnXqdtqG7ekNiGPB9eHwBba3nxThNwzIA5bKZPGWLwcWRg5ZFIwtRkKQAsiRJBoFHz/Po48LadWhDCFmEiZEg8efCm5H4VafebB5RFPqOrqvXpgYLBGr7Ngl1eGIFhrp47rknA3fRszIViqLKFCVevz0YPlrs+n3yEMgsCgDAJfNd/TyXNlfjDZ5CCVZs5tXxunZnR0QFMIyGKJQd8XV7NdmFByPfeXJsJnOy+K2plkUqMqNpMnBDI3ZfOJ26ORc9ka48G/O7FtB+Wsn8GV8xP8fIRUb8vNhSFCCfUMKMD+99nH5YFUVBoCB6VDJgAWDt0SEsqncx1ux0dJWROY7d2+MMg1Na45dwqOh04Nu3L186KsPsGaVSyTBqNbLyHoe68K6xbyCryCCrdGzBSn8ay7po7ZdKxaKOLG3PzajR1ZsFPItEliFJrqW1223XCs0RuJZRQvetqqrWZjkUGvEjplV1nJqOjlmV2m0OutEDS7hW06lRVOCwXuPYY6oxR2BapuPogZXVqwc0hO6EkLyxjWlNmk797kI4uBir0CQLACQrt3oxrQGRnxj0oUsaeltBxw2AcnWewLX4VJQ46sO4SCqKYl3fxrVur/06va1bvEWSh5NLBGa//9tkpyuVSmjeR5xHu9OhVvwTcT59fjyMtnhOBV9mCC8vLy+vf9UP6nkGH0hHtzsAAAAASUVORK5CYII=";var iM=/[^\n\r a-zA-ZÀ-ž0-9_()":;.,+¡!¿?@=-]/;const rM={components:{Loading:vt,CreadorInterpolacion:ZL},name:"CuadroResponder",props:{tituloNuevaConversacion:String,idConversacion:String,idForo:String,parent:Object},data(){return{mensaje:null,cuadroAbierto:!1,enviandoRespuesta:!1,nombreArchivoSeleccionado:null,introduciendoEnlace:!1,enlaceAdjuntable:null,enlaceAdjunto:[],interpolaciones:[]}},methods:{evaluarAdjunto(){if(this.mensajeIlegal)return;this.enviandoRespuesta=!0;let e=this.$refs.inputArchivoAdjunto;var t=new FormData;if(this.setInterpolacionesData(),e.value){const i=e.files[0],n=i.type;console.log(`subiendo un ${n}`),t.append("archivoAdjunto",i);var o=this;Za({method:"post",url:this.serverUrl+"/api/foros/adjuntarArchivoParaRespuesta",data:t,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.usuario.token}}).then(({data:{infoArchivo:r}})=>{let a={infoArchivo:{idGoogleDrive:r.idGoogleDrive,googleDriveDirectLink:r.googleDriveDirectLink,extension:r.extensionDeArchivo,nombre:r.extensionDeArchivo},mensaje:o.mensaje,interpolaciones:this.interpolaciones};this.enlaceAdjunto&&this.enlaceAdjunto.length>0&&(a.enlaceAdjunto=this.enlaceAdjunto),this.idConversacion?this.enviarNuevaRespuesta(a):this.crearConversacionConRespuesta(a)}).catch(r=>{this.enviandoRespuesta=!1,console.log(`Errores: ${r}`),r.response&&r.response.data.msjUsuario&&alert(r.response.data.msjUsuario)})}else{let i={infoArchivo:null,mensaje:this.mensaje,interpolaciones:this.interpolaciones};this.enlaceAdjunto&&this.enlaceAdjunto.length>0&&(i.enlaceAdjunto=this.enlaceAdjunto),this.idConversacion?this.enviarNuevaRespuesta(i):this.crearConversacionConRespuesta(i)}},crearConversacionConRespuesta(e){if(this.tituloNuevaConversacion){var t={titulo:this.tituloNuevaConversacion,primeraRespuesta:e};this.enviandoRespuesta=!0;var o=this;this.$apollo.mutate({mutation:Se`
            mutation(
              $idForo: ID!
              $input: InputIniciarConversacion
              $parent: InputParent
            ) {
              iniciarConversacionConPrimerMensajeForo(
                idForo: $idForo
                input: $input
                parent: $parent
              ) {
                ...fragConversacion
              }
            }
            ${Jb}
          `,variables:{idForo:o.idForo,input:t,parent:o.parent}}).then(({data:{iniciarConversacionConPrimerMensajeForo:i}})=>{o.enviandoRespuesta=!1,o.$emit("hiceConversacion",i),this.reset()}).catch(i=>{o.enviandoRespuesta=!1,console.log(`Error. E: ${i}`)})}},enviarNuevaRespuesta(e){if(!this.mensajeIlegal){var t=this;this.enviandoRespuesta=!0,this.$apollo.mutate({mutation:Se`
            mutation(
              $idConversacion: ID!
              $nuevaRespuesta: InputNuevaRespuesta
              $parent: InputParent
            ) {
              postRespuestaConversacion(
                idConversacion: $idConversacion
                nuevaRespuesta: $nuevaRespuesta
                parent: $parent
              ) {
                ...fragRespuesta
              }
            }
            ${Kb}
          `,variables:{idConversacion:t.idConversacion,nuevaRespuesta:e,parent:t.parent}}).then(({data:{postRespuestaConversacion:o}})=>{t.enviandoRespuesta=!1,this.$emit("hiceRespuesta",o),this.cerrarse()}).catch(o=>{t.enviandoRespuesta=!1,console.log(`Error. E: ${o}`)})}},toggleCuadroAbierto(){this.cuadroAbierto=!this.cuadroAbierto},cerrarse(){this.reset(),this.cuadroAbierto=!1},actualizarNombreDeArchivo(){if(!this.$refs.inputArchivoAdjunto.value){console.log("Nullificando el nombre de archivo seleccionado"),this.nombreArchivoSeleccionado=null;return}this.nombreArchivoSeleccionado=this.$refs.inputArchivoAdjunto.files[0].name},abrirSelectorDeArchivos(){this.$refs.inputArchivoAdjunto.click()},reset(){this.nombreArchivoSeleccionado=null,this.$refs.inputArchivoAdjunto.value=null,this.mensaje=null,this.interpolaciones=[],this.enlaceAdjuntable=null,this.enlaceAdjunto=[]},interpolarQuote(e){var t={tipo:"quote",quote:e};this.interpolaciones.push(t),this.cuadroAbierto||(this.cuadroAbierto=!0),this.$nextTick(()=>{this.$el.scrollIntoView({behavior:"smooth"})})},insertarCreadorInterpolacion(e){var t={tipo:e};this.interpolaciones.push(t)},checkHeight(){for(console.log(`El textarea tiene un height de ${this.$refs.inputMensaje.offsetHeight} pero un scroll height de ${this.$refs.inputMensaje.scrollHeight}`);this.$refs.inputMensaje.scrollHeight>this.$refs.inputMensaje.offsetHeight;)this.$refs.inputMensaje.rows++},eliminarInterpolacion(e,t){e&&(t==0?this.mensaje?(this.mensaje+=`

`+e,this.$nextTick(()=>{this.checkHeight()})):this.mensaje=e:(console.log(`añadiendo el mensaje ${e} al creador de interpolacion ${t-1}`),this.$refs.creadoresInterpolacion[t-1].addToMensaje(e))),this.interpolaciones.splice(t,1)},setEnlaceIframeInterpolacion(e,t){console.log("Seting enlace iframe en el array de interpolaciones"),this.$set(this.interpolaciones[t],"enlaceIframe",e)},retirarTypeName(e){return console.log("Retirando typenames"),e.forEach(t=>{delete t.__typename,t.quote&&(delete t.quote.__typename,t.quote.infoAutor&&delete t.quote.infoAutor.__typename,t.quote.interpolaciones&&(t.quote.interpolaciones=this.retirarTypeName(t.quote.interpolaciones)))}),e},setInterpolacionesData(){this.interpolaciones.forEach((e,t)=>{e.mensaje=this.$refs.creadoresInterpolacion[t].mensaje}),this.interpolaciones=this.retirarTypeName(this.interpolaciones)}},computed:{mensajeIlegal(){var e=this.mensaje?this.mensaje:"";return this.interpolaciones.forEach(t=>{t.mensaje&&(e+=t.mensaje)}),!!iM.test(e)},enlaceAdjuntableIlegal(){return this.enlaceAdjuntable?this.enlaceAdjuntable.substr(0,8)!="https://"?(console.log(`El inicio ${this.enlaceAdjuntable.substr(0,8)} difiere del esperado`),!0):this.enlaceAdjuntable.length<7:!0}},mounted(){console.log("Revisando si hay idConversacion"),this.idConversacion||(this.cuadroAbierto=!0)}},Xd=e=>(ot("data-v-3b79e7de"),e=e(),nt(),e),sM={class:"cuadroResponder"},aM={id:"barraSuperior"},cM=Xd(()=>g("span",{id:"tituloCuadro"},"Envía una respuesta",-1)),lM={id:"zonaMensaje"},uM={id:"zonaInsertar"},dM={id:"adjuntarArchivo"},fM=Xd(()=>g("br",null,null,-1)),hM={id:"bloqueAdjuntarEnlace",class:"bloqueAdjuntar"},pM={id:"zonaIntroducirEnlace"},mM={id:"nombreEnlaceAdjuntado"},gM=["onClick"],vM=Xd(()=>g("div",{class:"linea1"},[g("div",{class:"linea2"})],-1)),yM=[vM];function bM(e,t,o,i,n,r){const a=Re("creador-interpolacion"),l=Re("loading");return J(),re("div",sM,[W(g("div",aM,[g("img",{src:XL,alt:"Contestar",title:"Contestar en esta conversación",id:"imgMensaje",onClick:t[0]||(t[0]=(...s)=>r.toggleCuadroAbierto&&r.toggleCuadroAbierto(...s))}),cM],512),[[Z,o.idConversacion]]),W(g("div",lM,[W(g("textarea",{name:"inputMensaje",id:"inputMensaje",ref:"inputMensaje",class:Ae({letrasRojas:r.mensajeIlegal}),"onUpdate:modelValue":t[1]||(t[1]=s=>n.mensaje=s),rows:"2",onInput:t[2]||(t[2]=(...s)=>r.checkHeight&&r.checkHeight(...s))},null,34),[[Ke,n.mensaje]]),(J(!0),re(Me,null,Ve(n.interpolaciones,(s,c)=>(J(),We(a,{ref_for:!0,ref:"creadoresInterpolacion",key:c,estaInterpolacion:s,onEliminarse:u=>r.eliminarInterpolacion(u,c),onEnlaceIframeSet:u=>r.setEnlaceIframeInterpolacion(u,c)},null,8,["estaInterpolacion","onEliminarse","onEnlaceIframeSet"]))),128))],512),[[Z,n.cuadroAbierto]]),W(g("div",uM,[g("img",{src:eM,alt:"Video",onClick:t[3]||(t[3]=s=>r.insertarCreadorInterpolacion("video")),class:"bInsertar",title:"Insertar un enlace a un video"})],512),[[Z,n.cuadroAbierto]]),W(g("div",dM,[g("input",{type:"file",id:"inputArchivoAdjunto",ref:"inputArchivoAdjunto",onChange:t[4]||(t[4]=(...s)=>r.actualizarNombreDeArchivo&&r.actualizarNombreDeArchivo(...s))},null,544),g("img",{src:tM,alt:"Ajuntar archivo",id:"imgAdjuntar",title:"adjuntar un archivo",onClick:t[5]||(t[5]=(...s)=>r.abrirSelectorDeArchivos&&r.abrirSelectorDeArchivos(...s))}),fM,W(g("div",{id:"nombreArchivoSeleccionado"},we(n.nombreArchivoSeleccionado),513),[[Z,n.nombreArchivoSeleccionado]])],512),[[Z,n.cuadroAbierto]]),W(g("div",hM,[g("div",pM,[g("img",{src:oM,alt:"Ajuntar enlace",id:"imgAdjuntarEnlace",title:"adjuntar un enlace",onClick:t[6]||(t[6]=s=>n.introduciendoEnlace=!0)}),W(g("input",{type:"text",class:"inputAdjuntarEnlace",placeholder:"escribe o pega el enlace","onUpdate:modelValue":t[7]||(t[7]=s=>n.enlaceAdjuntable=s)},null,512),[[Z,n.introduciendoEnlace===!0],[Ke,n.enlaceAdjuntable]]),W(g("img",{src:Ud,alt:"Confirmar",id:"bAceptarAdjuntarEnlace",onClick:t[8]||(t[8]=De(s=>{n.enlaceAdjunto.push(n.enlaceAdjuntable),n.enlaceAdjuntable=null,n.introduciendoEnlace=!1},["stop"]))},null,512),[[Z,n.introduciendoEnlace&&!r.enlaceAdjuntableIlegal]])]),(J(!0),re(Me,null,Ve(n.enlaceAdjunto,(s,c)=>(J(),re("div",{class:"enlaceAdjuntado",key:c},[g("div",mM,[g("span",null,we(s),1)]),g("div",{id:"bCancelarEnlaceAdjunto",onClick:De(u=>n.enlaceAdjunto.splice(c,1),["stop"])},yM,8,gM)]))),128))],512),[[Z,n.cuadroAbierto]]),W(g("img",{class:Ae({deshabilitado:r.mensajeIlegal}),src:nM,alt:"Enviar",title:"Enviar respuesta",id:"bEnviar",onClick:t[9]||(t[9]=(...s)=>r.evaluarAdjunto&&r.evaluarAdjunto(...s))},null,2),[[Z,n.cuadroAbierto&&!n.enviandoRespuesta]]),W(Ie(l,{texto:"Enviando respuesta..."},null,512),[[Z,n.enviandoRespuesta]])])}const Xb=Qe(rM,[["render",bM],["__scopeId","data-v-3b79e7de"]]),wM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAMAAAAPdrEwAAAA3lBMVEUAAAD/9fT/6uX/4eH/7evV1Nv+7uz/7OnS1d3/9/X/6eb/6OXU2ODaztL/3t7W0Nb27u7S1d3Y2+L14+Lg1tvQ0trR1t/uu7u/n5///////v7T1d3s7PA10Zb8/v0x0JPu+vXw+/dz3rM50Zc00JWt69Ns27D2/Prz9Pb5+vrY2uHo+fLu7/K57dhX16X6/fzv7/Li+O9C05vV19/k+PDf9u3F8N+y69Sd5smI4r6E4bx437ZR1qNO1aHz+/f09PbV8+fd3+Wp6c+W5cVw3bJn261e2ald2Kla2Kfw8fNijA/eAAAAGXRSTlMA+1ka2c5B2dbCtllQTC9X59jWuWxiWQ8IBi+1PwAAAb5JREFUWMPt2GlPgzAYwHE3ZffhrStbwa2KkzHcfcGcu/3+X8hnWTaMBkalTSDpP+EFb34h5WnS9EwkEomi1Lmv/iMnMsmL093k6eVCGvmpLNHb2VjJTw1ZKtLScX/0uyxLeW60nCpyoiEpx4mGrnKcaEi6p6VRvVF26wMfaSiVo6XLsmuf9f3wHey7R0q6c4L+ejt0ffvAbEHQjq6/HrtM0NCAu1f6VSzObEKC0shXDk2/1t416oiehgnxUaccLtr3goTpN3oW4rn+E4L40EhvtXTEhVZHljVS+dBVRakKWtCC9kOjnzRiSWtd06HNrsaO1uaTvnmgzf5krrGiTcNWNoa2pzVjo9iGyYhWR4SQ5kDf0fqgCS8jlRGNZ5MaIdZwpSiroUVIbTLDbGiwe2Ow2+39Uxv3MLsJQfoCzAoE+kJne5xUh7ayoxV7qLLejdNBEz4b/uaU+UZHmrEmZG1oiDUN4f5y2cd8ziG418PROz0xprFHgWgYi2fXYFiC0N1tpeZSZdsKRsM+cYk0g9EtfrQ+fnFtrAegwX7yCIV2rqNDZ+npLMXFJ13pAtPrWqdkJsH6ktnpTCQSiSLUN5DlNzinQAMLAAAAAElFTkSuQmCC",EM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAt1BMVEUAAAAJCQkBAQEBAQEAAAAFBQUBAQEMDAwgICADAwMFBQUICAgKCgoMDAwXFxcFBQUCAgIEBAQPDw8VFRUPDw8yMjIDAwMDAwMGBgYHBwcNDQ0SEhITExMCAgIDAwMICAgjIyMCAgIFBQUFBQUGBgYHBwcNDQ0CAgIDAwMCAgICAgIFBQULCwsCAgIDAwMFBQUGBgYGBgYICAgNDQ0ICAgHBwcJCQkQEBAFBQUNDQ0LCwsKCgoAAAAVYtoZAAAAPHRSTlMAHPv427ffLgjWql5bPRSg7bsYDwsD5MCnhjgzIOavfQXyrZuBairY09DGs0bqzJKOcW47iXlmJZZUT1Yx0+xAAAADDklEQVRYw+2Y2XaqMBSGA4oVRBBEQMQRnFqnWq0d8v7PdY6l+wiBNImw1rnpf6eGLzt7yhb0q19VL2fxGfveuvFXa8+P3xdOGdokOCtDGacku8o5aN6J6+r+Fhdoq+ndO3BN/amGKao96cJWtk3AFSPNtpjzjipmSD1O+HnhXsZMyXuJlzfQMJe0AR8vUDCnlIDLvifMLYXDxnCGBaSFzPjusZD2rFg/Y0E9M/JZFQUu2z/Wm4mFZf5Uha2aOLDWovMMBd8hxWAYWJ2JjpYv2OFSrXfwTdO6qrrEvjOHFuIOybNeF7YhtfsuTtQ5bCTDvrRGmVUdWqDHJM+/oETvamLeHJx9yKwbU1q+RfDc287Hr372hkBSZq1VfOaHIQEcNW+A9dX7H5SKGj4UAnWyq/ZTP0ZXiy+pHpf2t6wXAvu0MgX/Lu3bZ6lObp1XLmni1I+vMsaNMOXwXaaLFQIfcyXQTeW8nM3gbmb1YyFQzWX1nAiCdTPRzqxWC4ENTGq1QaATvurQg89hZnWDE4gtyIfJt4PPsPhlKgYEvU2+S2P9nXFg8xzfB+y8EGUeJTv0Ig7gCheoRZT52k5cqGadzUobsgYMD77YGZCW7LTRio4cEM9HX3HuKhizE7tPvYHCfwZOP5KQyETVM5sDHCWJSUw8OdiRjuFrX9jaJDtt4faIkwPDZctoX45FNuxkFNqAPe6R4hvL4boCIilJQQ94kEI514xpg2F26D8l9gEPL78c2oxzvG2bNoho2ZS5WtRap5LDRujyhnPSqMOInr1wd4Edd7LZ8aEIzSJdYnj1iDBNZ67YKIL0iocl1IzKjnPlB06VPnBClQpJPqKf1Ttws+CWYUgyRXi+hJhaiPzxeUAcGoy4eS+ISwuf87xgH1P2qcaR0PsQcas3n7J4q3mPnwfTGl1TM0CoIiC8xKgOOPQ/Yc4rD6y5ynkA1t0JVE6mt1rW68uVZ47hVVUJ4GiAeo5hS5JtOBDXMsBRJnnLA2fAKw8E+yoDgn2VAcG+yoDAqwwI561IxixaoF/9J/0BY7A5D9cSe1UAAAAASUVORK5CYII=",AM={components:{Interpolacion:Yb},name:"Respuesta",props:{estaRespuesta:{type:Object},idConversacion:String},computed:{fechaFormateada:function(){let e=new Date(this.estaRespuesta.fecha).toString(),t=e.indexOf("("),o=e.substr(0,t),i=o.indexOf("GMT");return i>-1&&(o=o.substr(0,i)),o},usuarioAutor:function(){return this.usuario.id==this.estaRespuesta.infoAutor.id}},methods:{emitirSolicitudCita(){var e={mensaje:this.estaRespuesta.mensaje,interpolaciones:this.estaRespuesta.interpolaciones,infoAutor:this.estaRespuesta.infoAutor,fecha:this.estaRespuesta.fecha};e.interpolaciones.forEach(t=>{delete t.__typename}),delete e.infoAutor.__typename,this.$emit("meQuierenCitar",e)},eliminarse(){let e=this;confirm("Eliminando respuesta ¿Continuar?")&&this.$apollo.mutate({mutation:Se`
          mutation($idRespuesta: ID!, $idConversacion: ID!) {
            eliminarRespuesta(
              idRespuesta: $idRespuesta
              idConversacion: $idConversacion
            )
          }
        `,variables:{idRespuesta:this.estaRespuesta.id,idConversacion:this.idConversacion},update(t,{data:{eliminarRespuesta:o}}){o&&(console.log("Respuesta eliminada"),e.$emit("meElimine"))}})}}},_M=e=>(ot("data-v-8192fae5"),e=e(),nt(),e),CM={class:"respuesta"},SM={class:"infoRespuesta"},NM=["src","alt"],xM={id:"zonaCuerpoMensaje"},TM={class:"mensajeRespuesta"},IM={key:0,id:"archivo"},PM=["href"],DM=_M(()=>g("img",{src:wM,alt:"Descargar archivo",id:"imgDownloadArchivo"},null,-1)),kM=[DM],RM={class:"enlacesAdjuntos"},OM=["href"],FM={class:"enlaceAdjunto"},LM={class:"controles"};function MM(e,t,o,i,n,r){const a=Re("interpolacion");return J(),re("div",CM,[g("div",SM,we(r.fechaFormateada),1),g("img",{src:this.serverUrl+"/api/usuarios/fotografias/"+o.estaRespuesta.infoAutor.id,alt:o.estaRespuesta.infoAutor.nombre,class:"caritaAutor"},null,8,NM),g("div",xM,[g("div",TM,we(o.estaRespuesta.mensaje),1),(J(!0),re(Me,null,Ve(o.estaRespuesta.interpolaciones,l=>(J(),We(a,{key:l.id,estaInterpolacion:l},null,8,["estaInterpolacion"]))),128))]),o.estaRespuesta.archivo&&o.estaRespuesta.archivo.googleDriveDirectLink?(J(),re("div",IM,[g("a",{href:o.estaRespuesta.archivo.googleDriveDirectLink},kM,8,PM)])):Te("",!0),W(g("div",RM,[(J(!0),re(Me,null,Ve(o.estaRespuesta.enlaceAdjunto,(l,s)=>(J(),re("a",{target:"_blank",href:l,key:s},[g("div",FM,we(l),1)],8,OM))),128))],512),[[Z,o.estaRespuesta.enlaceAdjunto&&o.estaRespuesta.enlaceAdjunto.length>0]]),g("div",LM,[g("img",{src:EM,alt:"Cita",title:"Citar esta respuesta",class:"botonInsertar",onClick:t[0]||(t[0]=(...l)=>r.emitirSolicitudCita&&r.emitirSolicitudCita(...l))}),e.usuarioSuperadministrador?(J(),re("div",{key:0,class:"controlRespuesta",id:"bEliminar",onClick:t[1]||(t[1]=(...l)=>r.eliminarse&&r.eliminarse(...l))}," Eliminar ")):Te("",!0)])])}const BM=Qe(AM,[["render",MM],["__scopeId","data-v-8192fae5"]]),UM=Se`
  query($idConversacion: ID!, $pagina: Int!) {
    respuestasPaginaDeConversacion(
      idConversacion: $idConversacion
      pagina: $pagina
    ) {
      pagina
      numPaginas
      respuestas {
        ...fragRespuesta
      }
    }
  }
  ${Kb}
`,$M={components:{Respuesta:BM,CuadroResponder:Xb},name:"Conversacion",apollo:{numPaginas:{query:UM,variables(){return{idConversacion:this.estaConversacion.id,pagina:this.numPaginaSeleccionada}},update({respuestasPaginaDeConversacion:{pagina:e,numPaginas:t,respuestas:o}}){return this.$set(this.respuestasPorPagina,e,o),this.numPaginaSeleccionada!=e&&(this.numPaginaSeleccionada=e),this.loading=!1,t},skip(){return!this.seleccionado},fetchPolicy:"no-cache"}},data(){return{numPaginas:0,numPaginaSeleccionada:0,respuestasPorPagina:{},loading:!0}},props:{estaConversacion:{type:Object,default(){return{respuestas:[]}}},idForo:String,parent:Object,seleccionado:Boolean,usuarioMiembro:{type:Boolean,default:!1}},methods:{addRespuesta(e){var t=this.numPaginas;(this.respuestasPorPagina[t].length>=5||t<1)&&(t++,this.respuestasPorPagina[t]||this.$set(this.respuestasPorPagina,t,[])),this.respuestasPorPagina[t].push(e),this.$refs.cuadroResponder.cerrarse(),this.numPaginaSeleccionada!=t&&(this.numPaginaSeleccionada=t),console.log("Emitiendo 'respuesta publicada'"),this.$emit("respuestaPublicada")},updateRespuestaEliminada(e,t){console.log(`Respuesta ${e} eliminada de la pagina ${t}`),this.numPaginas==1&&this.respuestasPorPagina[1].length<2?(console.log("Era la ultima respuesta"),this.$emit("meElimine")):(console.log("Refreshing respuestas pagina"),this.$apollo.queries.numPaginas.refresh())},citarRespuesta(e){this.$refs.cuadroResponder.interpolarQuote(e)}},computed:{cantidadRespuestasLeidasUsuario(){if(this.usuario&&this.usuario.foros){const e=this.usuario.foros.find(o=>o.idForo==this.idForo);if(!e)return 0;const t=e.conversaciones.find(o=>o.idConversacion==this.estaConversacion.id);return t?t.respuestasLeidas:0}else return 0},fechaFormateada:function(){if(!this.estaConversacion.infoUltimaRespuesta||!this.estaConversacion.infoUltimaRespuesta.fecha)return"Fecha desconocida";let e=new Date(this.estaConversacion.infoUltimaRespuesta.fecha).toString(),t=e.indexOf("("),o=e.substr(0,t),i=o.indexOf("GMT");return i>-1&&(o=o.substr(0,i)),o}},watch:{seleccionado(e,t){e&&!t&&this.$emit("meAbrieron")}}},e0=e=>(ot("data-v-4ee811e9"),e=e(),nt(),e),jM={class:"infoConversacion"},qM={class:"tituloConversacion"},HM=e0(()=>g("img",{src:Xv,alt:"Conversacion",class:"imagenConversacion"},null,-1)),VM={class:"datosConversacion"},zM={key:0,class:"zonaSelectorPaginas"},QM=["onClick"],GM={class:"zonaRespuestas"},WM={class:"zonaPaginas"},KM=e0(()=>g("div",{class:"controlesConversacion"},null,-1));function JM(e,t,o,i,n,r){const a=Re("respuesta"),l=Re("cuadro-responder");return J(),re("div",{class:Ae(["conversacion",{seleccionado:o.seleccionado,deshabilitado:o.seleccionado&&n.loading,conRespuestasNoLeidas:o.estaConversacion.cantidadRespuestas>r.cantidadRespuestasLeidasUsuario}])},[g("div",jM,we(o.estaConversacion.cantidadRespuestas)+" publicacion"+we(o.estaConversacion.cantidadRespuestas>1?"es":"")+". Última publicación en "+we(r.fechaFormateada),1),g("div",qM,[HM,dt(" "+we(o.estaConversacion.titulo)+" ",1),g("span",VM,[W(g("span",{class:"dato datoRespuestasNoLeidas",title:"Respuestas nuevas en esta conversación"},we(o.estaConversacion.cantidadRespuestas-r.cantidadRespuestasLeidasUsuario),513),[[Z,o.estaConversacion.cantidadRespuestas>r.cantidadRespuestasLeidasUsuario]])])]),n.numPaginas>0?W((J(),re("div",zM,[(J(!0),re(Me,null,Ve(n.numPaginas,s=>(J(),re("div",{class:Ae(["selectorPagina",{selectorSeleccionado:s==n.numPaginaSeleccionada}]),key:s,onClick:c=>n.numPaginaSeleccionada=s},we(s),11,QM))),128))],512)),[[Z,o.seleccionado]]):Te("",!0),W(g("div",GM,[g("div",WM,[(J(!0),re(Me,null,Ve(n.numPaginas,s=>W((J(),re("div",{class:"pagina",key:"pagina"+s},[(J(!0),re(Me,null,Ve(n.respuestasPorPagina[s],c=>(J(),We(a,{key:c.id,idConversacion:o.estaConversacion.id,estaRespuesta:c,onMeQuierenCitar:r.citarRespuesta,onMeElimine:u=>r.updateRespuestaEliminada(c.id,s)},null,8,["idConversacion","estaRespuesta","onMeQuierenCitar","onMeElimine"]))),128))])),[[Z,n.numPaginaSeleccionada==s]])),128))]),e.usuarioLogeado&&(o.estaConversacion.acceso=="publico"||o.usuarioMiembro==!0)&&o.estaConversacion.id?(J(),We(l,{key:0,ref:"cuadroResponder",parent:o.parent,idConversacion:o.estaConversacion.id,onHiceRespuesta:t[0]||(t[0]=s=>r.addRespuesta(s))},null,8,["parent","idConversacion"])):Te("",!0)],512),[[Z,o.seleccionado]]),KM],2)}const YM=Qe($M,[["render",JM],["__scopeId","data-v-4ee811e9"]]),ZM=/[^ a-zA-ZÀ-ž0-9_():.,-¡!¿?]/,XM=Se`
  query($idForo: ID!) {
    foro(idForo: $idForo) {
      id
      acceso
      miembros
    }
  }
`,e5=Se`
  query($idForo: ID!, $pagina: Int!) {
    conversacionesPaginaForo(idForo: $idForo, pagina: $pagina) {
      pagina
      numPaginas
      conversaciones {
        ...fragConversacion
      }
    }
  }
  ${Jb}
`,t5={components:{Conversacion:YM,CuadroResponder:Xb},name:"Foro",apollo:{esteForo:{query:XM,variables(){return{idForo:this.idForo}},fetchPolicy:"cache-and-network",update:e=>e.foro,skip(){return!this.idForo}},numPaginas:{query:e5,variables(){return{idForo:this.idForo,pagina:this.numPaginaSeleccionada}},fetchPolicy:"no-cache",skip(){return!this.idForo},update({conversacionesPaginaForo:{conversaciones:e,pagina:t,numPaginas:o}}){return this.numPaginaSeleccionada!=t&&(this.numPaginaSeleccionada=t),this.conversacionesPorPagina[t]=e,o}}},props:{idForo:String,parent:Object},data(){return{esteForo:{miembros:[],conversaciones:[]},idConversacionSeleccionada:null,creandoConversacion:!1,numPaginaSeleccionada:0,conversacionesPorPagina:{},tituloNuevaConversacion:null}},methods:{addConversacion(e){this.creandoConversacion=!1,this.setTodaConversacionLeida(e.id),this.tituloNuevaConversacion=null,this.numPaginaSeleccionada=1,this.$apollo.queries.numPaginas.refetch()},refreshPagina(){this.idConversacionSeleccionada=null,this.$apollo.queries.numPaginas.refresh()},setTodaConversacionLeida(e){!this.usuario||!this.usuario.id||(console.log("Setting toda conversación leida"),this.$apollo.mutate({mutation:Se`
              mutation($idUsuario: ID!, $idForo: ID!, $idConversacion: ID!) {
                setTodasRespuestasConversacionLeidasPorUsuario(
                  idUsuario: $idUsuario
                  idForo: $idForo
                  idConversacion: $idConversacion
                )
              }
            `,variables:{idUsuario:this.usuario.id,idForo:this.idForo,idConversacion:e}}).then(({data:{setTodasRespuestasConversacionLeidasPorUsuario:t}})=>{console.log(`Resultado: ${t}`),this.$store.commit("setRespuestasLeidasConversacionUsuario",{idForo:this.idForo,idConversacion:e,respuestasLeidas:t})}).catch(t=>{console.log(`Error. E: ${t}`)}))},setConversacionLeida(e,t){!this.usuario||!this.usuario.id||(console.log("Setting conversación leida"),this.$apollo.mutate({mutation:Se`
              mutation(
                $idUsuario: ID!
                $idForo: ID!
                $idConversacion: ID!
                $cantidadRespuestasLeidas: Int!
              ) {
                setCantidadRespuestasConversacionLeidasPorUsuario(
                  idUsuario: $idUsuario
                  idForo: $idForo
                  idConversacion: $idConversacion
                  cantidadRespuestasLeidas: $cantidadRespuestasLeidas
                )
              }
            `,variables:{idUsuario:this.usuario.id,idForo:this.idForo,idConversacion:e,cantidadRespuestasLeidas:parseInt(t)}}).then(({data:{setCantidadRespuestasConversacionLeidasPorUsuario:o}})=>{console.log(`Resultado: ${o}`),o&&this.$store.commit("setRespuestasLeidasConversacionUsuario",{idForo:this.idForo,idConversacion:e,respuestasLeidas:t})}).catch(o=>{console.log(`Error. E: ${o}`)}))}},computed:{usuarioMiembro(){return this.esteForo.acceso=="publico"?!0:!!(this.esteForo.acceso=="privado"&&this.esteForo.miembros.includes(this.usuario.id))},conversacionAbierta(){return this.idConversacionSeleccionada},tituloNuevaConversacionIlegal(){return!!(!this.tituloNuevaConversacion||this.tituloNuevaConversacion.length<1||ZM.test(this.tituloNuevaConversacion))}}},o5=e=>(ot("data-v-2d0c355b"),e=e(),nt(),e),n5={class:"foro"},i5={class:"barraSuperiorForo"},r5={id:"anuncio"},s5={id:"controlesForo"},a5={class:"zonaConversaciones"},c5={key:0,id:"zonaCrearConversacion"},l5=o5(()=>g("h3",null,"Creando conversación",-1)),u5={key:1,class:"zonaSelectorPagina"},d5=["onClick"],f5={key:2,class:"zonaPaginasConversaciones"};function h5(e,t,o,i,n,r){const a=Re("cuadro-responder"),l=Re("conversacion");return J(),re("div",n5,[g("div",i5,[W(g("div",r5," Conversaciones ",512),[[Z,n.idConversacionSeleccionada===null]]),W(g("div",{id:"bRegresarConversaciones",onClick:t[0]||(t[0]=s=>{n.idConversacionSeleccionada=null,e.$apollo.queries.numPaginas.refetch()})}," Volver a conversaciones ",512),[[Z,n.idConversacionSeleccionada!=null]]),g("div",s5,[e.usuarioLogeado&&(n.esteForo.acceso=="publico"||r.usuarioMiembro==!0)&&n.esteForo.id?W((J(),re("div",{key:0,class:"controlesForo botonesControles",id:"bCrearConversacion",onClick:t[1]||(t[1]=s=>n.creandoConversacion=!n.creandoConversacion)},we(n.creandoConversacion?"Cancelar":"Crear conversación"),513)),[[Z,!r.conversacionAbierta]]):Te("",!0)])]),g("div",a5,[e.usuarioLogeado&&(n.esteForo.acceso=="publico"||r.usuarioMiembro==!0)&&n.esteForo.id?W((J(),re("div",c5,[l5,W(g("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=s=>n.tituloNuevaConversacion=s),id:"inputTituloNuevaConversacion",placeholder:"Titulo de la nueva conversación",class:Ae({letrasRojas:r.tituloNuevaConversacionIlegal})},null,2),[[Ke,n.tituloNuevaConversacion]]),Ie(a,{idForo:n.esteForo.id,parent:o.parent,tituloNuevaConversacion:n.tituloNuevaConversacion,class:Ae({deshabilitado:r.tituloNuevaConversacionIlegal}),onHiceConversacion:t[3]||(t[3]=s=>r.addConversacion(s))},null,8,["idForo","parent","tituloNuevaConversacion","class"])],512)),[[Z,n.creandoConversacion]]):Te("",!0),e.numPaginas&&!r.conversacionAbierta?(J(),re("div",u5,[(J(!0),re(Me,null,Ve(e.numPaginas,s=>(J(),re("div",{class:Ae(["selectorPagina",{selectorSeleccionado:s==n.numPaginaSeleccionada}]),key:s,onClick:c=>n.numPaginaSeleccionada=s},we(s),11,d5))),128))])):Te("",!0),e.numPaginas?(J(),re("div",f5,[(J(!0),re(Me,null,Ve(e.numPaginas,s=>(J(),re("div",{class:"paginaConversaciones",key:s}))),128)),(J(!0),re(Me,null,Ve(n.conversacionesPorPagina[n.numPaginaSeleccionada],s=>W((J(),We(l,{key:s.id,estaConversacion:s,seleccionado:n.idConversacionSeleccionada==s.id,usuarioMiembro:r.usuarioMiembro,idForo:o.idForo,parent:o.parent,onClick:c=>n.idConversacionSeleccionada=s.id,onMeAbrieron:c=>r.setTodaConversacionLeida(s.id),onMeElimine:r.refreshPagina,onRespuestaPublicada:c=>r.setTodaConversacionLeida(s.id,s.cantidadRespuestas)},null,8,["estaConversacion","seleccionado","usuarioMiembro","idForo","parent","onClick","onMeAbrieron","onMeElimine","onRespuestaPublicada"])),[[Z,n.idConversacionSeleccionada==s.id||!r.conversacionAbierta]])),128))])):Te("",!0)])])}const p5=Qe(t5,[["render",h5],["__scopeId","data-v-2d0c355b"]]),m5="/caracol/assets/lightbulb-c35fefca.svg",g5="/caracol/assets/readme-6fab676e.svg",v5="/caracol/assets/comments-73835909.svg",ls="/caracol/assets/save-cb166dd5.svg",y5="/caracol/assets/mas-f020d2eb.svg",b5="/caracol/assets/handshake-4991aa21.svg",w5="/caracol/assets/minus-0a59d746.svg",wo=Se`
  query ($idNodo: ID!) {
    nodo(idNodo: $idNodo) {
      nombre
      id
      descripcion
      clases {
        id
        nombre
        idExperto
        descripcion
        interesados
      }
      keywords
      expertos
      posiblesExpertos
      clases {
        id
      }
      idForoPublico
      idForoExpertos
      secciones {
        id
        nombre
        modo
        enlace
        archivos {
          nombre
          primario
        }
        tipoPrimario
      }
      vinculos {
        idRef
        rol
        tipo
      }
    }
  }
`,E5={components:{SeccionNodoConocimiento:hL,Loading:vt,IconoPersonaAutonomo:Wi,Foro:p5},name:"VisorNodoConocimiento",apollo:{esteNodo:{query:wo,variables(){return{idNodo:this.$route.params.idNodo}},update({nodo:e}){return document.title=e.nombre,e}}},data(){return{esteNodo:{expertos:[],posiblesExpertos:[]},mostrandoContenido:"estudiar",mostrandoSeccion:null,mostrandoMenuSecciones:!1,creandoNuevaSeccion:!1,idExpertoSeleccionado:null,enviandoQueryExpertos:!1,editandoNombre:!1,enviandoNuevoNombre:!1,nuevoDescripcion:null,editandoDescripcion:!1}},methods:{deleteArchivoSeccionCache(e,t){const o=this.$apollo.provider.defaultClient,i=o.readQuery({query:wo,variables:{idNodo:this.esteNodo.id}});var n=JSON.parse(JSON.stringify(i)),r=n.nodo.secciones.find(l=>l.id==t);if(!r){console.log("Seccion no encontrada");return}var a=r.archivos.findIndex(l=>l.nombre===e);a>-1?(r.archivos.splice(a,1),o.writeQuery({query:wo,variables:{idNodo:this.esteNodo.id},data:n})):console.log("Archivo no encontrado")},addArchivoSeccionCache(e,t){const o=this.$apollo.provider.defaultClient,i=o.readQuery({query:wo,variables:{idNodo:this.esteNodo.id}});var n=JSON.parse(JSON.stringify(i)),r=n.nodo.secciones.find(a=>a.id==t);r.archivos.push(e),o.writeQuery({query:wo,variables:{idNodo:this.esteNodo.id},data:n})},eliminarSeccion(e){if(!this.usuarioExperto&&!this.usuarioSuperadministrador||!confirm("Eliminando esta sección con todos sus contenidos. ¿Continuar?"))return;console.log(`Enviando mutación de eliminar seccion ${e}`);const t=this;this.$apollo.mutate({mutation:Se`
            mutation ($idNodo: ID!, $idSeccion: ID!) {
              eliminarSeccionNodoConocimiento(
                idNodo: $idNodo
                idSeccion: $idSeccion
              )
            }
          `,variables:{idNodo:this.esteNodo.id,idSeccion:e}}).then(({data:{eliminarSeccionNodoConocimiento:o}})=>{if(console.log(`resultado: ${o}`),o){let n=t.$apollo.provider.defaultClient;const r=n.readQuery({query:wo,variables:{idNodo:t.esteNodo.id}});var i=JSON.parse(JSON.stringify(r));const a=i.nodo.secciones.findIndex(l=>l.id==e);a>-1?(i.nodo.secciones.splice(a,1),n.writeQuery({query:wo,variables:{idNodo:t.esteNodo.id},data:i})):console.log("Seccion no encontrada")}}).catch(o=>{console.log(`Error: E: ${o}`)})},crearNuevaSeccion(){if(!this.usuarioExperto&&!this.usuarioSuperadministrador)return;this.creandoNuevaSeccion=!0;const e=this;this.$apollo.mutate({mutation:Se`
            mutation ($idNodo: ID!) {
              crearNuevaSeccionNodoConocimiento(idNodo: $idNodo) {
                id
                nombre
                modo
                archivos {
                  nombre
                  primario
                }
                tipoPrimario
              }
            }
          `,variables:{idNodo:this.esteNodo.id}}).then(({data:{crearNuevaSeccionNodoConocimiento:t}})=>{let o=e.$apollo.provider.defaultClient;const i=o.readQuery({query:wo,variables:{idNodo:e.esteNodo.id}});var n=JSON.parse(JSON.stringify(i));n.nodo.secciones.push(t),o.writeQuery({query:wo,variables:{idNodo:e.esteNodo.id},data:n}),this.creandoNuevaSeccion=!1}).catch(t=>{console.log(`Error. E: ${t}`),this.creandoNuevaSeccion=!1})},setPrimarioSeccionCache(e,t){const o=this.$apollo.provider.defaultClient,i=o.readQuery({query:wo,variables:{idNodo:this.esteNodo.id}});var n=JSON.parse(JSON.stringify(i)),r=n.nodo.secciones.find(l=>l.id==t);if(!r){console.log("Seccion no encontrada");return}var a=r.archivos.findIndex(l=>l.nombre===e);r.archivos.forEach(l=>l.primario=!1),r.archivos[a].primario=!0,o.writeQuery({query:wo,variables:{idNodo:this.esteNodo.id},data:n})},intentarEntrarExpertos(e){console.log(`enviando id ${this.usuario.id} para entrar a expertos del nodo con id ${this.esteNodo.id}`),this.enviandoQueryExpertos=!0,this.$apollo.mutate({mutation:Se`
            mutation ($idNodo: ID!, $idUsuario: ID!) {
              addExpertoNodo(idNodo: $idNodo, idUsuario: $idUsuario) {
                id
                expertos
                posiblesExpertos
              }
            }
          `,variables:{idNodo:this.esteNodo.id,idUsuario:e}}).then(()=>{this.enviandoQueryExpertos=!1}).catch(t=>{this.enviandoQueryExpertos=!1,console.log("error: "+t)})},abandonarListaExpertos(e){console.log("Abandonando la responsabilidad en este nodo"),!(!this.usuarioExperto&&!this.esteNodo.posiblesExpertos.includes(this.usuario.id))&&(this.enviandoQueryExpertos=!0,this.$apollo.mutate({mutation:Se`
            mutation ($idNodo: ID!, $idUsuario: ID!) {
              removeExpertoNodo(idNodo: $idNodo, idUsuario: $idUsuario) {
                id
                expertos
                posiblesExpertos
              }
            }
          `,variables:{idNodo:this.esteNodo.id,idUsuario:e}}).then(()=>{this.enviandoQueryExpertos=!1}).catch(t=>{this.enviandoQueryExpertos=!1,console.log("error: "+t)}))},iniciarEdicionNombre(){!this.usuarioExperto&&!this.usuarioAdministradorAtlas&&!this.usuarioSuperadministrador||(this.$refs.inputNuevoNombre.value=this.esteNodo.nombre,this.editandoNombre=!0)},guardarNuevoNombre(){var e=this.$refs.inputNuevoNombre.value.trim();if(e==this.esteNodo.nombre){this.editandoNombre=!1;return}if(!(e.length<1)){if(ss.test(e)){console.log("Caracteres ilegales");return}console.log("guardando nuevo nombre"),this.enviandoNuevoNombre=!0,this.$apollo.mutate({mutation:Se`
            mutation ($idNodo: ID!, $nuevoNombre: String!) {
              editarNombreNodo(idNodo: $idNodo, nuevoNombre: $nuevoNombre) {
                modificados {
                  id
                  nombre
                }
              }
            }
          `,variables:{idNodo:this.esteNodo.id,nuevoNombre:e}}).then(t=>{console.log(`fin de la mutacion. Data: ${JSON.stringify(t)} `),this.enviandoNuevoNombre=!1,this.editandoNombre=!1}).catch(t=>{this.enviandoNuevoNombre=!1,console.log(`Error. E :${t}`)})}},toggleEditandoDescripcion(){!this.usuarioExperto&&!this.usuarioSuperadministrador&&!this.usuarioAdministradorAtlas||(this.$refs.inputNuevoDescripcion.style.height=this.$refs.descripcion.offsetHeight+"px",this.editandoDescripcion=!this.editandoDescripcion,this.nuevoDescripcion=this.esteNodo.descripcion,this.editandoDescripcion&&this.$nextTick(()=>{this.$refs.inputNuevoDescripcion.focus()}))},guardarNuevoDescripcion(){var e=this.$refs.inputNuevoDescripcion.value;if(e==this.esteNodo.descripcion){this.editandoDescripcion=!1;return}console.log("guardando nuevo descripcion"),this.enviandoNuevoDescripcion=!0,this.$apollo.mutate({mutation:Se`
            mutation (
              $idNodo: ID!
              $nuevoDescripcion: String!
            ) {
              editarDescripcionNodoConocimiento(
                idNodo: $idNodo
                nuevoDescripcion: $nuevoDescripcion
              ) {
                id
                descripcion
              }
            }
          `,variables:{idNodo:this.esteNodo.id,nuevoDescripcion:e}}).then(()=>{this.enviandoNuevoDescripcion=!1,this.editandoDescripcion=!1}).catch(t=>{this.enviandoNuevoDescripcion=!1,console.log(`Error. E :${t}`)})}},computed:{seccionSeleccionada(){return this.mostrandoSeccion?this.esteNodo.secciones.find(e=>e.id===this.mostrandoSeccion):null},usuarioExperto:function(){return!this.esteNodo.expertos||!this.usuarioLogeado?!1:!!this.esteNodo.expertos.includes(this.usuario.id)},usuarioAdministradorAtlas:function(){return this.usuario.permisos?!!this.usuario.permisos.includes("atlasAdminstrador"):!1},infoAsParent(){return{id:this.esteNodo.id,tipo:"nodoConocimiento",nombre:this.esteNodo.nombre}}}},$o=e=>(ot("data-v-4513f43b"),e=e(),nt(),e),A5={class:"visorNodoConocimiento"},_5={id:"zonaTitulo"},C5=$o(()=>g("div",{id:"iconoNodo"},[g("img",{src:m5,alt:"Idea"})],-1)),S5={id:"zonaNombre"},N5={id:"zonaSelectoresContenido"},x5=["title"],T5=$o(()=>g("img",{src:g5,alt:"Readme"},null,-1)),I5=[T5],P5=["title"],D5=$o(()=>g("img",{src:Vd,alt:"Teacher"},null,-1)),k5=[D5],R5=["title"],O5=$o(()=>g("img",{src:v5,alt:"Readme"},null,-1)),F5=[O5],L5={id:"zonaContenidos"},M5={id:"zonaSecciones"},B5={id:"zonaTituloSeccion"},U5={class:"contenedorControles"},$5=$o(()=>g("img",{src:Qi,alt:"Plus"},null,-1)),j5=[$5],q5=["onClick"],H5={class:"nombreSeccionSelector"},V5=["onClick"],z5=$o(()=>g("img",{src:ni,alt:"Eliminar"},null,-1)),Q5=[z5],G5={id:"zonaDescripcion"},W5={class:"contenedorBotonesCampo"},K5={id:"zonaExpertos"},J5={class:"contenedorControles"},Y5=["title"],Z5=$o(()=>g("img",{src:y5,alt:"Mas"},null,-1)),X5=[Z5],eB=$o(()=>g("img",{src:b5,alt:"Handshake"},null,-1)),tB=[eB],oB=$o(()=>g("img",{src:w5,alt:"Menos"},null,-1)),nB=[oB],iB={id:"zonaForos",ref:"zonaForos"},rB={key:0,class:"nombreForo"},sB={key:2},aB=$o(()=>g("div",{class:"nombreForo"},"Foro público",-1));function cB(e,t,o,i,n,r){const a=Re("loading"),l=Re("seccion-nodo-conocimiento"),s=Re("icono-persona-autonomo"),c=Re("foro");return J(),re("div",A5,[W(Ie(a,{texto:""},null,512),[[Z,e.$apollo.queries.esteNodo.loading]]),W(g("div",_5,[C5,g("div",S5,[W(g("div",{id:"nombre",onClick:t[0]||(t[0]=(...u)=>r.iniciarEdicionNombre&&r.iniciarEdicionNombre(...u))},we(n.esteNodo.nombre),513),[[Z,!n.editandoNombre]]),W(g("input",{onKeypress:t[1]||(t[1]=xt(De((...u)=>r.guardarNuevoNombre&&r.guardarNuevoNombre(...u),["prevent"]),["enter"])),ref:"inputNuevoNombre",style:{width:"250px"},onBlur:t[2]||(t[2]=(...u)=>r.guardarNuevoNombre&&r.guardarNuevoNombre(...u)),type:"text",class:"inputNombreCosa",id:"inputNuevoNombre"},null,544),[[Z,n.editandoNombre]])])],512),[[Z,!e.$apollo.queries.esteNodo.loading]]),W(g("div",N5,[g("div",{class:Ae(["boton selectorContenido selector",{activo:n.mostrandoContenido==="estudiar"}]),title:n.mostrandoContenido!="estudiar"?"Mostrar contenido":"",onClick:t[3]||(t[3]=u=>n.mostrandoContenido="estudiar")},I5,10,x5),g("div",{class:Ae(["boton selectorContenido selector",{activo:n.mostrandoContenido==="expertos"}]),title:n.mostrandoContenido!="expertos"?"Mostrar expertos":"",onClick:t[4]||(t[4]=u=>n.mostrandoContenido="expertos")},k5,10,P5),g("div",{class:Ae(["boton selectorContenido selector",{activo:n.mostrandoContenido==="foros"}]),title:n.mostrandoContenido!="foros"?"Mostrar foros":"",onClick:t[5]||(t[5]=u=>n.mostrandoContenido="foros")},F5,10,R5)],512),[[Z,!e.$apollo.queries.esteNodo.loading]]),W(g("div",L5,[W(g("div",M5,[W(g("div",B5,[g("div",{id:"nombreSeccionSeleccionada",onClick:t[6]||(t[6]=u=>n.mostrandoMenuSecciones=!0)},we(r.seccionSeleccionada?r.seccionSeleccionada.nombre:"Descripción"),1)],512),[[Z,!n.mostrandoMenuSecciones]]),W(g("div",{id:"contenedorSelectoresSeccion",onClick:t[9]||(t[9]=u=>n.mostrandoMenuSecciones=!1)},[g("div",U5,[r.usuarioExperto?W((J(),re("div",{key:0,class:"boton",title:"Crear nueva sección",onClick:t[7]||(t[7]=De((...u)=>r.crearNuevaSeccion&&r.crearNuevaSeccion(...u),["stop"]))},j5,512)),[[Z,!n.creandoNuevaSeccion]]):Te("",!0),W(Ie(a,{text:""},null,512),[[Z,n.creandoNuevaSeccion]])]),g("div",{class:"selectorSeccion",onClick:t[8]||(t[8]=u=>n.mostrandoSeccion=null)}," Descripcion "),(J(!0),re(Me,null,Ve(n.esteNodo.secciones,u=>(J(),re("div",{class:"selectorSeccion",onClick:f=>n.mostrandoSeccion=u.id,key:u.id},[g("div",H5,we(u.nombre),1),W(g("div",{class:"boton",title:"Eliminar",onClick:De(f=>r.eliminarSeccion(u.id),["stop"])},Q5,8,V5),[[Z,r.usuarioExperto||e.usuarioSuperadministrador]])],8,q5))),128))],512),[[Z,n.mostrandoMenuSecciones]]),W(g("div",G5,[W(g("div",{id:"descripcion",class:"contenidoTexto",ref:"descripcion",onClick:t[10]||(t[10]=(...u)=>r.toggleEditandoDescripcion&&r.toggleEditandoDescripcion(...u))},we(n.esteNodo.descripcion),513),[[Z,!n.editandoDescripcion]]),W(g("textarea",{id:"inputNuevoDescripcion",ref:"inputNuevoDescripcion",class:"inputTextoNodo","onUpdate:modelValue":t[11]||(t[11]=u=>n.nuevoDescripcion=u)},null,512),[[Ke,n.nuevoDescripcion],[Z,n.editandoDescripcion]]),W(g("div",W5,[g("img",{src:ls,class:"botonGuardarCampo",alt:"Guardar",title:"Guardar descripción",id:"botonGuardarDescripcion",onClick:t[12]||(t[12]=(...u)=>r.guardarNuevoDescripcion&&r.guardarNuevoDescripcion(...u))}),g("img",{src:xo,class:"botonGuardarCampo",alt:"Cancelar",title:"Cancelar edición",id:"botonCancelarEdicionDescripcion",onClick:t[13]||(t[13]=u=>n.editandoDescripcion=!1)})],512),[[Z,n.editandoDescripcion]])],512),[[Z,!r.seccionSeleccionada&&!n.mostrandoMenuSecciones]]),n.esteNodo.id&&r.seccionSeleccionada?W((J(),We(l,{key:r.seccionSeleccionada.id,idNodo:n.esteNodo.id,estaSeccion:r.seccionSeleccionada,usuarioExperto:r.usuarioExperto,onSubiArchivo:t[14]||(t[14]=u=>r.addArchivoSeccionCache(u,r.seccionSeleccionada.id)),onArchivoEliminado:t[15]||(t[15]=u=>r.deleteArchivoSeccionCache(u,r.seccionSeleccionada.id)),onTengoNuevoPrimario:t[16]||(t[16]=u=>r.setPrimarioSeccionCache(u,r.seccionSeleccionada.id))},null,8,["idNodo","estaSeccion","usuarioExperto"])),[[Z,r.seccionSeleccionada&&!n.mostrandoMenuSecciones]]):Te("",!0)],512),[[Z,n.mostrandoContenido==="estudiar"]]),W(g("div",K5,[g("div",J5,[W(g("div",{class:"boton",title:n.esteNodo.expertos.length<1?"Asumir":"Quiero aportar como experto en este tema",onClick:t[17]||(t[17]=u=>r.intentarEntrarExpertos(e.usuario.id))},X5,8,Y5),[[Z,!n.enviandoQueryExpertos&&!n.idExpertoSeleccionado&&!r.usuarioExperto]]),W(g("div",{class:"boton",title:"Aceptar como experto",onClick:t[18]||(t[18]=u=>r.intentarEntrarExpertos(n.idExpertoSeleccionado))},tB,512),[[Z,!n.enviandoQueryExpertos&&n.idExpertoSeleccionado&&(n.esteNodo.posiblesExpertos.includes(n.idExpertoSeleccionado)&&r.usuarioExperto||e.usuarioSuperadministrador||r.usuarioAdministradorAtlas)]]),W(g("div",{class:"boton",title:"abandonar",onClick:t[19]||(t[19]=u=>r.abandonarListaExpertos(e.usuario.id))},nB,512),[[Z,!n.enviandoQueryExpertos&&!n.idExpertoSeleccionado&&(r.usuarioExperto||n.esteNodo.posiblesExpertos.includes(n.idExpertoSeleccionado))]]),W(Ie(a,{texto:""},null,512),[[Z,n.enviandoQueryExpertos]])]),g("div",{id:"listaExpertos",class:"listaPersonas",onClick:t[20]||(t[20]=De(u=>n.idExpertoSeleccionado=null,["self"]))},[(J(!0),re(Me,null,Ve(n.esteNodo.expertos.concat(n.esteNodo.posiblesExpertos),u=>(J(),We(s,{texto:"",seleccionado:n.idExpertoSeleccionado===u,key:u,factorEscala:"0.8",style:qe({opacity:n.esteNodo.posiblesExpertos.includes(u)?.5:1}),idPersona:u,onClick:f=>n.idExpertoSeleccionado=u},null,8,["seleccionado","style","idPersona","onClick"]))),128))])],512),[[Z,n.mostrandoContenido==="expertos"]]),W(g("div",iB,[r.usuarioExperto?(J(),re("div",rB,"Foro expertos")):Te("",!0),r.usuarioExperto?(J(),We(c,{key:1,parent:r.infoAsParent,idForo:n.esteNodo.idForoExpertos},null,8,["parent","idForo"])):Te("",!0),r.usuarioExperto?(J(),re("br",sB)):Te("",!0),aB,Ie(c,{parent:r.infoAsParent,idForo:n.esteNodo.idForoPublico},null,8,["parent","idForo"])],512),[[Z,n.mostrandoContenido=="foros"]])],512),[[Z,!e.$apollo.queries.esteNodo.loading]])])}const Ag=Qe(E5,[["render",cB],["__scopeId","data-v-4513f43b"]]),lB={components:{Loading:vt},name:"NodoGrado",props:{esteNodo:Object,completado:Boolean,colorSubruta:String,seleccionado:Boolean,idUsuario:String},data(){return{menuCx:!1,mostrandoDescripcion:!1,togglingEstadoCompletado:!1}},computed:{colorBolita(){var e=this.colorSubruta;return this.completado&&(e="var(--atlasVerde)"),{backgroundColor:e}}},methods:{abrirDescripcion(){this.$emit("seleccioname"),this.mostrandoDescripcion=!0,this.menuCx=!1},abrirMenuCx(){this.$emit("seleccioname"),this.menuCx=!0},toggleCompletado(){if(!this.usuarioSuperadministrador&&!this.usuarioProfe){console.log("No autorizado");return}const e=!this.completado;this.togglingEstadoCompletado=!0,this.$apollo.mutate({mutation:Se`
            mutation ($idUsuario: ID!, $idNodo: ID!, $nuevoEstado: Boolean!) {
              setNodoGradoCompletadoUsuario(
                idUsuario: $idUsuario
                idNodo: $idNodo
                nuevoEstado: $nuevoEstado
              ) {
                id
                nodosCompletadosRutaGrado
              }
            }
          `,variables:{idUsuario:this.idUsuario,idNodo:this.esteNodo.id,nuevoEstado:e}}).then(()=>{this.togglingEstadoCompletado=!1}).catch(t=>{console.log("Error: "+t),this.togglingEstadoCompletado=!1})}},watch:{seleccionado(e){e||(this.menuCx=!1,this.mostrandoDescripcion=!1)}}},uB=e=>(ot("data-v-2ff4edc1"),e=e(),nt(),e),dB={id:"cartel"},fB=uB(()=>g("img",{src:qd,alt:"Opciones",style:{}},null,-1)),hB=[fB];function pB(e,t,o,i,n,r){const a=Re("loading");return J(),re("div",{class:Ae(["nodoGrado",o.seleccionado]),onContextmenu:t[5]||(t[5]=De((...l)=>r.abrirMenuCx&&r.abrirMenuCx(...l),["prevent"])),onDblclick:t[6]||(t[6]=De((...l)=>r.abrirDescripcion&&r.abrirDescripcion(...l),["stop"]))},[g("div",{id:"laBolita",class:Ae({seleccionado:o.seleccionado}),style:qe([r.colorBolita])},null,6),g("div",dB,[dt(we(o.esteNodo.nombre)+" ",1),e.usuarioSuperadministrador||e.usuarioProfe?W((J(),re("div",{key:0,class:"boton",id:"botonOpciones",onClick:t[0]||(t[0]=De((...l)=>r.abrirMenuCx&&r.abrirMenuCx(...l),["stop"]))},hB,512)),[[Z,o.seleccionado]]):Te("",!0)]),W(g("div",{class:"menuContextual",onClick:t[4]||(t[4]=De(()=>{},["stop"]))},[g("div",{class:"botonMenuCx",onClick:t[1]||(t[1]=(...l)=>r.abrirDescripcion&&r.abrirDescripcion(...l))},"Ver descripción"),e.usuarioSuperadministrador?(J(),re("div",{key:0,class:"botonMenuCx",onClick:t[2]||(t[2]=l=>e.$emit("setColorSubruta"))}," Set color subruta ")):Te("",!0),e.usuarioSuperadministrador||e.usuarioProfe?(J(),re("div",{key:1,class:Ae(["botonMenuCx",{deshabilitado:n.togglingEstadoCompletado}]),onClick:t[3]||(t[3]=(...l)=>r.toggleCompletado&&r.toggleCompletado(...l))},[W(Ie(a,null,null,512),[[Z,n.togglingEstadoCompletado]]),dt(" "+we(o.completado?"Desmarcar como completado":"Marcar como completado"),1)],2)):Te("",!0)],512),[[Z,n.menuCx]]),W(g("div",{id:"descripcion"},we(o.esteNodo.descripcion),513),[[Z,n.mostrandoDescripcion]])],34)}const mB=Qe(lB,[["render",pB],["__scopeId","data-v-2ff4edc1"]]),gB={components:{NodoGrado:mB},name:"RutaGrado",props:{idUsuario:String},apollo:{subrutas:{query:Se`
        query {
          subrutasGradoMaestraVida {
            id
            nombre
            color
            nodos {
              id
              nombre
              descripcion
            }
          }
        }
      `,update({subrutasGradoMaestraVida:e}){return e}},nodosCompletados:{query:Se`
        query ($idUsuario: ID!) {
          Usuario(idUsuario: $idUsuario) {
            id
            nodosCompletadosRutaGrado
          }
        }
      `,update({Usuario:e}){return e.nodosCompletadosRutaGrado},variables(){return{idUsuario:this.idUsuario}}}},data(){return{subrutas:[],nodosCompletados:[],idNodoSeleccionado:null,settingColorSubruta:!1}},methods:{setColorSubruta(e){let t=prompt("Introduce el código del nuevo color");this.settingColorSubruta=!0,this.$apollo.mutate({mutation:Se`
          mutation($idSubruta: ID!, $nuevoColor: String!){
            setColorSubrutaGrado(idSubruta: $idSubruta, nuevoColor: $nuevoColor){
               id
               color
            }
          }
          `,variables:{idSubruta:e,nuevoColor:t}}).then(()=>{this.settingColorSubruta=!1}).catch(o=>{console.log("Error: "+o),this.settingColorSubruta=!1})}}},t0=e=>(ot("data-v-fbf72c0b"),e=e(),nt(),e),vB=t0(()=>g("div",{id:"titulo",class:"tituloComponente"},"Ruta de grado",-1)),yB={id:"laRutaGrado"},bB=t0(()=>g("div",{class:"lineaRuta"},null,-1));function wB(e,t,o,i,n,r){const a=Re("nodo-grado");return J(),re("div",{class:"rutaGrado",onClick:t[0]||(t[0]=l=>n.idNodoSeleccionado=null)},[vB,g("div",yB,[(J(!0),re(Me,null,Ve(n.subrutas,l=>(J(),re("div",{class:"subruta",key:l.id},[bB,(J(!0),re(Me,null,Ve(l.nodos,s=>(J(),We(a,{key:s.id,esteNodo:s,completado:n.nodosCompletados.includes(s.id),colorSubruta:l.color,seleccionado:n.idNodoSeleccionado===s.id,idUsuario:o.idUsuario,onSetColorSubruta:c=>r.setColorSubruta(l.id),onClick:De(c=>n.idNodoSeleccionado=n.idNodoSeleccionado===s.id?null:s.id,["stop"]),onSeleccioname:c=>n.idNodoSeleccionado=s.id},null,8,["esteNodo","completado","colorSubruta","seleccionado","idUsuario","onSetColorSubruta","onClick","onSeleccioname"]))),128))]))),128))])])}const o0=Qe(gB,[["render",wB],["__scopeId","data-v-fbf72c0b"]]);var Ll=/[^a-zA-Z0-9_ñÑ]/g;const _g=6,Ml=4,EB={name:"LoginArea",components:{Loading:vt},data(){return{username:"",password:"",loginFail:!1,loginFailMsg:"",enviandoDatos:!1}},computed:{usuarioConectado(){return this.usuario.username!=null},nombreUsuario(){return this.usuario.username},colorUsername(){return{color:Ll.test(this.username)||this.username.length<Ml?"red":"black"}},passIlegal(){return this.password.length<_g},usernameIlegal(){return!!(!this.username||Ll.test(this.username)||this.username.length<Ml)}},methods:{iniciarSesion:function(){console.log("Iniciando login");let e=this;var t=this.$refs.inputPassword.value,o=this.$refs.inputUsername.value;if(console.log("Con pass length: "+this.password.length),this.password.length<_g){console.log("Password ilegal");return}if(Ll.test(this.username)||this.username.length<Ml){console.log("Username ilegal");return}this.enviandoDatos=!0,console.log("query"),this.$apollo.query({query:Et`
            query ($username: String!, $password: String!) {
              login(username: $username, password: $password)
            }
          `,variables:{username:o,password:t}}).then(({data:{login:i}})=>{this.$emit("logearse",i),e.$router.push("/"),this.enviandoDatos=!1}).catch(i=>{console.log(`Error: ${i}`),this.enviandoDatos=!1})}}},Ki=e=>(ot("data-v-bcce45b1"),e=e(),nt(),e),AB={id:"loginArea"},_B={id:"ventanaCentral"},CB=Ki(()=>g("p",{id:"tituloVentana"},"¡Bienvenidx!",-1)),SB=Ki(()=>g("br",null,null,-1)),NB=Ki(()=>g("div",{class:"instruccion"},"Escribe tus datos de login",-1)),xB=Ki(()=>g("br",null,null,-1)),TB=Ki(()=>g("br",null,null,-1)),IB=Ki(()=>g("br",null,null,-1));function PB(e,t,o,i,n,r){const a=Re("loading");return J(),re("div",AB,[g("div",_B,[g("form",null,[CB,SB,NB,W(g("input",{type:"text",name:"username",style:qe(r.colorUsername),"onUpdate:modelValue":t[0]||(t[0]=l=>n.username=l),ref:"inputUsername",placeholder:"Nombre de usuario",class:"inputs",onInput:t[1]||(t[1]=l=>n.loginFail=!1)},null,36),[[Ke,n.username]]),xB,W(g("input",{type:"password",name:"password",ref:"inputPassword",class:"inputs","onUpdate:modelValue":t[2]||(t[2]=l=>n.password=l),placeholder:"password",onInput:t[3]||(t[3]=l=>n.loginFail=!1),onKeypress:t[4]||(t[4]=xt((...l)=>r.iniciarSesion&&r.iniciarSesion(...l),["enter"]))},null,544),[[Ke,n.password]]),TB,IB,W(Ie(a,{texto:"Conectando..."},null,8,["texto"]),[[Z,n.enviandoDatos]]),g("div",{class:Ae(["botonEnviar",{loginFail:n.loginFail,desaparecido:n.enviandoDatos,deshabilitado:r.passIlegal}]),onClick:t[5]||(t[5]=De((...l)=>r.iniciarSesion&&r.iniciarSesion(...l),["stop","prevent"]))},we(n.loginFail?n.loginFailMsg:"Ingresar"),3)])])])}const DB=Qe(EB,[["render",PB],["__scopeId","data-v-bcce45b1"]]),kB=/\s\s+/,Cg=6,RB=40,ii=Et`
fragment fragEventoPersonal on EventoPersonal{
  id
  idPersona
  idsParticipantes
  idParent
  tipoParent
  nombre
  descripcion
  horarioInicio
  horarioFinal
  idEventoMarco
  lugar  

}
`,Ji=Et`
fragment fragEventoPublico on EventoPublico{
  id
  nombre
  descripcion
  idAdministrador
  limiteDeCupos
  horarioInicio
  horarioFinal
  participantes
  lugar
  idParent
  tipoParent
  eventosEnmarcados{
    ...fragEventoPersonal
    nombresPersona
  }
}
${ii}
`,Sg=["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sábado"],Ng=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],us={data(){return{}},computed:{tipoEvento(){return this.esteEvento.__typename.charAt(0).toLowerCase()+this.esteEvento.__typename.slice(1)},dateInicio(){return new Date(this.esteEvento.horarioInicio)},fechaInicioFormateada(){return this.dateInicio.toISOString().split("T")[0]},fechaFinalFormateada(){return this.dateFinal.toISOString().split("T")[0]},dateFinal(){return new Date(this.esteEvento.horarioFinal)},horarioInicioFormateado(){return this.timesLegibles.horarioInicio.horas+":"+this.timesLegibles.horarioInicio.minutos},horarioFinalFormateado(){return this.timesLegibles.horarioFinal.horas+":"+this.timesLegibles.horarioFinal.minutos},fechaInicioLegible(){const e=Sg[this.dateInicio.getDay()],t=this.dateInicio.getDate(),o=Ng[this.dateInicio.getMonth()];return e+" "+t+" de "+o},horaInicioLegible(){var e=this.dateInicio.getHours(),t=this.dateInicio.getMinutes();return(""+e).length<2&&(e="0"+e),(""+t).length<2&&(t="0"+t),e+":"+t},dateInicioLegible(){return this.fechaInicioLegible+", "+this.horaInicioLegible},fechaFinalLegible(){const e=Sg[this.dateFinal.getDay()],t=this.dateFinal.getDate(),o=Ng[this.dateFinal.getMonth()];return e+" "+t+" de "+o},horaFinalLegible(){var e=this.dateFinal.getHours(),t=this.dateFinal.getMinutes();return(""+e).length<2&&(e="0"+e),(""+t).length<2&&(t="0"+t),e+":"+t},dateFinalLegible(){return this.fechaFinalLegible+", "+this.horaFinalLegible},timesLegibles(){const e=this.millisInicioLocal%864e5,t=this.millisFinalLocal%864e5;return{horarioInicio:{horas:Math.floor(e/36e5),minutos:e%36e5/6e4},horarioFinal:{horas:Math.floor(t/36e5),minutos:t%36e5/6e4}}},millisFinalLocal(){const e=new Date(this.esteEvento.horarioFinal),t=e.getTime(),o=e.getTimezoneOffset()*6e4;return t-o},millisInicioLocal(){const e=new Date(this.esteEvento.horarioInicio),t=e.getTime(),o=e.getTimezoneOffset()*6e4;return t-o},duracionMinutos(){return Math.round((new Date(this.esteEvento.horarioFinal).getTime()-new Date(this.esteEvento.horarioInicio).getTime())/6e4)},duracionLegible(){const e=Math.floor(this.duracionMinutos/1440),t=Math.floor((this.duracionMinutos-e*1440)/60),o=this.duracionMinutos-e*1440-t*60;var i="";return(o>0||this.duracionMinutos===0)&&(i=o+"min"),t>0&&(i.length>0&&(i=", "+i),i=t+"h"+i),e>0&&(i.length>0&&(i=", "+i),i=e+"dias"+i),i}},methods:{eliminarse(){confirm("¿Confirmar la eliminación de este evento? (Esta acción no puede deshacerse)")&&(!this.administrador&&!this.usuarioSuperadministrador&&!this.usuarioProfe||(this.eliminandose=!0,this.$apollo.mutate({mutation:Se`
                  mutation ($idEvento: ID!, $tipoEvento:String!) {
                    eliminarEvento(idEvento: $idEvento, tipoEvento:$tipoEvento)
                  }
                `,variables:{idEvento:this.esteEvento.id,tipoEvento:this.tipoEvento}}).then(()=>{this.$emit("meElimine")}).catch(e=>{console.log(`Error: ${e}`)})))}}},ef={data(){return{}},computed:{administrador(){return this.usuarioLogeado?this.usuario.id===this.esteEvento.idAdministrador:!1}}},OB={data(){return{}},computed:{administrador(){return this.usuarioLogeado?this.usuario.id===this.esteEvento.idPersona:!1}}},ds={data(){return{nuevoNombre:"Nuevo nombre",editandoNombre:!1,enviandoNuevoNombre:!1,nuevoDescripcion:"Nueva descripcion",editandoDescripcion:!1,enviandoNuevoDescripcion:!1,editandoFechaInicio:!1,editandoHoraInicio:!1,nuevoDuracion:null,enviandoNuevoDateInicio:!1,enviandoNuevoDateFinal:!1,enviandoHorarios:!1,enviandoSomeHorario:!1,nuevoLimiteDeCupos:null,editandoLimiteDeCupos:!1,enviandoNuevoLimiteDeCupos:!1,minRepetir:1,maxRepetir:52,enviandoQueryRepetir:!1}},methods:{guardarNuevoNombre(){if(this.nuevoNombre=this.$refs.inputNuevoNombre.value,this.nuevoNombreIlegal){console.log("No enviado");return}if(this.nuevoNombre==this.esteEvento.nombre){this.editandoNombre=!1;return}console.log("guardando nuevo nombre"),this.enviandoNuevoNombre=!0,this.$apollo.mutate({mutation:Se`
                  mutation ($idEvento: ID!, $tipoEvento:String!, $nuevoNombre: String!) {
                    editarNombreEvento(
                      idEvento: $idEvento
                      tipoEvento:$tipoEvento
                      nuevoNombre: $nuevoNombre
                    ) {
                    __typename
                    ... on EventoPersonal{
                        id
                      nombre
                    }
                    ... on EventoPublico{
                        id
                        nombre
                    }
                    
                    }
                  }
                `,variables:{idEvento:this.esteEvento.id,tipoEvento:this.tipoEvento,nuevoNombre:this.nuevoNombre}}).then(()=>{this.enviandoNuevoNombre=!1,this.editandoNombre=!1}).catch(e=>{this.enviandoNuevoNombre=!1,console.log(`Error. E :${e}`)})},guardarNuevoLimiteDeCupos(){if(this.nuevoLimiteDeCupos=this.$refs.inputNuevoLimiteDeCupos.value,this.nuevoLimiteDeCuposIlegal){console.log("No enviado");return}if(this.nuevoLimiteDeCupos==this.esteEvento.limiteDeCupos){this.editandoLimiteDeCupos=!1;return}console.log("guardando nuevo limite de cupos"),this.enviandonuevoLimiteDeCupos=!0,this.$apollo.mutate({mutation:Se`
                  mutation ($idEvento: ID!, $tipoEvento:String!, $nuevoLimiteDeCupos: Int!) {
                    editarLimiteDeCuposEvento(
                      idEvento: $idEvento
                      tipoEvento:$tipoEvento
                      nuevoLimiteDeCupos: $nuevoLimiteDeCupos
                    ) {
                        id
                      limiteDeCupos                                      
                    }
                  }
                `,variables:{idEvento:this.esteEvento.id,tipoEvento:this.tipoEvento,nuevoLimiteDeCupos:parseInt(this.nuevoLimiteDeCupos)}}).then(()=>{this.enviandoNuevoLimiteDeCupos=!1,this.editandoLimiteDeCupos=!1}).catch(e=>{this.enviandoNuevoLimiteDeCupos=!1,console.log(`Error. E :${e}`)})},guardarNuevoDescripcion(){if(this.nuevoDescripcionIlegal){console.log("No enviado");return}if(this.nuevoDescripcion==this.esteEvento.descripcion){this.editandoDescripcion=!1;return}console.log("guardando nuevo descripcion"),this.enviandoNuevoDescripcion=!0,this.$apollo.mutate({mutation:Se`
                  mutation ($idEvento: ID!, $tipoEvento:String!, $nuevoDescripcion: String!) {
                    editarDescripcionEvento(
                      idEvento: $idEvento
                      tipoEvento: $tipoEvento
                      nuevoDescripcion: $nuevoDescripcion
                    ) {
                        __typename
                        ... on EventoPublico{
                            id
                            descripcion  
                        }
                        ... on EventoPersonal{
                            id
                            descripcion  
                        }
                      
                    }
                  }
                `,variables:{idEvento:this.esteEvento.id,tipoEvento:this.tipoEvento,nuevoDescripcion:this.nuevoDescripcion}}).then(()=>{this.enviandoNuevoDescripcion=!1,this.editandoDescripcion=!1}).catch(e=>{this.enviandoNuevoDescripcion=!1,console.log(`Error. E :${e}`)})},toggleEditandoDescripcion(){this.administrador&&(this.$refs.inputNuevoDescripcion.style.height=this.$refs.descripcion.offsetHeight+"px",this.editandoDescripcion=!this.editandoDescripcion,this.nuevoDescripcion=this.esteEvento.descripcion,this.editandoDescripcion&&this.$nextTick(()=>{this.$refs.inputNuevoDescripcion.focus()}))},toggleEditandoNombre(e){this.administrador&&(e.stopPropagation(),this.editandoNombre=!0,this.nuevoNombre=this.esteEvento.nombre,this.$nextTick(()=>{this.$refs.inputNuevoNombre.focus()}))},toggleEditandoLimiteDeCupos(e){this.administrador&&(e.stopPropagation(),this.editandoLimiteDeCupos=!0,this.nuevoLimiteDeCupos=this.esteEvento.limiteDeCupos,this.$nextTick(()=>{this.$refs.inputNuevoLimiteDeCupos.focus()}))},keydownInputNuevoNombre(e){e.key==="Escape"&&this.$refs.inputNuevoNombre.blur()},setHoraFinal(){var e="hh:mm";this.horaFinalLegible&&(e=this.horaFinalLegible);var t=prompt("Introducir nueva hora de finalización",e);const o=t.indexOf(":"),i=parseInt(t.substr(0,o)),n=parseInt(t.substr(o+1));if(i!=null&&n!=null&&i>=0&&i<24&&n>=0&&n<60){var r=new Date(this.diaCalendarioOver.date);r.setHours(i),r.setMinutes(n),console.log("Se fijará la nueva hora de final en "+r),this.enviarNuevoHorarioFinal(r)}else{console.log("Hora inválida");return}},setHoraInicio(){var e="hh:mm";this.horaInicioLegible&&(e=this.horaInicioLegible);var t=prompt("Introducir nueva hora de inicio",e);const o=t.indexOf(":"),i=parseInt(t.substr(0,o)),n=parseInt(t.substr(o+1));if(i!=null&&n!=null&&i>=0&&i<24&&n>=0&&n<60){var r=new Date(this.diaCalendarioOver.date);r.setHours(i),r.setMinutes(n),console.log("Se fijará la nueva hora de inicio en "+r),this.enviarNuevaDateInicioHoldDuration(r)}else{console.log("Hora inválida");return}},enviarNuevaDateInicioHoldDuration(e){this.enviandoNuevoDateInicio=!0,this.enviandoSomeHorario=!0,this.$apollo.mutate({mutation:Se`
                  mutation ($nuevoDate: Date!, $tipoEvento: String!, $idEvento: ID!) {
                    setDateInicioEventoHoldDuration(
                      nuevoDate: $nuevoDate
                      tipoEvento: $tipoEvento
                      idEvento: $idEvento
                    ) {
                      __typename
                      ... on EventoPersonal{
                        id
                        horarioInicio
                        horarioFinal
                      }
                      ... on EventoPublico{
                        id
                        horarioInicio
                        horarioFinal
                      }
                      
                    }
                  }
                `,variables:{nuevoDate:e,tipoEvento:this.tipoEvento,idEvento:this.esteEvento.id}}).then(()=>{this.$emit("eventoCambioFecha",this.esteEvento),this.enviandoSomeHorario=!1,this.enviandoNuevoDateInicio=!1,this.editandoFechaInicio=!1,this.editandoHoraInicio=!1}).catch(t=>{console.log(`Error: ${t}`),this.enviandoNuevoDateInicio=!1,this.enviandoSomeHorario=!1})},enviarNuevoHorarioFinal(e){this.enviandoNuevoDateFinal=!0,this.enviandoSomeHorario=!0,console.log(`Enviando nuevo horario final: ${e}`),this.$apollo.mutate({mutation:Se`
                    mutation ($nuevoDate: Date!, $tipoEvento: String!, $idEvento: ID!) {
                        setDateFinalEvento(
                        nuevoDate: $nuevoDate
                        tipoEvento: $tipoEvento
                        idEvento: $idEvento
                        ){
                                __typename
                            ... on EventoPersonal{
                                id
                                horarioInicio
                                horarioFinal
                            }
                            ... on EventoPublico{
                                id
                                horarioInicio
                                horarioFinal
                            }
                        }
                  }
                `,variables:{nuevoDate:e,tipoEvento:this.esteEvento.__typename.charAt(0).toLowerCase()+this.esteEvento.__typename.slice(1),idEvento:this.esteEvento.id}}).then(()=>{this.enviandoNuevoDateFinal=!1,this.enviandoSomeHorario=!1,this.editandoDuracion=!1}).catch(t=>{console.log(`Error: ${t}`),this.enviandoNuevoDateFinal=!1,this.enviandoSomeHorario=!1})},iniciarEdicionDuracion(){this.nuevoDuracion=this.esteEvento.horarioFinal-this.esteEvento.horarioInicio,this.editandoDuracion=!0},repetirEvento(e,t){!this.usuarioSuperadministrador&&!this.administrador||(e=parseInt(e),!(e<this.minRepetir||e>this.maxRepetir)&&(console.log(`Se hara query de repetir este evento ${e} veces ${t}`),this.enviandoQueryRepetir=!0,this.$apollo.mutate({mutation:Se`
                mutation($periodoRepetir: String, $cantidadRepetir: Int!, $idEvento:ID!, $tipoEvento:String!){
                  repetirEventoPeriodicamente(periodoRepetir:$periodoRepetir, cantidadRepetir: $cantidadRepetir, idEvento: $idEvento, tipoEvento:$tipoEvento){
                    __typename
                    ...on EventoPublico{
                        ...fragEventoPublico
                    }
                    ...on EventoPersonal{
                        ...fragEventoPersonal
                    }
                  }
                } 
                ${Ji}
                ${ii}
              `,variables:{periodoRepetir:t,cantidadRepetir:e,idEvento:this.esteEvento.id,tipoEvento:this.tipoEvento}}).then(({data:{repetirEventoPeriodicamente:o}})=>{o&&(this.$emit("meRepetiPeriodicamente",o),this.mostrandoZonaRepetir=!1),this.enviandoQueryRepetir=!1}).catch(o=>{console.log(`Error: ${o}`),this.enviandoQueryRepetir=!1})))}},computed:{nuevoNombreIlegal(){return!!(this.nuevoNombre.length<1||ss.test(this.nuevoNombre))},nuevoDescripcionIlegal(){return!!(!this.nuevoDescripcion||this.nuevoDescripcion.length<1||gb.test(this.nuevoDescripcion))},nuevoLimiteDeCuposIlegal(){return!this.nuevoLimiteDeCupos||this.nuevoLimiteDeCupos<1}},watch:{mostrando(e){e!="descripcion"&&(this.editandoDescripcion=!1),e==="descripcion"&&(!this.esteEvento.descripcion||this.esteEvento.descripcion.length<1)&&(this.editandoDescripcion||this.toggleEditandoDescripcion())}}},n0={data(){return{}},methods:{}},i0={props:{idEventoSeleccionado:String,esteEvento:Object,horaPx:Number,seleccionado:Boolean,infoOffset:Object,diaCalendarioOver:Object,enfasis:String,idUsuarioTarget:String},data(){return{eliminandose:!1,recogido:!1}},computed:{duracionMinutos(){return(this.dateFinal.getTime()-this.dateInicio.getTime())/6e4},estiloSize(){return{width:this.duracionMinutos/60*this.horaPx+"px"}},estiloPos(){return{left:(this.dateInicio.getHours()*36e5+this.dateInicio.getMinutes()*6e4)/36e5*this.horaPx+"px",top:this.infoOffset?this.infoOffset.top+"px":"0px"}},estiloZ(){return{zIndex:this.seleccionado?10:0}},claseOffset(){return this.infoOffset.clase}},methods:{},watch:{dateInicio(e){console.log(`Cambio de date inicio. Ahora inicio en ${e}`),(e<this.diaCalendarioOver.date||e.getTime()>this.diaCalendarioOver.date.getTime()+864e5)&&(console.log(`${this.esteEvento.nombre} dice: Me cambiaron de día`),this.$emit("meCambiaronDia",this.esteEvento))}}},r0={data(){return{mostrando:null,esteEvento:{},editandoDateInicio:!1,editandoHorarioFinal:!1,editandoDuracion:!1,mostrandoZonaRepetir:!1,periodoRepetir:"diariamente",cantidadRepetir:1}},methods:{cerrarVentana(){const e=this.tipoEvento==="eventoPublico"?this.$route.path.search("ventanaEventoPublico"):this.tipoEvento==="eventoPersonal"?this.$route.path.search("ventanaEventoPersonal"):null;if(!e)return;const t=this.$route.path.substring(0,e-1);this.$router.push(t)},iniciarEdicionFechaInicio(){!this.administrador&&!this.usuarioSuperadministrador&&!this.usuarioProfe||(console.log(`Iniciando edicion de fecha inicio con ${this.fechaInicioString}`),this.$refs.inputFechaInicio.value=this.fechaInicioFormateada,this.editandoFechaInicio=!0,this.$nextTick(()=>{this.$refs.inputFechaInicio.focus()}))},iniciarEdicionHoraInicio(){!this.administrador&&!this.usuarioSuperadministrador&&!this.usuarioProfe||(this.$refs.inputHoraInicio.value=this.horaInicioLegible,this.editandoHoraInicio=!0,this.$nextTick(()=>{this.$refs.inputHoraInicio.focus()}))},iniciarEdicionDuracion(){!this.administrador&&!this.usuarioSuperadministrador&&!this.usuarioProfe||(console.log(`Iniciando edicion de duración con ${this.duracionMinutos}`),this.$refs.inputDuracion.value=this.duracionMinutos,this.editandoDuracion=!0,this.$nextTick(()=>{this.$refs.inputDuracion.focus()}))},updateDuracion(e){console.log(`Updating duración to ${e} minutos`);const t=new Date(this.dateInicio.getTime()+e*6e4);this.enviarNuevoHorarioFinal(t)},enviarNuevoHorarioFinal(e){this.enviandoNuevoDateFinal=!0,this.enviandoSomeHorario=!0,console.log(`Enviando nuevo horario final: ${e}`),this.$apollo.mutate({mutation:Se`
                    mutation ($nuevoDate: Date!, $tipoEvento: String!, $idEvento: ID!) {
                        setDateFinalEvento(
                        nuevoDate: $nuevoDate
                        tipoEvento: $tipoEvento
                        idEvento: $idEvento
                        ){
                                __typename
                            ... on EventoPersonal{
                                id
                                horarioInicio
                                horarioFinal
                            }
                            ... on EventoPublico{
                                id
                                horarioInicio
                                horarioFinal
                            }
                        }
                  }
                `,variables:{nuevoDate:e,tipoEvento:this.esteEvento.__typename.charAt(0).toLowerCase()+this.esteEvento.__typename.slice(1),idEvento:this.esteEvento.id}}).then(()=>{this.enviandoNuevoDateFinal=!1,this.enviandoSomeHorario=!1,this.editandoDuracion=!1}).catch(t=>{console.log(`Error: ${t}`),this.enviandoNuevoDateFinal=!1,this.enviandoSomeHorario=!1})},updateHorarioInicio(e){const t=e.target.value,o=parseInt(t.substring(0,2)),i=parseInt(t.substring(3));console.log(`nuevoTime: ${t}. ${o} horas y ${i} minutos`);const n=new Date(this.esteEvento.horarioFinal);var r=new Date(this.esteEvento.horarioInicio);console.log(`Actual date: ${r}`),r.setHours(o),r.setMinutes(i),console.log(`Nueva date inicio: ${r}`),!(r>n)&&(this.enviandoNuevoDateInicio=!0,this.$apollo.mutate({mutation:Se`
                  mutation ($nuevoDate: Date!, $tipoEvento: String!, $idEvento: ID!) {
                    setDateInicioEvento(
                      nuevoDate: $nuevoDate
                      tipoEvento: $tipoEvento
                      idEvento: $idEvento
                    ){
                        __typename
                      ... on EventoPersonal{
                        id
                        horarioInicio
                        horarioFinal
                      }
                      ... on EventoPublico{
                        id
                        horarioInicio
                        horarioFinal
                      }
                    }
                  }
                `,variables:{nuevoDate:r,tipoEvento:this.tipoEvento,idEvento:this.esteEvento.id}}).then(()=>{this.enviandoNuevoDateInicio=!1,this.editandoDateInicio=!1}).catch(a=>{console.log(`Error: ${a}`),this.enviandoNuevoDateInicio=!1}))},iniciarEdicionHorarioFinal(){!this.administrador&&!this.usuarioSuperadministrador&&!this.usuarioProfe||(console.log("Iniciando edicion"),this.$refs.inputHorarioFinal.value=this.horaFinalString,this.editandoHorarioFinal=!0,this.$nextTick(()=>{this.$refs.inputHorarioFinal.focus()}))},updateHorarioFinal(e){const t=e.target.value,o=parseInt(t.substring(0,2)),i=parseInt(t.substring(3));console.log(`nuevoTime: ${t}. ${o} horas y ${i} minutos`);const n=new Date(this.esteEvento.horarioInicio);var r=new Date(this.esteEvento.horarioFinal);console.log(`Actual date: ${r}`),r.setHours(o),r.setMinutes(i),console.log(`Nueva date final: ${r}`),!(r<n)&&this.enviarNuevoHorarioFinal(r)},enviarNuevaDateInicioHoldDuration(e){this.enviandoNuevoDateInicio=!0,this.enviandoSomeHorario=!0,this.$apollo.mutate({mutation:Se`
                  mutation ($nuevoDate: Date!, $tipoEvento: String!, $idEvento: ID!) {
                    setDateInicioEventoHoldDuration(
                      nuevoDate: $nuevoDate
                      tipoEvento: $tipoEvento
                      idEvento: $idEvento
                    ) {
                      __typename
                      ... on EventoPersonal{
                        id
                        horarioInicio
                        horarioFinal
                      }
                      ... on EventoPublico{
                        id
                        horarioInicio
                        horarioFinal
                      }
                      
                    }
                  }
                `,variables:{nuevoDate:e,tipoEvento:this.tipoEvento,idEvento:this.esteEvento.id}}).then(()=>{this.$emit("eventoCambioFecha",this.esteEvento),this.enviandoSomeHorario=!1,this.enviandoNuevoDateInicio=!1,this.editandoFechaInicio=!1,this.editandoHoraInicio=!1}).catch(t=>{console.log(`Error: ${t}`),this.enviandoNuevoDateInicio=!1,this.enviandoSomeHorario=!1})},updateFechaInicioHoldDuration(e){console.log(`se hara update de fecha inicio holding duration. ${e}`);const t=new Date(e),o=t.getUTCDate(),i=t.getUTCMonth(),n=t.getUTCFullYear();var r=new Date(this.esteEvento.horarioInicio);r.setDate(o),r.setMonth(i),r.setFullYear(n),console.log(`Quedará: ${r}`),this.enviarNuevaDateInicioHoldDuration(r)},updateHoraInicioHoldDuration(e){console.log(`se hara update de hora inicio holding duration. ${e}`);const t=e.substring(0,2),o=e.substring(3);var i=new Date(this.esteEvento.horarioInicio);i.setHours(t),i.setMinutes(o),console.log(`Quedará: ${i}`),this.enviarNuevaDateInicioHoldDuration(i)}},computed:{horaInicioString(){return new Date(this.esteEvento.horarioInicio).toTimeString().substring(0,5)},horaFinalString(){return new Date(this.esteEvento.horarioFinal).toTimeString().substring(0,5)}}},FB={props:{idParent:String,tipoParent:String},data(){return{creandoEventoPersonalUnder:!1}},methods:{crearEventoPersonalUnder(){console.log("Creando evento personal under"),this.creandoEventoPersonalUnder=!0,this.$apollo.mutate({mutation:Se`
                    mutation($infoEventoPersonal: InputCrearEventoPersonal){
                        crearEventoPersonal(infoEventoPersonal:$infoEventoPersonal){
                            ...fragEventoPersonal
                        }
                    }
                ${ii}
                `,variables:{infoEventoPersonal:{idPersona:this.idUsuarioTarget,idEventoMarco:this.esteEvento.id,idParent:this.idParent,tipoParent:this.tipoParent}}}).then(({data:{crearEventoPersonal:e}})=>{this.creandoEventoPersonalUnder=!1,this.$emit("creadoEventoPersonal",e)}).catch(e=>{console.log(`Error: ${e}`),this.creandoEventoPersonalUnder=!1})}}},Xa="/caracol/assets/user-7388aad2.svg",tf="/caracol/assets/calendarPlus-bcd804cb.svg",ec="/caracol/assets/expand-b151da43.svg",LB={name:"EventoPublicoCalendario",components:{IconoPersonaAutonomo:Wi,Loading:vt},props:{extranjero:Boolean},mixins:[us,ef,i0,FB,ds],data(){return{mostrando:null}},methods:{},computed:{}},tc=e=>(ot("data-v-af923284"),e=e(),nt(),e),MB={id:"zonaNombre"},BB={key:0,id:"cantidadAsistentes"},UB=tc(()=>g("img",{src:Xa,alt:"User",style:{height:"13px","margin-right":"6px"}},null,-1)),$B=tc(()=>g("img",{src:tf,alt:"Asistir"},null,-1)),jB=[$B],qB=tc(()=>g("img",{src:ni,alt:"Eliminar"},null,-1)),HB=[qB],VB=tc(()=>g("img",{src:ec,alt:"Expandir"},null,-1)),zB=[VB],QB={id:"contenedorMarcasTiempo"};function GB(e,t,o,i,n,r){const a=Re("icono-persona-autonomo"),l=Re("loading");return J(),re("div",{class:Ae(["eventoPublicoCalendario",{deshabilitado:e.eliminandose,seleccionado:e.seleccionado,bloque:e.claseOffset==="bloque"||e.seleccionado,barra:e.claseOffset==="barra"&&!e.seleccionado}]),style:qe([e.estiloPos,e.estiloZ])},[g("div",{id:"barra",style:qe(e.estiloSize),class:Ae({seleccionado:e.seleccionado,administrador:e.administrador})},null,6),g("div",{id:"bloque",style:qe([e.estiloSize,{position:"relative"}]),class:Ae({extranjero:o.extranjero,seleccionado:e.seleccionado})},[g("div",MB,[g("div",{id:"elNombre",class:Ae({administrador:e.administrador})},we(e.esteEvento.nombre),3)]),e.esteEvento.eventosEnmarcados&&e.esteEvento.eventosEnmarcados.length>0?(J(),re("div",BB,[UB,dt(" "+we(e.esteEvento.eventosEnmarcados.length)+we(e.esteEvento.limiteDeCupos?"/"+e.esteEvento.limiteDeCupos:""),1)])):Te("",!0),(e.idUsuarioTarget!=e.esteEvento.idAdministrador,J(),We(a,{key:1,class:Ae({seleccionado:e.seleccionado}),style:{margin:"0px auto"},idPersona:e.esteEvento.idAdministrador,factorEscala:"0.7"},null,8,["class","idPersona","factorEscala"])),g("div",{id:"contenedorControlesEvento",class:Ae({seleccionado:e.seleccionado})},[e.usuarioLogeado&&e.idUsuarioTarget!=e.esteEvento.idAdministrador?W((J(),re("div",{key:0,class:"boton botonControlEvento",title:"Asistir a este evento",onClick:t[0]||(t[0]=De((...s)=>e.crearEventoPersonalUnder&&e.crearEventoPersonalUnder(...s),["stop"]))},jB,512)),[[Z,!e.creandoEventoPersonalUnder]]):Te("",!0),W(Ie(l,null,null,512),[[Z,e.creandoEventoPersonalUnder]]),e.administrador||e.usuarioSuperadministrador?(J(),re("div",{key:1,class:"boton botonControlEvento",title:"Eliminar este evento",onClick:t[1]||(t[1]=De((...s)=>e.eliminarse&&e.eliminarse(...s),["stop"]))},HB)):Te("",!0),g("div",{class:"boton botonControlEvento",title:"Expandir este evento",onClick:t[2]||(t[2]=De(s=>e.$router.push(e.$route.path+"/ventanaEventoPublico/"+e.esteEvento.id),["stop"]))},zB)],2)],6),W(g("div",QB,[g("div",{class:Ae(["marcaTiempo",{deshabilitado:e.enviandoNuevoDateInicio}]),id:"marcaTiempoInicio",onClick:t[3]||(t[3]=(...s)=>e.setHoraInicio&&e.setHoraInicio(...s))},we(e.horaInicioLegible),3),g("div",{class:Ae(["marcaTiempo",{deshabilitado:e.enviandoNuevoDateFinal}]),id:"marcaTiempoFinal",onClick:t[4]||(t[4]=(...s)=>e.setHoraFinal&&e.setHoraFinal(...s))},we(e.horaFinalLegible),3)],512),[[Z,e.seleccionado]])],6)}const WB=Qe(LB,[["render",GB],["__scopeId","data-v-af923284"]]),KB={name:"eventoPersonalCalendario",components:{},props:{esteEvento:Object,horaPx:Number,seleccionado:Boolean,infoOffset:Object,extranjero:Boolean,diaCalendarioOver:Object},mixins:[us,i0,ds],data(){return{mostrando:null}},methods:{},computed:{administrador(){return this.usuarioLogeado?this.usuario.id===this.esteEvento.idPersona:!1},modo(){return"bloque"}}},s0=e=>(ot("data-v-872b7272"),e=e(),nt(),e),JB={id:"zonaNombre"},YB=s0(()=>g("img",{src:ni,alt:"Eliminar"},null,-1)),ZB=[YB],XB=s0(()=>g("img",{src:ec,alt:"Expandir"},null,-1)),e6=[XB],t6={id:"contenedorMarcasTiempo"};function o6(e,t,o,i,n,r){return J(),re("div",{class:Ae(["eventoPersonalCalendario",{deshabilitado:e.eliminandose,seleccionado:o.seleccionado,bloque:e.claseOffset==="bloque"||o.seleccionado,barra:e.claseOffset==="barra"&&!o.seleccionado}]),style:qe([e.estiloPos,e.estiloZ])},[g("div",{id:"barra",style:qe(e.estiloSize),class:Ae({seleccionado:o.seleccionado,extranjero:o.extranjero})},null,6),g("div",{id:"bloque",style:qe(e.estiloSize),class:Ae({extranjero:o.extranjero,seleccionado:o.seleccionado,deNodoSolidaridad:o.esteEvento.tipoParent==="nodoSolidaridad"})},[g("div",JB,[g("div",{id:"elNombre",class:Ae({administrador:r.administrador})},we(o.esteEvento.nombre),3)]),g("div",{id:"contenedorControlesEvento",class:Ae({seleccionado:o.seleccionado})},[r.administrador||e.usuarioSuperadministrador||e.usuarioProfe?(J(),re("div",{key:0,class:"boton botonControlEvento",title:"Eliminar este evento",onClick:t[0]||(t[0]=De((...a)=>e.eliminarse&&e.eliminarse(...a),["stop"]))},ZB)):Te("",!0),g("div",{class:"boton botonControlEvento",title:"Expandir este evento",onClick:t[1]||(t[1]=De(a=>e.$router.push(e.$route.path+"/ventanaEventoPersonal/"+o.esteEvento.id),["stop"]))},e6)],2)],6),W(g("div",t6,[g("div",{class:Ae(["marcaTiempo",{deshabilitado:e.enviandoNuevoDateInicio}]),id:"marcaTiempoInicio",onClick:t[2]||(t[2]=(...a)=>e.setHoraInicio&&e.setHoraInicio(...a))},we(e.horaInicioLegible),3),g("div",{class:Ae(["marcaTiempo",{deshabilitado:e.enviandoNuevoDateFinal}]),id:"marcaTiempoFinal",onClick:t[3]||(t[3]=(...a)=>e.setHoraFinal&&e.setHoraFinal(...a))},we(e.horaFinalLegible),3)],512),[[Z,o.seleccionado]])],6)}const n6=Qe(KB,[["render",o6],["__scopeId","data-v-872b7272"]]),Bl=Se`
  query ($dateInicioDia: Date!) {
    eventosPublicosDia(dateInicioDia: $dateInicioDia) {
      ...fragEventoPublico
    }
  }
  ${Ji}
`,Ul=Se`
  query ($dateInicioDia: Date!, $idUsuario: ID!) {
    eventosPersonalesDia(dateInicioDia: $dateInicioDia, idUsuario: $idUsuario) {
      ...fragEventoPersonal
    }
  }
  ${ii}
`,i6=Se`
  query ($dateInicioDia: Date!, $idParent: ID!, $tipoParent: String!) {
    eventosPersonalesDeParentDia(
      dateInicioDia: $dateInicioDia
      idParent: $idParent
      tipoParent: $tipoParent
    ) {
      ...fragEventoPersonal
    }
  }
  ${ii}
`,r6={components:{EventoPublicoCalendario:WB,EventoPersonalCalendario:n6,Loading:vt},name:"DiaCalendario",apollo:{eventosPublicosDia:{query:Bl,variables(){return{dateInicioDia:this.esteDia.date}},fetchPolicy:"cache-and-network"},eventosPersonalesDia:{query:Ul,variables(){return{dateInicioDia:this.esteDia.date,idUsuario:this.idUsuarioTarget}},skip(){return!this.usuarioLogeado},fetchPolicy:"cache-and-network"},eventosPersonalesDeParentDia:{query:i6,variables(){return{dateInicioDia:this.esteDia.date,idParent:this.idParent,tipoParent:this.tipoParent}},skip(){return this.tipoParent!="nodoSolidaridad"||!this.usuarioLogeado||!this.idParent},fetchPolicy:"cache-and-network"}},props:{hoy:Boolean,esteDia:Object,eventoSiendoCreado:Object,horaPx:Number,scrollXCalendario:Number,idParent:String,idEventoSeleccionado:String,idUsuarioTarget:String,tipoParent:String,enfasis:String,modoEventosPublicosExtranjeros:String,usuarioVeEventosPublicos:Boolean},data(){return{eventosPublicosDia:[],eventosPersonalesDia:[],eventosPersonalesDeParentDia:[],abierto:!1,creandoEvento:!1}},methods:{clickContenedorEventos(e){if(console.log("Click en el contenedor de eventos"),this.eventoSiendoCreado){var t=JSON.parse(JSON.stringify(this.eventoSiendoCreado));this.$emit("iniciaCreacionEvento");const a=this.$refs.contenedorEventos.getBoundingClientRect(),l=e.pageX-a.left,s=l/this.horaPx;var o=Math.round((s-Math.floor(s))*60);o=Math.floor(o/15)*15;const c={horas:Math.floor(s),minutos:o},u=this.esteDia.date.getTime()+c.horas*60*6e4+c.minutos*6e4;console.log(`En ${l} -> ${c.horas}: ${c.minutos}`),console.log(`Date centralh: ${this.esteDia.date.getTime()+c.horas+c.minutos*6e4}`);var i=u,n=u+36e5;console.log(`Quedará entre: ${new Date(i)} y ${new Date(n)}`),t.horarioInicio=new Date(i),t.horarioFinal=new Date(n),t.tipoEvento==="eventoPublico"?(delete t.tipoEvento,this.crearEventoPublico(t)):t.tipoEvento==="eventoPersonal"?(delete t.tipoEvento,this.crearEventoPersonal(t)):console.log(`Tipo ${t.tipoEvento} no reconocido`)}else this.idEventoSeleccionado&&this.$emit("desSeleccionDeEvento")},addEventoCache(e){const t=new Date(e.horarioInicio).getTime(),o=this.esteDia.date.getTime(),i=this.esteDia.date.getTime()+864e5;if(t<o||t>i)return;const n=e.__typename.charAt(0).toLowerCase()+e.__typename.slice(1);var r=null;if(n==="eventoPublico")r={query:Bl,variables:{dateInicioDia:this.esteDia.date}};else if(n==="eventoPersonal")r={query:Ul,variables:{dateInicioDia:this.esteDia.date,idUsuario:this.idUsuarioTarget}};else{console.log(`Tipo evento ${n} no reconocido`);return}const a=this.$apollo.provider.defaultClient,l=a.readQuery({...r});var s=JSON.parse(JSON.stringify(l)),c=null;n==="eventoPublico"?c=s.eventosPublicosDia:n==="eventoPersonal"&&(c=s.eventosPersonalesDia),c.findIndex(f=>f.id===e.id)===-1&&(c.push(e),a.writeQuery({...r,data:s}))},crearEventoPublico(e){console.log(`Creando un evento publico con info ${JSON.stringify(e)}`),this.creandoEvento=!0,this.$apollo.mutate({mutation:Se`
            mutation ($infoNuevoEvento: InputCrearEventoPublico) {
              crearEventoPublico(infoNuevoEvento: $infoNuevoEvento) {
                ...fragEventoPublico
              }
            }
            ${Ji}
          `,variables:{infoNuevoEvento:e}}).then(({data:{crearEventoPublico:t}})=>{this.creandoEvento=!1,this.addEventoCache(t),this.$emit("cambioEventos")}).catch(t=>{console.log(`Error: ${t}`),this.creandoEvento=!1})},crearEventoPersonal(e){console.log(`Creando un evento personal con info ${JSON.stringify(e)}`),this.creandoEvento=!0,this.$apollo.mutate({mutation:Se`
            mutation ($infoEventoPersonal: InputCrearEventoPersonal) {
              crearEventoPersonal(infoEventoPersonal: $infoEventoPersonal) {
                ...fragEventoPersonal
              }
            }
            ${ii}
          `,variables:{infoEventoPersonal:{...e,idPersona:this.idUsuarioTarget}}}).then(({data:{crearEventoPersonal:t}})=>{this.creandoEvento=!1,this.addEventoCache(t),this.$emit("cambioEventos")}).catch(t=>{console.log(`Error: ${t}`),this.creandoEvento=!1})},deleteEventoCache(e){const t=e.__typename.charAt(0).toLowerCase()+e.__typename.slice(1);console.log(`Deleting ${t} ${e.nombre} from cache`);var o=null;if(t==="eventoPublico")o={query:Bl,variables:{dateInicioDia:this.esteDia.date}};else if(t==="eventoPersonal")o={query:Ul,variables:{dateInicioDia:this.esteDia.date,idUsuario:this.idUsuarioTarget}};else{console.log(`Tipo evento ${t} no reconocido`);return}const i=this.$apollo.provider.defaultClient,n=i.readQuery({...o});var r=JSON.parse(JSON.stringify(n)),a=null;t==="eventoPublico"?a=r.eventosPublicosDia:t==="eventoPersonal"&&(a=r.eventosPersonalesDia);const l=a.findIndex(s=>s.id===e.id);l>-1&&(a.splice(l,1),i.writeQuery({...o,data:r}))}},computed:{diaSemana(){return["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"][this.esteDia.date.getDay()]},diaYMes(){const e=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];return this.esteDia.date.getDate()+" de "+e[this.esteDia.date.getMonth()]},eventosPublicosVisibles(){return this.enfasis==="eventosPublicos"?this.modoEventosPublicosExtranjeros==="invisibles"?this.eventosPublicosDia.filter(e=>e.idParent===this.idParent||e.idAdministrador===this.idUsuarioTarget):this.eventosPublicosDia:this.enfasis==="eventosPersonales"?this.usuarioVeEventosPublicos?this.eventosPublicosDia:this.eventosPublicosDia.filter(e=>e.idAdministrador===this.idUsuarioTarget):[]},eventosPublicosUsuarioTarget(){return this.eventosPublicosDia.filter(e=>e.idAdministrador===this.idUsuarioTarget)},estiloSizeContenedorEventos(){const e=Object.values(this.indiceOffset).reduce((t,o)=>o.top+o.height>t?o.top+o.height:t,0);return{width:this.horaPx*24+"px",height:e+45+"px"}},cantidadEventosPublicos(){return this.eventosPublicosDia.length},cantidadEventosRelevantes(){return this.enfasis==="eventosPublicos"?this.idParent?this.eventosPublicosDia.filter(e=>e.idParent===this.idParent).length:this.cantidadEventosPublicos:this.enfasis==="eventosPersonales"?this.idParent?this.eventosPersonalesDia.filter(e=>e.idParent===this.idParent).length:this.eventosPersonalesDia.length+this.eventosPublicosUsuarioTarget.length:0},indiceOffset(){var n={};if(!this.usuarioLogeado)return console.log("Cancelando índice offset"),null;this.todosEventosPersonalesDia.forEach(a=>{let l=160,s="bloque",c=5;this.enfasis==="eventosPersonales"?this.idParent&&a.idParent!=this.idParent&&(l=15,s="barra"):(l=15,s="barra"),n[a.id]={evento:a,top:c,height:l,bordeBot:c+l,clase:s}});var r=JSON.parse(JSON.stringify(this.eventosPublicosVisibles));return r.sort((a,l)=>{var s=0;return(a.idAdministrador===this.idUsuarioTarget||this.eventosPersonalesDia.some(c=>c.idEventoMarco===a.id))&&s++,(l.idAdministrador===this.idUsuarioTarget||this.eventosPersonalesDia.some(c=>c.idEventoMarco===l.id))&&s--,-s}),r.forEach(a=>{let l=this.eventosPersonalesDia.some(f=>f.idEventoMarco===a.id),s=160,c="bloque";this.enfasis==="eventosPublicos"&&a.idParent!=this.idParent&&this.modoEventosPublicosExtranjeros!="full"&&(s=15,c="barra");let u=0;this.enfasis==="eventosPersonales"&&l?u=30:u=Object.entries(n).map(y=>y[1]).filter(y=>{const v=y.evento.horarioInicio>a.horarioInicio&&y.evento.horarioInicio<a.horarioFinal,C=y.evento.horarioFinal>a.horarioInicio&&y.evento.horarioFinal<a.horarioFinal,I=y.evento.horarioInicio<=a.horarioInicio&&y.evento.horarioFinal>=a.horarioFinal;return v||C||I}).reduce((y,v)=>v.bordeBot>y?v.bordeBot:y,0)+5,n[a.id]={evento:a,top:u,height:s,bordeBot:u+s+15,clase:c}}),n},todosEventosPersonalesDia(){return this.eventosPersonalesDia.concat(this.eventosPersonalesDeParentDia.filter(e=>!this.eventosPersonalesDia.map(t=>t.id).includes(e.id)))},estiloSizeHora(){return{width:this.horaPx+"px"}},downloadingData(){return this.$apollo.queries.eventosPersonalesDeParentDia&&this.$apollo.queries.eventosPersonalesDeParentDia.loading||this.$apollo.queries.eventosPublicosDia&&this.$apollo.queries.eventosPublicosDia.loading||this.$apollo.queries.eventosPersonalesDia&&this.$apollo.queries.eventosPersonalesDia.loading}},watch:{},mounted(){const e=new Date().getHours();console.log(`Scrolling into ${e}`),this.$nextTick(()=>{this.$refs.labelsHoras[8].scrollIntoView({block:"nearest",inline:"start"})})}},s6={id:"barraSuperior"},a6={id:"fechaDia"},c6={id:"cantidadesEventos"},l6={id:"contenedorContenido"},u6={id:"barraHoras"};function d6(e,t,o,i,n,r){const a=Re("loading"),l=Re("evento-publico-calendario"),s=Re("evento-personal-calendario");return J(),re("div",{class:Ae(["diaCalendario",{abierto:n.abierto}])},[g("div",s6,[g("div",{id:"bloqueTituloDia",onClick:t[0]||(t[0]=c=>e.$emit("regresar"))},[g("div",{id:"nombreDia",class:Ae({hoy:o.hoy})},we(r.diaSemana),3),g("div",a6,we(r.diaYMes),1),g("div",c6,we(r.cantidadEventosRelevantes?"("+r.cantidadEventosRelevantes+")":""),1)])]),W(Ie(a,{texto:""},null,512),[[Z,r.downloadingData]]),g("div",l6,[g("div",u6,[(J(),re(Me,null,Ve(24,c=>g("div",{ref_for:!0,ref:"labelsHoras",class:"hora",style:qe([r.estiloSizeHora]),key:"hora"+(c-1)},we(c-1)+":00 ",5)),64))]),W(g("div",{id:"contenedorEventos",ref:"contenedorEventos",style:qe([r.estiloSizeContenedorEventos]),onClick:t[2]||(t[2]=De((...c)=>r.clickContenedorEventos&&r.clickContenedorEventos(...c),["self"]))},[(J(!0),re(Me,null,Ve(r.eventosPublicosVisibles,c=>(J(),We(l,{horaPx:o.horaPx,key:c.id,esteEvento:c,extranjero:!o.idParent||o.idParent!=c.idParent,idUsuarioTarget:o.idUsuarioTarget,seleccionado:o.idEventoSeleccionado===c.id,infoOffset:r.indiceOffset[c.id],diaCalendarioOver:o.esteDia,enfasis:o.enfasis,idParent:o.idParent,tipoParent:o.tipoParent,onMeElimine:u=>{r.deleteEventoCache(c),e.$emit("cambioEventos")},onClick:u=>e.$emit("clickEnEvento",c),onMeCambiaronDia:u=>{r.deleteEventoCache(c),e.$emit("cambioEventos")},onCreadoEventoPersonal:t[1]||(t[1]=u=>{r.addEventoCache(u),e.$emit("cambioEventos")})},null,8,["horaPx","esteEvento","extranjero","idUsuarioTarget","seleccionado","infoOffset","diaCalendarioOver","enfasis","idParent","tipoParent","onMeElimine","onClick","onMeCambiaronDia"]))),128)),(J(!0),re(Me,null,Ve(r.todosEventosPersonalesDia||[],c=>(J(),We(s,{horaPx:o.horaPx,key:c.id,esteEvento:c,seleccionado:o.idEventoSeleccionado===c.id,infoOffset:r.indiceOffset[c.id],diaCalendarioOver:o.esteDia,enfasis:o.enfasis,extranjero:o.idUsuarioTarget!=c.idPersona&&!c.idsParticipantes.includes(o.idUsuarioTarget),onMeElimine:u=>{r.deleteEventoCache(c),e.$emit("cambioEventos")},onClick:u=>e.$emit("clickEnEvento",c),onMeCambiaronDia:u=>{r.deleteEventoCache(c),e.$emit("cambioEventos")}},null,8,["horaPx","esteEvento","seleccionado","infoOffset","diaCalendarioOver","enfasis","extranjero","onMeElimine","onClick","onMeCambiaronDia"]))),128))],4),[[Z,!r.downloadingData]])])],2)}const f6=Qe(r6,[["render",d6],["__scopeId","data-v-c9dd8354"]]),a0="/caracol/assets/calendarPublic-ec76bdc7.svg",h6="/caracol/assets/thList-83b8594b.svg",c0="/caracol/assets/relojArena-1f4db0c5.svg",l0="/caracol/assets/broom-342f8f84.svg",p6={components:{DiaCalendario:f6,Loading:vt},name:"Calendario",props:{idParent:String,idUsuarioTarget:String,tipoParent:String,enfasis:String},apollo:{cantidadEventosRelevantesMes:{query:Se`
        query (
          $year: Int!
          $mes: Int!
          $idParent: ID!
          $tipoParent: String!
          $timeZoneOffset: Int!
        ) {
          cantidadEventosRelevantesMes(
            year: $year
            mes: $mes
            idParent: $idParent
            tipoParent: $tipoParent
            timeZoneOffset: $timeZoneOffset
          ) {
            dia
            cantidadEventos
          }
        }
      `,variables(){return{year:this.yearSeleccionado,mes:parseInt(this.numeroMesSeleccionado),idParent:this.idParent?this.idParent:this.idUsuarioTarget,tipoParent:this.tipoParent?this.tipoParent:"usuario",timeZoneOffset:new Date().getTimezoneOffset()}},fetchPolicy:"cache-and-network"}},data(){const e=new Date(Date.now());return e.setHours(0),e.setMinutes(0),e.setSeconds(0),{cantidadEventosRelevantesMes:[],nombresDiasSemana:["Lunes","Martes","Miércoles","Jueves","Viernes","Sabado","Domingo"],nombresMeses:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dateHoy:e,primerDia:{date:e,horaActual:new Date(Date.now()).getHours()},numeroMesSeleccionado:e.getMonth(),seleccionandoMes:!1,yearSeleccionado:e.getFullYear(),numeroDiaSeleccionado:null,eventoSiendoCreado:null,horaPx:100,scrollX:0,idEventoSeleccionado:null,modoEventosPublicosExtranjeros:"invisibles",diasRendered:[{date:e}],usuarioVeEventosPublicos:!1,tomandoAccion:null,enviandoAccionIntervalo:!1}},computed:{tipoEventoSiendoCreado(){return this.eventoSiendoCreado?this.eventoSiendoCreado.tipoEvento:null},offsetScroll(){return{left:10+this.scrollX+"px"}},nombreMesSeleccionado(){return this.nombresMeses[parseInt(this.numeroMesSeleccionado)]},lengthMonthSeleccionado(){return new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado+1),0).getDate()},diasMargenInicio(){return new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado),0).getDay()},estiloMargenInicio(){return{width:this.diasMargenInicio*14+"%"}},diaSeleccionado(){return this.numeroDiaSeleccionado?{date:new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado),this.numeroDiaSeleccionado,0)}:null},semanasMes(){console.log("Calculando semanasMes");const e=new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado),1).getDay();console.log(`Dia semana inicio de mes: ${e}`);const t=e===0?7:e,o=Math.floor(this.lengthMonthSeleccionado/7);console.log(`${o} semanas completas`);const i=this.lengthMonthSeleccionado-o*7;console.log(`${i} dias sobrantes`);var n=o;return t>1&&n++,(i+t>7||i>0&&t===1)&&n++,n}},methods:{iniciarSeleccionandoMes(){this.seleccionandoMes=!0,this.$nextTick(()=>{this.$refs.selectMes.click()})},repetirEventosSemana(e){console.log(`Se repetirán los eventos de la semana ${e}`);var t=parseInt(prompt("¿Cuantas veces quieres repetir el horario de esta semana?",0));if(t<1||t>52){console.log("Valor de repeticiones inválido");return}const o=1e3*60*60*24,i=new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado),1).getDay();console.log(`Primer dia mes: ${i}`);const n=i===0?7:i,r=new Date(new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado),1).getTime()+o*7*e-(n-1)*o),a=new Date(r.getTime()+o*7);this.repetirEventosInterval(r,a,this.idParent?this.idParent:this.idUsuarioTarget,this.tipoParent?this.tipoParent:"usuario",this.idUsuarioTarget,t)},repetirEventosInterval(e,t,o,i,n,r){console.log(`Se repetiran los eventos que están entre ${e} y ${t}, ${r} veces`),this.$apollo.mutate({mutation:Se`
            mutation (
              $idParent: ID!
              $tipoParent: String!
              $idUsuario: ID!
              $numRepeticiones: Int!
              $dateFrom: Date!
              $dateTo: Date!
            ) {
              repetirEventosTroughInterval(
                idParent: $idParent
                tipoParent: $tipoParent
                idUsuario: $idUsuario
                numRepeticiones: $numRepeticiones
                dateFrom: $dateFrom
                dateTo: $dateTo
              )
            }
          `,variables:{idParent:this.idParent?this.idParent:this.idUsuarioTarget,tipoParent:this.tipoParent?this.tipoParent:"usuario",idUsuario:this.idUsuarioTarget,numRepeticiones:r,dateFrom:e,dateTo:t}}).then(()=>{this.reloadEventosRelevantes(),alert("Operación completada")}).catch(a=>{console.log(`Error: ${a}`),this.enviandoAccionIntervalo=!1})},deleteEventosSemana(e){if(console.log(`Se eliminaran los eventos de la semana ${e}`),!confirm("¿Confirmar la eliminación de los eventos de esta semana? (Esta acción no puede deshacerse)"))return;const t=1e3*60*60*24,o=new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado),1).getDay();console.log(`Primer dia mes: ${o}`);const i=o===0?7:o;console.log(`Primer dia mes corregido: ${i}`);const n=new Date(new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado),1).getTime()+t*7*e-(i-1)*t),r=new Date(n.getTime()+t*7);this.deleteEventosInterval(n,r,this.idParent?this.idParent:this.idUsuarioTarget,this.tipoParent?this.tipoParent:"usuario",this.idUsuarioTarget)},deleteEventosInterval(e,t,o,i,n){console.log(`Se eliminarán los eventos que están entre ${e} y ${t}`),this.enviandoAccionIntervalo=!0,this.$apollo.mutate({mutation:Se`
            mutation (
              $idParent: ID!
              $tipoParent: String!
              $idUsuario: ID!
              $dateFrom: Date!
              $dateTo: Date!
            ) {
              deleteEventosTroughInterval(
                idParent: $idParent
                tipoParent: $tipoParent
                idUsuario: $idUsuario
                dateFrom: $dateFrom
                dateTo: $dateTo
              )
            }
          `,variables:{idParent:o,tipoParent:i,idUsuario:n,dateFrom:e,dateTo:t}}).then(()=>{this.reloadEventosRelevantes(),this.enviandoAccionIntervalo=!1,alert("Operación completada")}).catch(r=>{console.log(`Error: ${r}`),this.enviandoAccionIntervalo=!1})},reloadEventosRelevantes:$d(function(){console.log("Reloading cantidades mes"),this.$apollo.queries.cantidadEventosRelevantesMes.refetch()},1e3)},watch:{numeroMesSeleccionado(){this.seleccionandoMes=!1}}},ri=e=>(ot("data-v-154c2262"),e=e(),nt(),e),m6={id:"contenedorControlesCalendario",class:"contenedorControles"},g6=["title"],v6=ri(()=>g("img",{src:a0,alt:"Evento publico"},null,-1)),y6=[v6],b6=["title"],w6=ri(()=>g("img",{src:a0,alt:"Evento publico"},null,-1)),E6=[w6],A6=["title"],_6=ri(()=>g("img",{src:h6,alt:"Lista"},null,-1)),C6=[_6],S6={id:"bloqueSelect"},N6={id:"barraFecha"},x6={id:"bloqueMes"},T6=["value"],I6={id:"bloqueYear",style:{"margin-left":"auto"}},P6={id:"nombreYear"},D6={id:"barraDiasSemana"},k6={id:"contenedorMesh"},R6=["onClick"],O6={class:"numeroDia"},F6={class:"laCantidad"},L6={id:"contenedorBotonesDia"},M6=ri(()=>g("div",{class:"boton",title:"Repetir los eventos de este día"},[g("img",{src:c0,alt:"Reloj"})],-1)),B6=ri(()=>g("div",{class:"boton",title:"Eliminar todos los eventos de este día"},[g("img",{src:l0,alt:"Limpiar"})],-1)),U6=[M6,B6],$6={id:"representacionSemanas"},j6={id:"contenedorBotonesSemana"},q6=["onClick"],H6=ri(()=>g("img",{src:c0,alt:"Reloj"},null,-1)),V6=[H6],z6=["onClick"],Q6=ri(()=>g("img",{src:l0,alt:"Limpiar"},null,-1)),G6=[Q6];function W6(e,t,o,i,n,r){const a=Re("loading"),l=Re("dia-calendario");return J(),re("div",{class:Ae(["calendario",{eventoSiendoCreado:n.eventoSiendoCreado}])},[g("div",m6,[e.usuarioLogeado&&e.usuario.permisos&&e.usuario.permisos.includes("maestraVida-profesor")?W((J(),re("div",{key:0,class:"boton",onClick:t[0]||(t[0]=s=>n.modoEventosPublicosExtranjeros==="invisibles"?n.modoEventosPublicosExtranjeros="full":n.modoEventosPublicosExtranjeros==="full"?n.modoEventosPublicosExtranjeros="barra":n.modoEventosPublicosExtranjeros="invisibles"),style:qe({opacity:n.modoEventosPublicosExtranjeros==="invisibles"?.4:n.modoEventosPublicosExtranjeros==="full"?1:.7}),title:n.modoEventosPublicosExtranjeros==="invisibles"?"Mostrar todos los eventos públicos":n.modoEventosPublicosExtranjeros==="full"?"Minimizar otros eventos públicos":"Ocultar otros eventos públicos"},y6,12,g6)),[[Z,o.enfasis==="eventosPublicos"]]):Te("",!0),o.enfasis==="eventosPersonales"?(J(),re("div",{key:1,class:"boton",onClick:t[1]||(t[1]=s=>n.usuarioVeEventosPublicos=!n.usuarioVeEventosPublicos),title:n.usuarioVeEventosPublicos?"Ocultar eventos públicos":"Mostrar eventos públicos",style:qe([{opacity:n.usuarioVeEventosPublicos?1:.5}])},E6,12,b6)):Te("",!0),W(g("div",{class:"boton",title:n.tomandoAccion==="semana"?"Cancelar":n.tomandoAccion==="dia"?"Editar semanas":"Editar días",onClick:t[2]||(t[2]=s=>n.tomandoAccion=n.tomandoAccion==="semana"?null:(n.tomandoAccion==="dia","semana")),style:qe([{opacity:n.tomandoAccion?1:.5}])},C6,12,A6),[[Z,e.usuario&&e.usuario.id===o.idUsuarioTarget||e.usuarioSuperadministrador||e.usuarioProfe]])]),W(g("div",S6,[g("div",N6,[g("div",x6,[W(g("div",{id:"nombreMes",onClick:t[3]||(t[3]=(...s)=>r.iniciarSeleccionandoMes&&r.iniciarSeleccionandoMes(...s))},we(r.nombreMesSeleccionado),513),[[Z,!n.seleccionandoMes]]),W(g("select",{ref:"selectMes",id:"selectMes","onUpdate:modelValue":t[4]||(t[4]=s=>n.numeroMesSeleccionado=s)},[(J(!0),re(Me,null,Ve(n.nombresMeses,(s,c)=>(J(),re("option",{value:c,key:"selector"+s},we(s),9,T6))),128))],512),[[ka,n.numeroMesSeleccionado],[Z,n.seleccionandoMes]])]),W(Ie(a,{texto:""},null,512),[[Z,e.$apollo.queries.cantidadEventosRelevantesMes.loading]]),g("div",I6,[g("div",P6,we(n.yearSeleccionado),1)])]),g("div",D6,[(J(),re(Me,null,Ve(7,s=>g("div",{class:"diaSemana",key:"diaSemana"+s},we(n.nombresDiasSemana[s-1].charAt(0)),1)),64))]),g("div",k6,[g("div",{id:"margenInicio",style:qe([r.estiloMargenInicio])},null,4),(J(!0),re(Me,null,Ve(r.lengthMonthSeleccionado,s=>(J(),re("div",{class:Ae(["selectorDia",{hoy:n.dateHoy.getFullYear()===n.yearSeleccionado&&n.dateHoy.getMonth()===parseInt(n.numeroMesSeleccionado)&&n.dateHoy.getDate()===s}]),key:"selectorDia"+s,onClick:c=>n.numeroDiaSeleccionado=s},[g("div",O6,we(s)+we(n.dateHoy.getFullYear()===n.yearSeleccionado&&n.dateHoy.getMonth()===parseInt(n.numeroMesSeleccionado)&&n.dateHoy.getDate()===s?" Hoy":""),1),n.cantidadEventosRelevantesMes.some(c=>c.dia===s)?(J(),re("div",{key:0,class:"bolitaCantidadEventosRelevantes",style:qe([{opacity:n.tomandoAccion==="dia"?.4:1}])},[g("div",F6,we(n.cantidadEventosRelevantesMes.find(c=>c.dia===s).cantidadEventos),1)],4)):Te("",!0),W(g("div",L6,U6,512),[[Z,n.tomandoAccion==="dia"]])],10,R6))),128)),W(g("div",$6,[(J(!0),re(Me,null,Ve(r.semanasMes,(s,c)=>(J(),re("div",{class:"semana",key:"semana"+s},[g("div",j6,[g("div",{class:"boton",title:"Repetir los eventos de esta semana",onClick:u=>r.repetirEventosSemana(c)},V6,8,q6),g("div",{class:"boton",title:"Eliminar todos los eventos de esta semana",onClick:u=>r.deleteEventosSemana(c)},G6,8,z6)])]))),128))],512),[[Z,n.tomandoAccion==="semana"]])])],512),[[Z,!r.diaSeleccionado]]),r.diaSeleccionado?(J(),We(l,{eventoSiendoCreado:n.eventoSiendoCreado,hoy:n.dateHoy.getTime()===r.diaSeleccionado.date.getTime(),key:"dia"+r.diaSeleccionado.date.getTime(),esteDia:r.diaSeleccionado,horaPx:n.horaPx,scrollXCalendario:n.scrollX,idParent:o.idParent,idEventoSeleccionado:n.idEventoSeleccionado,idUsuarioTarget:o.idUsuarioTarget,tipoParent:o.tipoParent,enfasis:o.enfasis,modoEventosPublicosExtranjeros:n.modoEventosPublicosExtranjeros,usuarioVeEventosPublicos:n.usuarioVeEventosPublicos,onRegresar:t[5]||(t[5]=s=>n.numeroDiaSeleccionado=null),onIniciaCreacionEvento:t[6]||(t[6]=s=>e.$emit("iniciaCreacionEvento")),onClickEnEvento:t[7]||(t[7]=s=>n.idEventoSeleccionado=s.id),onDesSeleccionDeEvento:t[8]||(t[8]=s=>n.idEventoSeleccionado=null),onCambioEventos:r.reloadEventosRelevantes},null,8,["eventoSiendoCreado","hoy","esteDia","horaPx","scrollXCalendario","idParent","idEventoSeleccionado","idUsuarioTarget","tipoParent","enfasis","modoEventosPublicosExtranjeros","usuarioVeEventosPublicos","onCambioEventos"])):Te("",!0)],2)}const of=Qe(p6,[["render",W6],["__scopeId","data-v-154c2262"]]),u0="/caracol/assets/babySolid-ecc972cb.svg",K6={components:{Loading:vt},name:"BloqueHorario",props:{esteBloque:Object,idBloqueSeleccionado:String,factorZoom:Number,idBloqueMenuContextual:String,mostrarCantidadAsistentes:Boolean},data(){var e=localStorage.getItem("coloresEspacios")?JSON.parse(localStorage.getItem("coloresEspacios")):[];return{coloresEspacios:e,eliminandose:!1,settingTiempos:!1,mostrarVentana:!1,editandoHoraInicio:!1,editandoHoraFinal:!1}},computed:{duracionMinutos(){return Math.round((this.esteBloque.millisFinal-this.esteBloque.millisInicio)/6e4)},mostrandoMenuContextual(){return this.idBloqueMenuContextual===this.esteBloque.id},miColor(){if(!this.coloresEspacios)return"#a04d4d";const e=this.coloresEspacios.findIndex(t=>t[0]===this.esteBloque.idEspacio);return e>-1?this.coloresEspacios[e][1]:"#a04d4d"},seleccionado(){return this.idBloqueSeleccionado===this.esteBloque.id},usuarioAdministrador(){return this.usuario.id===this.esteBloque.idAdministradorEspacio},minutosInicio(){return Math.round(this.esteBloque.millisInicio/6e4)},minutosFinal(){return Math.round(this.esteBloque.millisFinal/6e4)},tiempoInicioFormateado(){return this.toTiempoFormateado(this.minutosInicio)},tiempoFinalFormateado(){return this.toTiempoFormateado(this.minutosFinal)},usuarioAsiste(){return this.usuarioAdministrador||this.esteBloque.idsParticipantesConstantes.includes(this.usuario.id)},colorBarraTag(){var e="rgb(182 182 182)";return this.usuarioAsiste&&(e="var(--calendarioUsuario)"),this.usuarioAdministrador&&(e="var(--calendarioUsuarioStrong)"),{backgroundColor:e}}},methods:{setColorEspacio(){const e=this.$refs.inputColor;console.log(`Setting color en ${e.value} para el espacio ${this.esteBloque.nombreEspacio} con id ${this.esteBloque.idEspacio}`);const t=this.coloresEspacios.findIndex(o=>o[0]===this.esteBloque.idEspacio);t>-1?this.$set(this.coloresEspacios,t,[this.esteBloque.idEspacio,e.value]):this.coloresEspacios.push([this.esteBloque.idEspacio,e.value]),localStorage.setItem("coloresEspacios",JSON.stringify(this.coloresEspacios))},eliminarse(){if(!this.usuarioAdministrador&&!this.usuarioSuperadministrador){console.log("No autorizado");return}this.eliminandose=!0,this.$apollo.mutate({mutation:Se`
            mutation ($idEspacio: ID!, $idIteracion: ID!) {
              eliminarIteracionSemanalEspacio(
                idEspacio: $idEspacio
                idIteracion: $idIteracion
              )
            }
          `,variables:{idEspacio:this.esteBloque.idEspacio,idIteracion:this.esteBloque.id}}).then(()=>{this.eliminandose=!1,this.$emit("meElimine")}).catch(e=>{console.log("Error: "+e),this.eliminandose=!1})},toggleDuracionBloque(){if(console.log(`Toggleando bloque que tiene minutosInicio ${this.minutosInicio} y minutosFinal ${this.minutosFinal}`),!this.usuarioAdministrador&&!this.usuarioSuperadministrador){console.log("No autorizado");return}this.minutosInicio===480?this.minutosFinal===600?this.setMinutos(480,540):this.setMinutos(480,600):this.minutosInicio===540?this.setMinutos(480,600):this.minutosInicio===630?this.minutosFinal===750?this.setMinutos(630,690):this.setMinutos(630,750):this.minutosInicio===690?this.setMinutos(630,750):this.minutosInicio===810?this.minutosFinal===930?this.setMinutos(810,870):this.setMinutos(810,930):this.minutosInicio===870?this.setMinutos(870,930):console.log("No se pudo togglear el bloque")},setMinutos(e,t){const o=e*6e4,i=t*6e4;this.settingTiempos=!0,this.$apollo.mutate({mutation:Se`
            mutation (
              $idEspacio: ID!
              $idIteracion: ID!
              $millisInicio: Int!
              $millisFinal: Int!
            ) {
              setTiemposIteracionSemanalEspacio(
                idEspacio: $idEspacio
                idIteracion: $idIteracion
                millisInicio: $millisInicio
                millisFinal: $millisFinal
              ) {
                id
                millisInicio
                millisFinal
              }
            }
          `,variables:{idEspacio:this.esteBloque.idEspacio,idIteracion:this.esteBloque.id,millisInicio:o,millisFinal:i}}).then(()=>{this.settingTiempos=!1}).catch(n=>{console.log("Error: "+n),this.settingTiempos=!1})},expandir(){this.$emit("expandirme")},iniciarSetHoraInicio(){this.$refs.inputHoraInicio.value=this.toTiempoFormateado(this.minutosInicio),this.editandoHoraInicio=!0,this.editandoHoraFinal=!1},iniciarSetHoraFinal(){this.$refs.inputHoraFinal.value=this.toTiempoFormateado(this.minutosFinal),this.editandoHoraFinal=!0,this.editandoHoraInicio=!1},toTiempoFormateado(e){var t=Math.floor(e/60);String(t).length<2&&(t="0"+t);var o=String(Math.round(e-t*60));return o.length<2&&(o="0"+o),t+":"+o},setHoraInicio(){console.log("Setting hora inicio");const e=this.$refs.inputHoraInicio.value.split(":"),t=parseInt(e[0]),o=parseInt(e[1]),i=t*60+o;console.log("Nuevo minutos inicio: "+i),this.setMinutos(i,this.minutosFinal)},setHoraFinal(){console.log("Setting hora final");const e=this.$refs.inputHoraFinal.value.split(":"),t=parseInt(e[0]),o=parseInt(e[1]),i=t*60+o;console.log("Nuevo minutos final: "+i),this.setMinutos(this.minutosInicio,i)}}},d0=e=>(ot("data-v-3acc099a"),e=e(),nt(),e),J6=d0(()=>g("img",{src:qd,alt:"Opciones"},null,-1)),Y6=[J6],Z6={id:"nombre"},X6={key:0,src:u0,alt:"bebé",style:{height:"15px"}},e8=d0(()=>g("img",{src:ec,alt:"expandir",style:{}},null,-1)),t8=[e8],o8=["value"],n8=["value"];function i8(e,t,o,i,n,r){const a=Re("loading");return J(),re("div",{class:Ae(["bloqueHorario",{seleccionado:r.seleccionado,deshabilitado:n.eliminandose||n.settingTiempos,usuarioAsiste:r.usuarioAsiste}]),style:qe([{width:r.duracionMinutos*o.factorZoom+"px",backgroundColor:r.miColor}]),onContextmenu:t[11]||(t[11]=De(l=>e.$emit("menuContextual",o.esteBloque.id),["exact","prevent","stop"])),onDblclick:t[12]||(t[12]=(...l)=>r.toggleDuracionBloque&&r.toggleDuracionBloque(...l)),onClick:t[13]||(t[13]=De(l=>e.$emit("seleccionado"),["left"]))},[W(g("div",{class:"boton",onClick:t[0]||(t[0]=De(l=>e.$emit("menuContextual",o.esteBloque.id),["stop"])),id:"botonOpciones"},Y6,512),[[Z,r.seleccionado]]),g("div",{id:"barraTag",style:qe([r.colorBarraTag])},[g("div",Z6,[o.esteBloque.paraChiquis?(J(),re("img",X6)):Te("",!0),dt(we(o.esteBloque.nombreEspacio),1)])],4),o.esteBloque.idsParticipantesConstantes&&o.esteBloque.idsParticipantesConstantes.length>0&&o.mostrarCantidadAsistentes?W((J(),re("div",{key:0,id:"cantidadAsistentes"}," Asistentes: "+we(o.esteBloque.idsParticipantesConstantes.length),513)),[[Z,!r.seleccionado]]):Te("",!0),W(g("div",{id:"botonExpandir",class:"boton",style:{margin:"0px auto"},onClick:t[1]||(t[1]=De((...l)=>r.expandir&&r.expandir(...l),["stop"]))},t8,512),[[Z,r.seleccionado]]),W(Ie(a,null,null,512),[[Z,n.eliminandose||n.settingTiempos]]),W(g("div",{id:"menuContextual",class:Ae({seleccionado:r.seleccionado}),onClick:t[9]||(t[9]=De(()=>{},["stop"])),onDblclick:t[10]||(t[10]=De(()=>{},["stop"]))},[r.usuarioAdministrador||e.usuarioSuperadministrador?(J(),re("div",{key:0,class:"itemMenuContextual",onClick:t[2]||(t[2]=(...l)=>r.eliminarse&&r.eliminarse(...l))}," Eliminar ")):Te("",!0),g("div",{class:"itemMenuContextual",onClick:t[3]||(t[3]=l=>e.$refs.inputColor.click())}," Seleccionar color "),r.usuarioAdministrador||e.usuarioSuperadministrador?(J(),re("div",{key:1,class:"itemMenuContextual",onClick:t[4]||(t[4]=(...l)=>r.iniciarSetHoraInicio&&r.iniciarSetHoraInicio(...l))}," Fijar hora de inicio ")):Te("",!0),W(g("input",{type:"time",value:r.tiempoInicioFormateado,ref:"inputHoraInicio",id:"inputHoraInicio",onChange:t[5]||(t[5]=(...l)=>r.setHoraInicio&&r.setHoraInicio(...l))},null,40,o8),[[Z,n.editandoHoraInicio]]),r.usuarioAdministrador||e.usuarioSuperadministrador?(J(),re("div",{key:2,class:"itemMenuContextual",onClick:t[6]||(t[6]=(...l)=>r.iniciarSetHoraFinal&&r.iniciarSetHoraFinal(...l))}," Fijar hora de finalización ")):Te("",!0),W(g("input",{type:"time",value:r.tiempoFinalFormateado,ref:"inputHoraFinal",id:"inputHoraFinal",onChange:t[7]||(t[7]=(...l)=>r.setHoraFinal&&r.setHoraFinal(...l))},null,40,n8),[[Z,n.editandoHoraFinal]]),W(g("input",{type:"color",ref:"inputColor",onChange:t[8]||(t[8]=(...l)=>r.setColorEspacio&&r.setColorEspacio(...l)),id:"inputColor"},null,544),[[Z,!1]])],34),[[Z,r.mostrandoMenuContextual]])],38)}const r8=Qe(K6,[["render",i8],["__scopeId","data-v-3acc099a"]]),oc=Se`
  fragment fragEspacio on Espacio {
    id
    nombre
    descripcion
    idAdministrador
    paraChiquis
  }
`,s8={name:"bloqueCreacionHorario",apollo:{espaciosControladosUsuario:{query:Et`
        query {
          espaciosControladosUsuario {
            ...fragEspacio
          }
        }
        ${oc}
      `}},props:{esteBloque:Object},data(){return{idEspacioSeleccionado:null}},methods:{iniciarCreacion(){}},mounted(){this.$refs.selectEspacio.click()}},a8={class:"bloqueCreacionHorario"},c8=g("option",{value:"null",disabled:""},"Seleccionar un espacio",-1),l8=["value"];function u8(e,t,o,i,n,r){return J(),re("div",a8,[W(g("select",{name:"selectEspacio",id:"selectEspacio",ref:"selectEspacio","onUpdate:modelValue":t[0]||(t[0]=a=>n.idEspacioSeleccionado=a),onChange:t[1]||(t[1]=a=>e.$emit("espacioSeleccionado",a.target.value))},[c8,(J(!0),re(Me,null,Ve(e.espaciosControladosUsuario,a=>(J(),re("option",{value:a.id,key:a.id},we(a.nombre),9,l8))),128))],544),[[ka,n.idEspacioSeleccionado]])])}const d8=Qe(s8,[["render",u8]]),nf=Se`
  fragment fragBloqueHorario on IteracionSemanalEspacio {
    id
    millisInicio
    millisFinal
    idsParticipantesConstantes
    diaSemana
    nombreEspacio
    idAdministradorEspacio
    idEspacio
    paraChiquis
  }
`,f8={components:{BloqueHorario:r8,BloqueCreacionHorario:d8},name:"DiaOrganizadorHorario",props:{mostrarCantidadAsistentes:Boolean,nombreDia:String,numeroDia:Number,idEspacioCrear:String,idBloqueSeleccionado:String,bloquesHorario:Array,idBloqueMenuContextual:String,factorZoom:{type:Number,default(){return 1}},offset:Number},data(){return{minutosRelevantesBase:[480,540,600,630,750,810,870,930],creandoBloqueHorario:!1,anchoDiaMinutos:490,heightBloques:100,gapFilas:10,bloqueCreacionHorario:null}},computed:{minutosRelevantes(){return this.minutosRelevantesBase},bloquesHorarioPriorizados(){var e=[...this.bloquesHorario].sort((t,o)=>{var i=0;return t.idAdministradorEspacio===this.usuario.id&&i++,o.idAdministradorEspacio===this.usuario.id&&i--,-i});return e},bloquesHorarioEnriquecidos(){for(var e=[...this.bloquesHorarioPriorizados.map(i=>({...i,fila:0}))],t=0;t<e.length;t++){let i=e[t];for(var o=t;o>=0;o--){let n=e[o];if((n.millisInicio>=i.millisInicio&&n.millisInicio<i.millisFinal||n.millisFinal>i.millisInicio&&n.millisFinal<=i.millisFinal||n.millisInicio<=i.millisInicio&&n.millisFinal>=i.millisFinal)&&n.fila>=i.fila){let a=n.fila+1;i.fila=a}}}return e},maxFila(){var e=this.bloquesHorarioEnriquecidos.reduce((t,o)=>o.fila>t?o.fila:t,0);return e}},methods:{toTiempoFormateado(e){var t=Math.floor(e/60);String(t).length<2&&(t="0"+t);var o=String(Math.round(e-t*60));return o.length<2&&(o="0"+o),t+":"+o},mostrarCalculoMinutos(){},iniciarCreacionBloqueHorario(e){const t=this.$refs.zonaBloques.getBoundingClientRect(),i=e.clientX-t.left,n=this.anchoDiaMinutos/t.width*i+this.offset;console.log("Creando bloque de horario en "+this.toTiempoFormateado(n));var r=n,a=r+60;if(n>=480&&n<540)r=480,a=540;else if(n>=540&&n<600)r=540,a=600;else if(n>=630&&n<750)r=630,a=750;else if(n>=810&&n<870)r=810,a=870;else if(n>=870&&n<930)r=870,a=930;else{console.log("En zona no considerada");return}console.log(`Corregido a ${this.toTiempoFormateado(r)}`);var l=r*6e4,s=a*6e4;this.bloqueCreacionHorario={millisInicio:l,millisFinal:s}},crearBloqueHorario(e){!this.idEspacioCrear||!this.bloqueCreacionHorario||(this.creandoBloqueHorario=!0,this.$apollo.mutate({mutation:Se`
            mutation (
              $idEspacio: ID!
              $millisInicio: Int!
              $diaSemana: Int!
              $millisFinal: Int!
            ) {
              crearBloqueHorario(
                idEspacio: $idEspacio
                millisInicio: $millisInicio
                diaSemana: $diaSemana
                millisFinal: $millisFinal
              ) {
                ...fragBloqueHorario
              }
            }
            ${nf}
          `,variables:{idEspacio:e,millisInicio:this.bloqueCreacionHorario.millisInicio,millisFinal:this.bloqueCreacionHorario.millisFinal,diaSemana:this.numeroDia}}).then(({data:{crearBloqueHorario:t}})=>{this.creandoBloqueHorario=!1,this.$emit("bloqueHorarioCreado",t),this.bloqueCreacionHorario=null}).catch(t=>{console.log("Error: "+t),this.creandoBloqueHorario=!1}))}}},h8={class:"diaOrganizadorHorario"},p8={id:"nombreDia"},m8={id:"barraHoras"};function g8(e,t,o,i,n,r){const a=Re("bloque-creacion-horario"),l=Re("bloque-horario");return J(),re("div",h8,[g("div",p8,we(o.nombreDia),1),g("div",{id:"zonaBloques",ref:"zonaBloques",style:qe([{width:Math.round(n.anchoDiaMinutos*o.factorZoom)+"px",height:r.maxFila*(n.heightBloques+6*n.gapFilas)+"px"}]),onDblclick:t[1]||(t[1]=De((...s)=>r.iniciarCreacionBloqueHorario&&r.iniciarCreacionBloqueHorario(...s),["self"])),onClick:t[2]||(t[2]=De(s=>n.bloqueCreacionHorario=null,["self"]))},[n.bloqueCreacionHorario?(J(),We(a,{key:0,style:qe([{"z-index":"100000"},[{left:(n.bloqueCreacionHorario.millisInicio/6e4-o.offset)*o.factorZoom+"px",top:1*n.gapFilas-5+"px"}]]),esteBloque:n.bloqueCreacionHorario,onEspacioSeleccionado:r.crearBloqueHorario},null,8,["style","esteBloque","onEspacioSeleccionado"])):Te("",!0),(J(!0),re(Me,null,Ve(r.bloquesHorarioEnriquecidos,s=>(J(),We(l,{key:s.id,esteBloque:s,factorZoom:o.factorZoom,style:qe([{left:(s.millisInicio/6e4-o.offset)*o.factorZoom+"px",top:1*n.gapFilas+(s.fila-1)*(n.heightBloques+n.gapFilas)+"px",zIndex:s.id===o.idBloqueMenuContextual?1e4:s.id===o.idBloqueSeleccionado?1e3:100-s.fila}]),idBloqueMenuContextual:o.idBloqueMenuContextual,idBloqueSeleccionado:o.idBloqueSeleccionado,mostrarCantidadAsistentes:o.mostrarCantidadAsistentes,onMeElimine:c=>e.$emit("bloqueEliminado",s.id),onMenuContextual:t[0]||(t[0]=c=>e.$emit("menuContextualBloque",c)),onSeleccionado:c=>e.$emit("bloqueSeleccionado",s.id),onExpandirme:c=>e.$emit("expandirBloque",s.id)},null,8,["esteBloque","factorZoom","style","idBloqueMenuContextual","idBloqueSeleccionado","mostrarCantidadAsistentes","onMeElimine","onSeleccionado","onExpandirme"]))),128))],36),g("div",m8,[(J(!0),re(Me,null,Ve(r.minutosRelevantes,s=>(J(),re("div",{class:"marcaTiempo",key:"minuto"+s,style:qe([{left:Math.round((s-o.offset)*o.factorZoom)+"px"}])},we(r.toTiempoFormateado(s)),5))),128))])])}const v8=Qe(f8,[["render",g8],["__scopeId","data-v-e64bb8b8"]]);var ba={compareTwoStrings:f0,findBestMatch:y8};function f0(e,t){if(e=e.replace(/\s+/g,""),t=t.replace(/\s+/g,""),e===t)return 1;if(e.length<2||t.length<2)return 0;let o=new Map;for(let n=0;n<e.length-1;n++){const r=e.substring(n,n+2),a=o.has(r)?o.get(r)+1:1;o.set(r,a)}let i=0;for(let n=0;n<t.length-1;n++){const r=t.substring(n,n+2),a=o.has(r)?o.get(r):0;a>0&&(o.set(r,a-1),i++)}return 2*i/(e.length+t.length-2)}function y8(e,t){if(!b8(e,t))throw new Error("Bad arguments: First argument should be a string, second should be an array of strings");const o=[];let i=0;for(let r=0;r<t.length;r++){const a=t[r],l=f0(e,a);o.push({target:a,rating:l}),l>o[i].rating&&(i=r)}const n=o[i];return{ratings:o,bestMatch:n,bestMatchIndex:i}}function b8(e,t){return!(typeof e!="string"||!Array.isArray(t)||!t.length||t.find(function(o){return typeof o!="string"}))}const w8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAC+lBMVEUAAAAAAAAAAABxcXEAAACZmZl5eXk6OjpQUFBLS0unp6cnJycLCwsBAQECAgItLS05OTlOTk5JSUk3NzdgYGBhYWFNTU10dHR/f3+oqKgSEhIyMjIAAAAWFhYQEBAhISEWFhYQEBAcHBwxMTFCQkIBAQEzMzM0NDRJSUkqKio8PDwODg49PT1HR0cAAABBQUFCQkIEBAQHBwdlZWU6OjpXV1dgYGAAAAB8fHwwMDCLi4tFRUU7OzsjIyMEBAQAAAAbGxsfHx8NDQ0CAgIQEBBfX18CAgIpKSkoKCgQEBA1NTUvLy9bW1spKSk4ODgdHR0FBQUtLS0nJycYGBgzMzNAQEAtLS0iIiJWVlYeHh41NTUqKiomJiZNTU0tLS1CQkIcHBxTU1NFRUUxMTExMTEmJiYNDQ0tLS1VVVUxMTFPT08dHR1CQkI3NzcfHx8WFhYjIyNSUlIdHR1bW1tFRUVoaGgvLy8AAAAdHR0AAABbW1tKSkoqKipRUVFcXFwaGhouLi5zc3M9PT1ra2tcXFwYGBhzc3MuLi5NTU0JCQlSUlI2NjYgICBxcXFaWloQEBA8PDw5OTmLi4sHBwcZGRkNDQ1gYGAlJSUuLi4QEBA9PT0bGxsAAAAsLCwgICAyMjInJycTExMGBgYKCgoWFhYgICA+Pj42NjZNTU0UFBQiIiI5OTkEBARRUVFJSUkPDw9aWlotLS04ODgUFBRBQUElJSUnJyc7OzsiIiIpKSlHR0dFRUUREREmJiYaGhocHBxTU1M4ODhAQEAdHR1LS0tWVlYyMjIDAwNAQEBPT09CQkI9PT1YWFgsLCwNDQ1ra2tEREQ1NTV9fX1lZWVMTEwAAAAjIyNLS0sNDQ19fX1NTU0ZGRkkJCQ3NzcZGRlCQkJDQ0NOTk4SEhJeXl4BAQEtLS1DQ0M6Ojp3d3ePj49OTk5paWlxcXFkZGQWFhaVlZVzc3MAAABzc3MVFRVQUFAAAAADAwMHBwceHh4kJCQgICAPDw8vLy8oKCh/JHwQAAAA9XRSTlMALoADyQwGkSgRBwb++vXn5bWMZR8bDg0IBf79/fz59evl4NzZ2Na1n5SAgHx7dm5nVk9NTUA+PiwlFhb++/r49/b08vDv6Ofj4uDf3dzZ2dnV1NPRzcjHxsLAwMC/vbmxrKqpop+enZGGgoKAgICAfHp1dGtnZmZhXFhXVVRSUlFMSUhEQT09PDk2Ly4rKyQgHREJ/Pn49vX08fHw6+vq6enp5uPh3tza19bU1NHR0c/LxcG+urm3t7Wwr62lpaKgoJ6Zl5aTkpGPiYmHhoB/fHtycnBuaGZmYVxaV1ZWVU1KSkhGQ0A4NjQ0JyMjIB8fHRUVCt1yxO0AAAQcSURBVGje7dljsNxQGAbgr9ji3tq2bdu2bdu2bdu2bdu2rXfrmbb7Je3OtCfJnrP509nnx/2T95t3JslJcvaSj4+Pz//udd/06Z+SfYZfCJoDLPq+8M/I+7I3KxwC7qIVSRbcuxWRdhbA3+I0DOLFjmN58G+FkgXyUsXb5RCrPNIrHXdywEjOoaQunfv1zpswQd2ASRIkzIk/Qqq39M4NXaz9dyMQi9Cr/kTo8mdW7OgfE5rPLblB97LJF2hmDFbqGJsQmsRZ/zo4qjo0M5VWTG39vB+lf0kBzQaFjo5gudMJApc+csCZQb6ktPYESSdMXInBkWnSa78LWH2DZb0NrK1kR5RiPF/SKDQ+HofKSpYMA3tomOoGllGuJKn2dDJOBUrAsaRSHYEW8PQ1k1xqjiWSeh4H48WeK7JJzu+TKxfCX6YkI1xqmwYTc7CjTEkLnm1pGgzHwVMyJQF5Nr1pMC0HmyuUBDAN3uJgFVtLunNwla0lPTi4UqHkvtVrElTh7kpmGkzJwYAyJQN4drtpcBcH2yus+Fimb4rJ/N6KLFMSNS4P9zPJ3YRL8UAkozFP1zKJbeZYQ5LyCOyxYSoTmORbPnJoHq9gFPIvxaHZJKkd2BGDTDOwFCSrDFxCPRAmbofkSPRI0iUpobUMFL3gv4OlIXk1wHL1pH+5/gVsLSkYPQWapBH/OphtDzSx+aCs7iGhKdI7Crn70CcONKHukZquMaBbGDSL/oiJEjxcUei+nidVXeGmZI0DqVKlSlK1uBN/nCZ1XT7BSIwM5A2Z4kGsdEbyikGNIFZziDcqsqwzPl3RtmRSrcjWIBTMfN7tr9TRswysCN1BoaMp3H1MVCdc505pOqUJ3zlcnUROuAsqW/FmI/6IvemMg9w5UlSfij9GynWMCY3fZh381049eMo40KWV6sgaF7roHSILQpFuFADr8Wvb5O8fyLMPonjQJYlgdPuddGXCjCMaV82JOZnJOr9F0KzoZxINXxQoP4Ao6vpf8Xxjre8Xd0BT6r15+tzVX39HfPTwQ/KEE6yBg6wKwBOtLF/0WGCHyboAHm64loHVJM9LWluMpwZbHdG+kuzfOD4hGEmUJLeWbsNp52WyryRKbE5X8HAvMEIriRrVz8/h8DMOt+XwR4sna9DWwGwpz80vVy5+/DBh4lcaaLQOy3K4kcULOB0C+QeT0CiwYVZfOULVSOgQJyqSNXUhNI+EynMivOU9jFBiEomYh+/fdxZLIhWGQKFXJNLf+tliL9o0rlcv7E9LeDJMlTUlChacVCLoaBJqxdHj5LEA1n+Y2MvRzLaWzOXdwBBbS/gTJZ/D1pIm2q8QtpaMrwqgWBb7Slifi6mDkEqJnYbzf9jOkp2CLMZPeZ+TrcZUAuL2Irs96Us+Pj7yfgCbknGGI9ttswAAAABJRU5ErkJggg==",E8=["Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"],A8={components:{IconoPersonaAutonomo:Wi,Loading:vt},name:"VentanaBloqueHorario",props:{esteBloque:Object,miColor:String},apollo:{participantesCasaMaestraVida:{query:Se`
        query {
          participantesCasaMaestraVida {
            id
            nombres
            apellidos
          }
        }
      `}},data(){return{participantesCasaMaestraVida:[],idPersonaSeleccionado:null,idPersonaMenuCx:null,mostrandoBuscadorAsistentes:!1,textoBusqueda:"",versionBusqueda:0,addingAsistente:!1,opcionesAsistentes:[{textoVisible:"Remover",evento:"remover"}],diasSemana:E8}},computed:{idsAsistentes(){return this.esteBloque.idsParticipantesConstantes},personasAdicionables(){return this.participantesCasaMaestraVida.filter(e=>!this.esteBloque.idsParticipantesConstantes.includes(e.id))},idsPersonasAdicionables(){return this.personasAdicionables.map(e=>e.id)},personasAdicionablesOrdenadas(){var e=this.versionBusqueda;if(!this.textoBusqueda||this.textoBusqueda.length<=2)return this.personasAdicionables;var t=this.textoBusqueda;if(console.log("Version "+e),this.versionBusqueda<0){console.log("Error desconocido");return}return[...this.personasAdicionables].sort((o,i)=>ba.stringSimilarity.compareTwoStrings(i.nombres+i.apellidos,t)-ba.stringSimilarity.compareTwoStrings(o.nombres+o.apellidos,t))},idsPersonasAdicionablesOrdenadas(){return this.personasAdicionablesOrdenadas.map(e=>e.id)},usuarioAdministrador(){return this.esteBloque.idAdministradorEspacio===this.usuario.id},minutosInicio(){return Math.round(this.esteBloque.millisInicio/6e4)},minutosFinal(){return Math.round(this.esteBloque.millisFinal/6e4)}},methods:{iniciarAdicionAsistente(){this.mostrandoBuscadorAsistentes=!0},setTextoBusqueda(){var e=this.$refs.inputTextoBuscador.value;this.textoBusqueda=e,this.versionBusqueda++},addComoAsistente(e){!this.usuarioAdministrador&&!this.usuarioSuperadministrador||(this.addingAsistente=!0,this.$apollo.mutate({mutation:Se`
            mutation ($idEspacio: ID!, $idIteracion: ID!, $idAsistente: ID!) {
              addAsistenteIteracionSemanalEspacio(
                idEspacio: $idEspacio
                idIteracion: $idIteracion
                idAsistente: $idAsistente
              ) {
                id
                idsParticipantesConstantes
              }
            }
          `,variables:{idEspacio:this.esteBloque.idEspacio,idIteracion:this.esteBloque.id,idAsistente:e}}).then(()=>{this.addingAsistente=!1}).catch(t=>{this.addingAsistente=!1,console.log(`Error ${t}`)}))},removerAsistente(e){!this.usuarioAdministrador&&!this.usuarioSuperadministrador||(this.removingAsistente=!0,this.$apollo.mutate({mutation:Se`
            mutation ($idEspacio: ID!, $idIteracion: ID!, $idAsistente: ID!) {
              removeAsistenteIteracionSemanalEspacio(
                idEspacio: $idEspacio
                idIteracion: $idIteracion
                idAsistente: $idAsistente
              ) {
                id
                idsParticipantesConstantes
              }
            }
          `,variables:{idEspacio:this.esteBloque.idEspacio,idIteracion:this.esteBloque.id,idAsistente:e}}).then(()=>{this.removingAsistente=!1}).catch(t=>{this.removingAsistente=!1,console.log(`Error ${t}`)}))},toTiempoFormateado(e){var t=Math.floor(e/60);String(t).length<2&&(t="0"+t);var o=String(Math.round(e-t*60));return o.length<2&&(o="0"+o),t+":"+o}}},nc=e=>(ot("data-v-cc4f818b"),e=e(),nt(),e),_8={id:"titulo"},C8={id:"infoBasica"},S8={class:"info"},N8={class:"seccionListaUsuarios"},x8=nc(()=>g("div",{class:"barraListaUsuarios"},[g("div",{class:"nombreListaUsuarios"},"Coordina")],-1)),T8={class:"listaPersonas"},I8={class:"seccionListaUsuarios"},P8={class:"barraListaUsuarios"},D8=nc(()=>g("div",{class:"nombreListaUsuarios"},"Asisten",-1)),k8={class:"contenedorControles"},R8=nc(()=>g("img",{src:w8,alt:"Agregar",style:{}},null,-1)),O8=[R8],F8={class:"listaPersonas"},L8={id:"zonaAdicionarAsistente"},M8={class:"zonaInformacion",style:{display:"flex"}},B8={class:"informacion",style:{display:"flex"}},U8={class:"contenedorControles",style:{"margin-left":"auto"}},$8=nc(()=>g("img",{src:xo,alt:"Salir",style:{}},null,-1)),j8=[$8];function q8(e,t,o,i,n,r){const a=Re("icono-persona-autonomo"),l=Re("loading");return J(),re("div",{class:"ventanaBloqueHorario",onClick:t[4]||(t[4]=s=>n.idPersonaMenuCx=null)},[g("div",{id:"fondoGris",onClick:t[0]||(t[0]=De(s=>e.$emit("cerrarme"),["self","stop"]))}),g("div",{id:"laPropiaVentana",style:qe([{backgroundColor:o.miColor}])},[g("div",_8,we(o.esteBloque.nombreEspacio),1),g("div",C8,[g("div",S8,we(n.diasSemana[o.esteBloque.diaSemana])+". "+we(r.toTiempoFormateado(r.minutosInicio))+" - "+we(r.toTiempoFormateado(r.minutosFinal)),1)]),g("div",N8,[x8,g("div",T8,[Ie(a,{idPersona:o.esteBloque.idAdministradorEspacio},null,8,["idPersona"])])]),g("div",I8,[g("div",P8,[D8,g("div",k8,[e.usuarioSuperadministrador||r.usuarioAdministrador?(J(),re("div",{key:0,class:"boton",onClick:t[1]||(t[1]=(...s)=>r.iniciarAdicionAsistente&&r.iniciarAdicionAsistente(...s))},O8)):Te("",!0)])]),W(g("div",F8,[(J(!0),re(Me,null,Ve(r.idsAsistentes,s=>(J(),We(a,{key:s,idPersona:s,seleccionado:s===n.idPersonaSeleccionado,opcionesMenuCx:n.opcionesAsistentes,menuContextual:n.idPersonaMenuCx===s,onClick:De(c=>n.idPersonaSeleccionado=n.idPersonaSeleccionado===s?null:s,["stop"]),onContextmenu:De(c=>n.idPersonaMenuCx=s,["right","stop","prevent"]),onRemover:c=>r.removerAsistente(s)},null,8,["idPersona","seleccionado","opcionesMenuCx","menuContextual","onClick","onContextmenu","onRemover"]))),128))],512),[[Z,!n.mostrandoBuscadorAsistentes]]),W(g("div",L8,[g("div",M8,[g("div",B8,[W(Ie(l,null,null,512),[[Z,e.$apollo.queries.participantesCasaMaestraVida.loading]]),dt(" Adicionando asistentes ")]),g("div",U8,[g("div",{class:"boton",onClick:t[2]||(t[2]=s=>n.mostrandoBuscadorAsistentes=!1)},j8)])]),g("div",{id:"zonaInputBuscador",class:Ae({deshabilitado:e.$apollo.queries.participantesCasaMaestraVida.loading}),style:{width:"100%"}},[g("input",{type:"text",ref:"inputTextoBuscador",id:"inputTextoBuscador",placeholder:"buscar",onKeypress:t[3]||(t[3]=xt((...s)=>r.setTextoBusqueda&&r.setTextoBusqueda(...s),["enter"]))},null,544)],2),g("div",{class:Ae(["listaPersonas",{deshabilitado:n.addingAsistente||e.$apollo.queries.participantesCasaMaestraVida.loading}])},[(J(!0),re(Me,null,Ve(r.idsPersonasAdicionablesOrdenadas,s=>(J(),We(a,{key:s,idPersona:s,seleccionado:s===n.idPersonaSeleccionado,onClick:De(c=>n.idPersonaSeleccionado=n.idPersonaSeleccionado===s?null:s,["stop"]),onDblclick:De(c=>r.addComoAsistente(s),["stop"])},null,8,["idPersona","seleccionado","onClick","onDblclick"]))),128))],2)],512),[[Z,n.mostrandoBuscadorAsistentes]])])],4)])}const H8=Qe(A8,[["render",q8],["__scopeId","data-v-cc4f818b"]]),ic="/caracol/assets/cog-a1bf6849.svg",Er=Et`
  query ($idsAdministradores: [ID]!) {
    iteracionesSemanalesEspaciosByAdministradores(
      idsAdministradores: $idsAdministradores
    ) {
      ...fragBloqueHorario
    }
  }
  ${nf}
`,V8={components:{DiaOrganizadorHorario:v8,VentanaBloqueHorario:H8},props:{yo:Object},name:"OrganizadorHorarioSemanal",apollo:{espacios:{query:Et`
        query ($idsUsuarios: [ID]!) {
          espaciosByUsuariosAdmin(idsUsuarios: $idsUsuarios) {
            ...fragEspacio
          }
        }
        ${oc}
      `,variables(){return{idsUsuarios:[this.usuario.id]}},update({espaciosByUsuariosAdmin:e}){const t=e.find(o=>o.idAdministrador===this.usuario.id);return t&&(this.idEspacioCrear=t.id),e},skip(){var e;return!((e=this.usuario)!=null&&e.id)}},usuariosProfe:{query:Et`
        query {
          usuariosProfe {
            id
            nombres
          }
        }
      `},bloquesHorario:{query:Er,variables(){return{idsAdministradores:this.idsUsuariosSeleccionados}},skip(){return!this.idsUsuariosSeleccionados||this.idsUsuariosSeleccionados.length<1},update({iteracionesSemanalesEspaciosByAdministradores:e}){return e}},bloquesHorarioUsuarioAsiste:{query:Et`
        query {
          bloquesHorarioUsuarioAsiste {
            ...fragBloqueHorario
          }
        }
        ${nf}
      `,skip(){return!this.configuracionAdministradoresEspacios.includes("yo")}}},data(){const e=localStorage.getItem("configuracionOrganizadorHorarioSemanal");var t={};return e&&(t=JSON.parse(e)),console.log("La configuración es: "),console.table(t),{usuariosProfe:[],espacios:[],bloquesHorarioUsuarioAsiste:[],diasSemana:["Lunes","Martes","Miércoles","Jueves","Viernes"],factorZoom:3,offset:470,idEspacioCrear:null,configuracionAdministradoresEspacios:t.configuracionAdministradoresEspacios||["yo"],mostrandoConfiguracion:!1,mostrarBloquesParaChiquis:t.mostrarBloquesParaChiquis!=null&&t.mostrarBloquesParaChiquis!=null?t.mostrarBloquesParaChiquis:!0,mostrarBloquesParaTodos:t.mostrarBloquesParaTodos!=null&&t.mostrarBloquesParaTodos!=null?t.mostrarBloquesParaTodos:!0,mostrarCantidadAsistentes:t.mostrarCantidadAsistentes!=null&&t.mostrarCantidadAsistentes!=null?t.mostrarCantidadAsistentes:!1,bloquesHorario:[],idBloqueMenuContextual:null,idBloqueSeleccionado:null,idBloqueEnVentana:null}},computed:{todosBloquesDescargados(){return this.bloquesHorario.concat(this.bloquesHorarioUsuarioAsiste)},espaciosCreables(){return this.espacios},bloqueEnVentana(){return this.idBloqueEnVentana?this.todosBloquesDescargados.find(e=>e.id===this.idBloqueEnVentana):null},usuariosSeleccionables(){var e=[...this.usuariosProfe];return!this.usuariosProfe.some(t=>t.id===this.usuario.id)&&this.yo&&e.push({id:this.usuario.id,nombres:this.yo.nombres}),e},idsUsuariosSeleccionados(){var e=[];return this.configuracionAdministradoresEspacios.includes("yo")&&e.push(this.usuario.id),this.configuracionAdministradoresEspacios.includes("profesorxs")&&e.push(...this.usuariosProfe.map(t=>t.id)),e},bloquesActivos(){var e=[...this.bloquesHorario];const t=e.map(i=>i.id);if(this.configuracionAdministradoresEspacios.includes("yo"))for(var o of this.bloquesHorarioUsuarioAsiste)t.includes(o.id)||e.push(o);return this.mostrarBloquesParaChiquis||(e=e.filter(i=>!i.paraChiquis)),this.mostrarBloquesParaTodos||(e=e.filter(i=>i.paraChiquis)),e}},methods:{addBloqueHorarioCache(e){console.log(`Adding to cache un bloque con id ${e.id}`);const t=this.$apollo.provider.defaultClient,o=t.readQuery({query:Er,variables:{idsAdministradores:this.idsUsuariosSeleccionados}});var i=JSON.parse(JSON.stringify(o));i.iteracionesSemanalesEspaciosByAdministradores.findIndex(r=>r.id===e.id)<0?(i.iteracionesSemanalesEspaciosByAdministradores.push(e),t.writeQuery({query:Er,variables:{idsAdministradores:this.idsUsuariosSeleccionados},data:i})):console.log("Iteración semanal ya estaba en caché")},eliminarBloqueHorarioCache(e){console.log(`Removing from cache un bloque con id ${e}`);const t=this.$apollo.provider.defaultClient,o=t.readQuery({query:Er,variables:{idsAdministradores:this.idsUsuariosSeleccionados}});var i=JSON.parse(JSON.stringify(o));const n=i.iteracionesSemanalesEspaciosByAdministradores.findIndex(r=>r.id===e);n>-1?(i.iteracionesSemanalesEspaciosByAdministradores.splice(n,1),t.writeQuery({query:Er,variables:{idsAdministradores:this.idsUsuariosSeleccionados},data:i})):console.log("Iteración semanal no estaba en caché")},abrirVentanaBloque(e){console.log("Abriendo la ventana del bloque con id "+e)},setIdBloqueVentana(e){this.idBloqueEnVentana=e},checkVentanaBloque(){return this.idBloqueEnVentana?(this.idBloqueEnVentana=null,!0):!1},setLocalStorageConfiguracion(){const e={mostrarBloquesParaChiquis:this.mostrarBloquesParaChiquis,mostrarBloquesParaTodos:this.mostrarBloquesParaTodos,configuracionAdministradoresEspacios:this.configuracionAdministradoresEspacios,mostrarCantidadAsistentes:this.mostrarCantidadAsistentes},t=JSON.stringify(e);localStorage.setItem("configuracionOrganizadorHorarioSemanal",t)}},watch:{configuracionAdministradoresEspacios(){this.setLocalStorageConfiguracion()},mostrarBloquesParaChiquis(){this.setLocalStorageConfiguracion()},mostrarBloquesParaTodos(){this.setLocalStorageConfiguracion()},mostrarCantidadAsistentes(){this.setLocalStorageConfiguracion()}}},Yi=e=>(ot("data-v-cf27f31b"),e=e(),nt(),e),z8={class:"barraComponente"},Q8={class:"contenedorControles",style:{"margin-left":"auto"}},G8={class:"boton"},W8={class:"zonaConfiguracion"},K8=Yi(()=>g("div",{class:"barraSeccion"},"Configuración.",-1)),J8={class:"contenedorBloquesConfiguracion"},Y8={id:"configuracionAdministradoresEspacios",class:"bloqueConfiguracion"},Z8={class:"campoConfiguracion"},X8=Yi(()=>g("label",{for:"checkAdministradorYo"},"Mostrar mis bloques",-1)),e4={class:"campoConfiguracion"},t4=Yi(()=>g("label",{for:"checkAdministradorYo"},"Mostrar bloques de profes",-1)),o4={class:"bloqueConfiguracion"},n4={class:"campoConfiguracion"},i4=Yi(()=>g("label",{for:"checkMostrarBloquesNiñosPequeños"},"Mostrar bloques dirigidos a niñxs pequeñxs",-1)),r4={class:"campoConfiguracion"},s4=Yi(()=>g("label",{for:"checkMostrarBloquesTodos"},"Mostrar bloques dirigidos a todxs",-1)),a4={class:"bloqueConfiguracion"},c4={class:"campoConfiguracion"},l4=Yi(()=>g("label",{for:"checkMostrarCantidadAsistentes"},"Mostrar cantidad de asistentes de cada bloque",-1)),u4={class:"nombreProfe"},d4=["value"],f4={id:"contenedorDias"};function h4(e,t,o,i,n,r){const a=Re("ventana-bloque-horario"),l=Re("dia-organizador-horario");return J(),re("div",{class:"organizadorHorarioSemanal",onClick:t[10]||(t[10]=De(s=>n.idBloqueMenuContextual=null,["left","exact"]))},[r.bloqueEnVentana?(J(),We(a,{key:0,esteBloque:r.bloqueEnVentana,onCerrarme:t[0]||(t[0]=s=>n.idBloqueEnVentana=null)},null,8,["esteBloque"])):Te("",!0),g("div",z8,[dt(" Organizador de horario "),g("div",Q8,[g("div",G8,[g("img",{src:ic,onClick:t[1]||(t[1]=De(s=>n.mostrandoConfiguracion=!n.mostrandoConfiguracion,["stop"])),alt:"configrurar",style:{}})])])]),W(g("div",W8,[K8,g("div",J8,[g("div",Y8,[g("div",Z8,[X8,W(g("input",{type:"checkbox",name:"checkAdministradorYo","onUpdate:modelValue":t[2]||(t[2]=s=>n.configuracionAdministradoresEspacios=s),value:"yo",id:""},null,512),[[Un,n.configuracionAdministradoresEspacios]])]),g("div",e4,[t4,W(g("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=s=>n.configuracionAdministradoresEspacios=s),value:"profesorxs",id:""},null,512),[[Un,n.configuracionAdministradoresEspacios]])])]),g("div",o4,[g("div",n4,[i4,W(g("input",{type:"checkbox",name:"checkMostrarBloquesNiñosPequeños",ref:"checkMostrarBloquesNiñosPequeños",id:"checkMostrarBloquesNiñosPequeños","onUpdate:modelValue":t[4]||(t[4]=s=>n.mostrarBloquesParaChiquis=s)},null,512),[[Un,n.mostrarBloquesParaChiquis]])]),g("div",r4,[s4,W(g("input",{type:"checkbox",name:"checkMostrarBloquesTodos",ref:"checkMostrarBloquesTodos",id:"checkMostrarBloquesTodos","onUpdate:modelValue":t[5]||(t[5]=s=>n.mostrarBloquesParaTodos=s)},null,512),[[Un,n.mostrarBloquesParaTodos]])])]),g("div",a4,[g("div",c4,[l4,W(g("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=s=>n.mostrarCantidadAsistentes=s)},null,512),[[Un,n.mostrarCantidadAsistentes]])])])])],512),[[Z,n.mostrandoConfiguracion]]),(J(!0),re(Me,null,Ve(r.usuariosSeleccionables,s=>W((J(),re("div",{class:"zonaCheckAdministradorEspacios",key:s.id},[g("div",u4,we(s.nombres),1),W(g("input",{type:"checkbox",value:s.id,ref_for:!0,ref:"checkProfe",id:"checkProfe","onUpdate:modelValue":t[7]||(t[7]=c=>r.idsUsuariosSeleccionados=c)},null,8,d4),[[Un,r.idsUsuariosSeleccionados]])])),[[Z,!1]])),128)),g("div",f4,[(J(!0),re(Me,null,Ve(n.diasSemana,(s,c)=>(J(),We(l,{key:s,nombreDia:s,numeroDia:c,factorZoom:n.factorZoom,offset:n.offset,idEspacioCrear:n.idEspacioCrear,bloquesHorario:r.bloquesActivos.filter(u=>u.diaSemana===c),idBloqueMenuContextual:n.idBloqueMenuContextual,idBloqueSeleccionado:n.idBloqueSeleccionado,mostrarCantidadAsistentes:n.mostrarCantidadAsistentes,onBloqueSeleccionado:t[8]||(t[8]=u=>n.idBloqueSeleccionado=n.idBloqueSeleccionado===u?null:u),onBloqueHorarioCreado:r.addBloqueHorarioCache,onMenuContextualBloque:t[9]||(t[9]=u=>n.idBloqueMenuContextual=u),onBloqueEliminado:r.eliminarBloqueHorarioCache,onExpandirBloque:r.setIdBloqueVentana},null,8,["nombreDia","numeroDia","factorZoom","offset","idEspacioCrear","bloquesHorario","idBloqueMenuContextual","idBloqueSeleccionado","mostrarCantidadAsistentes","onBloqueHorarioCreado","onBloqueEliminado","onExpandirBloque"]))),128))])])}const h0=Qe(V8,[["render",h4],["__scopeId","data-v-cf27f31b"]]),fs="/caracol/assets/info-75a47447.svg",p0="/caracol/assets/key-116c2c00.svg",rf="/caracol/assets/calendar-502cbab1.svg",p4="/caracol/assets/envelope-8b028cd2.svg",m4="/caracol/assets/whatsapp-679f515c.svg",g4={components:{Loading:vt,Calendario:of,OrganizadorHorarioSemanal:h0},name:"PerfilPersonal",apollo:{esteUsuario:{query:Se`
        query {
          yo {
            nombres
            apellidos
            username
            email
            numeroTel
          }
        }
      `,update({yo:e}){return e}}},data(){return{seccion:"informacionPersonal",esteUsuario:{permisos:[],id:null},inputCurrentPass:null,newPass:null,newPass2:null,enviandoCambioPass:!1,textoResultadoCambioPass:null,mostrandoOpcionesCrearSubNodo:!1,creandoSubNodo:!1,versionFoto:0}},computed:{inputCurrentPassIlegal(){return!this.inputCurrentPass||this.inputCurrentPass.length<Cg},newPassIlegal(){return!!(!this.newPass||this.newPass.length<Cg||this.newPass.length>RB||kB.test(this.newPass))},newPass2Ilegal(){return!this.newPass2||!this.newPass||this.newPass!=this.newPass2}},methods:{enviarCambioPass(){this.newPassIlegal||this.newPass2Ilegal||(this.textoResultadoCambioPass=null,this.newPass!==this.inputCurrentPass&&(this.enviandoCambioPass=!0,this.$apollo.mutate({mutation:Se`
            mutation ($dizqueCurrentPassword: String!, $newPassword: String!) {
              cambiarPassword(
                dizqueCurrentPassword: $dizqueCurrentPassword
                newPassword: $newPassword
              )
            }
          `,variables:{dizqueCurrentPassword:this.inputCurrentPass,newPassword:this.newPass}}).then(({data:{cambiarPassword:e}})=>{e&&alert("Contraseña cambiada"),this.enviandoCambioPass=!1,this.inputCurrentPass=null,this.newPass=null,this.newPass2=null}).catch(e=>{console.log(`Error cambiando pass: ${e}`),this.enviandoCambioPass=!1,this.textoResultadoCambioPass="Error"})))},uploadNuevaFoto(e){console.log("Uploading foto");const t=e.target;var o=new FormData;const i=t.files[0];o.append("nuevaFoto",i),this.subiendoNuevaFoto=!0,Za({method:"post",url:this.serverUrl+"/api/usuarios/updateFoto",data:o,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.usuario.token}}).then(({data:{resultado:n}})=>{this.subiendoNuevaFoto=!1,n&&(console.log("Foto actualizada"),this.versionFoto++)}).catch(n=>{this.subiendoNuevaFoto=!1,console.log(`Error subiendo archivo. E: ${n}`)})}}},si=e=>(ot("data-v-fbc5c9b8"),e=e(),nt(),e),v4={key:0,class:"perfilPersonal"},y4={id:"zonaSelectores",class:"contenedorControles"},b4=si(()=>g("img",{src:fs,alt:"Informacion"},null,-1)),w4=[b4],E4=si(()=>g("img",{src:p0,alt:"Pass"},null,-1)),A4=[E4],_4=si(()=>g("img",{src:rf,alt:"Calendario"},null,-1)),C4=[_4],S4={key:0,id:"contenido"},N4={id:"zonaInformacionPersonal"},x4=["src"],T4={id:"zonaCamposEditablesInformacionPersonal"},I4={class:"informacionPersonal",id:"nombres",style:{"align-self":"center"}},P4={class:"informacionPersonal",id:"apellidos",style:{"align-self":"center"}},D4={class:"informacionPersonal",id:"email"},k4=si(()=>g("img",{src:p4,alt:"Mail",class:"iconoInformacionPersonal",title:"Correo electrónico"},null,-1)),R4=si(()=>g("img",{src:m4,alt:"Mail",class:"iconoInformacionPersonal",title:"Añdir un número móvil"},null,-1)),O4={id:"zonaCambiarPass"},F4=si(()=>g("div",{class:"tituloSeccion"},"Cambio de contraseña",-1)),L4={id:"instruccionesNuevoPass"},M4=["disabled"],B4=si(()=>g("span",null," Enviar",-1)),U4={id:"textoResultadoCambioPass"},$4={key:0,id:"zonaCalendario"},j4={key:1,id:"zonaOrganizadorSemanal"};function q4(e,t,o,i,n,r){const a=Re("loading"),l=Re("calendario"),s=Re("organizador-horario-semanal"),c=Re("router-view");return e.usuarioLogeado?(J(),re("div",v4,[W(Ie(a,{texto:"Cargando"},null,512),[[Z,e.$apollo.queries.esteUsuario.loading]]),g("div",y4,[g("div",{class:"boton",title:"Información personal",onClick:t[0]||(t[0]=u=>n.seccion="informacionPersonal")},w4),g("div",{class:"boton",title:"Cambiar contraseña",onClick:t[1]||(t[1]=u=>n.seccion="cambiarPass")},A4),g("div",{class:"boton",title:"Mi calendario",onClick:t[2]||(t[2]=u=>n.seccion="calendario")},C4)]),e.$apollo.queries.esteUsuario.loading?Te("",!0):(J(),re("div",S4,[W(g("div",N4,[g("div",{id:"fotografia",onClick:t[4]||(t[4]=u=>e.$refs.inputFotoUsuario.click())},[g("img",{src:this.serverUrl+"/api/usuarios/fotografias/"+e.usuario.id+"?v="+n.versionFoto,alt:"Fotografía"},null,8,x4),W(g("input",{type:"file",ref:"inputFotoUsuario",onChange:t[3]||(t[3]=(...u)=>r.uploadNuevaFoto&&r.uploadNuevaFoto(...u))},null,544),[[Z,!1]])]),g("div",T4,[g("div",I4,we(n.esteUsuario.nombres),1),g("div",P4,we(n.esteUsuario.apellidos),1),g("div",D4,[k4,g("span",null,we(n.esteUsuario.email),1)]),R4,(J(!0),re(Me,null,Ve(n.esteUsuario.numerosMovil,u=>(J(),re("div",{class:"informacionPersonal numeroMovil",key:u.id},[g("span",null,we(n.esteUsuario.numeroMovil),1)]))),128))])],512),[[Z,n.seccion==="informacionPersonal"]]),W(g("div",O4,[F4,W(g("input",{"onUpdate:modelValue":t[5]||(t[5]=u=>n.inputCurrentPass=u),placeholder:"Contraseña actual",type:"password",id:"inputCurrentPass",class:"inputCambiarPass"},null,512),[[Ke,n.inputCurrentPass]]),W(g("div",L4," La contraseña debe tener al menos 8 caracteres y no contener espacios. ",512),[[Z,r.newPassIlegal&&!r.inputCurrentPassIlegal]]),W(g("input",{"onUpdate:modelValue":t[6]||(t[6]=u=>n.newPass=u),placeholder:"Nueva contraseña",type:"password",id:"inputNuevoPass",class:Ae(["inputCambiarPass",{aprobado:!r.newPassIlegal}])},null,2),[[Ke,n.newPass],[Z,!r.inputCurrentPassIlegal]]),W(g("input",{disabled:r.newPassIlegal,"onUpdate:modelValue":t[7]||(t[7]=u=>n.newPass2=u),placeholder:"Nueva contraseña (Otra vez)",type:"password",id:"inputNuevoPass2",class:Ae(["inputCambiarPass",{aprobado:!r.newPassIlegal&&!r.newPass2Ilegal}]),onKeypress:t[8]||(t[8]=xt((...u)=>r.enviarCambioPass&&r.enviarCambioPass(...u),["enter"]))},null,42,M4),[[Ke,n.newPass2],[Z,!r.newPassIlegal]]),g("div",{id:"botonEnviarNuevoPass",onClick:t[9]||(t[9]=(...u)=>r.enviarCambioPass&&r.enviarCambioPass(...u)),class:Ae({deshabilitado:r.newPassIlegal||r.newPass2Ilegal||n.enviandoCambioPass})},[B4,W(Ie(a,{texto:""},null,512),[[Z,n.enviandoCambioPass]])],2),g("div",U4,we(n.textoResultadoCambioPass),1)],512),[[Z,n.seccion==="cambiarPass"]]),n.seccion==="calendario"?(J(),re("div",$4,[e.usuarioLogeado?(J(),We(l,{key:0,enfasis:"eventosPersonales",idUsuarioTarget:this.usuario.id},null,8,["idUsuarioTarget"])):Te("",!0)])):Te("",!0),n.seccion==="organizadorSemanal"?(J(),re("div",j4,[Ie(s)])):Te("",!0)])),Ie(c)])):Te("",!0)}const H4=Qe(g4,[["render",q4],["__scopeId","data-v-fbc5c9b8"]]);var xg=/[^ a-zA-ZÀ-ž0-9_():.,-]/g,Tg=/[^ a-zA-ZÀ-žñÑ]/g,V4=/[^0-9+-]/g,z4=/\S+@\S+\.\S+/,Q4=/[12][90][0-9][0-9]-[01][0-9]-[0-3][0-9]/,G4=/[^a-zA-Z0-9ñÑ*@_-]/g;const W4=function(e){var t=[];for(let o in e){if(!e[o])return t.push(`Falta ${o}`),t;e[o]=e[o].trim(),o=="nombres"?(e.nombres.length<2&&t.push("Tu nombre es muy corto"),Tg.test(e.nombres)&&t.push("Tu nombre contiene caracteres no permitidos")):o=="apellidos"?(e.apellidos.length<2&&t.push("Tu apellido es muy corto"),Tg.test(e.apellidos)&&t.push("Tu apellido contiene caracteres no permitidos")):o=="fechaNacimiento"?Q4.test(e.fechaNacimiento)||t.push("Tu fecha de nacimiento es incorrecta"):o=="email"?e.email.length>0&&!z4.test(e.email)&&t.push("Tu e-mail no es válido"):o=="numeroTel"?V4.test(e.numeroTel)&&t.push("Tu número telefónico no es válido"):o=="lugarResidencia"?(e.lugarResidencia.length<2&&t.push("Tu lugar de residencia es muy corto"),xg.test(e.lugarResidencia)&&t.push("Tu lugar de residencia contiene caracteres no permitidos")):o=="username"?(e.username.length<4&&t.push("Tu nombre de usuario es muy corto"),xg.test(e.username)&&t.push("Tu nombre de usuario contiene caracteres no permitidos")):o=="password"?((e.password.length<6||e.password.length>32)&&t.push("Tu contraseña debe contener entre 6 y 32 caracteres"),G4.test(e.password)&&t.push("Tu password contiene caracteres no permitidos")):t.push(`El dato ${o} no tenía lógica de validación. Informa al administrador del sistema por favor`)}return t},K4={name:"Registro",data(){return{datosRegistro:{nombres:null,apellidos:null,fechaNacimiento:null,email:null,numeroTel:null,lugarResidencia:null,username:null,password:null},camposObligatorios:["nombres","apellidos","username","password"]}},methods:{enviarRegistro(){let e=new Object;this.datosRegistro.username||(this.datosRegistro.username=this.datosRegistro.nombres.split(" ")[0]+this.datosRegistro.apellidos.split(" ")[0]),this.datosRegistro.password||(this.datosRegistro.password=this.datosRegistro.nombres.split(" ")[0]+this.datosRegistro.apellidos.split(" ")[0]);for(let i in this.datosRegistro)this.datosRegistro[i]?e[i]=this.datosRegistro[i]:console.log(`campo ${i} vacio`);this.camposObligatorios.forEach(i=>{if(!e[i]){console.log(`Faltaba el campo ${i}`);return}});let t=this,o=W4(e);o.length<1?Za.post(this.serverUrl+"/api/usuarios/registro",{usuario:e}).then(function(i){console.log(`respuesta: ${JSON.stringify(i.data)}`),i.data.registro&&alert("Registro ok"),t.vaciarCampos()}).catch(function(i){console.log(`error: ${i}`)}):console.log(`Errores: ${o}`)},vaciarCampos(){console.log("Vaciando campos"),this.datosRegistro={nombres:null,apellidos:null,fechaNacimiento:null,email:null,numeroTel:null,lugarResidencia:null,username:null,password:null}},alertar(e){console.log(e)}}},Rt=e=>(ot("data-v-874015c0"),e=e(),nt(),e),J4={class:"registro"},Y4={id:"zonaDatosPersonales"},Z4=Rt(()=>g("h3",null,"Información Personal",-1)),X4=Rt(()=>g("br",null,null,-1)),e3=Rt(()=>g("br",null,null,-1)),t3=Rt(()=>g("br",null,null,-1)),o3=Rt(()=>g("label",{for:"fechaNacimiento"},"Fecha de nacimiento",-1)),n3=Rt(()=>g("br",null,null,-1)),i3=Rt(()=>g("br",null,null,-1)),r3={id:"zonaContacto"},s3=Rt(()=>g("h3",null,"Datos de contacto",-1)),a3=Rt(()=>g("br",null,null,-1)),c3=Rt(()=>g("br",null,null,-1)),l3=Rt(()=>g("label",{for:"numeroTel"},"Número telefónico",-1)),u3=Rt(()=>g("br",null,null,-1)),d3=Rt(()=>g("br",null,null,-1)),f3=Rt(()=>g("br",null,null,-1)),h3=Rt(()=>g("label",{for:"lugarResidencia"},"Lugar de residencia",-1)),p3=Rt(()=>g("br",null,null,-1)),m3={id:"zonaLogin"},g3=Rt(()=>g("h3",null,"Datos de login",-1)),v3=Rt(()=>g("br",null,null,-1)),y3=Rt(()=>g("br",null,null,-1));function b3(e,t,o,i,n,r){return J(),re("div",J4,[g("form",null,[g("div",Y4,[Z4,W(g("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>n.datosRegistro.nombres=a),type:"text",name:"nombres",placeholder:"Nombres"},null,512),[[Ke,n.datosRegistro.nombres]]),X4,W(g("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>n.datosRegistro.apellidos=a),type:"text",name:"apellidos",placeholder:"Apellidos"},null,512),[[Ke,n.datosRegistro.apellidos]]),e3,t3,o3,n3,W(g("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>n.datosRegistro.fechaNacimiento=a),type:"date",name:"fechaNacimiento"},null,512),[[Ke,n.datosRegistro.fechaNacimiento]]),i3]),g("div",r3,[s3,W(g("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>n.datosRegistro.email=a),type:"email",placeholder:"Correo electrónico"},null,512),[[Ke,n.datosRegistro.email]]),a3,c3,l3,u3,W(g("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>n.datosRegistro.numeroTel=a),type:"text",name:"numeroTel"},null,512),[[Ke,n.datosRegistro.numeroTel]]),d3,f3,h3,p3,W(g("input",{"onUpdate:modelValue":t[5]||(t[5]=a=>n.datosRegistro.lugarResidencia=a),type:"text",placeholder:"Lugar de residencia"},null,512),[[Ke,n.datosRegistro.lugarResidencia]])]),g("div",m3,[g3,W(g("input",{type:"text",placeholder:"nombre de usuario",name:"username","onUpdate:modelValue":t[6]||(t[6]=a=>n.datosRegistro.username=a)},null,512),[[Ke,n.datosRegistro.username]]),v3,W(g("input",{type:"password",placeholder:"password",name:"password","onUpdate:modelValue":t[7]||(t[7]=a=>n.datosRegistro.password=a)},null,512),[[Ke,n.datosRegistro.password]]),y3]),g("button",{onClick:t[8]||(t[8]=De((...a)=>r.enviarRegistro&&r.enviarRegistro(...a),["prevent"]))},"Enviar")])])}const w3=Qe(K4,[["render",b3],["__scopeId","data-v-874015c0"]]);var Le={},E3={get exports(){return Le},set exports(e){Le=e}};/*! For license information please see index.js.LICENSE.txt */(function(e,t){(function(o,i){e.exports=i()})(globalThis,()=>(()=>{var o={9742:(a,l)=>{l.byteLength=function(I){var N=v(I),_=N[0],b=N[1];return 3*(_+b)/4-b},l.toByteArray=function(I){var N,_,b=v(I),w=b[0],T=b[1],k=new u(function(P,D,B){return 3*(D+B)/4-B}(0,w,T)),M=0,H=T>0?w-4:w;for(_=0;_<H;_+=4)N=c[I.charCodeAt(_)]<<18|c[I.charCodeAt(_+1)]<<12|c[I.charCodeAt(_+2)]<<6|c[I.charCodeAt(_+3)],k[M++]=N>>16&255,k[M++]=N>>8&255,k[M++]=255&N;return T===2&&(N=c[I.charCodeAt(_)]<<2|c[I.charCodeAt(_+1)]>>4,k[M++]=255&N),T===1&&(N=c[I.charCodeAt(_)]<<10|c[I.charCodeAt(_+1)]<<4|c[I.charCodeAt(_+2)]>>2,k[M++]=N>>8&255,k[M++]=255&N),k},l.fromByteArray=function(I){for(var N,_=I.length,b=_%3,w=[],T=16383,k=0,M=_-b;k<M;k+=T)w.push(C(I,k,k+T>M?M:k+T));return b===1?(N=I[_-1],w.push(s[N>>2]+s[N<<4&63]+"==")):b===2&&(N=(I[_-2]<<8)+I[_-1],w.push(s[N>>10]+s[N>>4&63]+s[N<<2&63]+"=")),w.join("")};for(var s=[],c=[],u=typeof Uint8Array<"u"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,y=f.length;p<y;++p)s[p]=f[p],c[f.charCodeAt(p)]=p;function v(I){var N=I.length;if(N%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=I.indexOf("=");return _===-1&&(_=N),[_,_===N?0:4-_%4]}function C(I,N,_){for(var b,w,T=[],k=N;k<_;k+=3)b=(I[k]<<16&16711680)+(I[k+1]<<8&65280)+(255&I[k+2]),T.push(s[(w=b)>>18&63]+s[w>>12&63]+s[w>>6&63]+s[63&w]);return T.join("")}c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},8764:(a,l,s)=>{const c=s(9742),u=s(645),f=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;l.Buffer=v,l.SlowBuffer=function(A){return+A!=A&&(A=0),v.alloc(+A)},l.INSPECT_MAX_BYTES=50;const p=2147483647;function y(A){if(A>p)throw new RangeError('The value "'+A+'" is invalid for option "size"');const R=new Uint8Array(A);return Object.setPrototypeOf(R,v.prototype),R}function v(A,R,j){if(typeof A=="number"){if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return N(A)}return C(A,R,j)}function C(A,R,j){if(typeof A=="string")return function(ue,Ce){if(typeof Ce=="string"&&Ce!==""||(Ce="utf8"),!v.isEncoding(Ce))throw new TypeError("Unknown encoding: "+Ce);const He=0|T(ue,Ce);let Je=y(He);const ut=Je.write(ue,Ce);return ut!==He&&(Je=Je.slice(0,ut)),Je}(A,R);if(ArrayBuffer.isView(A))return function(ue){if(pe(ue,Uint8Array)){const Ce=new Uint8Array(ue);return b(Ce.buffer,Ce.byteOffset,Ce.byteLength)}return _(ue)}(A);if(A==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(pe(A,ArrayBuffer)||A&&pe(A.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pe(A,SharedArrayBuffer)||A&&pe(A.buffer,SharedArrayBuffer)))return b(A,R,j);if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ne=A.valueOf&&A.valueOf();if(ne!=null&&ne!==A)return v.from(ne,R,j);const ce=function(ue){if(v.isBuffer(ue)){const Ce=0|w(ue.length),He=y(Ce);return He.length===0||ue.copy(He,0,0,Ce),He}return ue.length!==void 0?typeof ue.length!="number"||Ee(ue.length)?y(0):_(ue):ue.type==="Buffer"&&Array.isArray(ue.data)?_(ue.data):void 0}(A);if(ce)return ce;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return v.from(A[Symbol.toPrimitive]("string"),R,j);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}function I(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function N(A){return I(A),y(A<0?0:0|w(A))}function _(A){const R=A.length<0?0:0|w(A.length),j=y(R);for(let ne=0;ne<R;ne+=1)j[ne]=255&A[ne];return j}function b(A,R,j){if(R<0||A.byteLength<R)throw new RangeError('"offset" is outside of buffer bounds');if(A.byteLength<R+(j||0))throw new RangeError('"length" is outside of buffer bounds');let ne;return ne=R===void 0&&j===void 0?new Uint8Array(A):j===void 0?new Uint8Array(A,R):new Uint8Array(A,R,j),Object.setPrototypeOf(ne,v.prototype),ne}function w(A){if(A>=p)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return 0|A}function T(A,R){if(v.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||pe(A,ArrayBuffer))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);const j=A.length,ne=arguments.length>2&&arguments[2]===!0;if(!ne&&j===0)return 0;let ce=!1;for(;;)switch(R){case"ascii":case"latin1":case"binary":return j;case"utf8":case"utf-8":return le(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*j;case"hex":return j>>>1;case"base64":return he(A).length;default:if(ce)return ne?-1:le(A).length;R=(""+R).toLowerCase(),ce=!0}}function k(A,R,j){let ne=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((j===void 0||j>this.length)&&(j=this.length),j<=0)||(j>>>=0)<=(R>>>=0))return"";for(A||(A="utf8");;)switch(A){case"hex":return _e(this,R,j);case"utf8":case"utf-8":return ie(this,R,j);case"ascii":return be(this,R,j);case"latin1":case"binary":return me(this,R,j);case"base64":return oe(this,R,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,R,j);default:if(ne)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),ne=!0}}function M(A,R,j){const ne=A[R];A[R]=A[j],A[j]=ne}function H(A,R,j,ne,ce){if(A.length===0)return-1;if(typeof j=="string"?(ne=j,j=0):j>2147483647?j=2147483647:j<-2147483648&&(j=-2147483648),Ee(j=+j)&&(j=ce?0:A.length-1),j<0&&(j=A.length+j),j>=A.length){if(ce)return-1;j=A.length-1}else if(j<0){if(!ce)return-1;j=0}if(typeof R=="string"&&(R=v.from(R,ne)),v.isBuffer(R))return R.length===0?-1:P(A,R,j,ne,ce);if(typeof R=="number")return R&=255,typeof Uint8Array.prototype.indexOf=="function"?ce?Uint8Array.prototype.indexOf.call(A,R,j):Uint8Array.prototype.lastIndexOf.call(A,R,j):P(A,[R],j,ne,ce);throw new TypeError("val must be string, number or Buffer")}function P(A,R,j,ne,ce){let ue,Ce=1,He=A.length,Je=R.length;if(ne!==void 0&&((ne=String(ne).toLowerCase())==="ucs2"||ne==="ucs-2"||ne==="utf16le"||ne==="utf-16le")){if(A.length<2||R.length<2)return-1;Ce=2,He/=2,Je/=2,j/=2}function ut(et,Ze){return Ce===1?et[Ze]:et.readUInt16BE(Ze*Ce)}if(ce){let et=-1;for(ue=j;ue<He;ue++)if(ut(A,ue)===ut(R,et===-1?0:ue-et)){if(et===-1&&(et=ue),ue-et+1===Je)return et*Ce}else et!==-1&&(ue-=ue-et),et=-1}else for(j+Je>He&&(j=He-Je),ue=j;ue>=0;ue--){let et=!0;for(let Ze=0;Ze<Je;Ze++)if(ut(A,ue+Ze)!==ut(R,Ze)){et=!1;break}if(et)return ue}return-1}function D(A,R,j,ne){j=Number(j)||0;const ce=A.length-j;ne?(ne=Number(ne))>ce&&(ne=ce):ne=ce;const ue=R.length;let Ce;for(ne>ue/2&&(ne=ue/2),Ce=0;Ce<ne;++Ce){const He=parseInt(R.substr(2*Ce,2),16);if(Ee(He))return Ce;A[j+Ce]=He}return Ce}function B(A,R,j,ne){return de(le(R,A.length-j),A,j,ne)}function F(A,R,j,ne){return de(function(ce){const ue=[];for(let Ce=0;Ce<ce.length;++Ce)ue.push(255&ce.charCodeAt(Ce));return ue}(R),A,j,ne)}function Q(A,R,j,ne){return de(he(R),A,j,ne)}function E(A,R,j,ne){return de(function(ce,ue){let Ce,He,Je;const ut=[];for(let et=0;et<ce.length&&!((ue-=2)<0);++et)Ce=ce.charCodeAt(et),He=Ce>>8,Je=Ce%256,ut.push(Je),ut.push(He);return ut}(R,A.length-j),A,j,ne)}function oe(A,R,j){return R===0&&j===A.length?c.fromByteArray(A):c.fromByteArray(A.slice(R,j))}function ie(A,R,j){j=Math.min(A.length,j);const ne=[];let ce=R;for(;ce<j;){const ue=A[ce];let Ce=null,He=ue>239?4:ue>223?3:ue>191?2:1;if(ce+He<=j){let Je,ut,et,Ze;switch(He){case 1:ue<128&&(Ce=ue);break;case 2:Je=A[ce+1],(192&Je)==128&&(Ze=(31&ue)<<6|63&Je,Ze>127&&(Ce=Ze));break;case 3:Je=A[ce+1],ut=A[ce+2],(192&Je)==128&&(192&ut)==128&&(Ze=(15&ue)<<12|(63&Je)<<6|63&ut,Ze>2047&&(Ze<55296||Ze>57343)&&(Ce=Ze));break;case 4:Je=A[ce+1],ut=A[ce+2],et=A[ce+3],(192&Je)==128&&(192&ut)==128&&(192&et)==128&&(Ze=(15&ue)<<18|(63&Je)<<12|(63&ut)<<6|63&et,Ze>65535&&Ze<1114112&&(Ce=Ze))}}Ce===null?(Ce=65533,He=1):Ce>65535&&(Ce-=65536,ne.push(Ce>>>10&1023|55296),Ce=56320|1023&Ce),ne.push(Ce),ce+=He}return function(ue){const Ce=ue.length;if(Ce<=z)return String.fromCharCode.apply(String,ue);let He="",Je=0;for(;Je<Ce;)He+=String.fromCharCode.apply(String,ue.slice(Je,Je+=z));return He}(ne)}l.kMaxLength=p,v.TYPED_ARRAY_SUPPORT=function(){try{const A=new Uint8Array(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,Uint8Array.prototype),Object.setPrototypeOf(A,R),A.foo()===42}catch{return!1}}(),v.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(v.prototype,"parent",{enumerable:!0,get:function(){if(v.isBuffer(this))return this.buffer}}),Object.defineProperty(v.prototype,"offset",{enumerable:!0,get:function(){if(v.isBuffer(this))return this.byteOffset}}),v.poolSize=8192,v.from=function(A,R,j){return C(A,R,j)},Object.setPrototypeOf(v.prototype,Uint8Array.prototype),Object.setPrototypeOf(v,Uint8Array),v.alloc=function(A,R,j){return function(ne,ce,ue){return I(ne),ne<=0?y(ne):ce!==void 0?typeof ue=="string"?y(ne).fill(ce,ue):y(ne).fill(ce):y(ne)}(A,R,j)},v.allocUnsafe=function(A){return N(A)},v.allocUnsafeSlow=function(A){return N(A)},v.isBuffer=function(A){return A!=null&&A._isBuffer===!0&&A!==v.prototype},v.compare=function(A,R){if(pe(A,Uint8Array)&&(A=v.from(A,A.offset,A.byteLength)),pe(R,Uint8Array)&&(R=v.from(R,R.offset,R.byteLength)),!v.isBuffer(A)||!v.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===R)return 0;let j=A.length,ne=R.length;for(let ce=0,ue=Math.min(j,ne);ce<ue;++ce)if(A[ce]!==R[ce]){j=A[ce],ne=R[ce];break}return j<ne?-1:ne<j?1:0},v.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},v.concat=function(A,R){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return v.alloc(0);let j;if(R===void 0)for(R=0,j=0;j<A.length;++j)R+=A[j].length;const ne=v.allocUnsafe(R);let ce=0;for(j=0;j<A.length;++j){let ue=A[j];if(pe(ue,Uint8Array))ce+ue.length>ne.length?(v.isBuffer(ue)||(ue=v.from(ue)),ue.copy(ne,ce)):Uint8Array.prototype.set.call(ne,ue,ce);else{if(!v.isBuffer(ue))throw new TypeError('"list" argument must be an Array of Buffers');ue.copy(ne,ce)}ce+=ue.length}return ne},v.byteLength=T,v.prototype._isBuffer=!0,v.prototype.swap16=function(){const A=this.length;if(A%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let R=0;R<A;R+=2)M(this,R,R+1);return this},v.prototype.swap32=function(){const A=this.length;if(A%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let R=0;R<A;R+=4)M(this,R,R+3),M(this,R+1,R+2);return this},v.prototype.swap64=function(){const A=this.length;if(A%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let R=0;R<A;R+=8)M(this,R,R+7),M(this,R+1,R+6),M(this,R+2,R+5),M(this,R+3,R+4);return this},v.prototype.toString=function(){const A=this.length;return A===0?"":arguments.length===0?ie(this,0,A):k.apply(this,arguments)},v.prototype.toLocaleString=v.prototype.toString,v.prototype.equals=function(A){if(!v.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A||v.compare(this,A)===0},v.prototype.inspect=function(){let A="";const R=l.INSPECT_MAX_BYTES;return A=this.toString("hex",0,R).replace(/(.{2})/g,"$1 ").trim(),this.length>R&&(A+=" ... "),"<Buffer "+A+">"},f&&(v.prototype[f]=v.prototype.inspect),v.prototype.compare=function(A,R,j,ne,ce){if(pe(A,Uint8Array)&&(A=v.from(A,A.offset,A.byteLength)),!v.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(R===void 0&&(R=0),j===void 0&&(j=A?A.length:0),ne===void 0&&(ne=0),ce===void 0&&(ce=this.length),R<0||j>A.length||ne<0||ce>this.length)throw new RangeError("out of range index");if(ne>=ce&&R>=j)return 0;if(ne>=ce)return-1;if(R>=j)return 1;if(this===A)return 0;let ue=(ce>>>=0)-(ne>>>=0),Ce=(j>>>=0)-(R>>>=0);const He=Math.min(ue,Ce),Je=this.slice(ne,ce),ut=A.slice(R,j);for(let et=0;et<He;++et)if(Je[et]!==ut[et]){ue=Je[et],Ce=ut[et];break}return ue<Ce?-1:Ce<ue?1:0},v.prototype.includes=function(A,R,j){return this.indexOf(A,R,j)!==-1},v.prototype.indexOf=function(A,R,j){return H(this,A,R,j,!0)},v.prototype.lastIndexOf=function(A,R,j){return H(this,A,R,j,!1)},v.prototype.write=function(A,R,j,ne){if(R===void 0)ne="utf8",j=this.length,R=0;else if(j===void 0&&typeof R=="string")ne=R,j=this.length,R=0;else{if(!isFinite(R))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");R>>>=0,isFinite(j)?(j>>>=0,ne===void 0&&(ne="utf8")):(ne=j,j=void 0)}const ce=this.length-R;if((j===void 0||j>ce)&&(j=ce),A.length>0&&(j<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");let ue=!1;for(;;)switch(ne){case"hex":return D(this,A,R,j);case"utf8":case"utf-8":return B(this,A,R,j);case"ascii":case"latin1":case"binary":return F(this,A,R,j);case"base64":return Q(this,A,R,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,A,R,j);default:if(ue)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),ue=!0}},v.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const z=4096;function be(A,R,j){let ne="";j=Math.min(A.length,j);for(let ce=R;ce<j;++ce)ne+=String.fromCharCode(127&A[ce]);return ne}function me(A,R,j){let ne="";j=Math.min(A.length,j);for(let ce=R;ce<j;++ce)ne+=String.fromCharCode(A[ce]);return ne}function _e(A,R,j){const ne=A.length;(!R||R<0)&&(R=0),(!j||j<0||j>ne)&&(j=ne);let ce="";for(let ue=R;ue<j;++ue)ce+=ge[A[ue]];return ce}function x(A,R,j){const ne=A.slice(R,j);let ce="";for(let ue=0;ue<ne.length-1;ue+=2)ce+=String.fromCharCode(ne[ue]+256*ne[ue+1]);return ce}function $(A,R,j){if(A%1!=0||A<0)throw new RangeError("offset is not uint");if(A+R>j)throw new RangeError("Trying to access beyond buffer length")}function te(A,R,j,ne,ce,ue){if(!v.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>ce||R<ue)throw new RangeError('"value" argument is out of bounds');if(j+ne>A.length)throw new RangeError("Index out of range")}function V(A,R,j,ne,ce){m(R,ne,ce,A,j,7);let ue=Number(R&BigInt(4294967295));A[j++]=ue,ue>>=8,A[j++]=ue,ue>>=8,A[j++]=ue,ue>>=8,A[j++]=ue;let Ce=Number(R>>BigInt(32)&BigInt(4294967295));return A[j++]=Ce,Ce>>=8,A[j++]=Ce,Ce>>=8,A[j++]=Ce,Ce>>=8,A[j++]=Ce,j}function K(A,R,j,ne,ce){m(R,ne,ce,A,j,7);let ue=Number(R&BigInt(4294967295));A[j+7]=ue,ue>>=8,A[j+6]=ue,ue>>=8,A[j+5]=ue,ue>>=8,A[j+4]=ue;let Ce=Number(R>>BigInt(32)&BigInt(4294967295));return A[j+3]=Ce,Ce>>=8,A[j+2]=Ce,Ce>>=8,A[j+1]=Ce,Ce>>=8,A[j]=Ce,j+8}function q(A,R,j,ne,ce,ue){if(j+ne>A.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("Index out of range")}function G(A,R,j,ne,ce){return R=+R,j>>>=0,ce||q(A,0,j,4),u.write(A,R,j,ne,23,4),j+4}function ee(A,R,j,ne,ce){return R=+R,j>>>=0,ce||q(A,0,j,8),u.write(A,R,j,ne,52,8),j+8}v.prototype.slice=function(A,R){const j=this.length;(A=~~A)<0?(A+=j)<0&&(A=0):A>j&&(A=j),(R=R===void 0?j:~~R)<0?(R+=j)<0&&(R=0):R>j&&(R=j),R<A&&(R=A);const ne=this.subarray(A,R);return Object.setPrototypeOf(ne,v.prototype),ne},v.prototype.readUintLE=v.prototype.readUIntLE=function(A,R,j){A>>>=0,R>>>=0,j||$(A,R,this.length);let ne=this[A],ce=1,ue=0;for(;++ue<R&&(ce*=256);)ne+=this[A+ue]*ce;return ne},v.prototype.readUintBE=v.prototype.readUIntBE=function(A,R,j){A>>>=0,R>>>=0,j||$(A,R,this.length);let ne=this[A+--R],ce=1;for(;R>0&&(ce*=256);)ne+=this[A+--R]*ce;return ne},v.prototype.readUint8=v.prototype.readUInt8=function(A,R){return A>>>=0,R||$(A,1,this.length),this[A]},v.prototype.readUint16LE=v.prototype.readUInt16LE=function(A,R){return A>>>=0,R||$(A,2,this.length),this[A]|this[A+1]<<8},v.prototype.readUint16BE=v.prototype.readUInt16BE=function(A,R){return A>>>=0,R||$(A,2,this.length),this[A]<<8|this[A+1]},v.prototype.readUint32LE=v.prototype.readUInt32LE=function(A,R){return A>>>=0,R||$(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+16777216*this[A+3]},v.prototype.readUint32BE=v.prototype.readUInt32BE=function(A,R){return A>>>=0,R||$(A,4,this.length),16777216*this[A]+(this[A+1]<<16|this[A+2]<<8|this[A+3])},v.prototype.readBigUInt64LE=Pe(function(A){S(A>>>=0,"offset");const R=this[A],j=this[A+7];R!==void 0&&j!==void 0||L(A,this.length-8);const ne=R+256*this[++A]+65536*this[++A]+this[++A]*2**24,ce=this[++A]+256*this[++A]+65536*this[++A]+j*2**24;return BigInt(ne)+(BigInt(ce)<<BigInt(32))}),v.prototype.readBigUInt64BE=Pe(function(A){S(A>>>=0,"offset");const R=this[A],j=this[A+7];R!==void 0&&j!==void 0||L(A,this.length-8);const ne=R*2**24+65536*this[++A]+256*this[++A]+this[++A],ce=this[++A]*2**24+65536*this[++A]+256*this[++A]+j;return(BigInt(ne)<<BigInt(32))+BigInt(ce)}),v.prototype.readIntLE=function(A,R,j){A>>>=0,R>>>=0,j||$(A,R,this.length);let ne=this[A],ce=1,ue=0;for(;++ue<R&&(ce*=256);)ne+=this[A+ue]*ce;return ce*=128,ne>=ce&&(ne-=Math.pow(2,8*R)),ne},v.prototype.readIntBE=function(A,R,j){A>>>=0,R>>>=0,j||$(A,R,this.length);let ne=R,ce=1,ue=this[A+--ne];for(;ne>0&&(ce*=256);)ue+=this[A+--ne]*ce;return ce*=128,ue>=ce&&(ue-=Math.pow(2,8*R)),ue},v.prototype.readInt8=function(A,R){return A>>>=0,R||$(A,1,this.length),128&this[A]?-1*(255-this[A]+1):this[A]},v.prototype.readInt16LE=function(A,R){A>>>=0,R||$(A,2,this.length);const j=this[A]|this[A+1]<<8;return 32768&j?4294901760|j:j},v.prototype.readInt16BE=function(A,R){A>>>=0,R||$(A,2,this.length);const j=this[A+1]|this[A]<<8;return 32768&j?4294901760|j:j},v.prototype.readInt32LE=function(A,R){return A>>>=0,R||$(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},v.prototype.readInt32BE=function(A,R){return A>>>=0,R||$(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},v.prototype.readBigInt64LE=Pe(function(A){S(A>>>=0,"offset");const R=this[A],j=this[A+7];R!==void 0&&j!==void 0||L(A,this.length-8);const ne=this[A+4]+256*this[A+5]+65536*this[A+6]+(j<<24);return(BigInt(ne)<<BigInt(32))+BigInt(R+256*this[++A]+65536*this[++A]+this[++A]*16777216)}),v.prototype.readBigInt64BE=Pe(function(A){S(A>>>=0,"offset");const R=this[A],j=this[A+7];R!==void 0&&j!==void 0||L(A,this.length-8);const ne=(R<<24)+65536*this[++A]+256*this[++A]+this[++A];return(BigInt(ne)<<BigInt(32))+BigInt(this[++A]*16777216+65536*this[++A]+256*this[++A]+j)}),v.prototype.readFloatLE=function(A,R){return A>>>=0,R||$(A,4,this.length),u.read(this,A,!0,23,4)},v.prototype.readFloatBE=function(A,R){return A>>>=0,R||$(A,4,this.length),u.read(this,A,!1,23,4)},v.prototype.readDoubleLE=function(A,R){return A>>>=0,R||$(A,8,this.length),u.read(this,A,!0,52,8)},v.prototype.readDoubleBE=function(A,R){return A>>>=0,R||$(A,8,this.length),u.read(this,A,!1,52,8)},v.prototype.writeUintLE=v.prototype.writeUIntLE=function(A,R,j,ne){A=+A,R>>>=0,j>>>=0,ne||te(this,A,R,j,Math.pow(2,8*j)-1,0);let ce=1,ue=0;for(this[R]=255&A;++ue<j&&(ce*=256);)this[R+ue]=A/ce&255;return R+j},v.prototype.writeUintBE=v.prototype.writeUIntBE=function(A,R,j,ne){A=+A,R>>>=0,j>>>=0,ne||te(this,A,R,j,Math.pow(2,8*j)-1,0);let ce=j-1,ue=1;for(this[R+ce]=255&A;--ce>=0&&(ue*=256);)this[R+ce]=A/ue&255;return R+j},v.prototype.writeUint8=v.prototype.writeUInt8=function(A,R,j){return A=+A,R>>>=0,j||te(this,A,R,1,255,0),this[R]=255&A,R+1},v.prototype.writeUint16LE=v.prototype.writeUInt16LE=function(A,R,j){return A=+A,R>>>=0,j||te(this,A,R,2,65535,0),this[R]=255&A,this[R+1]=A>>>8,R+2},v.prototype.writeUint16BE=v.prototype.writeUInt16BE=function(A,R,j){return A=+A,R>>>=0,j||te(this,A,R,2,65535,0),this[R]=A>>>8,this[R+1]=255&A,R+2},v.prototype.writeUint32LE=v.prototype.writeUInt32LE=function(A,R,j){return A=+A,R>>>=0,j||te(this,A,R,4,4294967295,0),this[R+3]=A>>>24,this[R+2]=A>>>16,this[R+1]=A>>>8,this[R]=255&A,R+4},v.prototype.writeUint32BE=v.prototype.writeUInt32BE=function(A,R,j){return A=+A,R>>>=0,j||te(this,A,R,4,4294967295,0),this[R]=A>>>24,this[R+1]=A>>>16,this[R+2]=A>>>8,this[R+3]=255&A,R+4},v.prototype.writeBigUInt64LE=Pe(function(A,R=0){return V(this,A,R,BigInt(0),BigInt("0xffffffffffffffff"))}),v.prototype.writeBigUInt64BE=Pe(function(A,R=0){return K(this,A,R,BigInt(0),BigInt("0xffffffffffffffff"))}),v.prototype.writeIntLE=function(A,R,j,ne){if(A=+A,R>>>=0,!ne){const He=Math.pow(2,8*j-1);te(this,A,R,j,He-1,-He)}let ce=0,ue=1,Ce=0;for(this[R]=255&A;++ce<j&&(ue*=256);)A<0&&Ce===0&&this[R+ce-1]!==0&&(Ce=1),this[R+ce]=(A/ue>>0)-Ce&255;return R+j},v.prototype.writeIntBE=function(A,R,j,ne){if(A=+A,R>>>=0,!ne){const He=Math.pow(2,8*j-1);te(this,A,R,j,He-1,-He)}let ce=j-1,ue=1,Ce=0;for(this[R+ce]=255&A;--ce>=0&&(ue*=256);)A<0&&Ce===0&&this[R+ce+1]!==0&&(Ce=1),this[R+ce]=(A/ue>>0)-Ce&255;return R+j},v.prototype.writeInt8=function(A,R,j){return A=+A,R>>>=0,j||te(this,A,R,1,127,-128),A<0&&(A=255+A+1),this[R]=255&A,R+1},v.prototype.writeInt16LE=function(A,R,j){return A=+A,R>>>=0,j||te(this,A,R,2,32767,-32768),this[R]=255&A,this[R+1]=A>>>8,R+2},v.prototype.writeInt16BE=function(A,R,j){return A=+A,R>>>=0,j||te(this,A,R,2,32767,-32768),this[R]=A>>>8,this[R+1]=255&A,R+2},v.prototype.writeInt32LE=function(A,R,j){return A=+A,R>>>=0,j||te(this,A,R,4,2147483647,-2147483648),this[R]=255&A,this[R+1]=A>>>8,this[R+2]=A>>>16,this[R+3]=A>>>24,R+4},v.prototype.writeInt32BE=function(A,R,j){return A=+A,R>>>=0,j||te(this,A,R,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),this[R]=A>>>24,this[R+1]=A>>>16,this[R+2]=A>>>8,this[R+3]=255&A,R+4},v.prototype.writeBigInt64LE=Pe(function(A,R=0){return V(this,A,R,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),v.prototype.writeBigInt64BE=Pe(function(A,R=0){return K(this,A,R,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),v.prototype.writeFloatLE=function(A,R,j){return G(this,A,R,!0,j)},v.prototype.writeFloatBE=function(A,R,j){return G(this,A,R,!1,j)},v.prototype.writeDoubleLE=function(A,R,j){return ee(this,A,R,!0,j)},v.prototype.writeDoubleBE=function(A,R,j){return ee(this,A,R,!1,j)},v.prototype.copy=function(A,R,j,ne){if(!v.isBuffer(A))throw new TypeError("argument should be a Buffer");if(j||(j=0),ne||ne===0||(ne=this.length),R>=A.length&&(R=A.length),R||(R=0),ne>0&&ne<j&&(ne=j),ne===j||A.length===0||this.length===0)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(j<0||j>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),A.length-R<ne-j&&(ne=A.length-R+j);const ce=ne-j;return this===A&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(R,j,ne):Uint8Array.prototype.set.call(A,this.subarray(j,ne),R),ce},v.prototype.fill=function(A,R,j,ne){if(typeof A=="string"){if(typeof R=="string"?(ne=R,R=0,j=this.length):typeof j=="string"&&(ne=j,j=this.length),ne!==void 0&&typeof ne!="string")throw new TypeError("encoding must be a string");if(typeof ne=="string"&&!v.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(A.length===1){const ue=A.charCodeAt(0);(ne==="utf8"&&ue<128||ne==="latin1")&&(A=ue)}}else typeof A=="number"?A&=255:typeof A=="boolean"&&(A=Number(A));if(R<0||this.length<R||this.length<j)throw new RangeError("Out of range index");if(j<=R)return this;let ce;if(R>>>=0,j=j===void 0?this.length:j>>>0,A||(A=0),typeof A=="number")for(ce=R;ce<j;++ce)this[ce]=A;else{const ue=v.isBuffer(A)?A:v.from(A,ne),Ce=ue.length;if(Ce===0)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(ce=0;ce<j-R;++ce)this[ce+R]=ue[ce%Ce]}return this};const se={};function ae(A,R,j){se[A]=class extends j{constructor(){super(),Object.defineProperty(this,"message",{value:R.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${A}]`,this.stack,delete this.name}get code(){return A}set code(ne){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ne,writable:!0})}toString(){return`${this.name} [${A}]: ${this.message}`}}}function U(A){let R="",j=A.length;const ne=A[0]==="-"?1:0;for(;j>=ne+4;j-=3)R=`_${A.slice(j-3,j)}${R}`;return`${A.slice(0,j)}${R}`}function m(A,R,j,ne,ce,ue){if(A>j||A<R){const Ce=typeof R=="bigint"?"n":"";let He;throw He=ue>3?R===0||R===BigInt(0)?`>= 0${Ce} and < 2${Ce} ** ${8*(ue+1)}${Ce}`:`>= -(2${Ce} ** ${8*(ue+1)-1}${Ce}) and < 2 ** ${8*(ue+1)-1}${Ce}`:`>= ${R}${Ce} and <= ${j}${Ce}`,new se.ERR_OUT_OF_RANGE("value",He,A)}(function(Ce,He,Je){S(He,"offset"),Ce[He]!==void 0&&Ce[He+Je]!==void 0||L(He,Ce.length-(Je+1))})(ne,ce,ue)}function S(A,R){if(typeof A!="number")throw new se.ERR_INVALID_ARG_TYPE(R,"number",A)}function L(A,R,j){throw Math.floor(A)!==A?(S(A,j),new se.ERR_OUT_OF_RANGE(j||"offset","an integer",A)):R<0?new se.ERR_BUFFER_OUT_OF_BOUNDS:new se.ERR_OUT_OF_RANGE(j||"offset",`>= ${j?1:0} and <= ${R}`,A)}ae("ERR_BUFFER_OUT_OF_BOUNDS",function(A){return A?`${A} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ae("ERR_INVALID_ARG_TYPE",function(A,R){return`The "${A}" argument must be of type number. Received type ${typeof R}`},TypeError),ae("ERR_OUT_OF_RANGE",function(A,R,j){let ne=`The value of "${A}" is out of range.`,ce=j;return Number.isInteger(j)&&Math.abs(j)>4294967296?ce=U(String(j)):typeof j=="bigint"&&(ce=String(j),(j>BigInt(2)**BigInt(32)||j<-(BigInt(2)**BigInt(32)))&&(ce=U(ce)),ce+="n"),ne+=` It must be ${R}. Received ${ce}`,ne},RangeError);const Y=/[^+/0-9A-Za-z-_]/g;function le(A,R){let j;R=R||1/0;const ne=A.length;let ce=null;const ue=[];for(let Ce=0;Ce<ne;++Ce){if(j=A.charCodeAt(Ce),j>55295&&j<57344){if(!ce){if(j>56319){(R-=3)>-1&&ue.push(239,191,189);continue}if(Ce+1===ne){(R-=3)>-1&&ue.push(239,191,189);continue}ce=j;continue}if(j<56320){(R-=3)>-1&&ue.push(239,191,189),ce=j;continue}j=65536+(ce-55296<<10|j-56320)}else ce&&(R-=3)>-1&&ue.push(239,191,189);if(ce=null,j<128){if((R-=1)<0)break;ue.push(j)}else if(j<2048){if((R-=2)<0)break;ue.push(j>>6|192,63&j|128)}else if(j<65536){if((R-=3)<0)break;ue.push(j>>12|224,j>>6&63|128,63&j|128)}else{if(!(j<1114112))throw new Error("Invalid code point");if((R-=4)<0)break;ue.push(j>>18|240,j>>12&63|128,j>>6&63|128,63&j|128)}}return ue}function he(A){return c.toByteArray(function(R){if((R=(R=R.split("=")[0]).trim().replace(Y,"")).length<2)return"";for(;R.length%4!=0;)R+="=";return R}(A))}function de(A,R,j,ne){let ce;for(ce=0;ce<ne&&!(ce+j>=R.length||ce>=A.length);++ce)R[ce+j]=A[ce];return ce}function pe(A,R){return A instanceof R||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===R.name}function Ee(A){return A!=A}const ge=function(){const A="0123456789abcdef",R=new Array(256);for(let j=0;j<16;++j){const ne=16*j;for(let ce=0;ce<16;++ce)R[ne+ce]=A[j]+A[ce]}return R}();function Pe(A){return typeof BigInt>"u"?Oe:A}function Oe(){throw new Error("BigInt not supported")}},7187:a=>{var l,s=typeof Reflect=="object"?Reflect:null,c=s&&typeof s.apply=="function"?s.apply:function(k,M,H){return Function.prototype.apply.call(k,M,H)};l=s&&typeof s.ownKeys=="function"?s.ownKeys:Object.getOwnPropertySymbols?function(k){return Object.getOwnPropertyNames(k).concat(Object.getOwnPropertySymbols(k))}:function(k){return Object.getOwnPropertyNames(k)};var u=Number.isNaN||function(k){return k!=k};function f(){f.init.call(this)}a.exports=f,a.exports.once=function(k,M){return new Promise(function(H,P){function D(F){k.removeListener(M,B),P(F)}function B(){typeof k.removeListener=="function"&&k.removeListener("error",D),H([].slice.call(arguments))}T(k,M,B,{once:!0}),M!=="error"&&function(F,Q,E){typeof F.on=="function"&&T(F,"error",Q,{once:!0})}(k,D)})},f.EventEmitter=f,f.prototype._events=void 0,f.prototype._eventsCount=0,f.prototype._maxListeners=void 0;var p=10;function y(k){if(typeof k!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof k)}function v(k){return k._maxListeners===void 0?f.defaultMaxListeners:k._maxListeners}function C(k,M,H,P){var D,B,F,Q;if(y(H),(B=k._events)===void 0?(B=k._events=Object.create(null),k._eventsCount=0):(B.newListener!==void 0&&(k.emit("newListener",M,H.listener?H.listener:H),B=k._events),F=B[M]),F===void 0)F=B[M]=H,++k._eventsCount;else if(typeof F=="function"?F=B[M]=P?[H,F]:[F,H]:P?F.unshift(H):F.push(H),(D=v(k))>0&&F.length>D&&!F.warned){F.warned=!0;var E=new Error("Possible EventEmitter memory leak detected. "+F.length+" "+String(M)+" listeners added. Use emitter.setMaxListeners() to increase limit");E.name="MaxListenersExceededWarning",E.emitter=k,E.type=M,E.count=F.length,Q=E,console&&console.warn&&console.warn(Q)}return k}function I(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function N(k,M,H){var P={fired:!1,wrapFn:void 0,target:k,type:M,listener:H},D=I.bind(P);return D.listener=H,P.wrapFn=D,D}function _(k,M,H){var P=k._events;if(P===void 0)return[];var D=P[M];return D===void 0?[]:typeof D=="function"?H?[D.listener||D]:[D]:H?function(B){for(var F=new Array(B.length),Q=0;Q<F.length;++Q)F[Q]=B[Q].listener||B[Q];return F}(D):w(D,D.length)}function b(k){var M=this._events;if(M!==void 0){var H=M[k];if(typeof H=="function")return 1;if(H!==void 0)return H.length}return 0}function w(k,M){for(var H=new Array(M),P=0;P<M;++P)H[P]=k[P];return H}function T(k,M,H,P){if(typeof k.on=="function")P.once?k.once(M,H):k.on(M,H);else{if(typeof k.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof k);k.addEventListener(M,function D(B){P.once&&k.removeEventListener(M,D),H(B)})}}Object.defineProperty(f,"defaultMaxListeners",{enumerable:!0,get:function(){return p},set:function(k){if(typeof k!="number"||k<0||u(k))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+k+".");p=k}}),f.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},f.prototype.setMaxListeners=function(k){if(typeof k!="number"||k<0||u(k))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+k+".");return this._maxListeners=k,this},f.prototype.getMaxListeners=function(){return v(this)},f.prototype.emit=function(k){for(var M=[],H=1;H<arguments.length;H++)M.push(arguments[H]);var P=k==="error",D=this._events;if(D!==void 0)P=P&&D.error===void 0;else if(!P)return!1;if(P){var B;if(M.length>0&&(B=M[0]),B instanceof Error)throw B;var F=new Error("Unhandled error."+(B?" ("+B.message+")":""));throw F.context=B,F}var Q=D[k];if(Q===void 0)return!1;if(typeof Q=="function")c(Q,this,M);else{var E=Q.length,oe=w(Q,E);for(H=0;H<E;++H)c(oe[H],this,M)}return!0},f.prototype.addListener=function(k,M){return C(this,k,M,!1)},f.prototype.on=f.prototype.addListener,f.prototype.prependListener=function(k,M){return C(this,k,M,!0)},f.prototype.once=function(k,M){return y(M),this.on(k,N(this,k,M)),this},f.prototype.prependOnceListener=function(k,M){return y(M),this.prependListener(k,N(this,k,M)),this},f.prototype.removeListener=function(k,M){var H,P,D,B,F;if(y(M),(P=this._events)===void 0)return this;if((H=P[k])===void 0)return this;if(H===M||H.listener===M)--this._eventsCount==0?this._events=Object.create(null):(delete P[k],P.removeListener&&this.emit("removeListener",k,H.listener||M));else if(typeof H!="function"){for(D=-1,B=H.length-1;B>=0;B--)if(H[B]===M||H[B].listener===M){F=H[B].listener,D=B;break}if(D<0)return this;D===0?H.shift():function(Q,E){for(;E+1<Q.length;E++)Q[E]=Q[E+1];Q.pop()}(H,D),H.length===1&&(P[k]=H[0]),P.removeListener!==void 0&&this.emit("removeListener",k,F||M)}return this},f.prototype.off=f.prototype.removeListener,f.prototype.removeAllListeners=function(k){var M,H,P;if((H=this._events)===void 0)return this;if(H.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):H[k]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete H[k]),this;if(arguments.length===0){var D,B=Object.keys(H);for(P=0;P<B.length;++P)(D=B[P])!=="removeListener"&&this.removeAllListeners(D);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(M=H[k])=="function")this.removeListener(k,M);else if(M!==void 0)for(P=M.length-1;P>=0;P--)this.removeListener(k,M[P]);return this},f.prototype.listeners=function(k){return _(this,k,!0)},f.prototype.rawListeners=function(k){return _(this,k,!1)},f.listenerCount=function(k,M){return typeof k.listenerCount=="function"?k.listenerCount(M):b.call(k,M)},f.prototype.listenerCount=b,f.prototype.eventNames=function(){return this._eventsCount>0?l(this._events):[]}},645:(a,l)=>{l.read=function(s,c,u,f,p){var y,v,C=8*p-f-1,I=(1<<C)-1,N=I>>1,_=-7,b=u?p-1:0,w=u?-1:1,T=s[c+b];for(b+=w,y=T&(1<<-_)-1,T>>=-_,_+=C;_>0;y=256*y+s[c+b],b+=w,_-=8);for(v=y&(1<<-_)-1,y>>=-_,_+=f;_>0;v=256*v+s[c+b],b+=w,_-=8);if(y===0)y=1-N;else{if(y===I)return v?NaN:1/0*(T?-1:1);v+=Math.pow(2,f),y-=N}return(T?-1:1)*v*Math.pow(2,y-f)},l.write=function(s,c,u,f,p,y){var v,C,I,N=8*y-p-1,_=(1<<N)-1,b=_>>1,w=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=f?0:y-1,k=f?1:-1,M=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(C=isNaN(c)?1:0,v=_):(v=Math.floor(Math.log(c)/Math.LN2),c*(I=Math.pow(2,-v))<1&&(v--,I*=2),(c+=v+b>=1?w/I:w*Math.pow(2,1-b))*I>=2&&(v++,I/=2),v+b>=_?(C=0,v=_):v+b>=1?(C=(c*I-1)*Math.pow(2,p),v+=b):(C=c*Math.pow(2,b-1)*Math.pow(2,p),v=0));p>=8;s[u+T]=255&C,T+=k,C/=256,p-=8);for(v=v<<p|C,N+=p;N>0;s[u+T]=255&v,T+=k,v/=256,N-=8);s[u+T-k]|=128*M}},5705:(a,l,s)=>{var c,u,f=s.g.MutationObserver||s.g.WebKitMutationObserver;if(f){var p=0,y=new f(N),v=s.g.document.createTextNode("");y.observe(v,{characterData:!0}),c=function(){v.data=p=++p%2}}else if(s.g.setImmediate||s.g.MessageChannel===void 0)c="document"in s.g&&"onreadystatechange"in s.g.document.createElement("script")?function(){var _=s.g.document.createElement("script");_.onreadystatechange=function(){N(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},s.g.document.documentElement.appendChild(_)}:function(){setTimeout(N,0)};else{var C=new s.g.MessageChannel;C.port1.onmessage=N,c=function(){C.port2.postMessage(0)}}var I=[];function N(){var _,b;u=!0;for(var w=I.length;w;){for(b=I,I=[],_=-1;++_<w;)b[_]();w=I.length}u=!1}a.exports=function(_){I.push(_)!==1||u||c()}},5717:a=>{typeof Object.create=="function"?a.exports=function(l,s){s&&(l.super_=s,l.prototype=Object.create(s.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}))}:a.exports=function(l,s){if(s){l.super_=s;var c=function(){};c.prototype=s.prototype,l.prototype=new c,l.prototype.constructor=l}}},8458:(a,l,s)=>{var c=s(8910),u=s(3790),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";l.encode=function(p){for(var y,v,C,I,N,_,b,w=[],T=0,k=p.length,M=k,H=c.getTypeOf(p)!=="string";T<p.length;)M=k-T,H?(y=p[T++],v=T<k?p[T++]:0,C=T<k?p[T++]:0):(y=p.charCodeAt(T++),v=T<k?p.charCodeAt(T++):0,C=T<k?p.charCodeAt(T++):0),I=y>>2,N=(3&y)<<4|v>>4,_=M>1?(15&v)<<2|C>>6:64,b=M>2?63&C:64,w.push(f.charAt(I)+f.charAt(N)+f.charAt(_)+f.charAt(b));return w.join("")},l.decode=function(p){var y,v,C,I,N,_,b=0,w=0,T="data:";if(p.substr(0,T.length)===T)throw new Error("Invalid base64 input, it looks like a data url.");var k,M=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===f.charAt(64)&&M--,p.charAt(p.length-2)===f.charAt(64)&&M--,M%1!=0)throw new Error("Invalid base64 input, bad content length.");for(k=u.uint8array?new Uint8Array(0|M):new Array(0|M);b<p.length;)y=f.indexOf(p.charAt(b++))<<2|(I=f.indexOf(p.charAt(b++)))>>4,v=(15&I)<<4|(N=f.indexOf(p.charAt(b++)))>>2,C=(3&N)<<6|(_=f.indexOf(p.charAt(b++))),k[w++]=y,N!==64&&(k[w++]=v),_!==64&&(k[w++]=C);return k}},7326:(a,l,s)=>{var c=s(8565),u=s(5301),f=s(2541),p=s(5977);function y(v,C,I,N,_){this.compressedSize=v,this.uncompressedSize=C,this.crc32=I,this.compression=N,this.compressedContent=_}y.prototype={getContentWorker:function(){var v=new u(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),C=this;return v.on("end",function(){if(this.streamInfo.data_length!==C.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),v},getCompressedWorker:function(){return new u(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},y.createWorkerFrom=function(v,C,I){return v.pipe(new f).pipe(new p("uncompressedSize")).pipe(C.compressWorker(I)).pipe(new p("compressedSize")).withStreamInfo("compression",C)},a.exports=y},1678:(a,l,s)=>{var c=s(3718);l.STORE={magic:"\0\0",compressWorker:function(){return new c("STORE compression")},uncompressWorker:function(){return new c("STORE decompression")}},l.DEFLATE=s(1033)},6988:(a,l,s)=>{var c=s(8910),u=function(){for(var f,p=[],y=0;y<256;y++){f=y;for(var v=0;v<8;v++)f=1&f?3988292384^f>>>1:f>>>1;p[y]=f}return p}();a.exports=function(f,p){return f!==void 0&&f.length?c.getTypeOf(f)!=="string"?function(y,v,C,I){var N=u,_=0+C;y^=-1;for(var b=0;b<_;b++)y=y>>>8^N[255&(y^v[b])];return-1^y}(0|p,f,f.length):function(y,v,C,I){var N=u,_=0+C;y^=-1;for(var b=0;b<_;b++)y=y>>>8^N[255&(y^v.charCodeAt(b))];return-1^y}(0|p,f,f.length):0}},6032:(a,l)=>{l.base64=!1,l.binary=!1,l.dir=!1,l.createFolders=!0,l.date=null,l.compression=null,l.compressionOptions=null,l.comment=null,l.unixPermissions=null,l.dosPermissions=null},8565:(a,l,s)=>{var c;c=typeof Promise<"u"?Promise:s(3389),a.exports={Promise:c}},1033:(a,l,s)=>{var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",u=s(9591),f=s(8910),p=s(3718),y=c?"uint8array":"array";function v(C,I){p.call(this,"FlateWorker/"+C),this._pako=null,this._pakoAction=C,this._pakoOptions=I,this.meta={}}l.magic="\b\0",f.inherits(v,p),v.prototype.processChunk=function(C){this.meta=C.meta,this._pako===null&&this._createPako(),this._pako.push(f.transformTo(y,C.data),!1)},v.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},v.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},v.prototype._createPako=function(){this._pako=new u[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var C=this;this._pako.onData=function(I){C.push({data:I,meta:C.meta})}},l.compressWorker=function(C){return new v("Deflate",C)},l.uncompressWorker=function(){return new v("Inflate",{})}},4979:(a,l,s)=>{var c=s(8910),u=s(3718),f=s(3600),p=s(6988),y=s(1141),v=function(_,b){var w,T="";for(w=0;w<b;w++)T+=String.fromCharCode(255&_),_>>>=8;return T},C=function(_,b,w,T,k,M){var H,P,D=_.file,B=_.compression,F=M!==f.utf8encode,Q=c.transformTo("string",M(D.name)),E=c.transformTo("string",f.utf8encode(D.name)),oe=D.comment,ie=c.transformTo("string",M(oe)),z=c.transformTo("string",f.utf8encode(oe)),be=E.length!==D.name.length,me=z.length!==oe.length,_e="",x="",$="",te=D.dir,V=D.date,K={crc32:0,compressedSize:0,uncompressedSize:0};b&&!w||(K.crc32=_.crc32,K.compressedSize=_.compressedSize,K.uncompressedSize=_.uncompressedSize);var q=0;b&&(q|=8),F||!be&&!me||(q|=2048);var G,ee,se=0,ae=0;te&&(se|=16),k==="UNIX"?(ae=798,se|=(ee=G=D.unixPermissions,G||(ee=te?16893:33204),(65535&ee)<<16)):(ae=20,se|=63&(D.dosPermissions||0)),H=V.getUTCHours(),H<<=6,H|=V.getUTCMinutes(),H<<=5,H|=V.getUTCSeconds()/2,P=V.getUTCFullYear()-1980,P<<=4,P|=V.getUTCMonth()+1,P<<=5,P|=V.getUTCDate(),be&&(x=v(1,1)+v(p(Q),4)+E,_e+="up"+v(x.length,2)+x),me&&($=v(1,1)+v(p(ie),4)+z,_e+="uc"+v($.length,2)+$);var U="";return U+=`
\0`,U+=v(q,2),U+=B.magic,U+=v(H,2),U+=v(P,2),U+=v(K.crc32,4),U+=v(K.compressedSize,4),U+=v(K.uncompressedSize,4),U+=v(Q.length,2),U+=v(_e.length,2),{fileRecord:y.LOCAL_FILE_HEADER+U+Q+_e,dirRecord:y.CENTRAL_FILE_HEADER+v(ae,2)+U+v(ie.length,2)+"\0\0\0\0"+v(se,4)+v(T,4)+Q+_e+ie}},I=function(_){return y.DATA_DESCRIPTOR+v(_.crc32,4)+v(_.compressedSize,4)+v(_.uncompressedSize,4)};function N(_,b,w,T){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=w,this.encodeFileName=T,this.streamFiles=_,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(N,u),N.prototype.push=function(_){var b=_.meta.percent||0,w=this.entriesCount,T=this._sources.length;this.accumulate?this.contentBuffer.push(_):(this.bytesWritten+=_.data.length,u.prototype.push.call(this,{data:_.data,meta:{currentFile:this.currentFile,percent:w?(b+100*(w-T-1))/w:100}}))},N.prototype.openedSource=function(_){this.currentSourceOffset=this.bytesWritten,this.currentFile=_.file.name;var b=this.streamFiles&&!_.file.dir;if(b){var w=C(_,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:w.fileRecord,meta:{percent:0}})}else this.accumulate=!0},N.prototype.closedSource=function(_){this.accumulate=!1;var b=this.streamFiles&&!_.file.dir,w=C(_,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(w.dirRecord),b)this.push({data:I(_),meta:{percent:100}});else for(this.push({data:w.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},N.prototype.flush=function(){for(var _=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var w=this.bytesWritten-_,T=function(k,M,H,P,D){var B=c.transformTo("string",D(P));return y.CENTRAL_DIRECTORY_END+"\0\0\0\0"+v(k,2)+v(k,2)+v(M,4)+v(H,4)+v(B.length,2)+B}(this.dirRecords.length,w,_,this.zipComment,this.encodeFileName);this.push({data:T,meta:{percent:100}})},N.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},N.prototype.registerPrevious=function(_){this._sources.push(_);var b=this;return _.on("data",function(w){b.processChunk(w)}),_.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),_.on("error",function(w){b.error(w)}),this},N.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},N.prototype.error=function(_){var b=this._sources;if(!u.prototype.error.call(this,_))return!1;for(var w=0;w<b.length;w++)try{b[w].error(_)}catch{}return!0},N.prototype.lock=function(){u.prototype.lock.call(this);for(var _=this._sources,b=0;b<_.length;b++)_[b].lock()},a.exports=N},7834:(a,l,s)=>{var c=s(1678),u=s(4979);l.generateWorker=function(f,p,y){var v=new u(p.streamFiles,y,p.platform,p.encodeFileName),C=0;try{f.forEach(function(I,N){C++;var _=function(k,M){var H=k||M,P=c[H];if(!P)throw new Error(H+" is not a valid compression method !");return P}(N.options.compression,p.compression),b=N.options.compressionOptions||p.compressionOptions||{},w=N.dir,T=N.date;N._compressWorker(_,b).withStreamInfo("file",{name:I,dir:w,date:T,comment:N.comment||"",unixPermissions:N.unixPermissions,dosPermissions:N.dosPermissions}).pipe(v)}),v.entriesCount=C}catch(I){v.error(I)}return v}},6085:(a,l,s)=>{function c(){if(!(this instanceof c))return new c;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var u=new c;for(var f in this)typeof this[f]!="function"&&(u[f]=this[f]);return u}}c.prototype=s(7132),c.prototype.loadAsync=s(1062),c.support=s(3790),c.defaults=s(6032),c.version="3.10.1",c.loadAsync=function(u,f){return new c().loadAsync(u,f)},c.external=s(8565),a.exports=c},1062:(a,l,s)=>{var c=s(8910),u=s(8565),f=s(3600),p=s(6624),y=s(2541),v=s(2182);function C(I){return new u.Promise(function(N,_){var b=I.decompressed.getContentWorker().pipe(new y);b.on("error",function(w){_(w)}).on("end",function(){b.streamInfo.crc32!==I.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):N()}).resume()})}a.exports=function(I,N){var _=this;return N=c.extend(N||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:f.utf8decode}),v.isNode&&v.isStream(I)?u.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):c.prepareContent("the loaded zip file",I,!0,N.optimizedBinaryString,N.base64).then(function(b){var w=new p(N);return w.load(b),w}).then(function(b){var w=[u.Promise.resolve(b)],T=b.files;if(N.checkCRC32)for(var k=0;k<T.length;k++)w.push(C(T[k]));return u.Promise.all(w)}).then(function(b){for(var w=b.shift(),T=w.files,k=0;k<T.length;k++){var M=T[k],H=M.fileNameStr,P=c.resolve(M.fileNameStr);_.file(P,M.decompressed,{binary:!0,optimizedBinaryString:!0,date:M.date,dir:M.dir,comment:M.fileCommentStr.length?M.fileCommentStr:null,unixPermissions:M.unixPermissions,dosPermissions:M.dosPermissions,createFolders:N.createFolders}),M.dir||(_.file(P).unsafeOriginalName=H)}return w.zipComment.length&&(_.comment=w.zipComment),_})}},2182:a=>{a.exports={isNode:typeof Buffer<"u",newBufferFrom:function(l,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(l,s);if(typeof l=="number")throw new Error('The "data" argument must not be a number');return new Buffer(l,s)},allocBuffer:function(l){if(Buffer.alloc)return Buffer.alloc(l);var s=new Buffer(l);return s.fill(0),s},isBuffer:function(l){return Buffer.isBuffer(l)},isStream:function(l){return l&&typeof l.on=="function"&&typeof l.pause=="function"&&typeof l.resume=="function"}}},660:(a,l,s)=>{var c=s(8910),u=s(3718);function f(p,y){u.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(y)}c.inherits(f,u),f.prototype._bindStream=function(p){var y=this;this._stream=p,p.pause(),p.on("data",function(v){y.push({data:v,meta:{percent:0}})}).on("error",function(v){y.isPaused?this.generatedError=v:y.error(v)}).on("end",function(){y.isPaused?y._upstreamEnded=!0:y.end()})},f.prototype.pause=function(){return!!u.prototype.pause.call(this)&&(this._stream.pause(),!0)},f.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},a.exports=f},1220:(a,l,s)=>{var c=s(749).Readable;function u(f,p,y){c.call(this,p),this._helper=f;var v=this;f.on("data",function(C,I){v.push(C)||v._helper.pause(),y&&y(I)}).on("error",function(C){v.emit("error",C)}).on("end",function(){v.push(null)})}s(8910).inherits(u,c),u.prototype._read=function(){this._helper.resume()},a.exports=u},7132:(a,l,s)=>{var c=s(3600),u=s(8910),f=s(3718),p=s(1285),y=s(6032),v=s(7326),C=s(6859),I=s(7834),N=s(2182),_=s(660),b=function(P,D,B){var F,Q=u.getTypeOf(D),E=u.extend(B||{},y);E.date=E.date||new Date,E.compression!==null&&(E.compression=E.compression.toUpperCase()),typeof E.unixPermissions=="string"&&(E.unixPermissions=parseInt(E.unixPermissions,8)),E.unixPermissions&&16384&E.unixPermissions&&(E.dir=!0),E.dosPermissions&&16&E.dosPermissions&&(E.dir=!0),E.dir&&(P=T(P)),E.createFolders&&(F=w(P))&&k.call(this,F,!0);var oe=Q==="string"&&E.binary===!1&&E.base64===!1;B&&B.binary!==void 0||(E.binary=!oe),(D instanceof v&&D.uncompressedSize===0||E.dir||!D||D.length===0)&&(E.base64=!1,E.binary=!0,D="",E.compression="STORE",Q="string");var ie;ie=D instanceof v||D instanceof f?D:N.isNode&&N.isStream(D)?new _(P,D):u.prepareContent(P,D,E.binary,E.optimizedBinaryString,E.base64);var z=new C(P,ie,E);this.files[P]=z},w=function(P){P.slice(-1)==="/"&&(P=P.substring(0,P.length-1));var D=P.lastIndexOf("/");return D>0?P.substring(0,D):""},T=function(P){return P.slice(-1)!=="/"&&(P+="/"),P},k=function(P,D){return D=D!==void 0?D:y.createFolders,P=T(P),this.files[P]||b.call(this,P,null,{dir:!0,createFolders:D}),this.files[P]};function M(P){return Object.prototype.toString.call(P)==="[object RegExp]"}var H={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(P){var D,B,F;for(D in this.files)F=this.files[D],(B=D.slice(this.root.length,D.length))&&D.slice(0,this.root.length)===this.root&&P(B,F)},filter:function(P){var D=[];return this.forEach(function(B,F){P(B,F)&&D.push(F)}),D},file:function(P,D,B){if(arguments.length===1){if(M(P)){var F=P;return this.filter(function(E,oe){return!oe.dir&&F.test(E)})}var Q=this.files[this.root+P];return Q&&!Q.dir?Q:null}return P=this.root+P,b.call(this,P,D,B),this},folder:function(P){if(!P)return this;if(M(P))return this.filter(function(Q,E){return E.dir&&P.test(Q)});var D=this.root+P,B=k.call(this,D),F=this.clone();return F.root=B.name,F},remove:function(P){P=this.root+P;var D=this.files[P];if(D||(P.slice(-1)!=="/"&&(P+="/"),D=this.files[P]),D&&!D.dir)delete this.files[P];else for(var B=this.filter(function(Q,E){return E.name.slice(0,P.length)===P}),F=0;F<B.length;F++)delete this.files[B[F].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(P){var D,B={};try{if((B=u.extend(P||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=B.type.toLowerCase(),B.compression=B.compression.toUpperCase(),B.type==="binarystring"&&(B.type="string"),!B.type)throw new Error("No output type specified.");u.checkSupport(B.type),B.platform!=="darwin"&&B.platform!=="freebsd"&&B.platform!=="linux"&&B.platform!=="sunos"||(B.platform="UNIX"),B.platform==="win32"&&(B.platform="DOS");var F=B.comment||this.comment||"";D=I.generateWorker(this,B,F)}catch(Q){(D=new f("error")).error(Q)}return new p(D,B.type||"string",B.mimeType)},generateAsync:function(P,D){return this.generateInternalStream(P).accumulate(D)},generateNodeStream:function(P,D){return(P=P||{}).type||(P.type="nodebuffer"),this.generateInternalStream(P).toNodejsStream(D)}};a.exports=H},749:(a,l,s)=>{a.exports=s(2830)},2370:(a,l,s)=>{var c=s(8542);function u(f){c.call(this,f);for(var p=0;p<this.data.length;p++)f[p]=255&f[p]}s(8910).inherits(u,c),u.prototype.byteAt=function(f){return this.data[this.zero+f]},u.prototype.lastIndexOfSignature=function(f){for(var p=f.charCodeAt(0),y=f.charCodeAt(1),v=f.charCodeAt(2),C=f.charCodeAt(3),I=this.length-4;I>=0;--I)if(this.data[I]===p&&this.data[I+1]===y&&this.data[I+2]===v&&this.data[I+3]===C)return I-this.zero;return-1},u.prototype.readAndCheckSignature=function(f){var p=f.charCodeAt(0),y=f.charCodeAt(1),v=f.charCodeAt(2),C=f.charCodeAt(3),I=this.readData(4);return p===I[0]&&y===I[1]&&v===I[2]&&C===I[3]},u.prototype.readData=function(f){if(this.checkOffset(f),f===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,p},a.exports=u},8542:(a,l,s)=>{var c=s(8910);function u(f){this.data=f,this.length=f.length,this.index=0,this.zero=0}u.prototype={checkOffset:function(f){this.checkIndex(this.index+f)},checkIndex:function(f){if(this.length<this.zero+f||f<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+f+"). Corrupted zip ?")},setIndex:function(f){this.checkIndex(f),this.index=f},skip:function(f){this.setIndex(this.index+f)},byteAt:function(){},readInt:function(f){var p,y=0;for(this.checkOffset(f),p=this.index+f-1;p>=this.index;p--)y=(y<<8)+this.byteAt(p);return this.index+=f,y},readString:function(f){return c.transformTo("string",this.readData(f))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var f=this.readInt(4);return new Date(Date.UTC(1980+(f>>25&127),(f>>21&15)-1,f>>16&31,f>>11&31,f>>5&63,(31&f)<<1))}},a.exports=u},9583:(a,l,s)=>{var c=s(414);function u(f){c.call(this,f)}s(8910).inherits(u,c),u.prototype.readData=function(f){this.checkOffset(f);var p=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,p},a.exports=u},9226:(a,l,s)=>{var c=s(8542);function u(f){c.call(this,f)}s(8910).inherits(u,c),u.prototype.byteAt=function(f){return this.data.charCodeAt(this.zero+f)},u.prototype.lastIndexOfSignature=function(f){return this.data.lastIndexOf(f)-this.zero},u.prototype.readAndCheckSignature=function(f){return f===this.readData(4)},u.prototype.readData=function(f){this.checkOffset(f);var p=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,p},a.exports=u},414:(a,l,s)=>{var c=s(2370);function u(f){c.call(this,f)}s(8910).inherits(u,c),u.prototype.readData=function(f){if(this.checkOffset(f),f===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+f);return this.index+=f,p},a.exports=u},8435:(a,l,s)=>{var c=s(8910),u=s(3790),f=s(2370),p=s(9226),y=s(9583),v=s(414);a.exports=function(C){var I=c.getTypeOf(C);return c.checkSupport(I),I!=="string"||u.uint8array?I==="nodebuffer"?new y(C):u.uint8array?new v(c.transformTo("uint8array",C)):new f(c.transformTo("array",C)):new p(C)}},1141:(a,l)=>{l.LOCAL_FILE_HEADER="PK",l.CENTRAL_FILE_HEADER="PK",l.CENTRAL_DIRECTORY_END="PK",l.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",l.ZIP64_CENTRAL_DIRECTORY_END="PK",l.DATA_DESCRIPTOR="PK\x07\b"},4293:(a,l,s)=>{var c=s(3718),u=s(8910);function f(p){c.call(this,"ConvertWorker to "+p),this.destType=p}u.inherits(f,c),f.prototype.processChunk=function(p){this.push({data:u.transformTo(this.destType,p.data),meta:p.meta})},a.exports=f},2541:(a,l,s)=>{var c=s(3718),u=s(6988);function f(){c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}s(8910).inherits(f,c),f.prototype.processChunk=function(p){this.streamInfo.crc32=u(p.data,this.streamInfo.crc32||0),this.push(p)},a.exports=f},5977:(a,l,s)=>{var c=s(8910),u=s(3718);function f(p){u.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}c.inherits(f,u),f.prototype.processChunk=function(p){if(p){var y=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=y+p.data.length}u.prototype.processChunk.call(this,p)},a.exports=f},5301:(a,l,s)=>{var c=s(8910),u=s(3718);function f(p){u.call(this,"DataWorker");var y=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(v){y.dataIsReady=!0,y.data=v,y.max=v&&v.length||0,y.type=c.getTypeOf(v),y.isPaused||y._tickAndRepeat()},function(v){y.error(v)})}c.inherits(f,u),f.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this.data=null},f.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,c.delay(this._tickAndRepeat,[],this)),!0)},f.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(c.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},f.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,y=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,y);break;case"uint8array":p=this.data.subarray(this.index,y);break;case"array":case"nodebuffer":p=this.data.slice(this.index,y)}return this.index=y,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=f},3718:a=>{function l(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}l.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,c){return this._listeners[s].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,c){if(this._listeners[s])for(var u=0;u<this._listeners[s].length;u++)this._listeners[s][u].call(this,c)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var c=this;return s.on("data",function(u){c.processChunk(u)}),s.on("end",function(){c.end()}),s.on("error",function(u){c.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var s=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,c){return this.extraStreamInfo[s]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},a.exports=l},1285:(a,l,s)=>{var c=s(8910),u=s(4293),f=s(3718),p=s(8458),y=s(3790),v=s(8565),C=null;if(y.nodestream)try{C=s(1220)}catch{}function I(N,_,b){var w=_;switch(_){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=_,this._mimeType=b,c.checkSupport(w),this._worker=N.pipe(new u(w)),N.lock()}catch(T){this._worker=new f("error"),this._worker.error(T)}}I.prototype={accumulate:function(N){return _=this,b=N,new v.Promise(function(w,T){var k=[],M=_._internalType,H=_._outputType,P=_._mimeType;_.on("data",function(D,B){k.push(D),b&&b(B)}).on("error",function(D){k=[],T(D)}).on("end",function(){try{var D=function(B,F,Q){switch(B){case"blob":return c.newBlob(c.transformTo("arraybuffer",F),Q);case"base64":return p.encode(F);default:return c.transformTo(B,F)}}(H,function(B,F){var Q,E=0,oe=null,ie=0;for(Q=0;Q<F.length;Q++)ie+=F[Q].length;switch(B){case"string":return F.join("");case"array":return Array.prototype.concat.apply([],F);case"uint8array":for(oe=new Uint8Array(ie),Q=0;Q<F.length;Q++)oe.set(F[Q],E),E+=F[Q].length;return oe;case"nodebuffer":return Buffer.concat(F);default:throw new Error("concat : unsupported type '"+B+"'")}}(M,k),P);w(D)}catch(B){T(B)}k=[]}).resume()});var _,b},on:function(N,_){var b=this;return N==="data"?this._worker.on(N,function(w){_.call(b,w.data,w.meta)}):this._worker.on(N,function(){c.delay(_,arguments,b)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(N){if(c.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new C(this,{objectMode:this._outputType!=="nodebuffer"},N)}},a.exports=I},3790:(a,l,s)=>{if(l.base64=!0,l.array=!0,l.string=!0,l.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",l.nodebuffer=typeof Buffer<"u",l.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")l.blob=!1;else{var c=new ArrayBuffer(0);try{l.blob=new Blob([c],{type:"application/zip"}).size===0}catch{try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);u.append(c),l.blob=u.getBlob("application/zip").size===0}catch{l.blob=!1}}}try{l.nodestream=!!s(749).Readable}catch{l.nodestream=!1}},3600:(a,l,s)=>{for(var c=s(8910),u=s(3790),f=s(2182),p=s(3718),y=new Array(256),v=0;v<256;v++)y[v]=v>=252?6:v>=248?5:v>=240?4:v>=224?3:v>=192?2:1;function C(){p.call(this,"utf-8 decode"),this.leftOver=null}function I(){p.call(this,"utf-8 encode")}y[254]=y[254]=1,l.utf8encode=function(N){return u.nodebuffer?f.newBufferFrom(N,"utf-8"):function(_){var b,w,T,k,M,H=_.length,P=0;for(k=0;k<H;k++)(64512&(w=_.charCodeAt(k)))==55296&&k+1<H&&(64512&(T=_.charCodeAt(k+1)))==56320&&(w=65536+(w-55296<<10)+(T-56320),k++),P+=w<128?1:w<2048?2:w<65536?3:4;for(b=u.uint8array?new Uint8Array(P):new Array(P),M=0,k=0;M<P;k++)(64512&(w=_.charCodeAt(k)))==55296&&k+1<H&&(64512&(T=_.charCodeAt(k+1)))==56320&&(w=65536+(w-55296<<10)+(T-56320),k++),w<128?b[M++]=w:w<2048?(b[M++]=192|w>>>6,b[M++]=128|63&w):w<65536?(b[M++]=224|w>>>12,b[M++]=128|w>>>6&63,b[M++]=128|63&w):(b[M++]=240|w>>>18,b[M++]=128|w>>>12&63,b[M++]=128|w>>>6&63,b[M++]=128|63&w);return b}(N)},l.utf8decode=function(N){return u.nodebuffer?c.transformTo("nodebuffer",N).toString("utf-8"):function(_){var b,w,T,k,M=_.length,H=new Array(2*M);for(w=0,b=0;b<M;)if((T=_[b++])<128)H[w++]=T;else if((k=y[T])>4)H[w++]=65533,b+=k-1;else{for(T&=k===2?31:k===3?15:7;k>1&&b<M;)T=T<<6|63&_[b++],k--;k>1?H[w++]=65533:T<65536?H[w++]=T:(T-=65536,H[w++]=55296|T>>10&1023,H[w++]=56320|1023&T)}return H.length!==w&&(H.subarray?H=H.subarray(0,w):H.length=w),c.applyFromCharCode(H)}(N=c.transformTo(u.uint8array?"uint8array":"array",N))},c.inherits(C,p),C.prototype.processChunk=function(N){var _=c.transformTo(u.uint8array?"uint8array":"array",N.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var b=_;(_=new Uint8Array(b.length+this.leftOver.length)).set(this.leftOver,0),_.set(b,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var w=function(k,M){var H;for((M=M||k.length)>k.length&&(M=k.length),H=M-1;H>=0&&(192&k[H])==128;)H--;return H<0||H===0?M:H+y[k[H]]>M?H:M}(_),T=_;w!==_.length&&(u.uint8array?(T=_.subarray(0,w),this.leftOver=_.subarray(w,_.length)):(T=_.slice(0,w),this.leftOver=_.slice(w,_.length))),this.push({data:l.utf8decode(T),meta:N.meta})},C.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:l.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},l.Utf8DecodeWorker=C,c.inherits(I,p),I.prototype.processChunk=function(N){this.push({data:l.utf8encode(N.data),meta:N.meta})},l.Utf8EncodeWorker=I},8910:(a,l,s)=>{var c=s(3790),u=s(8458),f=s(2182),p=s(8565);function y(b){return b}function v(b,w){for(var T=0;T<b.length;++T)w[T]=255&b.charCodeAt(T);return w}s(4889),l.newBlob=function(b,w){l.checkSupport("blob");try{return new Blob([b],{type:w})}catch{try{var T=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return T.append(b),T.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var C={stringifyByChunk:function(b,w,T){var k=[],M=0,H=b.length;if(H<=T)return String.fromCharCode.apply(null,b);for(;M<H;)w==="array"||w==="nodebuffer"?k.push(String.fromCharCode.apply(null,b.slice(M,Math.min(M+T,H)))):k.push(String.fromCharCode.apply(null,b.subarray(M,Math.min(M+T,H)))),M+=T;return k.join("")},stringifyByChar:function(b){for(var w="",T=0;T<b.length;T++)w+=String.fromCharCode(b[T]);return w},applyCanBeUsed:{uint8array:function(){try{return c.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return c.nodebuffer&&String.fromCharCode.apply(null,f.allocBuffer(1)).length===1}catch{return!1}}()}};function I(b){var w=65536,T=l.getTypeOf(b),k=!0;if(T==="uint8array"?k=C.applyCanBeUsed.uint8array:T==="nodebuffer"&&(k=C.applyCanBeUsed.nodebuffer),k)for(;w>1;)try{return C.stringifyByChunk(b,T,w)}catch{w=Math.floor(w/2)}return C.stringifyByChar(b)}function N(b,w){for(var T=0;T<b.length;T++)w[T]=b[T];return w}l.applyFromCharCode=I;var _={};_.string={string:y,array:function(b){return v(b,new Array(b.length))},arraybuffer:function(b){return _.string.uint8array(b).buffer},uint8array:function(b){return v(b,new Uint8Array(b.length))},nodebuffer:function(b){return v(b,f.allocBuffer(b.length))}},_.array={string:I,array:y,arraybuffer:function(b){return new Uint8Array(b).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return f.newBufferFrom(b)}},_.arraybuffer={string:function(b){return I(new Uint8Array(b))},array:function(b){return N(new Uint8Array(b),new Array(b.byteLength))},arraybuffer:y,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return f.newBufferFrom(new Uint8Array(b))}},_.uint8array={string:I,array:function(b){return N(b,new Array(b.length))},arraybuffer:function(b){return b.buffer},uint8array:y,nodebuffer:function(b){return f.newBufferFrom(b)}},_.nodebuffer={string:I,array:function(b){return N(b,new Array(b.length))},arraybuffer:function(b){return _.nodebuffer.uint8array(b).buffer},uint8array:function(b){return N(b,new Uint8Array(b.length))},nodebuffer:y},l.transformTo=function(b,w){if(w||(w=""),!b)return w;l.checkSupport(b);var T=l.getTypeOf(w);return _[T][b](w)},l.resolve=function(b){for(var w=b.split("/"),T=[],k=0;k<w.length;k++){var M=w[k];M==="."||M===""&&k!==0&&k!==w.length-1||(M===".."?T.pop():T.push(M))}return T.join("/")},l.getTypeOf=function(b){return typeof b=="string"?"string":Object.prototype.toString.call(b)==="[object Array]"?"array":c.nodebuffer&&f.isBuffer(b)?"nodebuffer":c.uint8array&&b instanceof Uint8Array?"uint8array":c.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0},l.checkSupport=function(b){if(!c[b.toLowerCase()])throw new Error(b+" is not supported by this platform")},l.MAX_VALUE_16BITS=65535,l.MAX_VALUE_32BITS=-1,l.pretty=function(b){var w,T,k="";for(T=0;T<(b||"").length;T++)k+="\\x"+((w=b.charCodeAt(T))<16?"0":"")+w.toString(16).toUpperCase();return k},l.delay=function(b,w,T){setImmediate(function(){b.apply(T||null,w||[])})},l.inherits=function(b,w){var T=function(){};T.prototype=w.prototype,b.prototype=new T},l.extend=function(){var b,w,T={};for(b=0;b<arguments.length;b++)for(w in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],w)&&T[w]===void 0&&(T[w]=arguments[b][w]);return T},l.prepareContent=function(b,w,T,k,M){return p.Promise.resolve(w).then(function(H){return c.blob&&(H instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(H))!==-1)&&typeof FileReader<"u"?new p.Promise(function(P,D){var B=new FileReader;B.onload=function(F){P(F.target.result)},B.onerror=function(F){D(F.target.error)},B.readAsArrayBuffer(H)}):H}).then(function(H){var P,D=l.getTypeOf(H);return D?(D==="arraybuffer"?H=l.transformTo("uint8array",H):D==="string"&&(M?H=u.decode(H):T&&k!==!0&&(H=v(P=H,c.uint8array?new Uint8Array(P.length):new Array(P.length)))),H):p.Promise.reject(new Error("Can't read the data of '"+b+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},6624:(a,l,s)=>{var c=s(8435),u=s(8910),f=s(1141),p=s(9392),y=s(3790);function v(C){this.files=[],this.loadOptions=C}v.prototype={checkSignature:function(C){if(!this.reader.readAndCheckSignature(C)){this.reader.index-=4;var I=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+u.pretty(I)+", expected "+u.pretty(C)+")")}},isSignature:function(C,I){var N=this.reader.index;this.reader.setIndex(C);var _=this.reader.readString(4)===I;return this.reader.setIndex(N),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var C=this.reader.readData(this.zipCommentLength),I=y.uint8array?"uint8array":"array",N=u.transformTo(I,C);this.zipComment=this.loadOptions.decodeFileName(N)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var C,I,N,_=this.zip64EndOfCentralSize-44;0<_;)C=this.reader.readInt(2),I=this.reader.readInt(4),N=this.reader.readData(I),this.zip64ExtensibleData[C]={id:C,length:I,value:N}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var C,I;for(C=0;C<this.files.length;C++)I=this.files[C],this.reader.setIndex(I.localHeaderOffset),this.checkSignature(f.LOCAL_FILE_HEADER),I.readLocalPart(this.reader),I.handleUTF8(),I.processAttributes()},readCentralDir:function(){var C;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(f.CENTRAL_FILE_HEADER);)(C=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(C);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var C=this.reader.lastIndexOfSignature(f.CENTRAL_DIRECTORY_END);if(C<0)throw this.isSignature(0,f.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(C);var I=C;if(this.checkSignature(f.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,(C=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(C),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,f.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var N=this.centralDirOffset+this.centralDirSize;this.zip64&&(N+=20,N+=12+this.zip64EndOfCentralSize);var _=I-N;if(_>0)this.isSignature(I,f.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(C){this.reader=c(C)},load:function(C){this.prepareReader(C),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=v},9392:(a,l,s)=>{var c=s(8435),u=s(8910),f=s(7326),p=s(6988),y=s(3600),v=s(1678),C=s(3790);function I(N,_){this.options=N,this.loadOptions=_}I.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(N){var _,b;if(N.skip(22),this.fileNameLength=N.readInt(2),b=N.readInt(2),this.fileName=N.readData(this.fileNameLength),N.skip(b),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_=function(w){for(var T in v)if(Object.prototype.hasOwnProperty.call(v,T)&&v[T].magic===w)return v[T];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+u.pretty(this.compressionMethod)+" unknown (inner file : "+u.transformTo("string",this.fileName)+")");this.decompressed=new f(this.compressedSize,this.uncompressedSize,this.crc32,_,N.readData(this.compressedSize))},readCentralPart:function(N){this.versionMadeBy=N.readInt(2),N.skip(2),this.bitFlag=N.readInt(2),this.compressionMethod=N.readString(2),this.date=N.readDate(),this.crc32=N.readInt(4),this.compressedSize=N.readInt(4),this.uncompressedSize=N.readInt(4);var _=N.readInt(2);if(this.extraFieldsLength=N.readInt(2),this.fileCommentLength=N.readInt(2),this.diskNumberStart=N.readInt(2),this.internalFileAttributes=N.readInt(2),this.externalFileAttributes=N.readInt(4),this.localHeaderOffset=N.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");N.skip(_),this.readExtraFields(N),this.parseZIP64ExtraField(N),this.fileComment=N.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var N=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),N===0&&(this.dosPermissions=63&this.externalFileAttributes),N===3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var N=c(this.extraFields[1].value);this.uncompressedSize===u.MAX_VALUE_32BITS&&(this.uncompressedSize=N.readInt(8)),this.compressedSize===u.MAX_VALUE_32BITS&&(this.compressedSize=N.readInt(8)),this.localHeaderOffset===u.MAX_VALUE_32BITS&&(this.localHeaderOffset=N.readInt(8)),this.diskNumberStart===u.MAX_VALUE_32BITS&&(this.diskNumberStart=N.readInt(4))}},readExtraFields:function(N){var _,b,w,T=N.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});N.index+4<T;)_=N.readInt(2),b=N.readInt(2),w=N.readData(b),this.extraFields[_]={id:_,length:b,value:w};N.setIndex(T)},handleUTF8:function(){var N=C.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=y.utf8decode(this.fileName),this.fileCommentStr=y.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var b=u.transformTo(N,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(b)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var T=u.transformTo(N,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(T)}}},findExtraFieldUnicodePath:function(){var N=this.extraFields[28789];if(N){var _=c(N.value);return _.readInt(1)!==1||p(this.fileName)!==_.readInt(4)?null:y.utf8decode(_.readData(N.length-5))}return null},findExtraFieldUnicodeComment:function(){var N=this.extraFields[25461];if(N){var _=c(N.value);return _.readInt(1)!==1||p(this.fileComment)!==_.readInt(4)?null:y.utf8decode(_.readData(N.length-5))}return null}},a.exports=I},6859:(a,l,s)=>{var c=s(1285),u=s(5301),f=s(3600),p=s(7326),y=s(3718),v=function(_,b,w){this.name=_,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=b,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}};v.prototype={internalStream:function(_){var b=null,w="string";try{if(!_)throw new Error("No output type specified.");var T=(w=_.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),b=this._decompressWorker();var k=!this._dataBinary;k&&!T&&(b=b.pipe(new f.Utf8EncodeWorker)),!k&&T&&(b=b.pipe(new f.Utf8DecodeWorker))}catch(M){(b=new y("error")).error(M)}return new c(b,w,"")},async:function(_,b){return this.internalStream(_).accumulate(b)},nodeStream:function(_,b){return this.internalStream(_||"nodebuffer").toNodejsStream(b)},_compressWorker:function(_,b){if(this._data instanceof p&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new f.Utf8EncodeWorker)),p.createWorkerFrom(w,_,b)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof y?this._data:new u(this._data)}};for(var C=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],I=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},N=0;N<C.length;N++)v.prototype[C[N]]=I;a.exports=v},3389:(a,l,s)=>{var c=s(5705);function u(){}var f={},p=["REJECTED"],y=["FULFILLED"],v=["PENDING"];function C(T){if(typeof T!="function")throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,T!==u&&b(this,T)}function I(T,k,M){this.promise=T,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof M=="function"&&(this.onRejected=M,this.callRejected=this.otherCallRejected)}function N(T,k,M){c(function(){var H;try{H=k(M)}catch(P){return f.reject(T,P)}H===T?f.reject(T,new TypeError("Cannot resolve promise with itself")):f.resolve(T,H)})}function _(T){var k=T&&T.then;if(T&&(typeof T=="object"||typeof T=="function")&&typeof k=="function")return function(){k.apply(T,arguments)}}function b(T,k){var M=!1;function H(B){M||(M=!0,f.reject(T,B))}function P(B){M||(M=!0,f.resolve(T,B))}var D=w(function(){k(P,H)});D.status==="error"&&H(D.value)}function w(T,k){var M={};try{M.value=T(k),M.status="success"}catch(H){M.status="error",M.value=H}return M}a.exports=C,C.prototype.finally=function(T){if(typeof T!="function")return this;var k=this.constructor;return this.then(function(M){return k.resolve(T()).then(function(){return M})},function(M){return k.resolve(T()).then(function(){throw M})})},C.prototype.catch=function(T){return this.then(null,T)},C.prototype.then=function(T,k){if(typeof T!="function"&&this.state===y||typeof k!="function"&&this.state===p)return this;var M=new this.constructor(u);return this.state!==v?N(M,this.state===y?T:k,this.outcome):this.queue.push(new I(M,T,k)),M},I.prototype.callFulfilled=function(T){f.resolve(this.promise,T)},I.prototype.otherCallFulfilled=function(T){N(this.promise,this.onFulfilled,T)},I.prototype.callRejected=function(T){f.reject(this.promise,T)},I.prototype.otherCallRejected=function(T){N(this.promise,this.onRejected,T)},f.resolve=function(T,k){var M=w(_,k);if(M.status==="error")return f.reject(T,M.value);var H=M.value;if(H)b(T,H);else{T.state=y,T.outcome=k;for(var P=-1,D=T.queue.length;++P<D;)T.queue[P].callFulfilled(k)}return T},f.reject=function(T,k){T.state=p,T.outcome=k;for(var M=-1,H=T.queue.length;++M<H;)T.queue[M].callRejected(k);return T},C.resolve=function(T){return T instanceof this?T:f.resolve(new this(u),T)},C.reject=function(T){var k=new this(u);return f.reject(k,T)},C.all=function(T){var k=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=T.length,H=!1;if(!M)return this.resolve([]);for(var P=new Array(M),D=0,B=-1,F=new this(u);++B<M;)Q(T[B],B);return F;function Q(E,oe){k.resolve(E).then(function(ie){P[oe]=ie,++D!==M||H||(H=!0,f.resolve(F,P))},function(ie){H||(H=!0,f.reject(F,ie))})}},C.race=function(T){if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=T.length,M=!1;if(!k)return this.resolve([]);for(var H,P=-1,D=new this(u);++P<k;)H=T[P],this.resolve(H).then(function(B){M||(M=!0,f.resolve(D,B))},function(B){M||(M=!0,f.reject(D,B))});return D}},9591:(a,l,s)=>{var c={};(0,s(4236).assign)(c,s(4555),s(8843),s(1619)),a.exports=c},4555:(a,l,s)=>{var c=s(405),u=s(4236),f=s(9373),p=s(8898),y=s(2292),v=Object.prototype.toString;function C(N){if(!(this instanceof C))return new C(N);this.options=u.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},N||{});var _=this.options;_.raw&&_.windowBits>0?_.windowBits=-_.windowBits:_.gzip&&_.windowBits>0&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var b=c.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(b!==0)throw new Error(p[b]);if(_.header&&c.deflateSetHeader(this.strm,_.header),_.dictionary){var w;if(w=typeof _.dictionary=="string"?f.string2buf(_.dictionary):v.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(b=c.deflateSetDictionary(this.strm,w))!==0)throw new Error(p[b]);this._dict_set=!0}}function I(N,_){var b=new C(_);if(b.push(N,!0),b.err)throw b.msg||p[b.err];return b.result}C.prototype.push=function(N,_){var b,w,T=this.strm,k=this.options.chunkSize;if(this.ended)return!1;w=_===~~_?_:_===!0?4:0,typeof N=="string"?T.input=f.string2buf(N):v.call(N)==="[object ArrayBuffer]"?T.input=new Uint8Array(N):T.input=N,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new u.Buf8(k),T.next_out=0,T.avail_out=k),(b=c.deflate(T,w))!==1&&b!==0)return this.onEnd(b),this.ended=!0,!1;T.avail_out!==0&&(T.avail_in!==0||w!==4&&w!==2)||(this.options.to==="string"?this.onData(f.buf2binstring(u.shrinkBuf(T.output,T.next_out))):this.onData(u.shrinkBuf(T.output,T.next_out)))}while((T.avail_in>0||T.avail_out===0)&&b!==1);return w===4?(b=c.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===0):w!==2||(this.onEnd(0),T.avail_out=0,!0)},C.prototype.onData=function(N){this.chunks.push(N)},C.prototype.onEnd=function(N){N===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=N,this.msg=this.strm.msg},l.Deflate=C,l.deflate=I,l.deflateRaw=function(N,_){return(_=_||{}).raw=!0,I(N,_)},l.gzip=function(N,_){return(_=_||{}).gzip=!0,I(N,_)}},8843:(a,l,s)=>{var c=s(7948),u=s(4236),f=s(9373),p=s(1619),y=s(8898),v=s(2292),C=s(2401),I=Object.prototype.toString;function N(b){if(!(this instanceof N))return new N(b);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},b||{});var w=this.options;w.raw&&w.windowBits>=0&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(w.windowBits>=0&&w.windowBits<16)||b&&b.windowBits||(w.windowBits+=32),w.windowBits>15&&w.windowBits<48&&!(15&w.windowBits)&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var T=c.inflateInit2(this.strm,w.windowBits);if(T!==p.Z_OK)throw new Error(y[T]);if(this.header=new C,c.inflateGetHeader(this.strm,this.header),w.dictionary&&(typeof w.dictionary=="string"?w.dictionary=f.string2buf(w.dictionary):I.call(w.dictionary)==="[object ArrayBuffer]"&&(w.dictionary=new Uint8Array(w.dictionary)),w.raw&&(T=c.inflateSetDictionary(this.strm,w.dictionary))!==p.Z_OK))throw new Error(y[T])}function _(b,w){var T=new N(w);if(T.push(b,!0),T.err)throw T.msg||y[T.err];return T.result}N.prototype.push=function(b,w){var T,k,M,H,P,D=this.strm,B=this.options.chunkSize,F=this.options.dictionary,Q=!1;if(this.ended)return!1;k=w===~~w?w:w===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof b=="string"?D.input=f.binstring2buf(b):I.call(b)==="[object ArrayBuffer]"?D.input=new Uint8Array(b):D.input=b,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new u.Buf8(B),D.next_out=0,D.avail_out=B),(T=c.inflate(D,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&F&&(T=c.inflateSetDictionary(this.strm,F)),T===p.Z_BUF_ERROR&&Q===!0&&(T=p.Z_OK,Q=!1),T!==p.Z_STREAM_END&&T!==p.Z_OK)return this.onEnd(T),this.ended=!0,!1;D.next_out&&(D.avail_out!==0&&T!==p.Z_STREAM_END&&(D.avail_in!==0||k!==p.Z_FINISH&&k!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(M=f.utf8border(D.output,D.next_out),H=D.next_out-M,P=f.buf2string(D.output,M),D.next_out=H,D.avail_out=B-H,H&&u.arraySet(D.output,D.output,M,H,0),this.onData(P)):this.onData(u.shrinkBuf(D.output,D.next_out)))),D.avail_in===0&&D.avail_out===0&&(Q=!0)}while((D.avail_in>0||D.avail_out===0)&&T!==p.Z_STREAM_END);return T===p.Z_STREAM_END&&(k=p.Z_FINISH),k===p.Z_FINISH?(T=c.inflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===p.Z_OK):k!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),D.avail_out=0,!0)},N.prototype.onData=function(b){this.chunks.push(b)},N.prototype.onEnd=function(b){b===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},l.Inflate=N,l.inflate=_,l.inflateRaw=function(b,w){return(w=w||{}).raw=!0,_(b,w)},l.ungzip=_},4236:(a,l)=>{var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function c(p,y){return Object.prototype.hasOwnProperty.call(p,y)}l.assign=function(p){for(var y=Array.prototype.slice.call(arguments,1);y.length;){var v=y.shift();if(v){if(typeof v!="object")throw new TypeError(v+"must be non-object");for(var C in v)c(v,C)&&(p[C]=v[C])}}return p},l.shrinkBuf=function(p,y){return p.length===y?p:p.subarray?p.subarray(0,y):(p.length=y,p)};var u={arraySet:function(p,y,v,C,I){if(y.subarray&&p.subarray)p.set(y.subarray(v,v+C),I);else for(var N=0;N<C;N++)p[I+N]=y[v+N]},flattenChunks:function(p){var y,v,C,I,N,_;for(C=0,y=0,v=p.length;y<v;y++)C+=p[y].length;for(_=new Uint8Array(C),I=0,y=0,v=p.length;y<v;y++)N=p[y],_.set(N,I),I+=N.length;return _}},f={arraySet:function(p,y,v,C,I){for(var N=0;N<C;N++)p[I+N]=y[v+N]},flattenChunks:function(p){return[].concat.apply([],p)}};l.setTyped=function(p){p?(l.Buf8=Uint8Array,l.Buf16=Uint16Array,l.Buf32=Int32Array,l.assign(l,u)):(l.Buf8=Array,l.Buf16=Array,l.Buf32=Array,l.assign(l,f))},l.setTyped(s)},9373:(a,l,s)=>{var c=s(4236),u=!0,f=!0;try{String.fromCharCode.apply(null,[0])}catch{u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{f=!1}for(var p=new c.Buf8(256),y=0;y<256;y++)p[y]=y>=252?6:y>=248?5:y>=240?4:y>=224?3:y>=192?2:1;function v(C,I){if(I<65534&&(C.subarray&&f||!C.subarray&&u))return String.fromCharCode.apply(null,c.shrinkBuf(C,I));for(var N="",_=0;_<I;_++)N+=String.fromCharCode(C[_]);return N}p[254]=p[254]=1,l.string2buf=function(C){var I,N,_,b,w,T=C.length,k=0;for(b=0;b<T;b++)(64512&(N=C.charCodeAt(b)))==55296&&b+1<T&&(64512&(_=C.charCodeAt(b+1)))==56320&&(N=65536+(N-55296<<10)+(_-56320),b++),k+=N<128?1:N<2048?2:N<65536?3:4;for(I=new c.Buf8(k),w=0,b=0;w<k;b++)(64512&(N=C.charCodeAt(b)))==55296&&b+1<T&&(64512&(_=C.charCodeAt(b+1)))==56320&&(N=65536+(N-55296<<10)+(_-56320),b++),N<128?I[w++]=N:N<2048?(I[w++]=192|N>>>6,I[w++]=128|63&N):N<65536?(I[w++]=224|N>>>12,I[w++]=128|N>>>6&63,I[w++]=128|63&N):(I[w++]=240|N>>>18,I[w++]=128|N>>>12&63,I[w++]=128|N>>>6&63,I[w++]=128|63&N);return I},l.buf2binstring=function(C){return v(C,C.length)},l.binstring2buf=function(C){for(var I=new c.Buf8(C.length),N=0,_=I.length;N<_;N++)I[N]=C.charCodeAt(N);return I},l.buf2string=function(C,I){var N,_,b,w,T=I||C.length,k=new Array(2*T);for(_=0,N=0;N<T;)if((b=C[N++])<128)k[_++]=b;else if((w=p[b])>4)k[_++]=65533,N+=w-1;else{for(b&=w===2?31:w===3?15:7;w>1&&N<T;)b=b<<6|63&C[N++],w--;w>1?k[_++]=65533:b<65536?k[_++]=b:(b-=65536,k[_++]=55296|b>>10&1023,k[_++]=56320|1023&b)}return v(k,_)},l.utf8border=function(C,I){var N;for((I=I||C.length)>C.length&&(I=C.length),N=I-1;N>=0&&(192&C[N])==128;)N--;return N<0||N===0?I:N+p[C[N]]>I?N:I}},6069:a=>{a.exports=function(l,s,c,u){for(var f=65535&l|0,p=l>>>16&65535|0,y=0;c!==0;){c-=y=c>2e3?2e3:c;do p=p+(f=f+s[u++]|0)|0;while(--y);f%=65521,p%=65521}return f|p<<16|0}},1619:a=>{a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},2869:a=>{var l=function(){for(var s,c=[],u=0;u<256;u++){s=u;for(var f=0;f<8;f++)s=1&s?3988292384^s>>>1:s>>>1;c[u]=s}return c}();a.exports=function(s,c,u,f){var p=l,y=f+u;s^=-1;for(var v=f;v<y;v++)s=s>>>8^p[255&(s^c[v])];return-1^s}},405:(a,l,s)=>{var c,u=s(4236),f=s(342),p=s(6069),y=s(2869),v=s(8898),C=-2,I=258,N=262,_=103,b=113,w=666;function T(x,$){return x.msg=v[$],$}function k(x){return(x<<1)-(x>4?9:0)}function M(x){for(var $=x.length;--$>=0;)x[$]=0}function H(x){var $=x.state,te=$.pending;te>x.avail_out&&(te=x.avail_out),te!==0&&(u.arraySet(x.output,$.pending_buf,$.pending_out,te,x.next_out),x.next_out+=te,$.pending_out+=te,x.total_out+=te,x.avail_out-=te,$.pending-=te,$.pending===0&&($.pending_out=0))}function P(x,$){f._tr_flush_block(x,x.block_start>=0?x.block_start:-1,x.strstart-x.block_start,$),x.block_start=x.strstart,H(x.strm)}function D(x,$){x.pending_buf[x.pending++]=$}function B(x,$){x.pending_buf[x.pending++]=$>>>8&255,x.pending_buf[x.pending++]=255&$}function F(x,$){var te,V,K=x.max_chain_length,q=x.strstart,G=x.prev_length,ee=x.nice_match,se=x.strstart>x.w_size-N?x.strstart-(x.w_size-N):0,ae=x.window,U=x.w_mask,m=x.prev,S=x.strstart+I,L=ae[q+G-1],Y=ae[q+G];x.prev_length>=x.good_match&&(K>>=2),ee>x.lookahead&&(ee=x.lookahead);do if(ae[(te=$)+G]===Y&&ae[te+G-1]===L&&ae[te]===ae[q]&&ae[++te]===ae[q+1]){q+=2,te++;do;while(ae[++q]===ae[++te]&&ae[++q]===ae[++te]&&ae[++q]===ae[++te]&&ae[++q]===ae[++te]&&ae[++q]===ae[++te]&&ae[++q]===ae[++te]&&ae[++q]===ae[++te]&&ae[++q]===ae[++te]&&q<S);if(V=I-(S-q),q=S-I,V>G){if(x.match_start=$,G=V,V>=ee)break;L=ae[q+G-1],Y=ae[q+G]}}while(($=m[$&U])>se&&--K!=0);return G<=x.lookahead?G:x.lookahead}function Q(x){var $,te,V,K,q,G,ee,se,ae,U,m=x.w_size;do{if(K=x.window_size-x.lookahead-x.strstart,x.strstart>=m+(m-N)){u.arraySet(x.window,x.window,m,m,0),x.match_start-=m,x.strstart-=m,x.block_start-=m,$=te=x.hash_size;do V=x.head[--$],x.head[$]=V>=m?V-m:0;while(--te);$=te=m;do V=x.prev[--$],x.prev[$]=V>=m?V-m:0;while(--te);K+=m}if(x.strm.avail_in===0)break;if(G=x.strm,ee=x.window,se=x.strstart+x.lookahead,ae=K,U=void 0,(U=G.avail_in)>ae&&(U=ae),te=U===0?0:(G.avail_in-=U,u.arraySet(ee,G.input,G.next_in,U,se),G.state.wrap===1?G.adler=p(G.adler,ee,U,se):G.state.wrap===2&&(G.adler=y(G.adler,ee,U,se)),G.next_in+=U,G.total_in+=U,U),x.lookahead+=te,x.lookahead+x.insert>=3)for(q=x.strstart-x.insert,x.ins_h=x.window[q],x.ins_h=(x.ins_h<<x.hash_shift^x.window[q+1])&x.hash_mask;x.insert&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[q+3-1])&x.hash_mask,x.prev[q&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=q,q++,x.insert--,!(x.lookahead+x.insert<3)););}while(x.lookahead<N&&x.strm.avail_in!==0)}function E(x,$){for(var te,V;;){if(x.lookahead<N){if(Q(x),x.lookahead<N&&$===0)return 1;if(x.lookahead===0)break}if(te=0,x.lookahead>=3&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+3-1])&x.hash_mask,te=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),te!==0&&x.strstart-te<=x.w_size-N&&(x.match_length=F(x,te)),x.match_length>=3)if(V=f._tr_tally(x,x.strstart-x.match_start,x.match_length-3),x.lookahead-=x.match_length,x.match_length<=x.max_lazy_match&&x.lookahead>=3){x.match_length--;do x.strstart++,x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+3-1])&x.hash_mask,te=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart;while(--x.match_length!=0);x.strstart++}else x.strstart+=x.match_length,x.match_length=0,x.ins_h=x.window[x.strstart],x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+1])&x.hash_mask;else V=f._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++;if(V&&(P(x,!1),x.strm.avail_out===0))return 1}return x.insert=x.strstart<2?x.strstart:2,$===4?(P(x,!0),x.strm.avail_out===0?3:4):x.last_lit&&(P(x,!1),x.strm.avail_out===0)?1:2}function oe(x,$){for(var te,V,K;;){if(x.lookahead<N){if(Q(x),x.lookahead<N&&$===0)return 1;if(x.lookahead===0)break}if(te=0,x.lookahead>=3&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+3-1])&x.hash_mask,te=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),x.prev_length=x.match_length,x.prev_match=x.match_start,x.match_length=2,te!==0&&x.prev_length<x.max_lazy_match&&x.strstart-te<=x.w_size-N&&(x.match_length=F(x,te),x.match_length<=5&&(x.strategy===1||x.match_length===3&&x.strstart-x.match_start>4096)&&(x.match_length=2)),x.prev_length>=3&&x.match_length<=x.prev_length){K=x.strstart+x.lookahead-3,V=f._tr_tally(x,x.strstart-1-x.prev_match,x.prev_length-3),x.lookahead-=x.prev_length-1,x.prev_length-=2;do++x.strstart<=K&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+3-1])&x.hash_mask,te=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart);while(--x.prev_length!=0);if(x.match_available=0,x.match_length=2,x.strstart++,V&&(P(x,!1),x.strm.avail_out===0))return 1}else if(x.match_available){if((V=f._tr_tally(x,0,x.window[x.strstart-1]))&&P(x,!1),x.strstart++,x.lookahead--,x.strm.avail_out===0)return 1}else x.match_available=1,x.strstart++,x.lookahead--}return x.match_available&&(V=f._tr_tally(x,0,x.window[x.strstart-1]),x.match_available=0),x.insert=x.strstart<2?x.strstart:2,$===4?(P(x,!0),x.strm.avail_out===0?3:4):x.last_lit&&(P(x,!1),x.strm.avail_out===0)?1:2}function ie(x,$,te,V,K){this.good_length=x,this.max_lazy=$,this.nice_length=te,this.max_chain=V,this.func=K}function z(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(1146),this.dyn_dtree=new u.Buf16(122),this.bl_tree=new u.Buf16(78),M(this.dyn_ltree),M(this.dyn_dtree),M(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(16),this.heap=new u.Buf16(573),M(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(573),M(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function be(x){var $;return x&&x.state?(x.total_in=x.total_out=0,x.data_type=2,($=x.state).pending=0,$.pending_out=0,$.wrap<0&&($.wrap=-$.wrap),$.status=$.wrap?42:b,x.adler=$.wrap===2?0:1,$.last_flush=0,f._tr_init($),0):T(x,C)}function me(x){var $,te=be(x);return te===0&&(($=x.state).window_size=2*$.w_size,M($.head),$.max_lazy_match=c[$.level].max_lazy,$.good_match=c[$.level].good_length,$.nice_match=c[$.level].nice_length,$.max_chain_length=c[$.level].max_chain,$.strstart=0,$.block_start=0,$.lookahead=0,$.insert=0,$.match_length=$.prev_length=2,$.match_available=0,$.ins_h=0),te}function _e(x,$,te,V,K,q){if(!x)return C;var G=1;if($===-1&&($=6),V<0?(G=0,V=-V):V>15&&(G=2,V-=16),K<1||K>9||te!==8||V<8||V>15||$<0||$>9||q<0||q>4)return T(x,C);V===8&&(V=9);var ee=new z;return x.state=ee,ee.strm=x,ee.wrap=G,ee.gzhead=null,ee.w_bits=V,ee.w_size=1<<ee.w_bits,ee.w_mask=ee.w_size-1,ee.hash_bits=K+7,ee.hash_size=1<<ee.hash_bits,ee.hash_mask=ee.hash_size-1,ee.hash_shift=~~((ee.hash_bits+3-1)/3),ee.window=new u.Buf8(2*ee.w_size),ee.head=new u.Buf16(ee.hash_size),ee.prev=new u.Buf16(ee.w_size),ee.lit_bufsize=1<<K+6,ee.pending_buf_size=4*ee.lit_bufsize,ee.pending_buf=new u.Buf8(ee.pending_buf_size),ee.d_buf=1*ee.lit_bufsize,ee.l_buf=3*ee.lit_bufsize,ee.level=$,ee.strategy=q,ee.method=te,me(x)}c=[new ie(0,0,0,0,function(x,$){var te=65535;for(te>x.pending_buf_size-5&&(te=x.pending_buf_size-5);;){if(x.lookahead<=1){if(Q(x),x.lookahead===0&&$===0)return 1;if(x.lookahead===0)break}x.strstart+=x.lookahead,x.lookahead=0;var V=x.block_start+te;if((x.strstart===0||x.strstart>=V)&&(x.lookahead=x.strstart-V,x.strstart=V,P(x,!1),x.strm.avail_out===0)||x.strstart-x.block_start>=x.w_size-N&&(P(x,!1),x.strm.avail_out===0))return 1}return x.insert=0,$===4?(P(x,!0),x.strm.avail_out===0?3:4):(x.strstart>x.block_start&&(P(x,!1),x.strm.avail_out),1)}),new ie(4,4,8,4,E),new ie(4,5,16,8,E),new ie(4,6,32,32,E),new ie(4,4,16,16,oe),new ie(8,16,32,32,oe),new ie(8,16,128,128,oe),new ie(8,32,128,256,oe),new ie(32,128,258,1024,oe),new ie(32,258,258,4096,oe)],l.deflateInit=function(x,$){return _e(x,$,8,15,8,0)},l.deflateInit2=_e,l.deflateReset=me,l.deflateResetKeep=be,l.deflateSetHeader=function(x,$){return x&&x.state?x.state.wrap!==2?C:(x.state.gzhead=$,0):C},l.deflate=function(x,$){var te,V,K,q;if(!x||!x.state||$>5||$<0)return x?T(x,C):C;if(V=x.state,!x.output||!x.input&&x.avail_in!==0||V.status===w&&$!==4)return T(x,x.avail_out===0?-5:C);if(V.strm=x,te=V.last_flush,V.last_flush=$,V.status===42)if(V.wrap===2)x.adler=0,D(V,31),D(V,139),D(V,8),V.gzhead?(D(V,(V.gzhead.text?1:0)+(V.gzhead.hcrc?2:0)+(V.gzhead.extra?4:0)+(V.gzhead.name?8:0)+(V.gzhead.comment?16:0)),D(V,255&V.gzhead.time),D(V,V.gzhead.time>>8&255),D(V,V.gzhead.time>>16&255),D(V,V.gzhead.time>>24&255),D(V,V.level===9?2:V.strategy>=2||V.level<2?4:0),D(V,255&V.gzhead.os),V.gzhead.extra&&V.gzhead.extra.length&&(D(V,255&V.gzhead.extra.length),D(V,V.gzhead.extra.length>>8&255)),V.gzhead.hcrc&&(x.adler=y(x.adler,V.pending_buf,V.pending,0)),V.gzindex=0,V.status=69):(D(V,0),D(V,0),D(V,0),D(V,0),D(V,0),D(V,V.level===9?2:V.strategy>=2||V.level<2?4:0),D(V,3),V.status=b);else{var G=8+(V.w_bits-8<<4)<<8;G|=(V.strategy>=2||V.level<2?0:V.level<6?1:V.level===6?2:3)<<6,V.strstart!==0&&(G|=32),G+=31-G%31,V.status=b,B(V,G),V.strstart!==0&&(B(V,x.adler>>>16),B(V,65535&x.adler)),x.adler=1}if(V.status===69)if(V.gzhead.extra){for(K=V.pending;V.gzindex<(65535&V.gzhead.extra.length)&&(V.pending!==V.pending_buf_size||(V.gzhead.hcrc&&V.pending>K&&(x.adler=y(x.adler,V.pending_buf,V.pending-K,K)),H(x),K=V.pending,V.pending!==V.pending_buf_size));)D(V,255&V.gzhead.extra[V.gzindex]),V.gzindex++;V.gzhead.hcrc&&V.pending>K&&(x.adler=y(x.adler,V.pending_buf,V.pending-K,K)),V.gzindex===V.gzhead.extra.length&&(V.gzindex=0,V.status=73)}else V.status=73;if(V.status===73)if(V.gzhead.name){K=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>K&&(x.adler=y(x.adler,V.pending_buf,V.pending-K,K)),H(x),K=V.pending,V.pending===V.pending_buf_size)){q=1;break}q=V.gzindex<V.gzhead.name.length?255&V.gzhead.name.charCodeAt(V.gzindex++):0,D(V,q)}while(q!==0);V.gzhead.hcrc&&V.pending>K&&(x.adler=y(x.adler,V.pending_buf,V.pending-K,K)),q===0&&(V.gzindex=0,V.status=91)}else V.status=91;if(V.status===91)if(V.gzhead.comment){K=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>K&&(x.adler=y(x.adler,V.pending_buf,V.pending-K,K)),H(x),K=V.pending,V.pending===V.pending_buf_size)){q=1;break}q=V.gzindex<V.gzhead.comment.length?255&V.gzhead.comment.charCodeAt(V.gzindex++):0,D(V,q)}while(q!==0);V.gzhead.hcrc&&V.pending>K&&(x.adler=y(x.adler,V.pending_buf,V.pending-K,K)),q===0&&(V.status=_)}else V.status=_;if(V.status===_&&(V.gzhead.hcrc?(V.pending+2>V.pending_buf_size&&H(x),V.pending+2<=V.pending_buf_size&&(D(V,255&x.adler),D(V,x.adler>>8&255),x.adler=0,V.status=b)):V.status=b),V.pending!==0){if(H(x),x.avail_out===0)return V.last_flush=-1,0}else if(x.avail_in===0&&k($)<=k(te)&&$!==4)return T(x,-5);if(V.status===w&&x.avail_in!==0)return T(x,-5);if(x.avail_in!==0||V.lookahead!==0||$!==0&&V.status!==w){var ee=V.strategy===2?function(se,ae){for(var U;;){if(se.lookahead===0&&(Q(se),se.lookahead===0)){if(ae===0)return 1;break}if(se.match_length=0,U=f._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++,U&&(P(se,!1),se.strm.avail_out===0))return 1}return se.insert=0,ae===4?(P(se,!0),se.strm.avail_out===0?3:4):se.last_lit&&(P(se,!1),se.strm.avail_out===0)?1:2}(V,$):V.strategy===3?function(se,ae){for(var U,m,S,L,Y=se.window;;){if(se.lookahead<=I){if(Q(se),se.lookahead<=I&&ae===0)return 1;if(se.lookahead===0)break}if(se.match_length=0,se.lookahead>=3&&se.strstart>0&&(m=Y[S=se.strstart-1])===Y[++S]&&m===Y[++S]&&m===Y[++S]){L=se.strstart+I;do;while(m===Y[++S]&&m===Y[++S]&&m===Y[++S]&&m===Y[++S]&&m===Y[++S]&&m===Y[++S]&&m===Y[++S]&&m===Y[++S]&&S<L);se.match_length=I-(L-S),se.match_length>se.lookahead&&(se.match_length=se.lookahead)}if(se.match_length>=3?(U=f._tr_tally(se,1,se.match_length-3),se.lookahead-=se.match_length,se.strstart+=se.match_length,se.match_length=0):(U=f._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++),U&&(P(se,!1),se.strm.avail_out===0))return 1}return se.insert=0,ae===4?(P(se,!0),se.strm.avail_out===0?3:4):se.last_lit&&(P(se,!1),se.strm.avail_out===0)?1:2}(V,$):c[V.level].func(V,$);if(ee!==3&&ee!==4||(V.status=w),ee===1||ee===3)return x.avail_out===0&&(V.last_flush=-1),0;if(ee===2&&($===1?f._tr_align(V):$!==5&&(f._tr_stored_block(V,0,0,!1),$===3&&(M(V.head),V.lookahead===0&&(V.strstart=0,V.block_start=0,V.insert=0))),H(x),x.avail_out===0))return V.last_flush=-1,0}return $!==4?0:V.wrap<=0?1:(V.wrap===2?(D(V,255&x.adler),D(V,x.adler>>8&255),D(V,x.adler>>16&255),D(V,x.adler>>24&255),D(V,255&x.total_in),D(V,x.total_in>>8&255),D(V,x.total_in>>16&255),D(V,x.total_in>>24&255)):(B(V,x.adler>>>16),B(V,65535&x.adler)),H(x),V.wrap>0&&(V.wrap=-V.wrap),V.pending!==0?0:1)},l.deflateEnd=function(x){var $;return x&&x.state?($=x.state.status)!==42&&$!==69&&$!==73&&$!==91&&$!==_&&$!==b&&$!==w?T(x,C):(x.state=null,$===b?T(x,-3):0):C},l.deflateSetDictionary=function(x,$){var te,V,K,q,G,ee,se,ae,U=$.length;if(!x||!x.state||(q=(te=x.state).wrap)===2||q===1&&te.status!==42||te.lookahead)return C;for(q===1&&(x.adler=p(x.adler,$,U,0)),te.wrap=0,U>=te.w_size&&(q===0&&(M(te.head),te.strstart=0,te.block_start=0,te.insert=0),ae=new u.Buf8(te.w_size),u.arraySet(ae,$,U-te.w_size,te.w_size,0),$=ae,U=te.w_size),G=x.avail_in,ee=x.next_in,se=x.input,x.avail_in=U,x.next_in=0,x.input=$,Q(te);te.lookahead>=3;){V=te.strstart,K=te.lookahead-2;do te.ins_h=(te.ins_h<<te.hash_shift^te.window[V+3-1])&te.hash_mask,te.prev[V&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=V,V++;while(--K);te.strstart=V,te.lookahead=2,Q(te)}return te.strstart+=te.lookahead,te.block_start=te.strstart,te.insert=te.lookahead,te.lookahead=0,te.match_length=te.prev_length=2,te.match_available=0,x.next_in=ee,x.input=se,x.avail_in=G,te.wrap=q,0},l.deflateInfo="pako deflate (from Nodeca project)"},2401:a=>{a.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},4264:a=>{a.exports=function(l,s){var c,u,f,p,y,v,C,I,N,_,b,w,T,k,M,H,P,D,B,F,Q,E,oe,ie,z;c=l.state,u=l.next_in,ie=l.input,f=u+(l.avail_in-5),p=l.next_out,z=l.output,y=p-(s-l.avail_out),v=p+(l.avail_out-257),C=c.dmax,I=c.wsize,N=c.whave,_=c.wnext,b=c.window,w=c.hold,T=c.bits,k=c.lencode,M=c.distcode,H=(1<<c.lenbits)-1,P=(1<<c.distbits)-1;e:do{T<15&&(w+=ie[u++]<<T,T+=8,w+=ie[u++]<<T,T+=8),D=k[w&H];t:for(;;){if(w>>>=B=D>>>24,T-=B,(B=D>>>16&255)==0)z[p++]=65535&D;else{if(!(16&B)){if(!(64&B)){D=k[(65535&D)+(w&(1<<B)-1)];continue t}if(32&B){c.mode=12;break e}l.msg="invalid literal/length code",c.mode=30;break e}F=65535&D,(B&=15)&&(T<B&&(w+=ie[u++]<<T,T+=8),F+=w&(1<<B)-1,w>>>=B,T-=B),T<15&&(w+=ie[u++]<<T,T+=8,w+=ie[u++]<<T,T+=8),D=M[w&P];o:for(;;){if(w>>>=B=D>>>24,T-=B,!(16&(B=D>>>16&255))){if(!(64&B)){D=M[(65535&D)+(w&(1<<B)-1)];continue o}l.msg="invalid distance code",c.mode=30;break e}if(Q=65535&D,T<(B&=15)&&(w+=ie[u++]<<T,(T+=8)<B&&(w+=ie[u++]<<T,T+=8)),(Q+=w&(1<<B)-1)>C){l.msg="invalid distance too far back",c.mode=30;break e}if(w>>>=B,T-=B,Q>(B=p-y)){if((B=Q-B)>N&&c.sane){l.msg="invalid distance too far back",c.mode=30;break e}if(E=0,oe=b,_===0){if(E+=I-B,B<F){F-=B;do z[p++]=b[E++];while(--B);E=p-Q,oe=z}}else if(_<B){if(E+=I+_-B,(B-=_)<F){F-=B;do z[p++]=b[E++];while(--B);if(E=0,_<F){F-=B=_;do z[p++]=b[E++];while(--B);E=p-Q,oe=z}}}else if(E+=_-B,B<F){F-=B;do z[p++]=b[E++];while(--B);E=p-Q,oe=z}for(;F>2;)z[p++]=oe[E++],z[p++]=oe[E++],z[p++]=oe[E++],F-=3;F&&(z[p++]=oe[E++],F>1&&(z[p++]=oe[E++]))}else{E=p-Q;do z[p++]=z[E++],z[p++]=z[E++],z[p++]=z[E++],F-=3;while(F>2);F&&(z[p++]=z[E++],F>1&&(z[p++]=z[E++]))}break}}break}}while(u<f&&p<v);u-=F=T>>3,w&=(1<<(T-=F<<3))-1,l.next_in=u,l.next_out=p,l.avail_in=u<f?f-u+5:5-(u-f),l.avail_out=p<v?v-p+257:257-(p-v),c.hold=w,c.bits=T}},7948:(a,l,s)=>{var c=s(4236),u=s(6069),f=s(2869),p=s(4264),y=s(9241),v=-2,C=12,I=30;function N(F){return(F>>>24&255)+(F>>>8&65280)+((65280&F)<<8)+((255&F)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(F){var Q;return F&&F.state?(Q=F.state,F.total_in=F.total_out=Q.total=0,F.msg="",Q.wrap&&(F.adler=1&Q.wrap),Q.mode=1,Q.last=0,Q.havedict=0,Q.dmax=32768,Q.head=null,Q.hold=0,Q.bits=0,Q.lencode=Q.lendyn=new c.Buf32(852),Q.distcode=Q.distdyn=new c.Buf32(592),Q.sane=1,Q.back=-1,0):v}function w(F){var Q;return F&&F.state?((Q=F.state).wsize=0,Q.whave=0,Q.wnext=0,b(F)):v}function T(F,Q){var E,oe;return F&&F.state?(oe=F.state,Q<0?(E=0,Q=-Q):(E=1+(Q>>4),Q<48&&(Q&=15)),Q&&(Q<8||Q>15)?v:(oe.window!==null&&oe.wbits!==Q&&(oe.window=null),oe.wrap=E,oe.wbits=Q,w(F))):v}function k(F,Q){var E,oe;return F?(oe=new _,F.state=oe,oe.window=null,(E=T(F,Q))!==0&&(F.state=null),E):v}var M,H,P=!0;function D(F){if(P){var Q;for(M=new c.Buf32(512),H=new c.Buf32(32),Q=0;Q<144;)F.lens[Q++]=8;for(;Q<256;)F.lens[Q++]=9;for(;Q<280;)F.lens[Q++]=7;for(;Q<288;)F.lens[Q++]=8;for(y(1,F.lens,0,288,M,0,F.work,{bits:9}),Q=0;Q<32;)F.lens[Q++]=5;y(2,F.lens,0,32,H,0,F.work,{bits:5}),P=!1}F.lencode=M,F.lenbits=9,F.distcode=H,F.distbits=5}function B(F,Q,E,oe){var ie,z=F.state;return z.window===null&&(z.wsize=1<<z.wbits,z.wnext=0,z.whave=0,z.window=new c.Buf8(z.wsize)),oe>=z.wsize?(c.arraySet(z.window,Q,E-z.wsize,z.wsize,0),z.wnext=0,z.whave=z.wsize):((ie=z.wsize-z.wnext)>oe&&(ie=oe),c.arraySet(z.window,Q,E-oe,ie,z.wnext),(oe-=ie)?(c.arraySet(z.window,Q,E-oe,oe,0),z.wnext=oe,z.whave=z.wsize):(z.wnext+=ie,z.wnext===z.wsize&&(z.wnext=0),z.whave<z.wsize&&(z.whave+=ie))),0}l.inflateReset=w,l.inflateReset2=T,l.inflateResetKeep=b,l.inflateInit=function(F){return k(F,15)},l.inflateInit2=k,l.inflate=function(F,Q){var E,oe,ie,z,be,me,_e,x,$,te,V,K,q,G,ee,se,ae,U,m,S,L,Y,le,he,de=0,pe=new c.Buf8(4),Ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!F||!F.state||!F.output||!F.input&&F.avail_in!==0)return v;(E=F.state).mode===C&&(E.mode=13),be=F.next_out,ie=F.output,_e=F.avail_out,z=F.next_in,oe=F.input,me=F.avail_in,x=E.hold,$=E.bits,te=me,V=_e,Y=0;e:for(;;)switch(E.mode){case 1:if(E.wrap===0){E.mode=13;break}for(;$<16;){if(me===0)break e;me--,x+=oe[z++]<<$,$+=8}if(2&E.wrap&&x===35615){E.check=0,pe[0]=255&x,pe[1]=x>>>8&255,E.check=f(E.check,pe,2,0),x=0,$=0,E.mode=2;break}if(E.flags=0,E.head&&(E.head.done=!1),!(1&E.wrap)||(((255&x)<<8)+(x>>8))%31){F.msg="incorrect header check",E.mode=I;break}if((15&x)!=8){F.msg="unknown compression method",E.mode=I;break}if($-=4,L=8+(15&(x>>>=4)),E.wbits===0)E.wbits=L;else if(L>E.wbits){F.msg="invalid window size",E.mode=I;break}E.dmax=1<<L,F.adler=E.check=1,E.mode=512&x?10:C,x=0,$=0;break;case 2:for(;$<16;){if(me===0)break e;me--,x+=oe[z++]<<$,$+=8}if(E.flags=x,(255&E.flags)!=8){F.msg="unknown compression method",E.mode=I;break}if(57344&E.flags){F.msg="unknown header flags set",E.mode=I;break}E.head&&(E.head.text=x>>8&1),512&E.flags&&(pe[0]=255&x,pe[1]=x>>>8&255,E.check=f(E.check,pe,2,0)),x=0,$=0,E.mode=3;case 3:for(;$<32;){if(me===0)break e;me--,x+=oe[z++]<<$,$+=8}E.head&&(E.head.time=x),512&E.flags&&(pe[0]=255&x,pe[1]=x>>>8&255,pe[2]=x>>>16&255,pe[3]=x>>>24&255,E.check=f(E.check,pe,4,0)),x=0,$=0,E.mode=4;case 4:for(;$<16;){if(me===0)break e;me--,x+=oe[z++]<<$,$+=8}E.head&&(E.head.xflags=255&x,E.head.os=x>>8),512&E.flags&&(pe[0]=255&x,pe[1]=x>>>8&255,E.check=f(E.check,pe,2,0)),x=0,$=0,E.mode=5;case 5:if(1024&E.flags){for(;$<16;){if(me===0)break e;me--,x+=oe[z++]<<$,$+=8}E.length=x,E.head&&(E.head.extra_len=x),512&E.flags&&(pe[0]=255&x,pe[1]=x>>>8&255,E.check=f(E.check,pe,2,0)),x=0,$=0}else E.head&&(E.head.extra=null);E.mode=6;case 6:if(1024&E.flags&&((K=E.length)>me&&(K=me),K&&(E.head&&(L=E.head.extra_len-E.length,E.head.extra||(E.head.extra=new Array(E.head.extra_len)),c.arraySet(E.head.extra,oe,z,K,L)),512&E.flags&&(E.check=f(E.check,oe,K,z)),me-=K,z+=K,E.length-=K),E.length))break e;E.length=0,E.mode=7;case 7:if(2048&E.flags){if(me===0)break e;K=0;do L=oe[z+K++],E.head&&L&&E.length<65536&&(E.head.name+=String.fromCharCode(L));while(L&&K<me);if(512&E.flags&&(E.check=f(E.check,oe,K,z)),me-=K,z+=K,L)break e}else E.head&&(E.head.name=null);E.length=0,E.mode=8;case 8:if(4096&E.flags){if(me===0)break e;K=0;do L=oe[z+K++],E.head&&L&&E.length<65536&&(E.head.comment+=String.fromCharCode(L));while(L&&K<me);if(512&E.flags&&(E.check=f(E.check,oe,K,z)),me-=K,z+=K,L)break e}else E.head&&(E.head.comment=null);E.mode=9;case 9:if(512&E.flags){for(;$<16;){if(me===0)break e;me--,x+=oe[z++]<<$,$+=8}if(x!==(65535&E.check)){F.msg="header crc mismatch",E.mode=I;break}x=0,$=0}E.head&&(E.head.hcrc=E.flags>>9&1,E.head.done=!0),F.adler=E.check=0,E.mode=C;break;case 10:for(;$<32;){if(me===0)break e;me--,x+=oe[z++]<<$,$+=8}F.adler=E.check=N(x),x=0,$=0,E.mode=11;case 11:if(E.havedict===0)return F.next_out=be,F.avail_out=_e,F.next_in=z,F.avail_in=me,E.hold=x,E.bits=$,2;F.adler=E.check=1,E.mode=C;case C:if(Q===5||Q===6)break e;case 13:if(E.last){x>>>=7&$,$-=7&$,E.mode=27;break}for(;$<3;){if(me===0)break e;me--,x+=oe[z++]<<$,$+=8}switch(E.last=1&x,$-=1,3&(x>>>=1)){case 0:E.mode=14;break;case 1:if(D(E),E.mode=20,Q===6){x>>>=2,$-=2;break e}break;case 2:E.mode=17;break;case 3:F.msg="invalid block type",E.mode=I}x>>>=2,$-=2;break;case 14:for(x>>>=7&$,$-=7&$;$<32;){if(me===0)break e;me--,x+=oe[z++]<<$,$+=8}if((65535&x)!=(x>>>16^65535)){F.msg="invalid stored block lengths",E.mode=I;break}if(E.length=65535&x,x=0,$=0,E.mode=15,Q===6)break e;case 15:E.mode=16;case 16:if(K=E.length){if(K>me&&(K=me),K>_e&&(K=_e),K===0)break e;c.arraySet(ie,oe,z,K,be),me-=K,z+=K,_e-=K,be+=K,E.length-=K;break}E.mode=C;break;case 17:for(;$<14;){if(me===0)break e;me--,x+=oe[z++]<<$,$+=8}if(E.nlen=257+(31&x),x>>>=5,$-=5,E.ndist=1+(31&x),x>>>=5,$-=5,E.ncode=4+(15&x),x>>>=4,$-=4,E.nlen>286||E.ndist>30){F.msg="too many length or distance symbols",E.mode=I;break}E.have=0,E.mode=18;case 18:for(;E.have<E.ncode;){for(;$<3;){if(me===0)break e;me--,x+=oe[z++]<<$,$+=8}E.lens[Ee[E.have++]]=7&x,x>>>=3,$-=3}for(;E.have<19;)E.lens[Ee[E.have++]]=0;if(E.lencode=E.lendyn,E.lenbits=7,le={bits:E.lenbits},Y=y(0,E.lens,0,19,E.lencode,0,E.work,le),E.lenbits=le.bits,Y){F.msg="invalid code lengths set",E.mode=I;break}E.have=0,E.mode=19;case 19:for(;E.have<E.nlen+E.ndist;){for(;se=(de=E.lencode[x&(1<<E.lenbits)-1])>>>16&255,ae=65535&de,!((ee=de>>>24)<=$);){if(me===0)break e;me--,x+=oe[z++]<<$,$+=8}if(ae<16)x>>>=ee,$-=ee,E.lens[E.have++]=ae;else{if(ae===16){for(he=ee+2;$<he;){if(me===0)break e;me--,x+=oe[z++]<<$,$+=8}if(x>>>=ee,$-=ee,E.have===0){F.msg="invalid bit length repeat",E.mode=I;break}L=E.lens[E.have-1],K=3+(3&x),x>>>=2,$-=2}else if(ae===17){for(he=ee+3;$<he;){if(me===0)break e;me--,x+=oe[z++]<<$,$+=8}$-=ee,L=0,K=3+(7&(x>>>=ee)),x>>>=3,$-=3}else{for(he=ee+7;$<he;){if(me===0)break e;me--,x+=oe[z++]<<$,$+=8}$-=ee,L=0,K=11+(127&(x>>>=ee)),x>>>=7,$-=7}if(E.have+K>E.nlen+E.ndist){F.msg="invalid bit length repeat",E.mode=I;break}for(;K--;)E.lens[E.have++]=L}}if(E.mode===I)break;if(E.lens[256]===0){F.msg="invalid code -- missing end-of-block",E.mode=I;break}if(E.lenbits=9,le={bits:E.lenbits},Y=y(1,E.lens,0,E.nlen,E.lencode,0,E.work,le),E.lenbits=le.bits,Y){F.msg="invalid literal/lengths set",E.mode=I;break}if(E.distbits=6,E.distcode=E.distdyn,le={bits:E.distbits},Y=y(2,E.lens,E.nlen,E.ndist,E.distcode,0,E.work,le),E.distbits=le.bits,Y){F.msg="invalid distances set",E.mode=I;break}if(E.mode=20,Q===6)break e;case 20:E.mode=21;case 21:if(me>=6&&_e>=258){F.next_out=be,F.avail_out=_e,F.next_in=z,F.avail_in=me,E.hold=x,E.bits=$,p(F,V),be=F.next_out,ie=F.output,_e=F.avail_out,z=F.next_in,oe=F.input,me=F.avail_in,x=E.hold,$=E.bits,E.mode===C&&(E.back=-1);break}for(E.back=0;se=(de=E.lencode[x&(1<<E.lenbits)-1])>>>16&255,ae=65535&de,!((ee=de>>>24)<=$);){if(me===0)break e;me--,x+=oe[z++]<<$,$+=8}if(se&&!(240&se)){for(U=ee,m=se,S=ae;se=(de=E.lencode[S+((x&(1<<U+m)-1)>>U)])>>>16&255,ae=65535&de,!(U+(ee=de>>>24)<=$);){if(me===0)break e;me--,x+=oe[z++]<<$,$+=8}x>>>=U,$-=U,E.back+=U}if(x>>>=ee,$-=ee,E.back+=ee,E.length=ae,se===0){E.mode=26;break}if(32&se){E.back=-1,E.mode=C;break}if(64&se){F.msg="invalid literal/length code",E.mode=I;break}E.extra=15&se,E.mode=22;case 22:if(E.extra){for(he=E.extra;$<he;){if(me===0)break e;me--,x+=oe[z++]<<$,$+=8}E.length+=x&(1<<E.extra)-1,x>>>=E.extra,$-=E.extra,E.back+=E.extra}E.was=E.length,E.mode=23;case 23:for(;se=(de=E.distcode[x&(1<<E.distbits)-1])>>>16&255,ae=65535&de,!((ee=de>>>24)<=$);){if(me===0)break e;me--,x+=oe[z++]<<$,$+=8}if(!(240&se)){for(U=ee,m=se,S=ae;se=(de=E.distcode[S+((x&(1<<U+m)-1)>>U)])>>>16&255,ae=65535&de,!(U+(ee=de>>>24)<=$);){if(me===0)break e;me--,x+=oe[z++]<<$,$+=8}x>>>=U,$-=U,E.back+=U}if(x>>>=ee,$-=ee,E.back+=ee,64&se){F.msg="invalid distance code",E.mode=I;break}E.offset=ae,E.extra=15&se,E.mode=24;case 24:if(E.extra){for(he=E.extra;$<he;){if(me===0)break e;me--,x+=oe[z++]<<$,$+=8}E.offset+=x&(1<<E.extra)-1,x>>>=E.extra,$-=E.extra,E.back+=E.extra}if(E.offset>E.dmax){F.msg="invalid distance too far back",E.mode=I;break}E.mode=25;case 25:if(_e===0)break e;if(K=V-_e,E.offset>K){if((K=E.offset-K)>E.whave&&E.sane){F.msg="invalid distance too far back",E.mode=I;break}K>E.wnext?(K-=E.wnext,q=E.wsize-K):q=E.wnext-K,K>E.length&&(K=E.length),G=E.window}else G=ie,q=be-E.offset,K=E.length;K>_e&&(K=_e),_e-=K,E.length-=K;do ie[be++]=G[q++];while(--K);E.length===0&&(E.mode=21);break;case 26:if(_e===0)break e;ie[be++]=E.length,_e--,E.mode=21;break;case 27:if(E.wrap){for(;$<32;){if(me===0)break e;me--,x|=oe[z++]<<$,$+=8}if(V-=_e,F.total_out+=V,E.total+=V,V&&(F.adler=E.check=E.flags?f(E.check,ie,V,be-V):u(E.check,ie,V,be-V)),V=_e,(E.flags?x:N(x))!==E.check){F.msg="incorrect data check",E.mode=I;break}x=0,$=0}E.mode=28;case 28:if(E.wrap&&E.flags){for(;$<32;){if(me===0)break e;me--,x+=oe[z++]<<$,$+=8}if(x!==(4294967295&E.total)){F.msg="incorrect length check",E.mode=I;break}x=0,$=0}E.mode=29;case 29:Y=1;break e;case I:Y=-3;break e;case 31:return-4;default:return v}return F.next_out=be,F.avail_out=_e,F.next_in=z,F.avail_in=me,E.hold=x,E.bits=$,(E.wsize||V!==F.avail_out&&E.mode<I&&(E.mode<27||Q!==4))&&B(F,F.output,F.next_out,V-F.avail_out)?(E.mode=31,-4):(te-=F.avail_in,V-=F.avail_out,F.total_in+=te,F.total_out+=V,E.total+=V,E.wrap&&V&&(F.adler=E.check=E.flags?f(E.check,ie,V,F.next_out-V):u(E.check,ie,V,F.next_out-V)),F.data_type=E.bits+(E.last?64:0)+(E.mode===C?128:0)+(E.mode===20||E.mode===15?256:0),(te===0&&V===0||Q===4)&&Y===0&&(Y=-5),Y)},l.inflateEnd=function(F){if(!F||!F.state)return v;var Q=F.state;return Q.window&&(Q.window=null),F.state=null,0},l.inflateGetHeader=function(F,Q){var E;return F&&F.state&&2&(E=F.state).wrap?(E.head=Q,Q.done=!1,0):v},l.inflateSetDictionary=function(F,Q){var E,oe=Q.length;return F&&F.state?(E=F.state).wrap!==0&&E.mode!==11?v:E.mode===11&&u(1,Q,oe,0)!==E.check?-3:B(F,Q,oe,oe)?(E.mode=31,-4):(E.havedict=1,0):v},l.inflateInfo="pako inflate (from Nodeca project)"},9241:(a,l,s)=>{var c=s(4236),u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],y=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(v,C,I,N,_,b,w,T){var k,M,H,P,D,B,F,Q,E,oe=T.bits,ie=0,z=0,be=0,me=0,_e=0,x=0,$=0,te=0,V=0,K=0,q=null,G=0,ee=new c.Buf16(16),se=new c.Buf16(16),ae=null,U=0;for(ie=0;ie<=15;ie++)ee[ie]=0;for(z=0;z<N;z++)ee[C[I+z]]++;for(_e=oe,me=15;me>=1&&ee[me]===0;me--);if(_e>me&&(_e=me),me===0)return _[b++]=20971520,_[b++]=20971520,T.bits=1,0;for(be=1;be<me&&ee[be]===0;be++);for(_e<be&&(_e=be),te=1,ie=1;ie<=15;ie++)if(te<<=1,(te-=ee[ie])<0)return-1;if(te>0&&(v===0||me!==1))return-1;for(se[1]=0,ie=1;ie<15;ie++)se[ie+1]=se[ie]+ee[ie];for(z=0;z<N;z++)C[I+z]!==0&&(w[se[C[I+z]]++]=z);if(v===0?(q=ae=w,B=19):v===1?(q=u,G-=257,ae=f,U-=257,B=256):(q=p,ae=y,B=-1),K=0,z=0,ie=be,D=b,x=_e,$=0,H=-1,P=(V=1<<_e)-1,v===1&&V>852||v===2&&V>592)return 1;for(;;){F=ie-$,w[z]<B?(Q=0,E=w[z]):w[z]>B?(Q=ae[U+w[z]],E=q[G+w[z]]):(Q=96,E=0),k=1<<ie-$,be=M=1<<x;do _[D+(K>>$)+(M-=k)]=F<<24|Q<<16|E|0;while(M!==0);for(k=1<<ie-1;K&k;)k>>=1;if(k!==0?(K&=k-1,K+=k):K=0,z++,--ee[ie]==0){if(ie===me)break;ie=C[I+w[z]]}if(ie>_e&&(K&P)!==H){for($===0&&($=_e),D+=be,te=1<<(x=ie-$);x+$<me&&!((te-=ee[x+$])<=0);)x++,te<<=1;if(V+=1<<x,v===1&&V>852||v===2&&V>592)return 1;_[H=K&P]=_e<<24|x<<16|D-b|0}}return K!==0&&(_[D+K]=ie-$<<24|4194304|0),T.bits=_e,0}},8898:a=>{a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},342:(a,l,s)=>{var c=s(4236);function u(q){for(var G=q.length;--G>=0;)q[G]=0}var f=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],p=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],v=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],C=new Array(576);u(C);var I=new Array(60);u(I);var N=new Array(512);u(N);var _=new Array(256);u(_);var b=new Array(29);u(b);var w,T,k,M=new Array(30);function H(q,G,ee,se,ae){this.static_tree=q,this.extra_bits=G,this.extra_base=ee,this.elems=se,this.max_length=ae,this.has_stree=q&&q.length}function P(q,G){this.dyn_tree=q,this.max_code=0,this.stat_desc=G}function D(q){return q<256?N[q]:N[256+(q>>>7)]}function B(q,G){q.pending_buf[q.pending++]=255&G,q.pending_buf[q.pending++]=G>>>8&255}function F(q,G,ee){q.bi_valid>16-ee?(q.bi_buf|=G<<q.bi_valid&65535,B(q,q.bi_buf),q.bi_buf=G>>16-q.bi_valid,q.bi_valid+=ee-16):(q.bi_buf|=G<<q.bi_valid&65535,q.bi_valid+=ee)}function Q(q,G,ee){F(q,ee[2*G],ee[2*G+1])}function E(q,G){var ee=0;do ee|=1&q,q>>>=1,ee<<=1;while(--G>0);return ee>>>1}function oe(q,G,ee){var se,ae,U=new Array(16),m=0;for(se=1;se<=15;se++)U[se]=m=m+ee[se-1]<<1;for(ae=0;ae<=G;ae++){var S=q[2*ae+1];S!==0&&(q[2*ae]=E(U[S]++,S))}}function ie(q){var G;for(G=0;G<286;G++)q.dyn_ltree[2*G]=0;for(G=0;G<30;G++)q.dyn_dtree[2*G]=0;for(G=0;G<19;G++)q.bl_tree[2*G]=0;q.dyn_ltree[512]=1,q.opt_len=q.static_len=0,q.last_lit=q.matches=0}function z(q){q.bi_valid>8?B(q,q.bi_buf):q.bi_valid>0&&(q.pending_buf[q.pending++]=q.bi_buf),q.bi_buf=0,q.bi_valid=0}function be(q,G,ee,se){var ae=2*G,U=2*ee;return q[ae]<q[U]||q[ae]===q[U]&&se[G]<=se[ee]}function me(q,G,ee){for(var se=q.heap[ee],ae=ee<<1;ae<=q.heap_len&&(ae<q.heap_len&&be(G,q.heap[ae+1],q.heap[ae],q.depth)&&ae++,!be(G,se,q.heap[ae],q.depth));)q.heap[ee]=q.heap[ae],ee=ae,ae<<=1;q.heap[ee]=se}function _e(q,G,ee){var se,ae,U,m,S=0;if(q.last_lit!==0)do se=q.pending_buf[q.d_buf+2*S]<<8|q.pending_buf[q.d_buf+2*S+1],ae=q.pending_buf[q.l_buf+S],S++,se===0?Q(q,ae,G):(Q(q,(U=_[ae])+256+1,G),(m=f[U])!==0&&F(q,ae-=b[U],m),Q(q,U=D(--se),ee),(m=p[U])!==0&&F(q,se-=M[U],m));while(S<q.last_lit);Q(q,256,G)}function x(q,G){var ee,se,ae,U=G.dyn_tree,m=G.stat_desc.static_tree,S=G.stat_desc.has_stree,L=G.stat_desc.elems,Y=-1;for(q.heap_len=0,q.heap_max=573,ee=0;ee<L;ee++)U[2*ee]!==0?(q.heap[++q.heap_len]=Y=ee,q.depth[ee]=0):U[2*ee+1]=0;for(;q.heap_len<2;)U[2*(ae=q.heap[++q.heap_len]=Y<2?++Y:0)]=1,q.depth[ae]=0,q.opt_len--,S&&(q.static_len-=m[2*ae+1]);for(G.max_code=Y,ee=q.heap_len>>1;ee>=1;ee--)me(q,U,ee);ae=L;do ee=q.heap[1],q.heap[1]=q.heap[q.heap_len--],me(q,U,1),se=q.heap[1],q.heap[--q.heap_max]=ee,q.heap[--q.heap_max]=se,U[2*ae]=U[2*ee]+U[2*se],q.depth[ae]=(q.depth[ee]>=q.depth[se]?q.depth[ee]:q.depth[se])+1,U[2*ee+1]=U[2*se+1]=ae,q.heap[1]=ae++,me(q,U,1);while(q.heap_len>=2);q.heap[--q.heap_max]=q.heap[1],function(le,he){var de,pe,Ee,ge,Pe,Oe,A=he.dyn_tree,R=he.max_code,j=he.stat_desc.static_tree,ne=he.stat_desc.has_stree,ce=he.stat_desc.extra_bits,ue=he.stat_desc.extra_base,Ce=he.stat_desc.max_length,He=0;for(ge=0;ge<=15;ge++)le.bl_count[ge]=0;for(A[2*le.heap[le.heap_max]+1]=0,de=le.heap_max+1;de<573;de++)(ge=A[2*A[2*(pe=le.heap[de])+1]+1]+1)>Ce&&(ge=Ce,He++),A[2*pe+1]=ge,pe>R||(le.bl_count[ge]++,Pe=0,pe>=ue&&(Pe=ce[pe-ue]),Oe=A[2*pe],le.opt_len+=Oe*(ge+Pe),ne&&(le.static_len+=Oe*(j[2*pe+1]+Pe)));if(He!==0){do{for(ge=Ce-1;le.bl_count[ge]===0;)ge--;le.bl_count[ge]--,le.bl_count[ge+1]+=2,le.bl_count[Ce]--,He-=2}while(He>0);for(ge=Ce;ge!==0;ge--)for(pe=le.bl_count[ge];pe!==0;)(Ee=le.heap[--de])>R||(A[2*Ee+1]!==ge&&(le.opt_len+=(ge-A[2*Ee+1])*A[2*Ee],A[2*Ee+1]=ge),pe--)}}(q,G),oe(U,Y,q.bl_count)}function $(q,G,ee){var se,ae,U=-1,m=G[1],S=0,L=7,Y=4;for(m===0&&(L=138,Y=3),G[2*(ee+1)+1]=65535,se=0;se<=ee;se++)ae=m,m=G[2*(se+1)+1],++S<L&&ae===m||(S<Y?q.bl_tree[2*ae]+=S:ae!==0?(ae!==U&&q.bl_tree[2*ae]++,q.bl_tree[32]++):S<=10?q.bl_tree[34]++:q.bl_tree[36]++,S=0,U=ae,m===0?(L=138,Y=3):ae===m?(L=6,Y=3):(L=7,Y=4))}function te(q,G,ee){var se,ae,U=-1,m=G[1],S=0,L=7,Y=4;for(m===0&&(L=138,Y=3),se=0;se<=ee;se++)if(ae=m,m=G[2*(se+1)+1],!(++S<L&&ae===m)){if(S<Y)do Q(q,ae,q.bl_tree);while(--S!=0);else ae!==0?(ae!==U&&(Q(q,ae,q.bl_tree),S--),Q(q,16,q.bl_tree),F(q,S-3,2)):S<=10?(Q(q,17,q.bl_tree),F(q,S-3,3)):(Q(q,18,q.bl_tree),F(q,S-11,7));S=0,U=ae,m===0?(L=138,Y=3):ae===m?(L=6,Y=3):(L=7,Y=4)}}u(M);var V=!1;function K(q,G,ee,se){F(q,0+(se?1:0),3),function(ae,U,m,S){z(ae),B(ae,m),B(ae,~m),c.arraySet(ae.pending_buf,ae.window,U,m,ae.pending),ae.pending+=m}(q,G,ee)}l._tr_init=function(q){V||(function(){var G,ee,se,ae,U,m=new Array(16);for(se=0,ae=0;ae<28;ae++)for(b[ae]=se,G=0;G<1<<f[ae];G++)_[se++]=ae;for(_[se-1]=ae,U=0,ae=0;ae<16;ae++)for(M[ae]=U,G=0;G<1<<p[ae];G++)N[U++]=ae;for(U>>=7;ae<30;ae++)for(M[ae]=U<<7,G=0;G<1<<p[ae]-7;G++)N[256+U++]=ae;for(ee=0;ee<=15;ee++)m[ee]=0;for(G=0;G<=143;)C[2*G+1]=8,G++,m[8]++;for(;G<=255;)C[2*G+1]=9,G++,m[9]++;for(;G<=279;)C[2*G+1]=7,G++,m[7]++;for(;G<=287;)C[2*G+1]=8,G++,m[8]++;for(oe(C,287,m),G=0;G<30;G++)I[2*G+1]=5,I[2*G]=E(G,5);w=new H(C,f,257,286,15),T=new H(I,p,0,30,15),k=new H(new Array(0),y,0,19,7)}(),V=!0),q.l_desc=new P(q.dyn_ltree,w),q.d_desc=new P(q.dyn_dtree,T),q.bl_desc=new P(q.bl_tree,k),q.bi_buf=0,q.bi_valid=0,ie(q)},l._tr_stored_block=K,l._tr_flush_block=function(q,G,ee,se){var ae,U,m=0;q.level>0?(q.strm.data_type===2&&(q.strm.data_type=function(S){var L,Y=4093624447;for(L=0;L<=31;L++,Y>>>=1)if(1&Y&&S.dyn_ltree[2*L]!==0)return 0;if(S.dyn_ltree[18]!==0||S.dyn_ltree[20]!==0||S.dyn_ltree[26]!==0)return 1;for(L=32;L<256;L++)if(S.dyn_ltree[2*L]!==0)return 1;return 0}(q)),x(q,q.l_desc),x(q,q.d_desc),m=function(S){var L;for($(S,S.dyn_ltree,S.l_desc.max_code),$(S,S.dyn_dtree,S.d_desc.max_code),x(S,S.bl_desc),L=18;L>=3&&S.bl_tree[2*v[L]+1]===0;L--);return S.opt_len+=3*(L+1)+5+5+4,L}(q),ae=q.opt_len+3+7>>>3,(U=q.static_len+3+7>>>3)<=ae&&(ae=U)):ae=U=ee+5,ee+4<=ae&&G!==-1?K(q,G,ee,se):q.strategy===4||U===ae?(F(q,2+(se?1:0),3),_e(q,C,I)):(F(q,4+(se?1:0),3),function(S,L,Y,le){var he;for(F(S,L-257,5),F(S,Y-1,5),F(S,le-4,4),he=0;he<le;he++)F(S,S.bl_tree[2*v[he]+1],3);te(S,S.dyn_ltree,L-1),te(S,S.dyn_dtree,Y-1)}(q,q.l_desc.max_code+1,q.d_desc.max_code+1,m+1),_e(q,q.dyn_ltree,q.dyn_dtree)),ie(q),se&&z(q)},l._tr_tally=function(q,G,ee){return q.pending_buf[q.d_buf+2*q.last_lit]=G>>>8&255,q.pending_buf[q.d_buf+2*q.last_lit+1]=255&G,q.pending_buf[q.l_buf+q.last_lit]=255&ee,q.last_lit++,G===0?q.dyn_ltree[2*ee]++:(q.matches++,G--,q.dyn_ltree[2*(_[ee]+256+1)]++,q.dyn_dtree[2*D(G)]++),q.last_lit===q.lit_bufsize-1},l._tr_align=function(q){F(q,2,3),Q(q,256,C),function(G){G.bi_valid===16?(B(G,G.bi_buf),G.bi_buf=0,G.bi_valid=0):G.bi_valid>=8&&(G.pending_buf[G.pending++]=255&G.bi_buf,G.bi_buf>>=8,G.bi_valid-=8)}(q)}},2292:a=>{a.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},4155:a=>{var l,s,c=a.exports={};function u(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}function p(T){if(l===setTimeout)return setTimeout(T,0);if((l===u||!l)&&setTimeout)return l=setTimeout,setTimeout(T,0);try{return l(T,0)}catch{try{return l.call(null,T,0)}catch{return l.call(this,T,0)}}}(function(){try{l=typeof setTimeout=="function"?setTimeout:u}catch{l=u}try{s=typeof clearTimeout=="function"?clearTimeout:f}catch{s=f}})();var y,v=[],C=!1,I=-1;function N(){C&&y&&(C=!1,y.length?v=y.concat(v):I=-1,v.length&&_())}function _(){if(!C){var T=p(N);C=!0;for(var k=v.length;k;){for(y=v,v=[];++I<k;)y&&y[I].run();I=-1,k=v.length}y=null,C=!1,function(M){if(s===clearTimeout)return clearTimeout(M);if((s===f||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(M);try{s(M)}catch{try{return s.call(null,M)}catch{return s.call(this,M)}}}(T)}}function b(T,k){this.fun=T,this.array=k}function w(){}c.nextTick=function(T){var k=new Array(arguments.length-1);if(arguments.length>1)for(var M=1;M<arguments.length;M++)k[M-1]=arguments[M];v.push(new b(T,k)),v.length!==1||C||p(_)},b.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=w,c.addListener=w,c.once=w,c.off=w,c.removeListener=w,c.removeAllListeners=w,c.emit=w,c.prependListener=w,c.prependOnceListener=w,c.listeners=function(T){return[]},c.binding=function(T){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(T){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},9509:(a,l,s)=>{var c=s(8764),u=c.Buffer;function f(y,v){for(var C in y)v[C]=y[C]}function p(y,v,C){return u(y,v,C)}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?a.exports=c:(f(c,l),l.Buffer=p),f(u,p),p.from=function(y,v,C){if(typeof y=="number")throw new TypeError("Argument must not be a number");return u(y,v,C)},p.alloc=function(y,v,C){if(typeof y!="number")throw new TypeError("Argument must be a number");var I=u(y);return v!==void 0?typeof C=="string"?I.fill(v,C):I.fill(v):I.fill(0),I},p.allocUnsafe=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return u(y)},p.allocUnsafeSlow=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return c.SlowBuffer(y)}},6099:(a,l,s)=>{(function(c){c.parser=function(U,m){return new p(U,m)},c.SAXParser=p,c.SAXStream=v,c.createStream=function(U,m){return new v(U,m)},c.MAX_BUFFER_LENGTH=65536;var u,f=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function p(U,m){if(!(this instanceof p))return new p(U,m);var S=this;(function(L){for(var Y=0,le=f.length;Y<le;Y++)L[f[Y]]=""})(S),S.q=S.c="",S.bufferCheckPosition=c.MAX_BUFFER_LENGTH,S.opt=m||{},S.opt.lowercase=S.opt.lowercase||S.opt.lowercasetags,S.looseCase=S.opt.lowercase?"toLowerCase":"toUpperCase",S.tags=[],S.closed=S.closedRoot=S.sawRoot=!1,S.tag=S.error=null,S.strict=!!U,S.noscript=!(!U&&!S.opt.noscript),S.state=E.BEGIN,S.strictEntities=S.opt.strictEntities,S.ENTITIES=S.strictEntities?Object.create(c.XML_ENTITIES):Object.create(c.ENTITIES),S.attribList=[],S.opt.xmlns&&(S.ns=Object.create(N)),S.trackPosition=S.opt.position!==!1,S.trackPosition&&(S.position=S.line=S.column=0),ie(S,"onready")}c.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(U){function m(){}return m.prototype=U,new m}),Object.keys||(Object.keys=function(U){var m=[];for(var S in U)U.hasOwnProperty(S)&&m.push(S);return m}),p.prototype={end:function(){x(this)},write:function(U){var m=this;if(this.error)throw this.error;if(m.closed)return _e(m,"Cannot write after close. Assign an onready handler.");if(U===null)return x(m);typeof U=="object"&&(U=U.toString());for(var S=0,L="";L=ae(U,S++),m.c=L,L;)switch(m.trackPosition&&(m.position++,L===`
`?(m.line++,m.column=0):m.column++),m.state){case E.BEGIN:if(m.state=E.BEGIN_WHITESPACE,L==="\uFEFF")continue;se(m,L);continue;case E.BEGIN_WHITESPACE:se(m,L);continue;case E.TEXT:if(m.sawRoot&&!m.closedRoot){for(var Y=S-1;L&&L!=="<"&&L!=="&";)(L=ae(U,S++))&&m.trackPosition&&(m.position++,L===`
`?(m.line++,m.column=0):m.column++);m.textNode+=U.substring(Y,S-1)}L!=="<"||m.sawRoot&&m.closedRoot&&!m.strict?(k(L)||m.sawRoot&&!m.closedRoot||$(m,"Text data outside of root node."),L==="&"?m.state=E.TEXT_ENTITY:m.textNode+=L):(m.state=E.OPEN_WAKA,m.startTagPosition=m.position);continue;case E.SCRIPT:L==="<"?m.state=E.SCRIPT_ENDING:m.script+=L;continue;case E.SCRIPT_ENDING:L==="/"?m.state=E.CLOSE_TAG:(m.script+="<"+L,m.state=E.SCRIPT);continue;case E.OPEN_WAKA:if(L==="!")m.state=E.SGML_DECL,m.sgmlDecl="";else if(!k(L))if(P(_,L))m.state=E.OPEN_TAG,m.tagName=L;else if(L==="/")m.state=E.CLOSE_TAG,m.tagName="";else if(L==="?")m.state=E.PROC_INST,m.procInstName=m.procInstBody="";else{if($(m,"Unencoded <"),m.startTagPosition+1<m.position){var le=m.position-m.startTagPosition;L=new Array(le).join(" ")+L}m.textNode+="<"+L,m.state=E.TEXT}continue;case E.SGML_DECL:(m.sgmlDecl+L).toUpperCase()==="[CDATA["?(z(m,"onopencdata"),m.state=E.CDATA,m.sgmlDecl="",m.cdata=""):m.sgmlDecl+L==="--"?(m.state=E.COMMENT,m.comment="",m.sgmlDecl=""):(m.sgmlDecl+L).toUpperCase()==="DOCTYPE"?(m.state=E.DOCTYPE,(m.doctype||m.sawRoot)&&$(m,"Inappropriately located doctype declaration"),m.doctype="",m.sgmlDecl=""):L===">"?(z(m,"onsgmldeclaration",m.sgmlDecl),m.sgmlDecl="",m.state=E.TEXT):(M(L)&&(m.state=E.SGML_DECL_QUOTED),m.sgmlDecl+=L);continue;case E.SGML_DECL_QUOTED:L===m.q&&(m.state=E.SGML_DECL,m.q=""),m.sgmlDecl+=L;continue;case E.DOCTYPE:L===">"?(m.state=E.TEXT,z(m,"ondoctype",m.doctype),m.doctype=!0):(m.doctype+=L,L==="["?m.state=E.DOCTYPE_DTD:M(L)&&(m.state=E.DOCTYPE_QUOTED,m.q=L));continue;case E.DOCTYPE_QUOTED:m.doctype+=L,L===m.q&&(m.q="",m.state=E.DOCTYPE);continue;case E.DOCTYPE_DTD:m.doctype+=L,L==="]"?m.state=E.DOCTYPE:M(L)&&(m.state=E.DOCTYPE_DTD_QUOTED,m.q=L);continue;case E.DOCTYPE_DTD_QUOTED:m.doctype+=L,L===m.q&&(m.state=E.DOCTYPE_DTD,m.q="");continue;case E.COMMENT:L==="-"?m.state=E.COMMENT_ENDING:m.comment+=L;continue;case E.COMMENT_ENDING:L==="-"?(m.state=E.COMMENT_ENDED,m.comment=me(m.opt,m.comment),m.comment&&z(m,"oncomment",m.comment),m.comment=""):(m.comment+="-"+L,m.state=E.COMMENT);continue;case E.COMMENT_ENDED:L!==">"?($(m,"Malformed comment"),m.comment+="--"+L,m.state=E.COMMENT):m.state=E.TEXT;continue;case E.CDATA:L==="]"?m.state=E.CDATA_ENDING:m.cdata+=L;continue;case E.CDATA_ENDING:L==="]"?m.state=E.CDATA_ENDING_2:(m.cdata+="]"+L,m.state=E.CDATA);continue;case E.CDATA_ENDING_2:L===">"?(m.cdata&&z(m,"oncdata",m.cdata),z(m,"onclosecdata"),m.cdata="",m.state=E.TEXT):L==="]"?m.cdata+="]":(m.cdata+="]]"+L,m.state=E.CDATA);continue;case E.PROC_INST:L==="?"?m.state=E.PROC_INST_ENDING:k(L)?m.state=E.PROC_INST_BODY:m.procInstName+=L;continue;case E.PROC_INST_BODY:if(!m.procInstBody&&k(L))continue;L==="?"?m.state=E.PROC_INST_ENDING:m.procInstBody+=L;continue;case E.PROC_INST_ENDING:L===">"?(z(m,"onprocessinginstruction",{name:m.procInstName,body:m.procInstBody}),m.procInstName=m.procInstBody="",m.state=E.TEXT):(m.procInstBody+="?"+L,m.state=E.PROC_INST_BODY);continue;case E.OPEN_TAG:P(b,L)?m.tagName+=L:(te(m),L===">"?q(m):L==="/"?m.state=E.OPEN_TAG_SLASH:(k(L)||$(m,"Invalid character in tag name"),m.state=E.ATTRIB));continue;case E.OPEN_TAG_SLASH:L===">"?(q(m,!0),G(m)):($(m,"Forward-slash in opening tag not followed by >"),m.state=E.ATTRIB);continue;case E.ATTRIB:if(k(L))continue;L===">"?q(m):L==="/"?m.state=E.OPEN_TAG_SLASH:P(_,L)?(m.attribName=L,m.attribValue="",m.state=E.ATTRIB_NAME):$(m,"Invalid attribute name");continue;case E.ATTRIB_NAME:L==="="?m.state=E.ATTRIB_VALUE:L===">"?($(m,"Attribute without value"),m.attribValue=m.attribName,K(m),q(m)):k(L)?m.state=E.ATTRIB_NAME_SAW_WHITE:P(b,L)?m.attribName+=L:$(m,"Invalid attribute name");continue;case E.ATTRIB_NAME_SAW_WHITE:if(L==="=")m.state=E.ATTRIB_VALUE;else{if(k(L))continue;$(m,"Attribute without value"),m.tag.attributes[m.attribName]="",m.attribValue="",z(m,"onattribute",{name:m.attribName,value:""}),m.attribName="",L===">"?q(m):P(_,L)?(m.attribName=L,m.state=E.ATTRIB_NAME):($(m,"Invalid attribute name"),m.state=E.ATTRIB)}continue;case E.ATTRIB_VALUE:if(k(L))continue;M(L)?(m.q=L,m.state=E.ATTRIB_VALUE_QUOTED):($(m,"Unquoted attribute value"),m.state=E.ATTRIB_VALUE_UNQUOTED,m.attribValue=L);continue;case E.ATTRIB_VALUE_QUOTED:if(L!==m.q){L==="&"?m.state=E.ATTRIB_VALUE_ENTITY_Q:m.attribValue+=L;continue}K(m),m.q="",m.state=E.ATTRIB_VALUE_CLOSED;continue;case E.ATTRIB_VALUE_CLOSED:k(L)?m.state=E.ATTRIB:L===">"?q(m):L==="/"?m.state=E.OPEN_TAG_SLASH:P(_,L)?($(m,"No whitespace between attributes"),m.attribName=L,m.attribValue="",m.state=E.ATTRIB_NAME):$(m,"Invalid attribute name");continue;case E.ATTRIB_VALUE_UNQUOTED:if(!H(L)){L==="&"?m.state=E.ATTRIB_VALUE_ENTITY_U:m.attribValue+=L;continue}K(m),L===">"?q(m):m.state=E.ATTRIB;continue;case E.CLOSE_TAG:if(m.tagName)L===">"?G(m):P(b,L)?m.tagName+=L:m.script?(m.script+="</"+m.tagName,m.tagName="",m.state=E.SCRIPT):(k(L)||$(m,"Invalid tagname in closing tag"),m.state=E.CLOSE_TAG_SAW_WHITE);else{if(k(L))continue;D(_,L)?m.script?(m.script+="</"+L,m.state=E.SCRIPT):$(m,"Invalid tagname in closing tag."):m.tagName=L}continue;case E.CLOSE_TAG_SAW_WHITE:if(k(L))continue;L===">"?G(m):$(m,"Invalid characters in closing tag");continue;case E.TEXT_ENTITY:case E.ATTRIB_VALUE_ENTITY_Q:case E.ATTRIB_VALUE_ENTITY_U:var he,de;switch(m.state){case E.TEXT_ENTITY:he=E.TEXT,de="textNode";break;case E.ATTRIB_VALUE_ENTITY_Q:he=E.ATTRIB_VALUE_QUOTED,de="attribValue";break;case E.ATTRIB_VALUE_ENTITY_U:he=E.ATTRIB_VALUE_UNQUOTED,de="attribValue"}L===";"?(m[de]+=ee(m),m.entity="",m.state=he):P(m.entity.length?T:w,L)?m.entity+=L:($(m,"Invalid character in entity name"),m[de]+="&"+m.entity+L,m.entity="",m.state=he);continue;default:throw new Error(m,"Unknown state: "+m.state)}return m.position>=m.bufferCheckPosition&&function(pe){for(var Ee=Math.max(c.MAX_BUFFER_LENGTH,10),ge=0,Pe=0,Oe=f.length;Pe<Oe;Pe++){var A=pe[f[Pe]].length;if(A>Ee)switch(f[Pe]){case"textNode":be(pe);break;case"cdata":z(pe,"oncdata",pe.cdata),pe.cdata="";break;case"script":z(pe,"onscript",pe.script),pe.script="";break;default:_e(pe,"Max buffer length exceeded: "+f[Pe])}ge=Math.max(ge,A)}var R=c.MAX_BUFFER_LENGTH-ge;pe.bufferCheckPosition=R+pe.position}(m),m},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var U;be(U=this),U.cdata!==""&&(z(U,"oncdata",U.cdata),U.cdata=""),U.script!==""&&(z(U,"onscript",U.script),U.script="")}};try{u=s(2830).Stream}catch{u=function(){}}var y=c.EVENTS.filter(function(U){return U!=="error"&&U!=="end"});function v(U,m){if(!(this instanceof v))return new v(U,m);u.apply(this),this._parser=new p(U,m),this.writable=!0,this.readable=!0;var S=this;this._parser.onend=function(){S.emit("end")},this._parser.onerror=function(L){S.emit("error",L),S._parser.error=null},this._decoder=null,y.forEach(function(L){Object.defineProperty(S,"on"+L,{get:function(){return S._parser["on"+L]},set:function(Y){if(!Y)return S.removeAllListeners(L),S._parser["on"+L]=Y,Y;S.on(L,Y)},enumerable:!0,configurable:!1})})}v.prototype=Object.create(u.prototype,{constructor:{value:v}}),v.prototype.write=function(U){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(U)){if(!this._decoder){var m=s(2553).s;this._decoder=new m("utf8")}U=this._decoder.write(U)}return this._parser.write(U.toString()),this.emit("data",U),!0},v.prototype.end=function(U){return U&&U.length&&this.write(U),this._parser.end(),!0},v.prototype.on=function(U,m){var S=this;return S._parser["on"+U]||y.indexOf(U)===-1||(S._parser["on"+U]=function(){var L=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);L.splice(0,0,U),S.emit.apply(S,L)}),u.prototype.on.call(S,U,m)};var C="http://www.w3.org/XML/1998/namespace",I="http://www.w3.org/2000/xmlns/",N={xml:C,xmlns:I},_=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,w=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,T=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function k(U){return U===" "||U===`
`||U==="\r"||U==="	"}function M(U){return U==='"'||U==="'"}function H(U){return U===">"||k(U)}function P(U,m){return U.test(m)}function D(U,m){return!P(U,m)}var B,F,Q,E=0;for(var oe in c.STATE={BEGIN:E++,BEGIN_WHITESPACE:E++,TEXT:E++,TEXT_ENTITY:E++,OPEN_WAKA:E++,SGML_DECL:E++,SGML_DECL_QUOTED:E++,DOCTYPE:E++,DOCTYPE_QUOTED:E++,DOCTYPE_DTD:E++,DOCTYPE_DTD_QUOTED:E++,COMMENT_STARTING:E++,COMMENT:E++,COMMENT_ENDING:E++,COMMENT_ENDED:E++,CDATA:E++,CDATA_ENDING:E++,CDATA_ENDING_2:E++,PROC_INST:E++,PROC_INST_BODY:E++,PROC_INST_ENDING:E++,OPEN_TAG:E++,OPEN_TAG_SLASH:E++,ATTRIB:E++,ATTRIB_NAME:E++,ATTRIB_NAME_SAW_WHITE:E++,ATTRIB_VALUE:E++,ATTRIB_VALUE_QUOTED:E++,ATTRIB_VALUE_CLOSED:E++,ATTRIB_VALUE_UNQUOTED:E++,ATTRIB_VALUE_ENTITY_Q:E++,ATTRIB_VALUE_ENTITY_U:E++,CLOSE_TAG:E++,CLOSE_TAG_SAW_WHITE:E++,SCRIPT:E++,SCRIPT_ENDING:E++},c.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},c.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(c.ENTITIES).forEach(function(U){var m=c.ENTITIES[U],S=typeof m=="number"?String.fromCharCode(m):m;c.ENTITIES[U]=S}),c.STATE)c.STATE[c.STATE[oe]]=oe;function ie(U,m,S){U[m]&&U[m](S)}function z(U,m,S){U.textNode&&be(U),ie(U,m,S)}function be(U){U.textNode=me(U.opt,U.textNode),U.textNode&&ie(U,"ontext",U.textNode),U.textNode=""}function me(U,m){return U.trim&&(m=m.trim()),U.normalize&&(m=m.replace(/\s+/g," ")),m}function _e(U,m){return be(U),U.trackPosition&&(m+=`
Line: `+U.line+`
Column: `+U.column+`
Char: `+U.c),m=new Error(m),U.error=m,ie(U,"onerror",m),U}function x(U){return U.sawRoot&&!U.closedRoot&&$(U,"Unclosed root tag"),U.state!==E.BEGIN&&U.state!==E.BEGIN_WHITESPACE&&U.state!==E.TEXT&&_e(U,"Unexpected end"),be(U),U.c="",U.closed=!0,ie(U,"onend"),p.call(U,U.strict,U.opt),U}function $(U,m){if(typeof U!="object"||!(U instanceof p))throw new Error("bad call to strictFail");U.strict&&_e(U,m)}function te(U){U.strict||(U.tagName=U.tagName[U.looseCase]());var m=U.tags[U.tags.length-1]||U,S=U.tag={name:U.tagName,attributes:{}};U.opt.xmlns&&(S.ns=m.ns),U.attribList.length=0,z(U,"onopentagstart",S)}function V(U,m){var S=U.indexOf(":")<0?["",U]:U.split(":"),L=S[0],Y=S[1];return m&&U==="xmlns"&&(L="xmlns",Y=""),{prefix:L,local:Y}}function K(U){if(U.strict||(U.attribName=U.attribName[U.looseCase]()),U.attribList.indexOf(U.attribName)!==-1||U.tag.attributes.hasOwnProperty(U.attribName))U.attribName=U.attribValue="";else{if(U.opt.xmlns){var m=V(U.attribName,!0),S=m.prefix,L=m.local;if(S==="xmlns")if(L==="xml"&&U.attribValue!==C)$(U,"xml: prefix must be bound to "+C+`
Actual: `+U.attribValue);else if(L==="xmlns"&&U.attribValue!==I)$(U,"xmlns: prefix must be bound to "+I+`
Actual: `+U.attribValue);else{var Y=U.tag,le=U.tags[U.tags.length-1]||U;Y.ns===le.ns&&(Y.ns=Object.create(le.ns)),Y.ns[L]=U.attribValue}U.attribList.push([U.attribName,U.attribValue])}else U.tag.attributes[U.attribName]=U.attribValue,z(U,"onattribute",{name:U.attribName,value:U.attribValue});U.attribName=U.attribValue=""}}function q(U,m){if(U.opt.xmlns){var S=U.tag,L=V(U.tagName);S.prefix=L.prefix,S.local=L.local,S.uri=S.ns[L.prefix]||"",S.prefix&&!S.uri&&($(U,"Unbound namespace prefix: "+JSON.stringify(U.tagName)),S.uri=L.prefix);var Y=U.tags[U.tags.length-1]||U;S.ns&&Y.ns!==S.ns&&Object.keys(S.ns).forEach(function(j){z(U,"onopennamespace",{prefix:j,uri:S.ns[j]})});for(var le=0,he=U.attribList.length;le<he;le++){var de=U.attribList[le],pe=de[0],Ee=de[1],ge=V(pe,!0),Pe=ge.prefix,Oe=ge.local,A=Pe===""?"":S.ns[Pe]||"",R={name:pe,value:Ee,prefix:Pe,local:Oe,uri:A};Pe&&Pe!=="xmlns"&&!A&&($(U,"Unbound namespace prefix: "+JSON.stringify(Pe)),R.uri=Pe),U.tag.attributes[pe]=R,z(U,"onattribute",R)}U.attribList.length=0}U.tag.isSelfClosing=!!m,U.sawRoot=!0,U.tags.push(U.tag),z(U,"onopentag",U.tag),m||(U.noscript||U.tagName.toLowerCase()!=="script"?U.state=E.TEXT:U.state=E.SCRIPT,U.tag=null,U.tagName=""),U.attribName=U.attribValue="",U.attribList.length=0}function G(U){if(!U.tagName)return $(U,"Weird empty close tag."),U.textNode+="</>",void(U.state=E.TEXT);if(U.script){if(U.tagName!=="script")return U.script+="</"+U.tagName+">",U.tagName="",void(U.state=E.SCRIPT);z(U,"onscript",U.script),U.script=""}var m=U.tags.length,S=U.tagName;U.strict||(S=S[U.looseCase]());for(var L=S;m--&&U.tags[m].name!==L;)$(U,"Unexpected close tag");if(m<0)return $(U,"Unmatched closing tag: "+U.tagName),U.textNode+="</"+U.tagName+">",void(U.state=E.TEXT);U.tagName=S;for(var Y=U.tags.length;Y-- >m;){var le=U.tag=U.tags.pop();U.tagName=U.tag.name,z(U,"onclosetag",U.tagName);var he={};for(var de in le.ns)he[de]=le.ns[de];var pe=U.tags[U.tags.length-1]||U;U.opt.xmlns&&le.ns!==pe.ns&&Object.keys(le.ns).forEach(function(Ee){var ge=le.ns[Ee];z(U,"onclosenamespace",{prefix:Ee,uri:ge})})}m===0&&(U.closedRoot=!0),U.tagName=U.attribValue=U.attribName="",U.attribList.length=0,U.state=E.TEXT}function ee(U){var m,S=U.entity,L=S.toLowerCase(),Y="";return U.ENTITIES[S]?U.ENTITIES[S]:U.ENTITIES[L]?U.ENTITIES[L]:((S=L).charAt(0)==="#"&&(S.charAt(1)==="x"?(S=S.slice(2),Y=(m=parseInt(S,16)).toString(16)):(S=S.slice(1),Y=(m=parseInt(S,10)).toString(10))),S=S.replace(/^0+/,""),isNaN(m)||Y.toLowerCase()!==S?($(U,"Invalid character entity"),"&"+U.entity+";"):String.fromCodePoint(m))}function se(U,m){m==="<"?(U.state=E.OPEN_WAKA,U.startTagPosition=U.position):k(m)||($(U,"Non-whitespace before first tag."),U.textNode=m,U.state=E.TEXT)}function ae(U,m){var S="";return m<U.length&&(S=U.charAt(m)),S}E=c.STATE,String.fromCodePoint||(B=String.fromCharCode,F=Math.floor,Q=function(){var U,m,S=16384,L=[],Y=-1,le=arguments.length;if(!le)return"";for(var he="";++Y<le;){var de=Number(arguments[Y]);if(!isFinite(de)||de<0||de>1114111||F(de)!==de)throw RangeError("Invalid code point: "+de);de<=65535?L.push(de):(U=55296+((de-=65536)>>10),m=de%1024+56320,L.push(U,m)),(Y+1===le||L.length>S)&&(he+=B.apply(null,L),L.length=0)}return he},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:Q,configurable:!0,writable:!0}):String.fromCodePoint=Q)})(l)},4889:function(a,l,s){var c=s(4155);(function(u,f){if(!u.setImmediate){var p,y,v,C,I,N=1,_={},b=!1,w=u.document,T=Object.getPrototypeOf&&Object.getPrototypeOf(u);T=T&&T.setTimeout?T:u,{}.toString.call(u.process)==="[object process]"?p=function(H){c.nextTick(function(){M(H)})}:function(){if(u.postMessage&&!u.importScripts){var H=!0,P=u.onmessage;return u.onmessage=function(){H=!1},u.postMessage("","*"),u.onmessage=P,H}}()?(C="setImmediate$"+Math.random()+"$",I=function(H){H.source===u&&typeof H.data=="string"&&H.data.indexOf(C)===0&&M(+H.data.slice(C.length))},u.addEventListener?u.addEventListener("message",I,!1):u.attachEvent("onmessage",I),p=function(H){u.postMessage(C+H,"*")}):u.MessageChannel?((v=new MessageChannel).port1.onmessage=function(H){M(H.data)},p=function(H){v.port2.postMessage(H)}):w&&"onreadystatechange"in w.createElement("script")?(y=w.documentElement,p=function(H){var P=w.createElement("script");P.onreadystatechange=function(){M(H),P.onreadystatechange=null,y.removeChild(P),P=null},y.appendChild(P)}):p=function(H){setTimeout(M,0,H)},T.setImmediate=function(H){typeof H!="function"&&(H=new Function(""+H));for(var P=new Array(arguments.length-1),D=0;D<P.length;D++)P[D]=arguments[D+1];var B={callback:H,args:P};return _[N]=B,p(N),N++},T.clearImmediate=k}function k(H){delete _[H]}function M(H){if(b)setTimeout(M,0,H);else{var P=_[H];if(P){b=!0;try{(function(D){var B=D.callback,F=D.args;switch(F.length){case 0:B();break;case 1:B(F[0]);break;case 2:B(F[0],F[1]);break;case 3:B(F[0],F[1],F[2]);break;default:B.apply(void 0,F)}})(P)}finally{k(H),b=!1}}}}})(typeof self>"u"?s.g===void 0?this:s.g:self)},2830:(a,l,s)=>{a.exports=u;var c=s(7187).EventEmitter;function u(){c.call(this)}s(5717)(u,c),u.Readable=s(6577),u.Writable=s(323),u.Duplex=s(8656),u.Transform=s(4473),u.PassThrough=s(2366),u.finished=s(1086),u.pipeline=s(6472),u.Stream=u,u.prototype.pipe=function(f,p){var y=this;function v(T){f.writable&&f.write(T)===!1&&y.pause&&y.pause()}function C(){y.readable&&y.resume&&y.resume()}y.on("data",v),f.on("drain",C),f._isStdio||p&&p.end===!1||(y.on("end",N),y.on("close",_));var I=!1;function N(){I||(I=!0,f.end())}function _(){I||(I=!0,typeof f.destroy=="function"&&f.destroy())}function b(T){if(w(),c.listenerCount(this,"error")===0)throw T}function w(){y.removeListener("data",v),f.removeListener("drain",C),y.removeListener("end",N),y.removeListener("close",_),y.removeListener("error",b),f.removeListener("error",b),y.removeListener("end",w),y.removeListener("close",w),f.removeListener("close",w)}return y.on("error",b),f.on("error",b),y.on("end",w),y.on("close",w),f.on("close",w),f.emit("pipe",y),f}},8106:a=>{var l={};function s(u,f,p){p||(p=Error);var y=function(v){var C,I;function N(_,b,w){return v.call(this,function(T,k,M){return typeof f=="string"?f:f(T,k,M)}(_,b,w))||this}return I=v,(C=N).prototype=Object.create(I.prototype),C.prototype.constructor=C,C.__proto__=I,N}(p);y.prototype.name=p.name,y.prototype.code=u,l[u]=y}function c(u,f){if(Array.isArray(u)){var p=u.length;return u=u.map(function(y){return String(y)}),p>2?"one of ".concat(f," ").concat(u.slice(0,p-1).join(", "),", or ")+u[p-1]:p===2?"one of ".concat(f," ").concat(u[0]," or ").concat(u[1]):"of ".concat(f," ").concat(u[0])}return"of ".concat(f," ").concat(String(u))}s("ERR_INVALID_OPT_VALUE",function(u,f){return'The value "'+f+'" is invalid for option "'+u+'"'},TypeError),s("ERR_INVALID_ARG_TYPE",function(u,f,p){var y,v,C,I,N;if(typeof f=="string"&&(v="not ",f.substr(0,v.length)===v)?(y="must not be",f=f.replace(/^not /,"")):y="must be",function(b,w,T){return(T===void 0||T>b.length)&&(T=b.length),b.substring(T-w.length,T)===w}(u," argument"))C="The ".concat(u," ").concat(y," ").concat(c(f,"type"));else{var _=(typeof N!="number"&&(N=0),N+1>(I=u).length||I.indexOf(".",N)===-1?"argument":"property");C='The "'.concat(u,'" ').concat(_," ").concat(y," ").concat(c(f,"type"))}return C+". Received type ".concat(typeof p)},TypeError),s("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),s("ERR_METHOD_NOT_IMPLEMENTED",function(u){return"The "+u+" method is not implemented"}),s("ERR_STREAM_PREMATURE_CLOSE","Premature close"),s("ERR_STREAM_DESTROYED",function(u){return"Cannot call "+u+" after a stream was destroyed"}),s("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),s("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),s("ERR_STREAM_WRITE_AFTER_END","write after end"),s("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),s("ERR_UNKNOWN_ENCODING",function(u){return"Unknown encoding: "+u},TypeError),s("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),a.exports.q=l},8656:(a,l,s)=>{var c=s(4155),u=Object.keys||function(b){var w=[];for(var T in b)w.push(T);return w};a.exports=I;var f=s(6577),p=s(323);s(5717)(I,f);for(var y=u(p.prototype),v=0;v<y.length;v++){var C=y[v];I.prototype[C]||(I.prototype[C]=p.prototype[C])}function I(b){if(!(this instanceof I))return new I(b);f.call(this,b),p.call(this,b),this.allowHalfOpen=!0,b&&(b.readable===!1&&(this.readable=!1),b.writable===!1&&(this.writable=!1),b.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",N)))}function N(){this._writableState.ended||c.nextTick(_,this)}function _(b){b.end()}Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(b){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=b,this._writableState.destroyed=b)}})},2366:(a,l,s)=>{a.exports=u;var c=s(4473);function u(f){if(!(this instanceof u))return new u(f);c.call(this,f)}s(5717)(u,c),u.prototype._transform=function(f,p,y){y(null,f)}},6577:(a,l,s)=>{var c,u=s(4155);a.exports=oe,oe.ReadableState=E,s(7187).EventEmitter;var f,p=function(m,S){return m.listeners(S).length},y=s(3194),v=s(8764).Buffer,C=s.g.Uint8Array||function(){},I=s(5575);f=I&&I.debuglog?I.debuglog("stream"):function(){};var N,_,b,w=s(9686),T=s(1029),k=s(94).getHighWaterMark,M=s(8106).q,H=M.ERR_INVALID_ARG_TYPE,P=M.ERR_STREAM_PUSH_AFTER_EOF,D=M.ERR_METHOD_NOT_IMPLEMENTED,B=M.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;s(5717)(oe,y);var F=T.errorOrDestroy,Q=["error","close","destroy","pause","resume"];function E(m,S,L){c=c||s(8656),m=m||{},typeof L!="boolean"&&(L=S instanceof c),this.objectMode=!!m.objectMode,L&&(this.objectMode=this.objectMode||!!m.readableObjectMode),this.highWaterMark=k(this,m,"readableHighWaterMark",L),this.buffer=new w,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=m.emitClose!==!1,this.autoDestroy=!!m.autoDestroy,this.destroyed=!1,this.defaultEncoding=m.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,m.encoding&&(N||(N=s(2553).s),this.decoder=new N(m.encoding),this.encoding=m.encoding)}function oe(m){if(c=c||s(8656),!(this instanceof oe))return new oe(m);var S=this instanceof c;this._readableState=new E(m,this,S),this.readable=!0,m&&(typeof m.read=="function"&&(this._read=m.read),typeof m.destroy=="function"&&(this._destroy=m.destroy)),y.call(this)}function ie(m,S,L,Y,le){f("readableAddChunk",S);var he,de=m._readableState;if(S===null)de.reading=!1,function(pe,Ee){if(f("onEofChunk"),!Ee.ended){if(Ee.decoder){var ge=Ee.decoder.end();ge&&ge.length&&(Ee.buffer.push(ge),Ee.length+=Ee.objectMode?1:ge.length)}Ee.ended=!0,Ee.sync?_e(pe):(Ee.needReadable=!1,Ee.emittedReadable||(Ee.emittedReadable=!0,x(pe)))}}(m,de);else if(le||(he=function(pe,Ee){var ge,Pe;return Pe=Ee,v.isBuffer(Pe)||Pe instanceof C||typeof Ee=="string"||Ee===void 0||pe.objectMode||(ge=new H("chunk",["string","Buffer","Uint8Array"],Ee)),ge}(de,S)),he)F(m,he);else if(de.objectMode||S&&S.length>0)if(typeof S=="string"||de.objectMode||Object.getPrototypeOf(S)===v.prototype||(S=function(pe){return v.from(pe)}(S)),Y)de.endEmitted?F(m,new B):z(m,de,S,!0);else if(de.ended)F(m,new P);else{if(de.destroyed)return!1;de.reading=!1,de.decoder&&!L?(S=de.decoder.write(S),de.objectMode||S.length!==0?z(m,de,S,!1):$(m,de)):z(m,de,S,!1)}else Y||(de.reading=!1,$(m,de));return!de.ended&&(de.length<de.highWaterMark||de.length===0)}function z(m,S,L,Y){S.flowing&&S.length===0&&!S.sync?(S.awaitDrain=0,m.emit("data",L)):(S.length+=S.objectMode?1:L.length,Y?S.buffer.unshift(L):S.buffer.push(L),S.needReadable&&_e(m)),$(m,S)}Object.defineProperty(oe.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(m){this._readableState&&(this._readableState.destroyed=m)}}),oe.prototype.destroy=T.destroy,oe.prototype._undestroy=T.undestroy,oe.prototype._destroy=function(m,S){S(m)},oe.prototype.push=function(m,S){var L,Y=this._readableState;return Y.objectMode?L=!0:typeof m=="string"&&((S=S||Y.defaultEncoding)!==Y.encoding&&(m=v.from(m,S),S=""),L=!0),ie(this,m,S,!1,L)},oe.prototype.unshift=function(m){return ie(this,m,null,!0,!1)},oe.prototype.isPaused=function(){return this._readableState.flowing===!1},oe.prototype.setEncoding=function(m){N||(N=s(2553).s);var S=new N(m);this._readableState.decoder=S,this._readableState.encoding=this._readableState.decoder.encoding;for(var L=this._readableState.buffer.head,Y="";L!==null;)Y+=S.write(L.data),L=L.next;return this._readableState.buffer.clear(),Y!==""&&this._readableState.buffer.push(Y),this._readableState.length=Y.length,this};var be=1073741824;function me(m,S){return m<=0||S.length===0&&S.ended?0:S.objectMode?1:m!=m?S.flowing&&S.length?S.buffer.head.data.length:S.length:(m>S.highWaterMark&&(S.highWaterMark=function(L){return L>=be?L=be:(L--,L|=L>>>1,L|=L>>>2,L|=L>>>4,L|=L>>>8,L|=L>>>16,L++),L}(m)),m<=S.length?m:S.ended?S.length:(S.needReadable=!0,0))}function _e(m){var S=m._readableState;f("emitReadable",S.needReadable,S.emittedReadable),S.needReadable=!1,S.emittedReadable||(f("emitReadable",S.flowing),S.emittedReadable=!0,u.nextTick(x,m))}function x(m){var S=m._readableState;f("emitReadable_",S.destroyed,S.length,S.ended),S.destroyed||!S.length&&!S.ended||(m.emit("readable"),S.emittedReadable=!1),S.needReadable=!S.flowing&&!S.ended&&S.length<=S.highWaterMark,G(m)}function $(m,S){S.readingMore||(S.readingMore=!0,u.nextTick(te,m,S))}function te(m,S){for(;!S.reading&&!S.ended&&(S.length<S.highWaterMark||S.flowing&&S.length===0);){var L=S.length;if(f("maybeReadMore read 0"),m.read(0),L===S.length)break}S.readingMore=!1}function V(m){var S=m._readableState;S.readableListening=m.listenerCount("readable")>0,S.resumeScheduled&&!S.paused?S.flowing=!0:m.listenerCount("data")>0&&m.resume()}function K(m){f("readable nexttick read 0"),m.read(0)}function q(m,S){f("resume",S.reading),S.reading||m.read(0),S.resumeScheduled=!1,m.emit("resume"),G(m),S.flowing&&!S.reading&&m.read(0)}function G(m){var S=m._readableState;for(f("flow",S.flowing);S.flowing&&m.read()!==null;);}function ee(m,S){return S.length===0?null:(S.objectMode?L=S.buffer.shift():!m||m>=S.length?(L=S.decoder?S.buffer.join(""):S.buffer.length===1?S.buffer.first():S.buffer.concat(S.length),S.buffer.clear()):L=S.buffer.consume(m,S.decoder),L);var L}function se(m){var S=m._readableState;f("endReadable",S.endEmitted),S.endEmitted||(S.ended=!0,u.nextTick(ae,S,m))}function ae(m,S){if(f("endReadableNT",m.endEmitted,m.length),!m.endEmitted&&m.length===0&&(m.endEmitted=!0,S.readable=!1,S.emit("end"),m.autoDestroy)){var L=S._writableState;(!L||L.autoDestroy&&L.finished)&&S.destroy()}}function U(m,S){for(var L=0,Y=m.length;L<Y;L++)if(m[L]===S)return L;return-1}oe.prototype.read=function(m){f("read",m),m=parseInt(m,10);var S=this._readableState,L=m;if(m!==0&&(S.emittedReadable=!1),m===0&&S.needReadable&&((S.highWaterMark!==0?S.length>=S.highWaterMark:S.length>0)||S.ended))return f("read: emitReadable",S.length,S.ended),S.length===0&&S.ended?se(this):_e(this),null;if((m=me(m,S))===0&&S.ended)return S.length===0&&se(this),null;var Y,le=S.needReadable;return f("need readable",le),(S.length===0||S.length-m<S.highWaterMark)&&f("length less than watermark",le=!0),S.ended||S.reading?f("reading or ended",le=!1):le&&(f("do read"),S.reading=!0,S.sync=!0,S.length===0&&(S.needReadable=!0),this._read(S.highWaterMark),S.sync=!1,S.reading||(m=me(L,S))),(Y=m>0?ee(m,S):null)===null?(S.needReadable=S.length<=S.highWaterMark,m=0):(S.length-=m,S.awaitDrain=0),S.length===0&&(S.ended||(S.needReadable=!0),L!==m&&S.ended&&se(this)),Y!==null&&this.emit("data",Y),Y},oe.prototype._read=function(m){F(this,new D("_read()"))},oe.prototype.pipe=function(m,S){var L=this,Y=this._readableState;switch(Y.pipesCount){case 0:Y.pipes=m;break;case 1:Y.pipes=[Y.pipes,m];break;default:Y.pipes.push(m)}Y.pipesCount+=1,f("pipe count=%d opts=%j",Y.pipesCount,S);var le=S&&S.end===!1||m===u.stdout||m===u.stderr?A:he;function he(){f("onend"),m.end()}Y.endEmitted?u.nextTick(le):L.once("end",le),m.on("unpipe",function R(j,ne){f("onunpipe"),j===L&&ne&&ne.hasUnpiped===!1&&(ne.hasUnpiped=!0,f("cleanup"),m.removeListener("close",Pe),m.removeListener("finish",Oe),m.removeListener("drain",de),m.removeListener("error",ge),m.removeListener("unpipe",R),L.removeListener("end",he),L.removeListener("end",A),L.removeListener("data",Ee),pe=!0,!Y.awaitDrain||m._writableState&&!m._writableState.needDrain||de())});var de=function(R){return function(){var j=R._readableState;f("pipeOnDrain",j.awaitDrain),j.awaitDrain&&j.awaitDrain--,j.awaitDrain===0&&p(R,"data")&&(j.flowing=!0,G(R))}}(L);m.on("drain",de);var pe=!1;function Ee(R){f("ondata");var j=m.write(R);f("dest.write",j),j===!1&&((Y.pipesCount===1&&Y.pipes===m||Y.pipesCount>1&&U(Y.pipes,m)!==-1)&&!pe&&(f("false write response, pause",Y.awaitDrain),Y.awaitDrain++),L.pause())}function ge(R){f("onerror",R),A(),m.removeListener("error",ge),p(m,"error")===0&&F(m,R)}function Pe(){m.removeListener("finish",Oe),A()}function Oe(){f("onfinish"),m.removeListener("close",Pe),A()}function A(){f("unpipe"),L.unpipe(m)}return L.on("data",Ee),function(R,j,ne){if(typeof R.prependListener=="function")return R.prependListener(j,ne);R._events&&R._events.error?Array.isArray(R._events.error)?R._events.error.unshift(ne):R._events.error=[ne,R._events.error]:R.on(j,ne)}(m,"error",ge),m.once("close",Pe),m.once("finish",Oe),m.emit("pipe",L),Y.flowing||(f("pipe resume"),L.resume()),m},oe.prototype.unpipe=function(m){var S=this._readableState,L={hasUnpiped:!1};if(S.pipesCount===0)return this;if(S.pipesCount===1)return m&&m!==S.pipes||(m||(m=S.pipes),S.pipes=null,S.pipesCount=0,S.flowing=!1,m&&m.emit("unpipe",this,L)),this;if(!m){var Y=S.pipes,le=S.pipesCount;S.pipes=null,S.pipesCount=0,S.flowing=!1;for(var he=0;he<le;he++)Y[he].emit("unpipe",this,{hasUnpiped:!1});return this}var de=U(S.pipes,m);return de===-1||(S.pipes.splice(de,1),S.pipesCount-=1,S.pipesCount===1&&(S.pipes=S.pipes[0]),m.emit("unpipe",this,L)),this},oe.prototype.on=function(m,S){var L=y.prototype.on.call(this,m,S),Y=this._readableState;return m==="data"?(Y.readableListening=this.listenerCount("readable")>0,Y.flowing!==!1&&this.resume()):m==="readable"&&(Y.endEmitted||Y.readableListening||(Y.readableListening=Y.needReadable=!0,Y.flowing=!1,Y.emittedReadable=!1,f("on readable",Y.length,Y.reading),Y.length?_e(this):Y.reading||u.nextTick(K,this))),L},oe.prototype.addListener=oe.prototype.on,oe.prototype.removeListener=function(m,S){var L=y.prototype.removeListener.call(this,m,S);return m==="readable"&&u.nextTick(V,this),L},oe.prototype.removeAllListeners=function(m){var S=y.prototype.removeAllListeners.apply(this,arguments);return m!=="readable"&&m!==void 0||u.nextTick(V,this),S},oe.prototype.resume=function(){var m=this._readableState;return m.flowing||(f("resume"),m.flowing=!m.readableListening,function(S,L){L.resumeScheduled||(L.resumeScheduled=!0,u.nextTick(q,S,L))}(this,m)),m.paused=!1,this},oe.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},oe.prototype.wrap=function(m){var S=this,L=this._readableState,Y=!1;for(var le in m.on("end",function(){if(f("wrapped end"),L.decoder&&!L.ended){var de=L.decoder.end();de&&de.length&&S.push(de)}S.push(null)}),m.on("data",function(de){f("wrapped data"),L.decoder&&(de=L.decoder.write(de)),L.objectMode&&de==null||(L.objectMode||de&&de.length)&&(S.push(de)||(Y=!0,m.pause()))}),m)this[le]===void 0&&typeof m[le]=="function"&&(this[le]=function(de){return function(){return m[de].apply(m,arguments)}}(le));for(var he=0;he<Q.length;he++)m.on(Q[he],this.emit.bind(this,Q[he]));return this._read=function(de){f("wrapped _read",de),Y&&(Y=!1,m.resume())},this},typeof Symbol=="function"&&(oe.prototype[Symbol.asyncIterator]=function(){return _===void 0&&(_=s(828)),_(this)}),Object.defineProperty(oe.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(oe.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(oe.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(m){this._readableState&&(this._readableState.flowing=m)}}),oe._fromList=ee,Object.defineProperty(oe.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(oe.from=function(m,S){return b===void 0&&(b=s(1265)),b(oe,m,S)})},4473:(a,l,s)=>{a.exports=I;var c=s(8106).q,u=c.ERR_METHOD_NOT_IMPLEMENTED,f=c.ERR_MULTIPLE_CALLBACK,p=c.ERR_TRANSFORM_ALREADY_TRANSFORMING,y=c.ERR_TRANSFORM_WITH_LENGTH_0,v=s(8656);function C(b,w){var T=this._transformState;T.transforming=!1;var k=T.writecb;if(k===null)return this.emit("error",new f);T.writechunk=null,T.writecb=null,w!=null&&this.push(w),k(b);var M=this._readableState;M.reading=!1,(M.needReadable||M.length<M.highWaterMark)&&this._read(M.highWaterMark)}function I(b){if(!(this instanceof I))return new I(b);v.call(this,b),this._transformState={afterTransform:C.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,b&&(typeof b.transform=="function"&&(this._transform=b.transform),typeof b.flush=="function"&&(this._flush=b.flush)),this.on("prefinish",N)}function N(){var b=this;typeof this._flush!="function"||this._readableState.destroyed?_(this,null,null):this._flush(function(w,T){_(b,w,T)})}function _(b,w,T){if(w)return b.emit("error",w);if(T!=null&&b.push(T),b._writableState.length)throw new y;if(b._transformState.transforming)throw new p;return b.push(null)}s(5717)(I,v),I.prototype.push=function(b,w){return this._transformState.needTransform=!1,v.prototype.push.call(this,b,w)},I.prototype._transform=function(b,w,T){T(new u("_transform()"))},I.prototype._write=function(b,w,T){var k=this._transformState;if(k.writecb=T,k.writechunk=b,k.writeencoding=w,!k.transforming){var M=this._readableState;(k.needTransform||M.needReadable||M.length<M.highWaterMark)&&this._read(M.highWaterMark)}},I.prototype._read=function(b){var w=this._transformState;w.writechunk===null||w.transforming?w.needTransform=!0:(w.transforming=!0,this._transform(w.writechunk,w.writeencoding,w.afterTransform))},I.prototype._destroy=function(b,w){v.prototype._destroy.call(this,b,function(T){w(T)})}},323:(a,l,s)=>{var c,u=s(4155);function f($){var te=this;this.next=null,this.entry=null,this.finish=function(){(function(V,K,q){var G=V.entry;for(V.entry=null;G;){var ee=G.callback;K.pendingcb--,ee(void 0),G=G.next}K.corkedRequestsFree.next=V})(te,$)}}a.exports=oe,oe.WritableState=E;var p,y={deprecate:s(4927)},v=s(3194),C=s(8764).Buffer,I=s.g.Uint8Array||function(){},N=s(1029),_=s(94).getHighWaterMark,b=s(8106).q,w=b.ERR_INVALID_ARG_TYPE,T=b.ERR_METHOD_NOT_IMPLEMENTED,k=b.ERR_MULTIPLE_CALLBACK,M=b.ERR_STREAM_CANNOT_PIPE,H=b.ERR_STREAM_DESTROYED,P=b.ERR_STREAM_NULL_VALUES,D=b.ERR_STREAM_WRITE_AFTER_END,B=b.ERR_UNKNOWN_ENCODING,F=N.errorOrDestroy;function Q(){}function E($,te,V){c=c||s(8656),$=$||{},typeof V!="boolean"&&(V=te instanceof c),this.objectMode=!!$.objectMode,V&&(this.objectMode=this.objectMode||!!$.writableObjectMode),this.highWaterMark=_(this,$,"writableHighWaterMark",V),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var K=$.decodeStrings===!1;this.decodeStrings=!K,this.defaultEncoding=$.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(q){(function(G,ee){var se=G._writableState,ae=se.sync,U=se.writecb;if(typeof U!="function")throw new k;if(function(S){S.writing=!1,S.writecb=null,S.length-=S.writelen,S.writelen=0}(se),ee)(function(S,L,Y,le,he){--L.pendingcb,Y?(u.nextTick(he,le),u.nextTick(x,S,L),S._writableState.errorEmitted=!0,F(S,le)):(he(le),S._writableState.errorEmitted=!0,F(S,le),x(S,L))})(G,se,ae,ee,U);else{var m=me(se)||G.destroyed;m||se.corked||se.bufferProcessing||!se.bufferedRequest||be(G,se),ae?u.nextTick(z,G,se,m,U):z(G,se,m,U)}})(te,q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=$.emitClose!==!1,this.autoDestroy=!!$.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new f(this)}function oe($){var te=this instanceof(c=c||s(8656));if(!te&&!p.call(oe,this))return new oe($);this._writableState=new E($,this,te),this.writable=!0,$&&(typeof $.write=="function"&&(this._write=$.write),typeof $.writev=="function"&&(this._writev=$.writev),typeof $.destroy=="function"&&(this._destroy=$.destroy),typeof $.final=="function"&&(this._final=$.final)),v.call(this)}function ie($,te,V,K,q,G,ee){te.writelen=K,te.writecb=ee,te.writing=!0,te.sync=!0,te.destroyed?te.onwrite(new H("write")):V?$._writev(q,te.onwrite):$._write(q,G,te.onwrite),te.sync=!1}function z($,te,V,K){V||function(q,G){G.length===0&&G.needDrain&&(G.needDrain=!1,q.emit("drain"))}($,te),te.pendingcb--,K(),x($,te)}function be($,te){te.bufferProcessing=!0;var V=te.bufferedRequest;if($._writev&&V&&V.next){var K=te.bufferedRequestCount,q=new Array(K),G=te.corkedRequestsFree;G.entry=V;for(var ee=0,se=!0;V;)q[ee]=V,V.isBuf||(se=!1),V=V.next,ee+=1;q.allBuffers=se,ie($,te,!0,te.length,q,"",G.finish),te.pendingcb++,te.lastBufferedRequest=null,G.next?(te.corkedRequestsFree=G.next,G.next=null):te.corkedRequestsFree=new f(te),te.bufferedRequestCount=0}else{for(;V;){var ae=V.chunk,U=V.encoding,m=V.callback;if(ie($,te,!1,te.objectMode?1:ae.length,ae,U,m),V=V.next,te.bufferedRequestCount--,te.writing)break}V===null&&(te.lastBufferedRequest=null)}te.bufferedRequest=V,te.bufferProcessing=!1}function me($){return $.ending&&$.length===0&&$.bufferedRequest===null&&!$.finished&&!$.writing}function _e($,te){$._final(function(V){te.pendingcb--,V&&F($,V),te.prefinished=!0,$.emit("prefinish"),x($,te)})}function x($,te){var V=me(te);if(V&&(function(q,G){G.prefinished||G.finalCalled||(typeof q._final!="function"||G.destroyed?(G.prefinished=!0,q.emit("prefinish")):(G.pendingcb++,G.finalCalled=!0,u.nextTick(_e,q,G)))}($,te),te.pendingcb===0&&(te.finished=!0,$.emit("finish"),te.autoDestroy))){var K=$._readableState;(!K||K.autoDestroy&&K.endEmitted)&&$.destroy()}return V}s(5717)(oe,v),E.prototype.getBuffer=function(){for(var $=this.bufferedRequest,te=[];$;)te.push($),$=$.next;return te},function(){try{Object.defineProperty(E.prototype,"buffer",{get:y.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(oe,Symbol.hasInstance,{value:function($){return!!p.call(this,$)||this===oe&&$&&$._writableState instanceof E}})):p=function($){return $ instanceof this},oe.prototype.pipe=function(){F(this,new M)},oe.prototype.write=function($,te,V){var K,q=this._writableState,G=!1,ee=!q.objectMode&&(K=$,C.isBuffer(K)||K instanceof I);return ee&&!C.isBuffer($)&&($=function(se){return C.from(se)}($)),typeof te=="function"&&(V=te,te=null),ee?te="buffer":te||(te=q.defaultEncoding),typeof V!="function"&&(V=Q),q.ending?function(se,ae){var U=new D;F(se,U),u.nextTick(ae,U)}(this,V):(ee||function(se,ae,U,m){var S;return U===null?S=new P:typeof U=="string"||ae.objectMode||(S=new w("chunk",["string","Buffer"],U)),!S||(F(se,S),u.nextTick(m,S),!1)}(this,q,$,V))&&(q.pendingcb++,G=function(se,ae,U,m,S,L){if(!U){var Y=function(pe,Ee,ge){return pe.objectMode||pe.decodeStrings===!1||typeof Ee!="string"||(Ee=C.from(Ee,ge)),Ee}(ae,m,S);m!==Y&&(U=!0,S="buffer",m=Y)}var le=ae.objectMode?1:m.length;ae.length+=le;var he=ae.length<ae.highWaterMark;if(he||(ae.needDrain=!0),ae.writing||ae.corked){var de=ae.lastBufferedRequest;ae.lastBufferedRequest={chunk:m,encoding:S,isBuf:U,callback:L,next:null},de?de.next=ae.lastBufferedRequest:ae.bufferedRequest=ae.lastBufferedRequest,ae.bufferedRequestCount+=1}else ie(se,ae,!1,le,m,S,L);return he}(this,q,ee,$,te,V)),G},oe.prototype.cork=function(){this._writableState.corked++},oe.prototype.uncork=function(){var $=this._writableState;$.corked&&($.corked--,$.writing||$.corked||$.bufferProcessing||!$.bufferedRequest||be(this,$))},oe.prototype.setDefaultEncoding=function($){if(typeof $=="string"&&($=$.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf(($+"").toLowerCase())>-1))throw new B($);return this._writableState.defaultEncoding=$,this},Object.defineProperty(oe.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(oe.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),oe.prototype._write=function($,te,V){V(new T("_write()"))},oe.prototype._writev=null,oe.prototype.end=function($,te,V){var K=this._writableState;return typeof $=="function"?(V=$,$=null,te=null):typeof te=="function"&&(V=te,te=null),$!=null&&this.write($,te),K.corked&&(K.corked=1,this.uncork()),K.ending||function(q,G,ee){G.ending=!0,x(q,G),ee&&(G.finished?u.nextTick(ee):q.once("finish",ee)),G.ended=!0,q.writable=!1}(this,K,V),this},Object.defineProperty(oe.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(oe.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function($){this._writableState&&(this._writableState.destroyed=$)}}),oe.prototype.destroy=N.destroy,oe.prototype._undestroy=N.undestroy,oe.prototype._destroy=function($,te){te($)}},828:(a,l,s)=>{var c,u=s(4155);function f(P,D,B){return D in P?Object.defineProperty(P,D,{value:B,enumerable:!0,configurable:!0,writable:!0}):P[D]=B,P}var p=s(1086),y=Symbol("lastResolve"),v=Symbol("lastReject"),C=Symbol("error"),I=Symbol("ended"),N=Symbol("lastPromise"),_=Symbol("handlePromise"),b=Symbol("stream");function w(P,D){return{value:P,done:D}}function T(P){var D=P[y];if(D!==null){var B=P[b].read();B!==null&&(P[N]=null,P[y]=null,P[v]=null,D(w(B,!1)))}}function k(P){u.nextTick(T,P)}var M=Object.getPrototypeOf(function(){}),H=Object.setPrototypeOf((f(c={get stream(){return this[b]},next:function(){var P=this,D=this[C];if(D!==null)return Promise.reject(D);if(this[I])return Promise.resolve(w(void 0,!0));if(this[b].destroyed)return new Promise(function(E,oe){u.nextTick(function(){P[C]?oe(P[C]):E(w(void 0,!0))})});var B,F=this[N];if(F)B=new Promise(function(E,oe){return function(ie,z){E.then(function(){oe[I]?ie(w(void 0,!0)):oe[_](ie,z)},z)}}(F,this));else{var Q=this[b].read();if(Q!==null)return Promise.resolve(w(Q,!1));B=new Promise(this[_])}return this[N]=B,B}},Symbol.asyncIterator,function(){return this}),f(c,"return",function(){var P=this;return new Promise(function(D,B){P[b].destroy(null,function(F){F?B(F):D(w(void 0,!0))})})}),c),M);a.exports=function(P){var D,B=Object.create(H,(f(D={},b,{value:P,writable:!0}),f(D,y,{value:null,writable:!0}),f(D,v,{value:null,writable:!0}),f(D,C,{value:null,writable:!0}),f(D,I,{value:P._readableState.endEmitted,writable:!0}),f(D,_,{value:function(F,Q){var E=B[b].read();E?(B[N]=null,B[y]=null,B[v]=null,F(w(E,!1))):(B[y]=F,B[v]=Q)},writable:!0}),D));return B[N]=null,p(P,function(F){if(F&&F.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Q=B[v];return Q!==null&&(B[N]=null,B[y]=null,B[v]=null,Q(F)),void(B[C]=F)}var E=B[y];E!==null&&(B[N]=null,B[y]=null,B[v]=null,E(w(void 0,!0))),B[I]=!0}),P.on("readable",k.bind(null,B)),B}},9686:(a,l,s)=>{function c(C,I){var N=Object.keys(C);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(C);I&&(_=_.filter(function(b){return Object.getOwnPropertyDescriptor(C,b).enumerable})),N.push.apply(N,_)}return N}function u(C,I,N){return I in C?Object.defineProperty(C,I,{value:N,enumerable:!0,configurable:!0,writable:!0}):C[I]=N,C}function f(C,I){for(var N=0;N<I.length;N++){var _=I[N];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(C,_.key,_)}}var p=s(8764).Buffer,y=s(5575).inspect,v=y&&y.custom||"inspect";a.exports=function(){function C(){(function(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")})(this,C),this.head=null,this.tail=null,this.length=0}var I,N;return I=C,N=[{key:"push",value:function(_){var b={data:_,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length}},{key:"unshift",value:function(_){var b={data:_,next:this.head};this.length===0&&(this.tail=b),this.head=b,++this.length}},{key:"shift",value:function(){if(this.length!==0){var _=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,_}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(_){if(this.length===0)return"";for(var b=this.head,w=""+b.data;b=b.next;)w+=_+b.data;return w}},{key:"concat",value:function(_){if(this.length===0)return p.alloc(0);for(var b,w,T,k=p.allocUnsafe(_>>>0),M=this.head,H=0;M;)b=M.data,w=k,T=H,p.prototype.copy.call(b,w,T),H+=M.data.length,M=M.next;return k}},{key:"consume",value:function(_,b){var w;return _<this.head.data.length?(w=this.head.data.slice(0,_),this.head.data=this.head.data.slice(_)):w=_===this.head.data.length?this.shift():b?this._getString(_):this._getBuffer(_),w}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(_){var b=this.head,w=1,T=b.data;for(_-=T.length;b=b.next;){var k=b.data,M=_>k.length?k.length:_;if(M===k.length?T+=k:T+=k.slice(0,_),(_-=M)==0){M===k.length?(++w,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=k.slice(M));break}++w}return this.length-=w,T}},{key:"_getBuffer",value:function(_){var b=p.allocUnsafe(_),w=this.head,T=1;for(w.data.copy(b),_-=w.data.length;w=w.next;){var k=w.data,M=_>k.length?k.length:_;if(k.copy(b,b.length-_,0,M),(_-=M)==0){M===k.length?(++T,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=k.slice(M));break}++T}return this.length-=T,b}},{key:v,value:function(_,b){return y(this,function(w){for(var T=1;T<arguments.length;T++){var k=arguments[T]!=null?arguments[T]:{};T%2?c(Object(k),!0).forEach(function(M){u(w,M,k[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(k)):c(Object(k)).forEach(function(M){Object.defineProperty(w,M,Object.getOwnPropertyDescriptor(k,M))})}return w}({},b,{depth:0,customInspect:!1}))}}],N&&f(I.prototype,N),C}()},1029:(a,l,s)=>{var c=s(4155);function u(y,v){p(y,v),f(y)}function f(y){y._writableState&&!y._writableState.emitClose||y._readableState&&!y._readableState.emitClose||y.emit("close")}function p(y,v){y.emit("error",v)}a.exports={destroy:function(y,v){var C=this,I=this._readableState&&this._readableState.destroyed,N=this._writableState&&this._writableState.destroyed;return I||N?(v?v(y):y&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,c.nextTick(p,this,y)):c.nextTick(p,this,y)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(y||null,function(_){!v&&_?C._writableState?C._writableState.errorEmitted?c.nextTick(f,C):(C._writableState.errorEmitted=!0,c.nextTick(u,C,_)):c.nextTick(u,C,_):v?(c.nextTick(f,C),v(_)):c.nextTick(f,C)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(y,v){var C=y._readableState,I=y._writableState;C&&C.autoDestroy||I&&I.autoDestroy?y.destroy(v):y.emit("error",v)}}},1086:(a,l,s)=>{var c=s(8106).q.ERR_STREAM_PREMATURE_CLOSE;function u(){}a.exports=function f(p,y,v){if(typeof y=="function")return f(p,null,y);y||(y={}),v=function(P){var D=!1;return function(){if(!D){D=!0;for(var B=arguments.length,F=new Array(B),Q=0;Q<B;Q++)F[Q]=arguments[Q];P.apply(this,F)}}}(v||u);var C=y.readable||y.readable!==!1&&p.readable,I=y.writable||y.writable!==!1&&p.writable,N=function(){p.writable||b()},_=p._writableState&&p._writableState.finished,b=function(){I=!1,_=!0,C||v.call(p)},w=p._readableState&&p._readableState.endEmitted,T=function(){C=!1,w=!0,I||v.call(p)},k=function(P){v.call(p,P)},M=function(){var P;return C&&!w?(p._readableState&&p._readableState.ended||(P=new c),v.call(p,P)):I&&!_?(p._writableState&&p._writableState.ended||(P=new c),v.call(p,P)):void 0},H=function(){p.req.on("finish",b)};return function(P){return P.setHeader&&typeof P.abort=="function"}(p)?(p.on("complete",b),p.on("abort",M),p.req?H():p.on("request",H)):I&&!p._writableState&&(p.on("end",N),p.on("close",N)),p.on("end",T),p.on("finish",b),y.error!==!1&&p.on("error",k),p.on("close",M),function(){p.removeListener("complete",b),p.removeListener("abort",M),p.removeListener("request",H),p.req&&p.req.removeListener("finish",b),p.removeListener("end",N),p.removeListener("close",N),p.removeListener("finish",b),p.removeListener("end",T),p.removeListener("error",k),p.removeListener("close",M)}}},1265:a=>{a.exports=function(){throw new Error("Readable.from is not available in the browser")}},6472:(a,l,s)=>{var c,u=s(8106).q,f=u.ERR_MISSING_ARGS,p=u.ERR_STREAM_DESTROYED;function y(_){if(_)throw _}function v(_,b,w,T){T=function(H){var P=!1;return function(){P||(P=!0,H.apply(void 0,arguments))}}(T);var k=!1;_.on("close",function(){k=!0}),c===void 0&&(c=s(1086)),c(_,{readable:b,writable:w},function(H){if(H)return T(H);k=!0,T()});var M=!1;return function(H){if(!k&&!M)return M=!0,function(P){return P.setHeader&&typeof P.abort=="function"}(_)?_.abort():typeof _.destroy=="function"?_.destroy():void T(H||new p("pipe"))}}function C(_){_()}function I(_,b){return _.pipe(b)}function N(_){return _.length?typeof _[_.length-1]!="function"?y:_.pop():y}a.exports=function(){for(var _=arguments.length,b=new Array(_),w=0;w<_;w++)b[w]=arguments[w];var T,k=N(b);if(Array.isArray(b[0])&&(b=b[0]),b.length<2)throw new f("streams");var M=b.map(function(H,P){var D=P<b.length-1;return v(H,D,P>0,function(B){T||(T=B),B&&M.forEach(C),D||(M.forEach(C),k(T))})});return b.reduce(I)}},94:(a,l,s)=>{var c=s(8106).q.ERR_INVALID_OPT_VALUE;a.exports={getHighWaterMark:function(u,f,p,y){var v=function(C,I,N){return C.highWaterMark!=null?C.highWaterMark:I?C[N]:null}(f,y,p);if(v!=null){if(!isFinite(v)||Math.floor(v)!==v||v<0)throw new c(y?p:"highWaterMark",v);return Math.floor(v)}return u.objectMode?16:16384}}},3194:(a,l,s)=>{a.exports=s(7187).EventEmitter},2553:(a,l,s)=>{var c=s(9509).Buffer,u=c.isEncoding||function(w){switch((w=""+w)&&w.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function f(w){var T;switch(this.encoding=function(k){var M=function(H){if(!H)return"utf8";for(var P;;)switch(H){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return H;default:if(P)return;H=(""+H).toLowerCase(),P=!0}}(k);if(typeof M!="string"&&(c.isEncoding===u||!u(k)))throw new Error("Unknown encoding: "+k);return M||k}(w),this.encoding){case"utf16le":this.text=v,this.end=C,T=4;break;case"utf8":this.fillLast=y,T=4;break;case"base64":this.text=I,this.end=N,T=3;break;default:return this.write=_,void(this.end=b)}this.lastNeed=0,this.lastTotal=0,this.lastChar=c.allocUnsafe(T)}function p(w){return w<=127?0:w>>5==6?2:w>>4==14?3:w>>3==30?4:w>>6==2?-1:-2}function y(w){var T=this.lastTotal-this.lastNeed,k=function(M,H,P){if((192&H[0])!=128)return M.lastNeed=0,"�";if(M.lastNeed>1&&H.length>1){if((192&H[1])!=128)return M.lastNeed=1,"�";if(M.lastNeed>2&&H.length>2&&(192&H[2])!=128)return M.lastNeed=2,"�"}}(this,w);return k!==void 0?k:this.lastNeed<=w.length?(w.copy(this.lastChar,T,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(w.copy(this.lastChar,T,0,w.length),void(this.lastNeed-=w.length))}function v(w,T){if((w.length-T)%2==0){var k=w.toString("utf16le",T);if(k){var M=k.charCodeAt(k.length-1);if(M>=55296&&M<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1],k.slice(0,-1)}return k}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=w[w.length-1],w.toString("utf16le",T,w.length-1)}function C(w){var T=w&&w.length?this.write(w):"";if(this.lastNeed){var k=this.lastTotal-this.lastNeed;return T+this.lastChar.toString("utf16le",0,k)}return T}function I(w,T){var k=(w.length-T)%3;return k===0?w.toString("base64",T):(this.lastNeed=3-k,this.lastTotal=3,k===1?this.lastChar[0]=w[w.length-1]:(this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1]),w.toString("base64",T,w.length-k))}function N(w){var T=w&&w.length?this.write(w):"";return this.lastNeed?T+this.lastChar.toString("base64",0,3-this.lastNeed):T}function _(w){return w.toString(this.encoding)}function b(w){return w&&w.length?this.write(w):""}l.s=f,f.prototype.write=function(w){if(w.length===0)return"";var T,k;if(this.lastNeed){if((T=this.fillLast(w))===void 0)return"";k=this.lastNeed,this.lastNeed=0}else k=0;return k<w.length?T?T+this.text(w,k):this.text(w,k):T||""},f.prototype.end=function(w){var T=w&&w.length?this.write(w):"";return this.lastNeed?T+"�":T},f.prototype.text=function(w,T){var k=function(H,P,D){var B=P.length-1;if(B<D)return 0;var F=p(P[B]);return F>=0?(F>0&&(H.lastNeed=F-1),F):--B<D||F===-2?0:(F=p(P[B]))>=0?(F>0&&(H.lastNeed=F-2),F):--B<D||F===-2?0:(F=p(P[B]))>=0?(F>0&&(F===2?F=0:H.lastNeed=F-3),F):0}(this,w,T);if(!this.lastNeed)return w.toString("utf8",T);this.lastTotal=k;var M=w.length-(k-this.lastNeed);return w.copy(this.lastChar,0,M),w.toString("utf8",T,M)},f.prototype.fillLast=function(w){if(this.lastNeed<=w.length)return w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,w.length),this.lastNeed-=w.length}},5457:(a,l,s)=>{s.d(l,{vw:()=>f,rq:()=>u,EL:()=>y,NY:()=>p});let c=0;const u=v=>Math.floor(v/25.4*72*20),f=v=>Math.floor(72*v*20),p=()=>++c,y=()=>((v=21)=>{let C="",I=v;for(;I--;)C+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return C})().toLowerCase()},5575:(a,l,s)=>{s.r(l),s.d(l,{convertInchesToTwip:()=>c.vw,convertMillimetersToTwip:()=>c.rq,dateTimeValue:()=>u.sF,decimalNumber:()=>u.vH,eighthPointMeasureValue:()=>u.LV,hexColorValue:()=>u.dg,hpsMeasureValue:()=>u.KR,longHexNumber:()=>u.mA,measurementOrPercentValue:()=>u.aB,percentageValue:()=>u.wp,pointMeasureValue:()=>u.gg,positiveUniversalMeasureValue:()=>u._p,shortHexNumber:()=>u.G0,signedHpsMeasureValue:()=>u.Rg,signedTwipsMeasureValue:()=>u.xb,twipsMeasureValue:()=>u.Jd,uCharHexNumber:()=>u.xD,uniqueId:()=>c.EL,uniqueNumericId:()=>c.NY,universalMeasureValue:()=>u.KC,unsignedDecimalNumber:()=>u.f$});var c=s(5457),u=s(6595)},6595:(a,l,s)=>{s.d(l,{G0:()=>y,Jd:()=>T,KC:()=>C,KR:()=>b,LV:()=>H,Rg:()=>w,_p:()=>I,aB:()=>M,dg:()=>N,f$:()=>u,gg:()=>P,mA:()=>p,sF:()=>D,vH:()=>c,wp:()=>k,xD:()=>v,xb:()=>_});const c=B=>{if(isNaN(B))throw new Error(`Invalid value '${B}' specified. Must be an integer.`);return Math.floor(B)},u=B=>{const F=c(B);if(F<0)throw new Error(`Invalid value '${B}' specified. Must be a positive integer.`);return F},f=(B,F)=>{const Q=2*F;if(B.length!==Q||isNaN(+`0x${B}`))throw new Error(`Invalid hex value '${B}'. Expected ${Q} digit hex value`);return B},p=B=>f(B,4),y=B=>f(B,2),v=B=>f(B,1),C=B=>{const F=B.slice(-2),Q=B.substring(0,B.length-2);return`${Number(Q)}${F}`},I=B=>{const F=C(B);if(parseFloat(F)<0)throw new Error(`Invalid value '${F}' specified. Expected a positive number.`);return F},N=B=>{if(B==="auto")return B;const F=B.charAt(0)==="#"?B.substring(1):B;return f(F,3)},_=B=>typeof B=="string"?C(B):c(B),b=B=>typeof B=="string"?I(B):u(B),w=B=>typeof B=="string"?C(B):c(B),T=B=>typeof B=="string"?I(B):u(B),k=B=>{const F=B.substring(0,B.length-1);return`${Number(F)}%`},M=B=>typeof B=="number"?c(B):B.slice(-1)==="%"?k(B):C(B),H=u,P=u,D=B=>B.toISOString()},4927:(a,l,s)=>{function c(u){try{if(!s.g.localStorage)return!1}catch{return!1}var f=s.g.localStorage[u];return f!=null&&String(f).toLowerCase()==="true"}a.exports=function(u,f){if(c("noDeprecation"))return u;var p=!1;return function(){if(!p){if(c("throwDeprecation"))throw new Error(f);c("traceDeprecation")?console.trace(f):console.warn(f),p=!0}return u.apply(this,arguments)}}},9881:a=>{a.exports={isArray:function(l){return Array.isArray?Array.isArray(l):Object.prototype.toString.call(l)==="[object Array]"}}},7888:(a,l,s)=>{var c=s(1229),u=s(1388),f=s(6501),p=s(4673);a.exports={xml2js:c,xml2json:u,js2xml:f,json2xml:p}},6501:(a,l,s)=>{var c,u,f=s(4740),p=s(9881).isArray;function y(P,D,B){return(!B&&P.spaces?`
`:"")+Array(D+1).join(P.spaces)}function v(P,D,B){if(D.ignoreAttributes)return"";"attributesFn"in D&&(P=D.attributesFn(P,u,c));var F,Q,E,oe,ie=[];for(F in P)P.hasOwnProperty(F)&&P[F]!==null&&P[F]!==void 0&&(oe=D.noQuotesForNativeAttributes&&typeof P[F]!="string"?"":'"',Q=(Q=""+P[F]).replace(/"/g,"&quot;"),E="attributeNameFn"in D?D.attributeNameFn(F,Q,u,c):F,ie.push(D.spaces&&D.indentAttributes?y(D,B+1,!1):" "),ie.push(E+"="+oe+("attributeValueFn"in D?D.attributeValueFn(Q,F,u,c):Q)+oe));return P&&Object.keys(P).length&&D.spaces&&D.indentAttributes&&ie.push(y(D,B,!1)),ie.join("")}function C(P,D,B){return c=P,u="xml",D.ignoreDeclaration?"":"<?xml"+v(P[D.attributesKey],D,B)+"?>"}function I(P,D,B){if(D.ignoreInstruction)return"";var F;for(F in P)if(P.hasOwnProperty(F))break;var Q="instructionNameFn"in D?D.instructionNameFn(F,P[F],u,c):F;if(typeof P[F]=="object")return c=P,u=Q,"<?"+Q+v(P[F][D.attributesKey],D,B)+"?>";var E=P[F]?P[F]:"";return"instructionFn"in D&&(E=D.instructionFn(E,F,u,c)),"<?"+Q+(E?" "+E:"")+"?>"}function N(P,D){return D.ignoreComment?"":"<!--"+("commentFn"in D?D.commentFn(P,u,c):P)+"-->"}function _(P,D){return D.ignoreCdata?"":"<![CDATA["+("cdataFn"in D?D.cdataFn(P,u,c):P.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function b(P,D){return D.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in D?D.doctypeFn(P,u,c):P)+">"}function w(P,D){return D.ignoreText?"":(P=(P=(P=""+P).replace(/&amp;/g,"&")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in D?D.textFn(P,u,c):P)}function T(P,D,B,F){return P.reduce(function(Q,E){var oe=y(D,B,F&&!Q);switch(E.type){case"element":return Q+oe+function(z,be,me){c=z,u=z.name;var _e=[],x="elementNameFn"in be?be.elementNameFn(z.name,z):z.name;_e.push("<"+x),z[be.attributesKey]&&_e.push(v(z[be.attributesKey],be,me));var $=z[be.elementsKey]&&z[be.elementsKey].length||z[be.attributesKey]&&z[be.attributesKey]["xml:space"]==="preserve";return $||($="fullTagEmptyElementFn"in be?be.fullTagEmptyElementFn(z.name,z):be.fullTagEmptyElement),$?(_e.push(">"),z[be.elementsKey]&&z[be.elementsKey].length&&(_e.push(T(z[be.elementsKey],be,me+1)),c=z,u=z.name),_e.push(be.spaces&&function(te,V){var K;if(te.elements&&te.elements.length)for(K=0;K<te.elements.length;++K)switch(te.elements[K][V.typeKey]){case"text":if(V.indentText)return!0;break;case"cdata":if(V.indentCdata)return!0;break;case"instruction":if(V.indentInstruction)return!0;break;default:return!0}return!1}(z,be)?`
`+Array(me+1).join(be.spaces):""),_e.push("</"+x+">")):_e.push("/>"),_e.join("")}(E,D,B);case"comment":return Q+oe+N(E[D.commentKey],D);case"doctype":return Q+oe+b(E[D.doctypeKey],D);case"cdata":return Q+(D.indentCdata?oe:"")+_(E[D.cdataKey],D);case"text":return Q+(D.indentText?oe:"")+w(E[D.textKey],D);case"instruction":var ie={};return ie[E[D.nameKey]]=E[D.attributesKey]?E:E[D.instructionKey],Q+(D.indentInstruction?oe:"")+I(ie,D,B)}},"")}function k(P,D,B){var F;for(F in P)if(P.hasOwnProperty(F))switch(F){case D.parentKey:case D.attributesKey:break;case D.textKey:if(D.indentText||B)return!0;break;case D.cdataKey:if(D.indentCdata||B)return!0;break;case D.instructionKey:if(D.indentInstruction||B)return!0;break;case D.doctypeKey:case D.commentKey:default:return!0}return!1}function M(P,D,B,F,Q){c=P,u=D;var E="elementNameFn"in B?B.elementNameFn(D,P):D;if(P==null||P==="")return"fullTagEmptyElementFn"in B&&B.fullTagEmptyElementFn(D,P)||B.fullTagEmptyElement?"<"+E+"></"+E+">":"<"+E+"/>";var oe=[];if(D){if(oe.push("<"+E),typeof P!="object")return oe.push(">"+w(P,B)+"</"+E+">"),oe.join("");P[B.attributesKey]&&oe.push(v(P[B.attributesKey],B,F));var ie=k(P,B,!0)||P[B.attributesKey]&&P[B.attributesKey]["xml:space"]==="preserve";if(ie||(ie="fullTagEmptyElementFn"in B?B.fullTagEmptyElementFn(D,P):B.fullTagEmptyElement),!ie)return oe.push("/>"),oe.join("");oe.push(">")}return oe.push(H(P,B,F+1,!1)),c=P,u=D,D&&oe.push((Q?y(B,F,!1):"")+"</"+E+">"),oe.join("")}function H(P,D,B,F){var Q,E,oe,ie=[];for(E in P)if(P.hasOwnProperty(E))for(oe=p(P[E])?P[E]:[P[E]],Q=0;Q<oe.length;++Q){switch(E){case D.declarationKey:ie.push(C(oe[Q],D,B));break;case D.instructionKey:ie.push((D.indentInstruction?y(D,B,F):"")+I(oe[Q],D,B));break;case D.attributesKey:case D.parentKey:break;case D.textKey:ie.push((D.indentText?y(D,B,F):"")+w(oe[Q],D));break;case D.cdataKey:ie.push((D.indentCdata?y(D,B,F):"")+_(oe[Q],D));break;case D.doctypeKey:ie.push(y(D,B,F)+b(oe[Q],D));break;case D.commentKey:ie.push(y(D,B,F)+N(oe[Q],D));break;default:ie.push(y(D,B,F)+M(oe[Q],E,D,B,k(oe[Q],D)))}F=F&&!ie.length}return ie.join("")}a.exports=function(P,D){D=function(F){var Q=f.copyOptions(F);return f.ensureFlagExists("ignoreDeclaration",Q),f.ensureFlagExists("ignoreInstruction",Q),f.ensureFlagExists("ignoreAttributes",Q),f.ensureFlagExists("ignoreText",Q),f.ensureFlagExists("ignoreComment",Q),f.ensureFlagExists("ignoreCdata",Q),f.ensureFlagExists("ignoreDoctype",Q),f.ensureFlagExists("compact",Q),f.ensureFlagExists("indentText",Q),f.ensureFlagExists("indentCdata",Q),f.ensureFlagExists("indentAttributes",Q),f.ensureFlagExists("indentInstruction",Q),f.ensureFlagExists("fullTagEmptyElement",Q),f.ensureFlagExists("noQuotesForNativeAttributes",Q),f.ensureSpacesExists(Q),typeof Q.spaces=="number"&&(Q.spaces=Array(Q.spaces+1).join(" ")),f.ensureKeyExists("declaration",Q),f.ensureKeyExists("instruction",Q),f.ensureKeyExists("attributes",Q),f.ensureKeyExists("text",Q),f.ensureKeyExists("comment",Q),f.ensureKeyExists("cdata",Q),f.ensureKeyExists("doctype",Q),f.ensureKeyExists("type",Q),f.ensureKeyExists("name",Q),f.ensureKeyExists("elements",Q),f.checkFnExists("doctype",Q),f.checkFnExists("instruction",Q),f.checkFnExists("cdata",Q),f.checkFnExists("comment",Q),f.checkFnExists("text",Q),f.checkFnExists("instructionName",Q),f.checkFnExists("elementName",Q),f.checkFnExists("attributeName",Q),f.checkFnExists("attributeValue",Q),f.checkFnExists("attributes",Q),f.checkFnExists("fullTagEmptyElement",Q),Q}(D);var B=[];return c=P,u="_root_",D.compact?B.push(H(P,D,0,!0)):(P[D.declarationKey]&&B.push(C(P[D.declarationKey],D,0)),P[D.elementsKey]&&P[D.elementsKey].length&&B.push(T(P[D.elementsKey],D,0,!B.length))),B.join("")}},4673:(a,l,s)=>{var c=s(6501);a.exports=function(u,f){u instanceof Buffer&&(u=u.toString());var p=null;if(typeof u=="string")try{p=JSON.parse(u)}catch{throw new Error("The JSON structure is invalid")}else p=u;return c(p,f)}},4740:(a,l,s)=>{var c=s(9881).isArray;a.exports={copyOptions:function(u){var f,p={};for(f in u)u.hasOwnProperty(f)&&(p[f]=u[f]);return p},ensureFlagExists:function(u,f){u in f&&typeof f[u]=="boolean"||(f[u]=!1)},ensureSpacesExists:function(u){(!("spaces"in u)||typeof u.spaces!="number"&&typeof u.spaces!="string")&&(u.spaces=0)},ensureAlwaysArrayExists:function(u){"alwaysArray"in u&&(typeof u.alwaysArray=="boolean"||c(u.alwaysArray))||(u.alwaysArray=!1)},ensureKeyExists:function(u,f){u+"Key"in f&&typeof f[u+"Key"]=="string"||(f[u+"Key"]=f.compact?"_"+u:u)},checkFnExists:function(u,f){return u+"Fn"in f}}},1229:(a,l,s)=>{var c,u,f=s(6099),p=s(4740),y=s(9881).isArray;function v(P){var D=Number(P);if(!isNaN(D))return D;var B=P.toLowerCase();return B==="true"||B!=="false"&&P}function C(P,D){var B;if(c.compact){if(!u[c[P+"Key"]]&&(y(c.alwaysArray)?c.alwaysArray.indexOf(c[P+"Key"])!==-1:c.alwaysArray)&&(u[c[P+"Key"]]=[]),u[c[P+"Key"]]&&!y(u[c[P+"Key"]])&&(u[c[P+"Key"]]=[u[c[P+"Key"]]]),P+"Fn"in c&&typeof D=="string"&&(D=c[P+"Fn"](D,u)),P==="instruction"&&("instructionFn"in c||"instructionNameFn"in c)){for(B in D)if(D.hasOwnProperty(B))if("instructionFn"in c)D[B]=c.instructionFn(D[B],B,u);else{var F=D[B];delete D[B],D[c.instructionNameFn(B,F,u)]=F}}y(u[c[P+"Key"]])?u[c[P+"Key"]].push(D):u[c[P+"Key"]]=D}else{u[c.elementsKey]||(u[c.elementsKey]=[]);var Q={};if(Q[c.typeKey]=P,P==="instruction"){for(B in D)if(D.hasOwnProperty(B))break;Q[c.nameKey]="instructionNameFn"in c?c.instructionNameFn(B,D,u):B,c.instructionHasAttributes?(Q[c.attributesKey]=D[B][c.attributesKey],"instructionFn"in c&&(Q[c.attributesKey]=c.instructionFn(Q[c.attributesKey],B,u))):("instructionFn"in c&&(D[B]=c.instructionFn(D[B],B,u)),Q[c.instructionKey]=D[B])}else P+"Fn"in c&&(D=c[P+"Fn"](D,u)),Q[c[P+"Key"]]=D;c.addParent&&(Q[c.parentKey]=u),u[c.elementsKey].push(Q)}}function I(P){var D;if("attributesFn"in c&&P&&(P=c.attributesFn(P,u)),(c.trim||"attributeValueFn"in c||"attributeNameFn"in c||c.nativeTypeAttributes)&&P){for(D in P)if(P.hasOwnProperty(D)&&(c.trim&&(P[D]=P[D].trim()),c.nativeTypeAttributes&&(P[D]=v(P[D])),"attributeValueFn"in c&&(P[D]=c.attributeValueFn(P[D],D,u)),"attributeNameFn"in c)){var B=P[D];delete P[D],P[c.attributeNameFn(D,P[D],u)]=B}}return P}function N(P){var D={};if(P.body&&(P.name.toLowerCase()==="xml"||c.instructionHasAttributes)){for(var B,F=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g;(B=F.exec(P.body))!==null;)D[B[1]]=B[2]||B[3]||B[4];D=I(D)}if(P.name.toLowerCase()==="xml"){if(c.ignoreDeclaration)return;u[c.declarationKey]={},Object.keys(D).length&&(u[c.declarationKey][c.attributesKey]=D),c.addParent&&(u[c.declarationKey][c.parentKey]=u)}else{if(c.ignoreInstruction)return;c.trim&&(P.body=P.body.trim());var Q={};c.instructionHasAttributes&&Object.keys(D).length?(Q[P.name]={},Q[P.name][c.attributesKey]=D):Q[P.name]=P.body,C("instruction",Q)}}function _(P,D){var B;if(typeof P=="object"&&(D=P.attributes,P=P.name),D=I(D),"elementNameFn"in c&&(P=c.elementNameFn(P,u)),c.compact){var F;if(B={},!c.ignoreAttributes&&D&&Object.keys(D).length)for(F in B[c.attributesKey]={},D)D.hasOwnProperty(F)&&(B[c.attributesKey][F]=D[F]);!(P in u)&&(y(c.alwaysArray)?c.alwaysArray.indexOf(P)!==-1:c.alwaysArray)&&(u[P]=[]),u[P]&&!y(u[P])&&(u[P]=[u[P]]),y(u[P])?u[P].push(B):u[P]=B}else u[c.elementsKey]||(u[c.elementsKey]=[]),(B={})[c.typeKey]="element",B[c.nameKey]=P,!c.ignoreAttributes&&D&&Object.keys(D).length&&(B[c.attributesKey]=D),c.alwaysChildren&&(B[c.elementsKey]=[]),u[c.elementsKey].push(B);B[c.parentKey]=u,u=B}function b(P){c.ignoreText||(P.trim()||c.captureSpacesBetweenElements)&&(c.trim&&(P=P.trim()),c.nativeType&&(P=v(P)),c.sanitize&&(P=P.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),C("text",P))}function w(P){c.ignoreComment||(c.trim&&(P=P.trim()),C("comment",P))}function T(P){var D=u[c.parentKey];c.addParent||delete u[c.parentKey],u=D}function k(P){c.ignoreCdata||(c.trim&&(P=P.trim()),C("cdata",P))}function M(P){c.ignoreDoctype||(P=P.replace(/^ /,""),c.trim&&(P=P.trim()),C("doctype",P))}function H(P){P.note=P}a.exports=function(P,D){var B=f.parser(!0,{}),F={};if(u=F,c=function(E){return c=p.copyOptions(E),p.ensureFlagExists("ignoreDeclaration",c),p.ensureFlagExists("ignoreInstruction",c),p.ensureFlagExists("ignoreAttributes",c),p.ensureFlagExists("ignoreText",c),p.ensureFlagExists("ignoreComment",c),p.ensureFlagExists("ignoreCdata",c),p.ensureFlagExists("ignoreDoctype",c),p.ensureFlagExists("compact",c),p.ensureFlagExists("alwaysChildren",c),p.ensureFlagExists("addParent",c),p.ensureFlagExists("trim",c),p.ensureFlagExists("nativeType",c),p.ensureFlagExists("nativeTypeAttributes",c),p.ensureFlagExists("sanitize",c),p.ensureFlagExists("instructionHasAttributes",c),p.ensureFlagExists("captureSpacesBetweenElements",c),p.ensureAlwaysArrayExists(c),p.ensureKeyExists("declaration",c),p.ensureKeyExists("instruction",c),p.ensureKeyExists("attributes",c),p.ensureKeyExists("text",c),p.ensureKeyExists("comment",c),p.ensureKeyExists("cdata",c),p.ensureKeyExists("doctype",c),p.ensureKeyExists("type",c),p.ensureKeyExists("name",c),p.ensureKeyExists("elements",c),p.ensureKeyExists("parent",c),p.checkFnExists("doctype",c),p.checkFnExists("instruction",c),p.checkFnExists("cdata",c),p.checkFnExists("comment",c),p.checkFnExists("text",c),p.checkFnExists("instructionName",c),p.checkFnExists("elementName",c),p.checkFnExists("attributeName",c),p.checkFnExists("attributeValue",c),p.checkFnExists("attributes",c),c}(D),B.opt={strictEntities:!0},B.onopentag=_,B.ontext=b,B.oncomment=w,B.onclosetag=T,B.onerror=H,B.oncdata=k,B.ondoctype=M,B.onprocessinginstruction=N,B.write(P).close(),F[c.elementsKey]){var Q=F[c.elementsKey];delete F[c.elementsKey],F[c.elementsKey]=Q,delete F.text}return F}},1388:(a,l,s)=>{var c=s(4740),u=s(1229);a.exports=function(f,p){var y,v,C;return y=function(I){var N=c.copyOptions(I);return c.ensureSpacesExists(N),N}(p),v=u(f,y),C="compact"in y&&y.compact?"_parent":"parent",("addParent"in y&&y.addParent?JSON.stringify(v,function(I,N){return I===C?"_":N},y.spaces):JSON.stringify(v,null,y.spaces)).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}},255:a=>{var l={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};a.exports=function(s){return s&&s.replace?s.replace(/([&"<>'])/g,function(c,u){return l[u]}):s}},3479:(a,l,s)=>{var c=s(4155),u=s(255),f=s(2830).Stream;function p(v,C,I){I=I||0;var N,_,b=(N=C,new Array(I||0).join(N||"")),w=v;if(typeof v=="object"&&(w=v[_=Object.keys(v)[0]])&&w._elem)return w._elem.name=_,w._elem.icount=I,w._elem.indent=C,w._elem.indents=b,w._elem.interrupt=w,w._elem;var T,k=[],M=[];function H(P){Object.keys(P).forEach(function(D){k.push(function(B,F){return B+'="'+u(F)+'"'}(D,P[D]))})}switch(typeof w){case"object":if(w===null)break;w._attr&&H(w._attr),w._cdata&&M.push(("<![CDATA["+w._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),w.forEach&&(T=!1,M.push(""),w.forEach(function(P){typeof P=="object"?Object.keys(P)[0]=="_attr"?H(P._attr):M.push(p(P,C,I+1)):(M.pop(),T=!0,M.push(u(P)))}),T||M.push(""));break;default:M.push(u(w))}return{name:_,interrupt:!1,attributes:k,content:M,icount:I,indents:b,indent:C}}function y(v,C,I){if(typeof C!="object")return v(!1,C);var N=C.interrupt?1:C.content.length;function _(){for(;C.content.length;){var w=C.content.shift();if(w!==void 0){if(b(w))return;y(v,w)}}v(!1,(N>1?C.indents:"")+(C.name?"</"+C.name+">":"")+(C.indent&&!I?`
`:"")),I&&I()}function b(w){return!!w.interrupt&&(w.interrupt.append=v,w.interrupt.end=_,w.interrupt=!1,v(!0),!0)}if(v(!1,C.indents+(C.name?"<"+C.name:"")+(C.attributes.length?" "+C.attributes.join(" "):"")+(N?C.name?">":"":C.name?"/>":"")+(C.indent&&N>1?`
`:"")),!N)return v(!1,C.indent?`
`:"");b(C)||_()}a.exports=function(v,C){typeof C!="object"&&(C={indent:C});var I,N,_=C.stream?new f:null,b="",w=!1,T=C.indent?C.indent===!0?"    ":C.indent:"",k=!0;function M(B){k?c.nextTick(B):B()}function H(B,F){if(F!==void 0&&(b+=F),B&&!w&&(_=_||new f,w=!0),B&&w){var Q=b;M(function(){_.emit("data",Q)}),b=""}}function P(B,F){y(H,p(B,T,T?1:0),F)}function D(){if(_){var B=b;M(function(){_.emit("data",B),_.emit("end"),_.readable=!1,_.emit("close")})}}return M(function(){k=!1}),C.declaration&&(N={version:"1.0",encoding:(I=C.declaration).encoding||"UTF-8"},I.standalone&&(N.standalone=I.standalone),P({"?xml":{_attr:N}}),b=b.replace("/>","?>")),v&&v.forEach?v.forEach(function(B,F){var Q;F+1===v.length&&(Q=D),P(B,Q)}):P(v,D),_?(_.readable=!0,_):b},a.exports.element=a.exports.Element=function(){var v=Array.prototype.slice.call(arguments),C={_elem:p(v),push:function(I){if(!this.append)throw new Error("not assigned to a parent!");var N=this,_=this._elem.indent;y(this.append,p(I,_,this._elem.icount+(_?1:0)),function(){N.append(!0)})},close:function(I){I!==void 0&&this.push(I),this.end&&this.end()}};return C}}},i={};function n(a){var l=i[a];if(l!==void 0)return l.exports;var s=i[a]={exports:{}};return o[a].call(s.exports,s,s.exports,n),s.exports}n.d=(a,l)=>{for(var s in l)n.o(l,s)&&!n.o(a,s)&&Object.defineProperty(a,s,{enumerable:!0,get:l[s]})},n.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),n.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),n.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var r={};return(()=>{n.r(r),n.d(r,{AbstractNumbering:()=>Wc,Alignment:()=>q,AlignmentAttributes:()=>K,AlignmentType:()=>w,AnnotationReference:()=>xw,Attributes:()=>p,BaseEmphasisMark:()=>A,BaseXmlComponent:()=>a,Body:()=>Zf,Bookmark:()=>Rf,BookmarkEnd:()=>Ff,BookmarkStart:()=>Of,Border:()=>se,BorderElement:()=>G,BorderStyle:()=>T,BuilderElement:()=>V,CarriageReturn:()=>Rw,Column:()=>Zw,ColumnBreak:()=>Bw,Columns:()=>Bf,Comment:()=>Sf,CommentRangeEnd:()=>vw,CommentRangeStart:()=>gw,CommentReference:()=>yw,Comments:()=>Nf,ConcreteHyperlink:()=>ci,ConcreteNumbering:()=>Kc,ContinuationSeparator:()=>Dw,DayLong:()=>Cw,DayShort:()=>Ew,DeletedTextRun:()=>a_,DocGridAttributes:()=>Uf,Document:()=>Uh,DocumentAttributes:()=>li,DocumentBackground:()=>eh,DocumentBackgroundAttributes:()=>Xf,DocumentDefaults:()=>Mh,DocumentGrid:()=>$f,DocumentGridType:()=>gc,DotEmphasisMark:()=>j,Drawing:()=>_f,DropCapType:()=>Pc,EMPTY_OBJECT:()=>l,EmphasisMark:()=>R,EmphasisMarkType:()=>F,EmptyElement:()=>me,EndnoteReference:()=>Iw,ExternalHyperlink:()=>Tc,File:()=>Uh,FootNoteReferenceRunAttributes:()=>$h,FootNotes:()=>Th,Footer:()=>t_,FooterWrapper:()=>xh,FootnoteReference:()=>jh,FootnoteReferenceElement:()=>Tw,FootnoteReferenceRun:()=>o_,FrameAnchorType:()=>Dc,FrameProperties:()=>nh,FramePropertiesAttributes:()=>oh,FrameWrap:()=>kc,GridSpan:()=>yh,Header:()=>e_,HeaderFooterReference:()=>ws,HeaderFooterReferenceType:()=>qo,HeaderFooterType:()=>er,HeaderWrapper:()=>Ih,HeadingLevel:()=>dc,HeightRule:()=>Hc,HorizontalPosition:()=>ff,HorizontalPositionAlign:()=>M,HorizontalPositionRelativeFrom:()=>ms,HpsMeasureElement:()=>be,HyperlinkType:()=>pc,IgnoreIfEmptyXmlComponent:()=>c,ImageRun:()=>lw,ImportedRootElementAttributes:()=>N,ImportedXmlComponent:()=>I,Indent:()=>U,InitializableXmlComponent:()=>b,InsertedTextRun:()=>n_,InternalHyperlink:()=>zw,LastRenderedPageBreak:()=>Fw,LeaderType:()=>fc,Level:()=>Ph,LevelBase:()=>Gc,LevelForOverride:()=>yA,LevelFormat:()=>co,LevelOverride:()=>Dh,LevelSuffix:()=>Vc,LineNumberRestartFormat:()=>vc,LineNumberType:()=>jf,LineRuleType:()=>ai,Math:()=>nE,MathAccentCharacter:()=>sh,MathAngledBrackets:()=>DE,MathBase:()=>no,MathCurlyBrackets:()=>PE,MathDegree:()=>fh,MathDenominator:()=>ih,MathFraction:()=>sE,MathFunction:()=>_E,MathFunctionName:()=>ph,MathFunctionProperties:()=>mh,MathIntegral:()=>pE,MathLimitLocation:()=>ah,MathNAryProperties:()=>Rc,MathNumerator:()=>rh,MathPreSubSuperScript:()=>yE,MathPreSubSuperScriptProperties:()=>dh,MathRadical:()=>AE,MathRadicalProperties:()=>hh,MathRoundBrackets:()=>TE,MathRun:()=>rE,MathSquareBrackets:()=>IE,MathSubScript:()=>gE,MathSubScriptElement:()=>ui,MathSubScriptProperties:()=>lh,MathSubSuperScript:()=>vE,MathSubSuperScriptProperties:()=>uh,MathSum:()=>hE,MathSuperScript:()=>mE,MathSuperScriptElement:()=>di,MathSuperScriptProperties:()=>ch,Media:()=>Qc,MonthLong:()=>Sw,MonthShort:()=>Aw,NextAttributeComponent:()=>f,NoBreakHyphen:()=>bw,NumberFormat:()=>P,NumberProperties:()=>Nc,NumberValueElement:()=>x,Numbering:()=>kh,OnOffElement:()=>z,OutlineLevel:()=>Lf,OverlapType:()=>jc,Packer:()=>Vh,PageBorderDisplay:()=>yc,PageBorderOffsetFrom:()=>bc,PageBorderZOrder:()=>wc,PageBorders:()=>Hf,PageBreak:()=>Mw,PageBreakBefore:()=>Tf,PageMargin:()=>Vf,PageNumber:()=>oe,PageNumberElement:()=>kw,PageNumberSeparator:()=>Ec,PageNumberType:()=>Qf,PageNumberTypeAttributes:()=>zf,PageOrientation:()=>tr,PageReference:()=>Kw,PageSize:()=>Gf,PageTextDirection:()=>Wf,PageTextDirectionType:()=>Ac,Paragraph:()=>on,ParagraphProperties:()=>Dn,ParagraphPropertiesDefaults:()=>Fh,PatchType:()=>cr,PositionalTab:()=>Lw,PositionalTabAlignment:()=>cc,PositionalTabLeader:()=>uc,PositionalTabRelativeTo:()=>lc,PrettifyType:()=>Zc,RelativeHorizontalPosition:()=>Uc,RelativeVerticalPosition:()=>$c,Run:()=>Kt,RunFonts:()=>Je,RunProperties:()=>vo,RunPropertiesChange:()=>af,RunPropertiesDefaults:()=>Lh,SectionProperties:()=>Yf,SectionType:()=>_c,SectionTypeAttributes:()=>Kf,Separator:()=>Pw,SequentialIdentifier:()=>dw,Shading:()=>Pe,ShadingType:()=>B,SimpleField:()=>Cf,SimpleMailMergeField:()=>hw,SimplePos:()=>lf,SoftHyphen:()=>ww,SpaceType:()=>D,Spacing:()=>If,StringContainer:()=>te,StringEnumValueElement:()=>$,StringValueElement:()=>_e,Style:()=>or,StyleForCharacter:()=>sr,StyleForParagraph:()=>rr,StyleLevel:()=>XA,Styles:()=>Ss,SymbolRun:()=>w0,TDirection:()=>bh,Tab:()=>Ow,TabAttributes:()=>Df,TabStop:()=>Pf,TabStopItem:()=>kf,TabStopPosition:()=>hc,TabStopType:()=>Xi,Table:()=>UE,TableAnchorType:()=>Bc,TableBorders:()=>Mc,TableCell:()=>Lc,TableCellBorders:()=>vh,TableFloatProperties:()=>wh,TableLayout:()=>Eh,TableLayoutType:()=>qc,TableOfContents:()=>ZA,TableProperties:()=>Ah,TableRow:()=>$E,TableRowHeight:()=>Ch,TableRowHeightAttributes:()=>_h,TableRowProperties:()=>Sh,TableWidthElement:()=>nn,TextDirection:()=>Oc,TextEffect:()=>E,TextRun:()=>Zi,TextWrappingSide:()=>vs,TextWrappingType:()=>Pn,ThematicBreak:()=>ae,Type:()=>Jf,Underline:()=>oo,UnderlineType:()=>Q,VerticalAlign:()=>mc,VerticalAlignAttributes:()=>Mf,VerticalAlignElement:()=>Ic,VerticalMerge:()=>Fc,VerticalMergeType:()=>ir,VerticalPosition:()=>hf,VerticalPositionAlign:()=>H,VerticalPositionRelativeFrom:()=>gs,WORKAROUND2:()=>WA,WORKAROUND3:()=>_,WORKAROUND4:()=>bE,WidthType:()=>fi,WrapNone:()=>Cc,WrapSquare:()=>gf,WrapTight:()=>vf,WrapTopAndBottom:()=>yf,XmlAttributeComponent:()=>u,XmlComponent:()=>s,YearLong:()=>Nw,YearShort:()=>_w,convertInchesToTwip:()=>Ct.convertInchesToTwip,convertMillimetersToTwip:()=>Ct.convertMillimetersToTwip,convertToXmlComponent:()=>v,dateTimeValue:()=>Ct.dateTimeValue,decimalNumber:()=>Ct.decimalNumber,eighthPointMeasureValue:()=>Ct.eighthPointMeasureValue,hexColorValue:()=>Ct.hexColorValue,hpsMeasureValue:()=>Ct.hpsMeasureValue,longHexNumber:()=>Ct.longHexNumber,measurementOrPercentValue:()=>Ct.measurementOrPercentValue,patchDocument:()=>E_,percentageValue:()=>Ct.percentageValue,pointMeasureValue:()=>Ct.pointMeasureValue,positiveUniversalMeasureValue:()=>Ct.positiveUniversalMeasureValue,sectionMarginDefaults:()=>tn,sectionPageSizeDefaults:()=>Es,shortHexNumber:()=>Ct.shortHexNumber,signedHpsMeasureValue:()=>Ct.signedHpsMeasureValue,signedTwipsMeasureValue:()=>Ct.signedTwipsMeasureValue,twipsMeasureValue:()=>Ct.twipsMeasureValue,uCharHexNumber:()=>Ct.uCharHexNumber,uniqueId:()=>Ct.uniqueId,uniqueNumericId:()=>Ct.uniqueNumericId,universalMeasureValue:()=>Ct.universalMeasureValue,unsignedDecimalNumber:()=>Ct.unsignedDecimalNumber});class a{constructor(d){this.rootKey=d}}const l=Object.seal({});class s extends a{constructor(d){super(d),this.root=new Array}prepForXml(d){var O;d.stack.push(this);const X=this.root.map(fe=>fe instanceof a?fe.prepForXml(d):fe).filter(fe=>fe!==void 0);return d.stack.pop(),{[this.rootKey]:X.length?X.length===1&&(!((O=X[0])===null||O===void 0)&&O._attr)?X[0]:X:l}}addChildElement(d){return this.root.push(d),this}}class c extends s{prepForXml(d){const O=super.prepForXml(d);if(O&&(typeof O[this.rootKey]!="object"||Object.keys(O[this.rootKey]).length))return O}}class u extends a{constructor(d){super("_attr"),this.root=d}prepForXml(d){const O={};return Object.keys(this.root).forEach(X=>{const fe=this.root[X];if(fe!==void 0){const ve=this.xmlKeys&&this.xmlKeys[X]||X;O[ve]=fe}}),{_attr:O}}}class f extends a{constructor(d){super("_attr"),this.root=d}prepForXml(d){return{_attr:Object.values(this.root).filter(({value:O})=>O!==void 0).reduce((O,{key:X,value:fe})=>Object.assign(Object.assign({},O),{[X]:fe}),{})}}}class p extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"}}}var y=n(7888);const v=h=>{switch(h.type){case void 0:case"element":const d=new I(h.name,h.attributes),O=h.elements||[];for(const X of O){const fe=v(X);fe!==void 0&&d.push(fe)}return d;case"text":return h.text;default:return}};class C extends u{}class I extends s{static fromXmlString(d){const O=(0,y.xml2js)(d,{compact:!1});return v(O)}constructor(d,O){super(d),O&&this.root.push(new C(O))}push(d){this.root.push(d)}}class N extends s{constructor(d){super(""),this._attr=d}prepForXml(d){return{_attr:this._attr}}}const _="";class b extends s{constructor(d,O){super(d),O&&(this.root=O.root)}}var w,T,k,M,H,P,D,B,F,Q,E,oe,ie=n(6595);class z extends s{constructor(d,O=!0){super(d),O!==!0&&this.root.push(new p({val:O}))}}class be extends s{constructor(d,O){super(d),this.root.push(new p({val:(0,ie.KR)(O)}))}}class me extends s{}class _e extends s{constructor(d,O){super(d),this.root.push(new p({val:O}))}}class x extends s{constructor(d,O){super(d),this.root.push(new p({val:O}))}}class $ extends s{constructor(d,O){super(d),this.root.push(new p({val:O}))}}class te extends s{constructor(d,O){super(d),this.root.push(O)}}class V extends s{constructor(d){super(d.name),d.attributes&&this.root.push(new f(d.attributes))}}(function(h){h.START="start",h.CENTER="center",h.END="end",h.BOTH="both",h.MEDIUM_KASHIDA="mediumKashida",h.DISTRIBUTE="distribute",h.NUM_TAB="numTab",h.HIGH_KASHIDA="highKashida",h.LOW_KASHIDA="lowKashida",h.THAI_DISTRIBUTE="thaiDistribute",h.LEFT="left",h.RIGHT="right",h.JUSTIFIED="both"})(w||(w={}));class K extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class q extends s{constructor(d){super("w:jc"),this.root.push(new K({val:d}))}}class G extends s{constructor(d,{color:O,size:X,space:fe,style:ve}){super(d),this.root.push(new ee({style:ve,color:O===void 0?void 0:(0,ie.dg)(O),size:X===void 0?void 0:(0,ie.LV)(X),space:fe===void 0?void 0:(0,ie.gg)(fe)}))}}class ee extends u{constructor(){super(...arguments),this.xmlKeys={style:"w:val",color:"w:color",size:"w:sz",space:"w:space"}}}(function(h){h.SINGLE="single",h.DASH_DOT_STROKED="dashDotStroked",h.DASHED="dashed",h.DASH_SMALL_GAP="dashSmallGap",h.DOT_DASH="dotDash",h.DOT_DOT_DASH="dotDotDash",h.DOTTED="dotted",h.DOUBLE="double",h.DOUBLE_WAVE="doubleWave",h.INSET="inset",h.NIL="nil",h.NONE="none",h.OUTSET="outset",h.THICK="thick",h.THICK_THIN_LARGE_GAP="thickThinLargeGap",h.THICK_THIN_MEDIUM_GAP="thickThinMediumGap",h.THICK_THIN_SMALL_GAP="thickThinSmallGap",h.THIN_THICK_LARGE_GAP="thinThickLargeGap",h.THIN_THICK_MEDIUM_GAP="thinThickMediumGap",h.THIN_THICK_SMALL_GAP="thinThickSmallGap",h.THIN_THICK_THIN_LARGE_GAP="thinThickThinLargeGap",h.THIN_THICK_THIN_MEDIUM_GAP="thinThickThinMediumGap",h.THIN_THICK_THIN_SMALL_GAP="thinThickThinSmallGap",h.THREE_D_EMBOSS="threeDEmboss",h.THREE_D_ENGRAVE="threeDEngrave",h.TRIPLE="triple",h.WAVE="wave"})(T||(T={}));class se extends c{constructor(d){super("w:pBdr"),d.top&&this.root.push(new G("w:top",d.top)),d.bottom&&this.root.push(new G("w:bottom",d.bottom)),d.left&&this.root.push(new G("w:left",d.left)),d.right&&this.root.push(new G("w:right",d.right))}}class ae extends s{constructor(){super("w:pBdr");const d=new G("w:bottom",{color:"auto",space:1,style:T.SINGLE,size:6});this.root.push(d)}}class U extends s{constructor({start:d,end:O,left:X,right:fe,hanging:ve,firstLine:ke}){super("w:ind"),this.root.push(new f({start:{key:"w:start",value:d===void 0?void 0:(0,ie.xb)(d)},end:{key:"w:end",value:O===void 0?void 0:(0,ie.xb)(O)},left:{key:"w:left",value:X===void 0?void 0:(0,ie.xb)(X)},right:{key:"w:right",value:fe===void 0?void 0:(0,ie.xb)(fe)},hanging:{key:"w:hanging",value:ve===void 0?void 0:(0,ie.Jd)(ve)},firstLine:{key:"w:firstLine",value:ke===void 0?void 0:(0,ie.Jd)(ke)}}))}}class m extends s{constructor(){super("w:br")}}(function(h){h.BEGIN="begin",h.END="end",h.SEPARATE="separate"})(k||(k={}));class S extends u{constructor(){super(...arguments),this.xmlKeys={type:"w:fldCharType",dirty:"w:dirty"}}}class L extends s{constructor(d){super("w:fldChar"),this.root.push(new S({type:k.BEGIN,dirty:d}))}}class Y extends s{constructor(d){super("w:fldChar"),this.root.push(new S({type:k.SEPARATE,dirty:d}))}}class le extends s{constructor(d){super("w:fldChar"),this.root.push(new S({type:k.END,dirty:d}))}}(function(h){h.CENTER="center",h.INSIDE="inside",h.LEFT="left",h.OUTSIDE="outside",h.RIGHT="right"})(M||(M={})),function(h){h.BOTTOM="bottom",h.CENTER="center",h.INSIDE="inside",h.OUTSIDE="outside",h.TOP="top"}(H||(H={})),function(h){h.DECIMAL="decimal",h.UPPER_ROMAN="upperRoman",h.LOWER_ROMAN="lowerRoman",h.UPPER_LETTER="upperLetter",h.LOWER_LETTER="lowerLetter",h.ORDINAL="ordinal",h.CARDINAL_TEXT="cardinalText",h.ORDINAL_TEXT="ordinalText",h.HEX="hex",h.CHICAGO="chicago",h.IDEOGRAPH_DIGITAL="ideographDigital",h.JAPANESE_COUNTING="japaneseCounting",h.AIUEO="aiueo",h.IROHA="iroha",h.DECIMAL_FULL_WIDTH="decimalFullWidth",h.DECIMAL_HALF_WIDTH="decimalHalfWidth",h.JAPANESE_LEGAL="japaneseLegal",h.JAPANESE_DIGITAL_TEN_THOUSAND="japaneseDigitalTenThousand",h.DECIMAL_ENCLOSED_CIRCLE="decimalEnclosedCircle",h.DECIMAL_FULL_WIDTH_2="decimalFullWidth2",h.AIUEO_FULL_WIDTH="aiueoFullWidth",h.IROHA_FULL_WIDTH="irohaFullWidth",h.DECIMAL_ZERO="decimalZero",h.BULLET="bullet",h.GANADA="ganada",h.CHOSUNG="chosung",h.DECIMAL_ENCLOSED_FULL_STOP="decimalEnclosedFullstop",h.DECIMAL_ENCLOSED_PAREN="decimalEnclosedParen",h.DECIMAL_ENCLOSED_CIRCLE_CHINESE="decimalEnclosedCircleChinese",h.IDEOGRAPH_ENCLOSED_CIRCLE="ideographEnclosedCircle",h.IDEOGRAPH_TRADITIONAL="ideographTraditional",h.IDEOGRAPH_ZODIAC="ideographZodiac",h.IDEOGRAPH_ZODIAC_TRADITIONAL="ideographZodiacTraditional",h.TAIWANESE_COUNTING="taiwaneseCounting",h.IDEOGRAPH_LEGAL_TRADITIONAL="ideographLegalTraditional",h.TAIWANESE_COUNTING_THOUSAND="taiwaneseCountingThousand",h.TAIWANESE_DIGITAL="taiwaneseDigital",h.CHINESE_COUNTING="chineseCounting",h.CHINESE_LEGAL_SIMPLIFIED="chineseLegalSimplified",h.CHINESE_COUNTING_TEN_THOUSAND="chineseCountingThousand",h.KOREAN_DIGITAL="koreanDigital",h.KOREAN_COUNTING="koreanCounting",h.KOREAN_LEGAL="koreanLegal",h.KOREAN_DIGITAL_2="koreanDigital2",h.VIETNAMESE_COUNTING="vietnameseCounting",h.RUSSIAN_LOWER="russianLower",h.RUSSIAN_UPPER="russianUpper",h.NONE="none",h.NUMBER_IN_DASH="numberInDash",h.HEBREW_1="hebrew1",h.HEBREW_2="hebrew2",h.ARABIC_ALPHA="arabicAlpha",h.ARABIC_ABJAD="arabicAbjad",h.HINDI_VOWELS="hindiVowels",h.HINDI_CONSONANTS="hindiConsonants",h.HINDI_NUMBERS="hindiNumbers",h.HINDI_COUNTING="hindiCounting",h.THAI_LETTERS="thaiLetters",h.THAI_NUMBERS="thaiNumbers",h.THAI_COUNTING="thaiCounting",h.BAHT_TEXT="bahtText",h.DOLLAR_TEXT="dollarText"}(P||(P={})),function(h){h.DEFAULT="default",h.PRESERVE="preserve"}(D||(D={}));class he extends u{constructor(){super(...arguments),this.xmlKeys={space:"xml:space"}}}class de extends s{constructor(){super("w:instrText"),this.root.push(new he({space:D.PRESERVE})),this.root.push("PAGE")}}class pe extends s{constructor(){super("w:instrText"),this.root.push(new he({space:D.PRESERVE})),this.root.push("NUMPAGES")}}class Ee extends s{constructor(){super("w:instrText"),this.root.push(new he({space:D.PRESERVE})),this.root.push("SECTIONPAGES")}}class ge extends u{constructor(){super(...arguments),this.xmlKeys={fill:"w:fill",color:"w:color",type:"w:val"}}}class Pe extends s{constructor({fill:d,color:O,type:X}){super("w:shd"),this.root.push(new ge({fill:d===void 0?void 0:(0,ie.dg)(d),color:O===void 0?void 0:(0,ie.dg)(O),type:X}))}}(function(h){h.CLEAR="clear",h.DIAGONAL_CROSS="diagCross",h.DIAGONAL_STRIPE="diagStripe",h.HORIZONTAL_CROSS="horzCross",h.HORIZONTAL_STRIPE="horzStripe",h.NIL="nil",h.PERCENT_5="pct5",h.PERCENT_10="pct10",h.PERCENT_12="pct12",h.PERCENT_15="pct15",h.PERCENT_20="pct20",h.PERCENT_25="pct25",h.PERCENT_30="pct30",h.PERCENT_35="pct35",h.PERCENT_37="pct37",h.PERCENT_40="pct40",h.PERCENT_45="pct45",h.PERCENT_50="pct50",h.PERCENT_55="pct55",h.PERCENT_60="pct60",h.PERCENT_62="pct62",h.PERCENT_65="pct65",h.PERCENT_70="pct70",h.PERCENT_75="pct75",h.PERCENT_80="pct80",h.PERCENT_85="pct85",h.PERCENT_87="pct87",h.PERCENT_90="pct90",h.PERCENT_95="pct95",h.REVERSE_DIAGONAL_STRIPE="reverseDiagStripe",h.SOLID="solid",h.THIN_DIAGONAL_CROSS="thinDiagCross",h.THIN_DIAGONAL_STRIPE="thinDiagStripe",h.THIN_HORIZONTAL_CROSS="thinHorzCross",h.THIN_REVERSE_DIAGONAL_STRIPE="thinReverseDiagStripe",h.THIN_VERTICAL_STRIPE="thinVertStripe",h.VERTICAL_STRIPE="vertStripe"})(B||(B={}));class Oe extends u{constructor(){super(...arguments),this.xmlKeys={id:"w:id",author:"w:author",date:"w:date"}}}(function(h){h.DOT="dot"})(F||(F={}));class A extends s{constructor(d){super("w:em"),this.root.push(new p({val:d}))}}class R extends A{constructor(d=F.DOT){super(d)}}class j extends A{constructor(){super(F.DOT)}}class ne extends s{constructor(d){super("w:spacing"),this.root.push(new p({val:(0,ie.xb)(d)}))}}class ce extends s{constructor(d){super("w:color"),this.root.push(new p({val:(0,ie.dg)(d)}))}}class ue extends s{constructor(d){super("w:highlight"),this.root.push(new p({val:d}))}}class Ce extends s{constructor(d){super("w:highlightCs"),this.root.push(new p({val:d}))}}class He extends u{constructor(){super(...arguments),this.xmlKeys={ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"}}}class Je extends s{constructor(d,O){if(super("w:rFonts"),typeof d=="string"){const X=d;this.root.push(new He({ascii:X,cs:X,eastAsia:X,hAnsi:X,hint:O}))}else{const X=d;this.root.push(new He(X))}}}class ut extends s{constructor(d){super("w:vertAlign"),this.root.push(new p({val:d}))}}class et extends ut{constructor(){super("superscript")}}class Ze extends ut{constructor(){super("subscript")}}(function(h){h.SINGLE="single",h.WORDS="words",h.DOUBLE="double",h.THICK="thick",h.DOTTED="dotted",h.DOTTEDHEAVY="dottedHeavy",h.DASH="dash",h.DASHEDHEAVY="dashedHeavy",h.DASHLONG="dashLong",h.DASHLONGHEAVY="dashLongHeavy",h.DOTDASH="dotDash",h.DASHDOTHEAVY="dashDotHeavy",h.DOTDOTDASH="dotDotDash",h.DASHDOTDOTHEAVY="dashDotDotHeavy",h.WAVE="wave",h.WAVYHEAVY="wavyHeavy",h.WAVYDOUBLE="wavyDouble",h.NONE="none"})(Q||(Q={}));class oo extends s{constructor(d=Q.SINGLE,O){super("w:u"),this.root.push(new p({val:d,color:O===void 0?void 0:(0,ie.dg)(O)}))}}(function(h){h.BLINK_BACKGROUND="blinkBackground",h.LIGHTS="lights",h.ANTS_BLACK="antsBlack",h.ANTS_RED="antsRed",h.SHIMMER="shimmer",h.SPARKLE="sparkle",h.NONE="none"})(E||(E={}));class vo extends c{constructor(d){var O,X;if(super("w:rPr"),!d)return;d.bold!==void 0&&this.push(new z("w:b",d.bold)),(d.boldComplexScript===void 0&&d.bold!==void 0||d.boldComplexScript)&&this.push(new z("w:bCs",(O=d.boldComplexScript)!==null&&O!==void 0?O:d.bold)),d.italics!==void 0&&this.push(new z("w:i",d.italics)),(d.italicsComplexScript===void 0&&d.italics!==void 0||d.italicsComplexScript)&&this.push(new z("w:iCs",(X=d.italicsComplexScript)!==null&&X!==void 0?X:d.italics)),d.underline&&this.push(new oo(d.underline.type,d.underline.color)),d.effect&&this.push(new _e("w:effect",d.effect)),d.emphasisMark&&this.push(new R(d.emphasisMark.type)),d.color&&this.push(new ce(d.color)),d.kern&&this.push(new be("w:kern",d.kern)),d.position&&this.push(new _e("w:position",d.position)),d.size!==void 0&&this.push(new be("w:sz",d.size));const fe=d.sizeComplexScript===void 0||d.sizeComplexScript===!0?d.size:d.sizeComplexScript;fe&&this.push(new be("w:szCs",fe)),d.rightToLeft!==void 0&&this.push(new z("w:rtl",d.rightToLeft)),d.smallCaps!==void 0?this.push(new z("w:smallCaps",d.smallCaps)):d.allCaps!==void 0&&this.push(new z("w:caps",d.allCaps)),d.strike!==void 0&&this.push(new z("w:strike",d.strike)),d.doubleStrike!==void 0&&this.push(new z("w:dstrike",d.doubleStrike)),d.subScript&&this.push(new Ze),d.superScript&&this.push(new et),d.style&&this.push(new _e("w:rStyle",d.style)),d.font&&(typeof d.font=="string"?this.push(new Je(d.font)):"name"in d.font?this.push(new Je(d.font.name,d.font.hint)):this.push(new Je(d.font))),d.highlight&&this.push(new ue(d.highlight));const ve=d.highlightComplexScript===void 0||d.highlightComplexScript===!0?d.highlight:d.highlightComplexScript;ve&&this.push(new Ce(ve)),d.characterSpacing&&this.push(new ne(d.characterSpacing)),d.emboss!==void 0&&this.push(new z("w:emboss",d.emboss)),d.imprint!==void 0&&this.push(new z("w:imprint",d.imprint)),d.shading&&this.push(new Pe(d.shading)),d.revision&&this.push(new af(d.revision)),d.border&&this.push(new G("w:bdr",d.border)),d.snapToGrid&&this.push(new z("w:snapToGrid",d.snapToGrid)),d.vanish&&this.push(new z("w:vanish",d.vanish)),d.specVanish&&this.push(new z("w:specVanish",d.vanish)),d.scale!==void 0&&this.push(new x("w:w",d.scale)),d.language&&this.push((ke=>new V({name:"w:lang",attributes:{value:{key:"w:val",value:ke.value},eastAsia:{key:"w:eastAsia",value:ke.eastAsia},bidirectional:{key:"w:bidi",value:ke.bidirectional}}}))(d.language)),d.math&&this.push(new z("w:oMath",d.math))}push(d){this.root.push(d)}}class af extends s{constructor(d){super("w:rPrChange"),this.root.push(new Oe({id:d.id,author:d.author,date:d.date})),this.addChildElement(new vo(d))}}class ps extends s{constructor(d){var O;return super("w:t"),typeof d=="string"?(this.root.push(new he({space:D.PRESERVE})),this.root.push(d),this):(this.root.push(new he({space:(O=d.space)!==null&&O!==void 0?O:D.DEFAULT})),this.root.push(d.text),this)}}(function(h){h.CURRENT="CURRENT",h.TOTAL_PAGES="TOTAL_PAGES",h.TOTAL_PAGES_IN_SECTION="TOTAL_PAGES_IN_SECTION"})(oe||(oe={}));class Kt extends s{constructor(d){if(super("w:r"),this.properties=new vo(d),this.root.push(this.properties),d.break)for(let O=0;O<d.break;O++)this.root.push(new m);if(d.children)for(const O of d.children)if(typeof O!="string")this.root.push(O);else switch(O){case oe.CURRENT:this.root.push(new L),this.root.push(new de),this.root.push(new Y),this.root.push(new le);break;case oe.TOTAL_PAGES:this.root.push(new L),this.root.push(new pe),this.root.push(new Y),this.root.push(new le);break;case oe.TOTAL_PAGES_IN_SECTION:this.root.push(new L),this.root.push(new Ee),this.root.push(new Y),this.root.push(new le);break;default:this.root.push(new ps(O))}else d.text&&this.root.push(new ps(d.text))}}class Zi extends Kt{constructor(d){if(typeof d=="string")return super({}),this.root.push(new ps(d)),this;super(d)}}class b0 extends u{constructor(){super(...arguments),this.xmlKeys={char:"w:char",symbolfont:"w:font"}}}class cf extends s{constructor(d="",O="Wingdings"){super("w:sym"),this.root.push(new b0({char:d,symbolfont:O}))}}class w0 extends Kt{constructor(d){if(typeof d=="string")return super({}),this.root.push(new cf(d)),this;super(d),this.root.push(new cf(d.char,d.symbolfont))}}var ms,gs,It=n(5457);(function(h){h.CHARACTER="character",h.COLUMN="column",h.INSIDE_MARGIN="insideMargin",h.LEFT_MARGIN="leftMargin",h.MARGIN="margin",h.OUTSIDE_MARGIN="outsideMargin",h.PAGE="page",h.RIGHT_MARGIN="rightMargin"})(ms||(ms={})),function(h){h.BOTTOM_MARGIN="bottomMargin",h.INSIDE_MARGIN="insideMargin",h.LINE="line",h.MARGIN="margin",h.OUTSIDE_MARGIN="outsideMargin",h.PAGE="page",h.PARAGRAPH="paragraph",h.TOP_MARGIN="topMargin"}(gs||(gs={}));class E0 extends u{constructor(){super(...arguments),this.xmlKeys={x:"x",y:"y"}}}class lf extends s{constructor(){super("wp:simplePos"),this.root.push(new E0({x:0,y:0}))}}class uf extends s{constructor(d){super("wp:align"),this.root.push(d)}}class df extends s{constructor(d){super("wp:posOffset"),this.root.push(d.toString())}}class A0 extends u{constructor(){super(...arguments),this.xmlKeys={relativeFrom:"relativeFrom"}}}class ff extends s{constructor(d){if(super("wp:positionH"),this.root.push(new A0({relativeFrom:d.relative||ms.PAGE})),d.align)this.root.push(new uf(d.align));else{if(d.offset===void 0)throw new Error("There is no configuration provided for floating position (Align or offset)");this.root.push(new df(d.offset))}}}class _0 extends u{constructor(){super(...arguments),this.xmlKeys={relativeFrom:"relativeFrom"}}}class hf extends s{constructor(d){if(super("wp:positionV"),this.root.push(new _0({relativeFrom:d.relative||gs.PAGE})),d.align)this.root.push(new uf(d.align));else{if(d.offset===void 0)throw new Error("There is no configuration provided for floating position (Align or offset)");this.root.push(new df(d.offset))}}}class C0 extends u{constructor(){super(...arguments),this.xmlKeys={uri:"uri"}}}class S0 extends u{constructor(){super(...arguments),this.xmlKeys={embed:"r:embed",cstate:"cstate"}}}class N0 extends s{constructor(d){super("a:blip"),this.root.push(new S0({embed:`rId{${d.fileName}}`,cstate:"none"}))}}class x0 extends s{constructor(){super("a:srcRect")}}class T0 extends s{constructor(){super("a:fillRect")}}class I0 extends s{constructor(){super("a:stretch"),this.root.push(new T0)}}class P0 extends s{constructor(d){super("pic:blipFill"),this.root.push(new N0(d)),this.root.push(new x0),this.root.push(new I0)}}class D0 extends u{constructor(){super(...arguments),this.xmlKeys={noChangeAspect:"noChangeAspect",noChangeArrowheads:"noChangeArrowheads"}}}class k0 extends s{constructor(){super("a:picLocks"),this.root.push(new D0({noChangeAspect:1,noChangeArrowheads:1}))}}class R0 extends s{constructor(){super("pic:cNvPicPr"),this.root.push(new k0)}}const pf=(h,d)=>new V({name:"a:hlinkClick",attributes:Object.assign(Object.assign({},d?{xmlns:{key:"xmlns:a",value:"http://schemas.openxmlformats.org/drawingml/2006/main"}}:{}),{id:{key:"r:id",value:`rId${h}`}})});class O0 extends u{constructor(){super(...arguments),this.xmlKeys={id:"id",name:"name",descr:"descr"}}}class F0 extends s{constructor(){super("pic:cNvPr"),this.root.push(new O0({id:0,name:"",descr:""}))}prepForXml(d){for(let O=d.stack.length-1;O>=0;O--){const X=d.stack[O];if(X instanceof ci){this.root.push(pf(X.linkId,!1));break}}return super.prepForXml(d)}}class L0 extends s{constructor(){super("pic:nvPicPr"),this.root.push(new F0),this.root.push(new R0)}}class M0 extends u{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns:pic"}}}class B0 extends u{constructor(){super(...arguments),this.xmlKeys={cx:"cx",cy:"cy"}}}class U0 extends s{constructor(d,O){super("a:ext"),this.attributes=new B0({cx:d,cy:O}),this.root.push(this.attributes)}}class $0 extends u{constructor(){super(...arguments),this.xmlKeys={x:"x",y:"y"}}}class j0 extends s{constructor(){super("a:off"),this.root.push(new $0({x:0,y:0}))}}class q0 extends u{constructor(){super(...arguments),this.xmlKeys={flipVertical:"flipV",flipHorizontal:"flipH",rotation:"rot"}}}class H0 extends s{constructor(d){var O,X;super("a:xfrm"),this.root.push(new q0({flipVertical:(O=d.flip)===null||O===void 0?void 0:O.vertical,flipHorizontal:(X=d.flip)===null||X===void 0?void 0:X.horizontal,rotation:d.rotation})),this.extents=new U0(d.emus.x,d.emus.y),this.root.push(new j0),this.root.push(this.extents)}}class V0 extends s{constructor(){super("a:avLst")}}class z0 extends u{constructor(){super(...arguments),this.xmlKeys={prst:"prst"}}}class Q0 extends s{constructor(){super("a:prstGeom"),this.root.push(new z0({prst:"rect"})),this.root.push(new V0)}}class G0 extends u{constructor(){super(...arguments),this.xmlKeys={bwMode:"bwMode"}}}class W0 extends s{constructor(d){super("pic:spPr"),this.root.push(new G0({bwMode:"auto"})),this.form=new H0(d),this.root.push(this.form),this.root.push(new Q0)}}class K0 extends s{constructor(d,O){super("pic:pic"),this.root.push(new M0({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.root.push(new L0),this.root.push(new P0(d)),this.root.push(new W0(O))}}class J0 extends s{constructor(d,O){super("a:graphicData"),this.root.push(new C0({uri:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.pic=new K0(d,O),this.root.push(this.pic)}}class Y0 extends u{constructor(){super(...arguments),this.xmlKeys={a:"xmlns:a"}}}class mf extends s{constructor(d,O){super("a:graphic"),this.root.push(new Y0({a:"http://schemas.openxmlformats.org/drawingml/2006/main"})),this.data=new J0(d,O),this.root.push(this.data)}}var Pn,vs,cc,lc,uc,ys,ai,dc,Xi,fc,hc,bs,pc,mc,qo,er,gc,vc,yc,bc,wc,Ec,tr,Ac,_c;(function(h){h[h.NONE=0]="NONE",h[h.SQUARE=1]="SQUARE",h[h.TIGHT=2]="TIGHT",h[h.TOP_AND_BOTTOM=3]="TOP_AND_BOTTOM"})(Pn||(Pn={})),function(h){h.BOTH_SIDES="bothSides",h.LEFT="left",h.RIGHT="right",h.LARGEST="largest"}(vs||(vs={}));class Cc extends s{constructor(){super("wp:wrapNone")}}class Z0 extends u{constructor(){super(...arguments),this.xmlKeys={distT:"distT",distB:"distB",distL:"distL",distR:"distR",wrapText:"wrapText"}}}class gf extends s{constructor(d,O={top:0,bottom:0,left:0,right:0}){super("wp:wrapSquare"),this.root.push(new Z0({wrapText:d.side||vs.BOTH_SIDES,distT:O.top,distB:O.bottom,distL:O.left,distR:O.right}))}}class X0 extends u{constructor(){super(...arguments),this.xmlKeys={distT:"distT",distB:"distB"}}}class vf extends s{constructor(d={top:0,bottom:0}){super("wp:wrapTight"),this.root.push(new X0({distT:d.top,distB:d.bottom}))}}class ew extends u{constructor(){super(...arguments),this.xmlKeys={distT:"distT",distB:"distB"}}}class yf extends s{constructor(d={top:0,bottom:0}){super("wp:wrapTopAndBottom"),this.root.push(new ew({distT:d.top,distB:d.bottom}))}}class bf extends s{constructor({name:d,description:O,title:X}={name:"",description:"",title:""}){super("wp:docPr"),this.root.push(new f({id:{key:"id",value:(0,It.NY)()},name:{key:"name",value:d},description:{key:"descr",value:O},title:{key:"title",value:X}}))}prepForXml(d){for(let O=d.stack.length-1;O>=0;O--){const X=d.stack[O];if(X instanceof ci){this.root.push(pf(X.linkId,!0));break}}return super.prepForXml(d)}}class tw extends u{constructor(){super(...arguments),this.xmlKeys={b:"b",l:"l",r:"r",t:"t"}}}class wf extends s{constructor(){super("wp:effectExtent"),this.root.push(new tw({b:0,l:0,r:0,t:0}))}}class ow extends u{constructor(){super(...arguments),this.xmlKeys={cx:"cx",cy:"cy"}}}class Ef extends s{constructor(d,O){super("wp:extent"),this.attributes=new ow({cx:d,cy:O}),this.root.push(this.attributes)}}class nw extends u{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns:a",noChangeAspect:"noChangeAspect"}}}class iw extends s{constructor(){super("a:graphicFrameLocks"),this.root.push(new nw({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/main",noChangeAspect:1}))}}class Af extends s{constructor(){super("wp:cNvGraphicFramePr"),this.root.push(new iw)}}class rw extends u{constructor(){super(...arguments),this.xmlKeys={distT:"distT",distB:"distB",distL:"distL",distR:"distR",allowOverlap:"allowOverlap",behindDoc:"behindDoc",layoutInCell:"layoutInCell",locked:"locked",relativeHeight:"relativeHeight",simplePos:"simplePos"}}}class sw extends s{constructor(d,O,X){super("wp:anchor");const fe=Object.assign({allowOverlap:!0,behindDocument:!1,lockAnchor:!1,layoutInCell:!0,verticalPosition:{},horizontalPosition:{}},X.floating);if(this.root.push(new rw({distT:fe.margins&&fe.margins.top||0,distB:fe.margins&&fe.margins.bottom||0,distL:fe.margins&&fe.margins.left||0,distR:fe.margins&&fe.margins.right||0,simplePos:"0",allowOverlap:fe.allowOverlap===!0?"1":"0",behindDoc:fe.behindDocument===!0?"1":"0",locked:fe.lockAnchor===!0?"1":"0",layoutInCell:fe.layoutInCell===!0?"1":"0",relativeHeight:fe.zIndex?fe.zIndex:O.emus.y})),this.root.push(new lf),this.root.push(new ff(fe.horizontalPosition)),this.root.push(new hf(fe.verticalPosition)),this.root.push(new Ef(O.emus.x,O.emus.y)),this.root.push(new wf),X.floating!==void 0&&X.floating.wrap!==void 0)switch(X.floating.wrap.type){case Pn.SQUARE:this.root.push(new gf(X.floating.wrap,X.floating.margins));break;case Pn.TIGHT:this.root.push(new vf(X.floating.margins));break;case Pn.TOP_AND_BOTTOM:this.root.push(new yf(X.floating.margins));break;case Pn.NONE:default:this.root.push(new Cc)}else this.root.push(new Cc);this.root.push(new bf(X.docProperties)),this.root.push(new Af),this.root.push(new mf(d,O))}}class aw extends u{constructor(){super(...arguments),this.xmlKeys={distT:"distT",distB:"distB",distL:"distL",distR:"distR"}}}class cw extends s{constructor({mediaData:d,transform:O,docProperties:X}){super("wp:inline"),this.root.push(new aw({distT:0,distB:0,distL:0,distR:0})),this.extent=new Ef(O.emus.x,O.emus.y),this.graphic=new mf(d,O),this.root.push(this.extent),this.root.push(new wf),this.root.push(new bf(X)),this.root.push(new Af),this.root.push(this.graphic)}}class _f extends s{constructor(d,O={}){super("w:drawing"),O.floating?this.root.push(new sw(d,d.transformation,O)):(this.inline=new cw({mediaData:d,transform:d.transformation,docProperties:O.docProperties}),this.root.push(this.inline))}}class lw extends Kt{constructor(d){super({}),this.key=`${(0,It.EL)()}.png`;const O=typeof d.data=="string"?this.convertDataURIToBinary(d.data):d.data;this.imageData={stream:O,fileName:this.key,transformation:{pixels:{x:Math.round(d.transformation.width),y:Math.round(d.transformation.height)},emus:{x:Math.round(9525*d.transformation.width),y:Math.round(9525*d.transformation.height)},flip:d.transformation.flip,rotation:d.transformation.rotation?6e4*d.transformation.rotation:void 0}};const X=new _f(this.imageData,{floating:d.floating,docProperties:d.altText});this.root.push(X)}prepForXml(d){return d.file.Media.addImage(this.key,this.imageData),super.prepForXml(d)}convertDataURIToBinary(d){if(typeof atob=="function"){const O=";base64,",X=d.indexOf(O),fe=X===-1?0:X+O.length;return new Uint8Array(atob(d.substring(fe)).split("").map(ve=>ve.charCodeAt(0)))}return new(n(8764)).Buffer(d,"base64")}}class uw extends s{constructor(d){super("w:instrText"),this.root.push(new he({space:D.PRESERVE})),this.root.push(`SEQ ${d}`)}}class dw extends Kt{constructor(d){super({}),this.root.push(new L(!0)),this.root.push(new uw(d)),this.root.push(new Y),this.root.push(new le)}}class fw extends u{constructor(){super(...arguments),this.xmlKeys={instr:"w:instr"}}}class Cf extends s{constructor(d,O){super("w:fldSimple"),this.root.push(new fw({instr:d})),O!==void 0&&this.root.push(new Zi(O))}}class hw extends Cf{constructor(d){super(` MERGEFIELD ${d} `,`«${d}»`)}}class pw extends u{constructor(){super(...arguments),this.xmlKeys={id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"}}}class Sc extends u{constructor(){super(...arguments),this.xmlKeys={id:"w:id"}}}class mw extends u{constructor(){super(...arguments),this.xmlKeys={"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"}}}class gw extends s{constructor(d){super("w:commentRangeStart"),this.root.push(new Sc({id:d}))}}class vw extends s{constructor(d){super("w:commentRangeEnd"),this.root.push(new Sc({id:d}))}}class yw extends s{constructor(d){super("w:commentReference"),this.root.push(new Sc({id:d}))}}class Sf extends s{constructor({id:d,initials:O,author:X,date:fe=new Date,children:ve}){super("w:comment"),this.root.push(new pw({id:d,initials:O,author:X,date:fe.toISOString()}));for(const ke of ve)this.root.push(ke)}}class Nf extends s{constructor({children:d}){super("w:comments"),this.root.push(new mw({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const O of d)this.root.push(new Sf(O))}}class bw extends me{constructor(){super("w:noBreakHyphen")}}class ww extends me{constructor(){super("w:softHyphen")}}class Ew extends me{constructor(){super("w:dayShort")}}class Aw extends me{constructor(){super("w:monthShort")}}class _w extends me{constructor(){super("w:yearShort")}}class Cw extends me{constructor(){super("w:dayLong")}}class Sw extends me{constructor(){super("w:monthLong")}}class Nw extends me{constructor(){super("w:yearLong")}}class xw extends me{constructor(){super("w:annotationRef")}}class Tw extends me{constructor(){super("w:footnoteRef")}}class Iw extends me{constructor(){super("w:endnoteRef")}}class Pw extends me{constructor(){super("w:separator")}}class Dw extends me{constructor(){super("w:continuationSeparator")}}class kw extends me{constructor(){super("w:pgNum")}}class Rw extends me{constructor(){super("w:cr")}}class Ow extends me{constructor(){super("w:tab")}}class Fw extends me{constructor(){super("w:lastRenderedPageBreak")}}(function(h){h.LEFT="left",h.CENTER="center",h.RIGHT="right"})(cc||(cc={})),function(h){h.MARGIN="margin",h.INDENT="indent"}(lc||(lc={})),function(h){h.NONE="none",h.DOT="dot",h.HYPHEN="hyphen",h.UNDERSCORE="underscore",h.MIDDLE_DOT="middleDot"}(uc||(uc={}));class Lw extends s{constructor(d){super("w:ptab"),this.root.push(new f({alignment:{key:"w:alignment",value:d.alignment},relativeTo:{key:"w:relativeTo",value:d.relativeTo},leader:{key:"w:leader",value:d.leader}}))}}(function(h){h.COLUMN="column",h.PAGE="page"})(ys||(ys={}));class xf extends s{constructor(d){super("w:br"),this.root.push(new p({type:d}))}}class Mw extends Kt{constructor(){super({}),this.root.push(new xf(ys.PAGE))}}class Bw extends Kt{constructor(){super({}),this.root.push(new xf(ys.COLUMN))}}class Tf extends s{constructor(){super("w:pageBreakBefore")}}(function(h){h.AT_LEAST="atLeast",h.EXACTLY="exactly",h.EXACT="exact",h.AUTO="auto"})(ai||(ai={}));class Uw extends u{constructor(){super(...arguments),this.xmlKeys={after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule"}}}class If extends s{constructor(d){super("w:spacing"),this.root.push(new Uw(d))}}(function(h){h.HEADING_1="Heading1",h.HEADING_2="Heading2",h.HEADING_3="Heading3",h.HEADING_4="Heading4",h.HEADING_5="Heading5",h.HEADING_6="Heading6",h.TITLE="Title"})(dc||(dc={}));class or extends s{constructor(d){super("w:pStyle"),this.root.push(new p({val:d}))}}class Pf extends s{constructor(d){super("w:tabs");for(const O of d)this.root.push(new kf(O))}}(function(h){h.LEFT="left",h.RIGHT="right",h.CENTER="center",h.BAR="bar",h.CLEAR="clear",h.DECIMAL="decimal",h.END="end",h.NUM="num",h.START="start"})(Xi||(Xi={})),function(h){h.DOT="dot",h.HYPHEN="hyphen",h.MIDDLE_DOT="middleDot",h.NONE="none",h.UNDERSCORE="underscore"}(fc||(fc={})),function(h){h[h.MAX=9026]="MAX"}(hc||(hc={}));class Df extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val",pos:"w:pos",leader:"w:leader"}}}class kf extends s{constructor({type:d,position:O,leader:X}){super("w:tab"),this.root.push(new Df({val:d,pos:O,leader:X}))}}class Nc extends s{constructor(d,O){super("w:numPr"),this.root.push(new $w(O)),this.root.push(new jw(d))}}class $w extends s{constructor(d){if(super("w:ilvl"),d>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new p({val:d}))}}class jw extends s{constructor(d){super("w:numId"),this.root.push(new p({val:typeof d=="string"?`{${d}}`:d}))}}class xc extends s{constructor(){super(...arguments),this.fileChild=Symbol()}}class qw extends u{constructor(){super(...arguments),this.xmlKeys={id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"}}}(function(h){h.EXTERNAL="External"})(bs||(bs={}));class Hw extends s{constructor(d,O,X,fe){super("Relationship"),this.root.push(new qw({id:d,type:O,target:X,targetMode:fe}))}}class Vw extends u{constructor(){super(...arguments),this.xmlKeys={id:"r:id",history:"w:history",anchor:"w:anchor"}}}(function(h){h.INTERNAL="INTERNAL",h.EXTERNAL="EXTERNAL"})(pc||(pc={}));class ci extends s{constructor(d,O,X){super("w:hyperlink"),this.linkId=O;const fe={history:1,anchor:X||void 0,id:X?void 0:`rId${this.linkId}`},ve=new Vw(fe);this.root.push(ve),d.forEach(ke=>{this.root.push(ke)})}}class zw extends ci{constructor(d){super(d.children,(0,It.EL)(),d.anchor)}}class Tc extends s{constructor(d){super("w:externalHyperlink"),this.options=d}}class Qw extends u{constructor(){super(...arguments),this.xmlKeys={id:"w:id",name:"w:name"}}}class Gw extends u{constructor(){super(...arguments),this.xmlKeys={id:"w:id"}}}class Rf{constructor(d){const O=(0,It.NY)();this.start=new Of(d.id,O),this.children=d.children,this.end=new Ff(O)}}class Of extends s{constructor(d,O){super("w:bookmarkStart");const X=new Qw({name:d,id:O});this.root.push(X)}}class Ff extends s{constructor(d){super("w:bookmarkEnd");const O=new Gw({id:d});this.root.push(O)}}class Lf extends s{constructor(d){super("w:outlineLvl"),this.level=d,this.root.push(new p({val:d}))}}class Ww extends s{constructor(d,O={}){super("w:instrText"),this.root.push(new he({space:D.PRESERVE}));let X=`PAGEREF ${d}`;O.hyperlink&&(X=`${X} \\h`),O.useRelativePosition&&(X=`${X} \\p`),this.root.push(X)}}class Kw extends Kt{constructor(d,O={}){super({children:[new L(!0),new Ww(d,O),new le]})}}(function(h){h.BOTTOM="bottom",h.CENTER="center",h.TOP="top"})(mc||(mc={}));class Mf extends u{constructor(){super(...arguments),this.xmlKeys={verticalAlign:"w:val"}}}class Ic extends s{constructor(d){super("w:vAlign"),this.root.push(new Mf({verticalAlign:d}))}}(function(h){h.DEFAULT="default",h.FIRST="first",h.EVEN="even"})(qo||(qo={}));class Jw extends u{constructor(){super(...arguments),this.xmlKeys={type:"w:type",id:"r:id"}}}(function(h){h.HEADER="w:headerReference",h.FOOTER="w:footerReference"})(er||(er={}));class ws extends s{constructor(d,O){super(d),this.root.push(new Jw({type:O.type||qo.DEFAULT,id:`rId${O.id}`}))}}class Bf extends s{constructor({space:d,count:O,separate:X,equalWidth:fe,children:ve}){super("w:cols"),this.root.push(new f({space:{key:"w:space",value:d===void 0?void 0:(0,ie.Jd)(d)},count:{key:"w:num",value:O===void 0?void 0:(0,ie.vH)(O)},separate:{key:"w:sep",value:X},equalWidth:{key:"w:equalWidth",value:fe}})),!fe&&ve&&ve.forEach(ke=>this.addChildElement(ke))}}(function(h){h.DEFAULT="default",h.LINES="lines",h.LINES_AND_CHARS="linesAndChars",h.SNAP_TO_CHARS="snapToChars"})(gc||(gc={}));class Uf extends u{constructor(){super(...arguments),this.xmlKeys={type:"w:type",linePitch:"w:linePitch",charSpace:"w:charSpace"}}}class $f extends s{constructor(d,O,X){super("w:docGrid"),this.root.push(new Uf({type:X,linePitch:(0,ie.vH)(d),charSpace:O?(0,ie.vH)(O):void 0}))}}(function(h){h.NEW_PAGE="newPage",h.NEW_SECTION="newSection",h.CONTINUOUS="continuous"})(vc||(vc={}));class jf extends s{constructor({countBy:d,start:O,restart:X,distance:fe}){super("w:lnNumType"),this.root.push(new f({countBy:{key:"w:countBy",value:d===void 0?void 0:(0,ie.vH)(d)},start:{key:"w:start",value:O===void 0?void 0:(0,ie.vH)(O)},restart:{key:"w:restart",value:X},distance:{key:"w:distance",value:fe===void 0?void 0:(0,ie.Jd)(fe)}}))}}(function(h){h.ALL_PAGES="allPages",h.FIRST_PAGE="firstPage",h.NOT_FIRST_PAGE="notFirstPage"})(yc||(yc={})),function(h){h.PAGE="page",h.TEXT="text"}(bc||(bc={})),function(h){h.BACK="back",h.FRONT="front"}(wc||(wc={}));class qf extends u{constructor(){super(...arguments),this.xmlKeys={display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"}}}class Hf extends c{constructor(d){if(super("w:pgBorders"),!d)return this;d.pageBorders?this.root.push(new qf({display:d.pageBorders.display,offsetFrom:d.pageBorders.offsetFrom,zOrder:d.pageBorders.zOrder})):this.root.push(new qf({})),d.pageBorderTop&&this.root.push(new G("w:top",d.pageBorderTop)),d.pageBorderLeft&&this.root.push(new G("w:left",d.pageBorderLeft)),d.pageBorderBottom&&this.root.push(new G("w:bottom",d.pageBorderBottom)),d.pageBorderRight&&this.root.push(new G("w:right",d.pageBorderRight))}}class Vf extends s{constructor(d,O,X,fe,ve,ke,Be){super("w:pgMar"),this.root.push(new f({top:{key:"w:top",value:(0,ie.xb)(d)},right:{key:"w:right",value:(0,ie.Jd)(O)},bottom:{key:"w:bottom",value:(0,ie.xb)(X)},left:{key:"w:left",value:(0,ie.Jd)(fe)},header:{key:"w:header",value:(0,ie.Jd)(ve)},footer:{key:"w:footer",value:(0,ie.Jd)(ke)},gutter:{key:"w:gutter",value:(0,ie.Jd)(Be)}}))}}(function(h){h.HYPHEN="hyphen",h.PERIOD="period",h.COLON="colon",h.EM_DASH="emDash",h.EN_DASH="endash"})(Ec||(Ec={}));class zf extends u{constructor(){super(...arguments),this.xmlKeys={start:"w:start",formatType:"w:fmt",separator:"w:chapSep"}}}class Qf extends s{constructor({start:d,formatType:O,separator:X}){super("w:pgNumType"),this.root.push(new zf({start:d===void 0?void 0:(0,ie.vH)(d),formatType:O,separator:X}))}}(function(h){h.PORTRAIT="portrait",h.LANDSCAPE="landscape"})(tr||(tr={}));class Gf extends s{constructor(d,O,X){super("w:pgSz");const fe=X===tr.LANDSCAPE,ve=(0,ie.Jd)(d),ke=(0,ie.Jd)(O);this.root.push(new f({width:{key:"w:w",value:fe?ke:ve},height:{key:"w:h",value:fe?ve:ke},orientation:{key:"w:orient",value:X}}))}}(function(h){h.LEFT_TO_RIGHT_TOP_TO_BOTTOM="lrTb",h.TOP_TO_BOTTOM_RIGHT_TO_LEFT="tbRl"})(Ac||(Ac={}));class Yw extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class Wf extends s{constructor(d){super("w:textDirection"),this.root.push(new Yw({val:d}))}}(function(h){h.NEXT_PAGE="nextPage",h.NEXT_COLUMN="nextColumn",h.CONTINUOUS="continuous",h.EVEN_PAGE="evenPage",h.ODD_PAGE="oddPage"})(_c||(_c={}));class Kf extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class Jf extends s{constructor(d){super("w:type"),this.root.push(new Kf({val:d}))}}const tn={TOP:"1in",RIGHT:"1in",BOTTOM:"1in",LEFT:"1in",HEADER:708,FOOTER:708,GUTTER:0},Es={WIDTH:11906,HEIGHT:16838,ORIENTATION:tr.PORTRAIT};class Yf extends s{constructor({page:{size:{width:d=Es.WIDTH,height:O=Es.HEIGHT,orientation:X=Es.ORIENTATION}={},margin:{top:fe=tn.TOP,right:ve=tn.RIGHT,bottom:ke=tn.BOTTOM,left:Be=tn.LEFT,header:Ge=tn.HEADER,footer:je=tn.FOOTER,gutter:tt=tn.GUTTER}={},pageNumbers:at={},borders:bt,textDirection:zt}={},grid:{linePitch:Do=360,charSpace:io,type:sn}={},headerWrapperGroup:ct={},footerWrapperGroup:Mt={},lineNumbers:Qt,titlePage:ro,verticalAlign:an,column:cn,type:Gt}={}){super("w:sectPr"),this.addHeaderFooterGroup(er.HEADER,ct),this.addHeaderFooterGroup(er.FOOTER,Mt),Gt&&this.root.push(new Jf(Gt)),this.root.push(new Gf(d,O,X)),this.root.push(new Vf(fe,ve,ke,Be,Ge,je,tt)),bt&&this.root.push(new Hf(bt)),Qt&&this.root.push(new jf(Qt)),this.root.push(new Qf(at)),cn&&this.root.push(new Bf(cn)),an&&this.root.push(new Ic(an)),ro!==void 0&&this.root.push(new z("w:titlePg",ro)),zt&&this.root.push(new Wf(zt)),this.root.push(new $f(Do,io,sn))}addHeaderFooterGroup(d,O){O.default&&this.root.push(new ws(d,{type:qo.DEFAULT,id:O.default.View.ReferenceId})),O.first&&this.root.push(new ws(d,{type:qo.FIRST,id:O.first.View.ReferenceId})),O.even&&this.root.push(new ws(d,{type:qo.EVEN,id:O.even.View.ReferenceId}))}}class Zf extends s{constructor(){super("w:body"),this.sections=[]}addSection(d){const O=this.sections.pop();this.root.push(this.createSectionParagraph(O)),this.sections.push(new Yf(d))}prepForXml(d){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(d)}push(d){this.root.push(d)}createSectionParagraph(d){const O=new on({}),X=new Dn({});return X.push(d),O.addChildElement(X),O}}class Zw extends s{constructor({width:d,space:O}){super("w:col"),this.root.push(new f({width:{key:"w:w",value:(0,ie.Jd)(d)},space:{key:"w:space",value:O===void 0?void 0:(0,ie.Jd)(O)}}))}}class li extends u{constructor(){super(...arguments),this.xmlKeys={wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",aink:"xmlns:aink",am3d:"xmlns:am3d",w16cex:"xmlns:w16cex",w16cid:"xmlns:w16cid",w16:"xmlns:w16",w16sdtdh:"xmlns:w16sdtdh",w16se:"xmlns:w16se"}}}class Xf extends u{constructor(){super(...arguments),this.xmlKeys={color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"}}}class eh extends s{constructor(d){super("w:background"),this.root.push(new Xf({color:d.color===void 0?void 0:(0,ie.dg)(d.color),themeColor:d.themeColor,themeShade:d.themeShade===void 0?void 0:(0,ie.xD)(d.themeShade),themeTint:d.themeTint===void 0?void 0:(0,ie.xD)(d.themeTint)}))}}class Xw extends s{constructor(d){super("w:document"),this.root.push(new li({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex",Ignorable:"w14 w15 wp14"})),this.body=new Zf,d.background&&this.root.push(new eh(d.background)),this.root.push(this.body)}add(d){return this.body.push(d),this}get Body(){return this.body}}class eE extends u{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns"}}}class nr extends s{constructor(){super("Relationships"),this.root.push(new eE({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(d,O,X,fe){const ve=new Hw(`rId${d}`,O,X,fe);return this.root.push(ve),ve}get RelationshipCount(){return this.root.length-1}}class th{constructor(d){this.document=new Xw(d),this.relationships=new nr}get View(){return this.document}get Relationships(){return this.relationships}}class tE extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class oE extends s{constructor(){super("w:wordWrap"),this.root.push(new tE({val:0}))}}var Pc,Dc,kc;(function(h){h.NONE="none",h.DROP="drop",h.MARGIN="margin"})(Pc||(Pc={})),function(h){h.MARGIN="margin",h.PAGE="page",h.TEXT="text"}(Dc||(Dc={})),function(h){h.AROUND="around",h.AUTO="auto",h.NONE="none",h.NOT_BESIDE="notBeside",h.THROUGH="through",h.TIGHT="tight"}(kc||(kc={}));class oh extends u{constructor(){super(...arguments),this.xmlKeys={anchorLock:"w:anchorLock",dropCap:"w:dropCap",width:"w:w",height:"w:h",x:"w:x",y:"w:y",anchorHorizontal:"w:hAnchor",anchorVertical:"w:vAnchor",spaceHorizontal:"w:hSpace",spaceVertical:"w:vSpace",rule:"w:hRule",alignmentX:"w:xAlign",alignmentY:"w:yAlign",lines:"w:lines",wrap:"w:wrap"}}}class nh extends s{constructor(d){var O,X;super("w:framePr"),this.root.push(new oh({anchorLock:d.anchorLock,dropCap:d.dropCap,width:d.width,height:d.height,x:d.position?d.position.x:void 0,y:d.position?d.position.y:void 0,anchorHorizontal:d.anchor.horizontal,anchorVertical:d.anchor.vertical,spaceHorizontal:(O=d.space)===null||O===void 0?void 0:O.horizontal,spaceVertical:(X=d.space)===null||X===void 0?void 0:X.vertical,rule:d.rule,alignmentX:d.alignment?d.alignment.x:void 0,alignmentY:d.alignment?d.alignment.y:void 0,lines:d.lines,wrap:d.wrap}))}}class Dn extends c{constructor(d){var O,X;if(super("w:pPr"),this.numberingReferences=[],!d)return this;d.heading&&this.push(new or(d.heading)),d.bullet&&this.push(new or("ListParagraph")),d.numbering&&(d.style||d.heading||d.numbering.custom||this.push(new or("ListParagraph"))),d.style&&this.push(new or(d.style)),d.keepNext!==void 0&&this.push(new z("w:keepNext",d.keepNext)),d.keepLines!==void 0&&this.push(new z("w:keepLines",d.keepLines)),d.pageBreakBefore&&this.push(new Tf),d.frame&&this.push(new nh(d.frame)),d.widowControl!==void 0&&this.push(new z("w:widowControl",d.widowControl)),d.bullet&&this.push(new Nc(1,d.bullet.level)),d.numbering&&(this.numberingReferences.push({reference:d.numbering.reference,instance:(O=d.numbering.instance)!==null&&O!==void 0?O:0}),this.push(new Nc(`${d.numbering.reference}-${(X=d.numbering.instance)!==null&&X!==void 0?X:0}`,d.numbering.level))),d.border&&this.push(new se(d.border)),d.thematicBreak&&this.push(new ae),d.shading&&this.push(new Pe(d.shading)),d.wordWrap&&this.push(new oE);const fe=[...d.rightTabStop?[{type:Xi.RIGHT,position:d.rightTabStop}]:[],...d.tabStops?d.tabStops:[],...d.leftTabStop?[{type:Xi.LEFT,position:d.leftTabStop}]:[]];fe.length>0&&this.push(new Pf(fe)),d.bidirectional!==void 0&&this.push(new z("w:bidi",d.bidirectional)),d.spacing&&this.push(new If(d.spacing)),d.indent&&this.push(new U(d.indent)),d.contextualSpacing!==void 0&&this.push(new z("w:contextualSpacing",d.contextualSpacing)),d.alignment&&this.push(new q(d.alignment)),d.outlineLevel!==void 0&&this.push(new Lf(d.outlineLevel)),d.suppressLineNumbers!==void 0&&this.push(new z("w:suppressLineNumbers",d.suppressLineNumbers)),d.autoSpaceEastAsianText!==void 0&&this.push(new z("w:autoSpaceDN",d.autoSpaceEastAsianText))}push(d){this.root.push(d)}prepForXml(d){if(d.viewWrapper instanceof th)for(const O of this.numberingReferences)d.file.Numbering.createConcreteNumberingInstance(O.reference,O.instance);return super.prepForXml(d)}}class on extends xc{constructor(d){if(super("w:p"),typeof d=="string")return this.properties=new Dn({}),this.root.push(this.properties),this.root.push(new Zi(d)),this;if(this.properties=new Dn(d),this.root.push(this.properties),d.text&&this.root.push(new Zi(d.text)),d.children)for(const O of d.children)if(O instanceof Rf){this.root.push(O.start);for(const X of O.children)this.root.push(X);this.root.push(O.end)}else this.root.push(O)}prepForXml(d){for(const O of this.root)if(O instanceof Tc){const X=this.root.indexOf(O),fe=new ci(O.options.children,(0,It.EL)());d.viewWrapper.Relationships.createRelationship(fe.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",O.options.link,bs.EXTERNAL),this.root[X]=fe}return super.prepForXml(d)}addRunToFront(d){return this.root.splice(1,0,d),this}}class nE extends s{constructor(d){super("m:oMath");for(const O of d.children)this.root.push(O)}}class iE extends s{constructor(d){super("m:t"),this.root.push(d)}}class rE extends s{constructor(d){super("m:r"),this.root.push(new iE(d))}}class ih extends s{constructor(d){super("m:den");for(const O of d)this.root.push(O)}}class rh extends s{constructor(d){super("m:num");for(const O of d)this.root.push(O)}}class sE extends s{constructor(d){super("m:f"),this.root.push(new rh(d.numerator)),this.root.push(new ih(d.denominator))}}class aE extends u{constructor(){super(...arguments),this.xmlKeys={accent:"m:val"}}}class sh extends s{constructor(d){super("m:chr"),this.root.push(new aE({accent:d}))}}class no extends s{constructor(d){super("m:e");for(const O of d)this.root.push(O)}}class cE extends u{constructor(){super(...arguments),this.xmlKeys={value:"m:val"}}}class ah extends s{constructor(){super("m:limLoc"),this.root.push(new cE({value:"undOvr"}))}}class lE extends u{constructor(){super(...arguments),this.xmlKeys={hide:"m:val"}}}class uE extends s{constructor(){super("m:subHide"),this.root.push(new lE({hide:1}))}}class dE extends u{constructor(){super(...arguments),this.xmlKeys={hide:"m:val"}}}class fE extends s{constructor(){super("m:supHide"),this.root.push(new dE({hide:1}))}}class Rc extends s{constructor(d,O,X){super("m:naryPr"),d&&this.root.push(new sh(d)),this.root.push(new ah),O||this.root.push(new fE),X||this.root.push(new uE)}}class ui extends s{constructor(d){super("m:sub");for(const O of d)this.root.push(O)}}class di extends s{constructor(d){super("m:sup");for(const O of d)this.root.push(O)}}class hE extends s{constructor(d){super("m:nary"),this.root.push(new Rc("∑",!!d.superScript,!!d.subScript)),d.subScript&&this.root.push(new ui(d.subScript)),d.superScript&&this.root.push(new di(d.superScript)),this.root.push(new no(d.children))}}class pE extends s{constructor(d){super("m:nary"),this.root.push(new Rc("",!!d.superScript,!!d.subScript)),d.subScript&&this.root.push(new ui(d.subScript)),d.superScript&&this.root.push(new di(d.superScript)),this.root.push(new no(d.children))}}class ch extends s{constructor(){super("m:sSupPr")}}class mE extends s{constructor(d){super("m:sSup"),this.root.push(new ch),this.root.push(new no(d.children)),this.root.push(new di(d.superScript))}}class lh extends s{constructor(){super("m:sSubPr")}}class gE extends s{constructor(d){super("m:sSub"),this.root.push(new lh),this.root.push(new no(d.children)),this.root.push(new ui(d.subScript))}}class uh extends s{constructor(){super("m:sSubSupPr")}}class vE extends s{constructor(d){super("m:sSubSup"),this.root.push(new uh),this.root.push(new no(d.children)),this.root.push(new ui(d.subScript)),this.root.push(new di(d.superScript))}}class dh extends s{constructor(){super("m:sPrePr")}}class yE extends s{constructor(d){super("m:sPre"),this.root.push(new dh),this.root.push(new no(d.children)),this.root.push(new ui(d.subScript)),this.root.push(new di(d.superScript))}}const bE="";class fh extends s{constructor(d){if(super("m:deg"),d)for(const O of d)this.root.push(O)}}class wE extends u{constructor(){super(...arguments),this.xmlKeys={hide:"m:val"}}}class EE extends s{constructor(){super("m:degHide"),this.root.push(new wE({hide:1}))}}class hh extends s{constructor(d){super("m:radPr"),d||this.root.push(new EE)}}class AE extends s{constructor(d){super("m:rad"),this.root.push(new hh(!!d.degree)),this.root.push(new fh(d.degree)),this.root.push(new no(d.children))}}class ph extends s{constructor(d){super("m:fName");for(const O of d)this.root.push(O)}}class mh extends s{constructor(){super("m:funcPr")}}class _E extends s{constructor(d){super("m:func"),this.root.push(new mh),this.root.push(new ph(d.name)),this.root.push(new no(d.children))}}class CE extends u{constructor(){super(...arguments),this.xmlKeys={character:"m:val"}}}class SE extends s{constructor(d){super("m:begChr"),this.root.push(new CE({character:d}))}}class NE extends u{constructor(){super(...arguments),this.xmlKeys={character:"m:val"}}}class xE extends s{constructor(d){super("m:endChr"),this.root.push(new NE({character:d}))}}class As extends s{constructor(d){super("m:dPr"),d&&(this.root.push(new SE(d.beginningCharacter)),this.root.push(new xE(d.endingCharacter)))}}class TE extends s{constructor(d){super("m:d"),this.root.push(new As),this.root.push(new no(d.children))}}class IE extends s{constructor(d){super("m:d"),this.root.push(new As({beginningCharacter:"[",endingCharacter:"]"})),this.root.push(new no(d.children))}}class PE extends s{constructor(d){super("m:d"),this.root.push(new As({beginningCharacter:"{",endingCharacter:"}"})),this.root.push(new no(d.children))}}class DE extends s{constructor(d){super("m:d"),this.root.push(new As({beginningCharacter:"〈",endingCharacter:"〉"})),this.root.push(new no(d.children))}}class kE extends s{constructor(d){super("w:tblGrid");for(const O of d)this.root.push(new RE(O))}}class RE extends s{constructor(d){super("w:gridCol"),d!==void 0&&this.root.push(new f({width:{key:"w:w",value:(0,ie.Jd)(d)}}))}}var fi,_s,ir,Oc;(function(h){h.AUTO="auto",h.DXA="dxa",h.NIL="nil",h.PERCENTAGE="pct"})(fi||(fi={}));class nn extends s{constructor(d,{type:O=fi.AUTO,size:X}){super(d);let fe=X;O===fi.PERCENTAGE&&typeof X=="number"&&(fe=`${X}%`),this.root.push(new f({type:{key:"w:type",value:O},size:{key:"w:w",value:(0,ie.aB)(fe)}}))}}(function(h){h.TABLE="w:tblCellMar",h.TABLE_CELL="w:tcMar"})(_s||(_s={}));class gh extends c{constructor(d,{marginUnitType:O=fi.DXA,top:X,left:fe,bottom:ve,right:ke}){super(d),X!==void 0&&this.root.push(new nn("w:top",{type:O,size:X})),fe!==void 0&&this.root.push(new nn("w:left",{type:O,size:fe})),ve!==void 0&&this.root.push(new nn("w:bottom",{type:O,size:ve})),ke!==void 0&&this.root.push(new nn("w:right",{type:O,size:ke}))}}class vh extends c{constructor(d){super("w:tcBorders"),d.top&&this.root.push(new G("w:top",d.top)),d.start&&this.root.push(new G("w:start",d.start)),d.left&&this.root.push(new G("w:left",d.left)),d.bottom&&this.root.push(new G("w:bottom",d.bottom)),d.end&&this.root.push(new G("w:end",d.end)),d.right&&this.root.push(new G("w:right",d.right))}}class OE extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class yh extends s{constructor(d){super("w:gridSpan"),this.root.push(new OE({val:(0,ie.vH)(d)}))}}(function(h){h.CONTINUE="continue",h.RESTART="restart"})(ir||(ir={}));class FE extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class Fc extends s{constructor(d){super("w:vMerge"),this.root.push(new FE({val:d}))}}(function(h){h.BOTTOM_TO_TOP_LEFT_TO_RIGHT="btLr",h.LEFT_TO_RIGHT_TOP_TO_BOTTOM="lrTb",h.TOP_TO_BOTTOM_RIGHT_TO_LEFT="tbRl"})(Oc||(Oc={}));class LE extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class bh extends s{constructor(d){super("w:textDirection"),this.root.push(new LE({val:d}))}}class ME extends c{constructor(d){super("w:tcPr"),d.width&&this.root.push(new nn("w:tcW",d.width)),d.columnSpan&&this.root.push(new yh(d.columnSpan)),d.verticalMerge?this.root.push(new Fc(d.verticalMerge)):d.rowSpan&&d.rowSpan>1&&this.root.push(new Fc(ir.RESTART)),d.borders&&this.root.push(new vh(d.borders)),d.shading&&this.root.push(new Pe(d.shading)),d.margins&&this.root.push(new gh(_s.TABLE_CELL,d.margins)),d.textDirection&&this.root.push(new bh(d.textDirection)),d.verticalAlign&&this.root.push(new Ic(d.verticalAlign))}}class Lc extends s{constructor(d){super("w:tc"),this.options=d,this.root.push(new ME(d));for(const O of d.children)this.root.push(O)}prepForXml(d){return this.root[this.root.length-1]instanceof on||this.root.push(new on({})),super.prepForXml(d)}}const hi={style:T.NONE,size:0,color:"auto"},pi={style:T.SINGLE,size:4,color:"auto"};class Mc extends s{constructor(d){super("w:tblBorders"),d.top?this.root.push(new G("w:top",d.top)):this.root.push(new G("w:top",pi)),d.left?this.root.push(new G("w:left",d.left)):this.root.push(new G("w:left",pi)),d.bottom?this.root.push(new G("w:bottom",d.bottom)):this.root.push(new G("w:bottom",pi)),d.right?this.root.push(new G("w:right",d.right)):this.root.push(new G("w:right",pi)),d.insideHorizontal?this.root.push(new G("w:insideH",d.insideHorizontal)):this.root.push(new G("w:insideH",pi)),d.insideVertical?this.root.push(new G("w:insideV",d.insideVertical)):this.root.push(new G("w:insideV",pi))}}var Bc,Uc,$c,jc,qc,Hc,Cs,co,Vc;Mc.NONE={top:hi,bottom:hi,left:hi,right:hi,insideHorizontal:hi,insideVertical:hi},function(h){h.MARGIN="margin",h.PAGE="page",h.TEXT="text"}(Bc||(Bc={})),function(h){h.CENTER="center",h.INSIDE="inside",h.LEFT="left",h.OUTSIDE="outside",h.RIGHT="right"}(Uc||(Uc={})),function(h){h.CENTER="center",h.INSIDE="inside",h.BOTTOM="bottom",h.OUTSIDE="outside",h.INLINE="inline",h.TOP="top"}($c||($c={})),function(h){h.NEVER="never",h.OVERLAP="overlap"}(jc||(jc={}));class wh extends s{constructor({horizontalAnchor:d,verticalAnchor:O,absoluteHorizontalPosition:X,relativeHorizontalPosition:fe,absoluteVerticalPosition:ve,relativeVerticalPosition:ke,bottomFromText:Be,topFromText:Ge,leftFromText:je,rightFromText:tt,overlap:at}){super("w:tblpPr"),this.root.push(new f({leftFromText:{key:"w:leftFromText",value:je===void 0?void 0:(0,ie.Jd)(je)},rightFromText:{key:"w:rightFromText",value:tt===void 0?void 0:(0,ie.Jd)(tt)},topFromText:{key:"w:topFromText",value:Ge===void 0?void 0:(0,ie.Jd)(Ge)},bottomFromText:{key:"w:bottomFromText",value:Be===void 0?void 0:(0,ie.Jd)(Be)},absoluteHorizontalPosition:{key:"w:tblpX",value:X===void 0?void 0:(0,ie.xb)(X)},absoluteVerticalPosition:{key:"w:tblpY",value:ve===void 0?void 0:(0,ie.xb)(ve)},horizontalAnchor:{key:"w:horzAnchor",value:d===void 0?void 0:d},relativeHorizontalPosition:{key:"w:tblpXSpec",value:fe},relativeVerticalPosition:{key:"w:tblpYSpec",value:ke},verticalAnchor:{key:"w:vertAnchor",value:O}})),at&&this.root.push(new $("w:tblOverlap",at))}}(function(h){h.AUTOFIT="autofit",h.FIXED="fixed"})(qc||(qc={}));class BE extends u{constructor(){super(...arguments),this.xmlKeys={type:"w:type"}}}class Eh extends s{constructor(d){super("w:tblLayout"),this.root.push(new BE({type:d}))}}class Ah extends c{constructor(d){super("w:tblPr"),d.style&&this.root.push(new _e("w:tblStyle",d.style)),d.float&&this.root.push(new wh(d.float)),d.visuallyRightToLeft!==void 0&&this.root.push(new z("w:bidiVisual",d.visuallyRightToLeft)),d.width&&this.root.push(new nn("w:tblW",d.width)),d.alignment&&this.root.push(new q(d.alignment)),d.indent&&this.root.push(new nn("w:tblInd",d.indent)),d.borders&&this.root.push(new Mc(d.borders)),d.shading&&this.root.push(new Pe(d.shading)),d.layout&&this.root.push(new Eh(d.layout)),d.cellMargin&&this.root.push(new gh(_s.TABLE,d.cellMargin))}}class UE extends xc{constructor({rows:d,width:O,columnWidths:X=Array(Math.max(...d.map(bt=>bt.CellCount))).fill(100),margins:fe,indent:ve,float:ke,layout:Be,style:Ge,borders:je,alignment:tt,visuallyRightToLeft:at}){super("w:tbl"),this.root.push(new Ah({borders:je??{},width:O??{size:100},indent:ve,float:ke,layout:Be,style:Ge,alignment:tt,cellMargin:fe,visuallyRightToLeft:at})),this.root.push(new kE(X));for(const bt of d)this.root.push(bt);d.forEach((bt,zt)=>{if(zt===d.length-1)return;let Do=0;bt.cells.forEach(io=>{if(io.options.rowSpan&&io.options.rowSpan>1){const sn=new Lc({rowSpan:io.options.rowSpan-1,columnSpan:io.options.columnSpan,borders:io.options.borders,children:[],verticalMerge:ir.CONTINUE});d[zt+1].addCellToColumnIndex(sn,Do)}Do+=io.options.columnSpan||1})})}}(function(h){h.AUTO="auto",h.ATLEAST="atLeast",h.EXACT="exact"})(Hc||(Hc={}));class _h extends u{constructor(){super(...arguments),this.xmlKeys={value:"w:val",rule:"w:hRule"}}}class Ch extends s{constructor(d,O){super("w:trHeight"),this.root.push(new _h({value:(0,ie.Jd)(d),rule:O}))}}class Sh extends c{constructor(d){super("w:trPr"),d.cantSplit!==void 0&&this.root.push(new z("w:cantSplit",d.cantSplit)),d.tableHeader!==void 0&&this.root.push(new z("w:tblHeader",d.tableHeader)),d.height&&this.root.push(new Ch(d.height.value,d.height.rule))}}class $E extends s{constructor(d){super("w:tr"),this.options=d,this.root.push(new Sh(d));for(const O of d.children)this.root.push(O)}get CellCount(){return this.options.children.length}get cells(){return this.root.filter(d=>d instanceof Lc)}addCellToIndex(d,O){this.root.splice(O+1,0,d)}addCellToColumnIndex(d,O){const X=this.columnIndexToRootIndex(O,!0);this.addCellToIndex(d,X-1)}rootIndexToColumnIndex(d){if(d<1||d>=this.root.length)throw new Error("cell 'rootIndex' should between 1 to "+(this.root.length-1));let O=0;for(let X=1;X<d;X++)O+=this.root[X].options.columnSpan||1;return O}columnIndexToRootIndex(d,O=!1){if(d<0)throw new Error("cell 'columnIndex' should not less than zero");let X=0,fe=1;for(;X<=d;){if(fe>=this.root.length){if(O)return this.root.length;throw new Error("cell 'columnIndex' should not great than "+(X-1))}const ve=this.root[fe];fe+=1,X+=ve&&ve.options.columnSpan||1}return fe-1}}class jE extends u{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns",vt:"xmlns:vt"}}}class qE extends s{constructor(){super("Properties"),this.root.push(new jE({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class HE extends u{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns"}}}class VE extends u{constructor(){super(...arguments),this.xmlKeys={contentType:"ContentType",extension:"Extension"}}}class kn extends s{constructor(d,O){super("Default"),this.root.push(new VE({contentType:d,extension:O}))}}class zE extends u{constructor(){super(...arguments),this.xmlKeys={contentType:"ContentType",partName:"PartName"}}}class yo extends s{constructor(d,O){super("Override"),this.root.push(new zE({contentType:d,partName:O}))}}class QE extends s{constructor(){super("Types"),this.root.push(new HE({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new kn("image/png","png")),this.root.push(new kn("image/jpeg","jpeg")),this.root.push(new kn("image/jpeg","jpg")),this.root.push(new kn("image/bmp","bmp")),this.root.push(new kn("image/gif","gif")),this.root.push(new kn("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new kn("application/xml","xml")),this.root.push(new yo("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new yo("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new yo("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new yo("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new yo("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new yo("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new yo("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new yo("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new yo("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml"))}addFooter(d){this.root.push(new yo("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${d}.xml`))}addHeader(d){this.root.push(new yo("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${d}.xml`))}}class GE extends s{constructor(d){super("cp:coreProperties"),this.root.push(new li({cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"})),d.title&&this.root.push(new te("dc:title",d.title)),d.subject&&this.root.push(new te("dc:subject",d.subject)),d.creator&&this.root.push(new te("dc:creator",d.creator)),d.keywords&&this.root.push(new te("cp:keywords",d.keywords)),d.description&&this.root.push(new te("dc:description",d.description)),d.lastModifiedBy&&this.root.push(new te("cp:lastModifiedBy",d.lastModifiedBy)),d.revision&&this.root.push(new te("cp:revision",String(d.revision))),this.root.push(new Nh("dcterms:created")),this.root.push(new Nh("dcterms:modified"))}}class Nh extends s{constructor(d){super(d),this.root.push(new li({type:"dcterms:W3CDTF"})),this.root.push((0,ie.sF)(new Date))}}class WE extends u{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns",vt:"xmlns:vt"}}}class KE extends u{constructor(){super(...arguments),this.xmlKeys={fmtid:"fmtid",pid:"pid",name:"name"}}}class JE extends s{constructor(d,O){super("property"),this.root.push(new KE({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:d.toString(),name:O.name})),this.root.push(new YE(O.value))}}class YE extends s{constructor(d){super("vt:lpwstr"),this.root.push(d)}}class ZE extends s{constructor(d){super("Properties"),this.properties=[],this.root.push(new WE({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const O of d)this.addCustomProperty(O)}prepForXml(d){return this.properties.forEach(O=>this.root.push(O)),super.prepForXml(d)}addCustomProperty(d){this.properties.push(new JE(this.nextId++,d))}}class XE extends u{constructor(){super(...arguments),this.xmlKeys={wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"}}}class eA extends b{constructor(d,O){super("w:ftr",O),this.refId=d,O||this.root.push(new XE({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(d){this.root.push(d)}}class xh{constructor(d,O,X){this.media=d,this.footer=new eA(O,X),this.relationships=new nr}add(d){this.footer.add(d)}addChildElement(d){this.footer.addChildElement(d)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class tA extends u{constructor(){super(...arguments),this.xmlKeys={type:"w:type",id:"w:id"}}}class oA extends s{constructor(){super("w:footnoteRef")}}class nA extends Kt{constructor(){super({style:"FootnoteReference"}),this.root.push(new oA)}}(function(h){h.SEPERATOR="separator",h.CONTINUATION_SEPERATOR="continuationSeparator"})(Cs||(Cs={}));class zc extends s{constructor(d){super("w:footnote"),this.root.push(new tA({type:d.type,id:d.id}));for(let O=0;O<d.children.length;O++){const X=d.children[O];O===0&&X.addRunToFront(new nA),this.root.push(X)}}}class iA extends s{constructor(){super("w:continuationSeparator")}}class rA extends Kt{constructor(){super({}),this.root.push(new iA)}}class sA extends s{constructor(){super("w:separator")}}class aA extends Kt{constructor(){super({}),this.root.push(new sA)}}class cA extends u{constructor(){super(...arguments),this.xmlKeys={wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"}}}class Th extends s{constructor(){super("w:footnotes"),this.root.push(new cA({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const d=new zc({id:-1,type:Cs.SEPERATOR,children:[new on({spacing:{after:0,line:240,lineRule:ai.AUTO},children:[new aA]})]});this.root.push(d);const O=new zc({id:0,type:Cs.CONTINUATION_SEPERATOR,children:[new on({spacing:{after:0,line:240,lineRule:ai.AUTO},children:[new rA]})]});this.root.push(O)}createFootNote(d,O){const X=new zc({id:d,children:O});this.root.push(X)}}class lA{constructor(){this.footnotess=new Th,this.relationships=new nr}get View(){return this.footnotess}get Relationships(){return this.relationships}}class uA extends u{constructor(){super(...arguments),this.xmlKeys={wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"}}}class dA extends b{constructor(d,O){super("w:hdr",O),this.refId=d,O||this.root.push(new uA({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(d){this.root.push(d)}}class Ih{constructor(d,O,X){this.media=d,this.header=new dA(O,X),this.relationships=new nr}add(d){return this.header.add(d),this}addChildElement(d){this.header.addChildElement(d)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class Qc{constructor(){this.map=new Map}addImage(d,O){this.map.set(d,O)}get Array(){return Array.from(this.map.values())}}(function(h){h.DECIMAL="decimal",h.UPPER_ROMAN="upperRoman",h.LOWER_ROMAN="lowerRoman",h.UPPER_LETTER="upperLetter",h.LOWER_LETTER="lowerLetter",h.ORDINAL="ordinal",h.CARDINAL_TEXT="cardinalText",h.ORDINAL_TEXT="ordinalText",h.HEX="hex",h.CHICAGO="chicago",h.IDEOGRAPH__DIGITAL="ideographDigital",h.JAPANESE_COUNTING="japaneseCounting",h.AIUEO="aiueo",h.IROHA="iroha",h.DECIMAL_FULL_WIDTH="decimalFullWidth",h.DECIMAL_HALF_WIDTH="decimalHalfWidth",h.JAPANESE_LEGAL="japaneseLegal",h.JAPANESE_DIGITAL_TEN_THOUSAND="japaneseDigitalTenThousand",h.DECIMAL_ENCLOSED_CIRCLE="decimalEnclosedCircle",h.DECIMAL_FULL_WIDTH2="decimalFullWidth2",h.AIUEO_FULL_WIDTH="aiueoFullWidth",h.IROHA_FULL_WIDTH="irohaFullWidth",h.DECIMAL_ZERO="decimalZero",h.BULLET="bullet",h.GANADA="ganada",h.CHOSUNG="chosung",h.DECIMAL_ENCLOSED_FULLSTOP="decimalEnclosedFullstop",h.DECIMAL_ENCLOSED_PARENTHESES="decimalEnclosedParen",h.DECIMAL_ENCLOSED_CIRCLE_CHINESE="decimalEnclosedCircleChinese",h.IDEOGRAPH_ENCLOSED_CIRCLE="ideographEnclosedCircle",h.IDEOGRAPH_TRADITIONAL="ideographTraditional",h.IDEOGRAPH_ZODIAC="ideographZodiac",h.IDEOGRAPH_ZODIAC_TRADITIONAL="ideographZodiacTraditional",h.TAIWANESE_COUNTING="taiwaneseCounting",h.IDEOGRAPH_LEGAL_TRADITIONAL="ideographLegalTraditional",h.TAIWANESE_COUNTING_THOUSAND="taiwaneseCountingThousand",h.TAIWANESE_DIGITAL="taiwaneseDigital",h.CHINESE_COUNTING="chineseCounting",h.CHINESE_LEGAL_SIMPLIFIED="chineseLegalSimplified",h.CHINESE_COUNTING_THOUSAND="chineseCountingThousand",h.KOREAN_DIGITAL="koreanDigital",h.KOREAN_COUNTING="koreanCounting",h.KOREAN_LEGAL="koreanLegal",h.KOREAN_DIGITAL2="koreanDigital2",h.VIETNAMESE_COUNTING="vietnameseCounting",h.RUSSIAN_LOWER="russianLower",h.RUSSIAN_UPPER="russianUpper",h.NONE="none",h.NUMBER_IN_DASH="numberInDash",h.HEBREW1="hebrew1",h.HEBREW2="hebrew2",h.ARABIC_ALPHA="arabicAlpha",h.ARABIC_ABJAD="arabicAbjad",h.HINDI_VOWELS="hindiVowels",h.HINDI_CONSONANTS="hindiConsonants",h.HINDI_NUMBERS="hindiNumbers",h.HINDI_COUNTING="hindiCounting",h.THAI_LETTERS="thaiLetters",h.THAI_NUMBERS="thaiNumbers",h.THAI_COUNTING="thaiCounting",h.BAHT_TEXT="bahtText",h.DOLLAR_TEXT="dollarText",h.CUSTOM="custom"})(co||(co={}));class fA extends u{constructor(){super(...arguments),this.xmlKeys={ilvl:"w:ilvl",tentative:"w15:tentative"}}}class hA extends s{constructor(d){super("w:numFmt"),this.root.push(new p({val:d}))}}class pA extends s{constructor(d){super("w:lvlText"),this.root.push(new p({val:d}))}}class mA extends s{constructor(d){super("w:lvlJc"),this.root.push(new p({val:d}))}}(function(h){h.NOTHING="nothing",h.SPACE="space",h.TAB="tab"})(Vc||(Vc={}));class gA extends s{constructor(d){super("w:suff"),this.root.push(new p({val:d}))}}class vA extends s{constructor(){super("w:isLgl")}}class Gc extends s{constructor({level:d,format:O,text:X,alignment:fe=w.START,start:ve=1,style:ke,suffix:Be,isLegalNumberingStyle:Ge}){if(super("w:lvl"),this.root.push(new x("w:start",(0,ie.vH)(ve))),O&&this.root.push(new hA(O)),Be&&this.root.push(new gA(Be)),Ge&&this.root.push(new vA),X&&this.root.push(new pA(X)),this.root.push(new mA(fe)),this.paragraphProperties=new Dn(ke&&ke.paragraph),this.runProperties=new vo(ke&&ke.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),d>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new fA({ilvl:(0,ie.vH)(d),tentative:1}))}}class Ph extends Gc{}class yA extends Gc{}class bA extends s{constructor(d){super("w:multiLevelType"),this.root.push(new p({val:d}))}}class wA extends u{constructor(){super(...arguments),this.xmlKeys={abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"}}}class Wc extends s{constructor(d,O){super("w:abstractNum"),this.root.push(new wA({abstractNumId:(0,ie.vH)(d),restartNumberingAfterBreak:0})),this.root.push(new bA("hybridMultilevel")),this.id=d;for(const X of O)this.root.push(new Ph(X))}}class EA extends s{constructor(d){super("w:abstractNumId"),this.root.push(new p({val:d}))}}class AA extends u{constructor(){super(...arguments),this.xmlKeys={numId:"w:numId"}}}class Kc extends s{constructor(d){if(super("w:num"),this.numId=d.numId,this.reference=d.reference,this.instance=d.instance,this.root.push(new AA({numId:(0,ie.vH)(d.numId)})),this.root.push(new EA((0,ie.vH)(d.abstractNumId))),d.overrideLevels&&d.overrideLevels.length)for(const O of d.overrideLevels)this.root.push(new Dh(O.num,O.start))}}class _A extends u{constructor(){super(...arguments),this.xmlKeys={ilvl:"w:ilvl"}}}class Dh extends s{constructor(d,O){super("w:lvlOverride"),this.root.push(new _A({ilvl:d})),O!==void 0&&this.root.push(new SA(O))}}class CA extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class SA extends s{constructor(d){super("w:startOverride"),this.root.push(new CA({val:d}))}}class kh extends s{constructor(d){super("w:numbering"),this.abstractNumberingMap=new Map,this.concreteNumberingMap=new Map,this.referenceConfigMap=new Map,this.root.push(new li({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const O=new Wc((0,It.NY)(),[{level:0,format:co.BULLET,text:"●",alignment:w.LEFT,style:{paragraph:{indent:{left:(0,It.vw)(.5),hanging:(0,It.vw)(.25)}}}},{level:1,format:co.BULLET,text:"○",alignment:w.LEFT,style:{paragraph:{indent:{left:(0,It.vw)(1),hanging:(0,It.vw)(.25)}}}},{level:2,format:co.BULLET,text:"■",alignment:w.LEFT,style:{paragraph:{indent:{left:2160,hanging:(0,It.vw)(.25)}}}},{level:3,format:co.BULLET,text:"●",alignment:w.LEFT,style:{paragraph:{indent:{left:2880,hanging:(0,It.vw)(.25)}}}},{level:4,format:co.BULLET,text:"○",alignment:w.LEFT,style:{paragraph:{indent:{left:3600,hanging:(0,It.vw)(.25)}}}},{level:5,format:co.BULLET,text:"■",alignment:w.LEFT,style:{paragraph:{indent:{left:4320,hanging:(0,It.vw)(.25)}}}},{level:6,format:co.BULLET,text:"●",alignment:w.LEFT,style:{paragraph:{indent:{left:5040,hanging:(0,It.vw)(.25)}}}},{level:7,format:co.BULLET,text:"●",alignment:w.LEFT,style:{paragraph:{indent:{left:5760,hanging:(0,It.vw)(.25)}}}},{level:8,format:co.BULLET,text:"●",alignment:w.LEFT,style:{paragraph:{indent:{left:6480,hanging:(0,It.vw)(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new Kc({numId:1,abstractNumId:O.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",O);for(const X of d.config)this.abstractNumberingMap.set(X.reference,new Wc((0,It.NY)(),X.levels)),this.referenceConfigMap.set(X.reference,X.levels)}prepForXml(d){for(const O of this.abstractNumberingMap.values())this.root.push(O);for(const O of this.concreteNumberingMap.values())this.root.push(O);return super.prepForXml(d)}createConcreteNumberingInstance(d,O){const X=this.abstractNumberingMap.get(d);if(!X)return;const fe=`${d}-${O}`;if(this.concreteNumberingMap.has(fe))return;const ve=this.referenceConfigMap.get(d),ke=ve&&ve[0].start,Be={numId:(0,It.NY)(),abstractNumId:X.id,reference:d,instance:O,overrideLevel:ke&&Number.isInteger(ke)?{num:0,start:ke}:{num:0,start:1}};this.concreteNumberingMap.set(fe,new Kc(Be))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class NA extends u{constructor(){super(...arguments),this.xmlKeys={version:"w:val",name:"w:name",uri:"w:uri"}}}class xA extends s{constructor(d){super("w:compatSetting"),this.root.push(new NA({version:d,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class TA extends s{constructor(d){super("w:compat"),d.version&&this.root.push(new xA(d.version)),d.useSingleBorderforContiguousCells&&this.root.push(new z("w:useSingleBorderforContiguousCells",d.useSingleBorderforContiguousCells)),d.wordPerfectJustification&&this.root.push(new z("w:wpJustification",d.wordPerfectJustification)),d.noTabStopForHangingIndent&&this.root.push(new z("w:noTabHangInd",d.noTabStopForHangingIndent)),d.noLeading&&this.root.push(new z("w:noLeading",d.noLeading)),d.spaceForUnderline&&this.root.push(new z("w:spaceForUL",d.spaceForUnderline)),d.noColumnBalance&&this.root.push(new z("w:noColumnBalance",d.noColumnBalance)),d.balanceSingleByteDoubleByteWidth&&this.root.push(new z("w:balanceSingleByteDoubleByteWidth",d.balanceSingleByteDoubleByteWidth)),d.noExtraLineSpacing&&this.root.push(new z("w:noExtraLineSpacing",d.noExtraLineSpacing)),d.doNotLeaveBackslashAlone&&this.root.push(new z("w:doNotLeaveBackslashAlone",d.doNotLeaveBackslashAlone)),d.underlineTrailingSpaces&&this.root.push(new z("w:ulTrailSpace",d.underlineTrailingSpaces)),d.doNotExpandShiftReturn&&this.root.push(new z("w:doNotExpandShiftReturn",d.doNotExpandShiftReturn)),d.spacingInWholePoints&&this.root.push(new z("w:spacingInWholePoints",d.spacingInWholePoints)),d.lineWrapLikeWord6&&this.root.push(new z("w:lineWrapLikeWord6",d.lineWrapLikeWord6)),d.printBodyTextBeforeHeader&&this.root.push(new z("w:printBodyTextBeforeHeader",d.printBodyTextBeforeHeader)),d.printColorsBlack&&this.root.push(new z("w:printColBlack",d.printColorsBlack)),d.spaceWidth&&this.root.push(new z("w:wpSpaceWidth",d.spaceWidth)),d.showBreaksInFrames&&this.root.push(new z("w:showBreaksInFrames",d.showBreaksInFrames)),d.subFontBySize&&this.root.push(new z("w:subFontBySize",d.subFontBySize)),d.suppressBottomSpacing&&this.root.push(new z("w:suppressBottomSpacing",d.suppressBottomSpacing)),d.suppressTopSpacing&&this.root.push(new z("w:suppressTopSpacing",d.suppressTopSpacing)),d.suppressSpacingAtTopOfPage&&this.root.push(new z("w:suppressSpacingAtTopOfPage",d.suppressSpacingAtTopOfPage)),d.suppressTopSpacingWP&&this.root.push(new z("w:suppressTopSpacingWP",d.suppressTopSpacingWP)),d.suppressSpBfAfterPgBrk&&this.root.push(new z("w:suppressSpBfAfterPgBrk",d.suppressSpBfAfterPgBrk)),d.swapBordersFacingPages&&this.root.push(new z("w:swapBordersFacingPages",d.swapBordersFacingPages)),d.convertMailMergeEsc&&this.root.push(new z("w:convMailMergeEsc",d.convertMailMergeEsc)),d.truncateFontHeightsLikeWP6&&this.root.push(new z("w:truncateFontHeightsLikeWP6",d.truncateFontHeightsLikeWP6)),d.macWordSmallCaps&&this.root.push(new z("w:mwSmallCaps",d.macWordSmallCaps)),d.usePrinterMetrics&&this.root.push(new z("w:usePrinterMetrics",d.usePrinterMetrics)),d.doNotSuppressParagraphBorders&&this.root.push(new z("w:doNotSuppressParagraphBorders",d.doNotSuppressParagraphBorders)),d.wrapTrailSpaces&&this.root.push(new z("w:wrapTrailSpaces",d.wrapTrailSpaces)),d.footnoteLayoutLikeWW8&&this.root.push(new z("w:footnoteLayoutLikeWW8",d.footnoteLayoutLikeWW8)),d.shapeLayoutLikeWW8&&this.root.push(new z("w:shapeLayoutLikeWW8",d.shapeLayoutLikeWW8)),d.alignTablesRowByRow&&this.root.push(new z("w:alignTablesRowByRow",d.alignTablesRowByRow)),d.forgetLastTabAlignment&&this.root.push(new z("w:forgetLastTabAlignment",d.forgetLastTabAlignment)),d.adjustLineHeightInTable&&this.root.push(new z("w:adjustLineHeightInTable",d.adjustLineHeightInTable)),d.autoSpaceLikeWord95&&this.root.push(new z("w:autoSpaceLikeWord95",d.autoSpaceLikeWord95)),d.noSpaceRaiseLower&&this.root.push(new z("w:noSpaceRaiseLower",d.noSpaceRaiseLower)),d.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new z("w:doNotUseHTMLParagraphAutoSpacing",d.doNotUseHTMLParagraphAutoSpacing)),d.layoutRawTableWidth&&this.root.push(new z("w:layoutRawTableWidth",d.layoutRawTableWidth)),d.layoutTableRowsApart&&this.root.push(new z("w:layoutTableRowsApart",d.layoutTableRowsApart)),d.useWord97LineBreakRules&&this.root.push(new z("w:useWord97LineBreakRules",d.useWord97LineBreakRules)),d.doNotBreakWrappedTables&&this.root.push(new z("w:doNotBreakWrappedTables",d.doNotBreakWrappedTables)),d.doNotSnapToGridInCell&&this.root.push(new z("w:doNotSnapToGridInCell",d.doNotSnapToGridInCell)),d.selectFieldWithFirstOrLastCharacter&&this.root.push(new z("w:selectFldWithFirstOrLastChar",d.selectFieldWithFirstOrLastCharacter)),d.applyBreakingRules&&this.root.push(new z("w:applyBreakingRules",d.applyBreakingRules)),d.doNotWrapTextWithPunctuation&&this.root.push(new z("w:doNotWrapTextWithPunct",d.doNotWrapTextWithPunctuation)),d.doNotUseEastAsianBreakRules&&this.root.push(new z("w:doNotUseEastAsianBreakRules",d.doNotUseEastAsianBreakRules)),d.useWord2002TableStyleRules&&this.root.push(new z("w:useWord2002TableStyleRules",d.useWord2002TableStyleRules)),d.growAutofit&&this.root.push(new z("w:growAutofit",d.growAutofit)),d.useFELayout&&this.root.push(new z("w:useFELayout",d.useFELayout)),d.useNormalStyleForList&&this.root.push(new z("w:useNormalStyleForList",d.useNormalStyleForList)),d.doNotUseIndentAsNumberingTabStop&&this.root.push(new z("w:doNotUseIndentAsNumberingTabStop",d.doNotUseIndentAsNumberingTabStop)),d.useAlternateEastAsianLineBreakRules&&this.root.push(new z("w:useAltKinsokuLineBreakRules",d.useAlternateEastAsianLineBreakRules)),d.allowSpaceOfSameStyleInTable&&this.root.push(new z("w:allowSpaceOfSameStyleInTable",d.allowSpaceOfSameStyleInTable)),d.doNotSuppressIndentation&&this.root.push(new z("w:doNotSuppressIndentation",d.doNotSuppressIndentation)),d.doNotAutofitConstrainedTables&&this.root.push(new z("w:doNotAutofitConstrainedTables",d.doNotAutofitConstrainedTables)),d.autofitToFirstFixedWidthCell&&this.root.push(new z("w:autofitToFirstFixedWidthCell",d.autofitToFirstFixedWidthCell)),d.underlineTabInNumberingList&&this.root.push(new z("w:underlineTabInNumList",d.underlineTabInNumberingList)),d.displayHangulFixedWidth&&this.root.push(new z("w:displayHangulFixedWidth",d.displayHangulFixedWidth)),d.splitPgBreakAndParaMark&&this.root.push(new z("w:splitPgBreakAndParaMark",d.splitPgBreakAndParaMark)),d.doNotVerticallyAlignCellWithSp&&this.root.push(new z("w:doNotVertAlignCellWithSp",d.doNotVerticallyAlignCellWithSp)),d.doNotBreakConstrainedForcedTable&&this.root.push(new z("w:doNotBreakConstrainedForcedTable",d.doNotBreakConstrainedForcedTable)),d.ignoreVerticalAlignmentInTextboxes&&this.root.push(new z("w:doNotVertAlignInTxbx",d.ignoreVerticalAlignmentInTextboxes)),d.useAnsiKerningPairs&&this.root.push(new z("w:useAnsiKerningPairs",d.useAnsiKerningPairs)),d.cachedColumnBalance&&this.root.push(new z("w:cachedColBalance",d.cachedColumnBalance))}}class IA extends u{constructor(){super(...arguments),this.xmlKeys={wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"}}}class PA extends s{constructor(d){var O,X,fe,ve;super("w:settings"),this.root.push(new IA({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new z("w:displayBackgroundShape",!0)),d.trackRevisions!==void 0&&this.root.push(new z("w:trackRevisions",d.trackRevisions)),d.evenAndOddHeaders!==void 0&&this.root.push(new z("w:evenAndOddHeaders",d.evenAndOddHeaders)),d.updateFields!==void 0&&this.root.push(new z("w:updateFields",d.updateFields)),this.root.push(new TA(Object.assign(Object.assign({},(O=d.compatibility)!==null&&O!==void 0?O:{}),{version:(ve=(fe=(X=d.compatibility)===null||X===void 0?void 0:X.version)!==null&&fe!==void 0?fe:d.compatibilityModeVersion)!==null&&ve!==void 0?ve:15})))}}class Rh extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class DA extends s{constructor(d){super("w:name"),this.root.push(new Rh({val:d}))}}class kA extends s{constructor(d){super("w:uiPriority"),this.root.push(new Rh({val:(0,ie.vH)(d)}))}}class RA extends u{constructor(){super(...arguments),this.xmlKeys={type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"}}}class Oh extends s{constructor(d,O){super("w:style"),this.root.push(new RA(d)),O.name&&this.root.push(new DA(O.name)),O.basedOn&&this.root.push(new _e("w:basedOn",O.basedOn)),O.next&&this.root.push(new _e("w:next",O.next)),O.link&&this.root.push(new _e("w:link",O.link)),O.uiPriority!==void 0&&this.root.push(new kA(O.uiPriority)),O.semiHidden!==void 0&&this.root.push(new z("w:semiHidden",O.semiHidden)),O.unhideWhenUsed!==void 0&&this.root.push(new z("w:unhideWhenUsed",O.unhideWhenUsed)),O.quickFormat!==void 0&&this.root.push(new z("w:qFormat",O.quickFormat))}}class rr extends Oh{constructor(d){super({type:"paragraph",styleId:d.id},d),this.paragraphProperties=new Dn(d.paragraph),this.runProperties=new vo(d.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class sr extends Oh{constructor(d){super({type:"character",styleId:d.id},Object.assign({uiPriority:99,unhideWhenUsed:!0},d)),this.runProperties=new vo(d.run),this.root.push(this.runProperties)}}class rn extends rr{constructor(d){super(Object.assign(Object.assign({},d),{basedOn:"Normal",next:"Normal",quickFormat:!0}))}}class OA extends rn{constructor(d){super(Object.assign(Object.assign({},d),{id:"Title",name:"Title"}))}}class FA extends rn{constructor(d){super(Object.assign(Object.assign({},d),{id:"Heading1",name:"Heading 1"}))}}class LA extends rn{constructor(d){super(Object.assign(Object.assign({},d),{id:"Heading2",name:"Heading 2"}))}}class MA extends rn{constructor(d){super(Object.assign(Object.assign({},d),{id:"Heading3",name:"Heading 3"}))}}class BA extends rn{constructor(d){super(Object.assign(Object.assign({},d),{id:"Heading4",name:"Heading 4"}))}}class UA extends rn{constructor(d){super(Object.assign(Object.assign({},d),{id:"Heading5",name:"Heading 5"}))}}class $A extends rn{constructor(d){super(Object.assign(Object.assign({},d),{id:"Heading6",name:"Heading 6"}))}}class jA extends rn{constructor(d){super(Object.assign(Object.assign({},d),{id:"Strong",name:"Strong"}))}}class qA extends rr{constructor(d){super(Object.assign(Object.assign({},d),{id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0}))}}class HA extends rr{constructor(d){super(Object.assign(Object.assign({},d),{id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:ai.AUTO}},run:{size:20}}))}}class VA extends sr{constructor(d){super(Object.assign(Object.assign({},d),{id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}}))}}class zA extends sr{constructor(d){super(Object.assign(Object.assign({},d),{id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}}))}}class QA extends sr{constructor(d){super(Object.assign(Object.assign({},d),{id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:Q.SINGLE}}}))}}class Ss extends s{constructor(d){if(super("w:styles"),d.initialStyles&&this.root.push(d.initialStyles),d.importedStyles)for(const O of d.importedStyles)this.root.push(O);if(d.paragraphStyles)for(const O of d.paragraphStyles)this.root.push(new rr(O));if(d.characterStyles)for(const O of d.characterStyles)this.root.push(new sr(O))}}class Fh extends s{constructor(d){super("w:pPrDefault"),this.root.push(new Dn(d))}}class Lh extends s{constructor(d){super("w:rPrDefault"),this.root.push(new vo(d))}}class Mh extends s{constructor(d){super("w:docDefaults"),this.runPropertiesDefaults=new Lh(d.run),this.paragraphPropertiesDefaults=new Fh(d.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class GA{newInstance(d){const O=(0,y.xml2js)(d,{compact:!1});let X;for(const ve of O.elements||[])ve.name==="w:styles"&&(X=ve);if(X===void 0)throw new Error("can not find styles element");const fe=X.elements||[];return new Ss({initialStyles:new N(X.attributes),importedStyles:fe.map(ve=>v(ve))})}}class Bh{newInstance(d={}){var O;return{initialStyles:new li({mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",Ignorable:"w14 w15"}),importedStyles:[new Mh((O=d.document)!==null&&O!==void 0?O:{}),new OA(Object.assign({run:{size:56}},d.title)),new FA(Object.assign({run:{color:"2E74B5",size:32}},d.heading1)),new LA(Object.assign({run:{color:"2E74B5",size:26}},d.heading2)),new MA(Object.assign({run:{color:"1F4D78",size:24}},d.heading3)),new BA(Object.assign({run:{color:"2E74B5",italics:!0}},d.heading4)),new UA(Object.assign({run:{color:"2E74B5"}},d.heading5)),new $A(Object.assign({run:{color:"1F4D78"}},d.heading6)),new jA(Object.assign({run:{bold:!0}},d.strong)),new qA(d.listParagraph||{}),new QA(d.hyperlink||{}),new VA(d.footnoteReference||{}),new HA(d.footnoteText||{}),new zA(d.footnoteTextChar||{})]}}}class Uh{constructor(d){var O,X,fe,ve,ke,Be,Ge;if(this.currentRelationshipId=1,this.headers=[],this.footers=[],this.coreProperties=new GE(Object.assign(Object.assign({},d),{creator:(O=d.creator)!==null&&O!==void 0?O:"Un-named",revision:(X=d.revision)!==null&&X!==void 0?X:1,lastModifiedBy:(fe=d.lastModifiedBy)!==null&&fe!==void 0?fe:"Un-named"})),this.numbering=new kh(d.numbering?d.numbering:{config:[]}),this.comments=new Nf((ve=d.comments)!==null&&ve!==void 0?ve:{children:[]}),this.fileRelationships=new nr,this.customProperties=new ZE((ke=d.customProperties)!==null&&ke!==void 0?ke:[]),this.appProperties=new qE,this.footnotesWrapper=new lA,this.contentTypes=new QE,this.documentWrapper=new th({background:d.background}),this.settings=new PA({compatibilityModeVersion:d.compatabilityModeVersion,compatibility:d.compatibility,evenAndOddHeaders:!!d.evenAndOddHeaderAndFooters,trackRevisions:(Be=d.features)===null||Be===void 0?void 0:Be.trackRevisions,updateFields:(Ge=d.features)===null||Ge===void 0?void 0:Ge.updateFields}),this.media=new Qc,d.externalStyles){const je=new GA;this.styles=je.newInstance(d.externalStyles)}else if(d.styles){const je=new Bh().newInstance(d.styles.default);this.styles=new Ss(Object.assign(Object.assign({},je),d.styles))}else{const je=new Bh;this.styles=new Ss(je.newInstance())}this.addDefaultRelationships();for(const je of d.sections)this.addSection(je);if(d.footnotes)for(const je in d.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(je),d.footnotes[je].children)}addSection({headers:d={},footers:O={},children:X,properties:fe}){this.documentWrapper.View.Body.addSection(Object.assign(Object.assign({},fe),{headerWrapperGroup:{default:d.default?this.createHeader(d.default):void 0,first:d.first?this.createHeader(d.first):void 0,even:d.even?this.createHeader(d.even):void 0},footerWrapperGroup:{default:O.default?this.createFooter(O.default):void 0,first:O.first?this.createFooter(O.first):void 0,even:O.even?this.createFooter(O.even):void 0}}));for(const ve of X)this.documentWrapper.View.add(ve)}createHeader(d){const O=new Ih(this.media,this.currentRelationshipId++);for(const X of d.options.children)O.add(X);return this.addHeaderToDocument(O),O}createFooter(d){const O=new xh(this.media,this.currentRelationshipId++);for(const X of d.options.children)O.add(X);return this.addFooterToDocument(O),O}addHeaderToDocument(d,O=qo.DEFAULT){this.headers.push({header:d,type:O}),this.documentWrapper.Relationships.createRelationship(d.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(d,O=qo.DEFAULT){this.footers.push({footer:d,type:O}),this.documentWrapper.Relationships.createRelationship(d.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(d=>d.header)}get Footers(){return this.footers.map(d=>d.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}}const WA="";class KA extends s{constructor(d={}){super("w:instrText"),this.properties=d,this.root.push(new he({space:D.PRESERVE}));let O="TOC";this.properties.captionLabel&&(O=`${O} \\a "${this.properties.captionLabel}"`),this.properties.entriesFromBookmark&&(O=`${O} \\b "${this.properties.entriesFromBookmark}"`),this.properties.captionLabelIncludingNumbers&&(O=`${O} \\c "${this.properties.captionLabelIncludingNumbers}"`),this.properties.sequenceAndPageNumbersSeparator&&(O=`${O} \\d "${this.properties.sequenceAndPageNumbersSeparator}"`),this.properties.tcFieldIdentifier&&(O=`${O} \\f "${this.properties.tcFieldIdentifier}"`),this.properties.hyperlink&&(O=`${O} \\h`),this.properties.tcFieldLevelRange&&(O=`${O} \\l "${this.properties.tcFieldLevelRange}"`),this.properties.pageNumbersEntryLevelsRange&&(O=`${O} \\n "${this.properties.pageNumbersEntryLevelsRange}"`),this.properties.headingStyleRange&&(O=`${O} \\o "${this.properties.headingStyleRange}"`),this.properties.entryAndPageNumberSeparator&&(O=`${O} \\p "${this.properties.entryAndPageNumberSeparator}"`),this.properties.seqFieldIdentifierForPrefix&&(O=`${O} \\s "${this.properties.seqFieldIdentifierForPrefix}"`),this.properties.stylesWithLevels&&this.properties.stylesWithLevels.length&&(O=`${O} \\t "${this.properties.stylesWithLevels.map(X=>`${X.styleName},${X.level}`).join(",")}"`),this.properties.useAppliedParagraphOutlineLevel&&(O=`${O} \\u`),this.properties.preserveTabInEntries&&(O=`${O} \\w`),this.properties.preserveNewLineInEntries&&(O=`${O} \\x`),this.properties.hideTabAndPageNumbersInWebView&&(O=`${O} \\z`),this.root.push(O)}}class JA extends s{constructor(){super("w:sdtContent")}}class YA extends s{constructor(d){super("w:sdtPr"),this.root.push(new _e("w:alias",d))}}class ZA extends xc{constructor(d="Table of Contents",O){super("w:sdt"),this.root.push(new YA(d));const X=new JA,fe=new on({children:[new Kt({children:[new L(!0),new KA(O),new Y]})]});X.addChildElement(fe);const ve=new on({children:[new Kt({children:[new le]})]});X.addChildElement(ve),this.root.push(X)}}class XA{constructor(d,O){this.styleName=d,this.level=O}}class e_{constructor(d={children:[]}){this.options=d}}class t_{constructor(d={children:[]}){this.options=d}}class $h extends u{constructor(){super(...arguments),this.xmlKeys={id:"w:id"}}}class jh extends s{constructor(d){super("w:footnoteReference"),this.root.push(new $h({id:d}))}}class o_ extends Kt{constructor(d){super({style:"FootnoteReference"}),this.root.push(new jh(d))}}class n_ extends s{constructor(d){super("w:ins"),this.root.push(new Oe({id:d.id,author:d.author,date:d.date})),this.addChildElement(new Zi(d))}}class i_ extends s{constructor(){super("w:delInstrText"),this.root.push(new he({space:D.PRESERVE})),this.root.push("PAGE")}}class r_ extends s{constructor(){super("w:delInstrText"),this.root.push(new he({space:D.PRESERVE})),this.root.push("NUMPAGES")}}class s_ extends s{constructor(){super("w:delInstrText"),this.root.push(new he({space:D.PRESERVE})),this.root.push("SECTIONPAGES")}}class qh extends s{constructor(d){super("w:delText"),this.root.push(new he({space:D.PRESERVE})),this.root.push(d)}}class a_ extends s{constructor(d){super("w:del"),this.root.push(new Oe({id:d.id,author:d.author,date:d.date})),this.deletedTextRunWrapper=new c_(d),this.addChildElement(this.deletedTextRunWrapper)}}class c_ extends s{constructor(d){if(super("w:r"),this.root.push(new vo(d)),d.children)for(const O of d.children)if(typeof O!="string")this.root.push(O);else switch(O){case oe.CURRENT:this.root.push(new L),this.root.push(new i_),this.root.push(new Y),this.root.push(new le);break;case oe.TOTAL_PAGES:this.root.push(new L),this.root.push(new r_),this.root.push(new Y),this.root.push(new le);break;case oe.TOTAL_PAGES_IN_SECTION:this.root.push(new L),this.root.push(new s_),this.root.push(new Y),this.root.push(new le);break;default:this.root.push(new qh(O))}else d.text&&this.root.push(new qh(d.text));if(d.break)for(let O=0;O<d.break;O++)this.root.splice(1,0,new m)}}var Jc=n(6085),_t=n(3479);class Yc{format(d,O={stack:[]}){const X=d.prepForXml(O);if(X)return X;throw Error("XMLComponent did not format correctly")}}class Hh{replace(d,O,X){let fe=d;return O.forEach((ve,ke)=>{fe=fe.replace(new RegExp(`{${ve.fileName}}`,"g"),(X+ke).toString())}),fe}getMediaData(d,O){return O.Array.filter(X=>d.search(`{${X.fileName}}`)>0)}}class l_{replace(d,O){let X=d;for(const fe of O)X=X.replace(new RegExp(`{${fe.reference}-${fe.instance}}`,"g"),fe.numId.toString());return X}}var Zc,Ns=function(h,d,O,X){return new(O||(O=Promise))(function(fe,ve){function ke(je){try{Ge(X.next(je))}catch(tt){ve(tt)}}function Be(je){try{Ge(X.throw(je))}catch(tt){ve(tt)}}function Ge(je){var tt;je.done?fe(je.value):(tt=je.value,tt instanceof O?tt:new O(function(at){at(tt)})).then(ke,Be)}Ge((X=X.apply(h,d||[])).next())})};(function(h){h.NONE="",h.WITH_2_BLANKS="  ",h.WITH_4_BLANKS="    ",h.WITH_TAB="	"})(Zc||(Zc={}));class Vh{static toString(d,O){return Ns(this,void 0,void 0,function*(){return yield this.compiler.compile(d,O).generateAsync({type:"string",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBuffer(d,O){return Ns(this,void 0,void 0,function*(){return yield this.compiler.compile(d,O).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBase64String(d,O){return Ns(this,void 0,void 0,function*(){return yield this.compiler.compile(d,O).generateAsync({type:"base64",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBlob(d,O){return Ns(this,void 0,void 0,function*(){return yield this.compiler.compile(d,O).generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toStream(d,O){return this.compiler.compile(d,O).generateNodeStream({type:"nodebuffer",streamFiles:!0,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})}}Vh.compiler=new class{constructor(){this.formatter=new Yc,this.imageReplacer=new Hh,this.numberingReplacer=new l_}compile(h,d){const O=new Jc,X=this.xmlifyFile(h,d),fe=new Map(Object.entries(X));for(const[,ve]of fe)if(Array.isArray(ve))for(const ke of ve)O.file(ke.path,ke.data);else O.file(ve.path,ve.data);for(const{stream:ve,fileName:ke}of h.Media.Array)O.file(`word/media/${ke}`,ve);return O}xmlifyFile(h,d){const O=h.Document.Relationships.RelationshipCount+1,X=_t(this.formatter.format(h.Document.View,{viewWrapper:h.Document,file:h,stack:[]}),{indent:d,declaration:{standalone:"yes",encoding:"UTF-8"}}),fe=this.imageReplacer.getMediaData(X,h.Media);return{Relationships:{data:(()=>(fe.forEach((ve,ke)=>{h.Document.Relationships.createRelationship(O+ke,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${ve.fileName}`)}),_t(this.formatter.format(h.Document.Relationships,{viewWrapper:h.Document,file:h,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}})))(),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const ve=this.imageReplacer.replace(X,fe,O);return this.numberingReplacer.replace(ve,h.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const ve=_t(this.formatter.format(h.Styles,{viewWrapper:h.Document,file:h,stack:[]}),{indent:d,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(ve,h.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:_t(this.formatter.format(h.CoreProperties,{viewWrapper:h.Document,file:h,stack:[]}),{indent:d,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:_t(this.formatter.format(h.Numbering,{viewWrapper:h.Document,file:h,stack:[]}),{indent:d,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:_t(this.formatter.format(h.FileRelationships,{viewWrapper:h.Document,file:h,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:h.Headers.map((ve,ke)=>{const Be=_t(this.formatter.format(ve.View,{viewWrapper:ve,file:h,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(Be,h.Media).forEach((Ge,je)=>{ve.Relationships.createRelationship(je,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${Ge.fileName}`)}),{data:_t(this.formatter.format(ve.Relationships,{viewWrapper:ve,file:h,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${ke+1}.xml.rels`}}),FooterRelationships:h.Footers.map((ve,ke)=>{const Be=_t(this.formatter.format(ve.View,{viewWrapper:ve,file:h,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(Be,h.Media).forEach((Ge,je)=>{ve.Relationships.createRelationship(je,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${Ge.fileName}`)}),{data:_t(this.formatter.format(ve.Relationships,{viewWrapper:ve,file:h,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${ke+1}.xml.rels`}}),Headers:h.Headers.map((ve,ke)=>{const Be=_t(this.formatter.format(ve.View,{viewWrapper:ve,file:h,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}}),Ge=this.imageReplacer.getMediaData(Be,h.Media),je=this.imageReplacer.replace(Be,Ge,0);return{data:this.numberingReplacer.replace(je,h.Numbering.ConcreteNumbering),path:`word/header${ke+1}.xml`}}),Footers:h.Footers.map((ve,ke)=>{const Be=_t(this.formatter.format(ve.View,{viewWrapper:ve,file:h,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}}),Ge=this.imageReplacer.getMediaData(Be,h.Media),je=this.imageReplacer.replace(Be,Ge,0);return{data:this.numberingReplacer.replace(je,h.Numbering.ConcreteNumbering),path:`word/footer${ke+1}.xml`}}),ContentTypes:{data:_t(this.formatter.format(h.ContentTypes,{viewWrapper:h.Document,file:h,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:_t(this.formatter.format(h.CustomProperties,{viewWrapper:h.Document,file:h,stack:[]}),{indent:d,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:_t(this.formatter.format(h.AppProperties,{viewWrapper:h.Document,file:h,stack:[]}),{indent:d,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:_t(this.formatter.format(h.FootNotes.View,{viewWrapper:h.FootNotes,file:h,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:_t(this.formatter.format(h.FootNotes.Relationships,{viewWrapper:h.FootNotes,file:h,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:_t(this.formatter.format(h.Settings,{viewWrapper:h.Document,file:h,stack:[]}),{indent:d,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:_t(this.formatter.format(h.Comments,{viewWrapper:h.Document,file:h,stack:[]}),{indent:d,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/comments.xml"}}}};var Ct=n(5575);const u_=new Yc,Xc=h=>(0,y.xml2js)(h,{compact:!1,captureSpacesBetweenElements:!0}),zh=h=>{var d;return(d=Xc(_t(u_.format(new ps({text:h})))).elements[0].elements)!==null&&d!==void 0?d:[]},Qh=h=>Object.assign(Object.assign({},h),{attributes:{"xml:space":"preserve"}}),el=(h,d)=>{var O,X;return(X=(O=h.elements)===null||O===void 0?void 0:O.filter(fe=>fe.name===d)[0].elements)!==null&&X!==void 0?X:[]};var Rn;(function(h){h[h.START=0]="START",h[h.MIDDLE=1]="MIDDLE",h[h.END=2]="END"})(Rn||(Rn={}));const d_=({paragraphElement:h,renderedParagraph:d,originalText:O,replacementText:X})=>{const fe=d.text.indexOf(O),ve=fe+O.length-1;let ke=Rn.START;for(const Be of d.runs)for(const{text:Ge,index:je,start:tt,end:at}of Be.parts)switch(ke){case Rn.START:if(fe>=tt){const bt=fe-tt,zt=Math.min(ve,at)-tt,Do=Be.text.substring(bt,zt+1);if(Do==="")continue;const io=Ge.replace(Do,X);tl(h.elements[Be.index].elements[je],io),ke=Rn.MIDDLE;continue}break;case Rn.MIDDLE:if(ve<=at){const bt=Ge.substring(ve-tt+1);tl(h.elements[Be.index].elements[je],bt);const zt=h.elements[Be.index].elements[je];h.elements[Be.index].elements[je]=Qh(zt),ke=Rn.END}else tl(h.elements[Be.index].elements[je],"")}return h},tl=(h,d)=>(h.elements=zh(d),h),f_=(h,d)=>{var O,X,fe,ve;for(let ke=0;ke<((O=h.elements)!==null&&O!==void 0?O:[]).length;ke++){const Be=h.elements[ke];if(Be.type==="element"&&Be.name==="w:r"){const Ge=((X=Be.elements)!==null&&X!==void 0?X:[]).filter(je=>je.type==="element"&&je.name==="w:t");for(const je of Ge)if(!((ve=(fe=je.elements)===null||fe===void 0?void 0:fe[0].text)===null||ve===void 0)&&ve.includes(d))return ke}}throw new Error("Token not found")},h_=(h,d)=>{var O,X;let fe=0;const ve=(X=(O=h.elements)===null||O===void 0?void 0:O.map((ke,Be)=>{var Ge,je;if(ke.type==="element"&&ke.name==="w:t"){const tt=((je=(Ge=ke.elements)===null||Ge===void 0?void 0:Ge[0].text)!==null&&je!==void 0?je:"").split(d).map(at=>Object.assign(Object.assign(Object.assign({},ke),Qh(ke)),{elements:zh(at)}));return fe=Be,tt}return ke}).flat())!==null&&X!==void 0?X:[];return{left:Object.assign(Object.assign({},JSON.parse(JSON.stringify(h))),{elements:ve.slice(0,fe+1)}),right:Object.assign(Object.assign({},JSON.parse(JSON.stringify(h))),{elements:ve.slice(fe+1)})}},p_=new Yc,m_=(h,d,O,X,fe)=>{for(const ve of X){const ke=d.children.map(Be=>Xc(_t(p_.format(Be,fe)))).map(Be=>Be.elements[0]);switch(d.type){case cr.DOCUMENT:{const Be=g_(h,ve.path),Ge=v_(ve.path);Be.elements.splice(Ge,1,...ke);break}case cr.PARAGRAPH:default:{const Be=Gh(h,ve.path);d_({paragraphElement:Be,renderedParagraph:ve,originalText:O,replacementText:"ɵ"});const Ge=f_(Be,"ɵ"),{left:je,right:tt}=h_(Be.elements[Ge],"ɵ");Be.elements.splice(Ge,1,je,...ke,tt);break}}}return h},Gh=(h,d)=>{let O=h;for(let X=1;X<d.length;X++){const fe=d[X],ve=O.elements;if(!ve)throw new Error("Could not find element");O=ve[fe]}return O},g_=(h,d)=>Gh(h,d.slice(0,d.length-1)),v_=h=>h[h.length-1],y_=h=>{if(h.element.name!=="w:p")throw new Error(`Invalid node type: ${h.element.name}`);if(!h.element.elements)return{text:"",runs:[],index:-1,path:[]};let d=0;const O=h.element.elements.map((X,fe)=>({element:X,i:fe})).filter(({element:X})=>X.name==="w:r").map(({element:X,i:fe})=>{const ve=b_(X,fe,d);return d+=ve.text.length,ve}).filter(X=>!!X).map(X=>X);return{text:O.reduce((X,fe)=>X+fe.text,""),runs:O,index:h.index,path:Wh(h)}},b_=(h,d,O)=>{if(!h.elements)return{text:"",parts:[],index:-1,start:O,end:O};let X=O;const fe=h.elements.map((ve,ke)=>{var Be,Ge;return ve.name==="w:t"&&ve.elements&&ve.elements.length>0?{text:(Ge=(Be=ve.elements[0].text)===null||Be===void 0?void 0:Be.toString())!==null&&Ge!==void 0?Ge:"",index:ke,start:X,end:(()=>{var je,tt;return X+=((tt=(je=ve.elements[0].text)===null||je===void 0?void 0:je.toString())!==null&&tt!==void 0?tt:"").length-1,X})()}:void 0}).filter(ve=>!!ve).map(ve=>ve);return{text:fe.reduce((ve,ke)=>ve+ke.text,""),parts:fe,index:d,start:O,end:X}},Wh=h=>h.parent?[...Wh(h.parent),h.index]:[h.index],Kh=h=>{var d,O;return(O=(d=h.element.elements)===null||d===void 0?void 0:d.map((X,fe)=>({element:X,index:fe,parent:h})))!==null&&O!==void 0?O:[]},w_=(h,d)=>{let O=[];const X=[...Kh({element:h,index:0,parent:void 0})];let fe;for(;X.length>0;)fe=X.shift(),fe.element.name==="w:p"?O=[...O,y_(fe)]:X.push(...Kh(fe));return O.filter(ve=>ve.text.includes(d))},Jh=(h,d,O,X,fe)=>{const ve=el(h,"Relationships");return ve.push({attributes:{Id:`rId${d}`,Type:O,Target:X,TargetMode:fe},name:"Relationship",type:"element"}),ve},ar=(h,d,O)=>{el(h,"Types").push({attributes:{ContentType:d,Extension:O},name:"Default",type:"element"})};var cr;(function(h){h.DOCUMENT="file",h.PARAGRAPH="paragraph"})(cr||(cr={}));const Yh=new Hh,E_=(h,d)=>{return O=void 0,X=void 0,ve=function*(){var ke,Be;const Ge=yield Jc.loadAsync(h),je=new Map,tt={Media:new Qc},at=new Map,bt=[],zt=[];let Do=!1;const io=new Map;for(const[ct,Mt]of Object.entries(Ge.files)){if(!ct.endsWith(".xml")&&!ct.endsWith(".rels")){io.set(ct,yield Mt.async("nodebuffer"));continue}const Qt=Xc(yield Mt.async("text"));if(ct.startsWith("word/")&&!ct.endsWith(".xml.rels")){const ro={file:tt,viewWrapper:{Relationships:{createRelationship:(cn,Gt,lo,mi)=>{zt.push({key:ct,hyperlink:{id:cn,link:lo}})}}},stack:[]};je.set(ct,ro);for(const[cn,Gt]of Object.entries(d.patches)){const lo=`{{${cn}}}`,mi=w_(Qt,lo);m_(Qt,Object.assign(Object.assign({},Gt),{children:Gt.children.map(ln=>{if(ln instanceof Tc){const xs=new ci(ln.options.children,(0,It.EL)());return zt.push({key:ct,hyperlink:{id:xs.linkId,link:ln.options.link}}),xs}return ln})}),lo,mi,ro)}const an=Yh.getMediaData(JSON.stringify(Qt),ro.file.Media);an.length>0&&(Do=!0,bt.push({key:ct,mediaDatas:an}))}at.set(ct,Qt)}for(const{key:ct,mediaDatas:Mt}of bt){const Qt=`word/_rels/${ct.split("/").pop()}.rels`,ro=(ke=at.get(Qt))!==null&&ke!==void 0?ke:Zh();at.set(Qt,ro);const an=el(ro,"Relationships").map(Gt=>{var lo,mi,ln;return(xs=>{const Xh=parseInt(xs.substring(3),10);return isNaN(Xh)?0:Xh})((ln=(mi=(lo=Gt.attributes)===null||lo===void 0?void 0:lo.Id)===null||mi===void 0?void 0:mi.toString())!==null&&ln!==void 0?ln:"")}).reduce((Gt,lo)=>Math.max(Gt,lo),0)+1,cn=Yh.replace(JSON.stringify(at.get(ct)),Mt,an);at.set(ct,JSON.parse(cn));for(let Gt=0;Gt<Mt.length;Gt++){const{fileName:lo}=Mt[Gt];Jh(ro,an+Gt,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${lo}`)}}for(const{key:ct,hyperlink:Mt}of zt){const Qt=`word/_rels/${ct.split("/").pop()}.rels`,ro=(Be=at.get(Qt))!==null&&Be!==void 0?Be:Zh();at.set(Qt,ro),Jh(ro,Mt.id,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Mt.link,bs.EXTERNAL)}if(Do){const ct=at.get("[Content_Types].xml");if(!ct)throw new Error("Could not find content types file");ar(ct,"image/png","png"),ar(ct,"image/jpeg","jpeg"),ar(ct,"image/jpeg","jpg"),ar(ct,"image/bmp","bmp"),ar(ct,"image/gif","gif")}const sn=new Jc;for(const[ct,Mt]of at){const Qt=A_(Mt);sn.file(ct,Qt)}for(const[ct,Mt]of io)sn.file(ct,Mt);for(const{stream:ct,fileName:Mt}of tt.Media.Array)sn.file(`word/media/${Mt}`,ct);return sn.generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})},new((fe=void 0)||(fe=Promise))(function(ke,Be){function Ge(at){try{tt(ve.next(at))}catch(bt){Be(bt)}}function je(at){try{tt(ve.throw(at))}catch(bt){Be(bt)}}function tt(at){var bt;at.done?ke(at.value):(bt=at.value,bt instanceof fe?bt:new fe(function(zt){zt(bt)})).then(Ge,je)}tt((ve=ve.apply(O,X||[])).next())});var O,X,fe,ve},A_=h=>(0,y.js2xml)(h),Zh=()=>({declaration:{attributes:{version:"1.0",encoding:"UTF-8",standalone:"yes"}},elements:[{type:"element",name:"Relationships",attributes:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},elements:[]}]})})(),r})())})(E3);var zu={},A3={get exports(){return zu},set exports(e){zu=e}};(function(e,t){(function(o,i){i()})(Go,function(){function o(c,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function i(c,u,f){var p=new XMLHttpRequest;p.open("GET",c),p.responseType="blob",p.onload=function(){s(p.response,u,f)},p.onerror=function(){console.error("could not download file")},p.send()}function n(c){var u=new XMLHttpRequest;u.open("HEAD",c,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function r(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(u)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Go=="object"&&Go.global===Go?Go:void 0,l=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(c,u,f){var p=a.URL||a.webkitURL,y=document.createElement("a");u=u||c.name||"download",y.download=u,y.rel="noopener",typeof c=="string"?(y.href=c,y.origin===location.origin?r(y):n(y.href)?i(c,u,f):r(y,y.target="_blank")):(y.href=p.createObjectURL(c),setTimeout(function(){p.revokeObjectURL(y.href)},4e4),setTimeout(function(){r(y)},0))}:"msSaveOrOpenBlob"in navigator?function(c,u,f){if(u=u||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(o(c,f),u);else if(n(c))i(c,u,f);else{var p=document.createElement("a");p.href=c,p.target="_blank",setTimeout(function(){r(p)})}}:function(c,u,f,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof c=="string")return i(c,u,f);var y=c.type==="application/octet-stream",v=/constructor/i.test(a.HTMLElement)||a.safari,C=/CriOS\/[\d]+/.test(navigator.userAgent);if((C||y&&v||l)&&typeof FileReader<"u"){var I=new FileReader;I.onloadend=function(){var b=I.result;b=C?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=b:location=b,p=null},I.readAsDataURL(c)}else{var N=a.URL||a.webkitURL,_=N.createObjectURL(c);p?p.location=_:location.href=_,p=null,setTimeout(function(){N.revokeObjectURL(_)},4e4)}});a.saveAs=s.saveAs=s,e.exports=s})})(A3);const _3="/caracol/assets/graduationCap-8fa1ce8e.svg",C3="/caracol/assets/routeSolid-5d88aed0.svg",S3="/caracol/assets/alienar-fb2c87c3.svg",N3="/caracol/assets/starSolid-2cad5fc9.svg",x3="/caracol/assets/idBadge-e2f47328.svg",rc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAApVBMVEUAAAAFBQUKCgozMzMzMzMoKCgsLCw4ODgsLCwxMTEVFRUzMzM7Ozs2NjY0NDQzMzNMTEw1NTUlJSUxMTEvLy8xMTExMTEtLS0VFRUcHBwuLi4oKCgxMTEuLi4rKyswMDAwMDArKystLS0uLi4xMTEuLi4kJCQxMTEwMDArKysqKioxMTEuLi4rKys0NDQsLCwkJCQuLi4vLy8uLi42NjYwMDAzMzMGZa9aAAAANnRSTlMABgFL7bBzQ9VhGOAzJeq3Coku+Lr16sIMCZhO/JRC5qV2KBDKehnt2bqvoIRWPB8K0bWOjGo12immAAAA/ElEQVRIx+3Sy1LCMBiG4STUoiIeGmKVJG1paUXOnv77vzRjNlJy0AwLGKbvpjNf55ksEnSG4ZJfOes1FlHKnAohaHRrFgmWrgxRFfCTqG8sZepnHpM9sqKaTKv2nHHOE/V5AWCTtiESdKPn1vz0SimVBCWPYBg8t5NUbWNNDIMv/iLafAUTmGXBBMY4mLw1weTy+kSIvkon8T8YN6F1OTRbL8BNQAws5WAnvo5NiknsTlILmW6QJ1xYyN29j5DPcPLQkY4cQubBhHz8j4y2vwNnAGnlJQtF6p1hKwXQZdZ3F+cA70O0U7OcMRZ5Ymwgk72DN+uet36JUZfqG2Wjeg1GwVSoAAAAAElFTkSuQmCC",$l=Se`
  query ($idUsuario: ID!) {
    Usuario(idUsuario: $idUsuario) {
      id
      informesMaestraVida {
        id
        year
        periodo
        idProfe
        nombreProfe
        categoria
        texto
      }
    }
  }
`,T3={components:{Calendario:of,Loading:vt,RutaGrado:o0},props:{personasConEspacio:Array,mostrarEspacioActual:Boolean,estaPersona:Object,seleccionado:Boolean},name:"PersonaVistaLista",apollo:{informes:{query:$l,variables(){return{idUsuario:this.estaPersona.id}},skip(){return this.mostrando!="informe"},update({Usuario:e}){return e.informesMaestraVida},fetchPolicy:"network-only"}},data(){return{permisosPosibles:["usuario","administrador","atlasAdministrador","superadministrador","maestraVida","maestraVida-estudiante","maestraVida-profesor","maestraVida-acompañante","maestraVida-graduado"],informes:[],objetivos:[],mostrando:null,reseteandoPassword:!1,alienando:!1,mostrandoPermisos:!1,togglingPermiso:!1,settingPresenciaNodoSolidaridad:!1,guardandoInformeObjetivos:!1,guardandoInformeEspacios:!1,guardandoInformeComentario:!1,guardandoInformeProyectos:!1,creandoDocumentoInforme:!1,nuevoInformeObjetivos:null,nuevoInformeProyectos:null,nuevoInformeEspacios:null,nuevoInformeComentario:null,periodoInforme:"primero",activable:0}},methods:{resetearPassword(){confirm("¿Confirmar resetear el password de "+this.estaPersona.nombres+"?")&&(console.log("Reseteando password usuario"),this.reseteandoPassword=!0,this.$apollo.mutate({mutation:Se`
            mutation ($idUsuario: ID!) {
              resetearPasswordUsuario(idUsuario: $idUsuario)
            }
          `,variables:{idUsuario:this.estaPersona.id}}).then(()=>{this.reseteandoPassword=!1,alert("Contraseña reseteada")}).catch(()=>{this.reseteandoPassword=!1}))},alienar(){!this.usuarioProfe&&!this.usuarioSuperadministrador||(this.alienando=!0,this.$apollo.query({query:Se`
            query ($idAlienado: ID!) {
              alienarUsuario(idAlienado: $idAlienado)
            }
          `,variables:{idAlienado:this.estaPersona.id}}).then(({data:{alienarUsuario:e}})=>{console.log("Alienando"),this.alienando=!0,this.$router.push("/miPerfil")}).catch(e=>{console.log(`Error: ${e}`),this.alienando=!1}))},togglePermiso(e){this.usuarioSuperadministrador&&(this.togglingPermiso=!0,this.$apollo.mutate({mutation:Se`
            mutation ($permiso: String!, $idUsuario: ID!) {
              togglePermisoUsuario(permiso: $permiso, idUsuario: $idUsuario) {
                id
                permisos
              }
            }
          `,variables:{permiso:e,idUsuario:this.estaPersona.id}}).then(()=>{this.togglingPermiso=!1}).catch(t=>{console.log(`Error: ${t}`),this.togglingPermiso=!1}))},toggleResponsableNodoSolidaridad(e){console.log(`Setting presencia de ${this.estaPersona.id} en el nodo ${e.id}`),e.responsables.includes(this.estaPersona.id)?(console.log("Sacándolo"),this.settingPresenciaNodoSolidaridad=!0,this.$apollo.mutate({mutation:Se`
              mutation ($idNodo: ID!, $idUsuario: ID!) {
                removeResponsableNodoSolidaridad(
                  idNodo: $idNodo
                  idUsuario: $idUsuario
                ) {
                  id
                  responsables
                }
              }
            `,variables:{idNodo:e.id,idUsuario:this.estaPersona.id}}).then(()=>{this.settingPresenciaNodoSolidaridad=!1}).catch(o=>{console.log(`Error: ${o}`),this.settingPresenciaNodoSolidaridad=!1})):(console.log("Dentrándolo"),this.settingPresenciaNodoSolidaridad=!0,this.$apollo.mutate({mutation:Se`
              mutation ($idNodo: ID!, $idUsuario: ID!) {
                addResponsableNodoSolidaridad(
                  idNodo: $idNodo
                  idUsuario: $idUsuario
                ) {
                  id
                  responsables
                }
              }
            `,variables:{idNodo:e.id,idUsuario:this.estaPersona.id}}).then(()=>{this.settingPresenciaNodoSolidaridad=!1}).catch(o=>{console.log(`Error: ${o}`),this.settingPresenciaNodoSolidaridad=!1}))},guardarInforme(e){console.log("Guardando informe");var t=null;if(e==="objetivos"){if(t=this.$refs.inputInformeCategoriaObjetivos.value,t===this.misInformesActivos.objetivos)return;this.guardandoInformeObjetivos=!0,t&&(t=t.trim()),this.nuevoInformeObjetivos=t}if(e==="espacios"){if(t=this.$refs.inputInformeCategoriaEspacios.value,t===this.misInformesActivos.espacios)return;this.guardandoInformeEspacios=!0,t&&(t=t.trim()),this.nuevoInformeEspacios=t}if(e==="comentario"){if(t=this.$refs.inputInformeCategoriaComentario.value,t===this.misInformesActivos.comentario)return;this.guardandoInformeComentario=!0,t&&(t=t.trim()),this.nuevoInformeComentario=t}if(e==="proyectos"){if(t=this.$refs.inputInformeCategoriaProyectos.value,t===this.misInformesActivos.proyectos)return;this.guardandoInformeProyectos=!0,t&&(t=t.trim()),this.nuevoInformeProyectos=t}this.$apollo.mutate({mutation:Se`
            mutation (
              $idUsuario: ID!
              $year: Int!
              $periodo: String!
              $idProfe: ID!
              $categoria: String!
              $texto: String!
            ) {
              guardarInformeEstudianteMaestraVida(
                idUsuario: $idUsuario
                year: $year
                periodo: $periodo
                idProfe: $idProfe
                categoria: $categoria
                texto: $texto
              ) {
                id
                year
                periodo
                idProfe
                nombreProfe
                categoria
                texto
              }
            }
          `,variables:{idUsuario:this.estaPersona.id,year:2023,periodo:this.periodoInforme,idProfe:this.usuario.id,categoria:e,texto:t}}).then(({data:{guardarInformeEstudianteMaestraVida:o}})=>{const i=this.$apollo.provider.defaultClient,n=i.readQuery({query:$l,variables:{idUsuario:this.estaPersona.id}});var r=JSON.parse(JSON.stringify(n)),a=r.Usuario.informesMaestraVida.find(l=>l.id===o.id);a||(r.Usuario.informesMaestraVida.push(o),i.writeQuery({query:$l,variables:{idUsuario:this.estaPersona.id},data:r})),e==="objetivos"&&(this.guardandoInformeObjetivos=!1),e==="espacios"&&(this.guardandoInformeEspacios=!1),e==="comentario"&&(this.guardandoInformeComentario=!1),e==="proyectos"&&(this.guardandoInformeProyectos=!1)}).catch(o=>{alert("¡Error guardando informe!"),console.log("error: "+o),e==="objetivos"&&(this.guardandoInformeObjetivos=!1),e==="espacios"&&(this.guardandoInformeEspacios=!1),e==="comentario"&&(this.guardandoInformeComentario=!1),e==="proyectos"&&(this.guardandoInformeProyectos=!1)})},descargarArchivoInforme(){console.log("Creando documento docx de informe para "+this.estaPersona.nombres+" en el periodo "+this.periodoInforme),this.creandoDocumentoInforme=!0,console.log("informesObjetivos "+informesObjetivos.length);var e=new Le.TableRow({children:[new Le.TableCell({children:[new Le.Paragraph({text:"Acerca de los objetivos",style:"nombreSeccion",alignment:Le.AlignmentType.CENTER})],width:{size:300,type:Le.WidthType.DXA}}),new Le.TableCell({children:[...this.informes.filter(l=>l.year==2023&&l.periodo===this.periodoInforme&&l.categoria==="objetivos"&&l.texto&&l.texto.length>10).reduce((l,s)=>l.concat([new Le.Paragraph({children:s.texto.split(`
`).map(c=>new Le.TextRun({text:c,break:1})),style:"textoProfe"}),new Le.Paragraph({text:s.nombreProfe,style:"firmaProfe"})]),[])],width:{size:700,type:Le.WidthType.DXA}})]}),t=new Le.TableRow({children:[new Le.TableCell({width:{size:3e3,type:Le.WidthType.DXA},children:[new Le.Paragraph({text:"Proyectos pedagógicos productivos",style:"nombreSeccion",alignment:Le.AlignmentType.CENTER})]}),new Le.TableCell({width:{size:2700,type:Le.WidthType.DXA},children:[...this.informes.filter(l=>l.year==2023&&l.periodo===this.periodoInforme&&l.categoria==="proyectos"&&l.texto&&l.texto.length>10).reduce((l,s)=>l.concat([new Le.Paragraph({children:s.texto.split(`
`).map(c=>new Le.TextRun({text:c,break:1})),style:"textoProfe"}),new Le.Paragraph({text:s.nombreProfe,style:"firmaProfe"})]),[])]})]}),o=new Le.TableRow({children:[new Le.TableCell({children:[new Le.Paragraph({text:"Acerca de los espacios",style:"nombreSeccion",alignment:Le.AlignmentType.CENTER})],width:{size:300,type:Le.WidthType.DXA}}),new Le.TableCell({children:[...this.informes.filter(l=>l.year==2023&&l.periodo===this.periodoInforme&&l.categoria==="espacios"&&l.texto&&l.texto.length>10).reduce((l,s)=>l.concat([new Le.Paragraph({children:s.texto.split(`
`).map(c=>new Le.TextRun({text:c,break:1})),style:"textoProfe"}),new Le.Paragraph({text:s.nombreProfe,style:"firmaProfe"})]),[])],width:{size:700,type:Le.WidthType.DXA}})]}),i=new Le.TableRow({children:[new Le.TableCell({children:[new Le.Paragraph({text:"Comentario",style:"nombreSeccion",alignment:Le.AlignmentType.CENTER})],width:{size:300,type:Le.WidthType.DXA}}),new Le.TableCell({children:[...this.informes.filter(l=>l.year==2023&&l.periodo===this.periodoInforme&&l.categoria==="comentario"&&l.texto&&l.texto.length>10).reduce((l,s)=>l.concat([new Le.Paragraph({children:s.texto.split(`
`).map(c=>new Le.TextRun({text:c,break:1})),style:"textoProfe"}),new Le.Paragraph({text:s.nombreProfe,style:"firmaProfe"})]),[])],width:{size:700,type:Le.WidthType.DXA}})]}),n=new Le.TableRow({children:[new Le.TableCell({children:[new Le.Paragraph({text:"Promocionado: SI",style:"nombreSeccion",alignment:Le.AlignmentType.CENTER})],width:{size:300,type:Le.WidthType.DXA}})]}),r=new Le.Table({rows:[e,t,o,i,n],width:{size:8500,type:Le.WidthType.DXA}}),a=new Le.Document({styles:{paragraphStyles:[{id:"estiloGlobal",name:"Estilo global",run:{font:"Maiandra GD"}},{id:"titulos",name:"titulos",basedOn:"estiloGlobal",run:{bold:!0,size:24},paragraph:{spacing:{after:200}}},{id:"nombreEstudiante",name:"nombre del estudiante",basedOn:"estiloGlobal",run:{bold:!0,allCaps:!0},paragraph:{spacing:{after:120}}},{id:"nombreSeccion",name:"nombre de seccion",basedOn:"estiloGlobal",run:{bold:!0,size:24},paragraph:{spacing:{after:120}}},{id:"objetivo",name:"Objetivo del estudiante",basedOn:"estiloGlobal",run:{size:24}},{id:"textoProfe",name:"Texto escrito por un profe",basedOn:"estiloGlobal",run:{size:24},paragraph:{spacing:{after:30}}},{id:"firmaProfe",name:"Firma del profe",basedOn:"estiloGlobal",run:{italics:!0,size:18},paragraph:{spacing:{after:100}}}]},sections:[{children:[new Le.Paragraph({text:"INSTITUCIÓN EDUCATIVA MAESTRA VIDA",heading:Le.HeadingLevel.TITLE,style:"titulos",alignment:Le.AlignmentType.CENTER}),new Le.Paragraph({text:"RESOLUCIÓN DE APROBACIÓN N° 5549 DE JUNIO DE 2013",heading:Le.HeadingLevel.TITLE,style:"titulos",alignment:Le.AlignmentType.CENTER}),new Le.Paragraph({text:"EVALUACIÓN DE CONOCIMIENTO Y DESEMPEÑO",heading:Le.HeadingLevel.TITLE,style:"titulos",alignment:Le.AlignmentType.CENTER}),new Le.Paragraph({text:"PERIODO AGOSTO - OCTUBRE DE 2023",style:"titulos",alignment:Le.AlignmentType.CENTER}),new Le.Paragraph({text:"Nombre:  "+this.estaPersona.nombres+" "+this.estaPersona.apellidos,style:"nombreEstudiante"}),new Le.Paragraph({text:"Objetivos",style:"nombreSeccion"}),...this.estaPersona.objetivos.map(l=>new Le.Paragraph({text:l,style:"objetivo",bullet:{level:0}})),new Le.Paragraph({text:"",spacing:{after:200}}),r,new Le.Paragraph({children:[new Le.TextRun({text:"EQUIPO PEDAGÓGICO",bold:!0})],alignment:Le.AlignmentType.CENTER,style:"estiloGlobal",spacing:{before:1500}}),new Le.Paragraph({text:"Corporación Maestra Vida",heading:Le.HeadingLevel.TITLE,style:"titulos",alignment:Le.AlignmentType.CENTER})]}]});I3(a,`informe${this.estaPersona.username}.docx`),this.creandoDocumentoInforme=!1}},computed:{misInformesActivos(){if(!this.informes)return{objetivos:null,espacios:null,comentario:null,proyectos:null};var e=this.informes.find(n=>n.year===2023&&n.periodo===this.periodoInforme&&n.idProfe===this.usuario.id&&n.categoria==="objetivos"),t=this.informes.find(n=>n.year===2023&&n.periodo===this.periodoInforme&&n.idProfe===this.usuario.id&&n.categoria==="espacios"),o=this.informes.find(n=>n.year===2023&&n.periodo===this.periodoInforme&&n.idProfe===this.usuario.id&&n.categoria==="comentario"),i=this.informes.find(n=>n.year===2023&&n.periodo===this.periodoInforme&&n.idProfe===this.usuario.id&&n.categoria==="proyectos");return{objetivos:e?e.texto:null,espacios:t?t.texto:null,comentario:o?o.texto:null,proyectos:i?i.texto:null}},miEspacioActual(){const e=this.personasConEspacio.find(t=>t.id===this.estaPersona.id);return e?e.espacioActual:null},colorBarraSuperior(){if(!this.usuarioLogeado||!this.estaPersona.permisos||!this.estaPersona.permisos.includes("maestraVida-estudiante"))return{};var e="rgb(161, 240, 82)";return{backgroundColor:e}}},watch:{seleccionado(e){e||(this.mostrando=null)},informes:function(){this.activable++},misInformesActivos(){this.nuevoInformeObjetivos=this.misInformesActivos.objetivos,this.nuevoInformeProyectos=this.misInformesActivos.proyectos,this.nuevoInformeEspacios=this.misInformesActivos.espacios,this.nuevoInformeComentario=this.misInformesActivos.comentario}},mounted(){setTimeout(()=>{this.activable++},1e3),this.nuevoInformeObjetivos=this.misInformesActivos.objetivos,this.nuevoInformeProyectos=this.misInformesActivos.proyectos,this.nuevoInformeEspacios=this.misInformesActivos.espacios,this.nuevoInformeComentario=this.misInformesActivos.comentario}};function I3(e,t){const o="application/vnd.openxmlformats-officedocument.wordprocessingml.document";Le.Packer.toBlob(e).then(i=>{const n=i.slice(0,i.size,o);zu.saveAs(n,t)})}const Vt=e=>(ot("data-v-2555af04"),e=e(),nt(),e),P3={id:"barraSuperior"},D3={class:"iconoPersona"},k3={key:0,src:Vd,alt:"Profesor"},R3={id:"zonaNombres"},O3={id:"nombres"},F3={id:"zonaApellidos"},L3={id:"apellidos"},M3={id:"contenedorControlesPersona",class:"contenedorControles"},B3=Vt(()=>g("img",{src:C3,alt:"Ruta",style:{}},null,-1)),U3=[B3],$3=["title"],j3=Vt(()=>g("img",{src:rf,alt:"calendario"},null,-1)),q3=[j3],H3=["title"],V3=Vt(()=>g("img",{src:ic,alt:"Cog"},null,-1)),z3=[V3],Q3=Vt(()=>g("img",{src:S3,alt:"Virus"},null,-1)),G3=[Q3],W3=["title"],K3=["title"],J3=Vt(()=>g("img",{src:N3,alt:"Objetivo"},null,-1)),Y3=[J3],Z3={id:"zonaContenidosMostrando"},X3={id:"zonaAdministracion"},eU={id:"barraInfoAdicional"},tU={key:0,id:"username"},oU={id:"contenedorAcciones",class:"contenedorControles"},nU=["title"],iU=Vt(()=>g("img",{src:x3,alt:"Id"},null,-1)),rU=[iU],sU=Vt(()=>g("img",{src:p0,alt:"Llave"},null,-1)),aU=[sU],cU=["onClick"],lU={id:"zonaInforme"},uU={key:0,class:"contenedorSeccionInforme"},dU={class:"contenedorControles"},fU={id:"selectoresPeriodo",style:{display:"flex"}},hU=Vt(()=>g("img",{src:Ga,alt:"archivo"},null,-1)),pU=[hU],mU=Vt(()=>g("div",{class:"tituloSeccionInforme"},"Sobre objetivos",-1)),gU={class:"controlesSeccionInforme"},vU=Vt(()=>g("img",{src:rc,alt:"Guardar"},null,-1)),yU=[vU],bU=Vt(()=>g("div",{class:"tituloSeccionInforme"},"Sobre proyectos",-1)),wU={class:"controlesSeccionInforme"},EU=Vt(()=>g("img",{src:rc,alt:"Guardar"},null,-1)),AU=[EU],_U=Vt(()=>g("div",{class:"tituloSeccionInforme"},"Sobre espacios",-1)),CU={class:"controlesSeccionInforme"},SU=Vt(()=>g("img",{src:rc,alt:"Guardar"},null,-1)),NU=[SU],xU=Vt(()=>g("div",{class:"tituloSeccionInforme"},"Comentario",-1)),TU={class:"controlesSeccionInforme"},IU=Vt(()=>g("img",{src:rc,alt:"Guardar"},null,-1)),PU=[IU],DU={key:0,id:"zonaCalendario",class:"zonaPrimerNivel"},kU={key:1,id:"zonaRutaGrado"},RU={id:"zonaObjetivos"},OU={class:"anuncioZonaVacia"};function FU(e,t,o,i,n,r){var c;const a=Re("loading"),l=Re("calendario"),s=Re("ruta-grado");return J(),re("div",{class:Ae(["personaVistaLista",{seleccionado:o.seleccionado}])},[g("div",P3,[g("div",D3,[o.estaPersona.permisos.includes("maestraVida-profesor")?(J(),re("img",k3)):Te("",!0),o.estaPersona.permisos.includes("maestraVida-estudiante")?(J(),re("img",{key:1,src:_3,alt:"CapGraduacion",onClick:t[0]||(t[0]=u=>e.usuarioSuperadministrador?r.togglePermiso("maestraVida-estudiante"):"")})):Te("",!0),!o.estaPersona.permisos.includes("maestraVida-profesor")&&!o.estaPersona.permisos.includes("maestraVida-estudiante")?(J(),re("img",{key:2,src:Xa,alt:"Usuario",onClick:t[1]||(t[1]=u=>e.usuarioSuperadministrador?r.togglePermiso("maestraVida-estudiante"):"")})):Te("",!0)]),g("div",R3,[g("div",O3,[dt(we(o.estaPersona.nombres)+" ",1),r.miEspacioActual?W((J(),re("span",{key:0,class:"espacioActual"},"("+we(r.miEspacioActual)+")",513)),[[Z,o.mostrarEspacioActual]]):Te("",!0)])]),g("div",F3,[g("div",L3,we(o.estaPersona.apellidos),1)]),W(g("div",M3,[g("div",{class:Ae(["boton",{activo:n.mostrando==="rutaGrado"}]),onClick:t[2]||(t[2]=u=>n.mostrando=n.mostrando==="rutaGrado"?null:"rutaGrado")},U3,2),W(g("div",{class:Ae(["boton selector",{activo:n.mostrando==="calendario"}]),title:n.mostrando==="calendario"?"Ocultar calendario":"Mostrar calendario",onClick:t[3]||(t[3]=u=>n.mostrando=n.mostrando==="calendario"?null:"calendario")},q3,10,$3),[[Z,e.usuario&&(e.usuarioProfe||e.usuario.id===o.estaPersona.id||e.usuarioSuperadministrador)]]),e.usuarioSuperadministrador?(J(),re("div",{key:0,class:Ae(["boton selector",{activo:n.mostrando==="administracion"}]),title:n.mostrando==="administracion"?"Ocultar administracion":"Mostrar administracion",onClick:t[4]||(t[4]=u=>n.mostrando=n.mostrando==="administracion"?null:"administracion")},z3,10,H3)):Te("",!0),W(g("div",{class:"boton",onClick:t[5]||(t[5]=(...u)=>r.alienar&&r.alienar(...u)),title:"alienar"},G3,512),[[Z,e.usuarioProfe||e.usuarioAdministrador]]),e.usuarioLogeado&&e.usuarioProfe?(J(),re("div",{key:1,class:Ae(["boton selector",{activo:n.mostrando==="informe"}]),style:{width:"100px"},title:n.mostrando==="informe"?"Ocultar informe":"Mostrar informe",onClick:t[6]||(t[6]=u=>n.mostrando=n.mostrando==="informe"?null:"informe")}," Informes ",10,W3)):Te("",!0),e.usuarioLogeado&&e.usuarioProfe?(J(),re("div",{key:2,class:Ae(["boton selector",{activo:n.mostrando==="objetivos"}]),style:{width:"100px"},title:n.mostrando==="objetivos"?"Ocultar objetivos":"Mostrar objetivos",onClick:t[7]||(t[7]=u=>n.mostrando=n.mostrando==="objetivos"?null:"objetivos")},Y3,10,K3)):Te("",!0)],512),[[Z,o.seleccionado]])]),g("div",Z3,[W(g("div",X3,[W(g("div",eU,[e.usuarioSuperadministrador?(J(),re("div",tU,we(o.estaPersona.username),1)):Te("",!0)],512),[[Z,o.seleccionado]]),g("div",oU,[e.usuarioSuperadministrador?(J(),re("div",{key:0,class:Ae(["boton selector",{activo:n.mostrandoPermisos}]),onClick:t[8]||(t[8]=u=>n.mostrandoPermisos=!n.mostrandoPermisos),title:n.mostrandoPermisos?"Ocultar permisos":"Mostrar permisos"},rU,10,nU)):Te("",!0),W(g("div",{class:"boton",title:"Restaurar password (123456)",onClick:t[9]||(t[9]=(...u)=>r.resetearPassword&&r.resetearPassword(...u))},aU,512),[[Z,!n.reseteandoPassword]]),W(Ie(a,{texto:""},null,512),[[Z,n.reseteandoPassword]])]),e.usuarioSuperadministrador?W((J(),re("div",{key:0,id:"listaPermisos",class:Ae({deshabilitado:n.togglingPermiso})},[(J(!0),re(Me,null,Ve(n.permisosPosibles,u=>(J(),re("div",{class:Ae(["activadorPermiso",{permisoGranted:o.estaPersona.permisos.includes(u)}]),onClick:f=>r.togglePermiso(u),key:u+"permiso"},we(u),11,cU))),128))],2)),[[Z,n.mostrandoPermisos]]):Te("",!0)],512),[[Z,n.mostrando==="administracion"]]),W(g("div",lU,[W(Ie(a,null,null,512),[[Z,e.$apollo.queries.informes.loading]]),e.$apollo.queries.informes.loading?Te("",!0):(J(),re("div",uU,[g("div",dU,[W(g("div",fU,[g("div",{class:Ae(["boton selector",{activo:n.periodoInforme==="primero"}]),onClick:t[10]||(t[10]=u=>n.periodoInforme="primero")}," I ",2),g("div",{class:Ae(["boton selector",{activo:n.periodoInforme==="segundo"}]),onClick:t[11]||(t[11]=u=>n.periodoInforme="segundo")}," II ",2),g("div",{class:Ae(["boton selector",{activo:n.periodoInforme==="tercero"}]),onClick:t[12]||(t[12]=u=>n.periodoInforme="tercero")}," III ",2),g("div",{class:Ae(["boton selector",{activo:n.periodoInforme==="total"}]),onClick:t[13]||(t[13]=u=>n.periodoInforme="total")}," Total ",2)],512),[[Z,e.usuarioProfe]]),W(g("div",{class:"boton",onClick:t[14]||(t[14]=(...u)=>r.descargarArchivoInforme&&r.descargarArchivoInforme(...u))},pU,512),[[Z,!n.creandoDocumentoInforme]]),W(Ie(a,{texto:""},null,512),[[Z,n.creandoDocumentoInforme]])]),mU,W(g("textarea",{id:"textAreaInformeObjetivos",onBlur:t[15]||(t[15]=u=>r.guardarInforme("objetivos")),ref:"inputInformeCategoriaObjetivos",class:Ae(["seccionInforme",{deshabilitado:n.guardandoInformeObjetivos,guardado:n.nuevoInformeObjetivos==r.misInformesActivos.objetivos}]),"onUpdate:modelValue":t[16]||(t[16]=u=>n.nuevoInformeObjetivos=u)},null,34),[[Ke,n.nuevoInformeObjetivos]]),g("div",gU,[W(g("div",{class:Ae([{guardado:n.nuevoInformeObjetivos===r.misInformesActivos.objetivos},"boton botonGuardarSeccion"]),onClick:t[17]||(t[17]=u=>r.guardarInforme("objetivos"))},yU,2),[[Z,!n.guardandoInformeObjetivos]]),W(Ie(a,null,null,512),[[Z,n.guardandoInformeObjetivos]])]),bU,W(g("textarea",{id:"textAreaInformeProyectos",onBlur:t[18]||(t[18]=u=>r.guardarInforme("proyectos")),ref:"inputInformeCategoriaProyectos",class:Ae(["seccionInforme",{deshabilitado:n.guardandoInformeProyectos,guardado:n.nuevoInformeProyectos==r.misInformesActivos.proyectos}]),"onUpdate:modelValue":t[19]||(t[19]=u=>n.nuevoInformeProyectos=u)},null,34),[[Ke,n.nuevoInformeProyectos]]),g("div",wU,[W(g("div",{class:Ae([{guardado:n.nuevoInformeProyectos===r.misInformesActivos.proyectos},"boton botonGuardarSeccion"]),onClick:t[20]||(t[20]=u=>r.guardarInforme("proyectos"))},AU,2),[[Z,!n.guardandoInformeProyectos]]),W(Ie(a,null,null,512),[[Z,n.guardandoInformeProyectos]])]),_U,W(g("textarea",{id:"textAreaInformeProyectos",onBlur:t[21]||(t[21]=u=>r.guardarInforme("espacios")),ref:"inputInformeCategoriaEspacios",class:Ae(["seccionInforme",{deshabilitado:n.guardandoInformeEspacios,guardado:n.nuevoInformeEspacios==r.misInformesActivos.espacios}]),"onUpdate:modelValue":t[22]||(t[22]=u=>n.nuevoInformeEspacios=u)},null,34),[[Ke,n.nuevoInformeEspacios]]),g("div",CU,[W(g("div",{class:Ae([{guardado:n.nuevoInformeEspacios===r.misInformesActivos.espacios},"boton botonGuardarSeccion"]),onClick:t[23]||(t[23]=u=>r.guardarInforme("espacios"))},NU,2),[[Z,!n.guardandoInformeEspacios]]),W(Ie(a,null,null,512),[[Z,n.guardandoInformeEspacios]])]),xU,W(g("textarea",{id:"textAreaInformeComentario",onBlur:t[24]||(t[24]=u=>r.guardarInforme("comentario")),ref:"inputInformeCategoriaComentario",class:Ae(["seccionInforme",{deshabilitado:n.guardandoInformeComentario,guardado:n.nuevoInformeComentario==r.misInformesActivos.comentario}]),"onUpdate:modelValue":t[25]||(t[25]=u=>n.nuevoInformeComentario=u)},null,34),[[Ke,n.nuevoInformeComentario]]),g("div",TU,[W(g("div",{class:Ae([{guardado:n.nuevoInformeComentario===r.misInformesActivos.comentario},"boton botonGuardarSeccion"]),onClick:t[26]||(t[26]=u=>r.guardarInforme("comentario"))},PU,2),[[Z,!n.guardandoInformeComentario]]),W(Ie(a,null,null,512),[[Z,n.guardandoInformeComentario]])])]))],512),[[Z,n.mostrando==="informe"]]),n.mostrando==="calendario"?(J(),re("div",DU,[Ie(l,{idUsuarioTarget:o.estaPersona.id,ref:"calendario",enfasis:"eventosPersonales"},null,8,["idUsuarioTarget"])])):Te("",!0),n.mostrando==="rutaGrado"?W((J(),re("div",kU,[Ie(s,{idUsuario:o.estaPersona.id},null,8,["idUsuario"])],512)),[[Z,n.mostrando==="rutaGrado"]]):Te("",!0),W(g("div",RU,[(J(!0),re(Me,null,Ve(o.estaPersona.objetivos,(u,f)=>(J(),re("div",{class:"objetivoPersonal",key:"objetivo"+f},we(u),1))),128)),W(g("div",OU," Aún no hay objetivos ",512),[[Z,!((c=o.estaPersona.objetivos)!=null&&c.length)>0]])],512),[[Z,n.mostrando=="objetivos"]])])],2)}const LU=Qe(T3,[["render",FU],["__scopeId","data-v-2555af04"]]),MU="/caracol/assets/search-f1647707.svg",BU=/[^ a-zA-Z-]/,jl=Se`
  query {
    todosUsuarios {
      id
      nombres
      apellidos
      permisos
      username
      objetivos
    }
  }
`,UU={name:"Personas",components:{Loading:vt,PersonaVistaLista:LU},apollo:{personas:{query:jl,update:function({todosUsuarios:e}){return e},fetchPolicy:"network-only"},personasConEspacio:{query:Se`
        query($dateActual: Date){
          todosUsuarios(dateActual: $dateActual){
            id
            espacioActual
          }
        }
      `,variables(){return{dateActual:Date.now()}},update({todosUsuarios:e}){return e}}},data(){const e=localStorage.getItem("configuracionPersonas");var t={};return e&&(t=JSON.parse(e)),{personas:[],personasConEspacio:[],nodosSolidaridadPublicitados:[],idPersonaMenuCx:null,idPersonaSeleccionada:null,tipoMostrarUsuarios:"todos",permisoInput:"",textoBuscar:null,textoBusquedaUsado:null,mostrandoInputBuscar:!1,buscados:[],debouncingBusqueda:!1,mostrarEspacioActual:t.mostrarEspacioActual!=null&&t.mostrarEspacioActual!=null?t.mostrarEspacioActual:!0,mostrandoConfiguracion:!1}},methods:{setLocalStorageConfiguracion(){const e={mostrarEspacioActual:this.mostrarEspacioActual},t=JSON.stringify(e);localStorage.setItem("configuracionPersonas",t)},copiarId(e){let t=e.target.innerText.trim();const o=document.createElement("textarea");o.value=t,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o)},eliminarPersonaDeDatabase(e){confirm("¿Seguro de eliminar a este individuo?")&&console.log(`Se eliminara una persona con id ${e} de la base de datos`),this.$apollo.mutate({mutation:Se`
            mutation ($idUsuario: ID!) {
              eliminarUsuario(idUsuario: $idUsuario)
            }
          `,variables:{idUsuario:e},update:(t,{data:{eliminarUsuario:o}})=>{if(console.log(`Data: ${o}`),o)try{let i=t.readQuery({query:jl,variables:{idUsuario:e}});console.log(`cache: ${i}`);let n=i.todosUsuarios.findIndex(r=>r.id==e);n>-1&&i.todosUsuarios.splice(n,1),console.log(`cache: ${i}`),t.writeQuery({query:jl,variables:{idUsuario:e},data:i})}catch(i){console.log(`Error actualizando cache. E:${i}`)}}}).then(t=>{console.log(`Res: ${JSON.stringify(t)}`),t.data&&console.log("Usuario eliminado exitosamente")}).catch(t=>{console.log(`Error eliminando usuario: E: ${t}`)})},asignarPermisoTodos(){if(this.permisoIlegal){console.log("No enviado");return}confirm("¿Asignar este permiso a todas las personas?")&&this.$apollo.mutate({mutation:Se`
            mutation ($nuevoPermiso: String!) {
              asignarPermisoTodosUsuarios(nuevoPermiso: $nuevoPermiso)
            }
          `,variables:{nuevoPermiso:this.permisoInput}}).then(()=>{alert("Permiso "+this.permisoInput+" asignado para todos los usuarios")})},iniciarBuscar(){this.mostrandoInputBuscar=!0,this.$nextTick(()=>{this.$refs.inputBuscar.focus()})},cancelarBusqueda(){this.buscados=[],this.textoBuscar=null,this.mostrandoInputBuscar=!1,this.textoBusquedaUsado=null},calcularBuscados:$d(function(){console.log("Setting textoBusquedaUsado"),this.textoBusquedaUsado=this.textoBuscar},800)},computed:{opcionesEspecialesPersona:function(){let e=[];return this.usuarioSuperadministrador&&(e=e.concat([{textoVisible:"Eliminar de la base de datos",evento:"eliminandoseDeDatabase"},{textoVisible:"resetear contraseña (123456)",evento:"reseteandoPass"}])),e},permisoIlegal(){return!!(this.permisoInput.length<1||BU.test(this.permisoInput))},personasVisibles(){var e=JSON.parse(JSON.stringify(this.personas));return this.tipoMostrarUsuarios==="profesores"?e=e.filter(t=>t.permisos.includes("maestraVida-profesor")):this.tipoMostrarUsuarios==="estudiantes"?e=e.filter(t=>t.permisos.includes("maestraVida-estudiante")):this.tipoMostrarUsuarios==="graduados"&&(e=e.filter(t=>t.permisos.includes("maestraVida-graduado"))),this.textoBusquedaUsado&&e.sort((t,o)=>ba.stringSimilarity.compareTwoStrings(o.nombres+o.apellidos,this.textoBusquedaUsado)-ba.stringSimilarity.compareTwoStrings(t.nombres+t.apellidos,this.textoBusquedaUsado)),e}},watch:{mostrarEspacioActual(){this.setLocalStorageConfiguracion()}}},jo=e=>(ot("data-v-2f4d3931"),e=e(),nt(),e),$U={class:"personas"},jU={class:"barraSeccion"},qU={class:"contenedorControles",style:{"margin-left":"auto"}},HU=jo(()=>g("img",{src:ic,alt:"Configuración",style:{}},null,-1)),VU=[HU],zU={class:"zonaConfiguracion"},QU=jo(()=>g("div",{class:"barraSeccion"},"Configuración",-1)),GU={class:"contenedorBloquesConfiguracion"},WU={class:"bloqueConfiguracion"},KU={class:"campoConfiguracion"},JU=jo(()=>g("label",{for:"checkMostrarEspacioActual"},"Mostrar espacio en el que se encuentra cada persona",-1)),YU={class:"zonaConfiguracion"},ZU={class:"contenedorBloquesConfiguracion"},XU={class:"bloqueConfiguracion"},e$={class:"campoConfiguracion",id:"campoUsuariosMostrados"},t$=jo(()=>g("span",{style:{width:"100%"}}," Mostrar:",-1)),o$={class:"opcion"},n$=jo(()=>g("label",{for:"mostrarTodos"},"Todos",-1)),i$={class:"opcion"},r$=jo(()=>g("label",{for:"mostrarEstudiantes"},"Estudiantes",-1)),s$={class:"opcion"},a$=jo(()=>g("label",{for:"mostrarProfesores"},"Profesorxs",-1)),c$={class:"opcion"},l$=jo(()=>g("label",{for:"mostrarGraduados"},"Graduados",-1)),u$={id:"zonaBuscar"},d$={class:"barraSuperior"},f$=jo(()=>g("img",{src:MU,alt:"Lupa"},null,-1)),h$=[f$],p$=jo(()=>g("img",{src:xo,alt:"Equis"},null,-1)),m$=[p$];function g$(e,t,o,i,n,r){const a=Re("router-view"),l=Re("loading"),s=Re("persona-vista-lista");return J(),re("div",$U,[Ie(a),g("div",jU,[g("div",qU,[g("div",{class:"boton",onClick:t[0]||(t[0]=c=>n.mostrandoConfiguracion=!n.mostrandoConfiguracion)},VU)])]),W(g("div",zU,[QU,g("div",GU,[g("div",WU,[g("div",KU,[JU,W(g("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>n.mostrarEspacioActual=c),type:"checkbox",name:"checkMostrarEspacioActual",id:"checkMostrarEspacioActual",ref:"checkMostrarEspacioActual"},null,512),[[Un,n.mostrarEspacioActual]])])])])],512),[[Z,n.mostrandoConfiguracion]]),g("div",YU,[g("div",ZU,[g("div",XU,[g("div",e$,[t$,g("div",o$,[n$,W(g("input",{type:"radio",name:"radioMostrarTodos",ref:"mostrarTodos",value:"todos","onUpdate:modelValue":t[2]||(t[2]=c=>n.tipoMostrarUsuarios=c),id:"radioMostrarTodos"},null,512),[[wi,n.tipoMostrarUsuarios]])]),g("div",i$,[r$,W(g("input",{type:"radio",name:"radioMostrarEstudiantes",ref:"mostrarEstudiantes",value:"estudiantes","onUpdate:modelValue":t[3]||(t[3]=c=>n.tipoMostrarUsuarios=c),id:"radioMostrarEstudiantes"},null,512),[[wi,n.tipoMostrarUsuarios]])]),g("div",s$,[a$,W(g("input",{type:"radio",name:"radioMostrarProfesores",ref:"mostrarProfesores",value:"profesores","onUpdate:modelValue":t[4]||(t[4]=c=>n.tipoMostrarUsuarios=c),id:"radioMostrarProfesores"},null,512),[[wi,n.tipoMostrarUsuarios]])]),g("div",c$,[l$,W(g("input",{type:"radio",name:"radioMostrarGraduados",ref:"mostrarGraduados",value:"graduados","onUpdate:modelValue":t[5]||(t[5]=c=>n.tipoMostrarUsuarios=c),id:"radioMostrarGraduados"},null,512),[[wi,n.tipoMostrarUsuarios]])])])])])]),g("div",u$,[g("div",d$,[W(g("input",{type:"text",ref:"inputBuscar","onUpdate:modelValue":t[6]||(t[6]=c=>n.textoBuscar=c),onInput:t[7]||(t[7]=(...c)=>r.calcularBuscados&&r.calcularBuscados(...c))},null,544),[[Ke,n.textoBuscar],[Z,n.mostrandoInputBuscar]]),W(g("div",{class:"boton",onClick:t[8]||(t[8]=(...c)=>r.iniciarBuscar&&r.iniciarBuscar(...c))},h$,512),[[Z,!n.mostrandoInputBuscar]]),W(g("div",{class:"boton",title:"Cancelar",onClick:t[9]||(t[9]=(...c)=>r.cancelarBusqueda&&r.cancelarBusqueda(...c))},m$,512),[[Z,n.mostrandoInputBuscar]])])]),g("div",{id:"listaPersonas",onClick:t[10]||(t[10]=c=>n.idPersonaMenuCx=null)},[W(Ie(l,{texto:"Cargando lista de personas..."},null,512),[[Z,e.$apollo.queries.personas.loading]]),(J(!0),re(Me,null,Ve(r.personasVisibles,c=>(J(),We(s,{key:c.id,seleccionado:n.idPersonaSeleccionada===c.id,estaPersona:c,nodosSolidaridadPublicitados:n.nodosSolidaridadPublicitados,personasConEspacio:n.personasConEspacio,mostrarEspacioActual:n.mostrarEspacioActual,onClick:u=>n.idPersonaSeleccionada=c.id},null,8,["seleccionado","estaPersona","nodosSolidaridadPublicitados","personasConEspacio","mostrarEspacioActual","onClick"]))),128))])])}const v$=Qe(UU,[["render",g$],["__scopeId","data-v-2f4d3931"]]),y$="/caracol/assets/exclamationCircle-1e9df160.svg",b$={components:{Loading:vt},name:"EventoItemLista",props:{esteEvento:Object},mixins:[us,ds,n0,ef],data(){return{mostrando:null,eliminandose:!1}}},sf=e=>(ot("data-v-8fbb8e28"),e=e(),nt(),e),w$={id:"barraSuperior"},E$={id:"zonaInfoHorario",style:{display:"flex"}},A$={id:"horarioInicio",class:"infoHorario"},_$={id:"zonaBotones"},C$=sf(()=>g("img",{src:ec,alt:"Expandir"},null,-1)),S$=[C$],N$=sf(()=>g("img",{src:y$,alt:"Informacion"},null,-1)),x$=[N$],T$=sf(()=>g("img",{src:ni,alt:"Eliminar"},null,-1)),I$=[T$],P$={id:"barraInfo"},D$={id:"zonaNombre"},k$={id:"zonaDescripcion",class:"zonaPrimerNivel"},R$={class:"contenedorBotonesCampo"};function O$(e,t,o,i,n,r){const a=Re("loading");return J(),re("div",{class:Ae(["eventoItemLista",{deshabilitado:n.eliminandose}])},[g("div",w$,[g("div",E$,[g("div",A$,we(e.dateInicioLegible+", "+e.duracionLegible),1)]),g("div",_$,[g("div",{class:"boton botonControlEvento",title:"Expandir este evento",onClick:t[0]||(t[0]=De(l=>e.$router.push(e.$route.path+"/ventanaEventoPublico/"+o.esteEvento.id),["stop"]))},S$),g("div",{class:"boton botonMostrar",onClick:t[1]||(t[1]=l=>n.mostrando=n.mostrando==="descripcion"?null:"descripcion")},x$),W(g("div",{class:"boton",id:"botonEliminarse",style:{"margin-left":"min(20px, 3%)"},onClick:t[2]||(t[2]=(...l)=>e.eliminarse&&e.eliminarse(...l))},I$,512),[[Z,e.administrador||e.usuarioSuperadministrador]])])]),g("div",P$,[g("div",D$,[W(g("input",{onKeypress:t[3]||(t[3]=xt(De((...l)=>e.guardarNuevoNombre&&e.guardarNuevoNombre(...l),["prevent"]),["enter"])),ref:"inputNuevoNombre","onUpdate:modelValue":t[4]||(t[4]=l=>e.nuevoNombre=l),style:{width:"250px"},onClick:t[5]||(t[5]=De(()=>{},["stop"])),onBlur:t[6]||(t[6]=l=>e.editandoNombre=!1),onKeydown:t[7]||(t[7]=(...l)=>e.keydownInputNuevoNombre&&e.keydownInputNuevoNombre(...l)),type:"text",class:Ae(["inputNuevoNombre inputNombreCosa",{deshabilitado:e.enviandoNuevoNombre}])},null,34),[[Ke,e.nuevoNombre],[Z,e.editandoNombre]]),W(Ie(a,{texto:""},null,512),[[Z,e.enviandoNuevoNombre]]),W(g("div",{id:"elNombre",class:Ae({deshabilitado:e.enviandoNuevoNombre,administrador:e.administrador}),onClick:t[8]||(t[8]=(...l)=>e.toggleEditandoNombre&&e.toggleEditandoNombre(...l))},we(o.esteEvento.nombre),3),[[Z,!e.editandoNombre]])])]),W(g("div",k$,[W(g("div",{id:"descripcion",class:"contenidoTexto",ref:"descripcion",onClick:t[9]||(t[9]=(...l)=>e.toggleEditandoDescripcion&&e.toggleEditandoDescripcion(...l))},we(o.esteEvento.descripcion),513),[[Z,!e.editandoDescripcion]]),W(g("textarea",{id:"inputNuevoDescripcion",ref:"inputNuevoDescripcion",class:Ae(["inputTextoNodo",{letrasRojas:e.nuevoDescripcionIlegal}]),"onUpdate:modelValue":t[10]||(t[10]=l=>e.nuevoDescripcion=l)},null,2),[[Ke,e.nuevoDescripcion],[Z,e.editandoDescripcion]]),W(g("div",R$,[g("img",{src:ls,class:"botonGuardarCampo",alt:"Guardar",title:"Guardar descripción",id:"botonGuardarDescripcion",onClick:t[11]||(t[11]=(...l)=>e.guardarNuevoDescripcion&&e.guardarNuevoDescripcion(...l))}),g("img",{src:xo,class:"botonGuardarCampo",alt:"Cancelar",title:"Cancelar edición",id:"botonCancelarEdicionDescripcion",onClick:t[12]||(t[12]=l=>e.editandoDescripcion=!1)})],512),[[Z,e.editandoDescripcion]]),W(Ie(a,{texto:"Enviando..."},null,512),[[Z,e.enviandoNuevoDescripcion]])],512),[[Z,n.mostrando==="descripcion"]])],2)}const F$=Qe(b$,[["render",O$],["__scopeId","data-v-8fbb8e28"]]),ql=Se`
  query ($idEspacio: ID!) {
    eventosPublicosEspacio(idEspacio: $idEspacio) {
      ...fragEventoPublico
    }
  }
  ${Ji}
`,L$={components:{EventoItemLista:F$,Loading:vt},props:{idEspacio:String},name:"ListaEventosEspacio",apollo:{eventosPublicosEspacio:{query:ql,variables(){return{idEspacio:this.idEspacio}},fetchPolicy:"cache-and-network"}},data(){return{idEventoSeleccionado:null,eventosPublicosEspacio:[]}},methods:{deleteEventoCache(e){const t=e.__typename.charAt(0).toLowerCase()+e.__typename.slice(1);var o=null;if(t==="eventoPublico")o={query:ql,variables:{idEspacio:this.idEspacio}};else if(t==="eventoPersonal"){console.log("add cache eventos personales not developed");return}else{console.log(`Tipo evento ${t} no reconocido`);return}const i=this.$apollo.provider.defaultClient,n=i.readQuery({...o});var r=JSON.parse(JSON.stringify(n)),a=null;t==="eventoPublico"?a=r.eventosPublicosEspacio:t==="eventoPersonal"&&(a=r.eventosPersonalesEspacio);const l=a.findIndex(s=>s.id===e.id);l>-1&&(a.splice(l,1),i.writeQuery({...o,data:r}))},addEventoCache(e){const t=e.__typename.charAt(0).toLowerCase()+e.__typename.slice(1);var o=null;if(t==="eventoPublico")o={query:ql,variables:{idEspacio:this.idEspacio}};else if(t==="eventoPersonal"){console.log("add cache eventos personales not developed");return}else{console.log(`Tipo evento ${t} no reconocido`);return}const i=this.$apollo.provider.defaultClient,n=i.readQuery({...o});var r=JSON.parse(JSON.stringify(n)),a=null;t==="eventoPublico"?a=r.eventosPublicosEspacio:t==="eventoPersonal"&&(a=r.eventosPersonalesEspacio),a.findIndex(s=>s.id===e.id)===-1&&(a.push(e),i.writeQuery({...o,data:r}))}},computed:{eventosPublicosEspacioOrdenados(){return[...this.eventosPublicosEspacio].sort((e,t)=>-new Date(e.horarioInicio).getTime()+new Date(t.horarioInicio).getTime())}}},M$={class:"listaEventosEspacio"};function B$(e,t,o,i,n,r){const a=Re("loading"),l=Re("evento-item-lista");return J(),re("div",M$,[W(Ie(a,{texto:""},null,512),[[Z,e.$apollo.queries.eventosPublicosEspacio.loading]]),(J(!0),re(Me,null,Ve(r.eventosPublicosEspacioOrdenados,s=>(J(),We(l,{esteEvento:s,key:s.id,seleccionado:n.idEventoSeleccionado===s.id,onMeElimine:c=>{r.deleteEventoCache(s)}},null,8,["esteEvento","seleccionado","onMeElimine"]))),128))])}const U$=Qe(L$,[["render",B$],["__scopeId","data-v-304cab60"]]),$$="/caracol/assets/userCog-13234f22.svg",j$="/caracol/assets/clipboardList-6ff4ab60.svg",sc="/caracol/assets/equis-115f5fad.svg",q$={components:{Loading:vt,IconoPersonaAutonomo:Wi,Calendario:of,ListaEventosEspacio:U$},name:"Espacio",props:{esteEspacio:Object},data(){return{abierto:!1,mostrando:null,nuevoNombre:"Nuevo nombre",editandoNombre:!1,enviandoNuevoNombre:!1,nuevoDescripcion:"Nueva descripcion",editandoDescripcion:!1,enviandoNuevoDescripcion:!1,mostrandoCuadroCrearEventoPublico:!1,nombreNuevoEventoPublico:"Espacio de "+this.esteEspacio.nombre,dateInicioNuevoEventoPublico:null,dateFinalNuevoEventoPublico:null,horarioInicioNuevoEventoPublico:null,horarioFinalNuevoEventoPublico:null,duracionNuevoEventoPublico:60,creandoEventoPublico:!1,enviandoNuevoEventoPublico:!1,introduciendoEventoPublicoCalendario:!1,settingEstadoParaChiquis:!1,eliminandose:!1}},methods:{toggleEstadoParaChiquis(){if(!this.usuarioSuperadministrador&&!this.administrador){console.log("No autorizado");return}this.settingEstadoParaChiquis=!0,this.$apollo.mutate({mutation:Se`
          mutation($idEspacio: ID!, $nuevoEstado:Boolean!){
            setEspacioParaChiquis(idEspacio: $idEspacio, nuevoEstado: $nuevoEstado){
               id
               paraChiquis 
            }
          }
          `,variables:{idEspacio:this.esteEspacio.id,nuevoEstado:!this.esteEspacio.paraChiquis}}).then(()=>{this.settingEstadoParaChiquis=!1}).catch(e=>{console.log("Error: "+e),this.settingEstadoParaChiquis=!1})},guardarNuevoNombre(){if(this.nuevoNombre=this.$refs.inputNuevoNombre.value,this.nuevoNombreIlegal){console.log("No enviado");return}if(this.nuevoNombre==this.esteEspacio.nombre){this.editandoNombre=!1;return}console.log("guardando nuevo nombre"),this.enviandoNuevoNombre=!0,this.$apollo.mutate({mutation:Se`
            mutation ($idEspacio: ID!, $nuevoNombre: String!) {
              editarNombreEspacio(
                idEspacio: $idEspacio
                nuevoNombre: $nuevoNombre
              ) {
                id
                nombre
              }
            }
          `,variables:{idEspacio:this.esteEspacio.id,nuevoNombre:this.nuevoNombre}}).then(()=>{this.enviandoNuevoNombre=!1,this.editandoNombre=!1}).catch(e=>{this.enviandoNuevoNombre=!1,console.log(`Error. E :${e}`)})},guardarNuevoDescripcion(){if(this.nuevoDescripcionIlegal){console.log("No enviado");return}if(this.nuevoDescripcion==this.esteEspacio.descripcion){this.editandoDescripcion=!1;return}console.log("guardando nuevo descripcion"),this.enviandoNuevoDescripcion=!0,this.$apollo.mutate({mutation:Se`
            mutation ($idEspacio: ID!, $nuevoDescripcion: String!) {
              editarDescripcionEspacio(
                idEspacio: $idEspacio
                nuevoDescripcion: $nuevoDescripcion
              ) {
                id
                descripcion
              }
            }
          `,variables:{idEspacio:this.esteEspacio.id,nuevoDescripcion:this.nuevoDescripcion}}).then(()=>{this.enviandoNuevoDescripcion=!1,this.editandoDescripcion=!1}).catch(e=>{this.enviandoNuevoDescripcion=!1,console.log(`Error. E :${e}`)})},toggleEditandoDescripcion(){this.administrador&&(this.$refs.inputNuevoDescripcion.style.height=this.$refs.descripcion.offsetHeight+"px",this.editandoDescripcion=!this.editandoDescripcion,this.nuevoDescripcion=this.esteEspacio.descripcion,this.editandoDescripcion&&this.$nextTick(()=>{this.$refs.inputNuevoDescripcion.focus()}))},toggleEditandoNombre(e){this.administrador&&(e.stopPropagation(),this.editandoNombre=!0,this.nuevoNombre=this.esteEspacio.nombre,this.$nextTick(()=>{this.$refs.inputNuevoNombre.focus()}))},keydownInputNuevoNombre(e){e.key==="Escape"&&(this.editandoNombre=!1)},iniciarCreacionEvento(){this.introduciendoEventoPublicoCalendario=!0},eliminarse(){confirm("¿Confirmar la eliminación de este espacio? (Esta acción no puede deshacerse)")&&(!this.administrador&&!this.usuarioSuperadministrador||(this.eliminandose=!0,this.$apollo.mutate({mutation:Se`
            mutation ($idEspacio: ID!) {
              eliminarEspacio(idEspacio: $idEspacio)
            }
          `,variables:{idEspacio:this.esteEspacio.id}}).then(()=>{this.$emit("meElimine")}).catch(e=>{console.log(`Error: ${e}`)})))},iniciarCuadroCrearEventoPublico(){this.nombreNuevoEventoPublico="Espacio de "+this.esteEspacio.nombre;var e=new Date;e.setHours(8),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e=new Date(e.getTime()+864e5);const t=e.toISOString().split("T")[0],i=new Date(e.getTime()+36e5).toISOString().split("T")[0];this.dateInicioNuevoEventoPublico=t,this.dateFinalNuevoEventoPublico=i,this.horarioInicioNuevoEventoPublico="08:00",this.horarioFinalNuevoEventoPublico="09:00",this.mostrandoCuadroCrearEventoPublico=!0},crearEventoPublico(){if(!this.administrador&&!this.usuarioSuperadministrador)return;console.log(`Date saved: ${this.dateInicioNuevoEventoPublico}`),this.duracionNuevoEventoPublico=this.$refs.inputDuracionNuevoEventoPublico.value;var e=new Date(this.dateInicioNuevoEventoPublico);console.log(`Date parsed: ${e}`);const t=e.getUTCDate();console.log(`Creando evento público el ${t}`);const o=parseInt(this.horarioInicioNuevoEventoPublico.substring(0,2)),i=parseInt(this.horarioInicioNuevoEventoPublico.substring(3));e.setDate(t),e.setHours(o),e.setMinutes(i);var n=new Date(e.getTime()+this.duracionNuevoEventoPublico*6e4);console.log(`Creando evento público el ${t}`),this.enviandoNuevoEventoPublico=!0,this.$apollo.mutate({mutation:Se`
            mutation ($infoNuevoEvento: InputCrearEventoPublico) {
              crearEventoPublico(infoNuevoEvento: $infoNuevoEvento) {
                ...fragEventoPublico
              }
            }
            ${Ji}
          `,variables:{infoNuevoEvento:{nombre:this.$refs.inputNombreNuevoEventoPublico.value,horarioInicio:e,horarioFinal:n,tipoParent:"espacio",idParent:this.esteEspacio.id}}}).then(({data:{crearEventoPublico:r}})=>{this.enviandoNuevoEventoPublico=!1,this.$refs.listaEventosEspacio.addEventoCache(r),this.mostrandoCuadroCrearEventoPublico=!1}).catch(r=>{console.log(`Error: ${r}`),this.enviandoNuevoEventoPublico=!1})}},computed:{administrador(){return this.usuarioLogeado?this.usuario.id===this.esteEspacio.idAdministrador:!1},nuevoNombreIlegal(){return!!(this.nuevoNombre.length<1||ss.test(this.nuevoNombre))},nuevoDescripcionIlegal(){return!!(!this.nuevoDescripcion||this.nuevoDescripcion.length<1||gb.test(this.nuevoDescripcion))}},watch:{mostrando(e){e!="descripcion"&&(this.editandoDescripcion=!1),e==="descripcion"&&(!this.esteEspacio.descripcion||this.esteEspacio.descripcion.length<1)&&(this.editandoDescripcion||this.toggleEditandoDescripcion())},introduciendoEventoPublicoCalendario(e){e?this.$refs.calendario.eventoSiendoCreado={idParent:this.esteEspacio.id,tipoParent:"espacio",tipoEvento:"eventoPublico",idAdministrador:this.usuario.id}:this.$refs.calendario.eventoSiendoCreado=null}}},eo=e=>(ot("data-v-c84e2b4f"),e=e(),nt(),e),H$={class:"barraSuperior"},V$={id:"zona1"},z$={id:"zonaNombre"},Q$={id:"zonaBotones"},G$=eo(()=>g("img",{src:fs,alt:"Informacion"},null,-1)),W$=[G$],K$=eo(()=>g("img",{src:$$,alt:"Administrador"},null,-1)),J$=[K$],Y$=eo(()=>g("img",{src:rf,alt:"Calendario"},null,-1)),Z$=[Y$],X$=eo(()=>g("img",{src:j$,alt:"Lista de eventos"},null,-1)),ej=[X$],tj=eo(()=>g("img",{src:ni,alt:"Eliminar"},null,-1)),oj=[tj],nj={id:"zonaDescripcion",class:"zonaPrimerNivel"},ij=eo(()=>g("img",{src:u0,alt:"Chiqui",style:{height:"15px"}},null,-1)),rj={class:"contenedorBotonesCampo"},sj={id:"zonaAdministrador",class:"zonaPrimerNivel"},aj={key:0,id:"zonaCalendario",class:"zonaPrimerNivel"},cj={id:"contenedorControlesCalendario"},lj=["title"],uj=eo(()=>g("img",{src:tf,alt:"Calendario"},null,-1)),dj=[uj],fj=eo(()=>g("img",{src:sc,alt:"Cancelar"},null,-1)),hj=[fj],pj={key:1,id:"zonaListaEventos",class:"zonaPrimerNivel"},mj={id:"controlesListaEventos",class:"contenedorControles"},gj=eo(()=>g("img",{src:Qi,alt:"Crear evento"},null,-1)),vj=[gj],yj=eo(()=>g("img",{src:sc,alt:"Cancelar"},null,-1)),bj=[yj],wj={class:"bloqueCampoNuevoEventoPublico"},Ej=eo(()=>g("div",{class:"nombreCampo"},"Nombre",-1)),Aj={class:"bloqueCampoNuevoEventoPublico"},_j=eo(()=>g("div",{class:"nombreCampo"},"Inicio",-1)),Cj={class:"bloqueCampoNuevoEventoPublico"},Sj=eo(()=>g("div",{class:"nombreCampo"},"Duración",-1)),Nj=eo(()=>g("img",{src:tf,alt:"CrearEvento"},null,-1)),xj=[Nj];function Tj(e,t,o,i,n,r){const a=Re("loading"),l=Re("icono-persona-autonomo"),s=Re("calendario"),c=Re("lista-eventos-espacio");return J(),re("div",{class:Ae(["espacio",{mostrando:n.mostrando,deshabilitado:n.eliminandose}])},[g("div",H$,[g("div",V$,[g("div",z$,[W(g("input",{onKeypress:t[0]||(t[0]=xt(De((...u)=>r.guardarNuevoNombre&&r.guardarNuevoNombre(...u),["prevent"]),["enter"])),ref:"inputNuevoNombre","onUpdate:modelValue":t[1]||(t[1]=u=>n.nuevoNombre=u),style:{width:"250px"},onClick:t[2]||(t[2]=De(()=>{},["stop"])),onBlur:t[3]||(t[3]=(...u)=>r.guardarNuevoNombre&&r.guardarNuevoNombre(...u)),onKeydown:t[4]||(t[4]=(...u)=>r.keydownInputNuevoNombre&&r.keydownInputNuevoNombre(...u)),type:"text",class:Ae(["inputNuevoNombre inputNombreCosa",{deshabilitado:n.enviandoNuevoNombre}])},null,34),[[Ke,n.nuevoNombre],[Z,n.editandoNombre]]),W(Ie(a,{texto:""},null,512),[[Z,n.enviandoNuevoNombre]]),W(g("div",{id:"elNombre",class:Ae({deshabilitado:n.enviandoNuevoNombre,administrador:r.administrador}),onClick:t[5]||(t[5]=(...u)=>r.toggleEditandoNombre&&r.toggleEditandoNombre(...u))},we(o.esteEspacio.nombre),3),[[Z,!n.editandoNombre]])])]),g("div",Q$,[g("div",{class:Ae(["boton botonMostrar selector",{activo:n.mostrando==="descripcion"}]),onClick:t[6]||(t[6]=u=>n.mostrando=n.mostrando==="descripcion"?null:"descripcion")},W$,2),g("div",{class:Ae(["boton botonMostrar selector",{activo:n.mostrando==="administrador"}]),onClick:t[7]||(t[7]=u=>n.mostrando=n.mostrando==="administrador"?null:"administrador")},J$,2),g("div",{class:Ae(["boton botonMostrar selector",{activo:n.mostrando==="calendario"}]),onClick:t[8]||(t[8]=u=>n.mostrando=n.mostrando==="calendario"?null:"calendario")},Z$,2),g("div",{class:Ae(["boton botonMostrar selector",{activo:n.mostrando==="listaEventos"}]),onClick:t[9]||(t[9]=u=>n.mostrando=n.mostrando==="listaEventos"?null:"listaEventos")},ej,2),W(g("div",{class:"boton",id:"botonEliminarse",onClick:t[10]||(t[10]=(...u)=>r.eliminarse&&r.eliminarse(...u))},oj,512),[[Z,r.administrador||e.usuarioSuperadministrador]])])]),W(g("div",nj,[g("div",{id:"zonaParaChiquis",onClick:t[11]||(t[11]=(...u)=>r.toggleEstadoParaChiquis&&r.toggleEstadoParaChiquis(...u)),class:Ae({deshabilitado:n.settingEstadoParaChiquis})},[ij,dt(" "+we(o.esteEspacio.paraChiquis?"Espacio dirigido a niñxs pequeñxs":"Espacio abierto para todos"),1)],2),W(g("div",{id:"descripcion",class:"contenidoTexto",ref:"descripcion",onClick:t[12]||(t[12]=(...u)=>r.toggleEditandoDescripcion&&r.toggleEditandoDescripcion(...u))},we(o.esteEspacio.descripcion),513),[[Z,!n.editandoDescripcion]]),W(g("textarea",{id:"inputNuevoDescripcion",ref:"inputNuevoDescripcion",class:Ae(["inputTextoNodo",{letrasRojas:r.nuevoDescripcionIlegal}]),"onUpdate:modelValue":t[13]||(t[13]=u=>n.nuevoDescripcion=u)},null,2),[[Ke,n.nuevoDescripcion],[Z,n.editandoDescripcion]]),W(g("div",rj,[g("img",{src:ls,class:"botonGuardarCampo",alt:"Guardar",title:"Guardar descripción",id:"botonGuardarDescripcion",onClick:t[14]||(t[14]=(...u)=>r.guardarNuevoDescripcion&&r.guardarNuevoDescripcion(...u))}),g("img",{src:xo,class:"botonGuardarCampo",alt:"Cancelar",title:"Cancelar edición",id:"botonCancelarEdicionDescripcion",onClick:t[15]||(t[15]=u=>n.editandoDescripcion=!1)})],512),[[Z,n.editandoDescripcion]]),W(Ie(a,{texto:"Enviando..."},null,512),[[Z,n.enviandoNuevoDescripcion]])],512),[[Z,n.mostrando==="descripcion"]]),W(g("div",sj,[Ie(l,{idPersona:o.esteEspacio.idAdministrador},null,8,["idPersona"])],512),[[Z,n.mostrando==="administrador"]]),n.mostrando==="calendario"?(J(),re("div",aj,[g("div",cj,[r.administrador?W((J(),re("div",{key:0,class:"boton botonControlCalendario",title:"Programar una sesión de "+o.esteEspacio.nombre,onClick:t[16]||(t[16]=(...u)=>r.iniciarCreacionEvento&&r.iniciarCreacionEvento(...u))},dj,8,lj)),[[Z,n.mostrando==="calendario"&&!n.introduciendoEventoPublicoCalendario]]):Te("",!0),W(g("div",{class:"boton botonControlCalendario",title:"Cancelar creación de evento",onClick:t[17]||(t[17]=u=>n.introduciendoEventoPublicoCalendario=!1)},hj,512),[[Z,n.mostrando==="calendario"&&n.introduciendoEventoPublicoCalendario]])]),Ie(s,{idUsuarioTarget:e.usuario.id,ref:"calendario",idParent:o.esteEspacio.id,enfasis:"eventosPublicos",tipoParent:"espacio",onIniciaCreacionEvento:t[18]||(t[18]=u=>n.introduciendoEventoPublicoCalendario=!1)},null,8,["idUsuarioTarget","idParent"])])):Te("",!0),n.mostrando==="listaEventos"?(J(),re("div",pj,[g("div",mj,[W(g("div",{class:"boton",title:"Crear nuevo evento de este espacio",onClick:t[19]||(t[19]=(...u)=>r.iniciarCuadroCrearEventoPublico&&r.iniciarCuadroCrearEventoPublico(...u))},vj,512),[[Z,!n.mostrandoCuadroCrearEventoPublico&&(r.administrador||e.usuarioSuperadministrador)]]),W(g("div",{class:"boton",title:"Cancelar",onClick:t[20]||(t[20]=u=>n.mostrandoCuadroCrearEventoPublico=!1)},bj,512),[[Z,n.mostrandoCuadroCrearEventoPublico]]),W(Ie(a,{texto:""},null,512),[[Z,n.creandoEventoPublico]])]),W(g("div",{id:"cuadroCrearEventoPublico",class:Ae({deshabilitado:n.enviandoNuevoEventoPublico})},[g("div",wj,[Ej,W(g("input",{class:"inputCampo",type:"text",name:"",id:"inputNombreNuevoEventoPublico",ref:"inputNombreNuevoEventoPublico","onUpdate:modelValue":t[21]||(t[21]=u=>n.nombreNuevoEventoPublico=u)},null,512),[[Ke,n.nombreNuevoEventoPublico]])]),g("div",Aj,[_j,W(g("input",{type:"date","onUpdate:modelValue":t[22]||(t[22]=u=>n.dateInicioNuevoEventoPublico=u),class:"inputCampo"},null,512),[[Ke,n.dateInicioNuevoEventoPublico]]),W(g("input",{type:"time","onUpdate:modelValue":t[23]||(t[23]=u=>n.horarioInicioNuevoEventoPublico=u),class:"inputCampo"},null,512),[[Ke,n.horarioInicioNuevoEventoPublico]])]),g("div",Cj,[Sj,W(g("input",{type:"number",ref:"inputDuracionNuevoEventoPublico","onUpdate:modelValue":t[24]||(t[24]=u=>n.duracionNuevoEventoPublico=u),class:"inputCampo"},null,512),[[Ke,n.duracionNuevoEventoPublico]]),dt(" Minutos ")]),W(g("div",{class:Ae(["boton",{deshabilitado:!n.duracionNuevoEventoPublico||n.duracionNuevoEventoPublico<5}]),id:"botonCrearEventoPublico",style:{margin:"10px auto"},title:"Crear evento",onClick:t[25]||(t[25]=(...u)=>r.crearEventoPublico&&r.crearEventoPublico(...u))},xj,2),[[Z,!n.creandoEventoPublico]]),W(Ie(a,{texto:"",style:{margin:"10px auto"}},null,512),[[Z,n.enviandoNuevoEventoPublico]])],2),[[Z,n.mostrandoCuadroCrearEventoPublico]]),Ie(c,{idEspacio:this.esteEspacio.id,ref:"listaEventosEspacio"},null,8,["idEspacio"])])):Te("",!0)],2)}const Ij=Qe(q$,[["render",Tj],["__scopeId","data-v-c84e2b4f"]]),Ig="/caracol/assets/angleDown-f350642e.svg",Ar=Se`
  query {
    todosEspacios {
      ...fragEspacio
    }
  }
  ${oc}
`,Pj={components:{Espacio:Ij,Loading:vt,OrganizadorHorarioSemanal:h0},props:{yo:Object},apollo:{todosEspacios:{query:Ar}},name:"Espacios",data(){return{todosEspacios:[],verTodos:!1,creandoEspacio:!1,mostrandoEspacios:!1,mostrandoOrganizadorSemanal:!1,mostrandoConfiguracion:!1,tipoMostrarEspacios:"mios"}},methods:{crearNuevoEspacio(){this.creandoEspacio=!0,this.$apollo.mutate({mutation:Se`
            mutation ($info: InputCrearEspacio) {
              crearEspacio(info: $info) {
                ...fragEspacio
              }
            }
            ${oc}
          `,variables:{info:{idAdministrador:this.usuario.id}}}).then(({data:{crearEspacio:e}})=>{const t=this.$apollo.provider.defaultClient,o=t.readQuery({query:Ar}),i=JSON.parse(JSON.stringify(o));i.todosEspacios.findIndex(r=>r.id===e.id)===-1?(i.todosEspacios.push(e),t.writeQuery({query:Ar,data:i})):console.log("El espacio ya estaba en caché"),this.creandoEspacio=!1}).catch(e=>{console.log(`Error: ${e}`),this.creandoEspacio=!1})},eliminarEspacioCache(e){const t=this.$apollo.provider.defaultClient,o=t.readQuery({query:Ar});var i=JSON.parse(JSON.stringify(o));const n=i.todosEspacios.findIndex(r=>r.id===e);n>-1&&(i.todosEspacios.splice(n,1),t.writeQuery({query:Ar,data:i}))},manejarCreacionEventos(e){console.log(`Manejando la repeticion de los eventos de un espacio con id ${e[0].idParent}`)},handleCambioFechaEvento(){console.log("Handling")}},computed:{usuarioProfe(){return this.usuarioLogeado?this.usuario.permisos.includes("maestraVida-profesor"):!1},espaciosVisibles(){return this.tipoMostrarEspacios==="todos"?this.espaciosUsuario.concat(this.espaciosNoUsuario):this.espaciosUsuario},espaciosUsuario(){return this.usuarioLogeado?this.todosEspacios.filter(e=>e.idAdministrador===this.usuario.id):[]},espaciosNoUsuario(){return this.usuarioLogeado?this.todosEspacios.filter(e=>e.idAdministrador!=this.usuario.id):this.todosEspacios}},watch:{mostrandoOrganizadorSemanal(e){e&&this.$refs.organizadorSemanal.$apollo.queries.espacios.refetch()}},beforeRouteLeave(e,t,o){if(this.$refs.organizadorSemanal.checkVentanaBloque()){console.log("Había bloque en ventana");return}o()}},hs=e=>(ot("data-v-d09db217"),e=e(),nt(),e),Dj={class:"espacios"},kj=hs(()=>g("img",{src:ic,alt:"Config",style:{}},null,-1)),Rj=[kj],Oj=hs(()=>g("img",{src:Qi,alt:"Crear",style:{}},null,-1)),Fj=[Oj],Lj={class:"zonaConfiguracion"},Mj=hs(()=>g("div",{class:"barraSeccion"}," Configuración ",-1)),Bj={class:"contenedorBloquesConfiguracion"},Uj={class:"bloqueConfiguracion"},$j={class:"campoConfiguracion"},jj=hs(()=>g("label",{for:"checkMostrarTodosEspacios"},"Mis espacios",-1)),qj=hs(()=>g("label",{for:"checkMostrarTodosEspacios"},"Todos los espacios",-1)),Hj={id:"listaEspacios"},Vj={key:0,class:"anuncioZonaVacia"};function zj(e,t,o,i,n,r){const a=Re("router-view"),l=Re("loading"),s=Re("espacio"),c=Re("organizador-horario-semanal");return J(),re("div",Dj,[Ie(a,{id:"visorVentanaEventoPublico",onMeRepetiPeriodicamente:r.manejarCreacionEventos,onEventoCambioFecha:t[0]||(t[0]=u=>r.manejarCreacionEventos([u]))},null,8,["onMeRepetiPeriodicamente"]),g("div",{class:"barraSeccion",onClick:t[4]||(t[4]=u=>n.mostrandoEspacios=!n.mostrandoEspacios)},[g("img",{src:Ig,style:qe([{height:"20px"},[{transform:n.mostrandoEspacios?"none":"rotate(-90deg)"}]]),alt:"Abrir"},null,4),dt(" Espacios "),W(g("div",{class:"contenedorControles",onClick:t[3]||(t[3]=De(()=>{},["stop"])),style:{"margin-left":"auto"}},[g("div",{class:"boton",onClick:t[1]||(t[1]=u=>n.mostrandoConfiguracion=!n.mostrandoConfiguracion)},Rj),W(g("div",{class:"boton",onClick:t[2]||(t[2]=De((...u)=>r.crearNuevoEspacio&&r.crearNuevoEspacio(...u),["stop"]))},Fj,512),[[Z,n.mostrandoEspacios&&!n.creandoEspacio]]),W(Ie(l,{texto:""},null,512),[[Z,n.creandoEspacio]])],512),[[Z,n.mostrandoEspacios]])]),W(g("div",Lj,[Mj,g("div",Bj,[g("div",Uj,[g("div",$j,[dt(" Mostrar: "),jj,W(g("input",{type:"radio",name:"checkMostrarTodosEspacios",id:"checkMostrarTodosEspacios",ref:"checkMostrarTodosEspacios",value:"mios","onUpdate:modelValue":t[5]||(t[5]=u=>n.tipoMostrarEspacios=u)},null,512),[[wi,n.tipoMostrarEspacios]]),qj,W(g("input",{type:"radio",name:"checkMostrarTodosEspacios",id:"checkMostrarTodosEspacios",ref:"checkMostrarTodosEspacios",value:"todos","onUpdate:modelValue":t[6]||(t[6]=u=>n.tipoMostrarEspacios=u)},null,512),[[wi,n.tipoMostrarEspacios]])])])])],512),[[Z,n.mostrandoConfiguracion&&n.mostrandoEspacios]]),W(g("div",Hj,[!r.espaciosVisibles||r.espaciosVisibles.length<1?(J(),re("div",Vj," Aún no hay espacios ")):Te("",!0),(J(!0),re(Me,null,Ve(r.espaciosVisibles,u=>(J(),We(s,{ref_for:!0,ref:"espacios",key:u.id,esteEspacio:u,onMeElimine:f=>r.eliminarEspacioCache(u.id)},null,8,["esteEspacio","onMeElimine"]))),128))],512),[[Z,n.mostrandoEspacios]]),g("div",{class:"barraSeccion",onClick:t[7]||(t[7]=u=>n.mostrandoOrganizadorSemanal=!n.mostrandoOrganizadorSemanal)},[g("img",{src:Ig,style:qe([{height:"20px"},[{transform:n.mostrandoOrganizadorSemanal?"none":"rotate(-90deg)"}]]),alt:"Abrir"},null,4),dt(" Calendario semanal ")]),W(Ie(c,{ref:"organizadorSemanal",yo:o.yo},null,8,["yo"]),[[Z,n.mostrandoOrganizadorSemanal]])])}const Qj=Qe(Pj,[["render",zj],["__scopeId","data-v-d09db217"]]),Gj={name:"InfoParticipanteEventoPublico",props:{estaParticipacion:Object,eventoPublico:Object,duracionEventoPublico:Number},data(){return{mostrando:null}},computed:{offsetBarraPresencia(){const o=(this.dateInicio-new Date(this.eventoPublico.horarioInicio))/6e4*100/this.duracionEventoPublico,i=this.duracionMinutos*100/this.duracionEventoPublico;return{left:o+"%",width:i+"%"}},duracionMinutos(){return(this.dateFinal-this.dateInicio)/6e4},horaInicioLegible(){var e=this.dateInicio.getHours(),t=this.dateInicio.getMinutes();return(""+e).length<2&&(e="0"+e),(""+t).length<2&&(t="0"+t),e+":"+t},horaFinalLegible(){var e=this.dateFinal.getHours(),t=this.dateFinal.getMinutes();return(""+e).length<2&&(e="0"+e),(""+t).length<2&&(t="0"+t),e+":"+t},dateInicio(){return new Date(this.estaParticipacion.horarioInicio)},dateFinal(){return new Date(this.estaParticipacion.horarioFinal)}}},m0=e=>(ot("data-v-0f790998"),e=e(),nt(),e),Wj={class:"infoParticipanteEventoPublico"},Kj={id:"barraSuperior"},Jj=m0(()=>g("div",{class:"boton iconoUser"},[g("img",{src:Xa,alt:"Usuario"})],-1)),Yj={id:"nombrePersona"},Zj={class:"contenedorControles",style:{"margin-left":"auto"}},Xj=m0(()=>g("img",{src:fs,alt:"Info"},null,-1)),eq=[Xj],tq={id:"barraTiempos"},oq={id:"bloqueInformacion"},nq={id:"nombreEventoPersonal"},iq={id:"horariosEventoPersonal"},rq={key:0,id:"descripcion"};function sq(e,t,o,i,n,r){return J(),re("div",Wj,[g("div",Kj,[Jj,g("div",Yj,we(o.estaParticipacion.nombresPersona),1),g("div",Zj,[g("div",{class:Ae(["boton",{activo:n.mostrando==="descripcion"}]),onClick:t[0]||(t[0]=a=>n.mostrando=n.mostrando==="descripcion"?null:"descripcion")},eq,2)])]),g("div",tq,[g("div",{id:"barraPresencia",style:qe([r.offsetBarraPresencia])},null,4)]),W(g("div",oq,[g("div",nq,we(this.estaParticipacion.nombre),1),g("div",iq,we(r.horaInicioLegible)+"-"+we(r.horaFinalLegible),1),o.estaParticipacion.descripcion?(J(),re("div",rq,we(o.estaParticipacion.descripcion),1)):Te("",!0)],512),[[Z,n.mostrando==="descripcion"]])])}const aq=Qe(Gj,[["render",sq],["__scopeId","data-v-0f790998"]]),g0="/caracol/assets/hourglass-d9e3c275.svg",v0="/caracol/assets/check-29c8fc2c.svg",cq="/caracol/assets/broadcastTower-216b6220.svg",lq=Se`
  query ($idEvento: ID!) {
    eventoPublico(idEvento: $idEvento) {
      ...fragEventoPublico
    }
  }
  ${Ji}
`,uq={name:"VentanaEvento",apollo:{esteEvento:{query:lq,variables(){return{idEvento:this.$route.params.idEvento}},update({eventoPublico:e}){return e},fetchPolicy:"cache-and-network"}},components:{Loading:vt,IconoPersonaAutonomo:Wi,InfoParticipanteEventoPublico:aq},mixins:[us,ef,ds,n0,r0],data(){return{}},methods:{broadcastAFuturoMaximoParticipantes(){console.log(`Se fijará que todos los eventos futuros de este espacio tengan ${this.esteEvento.limiteDeCupos}`),confirm("Se fijará que todos los eventos de este espacio (Posteriores a este) tendrán un límite de cupos de "+this.esteEvento.limiteDeCupos+". ¿Continuar?")&&this.$apollo.mutate({mutation:Se`
          mutation($idEspacio: ID!, $dateFrom: Date!, $limiteDeCupos: Int!){
            setLimiteDeCuposEventosPublicosEspacioFromDate(idEspacio: $idEspacio, dateFrom: $dateFrom, limiteDeCupos: $limiteDeCupos)                        
          }
        `,variables:{idEspacio:this.esteEvento.idParent,dateFrom:this.dateInicio,limiteDeCupos:this.esteEvento.limiteDeCupos}}).then(()=>{}).catch(e=>{console.log(`Error: ${e}`)})}},computed:{}},to=e=>(ot("data-v-92bf6e6d"),e=e(),nt(),e),dq={class:"ventanaEventoPublico"},fq={id:"zonaCobertura"},hq={id:"laVentana"},pq={id:"contenido"},mq={id:"barraSuperior"},gq=to(()=>g("img",{src:sc,alt:"Salir"},null,-1)),vq=[gq],yq=to(()=>g("img",{src:g0,alt:"Repetir"},null,-1)),bq=[yq],wq={id:"zonaRepetir"},Eq=to(()=>g("div",{class:"instruccion",style:{"margin-bottom":"10px"}}," Repetir este evento... ",-1)),Aq=to(()=>g("option",{value:"diariamente"},"Diariamente",-1)),_q=to(()=>g("option",{value:"semanalmente"},"Semanalmente",-1)),Cq=[Aq,_q],Sq={id:"bloqueCantidadRepetir",style:{margin:"10px auto"}},Nq=["min","max"],xq=to(()=>g("img",{src:v0,alt:"Aceptar"},null,-1)),Tq=[xq],Iq={id:"zonaNombre"},Pq={id:"zonaTiempos"},Dq={id:"bloqueHorarioInicio",class:"bloqueCampo"},kq=to(()=>g("div",{class:"nombreCampo"},"Inicio",-1)),Rq={class:"valorCampo"},Oq={id:"bloqueDuracion",class:"bloqueCampo"},Fq=to(()=>g("div",{class:"nombreCampo"},"Duracion",-1)),Lq={class:"valorCampo"},Mq={key:0,id:"bloqueLugar",class:"bloqueCampo"},Bq=to(()=>g("div",{class:"nombreCampo"},"Lugar",-1)),Uq={class:"valorCampo"},$q={class:"bloqueAdministrador bloqueCampo"},jq=to(()=>g("div",{class:"nombreCampo"},"Administra",-1)),qq={class:"valorCampo",style:{opacity:"0.9"}},Hq={id:"contenedorSelectoresMostrar"},Vq=["title"],zq=to(()=>g("img",{src:fs,alt:"Descripción"},null,-1)),Qq=[zq],Gq=["title"],Wq=to(()=>g("img",{src:Xa,alt:"Participantes"},null,-1)),Kq=[Wq],Jq={id:"zonaContenidoMostrando"},Yq={id:"zonaDescripcion",class:"zonaInformacion"},Zq={class:"contenedorBotonesCampo"},Xq={id:"zonaParticipantes"},eH={id:"bloqueMaxParticipantes",class:"bloqueCampo"},tH=to(()=>g("div",{class:"nombreCampo"},"Maximo:",-1)),oH={class:"valorCampo"},nH=to(()=>g("img",{src:cq,alt:"Todos"},null,-1)),iH=[nH],rH={id:"listaParticipantes"};function sH(e,t,o,i,n,r){const a=Re("loading"),l=Re("icono-persona-autonomo"),s=Re("info-participante-evento-publico");return J(),re("div",dq,[g("div",fq,[g("div",hq,[W(Ie(a,{texto:""},null,512),[[Z,e.$apollo.queries.esteEvento.loading]]),W(g("div",pq,[g("div",mq,[g("div",{class:"boton",title:"Cerrar",style:{"margin-left":"auto"},onClick:t[0]||(t[0]=(...c)=>e.cerrarVentana&&e.cerrarVentana(...c))},vq),e.administrador||e.usuarioSuperadministrador?(J(),re("div",{key:0,class:"boton",title:"Repetir este evento",onClick:t[1]||(t[1]=c=>e.mostrandoZonaRepetir=!e.mostrandoZonaRepetir)},bq)):Te("",!0)]),W(g("div",wq,[Eq,W(g("select",{name:"",id:"selectFrecuenciaRepetir","onUpdate:modelValue":t[2]||(t[2]=c=>e.periodoRepetir=c)},Cq,512),[[ka,e.periodoRepetir]]),g("div",Sq,[W(g("input",{type:"number",min:e.minRepetir,max:e.maxRepetir,style:{width:"50px","margin-right":"20px"},name:"",id:"inputCantidadRepetir","onUpdate:modelValue":t[3]||(t[3]=c=>e.cantidadRepetir=c)},null,8,Nq),[[Ke,e.cantidadRepetir]]),dt(" "+we(e.cantidadRepetir>1?"veces":"vez"),1)]),W(g("div",{class:"boton",style:{margin:"10px auto"},title:"Aceptar",onClick:t[4]||(t[4]=c=>e.repetirEvento(e.cantidadRepetir,e.periodoRepetir))},Tq,512),[[Z,!e.enviandoQueryRepetir]]),W(Ie(a,{texto:"",style:{margin:"10px auto"}},null,512),[[Z,e.enviandoQueryRepetir]])],512),[[Z,e.mostrandoZonaRepetir]]),g("div",Iq,[W(g("input",{onKeypress:t[5]||(t[5]=xt(De((...c)=>e.guardarNuevoNombre&&e.guardarNuevoNombre(...c),["prevent"]),["enter"])),ref:"inputNuevoNombre","onUpdate:modelValue":t[6]||(t[6]=c=>e.nuevoNombre=c),onClick:t[7]||(t[7]=De(()=>{},["stop"])),onBlur:t[8]||(t[8]=(...c)=>e.guardarNuevoNombre&&e.guardarNuevoNombre(...c)),onKeydown:t[9]||(t[9]=(...c)=>e.keydownInputNuevoNombre&&e.keydownInputNuevoNombre(...c)),type:"text",class:Ae(["inputNuevoNombre inputNombreCosa",{deshabilitado:e.enviandoNuevoNombre}])},null,34),[[Ke,e.nuevoNombre],[Z,e.editandoNombre]]),W(Ie(a,{texto:""},null,512),[[Z,e.enviandoNuevoNombre]]),W(g("div",{id:"elNombre",class:Ae({deshabilitado:e.enviandoNuevoNombre,administrador:e.administrador}),onClick:t[10]||(t[10]=(...c)=>e.toggleEditandoNombre&&e.toggleEditandoNombre(...c))},we(e.esteEvento.nombre),3),[[Z,!e.editandoNombre]])]),g("div",Pq,[g("div",Dq,[kq,g("div",Rq,[W(g("div",{id:"fechaInicio",onClick:t[11]||(t[11]=De((...c)=>e.iniciarEdicionFechaInicio&&e.iniciarEdicionFechaInicio(...c),["stop"]))},we(e.fechaInicioLegible),513),[[Z,!e.editandoFechaInicio]]),W(g("input",{type:"date",id:"inputFechaInicio",ref:"inputFechaInicio",onKeypress:t[12]||(t[12]=xt(c=>e.updateFechaInicioHoldDuration(c.target.value),["enter"])),onBlur:t[13]||(t[13]=c=>e.updateFechaInicioHoldDuration(c.target.value))},null,544),[[Z,e.editandoFechaInicio]]),W(g("div",{id:"horaInicio",onClick:t[14]||(t[14]=De((...c)=>e.iniciarEdicionHoraInicio&&e.iniciarEdicionHoraInicio(...c),["stop"]))},we(e.horaInicioLegible),513),[[Z,!e.editandoHoraInicio]]),W(g("input",{type:"time",id:"inputHoraInicio",ref:"inputHoraInicio",class:Ae({deshabilitado:e.enviandoSomeHorario}),onBlur:t[15]||(t[15]=c=>e.updateHoraInicioHoldDuration(c.target.value)),onKeypress:t[16]||(t[16]=xt(c=>e.updateHoraInicioHoldDuration(c.target.value),["enter"]))},null,34),[[Z,e.editandoHoraInicio]])])]),g("div",Oq,[Fq,g("div",Lq,[W(g("div",{id:"duracion",onClick:t[17]||(t[17]=De((...c)=>e.iniciarEdicionDuracion&&e.iniciarEdicionDuracion(...c),["stop"]))},we(e.duracionMinutos)+we(e.duracionMinutos!=1?" minutos":" minuto"),513),[[Z,!e.editandoDuracion]]),W(g("input",{type:"number",id:"inputDuracion",style:{width:"100px"},ref:"inputDuracion",class:Ae({deshabilitado:e.enviandoSomeHorario}),onBlur:t[18]||(t[18]=c=>e.updateDuracion(c.target.value)),onKeypress:t[19]||(t[19]=xt(c=>e.updateDuracion(c.target.value),["enter"]))},null,34),[[Z,e.editandoDuracion]])])])]),e.esteEvento.lugar?(J(),re("div",Mq,[Bq,g("div",Uq,we(e.esteEvento.lugar),1)])):Te("",!0),g("div",$q,[jq,g("div",qq,[Ie(l,{factorEscala:"0.5",idPersona:e.esteEvento.idAdministrador},null,8,["factorEscala","idPersona"])])]),g("div",Hq,[g("div",{class:Ae(["boton",{deshabilitado:(!e.esteEvento.descripcion||e.esteEvento.descripcion.length<1)&&!e.administrador}]),style:qe({borderColor:e.mostrando==="descripcion"?"white":"black"}),onClick:t[20]||(t[20]=c=>e.mostrando="descripcion"),title:e.mostrando==="descripcion"?"":"Mostrar descripción"},Qq,14,Vq),g("div",{class:"boton",style:qe({borderColor:e.mostrando==="participantes"?"white":"black"}),onClick:t[21]||(t[21]=c=>e.mostrando="participantes"),title:e.mostrando==="participantes"?"":"Mostrar participantes del evento"},Kq,12,Gq)]),g("div",Jq,[W(g("div",Yq,[W(g("div",{id:"descripcion",class:"contenidoTexto",ref:"descripcion",onClick:t[22]||(t[22]=(...c)=>e.toggleEditandoDescripcion&&e.toggleEditandoDescripcion(...c))},we(e.esteEvento.descripcion),513),[[Z,!e.editandoDescripcion]]),W(g("textarea",{id:"inputNuevoDescripcion",class:Ae(["inputTexto",{letrasRojas:e.nuevoDescripcionIlegal}]),ref:"inputNuevoDescripcion","onUpdate:modelValue":t[23]||(t[23]=c=>e.nuevoDescripcion=c)},null,2),[[Ke,e.nuevoDescripcion],[Z,e.editandoDescripcion]]),W(g("div",Zq,[g("img",{src:ls,class:"boton botonGuardarCampo",alt:"Guardar",title:"Guardar descripción",id:"botonGuardarDescripcion",onClick:t[24]||(t[24]=(...c)=>e.guardarNuevoDescripcion&&e.guardarNuevoDescripcion(...c))}),g("img",{src:xo,class:"boton botonGuardarCampo",alt:"Cancelar",title:"Cancelar edición",id:"botonCancelarEdicionDescripcion",onClick:t[25]||(t[25]=c=>e.editandoDescripcion=!1)})],512),[[Z,e.editandoDescripcion]]),W(Ie(a,{texto:"Enviando..."},null,512),[[Z,e.enviandoNuevoDescripcion]])],512),[[Z,e.mostrando==="descripcion"]]),W(g("div",Xq,[g("div",eH,[tH,g("div",oH,[W(g("input",{onKeypress:t[26]||(t[26]=xt(De((...c)=>e.guardarNuevoLimiteDeCupos&&e.guardarNuevoLimiteDeCupos(...c),["prevent"]),["enter"])),ref:"inputNuevoLimiteDeCupos","onUpdate:modelValue":t[27]||(t[27]=c=>e.nuevoLimiteDeCupos=c),onClick:t[28]||(t[28]=De(()=>{},["stop"])),onBlur:t[29]||(t[29]=(...c)=>e.guardarNuevoLimiteDeCupos&&e.guardarNuevoLimiteDeCupos(...c)),type:"number",class:Ae(["inputNuevoLimiteDeCupos inputLimiteDeCuposCosa",{deshabilitado:e.enviandoNuevoLimiteDeCupos}])},null,34),[[Ke,e.nuevoLimiteDeCupos],[Z,e.editandoLimiteDeCupos]]),W(Ie(a,{texto:""},null,512),[[Z,e.enviandoNuevoLimiteDeCupos]]),W(g("div",{id:"elLimiteDeCupos",class:Ae({deshabilitado:e.enviandoNuevoLimiteDeCupos,administrador:e.administrador}),onClick:t[30]||(t[30]=(...c)=>e.toggleEditandoLimiteDeCupos&&e.toggleEditandoLimiteDeCupos(...c))},we(e.esteEvento.limiteDeCupos||"Sin límite"),3),[[Z,!e.editandoLimiteDeCupos]])]),g("div",{class:"boton",style:{"margin-left":"20px"},onClick:t[31]||(t[31]=(...c)=>r.broadcastAFuturoMaximoParticipantes&&r.broadcastAFuturoMaximoParticipantes(...c)),title:"Fijar este valor para todos los eventos futuros de este espacio"},iH)]),g("div",rH,[(J(!0),re(Me,null,Ve(e.esteEvento.eventosEnmarcados,c=>(J(),We(s,{estaParticipacion:c,key:c.id,eventoPublico:e.esteEvento,duracionEventoPublico:e.duracionMinutos},null,8,["estaParticipacion","eventoPublico","duracionEventoPublico"]))),128))])],512),[[Z,e.mostrando==="participantes"]])])],512),[[Z,!e.$apollo.queries.esteEvento.loading]])])])])}const Hl=Qe(uq,[["render",sH],["__scopeId","data-v-92bf6e6d"]]),aH="/caracol/assets/users-51870354.svg",cH=Se`
  query ($idEvento: ID!) {
    eventoPersonal(idEvento: $idEvento) {
      ...fragEventoPersonal
    }
  }
  ${ii}
`,lH={name:"VentanaEventoPersonal",apollo:{esteEvento:{query:cH,variables(){return{idEvento:this.$route.params.idEvento}},update({eventoPersonal:e}){return e},fetchPolicy:"cache-and-network"}},components:{Loading:vt,IconoPersonaAutonomo:Wi},mixins:[us,OB,ds,r0],data(){return{mostrandoZonaRepetir:!1,periodoRepetir:"diariamente",cantidadRepetir:1,esteEvento:{idsParticipantes:[]}}},methods:{},computed:{}},Po=e=>(ot("data-v-4735d611"),e=e(),nt(),e),uH={class:"ventanaEventoPersonal"},dH={id:"zonaCobertura"},fH={id:"laVentana"},hH={id:"contenido"},pH={id:"barraSuperior"},mH=Po(()=>g("img",{src:sc,alt:"Salir"},null,-1)),gH=[mH],vH=Po(()=>g("img",{src:g0,alt:"Repetir"},null,-1)),yH=[vH],bH={id:"zonaRepetir"},wH=Po(()=>g("div",{class:"instruccion",style:{"margin-bottom":"10px"}}," Repetir este evento... ",-1)),EH=Po(()=>g("option",{value:"diariamente"},"Diariamente",-1)),AH=Po(()=>g("option",{value:"semanalmente"},"Semanalmente",-1)),_H=[EH,AH],CH={id:"bloqueCantidadRepetir",style:{margin:"10px auto"}},SH=["min","max"],NH=Po(()=>g("img",{src:v0,alt:"Aceptar"},null,-1)),xH=[NH],TH={id:"zonaNombre"},IH={id:"zonaTiempos"},PH={id:"bloqueHorarioInicio",class:"bloqueCampo"},DH=Po(()=>g("div",{class:"nombreCampo"},"Inicio",-1)),kH={class:"valorCampo"},RH={id:"bloqueDuracion",class:"bloqueCampo"},OH=Po(()=>g("div",{class:"nombreCampo"},"Duracion",-1)),FH={class:"valorCampo"},LH={key:0,id:"bloqueLugar",class:"bloqueCampo"},MH=Po(()=>g("div",{class:"nombreCampo"},"Lugar",-1)),BH={class:"valorCampo"},UH={id:"contenedorSelectoresMostrar"},$H=["title"],jH=Po(()=>g("img",{src:fs,alt:"Descripción"},null,-1)),qH=[jH],HH=["title"],VH=Po(()=>g("img",{src:aH,alt:"Participantes"},null,-1)),zH=[VH],QH={id:"zonaContenidoMostrando"},GH={id:"zonaDescripcion",class:"zonaInformacion"},WH={class:"contenedorBotonesCampo"},KH={id:"zonaParticipantes",class:"zonaInformacion"},JH={key:0,id:"listaParticipantes"};function YH(e,t,o,i,n,r){const a=Re("loading"),l=Re("icono-persona-autonomo");return J(),re("div",uH,[g("div",dH,[g("div",fH,[W(Ie(a,{texto:""},null,512),[[Z,e.$apollo.queries.esteEvento.loading]]),W(g("div",hH,[g("div",pH,[g("div",{class:"boton",title:"Cerrar",style:{"margin-left":"auto"},onClick:t[0]||(t[0]=(...s)=>e.cerrarVentana&&e.cerrarVentana(...s))},gH),e.administrador||e.usuarioSuperadministrador?(J(),re("div",{key:0,class:"boton",title:"Repetir este evento",onClick:t[1]||(t[1]=s=>n.mostrandoZonaRepetir=!n.mostrandoZonaRepetir)},yH)):Te("",!0)]),W(g("div",bH,[wH,W(g("select",{name:"",id:"selectFrecuenciaRepetir","onUpdate:modelValue":t[2]||(t[2]=s=>n.periodoRepetir=s)},_H,512),[[ka,n.periodoRepetir]]),g("div",CH,[W(g("input",{type:"number",min:e.minRepetir,max:e.maxRepetir,style:{width:"50px","margin-right":"20px"},name:"",id:"inputCantidadRepetir","onUpdate:modelValue":t[3]||(t[3]=s=>n.cantidadRepetir=s)},null,8,SH),[[Ke,n.cantidadRepetir]]),dt(" "+we(n.cantidadRepetir>1?"veces":"vez"),1)]),W(g("div",{class:"boton",style:{margin:"10px auto"},title:"Aceptar",onClick:t[4]||(t[4]=s=>e.repetirEvento(n.cantidadRepetir,n.periodoRepetir))},xH,512),[[Z,!e.enviandoQueryRepetir]]),W(Ie(a,{texto:"",style:{margin:"10px auto"}},null,512),[[Z,e.enviandoQueryRepetir]])],512),[[Z,n.mostrandoZonaRepetir]]),g("div",TH,[W(g("input",{onKeypress:t[5]||(t[5]=xt(De((...s)=>e.guardarNuevoNombre&&e.guardarNuevoNombre(...s),["prevent"]),["enter"])),ref:"inputNuevoNombre","onUpdate:modelValue":t[6]||(t[6]=s=>e.nuevoNombre=s),onClick:t[7]||(t[7]=De(()=>{},["stop"])),onBlur:t[8]||(t[8]=(...s)=>e.guardarNuevoNombre&&e.guardarNuevoNombre(...s)),onKeydown:t[9]||(t[9]=(...s)=>e.keydownInputNuevoNombre&&e.keydownInputNuevoNombre(...s)),type:"text",class:Ae(["inputNuevoNombre inputNombreCosa",{deshabilitado:e.enviandoNuevoNombre}])},null,34),[[Ke,e.nuevoNombre],[Z,e.editandoNombre]]),W(Ie(a,{texto:""},null,512),[[Z,e.enviandoNuevoNombre]]),W(g("div",{id:"elNombre",class:Ae({deshabilitado:e.enviandoNuevoNombre,administrador:e.administrador}),onClick:t[10]||(t[10]=(...s)=>e.toggleEditandoNombre&&e.toggleEditandoNombre(...s))},we(n.esteEvento.nombre),3),[[Z,!e.editandoNombre]])]),g("div",IH,[g("div",PH,[DH,g("div",kH,[W(g("div",{id:"fechaInicio",onClick:t[11]||(t[11]=De((...s)=>e.iniciarEdicionFechaInicio&&e.iniciarEdicionFechaInicio(...s),["stop"]))},we(e.fechaInicioLegible),513),[[Z,!e.editandoFechaInicio]]),W(g("input",{type:"date",id:"inputFechaInicio",ref:"inputFechaInicio",onKeypress:t[12]||(t[12]=xt(s=>e.updateFechaInicioHoldDuration(s.target.value),["enter"])),onBlur:t[13]||(t[13]=s=>e.updateFechaInicioHoldDuration(s.target.value))},null,544),[[Z,e.editandoFechaInicio]]),W(g("div",{id:"horaInicio",onClick:t[14]||(t[14]=De((...s)=>e.iniciarEdicionHoraInicio&&e.iniciarEdicionHoraInicio(...s),["stop"]))},we(e.horaInicioLegible),513),[[Z,!e.editandoHoraInicio]]),W(g("input",{type:"time",id:"inputHoraInicio",ref:"inputHoraInicio",class:Ae({deshabilitado:e.enviandoSomeHorario}),onBlur:t[15]||(t[15]=s=>e.updateHoraInicioHoldDuration(s.target.value)),onKeypress:t[16]||(t[16]=xt(s=>e.updateHoraInicioHoldDuration(s.target.value),["enter"]))},null,34),[[Z,e.editandoHoraInicio]])])]),g("div",RH,[OH,g("div",FH,[W(g("div",{id:"duracion",onClick:t[17]||(t[17]=De((...s)=>e.iniciarEdicionDuracion&&e.iniciarEdicionDuracion(...s),["stop"]))},we(e.duracionMinutos)+we(e.duracionMinutos!=1?" minutos":" minuto"),513),[[Z,!e.editandoDuracion]]),W(g("input",{type:"number",id:"inputDuracion",style:{width:"100px"},ref:"inputDuracion",class:Ae({deshabilitado:e.enviandoSomeHorario}),onBlur:t[18]||(t[18]=s=>e.updateDuracion(s.target.value)),onKeypress:t[19]||(t[19]=xt(s=>e.updateDuracion(s.target.value),["enter"]))},null,34),[[Z,e.editandoDuracion]])])])]),n.esteEvento.lugar?(J(),re("div",LH,[MH,g("div",BH,we(n.esteEvento.lugar),1)])):Te("",!0),g("div",UH,[g("div",{class:Ae(["boton",{deshabilitado:(!n.esteEvento.descripcion||n.esteEvento.descripcion.length<1)&&!e.administrador}]),style:qe({borderColor:e.mostrando==="descripcion"?"white":"black"}),onClick:t[20]||(t[20]=s=>e.mostrando="descripcion"),title:e.mostrando==="descripcion"?"":"Mostrar descripción"},qH,14,$H),g("div",{class:"boton",title:e.mostrando==="participantes"?"Ocultar participantes":"Mostrar participantes",onClick:t[21]||(t[21]=s=>e.mostrando=e.mostrando==="participantes"?null:"participantes")},zH,8,HH)]),g("div",QH,[W(g("div",GH,[W(g("div",{id:"descripcion",class:"contenidoTexto",ref:"descripcion",onClick:t[22]||(t[22]=(...s)=>e.toggleEditandoDescripcion&&e.toggleEditandoDescripcion(...s))},we(n.esteEvento.descripcion),513),[[Z,!e.editandoDescripcion]]),W(g("textarea",{id:"inputNuevoDescripcion",class:Ae(["inputTexto",{letrasRojas:e.nuevoDescripcionIlegal}]),ref:"inputNuevoDescripcion","onUpdate:modelValue":t[23]||(t[23]=s=>e.nuevoDescripcion=s)},null,2),[[Ke,e.nuevoDescripcion],[Z,e.editandoDescripcion]]),W(g("div",WH,[g("img",{src:ls,class:"boton botonGuardarCampo",alt:"Guardar",title:"Guardar descripción",id:"botonGuardarDescripcion",onClick:t[24]||(t[24]=(...s)=>e.guardarNuevoDescripcion&&e.guardarNuevoDescripcion(...s))}),g("img",{src:xo,class:"boton botonGuardarCampo",alt:"Cancelar",title:"Cancelar edición",id:"botonCancelarEdicionDescripcion",onClick:t[25]||(t[25]=s=>e.editandoDescripcion=!1)})],512),[[Z,e.editandoDescripcion]]),W(Ie(a,{texto:"Enviando..."},null,512),[[Z,e.enviandoNuevoDescripcion]])],512),[[Z,e.mostrando==="descripcion"]]),W(g("div",KH,[n.esteEvento.idPersona?(J(),re("div",JH,[(J(!0),re(Me,null,Ve([n.esteEvento.idPersona].concat(n.esteEvento.idsParticipantes),s=>(J(),We(l,{key:"participante"+s,idPersona:s,factorEscala:"0.7"},null,8,["idPersona","factorEscala"]))),128))])):Te("",!0)],512),[[Z,e.mostrando==="participantes"]])])],512),[[Z,!e.$apollo.queries.esteEvento.loading]])])])])}const Vl=Qe(lH,[["render",YH],["__scopeId","data-v-4735d611"]]),y0=Jx({history:fx("/caracol"),routes:[{path:"/atlas",name:"atlas",component:oO,children:[{path:"nodoConocimiento/:idNodo",component:Ag,name:"visorNodoConocimiento"}]},{path:"/rutaGrado/:idUsuario",name:"rutaGrado",component:o0,props:!0},{path:"/adminNodosConocimiento",name:"adminNodosConocimiento",component:AO},{path:"/login",name:"loginArea",component:DB},{path:"/miperfil",name:"perfilPersonal",component:H4,children:[{path:"ventanaEventoPublico/:idEvento",component:Hl,name:"VentanaEventoPublico"},{path:"ventanaEventoPersonal/:idEvento",component:Vl,name:"VentanaEventoPersonal"}]},{path:"/nodoConocimiento/:idNodo",component:Ag},{path:"/registro",name:"registro",component:w3},{path:"/personas",name:"personas",component:v$,children:[{path:"ventanaEventoPublico/:idEvento",component:Hl,name:"VentanaEventoPublico"},{path:"ventanaEventoPersonal/:idEvento",component:Vl,name:"VentanaEventoPersonal"}]},{path:"/espacios",name:"espacios",component:Qj,children:[{path:"ventanaEventoPublico/:idEvento",component:Hl,name:"VentanaEventoPublico"},{path:"ventanaEventoPersonal/:idEvento",component:Vl,name:"VentanaEventoPersonal"}]},{path:"/",redirect(){var t;console.log("Redirecting");let e=Yr.readQuery({query:zr});return(t=e==null?void 0:e.auth_usuario)!=null&&t.id?{name:"perfilPersonal"}:{name:"loginArea"}}},{path:"/:catchAll(.*)",redirect(){return"/"}}]});y0.beforeEach(async(e,t)=>{var i;if(!Yr)return!1;let o=Yr.readQuery({query:zr});if((i=o==null?void 0:o.auth_usuario)!=null&&i.id){if(e.name=="loginArea")return{name:"perfilPersonal"}}else if(e.name!="loginArea")return{name:"loginArea"}});const ZH=async function(){await J2.restore(),ac.mount("#app")},ac=rS(WN);ac.mixin(bN);ac.use(y0);ac.use(cP);ZH()});export default XH();
