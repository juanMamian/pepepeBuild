var U1=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var LH=U1((FH,od)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();function nd(e,t){const o=Object.create(null),i=e.split(",");for(let n=0;n<i.length;n++)o[i[n]]=!0;return t?n=>!!o[n.toLowerCase()]:n=>!!o[n]}function Ve(e){if(ze(e)){const t={};for(let o=0;o<e.length;o++){const i=e[o],n=Dt(i)?H1(i):Ve(i);if(n)for(const r in n)t[r]=n[r]}return t}else{if(Dt(e))return e;if(vt(e))return e}}const q1=/;(?![^(]*\))/g,j1=/:([^]+)/,V1=/\/\*.*?\*\//gs;function H1(e){const t={};return e.replace(V1,"").split(q1).forEach(o=>{if(o){const i=o.split(j1);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function we(e){let t="";if(Dt(e))t=e;else if(ze(e))for(let o=0;o<e.length;o++){const i=we(e[o]);i&&(t+=i+" ")}else if(vt(e))for(const o in e)e[o]&&(t+=o+" ");return t.trim()}const z1="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",G1=nd(z1);function qg(e){return!!e||e===""}function W1(e,t){if(e.length!==t.length)return!1;let o=!0;for(let i=0;o&&i<e.length;i++)o=Zn(e[i],t[i]);return o}function Zn(e,t){if(e===t)return!0;let o=up(e),i=up(t);if(o||i)return o&&i?e.getTime()===t.getTime():!1;if(o=jr(e),i=jr(t),o||i)return e===t;if(o=ze(e),i=ze(t),o||i)return o&&i?W1(e,t):!1;if(o=vt(e),i=vt(t),o||i){if(!o||!i)return!1;const n=Object.keys(e).length,r=Object.keys(t).length;if(n!==r)return!1;for(const s in e){const l=e.hasOwnProperty(s),a=t.hasOwnProperty(s);if(l&&!a||!l&&a||!Zn(e[s],t[s]))return!1}}return String(e)===String(t)}function id(e,t){return e.findIndex(o=>Zn(o,t))}const Ae=e=>Dt(e)?e:e==null?"":ze(e)||vt(e)&&(e.toString===Hg||!Xe(e.toString))?JSON.stringify(e,jg,2):String(e),jg=(e,t)=>t&&t.__v_isRef?jg(e,t.value):Ti(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((o,[i,n])=>(o[`${i} =>`]=n,o),{})}:Hi(t)?{[`Set(${t.size})`]:[...t.values()]}:vt(t)&&!ze(t)&&!zg(t)?String(t):t,bt={},xi=[],Io=()=>{},Q1=()=>!1,K1=/^on[^a-z]/,ka=e=>K1.test(e),rd=e=>e.startsWith("onUpdate:"),Bt=Object.assign,sd=(e,t)=>{const o=e.indexOf(t);o>-1&&e.splice(o,1)},J1=Object.prototype.hasOwnProperty,st=(e,t)=>J1.call(e,t),ze=Array.isArray,Ti=e=>is(e)==="[object Map]",Hi=e=>is(e)==="[object Set]",up=e=>is(e)==="[object Date]",Xe=e=>typeof e=="function",Dt=e=>typeof e=="string",jr=e=>typeof e=="symbol",vt=e=>e!==null&&typeof e=="object",Vg=e=>vt(e)&&Xe(e.then)&&Xe(e.catch),Hg=Object.prototype.toString,is=e=>Hg.call(e),Y1=e=>is(e).slice(8,-1),zg=e=>is(e)==="[object Object]",ad=e=>Dt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Zs=nd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Oa=e=>{const t=Object.create(null);return o=>t[o]||(t[o]=e(o))},X1=/-(\w)/g,Uo=Oa(e=>e.replace(X1,(t,o)=>o?o.toUpperCase():"")),Z1=/\B([A-Z])/g,ii=Oa(e=>e.replace(Z1,"-$1").toLowerCase()),Ra=Oa(e=>e.charAt(0).toUpperCase()+e.slice(1)),hl=Oa(e=>e?`on${Ra(e)}`:""),Vr=(e,t)=>!Object.is(e,t),ea=(e,t)=>{for(let o=0;o<e.length;o++)e[o](t)},ga=(e,t,o)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:o})},va=e=>{const t=parseFloat(e);return isNaN(t)?e:t},eS=e=>{const t=Dt(e)?Number(e):NaN;return isNaN(t)?e:t};let dp;const tS=()=>dp||(dp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Co;class oS{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Co,!t&&Co&&(this.index=(Co.scopes||(Co.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const o=Co;try{return Co=this,t()}finally{Co=o}}}on(){Co=this}off(){Co=this.parent}stop(t){if(this._active){let o,i;for(o=0,i=this.effects.length;o<i;o++)this.effects[o].stop();for(o=0,i=this.cleanups.length;o<i;o++)this.cleanups[o]();if(this.scopes)for(o=0,i=this.scopes.length;o<i;o++)this.scopes[o].stop(!0);if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function nS(e,t=Co){t&&t.active&&t.effects.push(e)}function iS(){return Co}const cd=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Gg=e=>(e.w&Cn)>0,Wg=e=>(e.n&Cn)>0,rS=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Cn},sS=e=>{const{deps:t}=e;if(t.length){let o=0;for(let i=0;i<t.length;i++){const n=t[i];Gg(n)&&!Wg(n)?n.delete(e):t[o++]=n,n.w&=~Cn,n.n&=~Cn}t.length=o}},Zl=new WeakMap;let Ir=0,Cn=1;const eu=30;let Ao;const Jn=Symbol(""),tu=Symbol("");class ld{constructor(t,o=null,i){this.fn=t,this.scheduler=o,this.active=!0,this.deps=[],this.parent=void 0,nS(this,i)}run(){if(!this.active)return this.fn();let t=Ao,o=Sn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Ao,Ao=this,Sn=!0,Cn=1<<++Ir,Ir<=eu?rS(this):hp(this),this.fn()}finally{Ir<=eu&&sS(this),Cn=1<<--Ir,Ao=this.parent,Sn=o,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ao===this?this.deferStop=!0:this.active&&(hp(this),this.onStop&&this.onStop(),this.active=!1)}}function hp(e){const{deps:t}=e;if(t.length){for(let o=0;o<t.length;o++)t[o].delete(e);t.length=0}}let Sn=!0;const Qg=[];function zi(){Qg.push(Sn),Sn=!1}function Gi(){const e=Qg.pop();Sn=e===void 0?!0:e}function to(e,t,o){if(Sn&&Ao){let i=Zl.get(e);i||Zl.set(e,i=new Map);let n=i.get(o);n||i.set(o,n=cd()),Kg(n)}}function Kg(e,t){let o=!1;Ir<=eu?Wg(e)||(e.n|=Cn,o=!Gg(e)):o=!e.has(Ao),o&&(e.add(Ao),Ao.deps.push(e))}function Xo(e,t,o,i,n,r){const s=Zl.get(e);if(!s)return;let l=[];if(t==="clear")l=[...s.values()];else if(o==="length"&&ze(e)){const a=Number(i);s.forEach((c,u)=>{(u==="length"||u>=a)&&l.push(c)})}else switch(o!==void 0&&l.push(s.get(o)),t){case"add":ze(e)?ad(o)&&l.push(s.get("length")):(l.push(s.get(Jn)),Ti(e)&&l.push(s.get(tu)));break;case"delete":ze(e)||(l.push(s.get(Jn)),Ti(e)&&l.push(s.get(tu)));break;case"set":Ti(e)&&l.push(s.get(Jn));break}if(l.length===1)l[0]&&ou(l[0]);else{const a=[];for(const c of l)c&&a.push(...c);ou(cd(a))}}function ou(e,t){const o=ze(e)?e:[...e];for(const i of o)i.computed&&fp(i);for(const i of o)i.computed||fp(i)}function fp(e,t){(e!==Ao||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const aS=nd("__proto__,__v_isRef,__isVue"),Jg=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(jr)),cS=ud(),lS=ud(!1,!0),uS=ud(!0),pp=dS();function dS(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...o){const i=ct(this);for(let r=0,s=this.length;r<s;r++)to(i,"get",r+"");const n=i[t](...o);return n===-1||n===!1?i[t](...o.map(ct)):n}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...o){zi();const i=ct(this)[t].apply(this,o);return Gi(),i}}),e}function hS(e){const t=ct(this);return to(t,"has",e),t.hasOwnProperty(e)}function ud(e=!1,t=!1){return function(i,n,r){if(n==="__v_isReactive")return!e;if(n==="__v_isReadonly")return e;if(n==="__v_isShallow")return t;if(n==="__v_raw"&&r===(e?t?TS:tv:t?ev:Zg).get(i))return i;const s=ze(i);if(!e){if(s&&st(pp,n))return Reflect.get(pp,n,r);if(n==="hasOwnProperty")return hS}const l=Reflect.get(i,n,r);return(jr(n)?Jg.has(n):aS(n))||(e||to(i,"get",n),t)?l:Gt(l)?s&&ad(n)?l:l.value:vt(l)?e?ov(l):rs(l):l}}const fS=Yg(),pS=Yg(!0);function Yg(e=!1){return function(o,i,n,r){let s=o[i];if(Li(s)&&Gt(s)&&!Gt(n))return!1;if(!e&&(!ya(n)&&!Li(n)&&(s=ct(s),n=ct(n)),!ze(o)&&Gt(s)&&!Gt(n)))return s.value=n,!0;const l=ze(o)&&ad(i)?Number(i)<o.length:st(o,i),a=Reflect.set(o,i,n,r);return o===ct(r)&&(l?Vr(n,s)&&Xo(o,"set",i,n):Xo(o,"add",i,n)),a}}function mS(e,t){const o=st(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&o&&Xo(e,"delete",t,void 0),i}function gS(e,t){const o=Reflect.has(e,t);return(!jr(t)||!Jg.has(t))&&to(e,"has",t),o}function vS(e){return to(e,"iterate",ze(e)?"length":Jn),Reflect.ownKeys(e)}const Xg={get:cS,set:fS,deleteProperty:mS,has:gS,ownKeys:vS},yS={get:uS,set(e,t){return!0},deleteProperty(e,t){return!0}},bS=Bt({},Xg,{get:lS,set:pS}),dd=e=>e,La=e=>Reflect.getPrototypeOf(e);function Fs(e,t,o=!1,i=!1){e=e.__v_raw;const n=ct(e),r=ct(t);o||(t!==r&&to(n,"get",t),to(n,"get",r));const{has:s}=La(n),l=i?dd:o?pd:Hr;if(s.call(n,t))return l(e.get(t));if(s.call(n,r))return l(e.get(r));e!==n&&e.get(t)}function Bs(e,t=!1){const o=this.__v_raw,i=ct(o),n=ct(e);return t||(e!==n&&to(i,"has",e),to(i,"has",n)),e===n?o.has(e):o.has(e)||o.has(n)}function $s(e,t=!1){return e=e.__v_raw,!t&&to(ct(e),"iterate",Jn),Reflect.get(e,"size",e)}function mp(e){e=ct(e);const t=ct(this);return La(t).has.call(t,e)||(t.add(e),Xo(t,"add",e,e)),this}function gp(e,t){t=ct(t);const o=ct(this),{has:i,get:n}=La(o);let r=i.call(o,e);r||(e=ct(e),r=i.call(o,e));const s=n.call(o,e);return o.set(e,t),r?Vr(t,s)&&Xo(o,"set",e,t):Xo(o,"add",e,t),this}function vp(e){const t=ct(this),{has:o,get:i}=La(t);let n=o.call(t,e);n||(e=ct(e),n=o.call(t,e)),i&&i.call(t,e);const r=t.delete(e);return n&&Xo(t,"delete",e,void 0),r}function yp(){const e=ct(this),t=e.size!==0,o=e.clear();return t&&Xo(e,"clear",void 0,void 0),o}function Us(e,t){return function(i,n){const r=this,s=r.__v_raw,l=ct(s),a=t?dd:e?pd:Hr;return!e&&to(l,"iterate",Jn),s.forEach((c,u)=>i.call(n,a(c),a(u),r))}}function qs(e,t,o){return function(...i){const n=this.__v_raw,r=ct(n),s=Ti(r),l=e==="entries"||e===Symbol.iterator&&s,a=e==="keys"&&s,c=n[e](...i),u=o?dd:t?pd:Hr;return!t&&to(r,"iterate",a?tu:Jn),{next(){const{value:h,done:p}=c.next();return p?{value:h,done:p}:{value:l?[u(h[0]),u(h[1])]:u(h),done:p}},[Symbol.iterator](){return this}}}}function dn(e){return function(...t){return e==="delete"?!1:this}}function wS(){const e={get(r){return Fs(this,r)},get size(){return $s(this)},has:Bs,add:mp,set:gp,delete:vp,clear:yp,forEach:Us(!1,!1)},t={get(r){return Fs(this,r,!1,!0)},get size(){return $s(this)},has:Bs,add:mp,set:gp,delete:vp,clear:yp,forEach:Us(!1,!0)},o={get(r){return Fs(this,r,!0)},get size(){return $s(this,!0)},has(r){return Bs.call(this,r,!0)},add:dn("add"),set:dn("set"),delete:dn("delete"),clear:dn("clear"),forEach:Us(!0,!1)},i={get(r){return Fs(this,r,!0,!0)},get size(){return $s(this,!0)},has(r){return Bs.call(this,r,!0)},add:dn("add"),set:dn("set"),delete:dn("delete"),clear:dn("clear"),forEach:Us(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=qs(r,!1,!1),o[r]=qs(r,!0,!1),t[r]=qs(r,!1,!0),i[r]=qs(r,!0,!0)}),[e,o,t,i]}const[ES,_S,SS,NS]=wS();function hd(e,t){const o=t?e?NS:SS:e?_S:ES;return(i,n,r)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?i:Reflect.get(st(o,n)&&n in i?o:i,n,r)}const CS={get:hd(!1,!1)},AS={get:hd(!1,!0)},xS={get:hd(!0,!1)},Zg=new WeakMap,ev=new WeakMap,tv=new WeakMap,TS=new WeakMap;function IS(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function DS(e){return e.__v_skip||!Object.isExtensible(e)?0:IS(Y1(e))}function rs(e){return Li(e)?e:fd(e,!1,Xg,CS,Zg)}function PS(e){return fd(e,!1,bS,AS,ev)}function ov(e){return fd(e,!0,yS,xS,tv)}function fd(e,t,o,i,n){if(!vt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=n.get(e);if(r)return r;const s=DS(e);if(s===0)return e;const l=new Proxy(e,s===2?i:o);return n.set(e,l),l}function Ii(e){return Li(e)?Ii(e.__v_raw):!!(e&&e.__v_isReactive)}function Li(e){return!!(e&&e.__v_isReadonly)}function ya(e){return!!(e&&e.__v_isShallow)}function nv(e){return Ii(e)||Li(e)}function ct(e){const t=e&&e.__v_raw;return t?ct(t):e}function iv(e){return ga(e,"__v_skip",!0),e}const Hr=e=>vt(e)?rs(e):e,pd=e=>vt(e)?ov(e):e;function rv(e){Sn&&Ao&&(e=ct(e),Kg(e.dep||(e.dep=cd())))}function sv(e,t){e=ct(e);const o=e.dep;o&&ou(o)}function Gt(e){return!!(e&&e.__v_isRef===!0)}function kS(e){return av(e,!1)}function OS(e){return av(e,!0)}function av(e,t){return Gt(e)?e:new RS(e,t)}class RS{constructor(t,o){this.__v_isShallow=o,this.dep=void 0,this.__v_isRef=!0,this._rawValue=o?t:ct(t),this._value=o?t:Hr(t)}get value(){return rv(this),this._value}set value(t){const o=this.__v_isShallow||ya(t)||Li(t);t=o?t:ct(t),Vr(t,this._rawValue)&&(this._rawValue=t,this._value=o?t:Hr(t),sv(this))}}function Di(e){return Gt(e)?e.value:e}const LS={get:(e,t,o)=>Di(Reflect.get(e,t,o)),set:(e,t,o,i)=>{const n=e[t];return Gt(n)&&!Gt(o)?(n.value=o,!0):Reflect.set(e,t,o,i)}};function cv(e){return Ii(e)?e:new Proxy(e,LS)}var lv;class MS{constructor(t,o,i,n){this._setter=o,this.dep=void 0,this.__v_isRef=!0,this[lv]=!1,this._dirty=!0,this.effect=new ld(t,()=>{this._dirty||(this._dirty=!0,sv(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=i}get value(){const t=ct(this);return rv(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}lv="__v_isReadonly";function FS(e,t,o=!1){let i,n;const r=Xe(e);return r?(i=e,n=Io):(i=e.get,n=e.set),new MS(i,n,r||!n,o)}function Nn(e,t,o,i){let n;try{n=i?e(...i):e()}catch(r){Ma(r,t,o)}return n}function yo(e,t,o,i){if(Xe(e)){const r=Nn(e,t,o,i);return r&&Vg(r)&&r.catch(s=>{Ma(s,t,o)}),r}const n=[];for(let r=0;r<e.length;r++)n.push(yo(e[r],t,o,i));return n}function Ma(e,t,o,i=!0){const n=t?t.vnode:null;if(t){let r=t.parent;const s=t.proxy,l=o;for(;r;){const c=r.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,s,l)===!1)return}r=r.parent}const a=t.appContext.config.errorHandler;if(a){Nn(a,null,10,[e,s,l]);return}}BS(e,o,n,i)}function BS(e,t,o,i=!0){console.error(e)}let zr=!1,nu=!1;const zt=[];let Fo=0;const Pi=[];let zo=null,Hn=0;const uv=Promise.resolve();let md=null;function dv(e){const t=md||uv;return e?t.then(this?e.bind(this):e):t}function $S(e){let t=Fo+1,o=zt.length;for(;t<o;){const i=t+o>>>1;Gr(zt[i])<e?t=i+1:o=i}return t}function gd(e){(!zt.length||!zt.includes(e,zr&&e.allowRecurse?Fo+1:Fo))&&(e.id==null?zt.push(e):zt.splice($S(e.id),0,e),hv())}function hv(){!zr&&!nu&&(nu=!0,md=uv.then(pv))}function US(e){const t=zt.indexOf(e);t>Fo&&zt.splice(t,1)}function qS(e){ze(e)?Pi.push(...e):(!zo||!zo.includes(e,e.allowRecurse?Hn+1:Hn))&&Pi.push(e),hv()}function bp(e,t=zr?Fo+1:0){for(;t<zt.length;t++){const o=zt[t];o&&o.pre&&(zt.splice(t,1),t--,o())}}function fv(e){if(Pi.length){const t=[...new Set(Pi)];if(Pi.length=0,zo){zo.push(...t);return}for(zo=t,zo.sort((o,i)=>Gr(o)-Gr(i)),Hn=0;Hn<zo.length;Hn++)zo[Hn]();zo=null,Hn=0}}const Gr=e=>e.id==null?1/0:e.id,jS=(e,t)=>{const o=Gr(e)-Gr(t);if(o===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return o};function pv(e){nu=!1,zr=!0,zt.sort(jS);const t=Io;try{for(Fo=0;Fo<zt.length;Fo++){const o=zt[Fo];o&&o.active!==!1&&Nn(o,null,14)}}finally{Fo=0,zt.length=0,fv(),zr=!1,md=null,(zt.length||Pi.length)&&pv()}}function VS(e,t,...o){if(e.isUnmounted)return;const i=e.vnode.props||bt;let n=o;const r=t.startsWith("update:"),s=r&&t.slice(7);if(s&&s in i){const u=`${s==="modelValue"?"model":s}Modifiers`,{number:h,trim:p}=i[u]||bt;p&&(n=o.map(g=>Dt(g)?g.trim():g)),h&&(n=o.map(va))}let l,a=i[l=hl(t)]||i[l=hl(Uo(t))];!a&&r&&(a=i[l=hl(ii(t))]),a&&yo(a,e,6,n);const c=i[l+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,yo(c,e,6,n)}}function mv(e,t,o=!1){const i=t.emitsCache,n=i.get(e);if(n!==void 0)return n;const r=e.emits;let s={},l=!1;if(!Xe(e)){const a=c=>{const u=mv(c,t,!0);u&&(l=!0,Bt(s,u))};!o&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!r&&!l?(vt(e)&&i.set(e,null),null):(ze(r)?r.forEach(a=>s[a]=null):Bt(s,r),vt(e)&&i.set(e,s),s)}function Fa(e,t){return!e||!ka(t)?!1:(t=t.slice(2).replace(/Once$/,""),st(e,t[0].toLowerCase()+t.slice(1))||st(e,ii(t))||st(e,t))}let Vt=null,Ba=null;function ba(e){const t=Vt;return Vt=e,Ba=e&&e.type.__scopeId||null,t}function it(e){Ba=e}function rt(){Ba=null}function wt(e,t=Vt,o){if(!t||e._n)return e;const i=(...n)=>{i._d&&Dp(-1);const r=ba(t);let s;try{s=e(...n)}finally{ba(r),i._d&&Dp(1)}return s};return i._n=!0,i._c=!0,i._d=!0,i}function fl(e){const{type:t,vnode:o,proxy:i,withProxy:n,props:r,propsOptions:[s],slots:l,attrs:a,emit:c,render:u,renderCache:h,data:p,setupState:g,ctx:y,inheritAttrs:N}=e;let I,A;const S=ba(e);try{if(o.shapeFlag&4){const w=n||i;I=Mo(u.call(w,w,h,r,g,p,y)),A=a}else{const w=t;I=Mo(w.length>1?w(r,{attrs:a,slots:l,emit:c}):w(r,null)),A=t.props?a:HS(a)}}catch(w){Lr.length=0,Ma(w,e,1),I=Te(bo)}let b=I;if(A&&N!==!1){const w=Object.keys(A),{shapeFlag:T}=b;w.length&&T&7&&(s&&w.some(rd)&&(A=zS(A,s)),b=An(b,A))}return o.dirs&&(b=An(b),b.dirs=b.dirs?b.dirs.concat(o.dirs):o.dirs),o.transition&&(b.transition=o.transition),I=b,ba(S),I}const HS=e=>{let t;for(const o in e)(o==="class"||o==="style"||ka(o))&&((t||(t={}))[o]=e[o]);return t},zS=(e,t)=>{const o={};for(const i in e)(!rd(i)||!(i.slice(9)in t))&&(o[i]=e[i]);return o};function GS(e,t,o){const{props:i,children:n,component:r}=e,{props:s,children:l,patchFlag:a}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(o&&a>=0){if(a&1024)return!0;if(a&16)return i?wp(i,s,c):!!s;if(a&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const p=u[h];if(s[p]!==i[p]&&!Fa(c,p))return!0}}}else return(n||l)&&(!l||!l.$stable)?!0:i===s?!1:i?s?wp(i,s,c):!0:!!s;return!1}function wp(e,t,o){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let n=0;n<i.length;n++){const r=i[n];if(t[r]!==e[r]&&!Fa(o,r))return!0}return!1}function WS({vnode:e,parent:t},o){for(;t&&t.subTree===e;)(e=t.vnode).el=o,t=t.parent}const QS=e=>e.__isSuspense;function KS(e,t){t&&t.pendingBranch?ze(e)?t.effects.push(...e):t.effects.push(e):qS(e)}function ta(e,t){if(It){let o=It.provides;const i=It.parent&&It.parent.provides;i===o&&(o=It.provides=Object.create(i)),o[e]=t}}function Ko(e,t,o=!1){const i=It||Vt;if(i){const n=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(n&&e in n)return n[e];if(arguments.length>1)return o&&Xe(t)?t.call(i.proxy):t}}const js={};function oa(e,t,o){return gv(e,t,o)}function gv(e,t,{immediate:o,deep:i,flush:n,onTrack:r,onTrigger:s}=bt){const l=iS()===(It==null?void 0:It.scope)?It:null;let a,c=!1,u=!1;if(Gt(e)?(a=()=>e.value,c=ya(e)):Ii(e)?(a=()=>e,i=!0):ze(e)?(u=!0,c=e.some(b=>Ii(b)||ya(b)),a=()=>e.map(b=>{if(Gt(b))return b.value;if(Ii(b))return Wn(b);if(Xe(b))return Nn(b,l,2)})):Xe(e)?t?a=()=>Nn(e,l,2):a=()=>{if(!(l&&l.isUnmounted))return h&&h(),yo(e,l,3,[p])}:a=Io,t&&i){const b=a;a=()=>Wn(b())}let h,p=b=>{h=A.onStop=()=>{Nn(b,l,4)}},g;if(Jr)if(p=Io,t?o&&yo(t,l,3,[a(),u?[]:void 0,p]):a(),n==="sync"){const b=HN();g=b.__watcherHandles||(b.__watcherHandles=[])}else return Io;let y=u?new Array(e.length).fill(js):js;const N=()=>{if(A.active)if(t){const b=A.run();(i||c||(u?b.some((w,T)=>Vr(w,y[T])):Vr(b,y)))&&(h&&h(),yo(t,l,3,[b,y===js?void 0:u&&y[0]===js?[]:y,p]),y=b)}else A.run()};N.allowRecurse=!!t;let I;n==="sync"?I=N:n==="post"?I=()=>Zt(N,l&&l.suspense):(N.pre=!0,l&&(N.id=l.uid),I=()=>gd(N));const A=new ld(a,I);t?o?N():y=A.run():n==="post"?Zt(A.run.bind(A),l&&l.suspense):A.run();const S=()=>{A.stop(),l&&l.scope&&sd(l.scope.effects,A)};return g&&g.push(S),S}function JS(e,t,o){const i=this.proxy,n=Dt(e)?e.includes(".")?vv(i,e):()=>i[e]:e.bind(i,i);let r;Xe(t)?r=t:(r=t.handler,o=t);const s=It;Mi(this);const l=gv(n,r.bind(i),o);return s?Mi(s):Yn(),l}function vv(e,t){const o=t.split(".");return()=>{let i=e;for(let n=0;n<o.length&&i;n++)i=i[o[n]];return i}}function Wn(e,t){if(!vt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Gt(e))Wn(e.value,t);else if(ze(e))for(let o=0;o<e.length;o++)Wn(e[o],t);else if(Hi(e)||Ti(e))e.forEach(o=>{Wn(o,t)});else if(zg(e))for(const o in e)Wn(e[o],t);return e}function yv(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Sv(()=>{e.isMounted=!0}),Cv(()=>{e.isUnmounting=!0}),e}const mo=[Function,Array],YS={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:mo,onEnter:mo,onAfterEnter:mo,onEnterCancelled:mo,onBeforeLeave:mo,onLeave:mo,onAfterLeave:mo,onLeaveCancelled:mo,onBeforeAppear:mo,onAppear:mo,onAfterAppear:mo,onAppearCancelled:mo},setup(e,{slots:t}){const o=Uv(),i=yv();let n;return()=>{const r=t.default&&vd(t.default(),!0);if(!r||!r.length)return;let s=r[0];if(r.length>1){for(const N of r)if(N.type!==bo){s=N;break}}const l=ct(e),{mode:a}=l;if(i.isLeaving)return pl(s);const c=Ep(s);if(!c)return pl(s);const u=Wr(c,l,i,o);Qr(c,u);const h=o.subTree,p=h&&Ep(h);let g=!1;const{getTransitionKey:y}=c.type;if(y){const N=y();n===void 0?n=N:N!==n&&(n=N,g=!0)}if(p&&p.type!==bo&&(!zn(c,p)||g)){const N=Wr(p,l,i,o);if(Qr(p,N),a==="out-in")return i.isLeaving=!0,N.afterLeave=()=>{i.isLeaving=!1,o.update.active!==!1&&o.update()},pl(s);a==="in-out"&&c.type!==bo&&(N.delayLeave=(I,A,S)=>{const b=wv(i,p);b[String(p.key)]=p,I._leaveCb=()=>{A(),I._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=S})}return s}}},bv=YS;function wv(e,t){const{leavingVNodes:o}=e;let i=o.get(t.type);return i||(i=Object.create(null),o.set(t.type,i)),i}function Wr(e,t,o,i){const{appear:n,mode:r,persisted:s=!1,onBeforeEnter:l,onEnter:a,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:p,onAfterLeave:g,onLeaveCancelled:y,onBeforeAppear:N,onAppear:I,onAfterAppear:A,onAppearCancelled:S}=t,b=String(e.key),w=wv(o,e),T=(j,D)=>{j&&yo(j,i,9,D)},k=(j,D)=>{const P=D[1];T(j,D),ze(j)?j.every(B=>B.length<=1)&&P():j.length<=1&&P()},F={mode:r,persisted:s,beforeEnter(j){let D=l;if(!o.isMounted)if(n)D=N||l;else return;j._leaveCb&&j._leaveCb(!0);const P=w[b];P&&zn(e,P)&&P.el._leaveCb&&P.el._leaveCb(),T(D,[j])},enter(j){let D=a,P=c,B=u;if(!o.isMounted)if(n)D=I||a,P=A||c,B=S||u;else return;let L=!1;const G=j._enterCb=E=>{L||(L=!0,E?T(B,[j]):T(P,[j]),F.delayedLeave&&F.delayedLeave(),j._enterCb=void 0)};D?k(D,[j,G]):G()},leave(j,D){const P=String(e.key);if(j._enterCb&&j._enterCb(!0),o.isUnmounting)return D();T(h,[j]);let B=!1;const L=j._leaveCb=G=>{B||(B=!0,D(),G?T(y,[j]):T(g,[j]),j._leaveCb=void 0,w[P]===e&&delete w[P])};w[P]=e,p?k(p,[j,L]):L()},clone(j){return Wr(j,t,o,i)}};return F}function pl(e){if($a(e))return e=An(e),e.children=null,e}function Ep(e){return $a(e)?e.children?e.children[0]:void 0:e}function Qr(e,t){e.shapeFlag&6&&e.component?Qr(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function vd(e,t=!1,o){let i=[],n=0;for(let r=0;r<e.length;r++){let s=e[r];const l=o==null?s.key:String(o)+String(s.key!=null?s.key:r);s.type===He?(s.patchFlag&128&&n++,i=i.concat(vd(s.children,t,l))):(t||s.type!==bo)&&i.push(l!=null?An(s,{key:l}):s)}if(n>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}function Ev(e){return Xe(e)?{setup:e,name:e.name}:e}const kr=e=>!!e.type.__asyncLoader,$a=e=>e.type.__isKeepAlive;function XS(e,t){_v(e,"a",t)}function ZS(e,t){_v(e,"da",t)}function _v(e,t,o=It){const i=e.__wdc||(e.__wdc=()=>{let n=o;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Ua(t,i,o),o){let n=o.parent;for(;n&&n.parent;)$a(n.parent.vnode)&&eN(i,t,o,n),n=n.parent}}function eN(e,t,o,i){const n=Ua(t,e,i,!0);Av(()=>{sd(i[t],n)},o)}function Ua(e,t,o=It,i=!1){if(o){const n=o[e]||(o[e]=[]),r=t.__weh||(t.__weh=(...s)=>{if(o.isUnmounted)return;zi(),Mi(o);const l=yo(t,o,e,s);return Yn(),Gi(),l});return i?n.unshift(r):n.push(r),r}}const en=e=>(t,o=It)=>(!Jr||e==="sp")&&Ua(e,(...i)=>t(...i),o),tN=en("bm"),Sv=en("m"),oN=en("bu"),Nv=en("u"),Cv=en("bum"),Av=en("um"),nN=en("sp"),iN=en("rtg"),rN=en("rtc");function sN(e,t=It){Ua("ec",e,t)}function Q(e,t){const o=Vt;if(o===null)return e;const i=Va(o)||o.proxy,n=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[s,l,a,c=bt]=t[r];s&&(Xe(s)&&(s={mounted:s,updated:s}),s.deep&&Wn(l),n.push({dir:s,instance:i,value:l,oldValue:void 0,arg:a,modifiers:c}))}return e}function Fn(e,t,o,i){const n=e.dirs,r=t&&t.dirs;for(let s=0;s<n.length;s++){const l=n[s];r&&(l.oldValue=r[s].value);let a=l.dir[i];a&&(zi(),yo(a,o,8,[e.el,l,e,t]),Gi())}}const xv="components";function Oe(e,t){return cN(xv,e,!0,t)||e}const aN=Symbol();function cN(e,t,o=!0,i=!1){const n=Vt||It;if(n){const r=n.type;if(e===xv){const l=qN(r,!1);if(l&&(l===t||l===Uo(t)||l===Ra(Uo(t))))return r}const s=_p(n[e]||r[e],t)||_p(n.appContext[e],t);return!s&&i?r:s}}function _p(e,t){return e&&(e[t]||e[Uo(t)]||e[Ra(Uo(t))])}function Ze(e,t,o,i){let n;const r=o&&o[i];if(ze(e)||Dt(e)){n=new Array(e.length);for(let s=0,l=e.length;s<l;s++)n[s]=t(e[s],s,void 0,r&&r[s])}else if(typeof e=="number"){n=new Array(e);for(let s=0;s<e;s++)n[s]=t(s+1,s,void 0,r&&r[s])}else if(vt(e))if(e[Symbol.iterator])n=Array.from(e,(s,l)=>t(s,l,void 0,r&&r[l]));else{const s=Object.keys(e);n=new Array(s.length);for(let l=0,a=s.length;l<a;l++){const c=s[l];n[l]=t(e[c],c,l,r&&r[l])}}else n=[];return o&&(o[i]=n),n}function lN(e,t){for(let o=0;o<t.length;o++){const i=t[o];if(ze(i))for(let n=0;n<i.length;n++)e[i[n].name]=i[n].fn;else i&&(e[i.name]=i.key?(...n)=>{const r=i.fn(...n);return r&&(r.key=i.key),r}:i.fn)}return e}function yd(e,t,o={},i,n){if(Vt.isCE||Vt.parent&&kr(Vt.parent)&&Vt.parent.isCE)return t!=="default"&&(o.name=t),Te("slot",o,i&&i());let r=e[t];r&&r._c&&(r._d=!1),Y();const s=r&&Tv(r(o)),l=Qe(He,{key:o.key||s&&s.key||`_${t}`},s||(i?i():[]),s&&e._===1?64:-2);return!n&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function Tv(e){return e.some(t=>Ea(t)?!(t.type===bo||t.type===He&&!Tv(t.children)):!0)?e:null}const iu=e=>e?qv(e)?Va(e)||e.proxy:iu(e.parent):null,Or=Bt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>iu(e.parent),$root:e=>iu(e.root),$emit:e=>e.emit,$options:e=>bd(e),$forceUpdate:e=>e.f||(e.f=()=>gd(e.update)),$nextTick:e=>e.n||(e.n=dv.bind(e.proxy)),$watch:e=>JS.bind(e)}),ml=(e,t)=>e!==bt&&!e.__isScriptSetup&&st(e,t),uN={get({_:e},t){const{ctx:o,setupState:i,data:n,props:r,accessCache:s,type:l,appContext:a}=e;let c;if(t[0]!=="$"){const g=s[t];if(g!==void 0)switch(g){case 1:return i[t];case 2:return n[t];case 4:return o[t];case 3:return r[t]}else{if(ml(i,t))return s[t]=1,i[t];if(n!==bt&&st(n,t))return s[t]=2,n[t];if((c=e.propsOptions[0])&&st(c,t))return s[t]=3,r[t];if(o!==bt&&st(o,t))return s[t]=4,o[t];ru&&(s[t]=0)}}const u=Or[t];let h,p;if(u)return t==="$attrs"&&to(e,"get",t),u(e);if((h=l.__cssModules)&&(h=h[t]))return h;if(o!==bt&&st(o,t))return s[t]=4,o[t];if(p=a.config.globalProperties,st(p,t))return p[t]},set({_:e},t,o){const{data:i,setupState:n,ctx:r}=e;return ml(n,t)?(n[t]=o,!0):i!==bt&&st(i,t)?(i[t]=o,!0):st(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=o,!0)},has({_:{data:e,setupState:t,accessCache:o,ctx:i,appContext:n,propsOptions:r}},s){let l;return!!o[s]||e!==bt&&st(e,s)||ml(t,s)||(l=r[0])&&st(l,s)||st(i,s)||st(Or,s)||st(n.config.globalProperties,s)},defineProperty(e,t,o){return o.get!=null?e._.accessCache[t]=0:st(o,"value")&&this.set(e,t,o.value,null),Reflect.defineProperty(e,t,o)}};let ru=!0;function dN(e){const t=bd(e),o=e.proxy,i=e.ctx;ru=!1,t.beforeCreate&&Sp(t.beforeCreate,e,"bc");const{data:n,computed:r,methods:s,watch:l,provide:a,inject:c,created:u,beforeMount:h,mounted:p,beforeUpdate:g,updated:y,activated:N,deactivated:I,beforeDestroy:A,beforeUnmount:S,destroyed:b,unmounted:w,render:T,renderTracked:k,renderTriggered:F,errorCaptured:j,serverPrefetch:D,expose:P,inheritAttrs:B,components:L,directives:G,filters:E}=t;if(c&&hN(c,i,null,e.appContext.config.unwrapInjectedRef),s)for(const z in s){const be=s[z];Xe(be)&&(i[z]=be.bind(o))}if(n){const z=n.call(o,o);vt(z)&&(e.data=rs(z))}if(ru=!0,r)for(const z in r){const be=r[z],me=Xe(be)?be.bind(o,o):Xe(be.get)?be.get.bind(o,o):Io,Se=!Xe(be)&&Xe(be.set)?be.set.bind(o):Io,x=vo({get:me,set:Se});Object.defineProperty(i,z,{enumerable:!0,configurable:!0,get:()=>x.value,set:U=>x.value=U})}if(l)for(const z in l)Iv(l[z],i,o,z);if(a){const z=Xe(a)?a.call(o):a;Reflect.ownKeys(z).forEach(be=>{ta(be,z[be])})}u&&Sp(u,e,"c");function ie(z,be){ze(be)?be.forEach(me=>z(me.bind(o))):be&&z(be.bind(o))}if(ie(tN,h),ie(Sv,p),ie(oN,g),ie(Nv,y),ie(XS,N),ie(ZS,I),ie(sN,j),ie(rN,k),ie(iN,F),ie(Cv,S),ie(Av,w),ie(nN,D),ze(P))if(P.length){const z=e.exposed||(e.exposed={});P.forEach(be=>{Object.defineProperty(z,be,{get:()=>o[be],set:me=>o[be]=me})})}else e.exposed||(e.exposed={});T&&e.render===Io&&(e.render=T),B!=null&&(e.inheritAttrs=B),L&&(e.components=L),G&&(e.directives=G)}function hN(e,t,o=Io,i=!1){ze(e)&&(e=su(e));for(const n in e){const r=e[n];let s;vt(r)?"default"in r?s=Ko(r.from||n,r.default,!0):s=Ko(r.from||n):s=Ko(r),Gt(s)&&i?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:l=>s.value=l}):t[n]=s}}function Sp(e,t,o){yo(ze(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,o)}function Iv(e,t,o,i){const n=i.includes(".")?vv(o,i):()=>o[i];if(Dt(e)){const r=t[e];Xe(r)&&oa(n,r)}else if(Xe(e))oa(n,e.bind(o));else if(vt(e))if(ze(e))e.forEach(r=>Iv(r,t,o,i));else{const r=Xe(e.handler)?e.handler.bind(o):t[e.handler];Xe(r)&&oa(n,r,e)}}function bd(e){const t=e.type,{mixins:o,extends:i}=t,{mixins:n,optionsCache:r,config:{optionMergeStrategies:s}}=e.appContext,l=r.get(t);let a;return l?a=l:!n.length&&!o&&!i?a=t:(a={},n.length&&n.forEach(c=>wa(a,c,s,!0)),wa(a,t,s)),vt(t)&&r.set(t,a),a}function wa(e,t,o,i=!1){const{mixins:n,extends:r}=t;r&&wa(e,r,o,!0),n&&n.forEach(s=>wa(e,s,o,!0));for(const s in t)if(!(i&&s==="expose")){const l=fN[s]||o&&o[s];e[s]=l?l(e[s],t[s]):t[s]}return e}const fN={data:Np,props:qn,emits:qn,methods:qn,computed:qn,beforeCreate:Jt,created:Jt,beforeMount:Jt,mounted:Jt,beforeUpdate:Jt,updated:Jt,beforeDestroy:Jt,beforeUnmount:Jt,destroyed:Jt,unmounted:Jt,activated:Jt,deactivated:Jt,errorCaptured:Jt,serverPrefetch:Jt,components:qn,directives:qn,watch:mN,provide:Np,inject:pN};function Np(e,t){return t?e?function(){return Bt(Xe(e)?e.call(this,this):e,Xe(t)?t.call(this,this):t)}:t:e}function pN(e,t){return qn(su(e),su(t))}function su(e){if(ze(e)){const t={};for(let o=0;o<e.length;o++)t[e[o]]=e[o];return t}return e}function Jt(e,t){return e?[...new Set([].concat(e,t))]:t}function qn(e,t){return e?Bt(Bt(Object.create(null),e),t):t}function mN(e,t){if(!e)return t;if(!t)return e;const o=Bt(Object.create(null),e);for(const i in t)o[i]=Jt(e[i],t[i]);return o}function gN(e,t,o,i=!1){const n={},r={};ga(r,ja,1),e.propsDefaults=Object.create(null),Dv(e,t,n,r);for(const s in e.propsOptions[0])s in n||(n[s]=void 0);o?e.props=i?n:PS(n):e.type.props?e.props=n:e.props=r,e.attrs=r}function vN(e,t,o,i){const{props:n,attrs:r,vnode:{patchFlag:s}}=e,l=ct(n),[a]=e.propsOptions;let c=!1;if((i||s>0)&&!(s&16)){if(s&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let p=u[h];if(Fa(e.emitsOptions,p))continue;const g=t[p];if(a)if(st(r,p))g!==r[p]&&(r[p]=g,c=!0);else{const y=Uo(p);n[y]=au(a,l,y,g,e,!1)}else g!==r[p]&&(r[p]=g,c=!0)}}}else{Dv(e,t,n,r)&&(c=!0);let u;for(const h in l)(!t||!st(t,h)&&((u=ii(h))===h||!st(t,u)))&&(a?o&&(o[h]!==void 0||o[u]!==void 0)&&(n[h]=au(a,l,h,void 0,e,!0)):delete n[h]);if(r!==l)for(const h in r)(!t||!st(t,h))&&(delete r[h],c=!0)}c&&Xo(e,"set","$attrs")}function Dv(e,t,o,i){const[n,r]=e.propsOptions;let s=!1,l;if(t)for(let a in t){if(Zs(a))continue;const c=t[a];let u;n&&st(n,u=Uo(a))?!r||!r.includes(u)?o[u]=c:(l||(l={}))[u]=c:Fa(e.emitsOptions,a)||(!(a in i)||c!==i[a])&&(i[a]=c,s=!0)}if(r){const a=ct(o),c=l||bt;for(let u=0;u<r.length;u++){const h=r[u];o[h]=au(n,a,h,c[h],e,!st(c,h))}}return s}function au(e,t,o,i,n,r){const s=e[o];if(s!=null){const l=st(s,"default");if(l&&i===void 0){const a=s.default;if(s.type!==Function&&Xe(a)){const{propsDefaults:c}=n;o in c?i=c[o]:(Mi(n),i=c[o]=a.call(null,t),Yn())}else i=a}s[0]&&(r&&!l?i=!1:s[1]&&(i===""||i===ii(o))&&(i=!0))}return i}function Pv(e,t,o=!1){const i=t.propsCache,n=i.get(e);if(n)return n;const r=e.props,s={},l=[];let a=!1;if(!Xe(e)){const u=h=>{a=!0;const[p,g]=Pv(h,t,!0);Bt(s,p),g&&l.push(...g)};!o&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!a)return vt(e)&&i.set(e,xi),xi;if(ze(r))for(let u=0;u<r.length;u++){const h=Uo(r[u]);Cp(h)&&(s[h]=bt)}else if(r)for(const u in r){const h=Uo(u);if(Cp(h)){const p=r[u],g=s[h]=ze(p)||Xe(p)?{type:p}:Object.assign({},p);if(g){const y=Tp(Boolean,g.type),N=Tp(String,g.type);g[0]=y>-1,g[1]=N<0||y<N,(y>-1||st(g,"default"))&&l.push(h)}}}const c=[s,l];return vt(e)&&i.set(e,c),c}function Cp(e){return e[0]!=="$"}function Ap(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function xp(e,t){return Ap(e)===Ap(t)}function Tp(e,t){return ze(t)?t.findIndex(o=>xp(o,e)):Xe(t)&&xp(t,e)?0:-1}const kv=e=>e[0]==="_"||e==="$stable",wd=e=>ze(e)?e.map(Mo):[Mo(e)],yN=(e,t,o)=>{if(t._n)return t;const i=wt((...n)=>wd(t(...n)),o);return i._c=!1,i},Ov=(e,t,o)=>{const i=e._ctx;for(const n in e){if(kv(n))continue;const r=e[n];if(Xe(r))t[n]=yN(n,r,i);else if(r!=null){const s=wd(r);t[n]=()=>s}}},Rv=(e,t)=>{const o=wd(t);e.slots.default=()=>o},bN=(e,t)=>{if(e.vnode.shapeFlag&32){const o=t._;o?(e.slots=ct(t),ga(t,"_",o)):Ov(t,e.slots={})}else e.slots={},t&&Rv(e,t);ga(e.slots,ja,1)},wN=(e,t,o)=>{const{vnode:i,slots:n}=e;let r=!0,s=bt;if(i.shapeFlag&32){const l=t._;l?o&&l===1?r=!1:(Bt(n,t),!o&&l===1&&delete n._):(r=!t.$stable,Ov(t,n)),s=t}else t&&(Rv(e,t),s={default:1});if(r)for(const l in n)!kv(l)&&!(l in s)&&delete n[l]};function Lv(){return{app:null,config:{isNativeTag:Q1,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let EN=0;function _N(e,t){return function(i,n=null){Xe(i)||(i=Object.assign({},i)),n!=null&&!vt(n)&&(n=null);const r=Lv(),s=new Set;let l=!1;const a=r.app={_uid:EN++,_component:i,_props:n,_container:null,_context:r,_instance:null,version:zN,get config(){return r.config},set config(c){},use(c,...u){return s.has(c)||(c&&Xe(c.install)?(s.add(c),c.install(a,...u)):Xe(c)&&(s.add(c),c(a,...u))),a},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),a},component(c,u){return u?(r.components[c]=u,a):r.components[c]},directive(c,u){return u?(r.directives[c]=u,a):r.directives[c]},mount(c,u,h){if(!l){const p=Te(i,n);return p.appContext=r,u&&t?t(p,c):e(p,c,h),l=!0,a._container=c,c.__vue_app__=a,Va(p.component)||p.component.proxy}},unmount(){l&&(e(null,a._container),delete a._container.__vue_app__)},provide(c,u){return r.provides[c]=u,a}};return a}}function cu(e,t,o,i,n=!1){if(ze(e)){e.forEach((p,g)=>cu(p,t&&(ze(t)?t[g]:t),o,i,n));return}if(kr(i)&&!n)return;const r=i.shapeFlag&4?Va(i.component)||i.component.proxy:i.el,s=n?null:r,{i:l,r:a}=e,c=t&&t.r,u=l.refs===bt?l.refs={}:l.refs,h=l.setupState;if(c!=null&&c!==a&&(Dt(c)?(u[c]=null,st(h,c)&&(h[c]=null)):Gt(c)&&(c.value=null)),Xe(a))Nn(a,l,12,[s,u]);else{const p=Dt(a),g=Gt(a);if(p||g){const y=()=>{if(e.f){const N=p?st(h,a)?h[a]:u[a]:a.value;n?ze(N)&&sd(N,r):ze(N)?N.includes(r)||N.push(r):p?(u[a]=[r],st(h,a)&&(h[a]=u[a])):(a.value=[r],e.k&&(u[e.k]=a.value))}else p?(u[a]=s,st(h,a)&&(h[a]=s)):g&&(a.value=s,e.k&&(u[e.k]=s))};s?(y.id=-1,Zt(y,o)):y()}}}const Zt=KS;function SN(e){return NN(e)}function NN(e,t){const o=tS();o.__VUE__=!0;const{insert:i,remove:n,patchProp:r,createElement:s,createText:l,createComment:a,setText:c,setElementText:u,parentNode:h,nextSibling:p,setScopeId:g=Io,insertStaticContent:y}=e,N=(m,C,M,J=null,le=null,fe=null,de=!1,pe=null,_e=!!C.dynamicChildren)=>{if(m===C)return;m&&!zn(m,C)&&(J=W(m),U(m,le,fe,!0),m=null),C.patchFlag===-2&&(_e=!1,C.dynamicChildren=null);const{type:ge,ref:De,shapeFlag:Re}=C;switch(ge){case qa:I(m,C,M,J);break;case bo:A(m,C,M,J);break;case na:m==null&&S(C,M,J,de);break;case He:L(m,C,M,J,le,fe,de,pe,_e);break;default:Re&1?T(m,C,M,J,le,fe,de,pe,_e):Re&6?G(m,C,M,J,le,fe,de,pe,_e):(Re&64||Re&128)&&ge.process(m,C,M,J,le,fe,de,pe,_e,se)}De!=null&&le&&cu(De,m&&m.ref,fe,C||m,!C)},I=(m,C,M,J)=>{if(m==null)i(C.el=l(C.children),M,J);else{const le=C.el=m.el;C.children!==m.children&&c(le,C.children)}},A=(m,C,M,J)=>{m==null?i(C.el=a(C.children||""),M,J):C.el=m.el},S=(m,C,M,J)=>{[m.el,m.anchor]=y(m.children,C,M,J,m.el,m.anchor)},b=({el:m,anchor:C},M,J)=>{let le;for(;m&&m!==C;)le=p(m),i(m,M,J),m=le;i(C,M,J)},w=({el:m,anchor:C})=>{let M;for(;m&&m!==C;)M=p(m),n(m),m=M;n(C)},T=(m,C,M,J,le,fe,de,pe,_e)=>{de=de||C.type==="svg",m==null?k(C,M,J,le,fe,de,pe,_e):D(m,C,le,fe,de,pe,_e)},k=(m,C,M,J,le,fe,de,pe)=>{let _e,ge;const{type:De,props:Re,shapeFlag:_,transition:O,dirs:q}=m;if(_e=m.el=s(m.type,fe,Re&&Re.is,Re),_&8?u(_e,m.children):_&16&&j(m.children,_e,null,J,le,fe&&De!=="foreignObject",de,pe),q&&Fn(m,null,J,"created"),F(_e,m,m.scopeId,de,J),Re){for(const ce in Re)ce!=="value"&&!Zs(ce)&&r(_e,ce,null,Re[ce],fe,m.children,J,le,V);"value"in Re&&r(_e,"value",null,Re.value),(ge=Re.onVnodeBeforeMount)&&Lo(ge,J,m)}q&&Fn(m,null,J,"beforeMount");const ne=(!le||le&&!le.pendingBranch)&&O&&!O.persisted;ne&&O.beforeEnter(_e),i(_e,C,M),((ge=Re&&Re.onVnodeMounted)||ne||q)&&Zt(()=>{ge&&Lo(ge,J,m),ne&&O.enter(_e),q&&Fn(m,null,J,"mounted")},le)},F=(m,C,M,J,le)=>{if(M&&g(m,M),J)for(let fe=0;fe<J.length;fe++)g(m,J[fe]);if(le){let fe=le.subTree;if(C===fe){const de=le.vnode;F(m,de,de.scopeId,de.slotScopeIds,le.parent)}}},j=(m,C,M,J,le,fe,de,pe,_e=0)=>{for(let ge=_e;ge<m.length;ge++){const De=m[ge]=pe?vn(m[ge]):Mo(m[ge]);N(null,De,C,M,J,le,fe,de,pe)}},D=(m,C,M,J,le,fe,de)=>{const pe=C.el=m.el;let{patchFlag:_e,dynamicChildren:ge,dirs:De}=C;_e|=m.patchFlag&16;const Re=m.props||bt,_=C.props||bt;let O;M&&Bn(M,!1),(O=_.onVnodeBeforeUpdate)&&Lo(O,M,C,m),De&&Fn(C,m,M,"beforeUpdate"),M&&Bn(M,!0);const q=le&&C.type!=="foreignObject";if(ge?P(m.dynamicChildren,ge,pe,M,J,q,fe):de||be(m,C,pe,null,M,J,q,fe,!1),_e>0){if(_e&16)B(pe,C,Re,_,M,J,le);else if(_e&2&&Re.class!==_.class&&r(pe,"class",null,_.class,le),_e&4&&r(pe,"style",Re.style,_.style,le),_e&8){const ne=C.dynamicProps;for(let ce=0;ce<ne.length;ce++){const ue=ne[ce],Ne=Re[ue],je=_[ue];(je!==Ne||ue==="value")&&r(pe,ue,Ne,je,le,m.children,M,J,V)}}_e&1&&m.children!==C.children&&u(pe,C.children)}else!de&&ge==null&&B(pe,C,Re,_,M,J,le);((O=_.onVnodeUpdated)||De)&&Zt(()=>{O&&Lo(O,M,C,m),De&&Fn(C,m,M,"updated")},J)},P=(m,C,M,J,le,fe,de)=>{for(let pe=0;pe<C.length;pe++){const _e=m[pe],ge=C[pe],De=_e.el&&(_e.type===He||!zn(_e,ge)||_e.shapeFlag&70)?h(_e.el):M;N(_e,ge,De,null,J,le,fe,de,!0)}},B=(m,C,M,J,le,fe,de)=>{if(M!==J){if(M!==bt)for(const pe in M)!Zs(pe)&&!(pe in J)&&r(m,pe,M[pe],null,de,C.children,le,fe,V);for(const pe in J){if(Zs(pe))continue;const _e=J[pe],ge=M[pe];_e!==ge&&pe!=="value"&&r(m,pe,ge,_e,de,C.children,le,fe,V)}"value"in J&&r(m,"value",M.value,J.value)}},L=(m,C,M,J,le,fe,de,pe,_e)=>{const ge=C.el=m?m.el:l(""),De=C.anchor=m?m.anchor:l("");let{patchFlag:Re,dynamicChildren:_,slotScopeIds:O}=C;O&&(pe=pe?pe.concat(O):O),m==null?(i(ge,M,J),i(De,M,J),j(C.children,M,De,le,fe,de,pe,_e)):Re>0&&Re&64&&_&&m.dynamicChildren?(P(m.dynamicChildren,_,M,le,fe,de,pe),(C.key!=null||le&&C===le.subTree)&&Ed(m,C,!0)):be(m,C,M,De,le,fe,de,pe,_e)},G=(m,C,M,J,le,fe,de,pe,_e)=>{C.slotScopeIds=pe,m==null?C.shapeFlag&512?le.ctx.activate(C,M,J,de,_e):E(C,M,J,le,fe,de,_e):oe(m,C,_e)},E=(m,C,M,J,le,fe,de)=>{const pe=m.component=MN(m,J,le);if($a(m)&&(pe.ctx.renderer=se),FN(pe),pe.asyncDep){if(le&&le.registerDep(pe,ie),!m.el){const _e=pe.subTree=Te(bo);A(null,_e,C,M)}return}ie(pe,m,C,M,le,fe,de)},oe=(m,C,M)=>{const J=C.component=m.component;if(GS(m,C,M))if(J.asyncDep&&!J.asyncResolved){z(J,C,M);return}else J.next=C,US(J.update),J.update();else C.el=m.el,J.vnode=C},ie=(m,C,M,J,le,fe,de)=>{const pe=()=>{if(m.isMounted){let{next:De,bu:Re,u:_,parent:O,vnode:q}=m,ne=De,ce;Bn(m,!1),De?(De.el=q.el,z(m,De,de)):De=q,Re&&ea(Re),(ce=De.props&&De.props.onVnodeBeforeUpdate)&&Lo(ce,O,De,q),Bn(m,!0);const ue=fl(m),Ne=m.subTree;m.subTree=ue,N(Ne,ue,h(Ne.el),W(Ne),m,le,fe),De.el=ue.el,ne===null&&WS(m,ue.el),_&&Zt(_,le),(ce=De.props&&De.props.onVnodeUpdated)&&Zt(()=>Lo(ce,O,De,q),le)}else{let De;const{el:Re,props:_}=C,{bm:O,m:q,parent:ne}=m,ce=kr(C);if(Bn(m,!1),O&&ea(O),!ce&&(De=_&&_.onVnodeBeforeMount)&&Lo(De,ne,C),Bn(m,!0),Re&&$){const ue=()=>{m.subTree=fl(m),$(Re,m.subTree,m,le,null)};ce?C.type.__asyncLoader().then(()=>!m.isUnmounted&&ue()):ue()}else{const ue=m.subTree=fl(m);N(null,ue,M,J,m,le,fe),C.el=ue.el}if(q&&Zt(q,le),!ce&&(De=_&&_.onVnodeMounted)){const ue=C;Zt(()=>Lo(De,ne,ue),le)}(C.shapeFlag&256||ne&&kr(ne.vnode)&&ne.vnode.shapeFlag&256)&&m.a&&Zt(m.a,le),m.isMounted=!0,C=M=J=null}},_e=m.effect=new ld(pe,()=>gd(ge),m.scope),ge=m.update=()=>_e.run();ge.id=m.uid,Bn(m,!0),ge()},z=(m,C,M)=>{C.component=m;const J=m.vnode.props;m.vnode=C,m.next=null,vN(m,C.props,J,M),wN(m,C.children,M),zi(),bp(),Gi()},be=(m,C,M,J,le,fe,de,pe,_e=!1)=>{const ge=m&&m.children,De=m?m.shapeFlag:0,Re=C.children,{patchFlag:_,shapeFlag:O}=C;if(_>0){if(_&128){Se(ge,Re,M,J,le,fe,de,pe,_e);return}else if(_&256){me(ge,Re,M,J,le,fe,de,pe,_e);return}}O&8?(De&16&&V(ge,le,fe),Re!==ge&&u(M,Re)):De&16?O&16?Se(ge,Re,M,J,le,fe,de,pe,_e):V(ge,le,fe,!0):(De&8&&u(M,""),O&16&&j(Re,M,J,le,fe,de,pe,_e))},me=(m,C,M,J,le,fe,de,pe,_e)=>{m=m||xi,C=C||xi;const ge=m.length,De=C.length,Re=Math.min(ge,De);let _;for(_=0;_<Re;_++){const O=C[_]=_e?vn(C[_]):Mo(C[_]);N(m[_],O,M,null,le,fe,de,pe,_e)}ge>De?V(m,le,fe,!0,!1,Re):j(C,M,J,le,fe,de,pe,_e,Re)},Se=(m,C,M,J,le,fe,de,pe,_e)=>{let ge=0;const De=C.length;let Re=m.length-1,_=De-1;for(;ge<=Re&&ge<=_;){const O=m[ge],q=C[ge]=_e?vn(C[ge]):Mo(C[ge]);if(zn(O,q))N(O,q,M,null,le,fe,de,pe,_e);else break;ge++}for(;ge<=Re&&ge<=_;){const O=m[Re],q=C[_]=_e?vn(C[_]):Mo(C[_]);if(zn(O,q))N(O,q,M,null,le,fe,de,pe,_e);else break;Re--,_--}if(ge>Re){if(ge<=_){const O=_+1,q=O<De?C[O].el:J;for(;ge<=_;)N(null,C[ge]=_e?vn(C[ge]):Mo(C[ge]),M,q,le,fe,de,pe,_e),ge++}}else if(ge>_)for(;ge<=Re;)U(m[ge],le,fe,!0),ge++;else{const O=ge,q=ge,ne=new Map;for(ge=q;ge<=_;ge++){const et=C[ge]=_e?vn(C[ge]):Mo(C[ge]);et.key!=null&&ne.set(et.key,ge)}let ce,ue=0;const Ne=_-q+1;let je=!1,Ye=0;const ht=new Array(Ne);for(ge=0;ge<Ne;ge++)ht[ge]=0;for(ge=O;ge<=Re;ge++){const et=m[ge];if(ue>=Ne){U(et,le,fe,!0);continue}let ro;if(et.key!=null)ro=ne.get(et.key);else for(ce=q;ce<=_;ce++)if(ht[ce-q]===0&&zn(et,C[ce])){ro=ce;break}ro===void 0?U(et,le,fe,!0):(ht[ro-q]=ge+1,ro>=Ye?Ye=ro:je=!0,N(et,C[ro],M,null,le,fe,de,pe,_e),ue++)}const ot=je?CN(ht):xi;for(ce=ot.length-1,ge=Ne-1;ge>=0;ge--){const et=q+ge,ro=C[et],Eo=et+1<De?C[et+1].el:J;ht[ge]===0?N(null,ro,M,Eo,le,fe,de,pe,_e):je&&(ce<0||ge!==ot[ce]?x(ro,M,Eo,2):ce--)}}},x=(m,C,M,J,le=null)=>{const{el:fe,type:de,transition:pe,children:_e,shapeFlag:ge}=m;if(ge&6){x(m.component.subTree,C,M,J);return}if(ge&128){m.suspense.move(C,M,J);return}if(ge&64){de.move(m,C,M,se);return}if(de===He){i(fe,C,M);for(let Re=0;Re<_e.length;Re++)x(_e[Re],C,M,J);i(m.anchor,C,M);return}if(de===na){b(m,C,M);return}if(J!==2&&ge&1&&pe)if(J===0)pe.beforeEnter(fe),i(fe,C,M),Zt(()=>pe.enter(fe),le);else{const{leave:Re,delayLeave:_,afterLeave:O}=pe,q=()=>i(fe,C,M),ne=()=>{Re(fe,()=>{q(),O&&O()})};_?_(fe,q,ne):ne()}else i(fe,C,M)},U=(m,C,M,J=!1,le=!1)=>{const{type:fe,props:de,ref:pe,children:_e,dynamicChildren:ge,shapeFlag:De,patchFlag:Re,dirs:_}=m;if(pe!=null&&cu(pe,null,M,m,!0),De&256){C.ctx.deactivate(m);return}const O=De&1&&_,q=!kr(m);let ne;if(q&&(ne=de&&de.onVnodeBeforeUnmount)&&Lo(ne,C,m),De&6)K(m.component,M,J);else{if(De&128){m.suspense.unmount(M,J);return}O&&Fn(m,null,C,"beforeUnmount"),De&64?m.type.remove(m,C,M,le,se,J):ge&&(fe!==He||Re>0&&Re&64)?V(ge,C,M,!1,!0):(fe===He&&Re&384||!le&&De&16)&&V(_e,C,M),J&&te(m)}(q&&(ne=de&&de.onVnodeUnmounted)||O)&&Zt(()=>{ne&&Lo(ne,C,m),O&&Fn(m,null,C,"unmounted")},M)},te=m=>{const{type:C,el:M,anchor:J,transition:le}=m;if(C===He){H(M,J);return}if(C===na){w(m);return}const fe=()=>{n(M),le&&!le.persisted&&le.afterLeave&&le.afterLeave()};if(m.shapeFlag&1&&le&&!le.persisted){const{leave:de,delayLeave:pe}=le,_e=()=>de(M,fe);pe?pe(m.el,fe,_e):_e()}else fe()},H=(m,C)=>{let M;for(;m!==C;)M=p(m),n(m),m=M;n(C)},K=(m,C,M)=>{const{bum:J,scope:le,update:fe,subTree:de,um:pe}=m;J&&ea(J),le.stop(),fe&&(fe.active=!1,U(de,m,C,M)),pe&&Zt(pe,C),Zt(()=>{m.isUnmounted=!0},C),C&&C.pendingBranch&&!C.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===C.pendingId&&(C.deps--,C.deps===0&&C.resolve())},V=(m,C,M,J=!1,le=!1,fe=0)=>{for(let de=fe;de<m.length;de++)U(m[de],C,M,J,le)},W=m=>m.shapeFlag&6?W(m.component.subTree):m.shapeFlag&128?m.suspense.next():p(m.anchor||m.el),ee=(m,C,M)=>{m==null?C._vnode&&U(C._vnode,null,null,!0):N(C._vnode||null,m,C,null,null,null,M),bp(),fv(),C._vnode=m},se={p:N,um:U,m:x,r:te,mt:E,mc:j,pc:be,pbc:P,n:W,o:e};let ae,$;return t&&([ae,$]=t(se)),{render:ee,hydrate:ae,createApp:_N(ee,ae)}}function Bn({effect:e,update:t},o){e.allowRecurse=t.allowRecurse=o}function Ed(e,t,o=!1){const i=e.children,n=t.children;if(ze(i)&&ze(n))for(let r=0;r<i.length;r++){const s=i[r];let l=n[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=n[r]=vn(n[r]),l.el=s.el),o||Ed(s,l)),l.type===qa&&(l.el=s.el)}}function CN(e){const t=e.slice(),o=[0];let i,n,r,s,l;const a=e.length;for(i=0;i<a;i++){const c=e[i];if(c!==0){if(n=o[o.length-1],e[n]<c){t[i]=n,o.push(i);continue}for(r=0,s=o.length-1;r<s;)l=r+s>>1,e[o[l]]<c?r=l+1:s=l;c<e[o[r]]&&(r>0&&(t[i]=o[r-1]),o[r]=i)}}for(r=o.length,s=o[r-1];r-- >0;)o[r]=s,s=t[s];return o}const AN=e=>e.__isTeleport,Rr=e=>e&&(e.disabled||e.disabled===""),Ip=e=>typeof SVGElement<"u"&&e instanceof SVGElement,lu=(e,t)=>{const o=e&&e.to;return Dt(o)?t?t(o):null:o},xN={__isTeleport:!0,process(e,t,o,i,n,r,s,l,a,c){const{mc:u,pc:h,pbc:p,o:{insert:g,querySelector:y,createText:N,createComment:I}}=c,A=Rr(t.props);let{shapeFlag:S,children:b,dynamicChildren:w}=t;if(e==null){const T=t.el=N(""),k=t.anchor=N("");g(T,o,i),g(k,o,i);const F=t.target=lu(t.props,y),j=t.targetAnchor=N("");F&&(g(j,F),s=s||Ip(F));const D=(P,B)=>{S&16&&u(b,P,B,n,r,s,l,a)};A?D(o,k):F&&D(F,j)}else{t.el=e.el;const T=t.anchor=e.anchor,k=t.target=e.target,F=t.targetAnchor=e.targetAnchor,j=Rr(e.props),D=j?o:k,P=j?T:F;if(s=s||Ip(k),w?(p(e.dynamicChildren,w,D,n,r,s,l),Ed(e,t,!0)):a||h(e,t,D,P,n,r,s,l,!1),A)j||Vs(t,o,T,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const B=t.target=lu(t.props,y);B&&Vs(t,B,null,c,0)}else j&&Vs(t,k,F,c,1)}Fv(t)},remove(e,t,o,i,{um:n,o:{remove:r}},s){const{shapeFlag:l,children:a,anchor:c,targetAnchor:u,target:h,props:p}=e;if(h&&r(u),(s||!Rr(p))&&(r(c),l&16))for(let g=0;g<a.length;g++){const y=a[g];n(y,t,o,!0,!!y.dynamicChildren)}},move:Vs,hydrate:TN};function Vs(e,t,o,{o:{insert:i},m:n},r=2){r===0&&i(e.targetAnchor,t,o);const{el:s,anchor:l,shapeFlag:a,children:c,props:u}=e,h=r===2;if(h&&i(s,t,o),(!h||Rr(u))&&a&16)for(let p=0;p<c.length;p++)n(c[p],t,o,2);h&&i(l,t,o)}function TN(e,t,o,i,n,r,{o:{nextSibling:s,parentNode:l,querySelector:a}},c){const u=t.target=lu(t.props,a);if(u){const h=u._lpa||u.firstChild;if(t.shapeFlag&16)if(Rr(t.props))t.anchor=c(s(e),t,l(e),o,i,n,r),t.targetAnchor=h;else{t.anchor=s(e);let p=h;for(;p;)if(p=s(p),p&&p.nodeType===8&&p.data==="teleport anchor"){t.targetAnchor=p,u._lpa=t.targetAnchor&&s(t.targetAnchor);break}c(h,t,u,o,i,n,r)}Fv(t)}return t.anchor&&s(t.anchor)}const Mv=xN;function Fv(e){const t=e.ctx;if(t&&t.ut){let o=e.children[0].el;for(;o!==e.targetAnchor;)o.nodeType===1&&o.setAttribute("data-v-owner",t.uid),o=o.nextSibling;t.ut()}}const He=Symbol(void 0),qa=Symbol(void 0),bo=Symbol(void 0),na=Symbol(void 0),Lr=[];let To=null;function Y(e=!1){Lr.push(To=e?null:[])}function IN(){Lr.pop(),To=Lr[Lr.length-1]||null}let Kr=1;function Dp(e){Kr+=e}function Bv(e){return e.dynamicChildren=Kr>0?To||xi:null,IN(),Kr>0&&To&&To.push(e),e}function re(e,t,o,i,n,r){return Bv(v(e,t,o,i,n,r,!0))}function Qe(e,t,o,i,n){return Bv(Te(e,t,o,i,n,!0))}function Ea(e){return e?e.__v_isVNode===!0:!1}function zn(e,t){return e.type===t.type&&e.key===t.key}const ja="__vInternal",$v=({key:e})=>e??null,ia=({ref:e,ref_key:t,ref_for:o})=>e!=null?Dt(e)||Gt(e)||Xe(e)?{i:Vt,r:e,k:t,f:!!o}:e:null;function v(e,t=null,o=null,i=0,n=null,r=e===He?0:1,s=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&$v(t),ref:t&&ia(t),scopeId:Ba,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Vt};return l?(_d(a,o),r&128&&e.normalize(a)):o&&(a.shapeFlag|=Dt(o)?8:16),Kr>0&&!s&&To&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&To.push(a),a}const Te=DN;function DN(e,t=null,o=null,i=0,n=null,r=!1){if((!e||e===aN)&&(e=bo),Ea(e)){const l=An(e,t,!0);return o&&_d(l,o),Kr>0&&!r&&To&&(l.shapeFlag&6?To[To.indexOf(e)]=l:To.push(l)),l.patchFlag|=-2,l}if(jN(e)&&(e=e.__vccOpts),t){t=PN(t);let{class:l,style:a}=t;l&&!Dt(l)&&(t.class=we(l)),vt(a)&&(nv(a)&&!ze(a)&&(a=Bt({},a)),t.style=Ve(a))}const s=Dt(e)?1:QS(e)?128:AN(e)?64:vt(e)?4:Xe(e)?2:0;return v(e,t,o,i,n,s,r,!0)}function PN(e){return e?nv(e)||ja in e?Bt({},e):e:null}function An(e,t,o=!1){const{props:i,ref:n,patchFlag:r,children:s}=e,l=t?ON(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&$v(l),ref:t&&t.ref?o&&n?ze(n)?n.concat(ia(t)):[n,ia(t)]:ia(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==He?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&An(e.ssContent),ssFallback:e.ssFallback&&An(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Ke(e=" ",t=0){return Te(qa,null,e,t)}function kN(e,t){const o=Te(na,null,e);return o.staticCount=t,o}function Ee(e="",t=!1){return t?(Y(),Qe(bo,null,e)):Te(bo,null,e)}function Mo(e){return e==null||typeof e=="boolean"?Te(bo):ze(e)?Te(He,null,e.slice()):typeof e=="object"?vn(e):Te(qa,null,String(e))}function vn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:An(e)}function _d(e,t){let o=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(ze(t))o=16;else if(typeof t=="object")if(i&65){const n=t.default;n&&(n._c&&(n._d=!1),_d(e,n()),n._c&&(n._d=!0));return}else{o=32;const n=t._;!n&&!(ja in t)?t._ctx=Vt:n===3&&Vt&&(Vt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Xe(t)?(t={default:t,_ctx:Vt},o=32):(t=String(t),i&64?(o=16,t=[Ke(t)]):o=8);e.children=t,e.shapeFlag|=o}function ON(...e){const t={};for(let o=0;o<e.length;o++){const i=e[o];for(const n in i)if(n==="class")t.class!==i.class&&(t.class=we([t.class,i.class]));else if(n==="style")t.style=Ve([t.style,i.style]);else if(ka(n)){const r=t[n],s=i[n];s&&r!==s&&!(ze(r)&&r.includes(s))&&(t[n]=r?[].concat(r,s):s)}else n!==""&&(t[n]=i[n])}return t}function Lo(e,t,o,i=null){yo(e,t,7,[o,i])}const RN=Lv();let LN=0;function MN(e,t,o){const i=e.type,n=(t?t.appContext:e.appContext)||RN,r={uid:LN++,vnode:e,type:i,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new oS(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Pv(i,n),emitsOptions:mv(i,n),emit:null,emitted:null,propsDefaults:bt,inheritAttrs:i.inheritAttrs,ctx:bt,data:bt,props:bt,attrs:bt,slots:bt,refs:bt,setupState:bt,setupContext:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=VS.bind(null,r),e.ce&&e.ce(r),r}let It=null;const Uv=()=>It||Vt,Mi=e=>{It=e,e.scope.on()},Yn=()=>{It&&It.scope.off(),It=null};function qv(e){return e.vnode.shapeFlag&4}let Jr=!1;function FN(e,t=!1){Jr=t;const{props:o,children:i}=e.vnode,n=qv(e);gN(e,o,n,t),bN(e,i);const r=n?BN(e,t):void 0;return Jr=!1,r}function BN(e,t){const o=e.type;e.accessCache=Object.create(null),e.proxy=iv(new Proxy(e.ctx,uN));const{setup:i}=o;if(i){const n=e.setupContext=i.length>1?UN(e):null;Mi(e),zi();const r=Nn(i,e,0,[e.props,n]);if(Gi(),Yn(),Vg(r)){if(r.then(Yn,Yn),t)return r.then(s=>{Pp(e,s,t)}).catch(s=>{Ma(s,e,0)});e.asyncDep=r}else Pp(e,r,t)}else jv(e,t)}function Pp(e,t,o){Xe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:vt(t)&&(e.setupState=cv(t)),jv(e,o)}let kp;function jv(e,t,o){const i=e.type;if(!e.render){if(!t&&kp&&!i.render){const n=i.template||bd(e).template;if(n){const{isCustomElement:r,compilerOptions:s}=e.appContext.config,{delimiters:l,compilerOptions:a}=i,c=Bt(Bt({isCustomElement:r,delimiters:l},s),a);i.render=kp(n,c)}}e.render=i.render||Io}Mi(e),zi(),dN(e),Gi(),Yn()}function $N(e){return new Proxy(e.attrs,{get(t,o){return to(e,"get","$attrs"),t[o]}})}function UN(e){const t=i=>{e.exposed=i||{}};let o;return{get attrs(){return o||(o=$N(e))},slots:e.slots,emit:e.emit,expose:t}}function Va(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(cv(iv(e.exposed)),{get(t,o){if(o in t)return t[o];if(o in Or)return Or[o](e)},has(t,o){return o in t||o in Or}}))}function qN(e,t=!0){return Xe(e)?e.displayName||e.name:e.name||t&&e.__name}function jN(e){return Xe(e)&&"__vccOpts"in e}const vo=(e,t)=>FS(e,t,Jr);function Sd(e,t,o){const i=arguments.length;return i===2?vt(t)&&!ze(t)?Ea(t)?Te(e,null,[t]):Te(e,t):Te(e,null,t):(i>3?o=Array.prototype.slice.call(arguments,2):i===3&&Ea(o)&&(o=[o]),Te(e,t,o))}const VN=Symbol(""),HN=()=>Ko(VN),zN="3.2.47",GN="http://www.w3.org/2000/svg",Gn=typeof document<"u"?document:null,Op=Gn&&Gn.createElement("template"),WN={insert:(e,t,o)=>{t.insertBefore(e,o||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,o,i)=>{const n=t?Gn.createElementNS(GN,e):Gn.createElement(e,o?{is:o}:void 0);return e==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:e=>Gn.createTextNode(e),createComment:e=>Gn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Gn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,o,i,n,r){const s=o?o.previousSibling:t.lastChild;if(n&&(n===r||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),o),!(n===r||!(n=n.nextSibling)););else{Op.innerHTML=i?`<svg>${e}</svg>`:e;const l=Op.content;if(i){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,o)}return[s?s.nextSibling:t.firstChild,o?o.previousSibling:t.lastChild]}};function QN(e,t,o){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):o?e.setAttribute("class",t):e.className=t}function KN(e,t,o){const i=e.style,n=Dt(o);if(o&&!n){if(t&&!Dt(t))for(const r in t)o[r]==null&&uu(i,r,"");for(const r in o)uu(i,r,o[r])}else{const r=i.display;n?t!==o&&(i.cssText=o):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=r)}}const Rp=/\s*!important$/;function uu(e,t,o){if(ze(o))o.forEach(i=>uu(e,t,i));else if(o==null&&(o=""),t.startsWith("--"))e.setProperty(t,o);else{const i=JN(e,t);Rp.test(o)?e.setProperty(ii(i),o.replace(Rp,""),"important"):e[i]=o}}const Lp=["Webkit","Moz","ms"],gl={};function JN(e,t){const o=gl[t];if(o)return o;let i=Uo(t);if(i!=="filter"&&i in e)return gl[t]=i;i=Ra(i);for(let n=0;n<Lp.length;n++){const r=Lp[n]+i;if(r in e)return gl[t]=r}return t}const Mp="http://www.w3.org/1999/xlink";function YN(e,t,o,i,n){if(i&&t.startsWith("xlink:"))o==null?e.removeAttributeNS(Mp,t.slice(6,t.length)):e.setAttributeNS(Mp,t,o);else{const r=G1(t);o==null||r&&!qg(o)?e.removeAttribute(t):e.setAttribute(t,r?"":o)}}function XN(e,t,o,i,n,r,s){if(t==="innerHTML"||t==="textContent"){i&&s(i,n,r),e[t]=o??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=o;const a=o??"";(e.value!==a||e.tagName==="OPTION")&&(e.value=a),o==null&&e.removeAttribute(t);return}let l=!1;if(o===""||o==null){const a=typeof e[t];a==="boolean"?o=qg(o):o==null&&a==="string"?(o="",l=!0):a==="number"&&(o=0,l=!0)}try{e[t]=o}catch{}l&&e.removeAttribute(t)}function Go(e,t,o,i){e.addEventListener(t,o,i)}function ZN(e,t,o,i){e.removeEventListener(t,o,i)}function eC(e,t,o,i,n=null){const r=e._vei||(e._vei={}),s=r[t];if(i&&s)s.value=i;else{const[l,a]=tC(t);if(i){const c=r[t]=iC(i,n);Go(e,l,c,a)}else s&&(ZN(e,l,s,a),r[t]=void 0)}}const Fp=/(?:Once|Passive|Capture)$/;function tC(e){let t;if(Fp.test(e)){t={};let i;for(;i=e.match(Fp);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ii(e.slice(2)),t]}let vl=0;const oC=Promise.resolve(),nC=()=>vl||(oC.then(()=>vl=0),vl=Date.now());function iC(e,t){const o=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=o.attached)return;yo(rC(i,o.value),t,5,[i])};return o.value=e,o.attached=nC(),o}function rC(e,t){if(ze(t)){const o=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{o.call(e),e._stopped=!0},t.map(i=>n=>!n._stopped&&i&&i(n))}else return t}const Bp=/^on[a-z]/,sC=(e,t,o,i,n=!1,r,s,l,a)=>{t==="class"?QN(e,i,n):t==="style"?KN(e,o,i):ka(t)?rd(t)||eC(e,t,o,i,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):aC(e,t,i,n))?XN(e,t,i,r,s,l,a):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),YN(e,t,i,n))};function aC(e,t,o,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&Bp.test(t)&&Xe(o)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Bp.test(t)&&Dt(o)?!1:t in e}const hn="transition",mr="animation",Wi=(e,{slots:t})=>Sd(bv,Hv(e),t);Wi.displayName="Transition";const Vv={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},cC=Wi.props=Bt({},bv.props,Vv),$n=(e,t=[])=>{ze(e)?e.forEach(o=>o(...t)):e&&e(...t)},$p=e=>e?ze(e)?e.some(t=>t.length>1):e.length>1:!1;function Hv(e){const t={};for(const L in e)L in Vv||(t[L]=e[L]);if(e.css===!1)return t;const{name:o="v",type:i,duration:n,enterFromClass:r=`${o}-enter-from`,enterActiveClass:s=`${o}-enter-active`,enterToClass:l=`${o}-enter-to`,appearFromClass:a=r,appearActiveClass:c=s,appearToClass:u=l,leaveFromClass:h=`${o}-leave-from`,leaveActiveClass:p=`${o}-leave-active`,leaveToClass:g=`${o}-leave-to`}=e,y=lC(n),N=y&&y[0],I=y&&y[1],{onBeforeEnter:A,onEnter:S,onEnterCancelled:b,onLeave:w,onLeaveCancelled:T,onBeforeAppear:k=A,onAppear:F=S,onAppearCancelled:j=b}=t,D=(L,G,E)=>{mn(L,G?u:l),mn(L,G?c:s),E&&E()},P=(L,G)=>{L._isLeaving=!1,mn(L,h),mn(L,g),mn(L,p),G&&G()},B=L=>(G,E)=>{const oe=L?F:S,ie=()=>D(G,L,E);$n(oe,[G,ie]),Up(()=>{mn(G,L?a:r),Ho(G,L?u:l),$p(oe)||qp(G,i,N,ie)})};return Bt(t,{onBeforeEnter(L){$n(A,[L]),Ho(L,r),Ho(L,s)},onBeforeAppear(L){$n(k,[L]),Ho(L,a),Ho(L,c)},onEnter:B(!1),onAppear:B(!0),onLeave(L,G){L._isLeaving=!0;const E=()=>P(L,G);Ho(L,h),Gv(),Ho(L,p),Up(()=>{L._isLeaving&&(mn(L,h),Ho(L,g),$p(w)||qp(L,i,I,E))}),$n(w,[L,E])},onEnterCancelled(L){D(L,!1),$n(b,[L])},onAppearCancelled(L){D(L,!0),$n(j,[L])},onLeaveCancelled(L){P(L),$n(T,[L])}})}function lC(e){if(e==null)return null;if(vt(e))return[yl(e.enter),yl(e.leave)];{const t=yl(e);return[t,t]}}function yl(e){return eS(e)}function Ho(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.add(o)),(e._vtc||(e._vtc=new Set)).add(t)}function mn(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const{_vtc:o}=e;o&&(o.delete(t),o.size||(e._vtc=void 0))}function Up(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let uC=0;function qp(e,t,o,i){const n=e._endId=++uC,r=()=>{n===e._endId&&i()};if(o)return setTimeout(r,o);const{type:s,timeout:l,propCount:a}=zv(e,t);if(!s)return i();const c=s+"end";let u=0;const h=()=>{e.removeEventListener(c,p),r()},p=g=>{g.target===e&&++u>=a&&h()};setTimeout(()=>{u<a&&h()},l+1),e.addEventListener(c,p)}function zv(e,t){const o=window.getComputedStyle(e),i=y=>(o[y]||"").split(", "),n=i(`${hn}Delay`),r=i(`${hn}Duration`),s=jp(n,r),l=i(`${mr}Delay`),a=i(`${mr}Duration`),c=jp(l,a);let u=null,h=0,p=0;t===hn?s>0&&(u=hn,h=s,p=r.length):t===mr?c>0&&(u=mr,h=c,p=a.length):(h=Math.max(s,c),u=h>0?s>c?hn:mr:null,p=u?u===hn?r.length:a.length:0);const g=u===hn&&/\b(transform|all)(,|$)/.test(i(`${hn}Property`).toString());return{type:u,timeout:h,propCount:p,hasTransform:g}}function jp(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((o,i)=>Vp(o)+Vp(e[i])))}function Vp(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Gv(){return document.body.offsetHeight}const Wv=new WeakMap,Qv=new WeakMap,Kv={name:"TransitionGroup",props:Bt({},cC,{tag:String,moveClass:String}),setup(e,{slots:t}){const o=Uv(),i=yv();let n,r;return Nv(()=>{if(!n.length)return;const s=e.moveClass||`${e.name||"v"}-move`;if(!mC(n[0].el,o.vnode.el,s))return;n.forEach(hC),n.forEach(fC);const l=n.filter(pC);Gv(),l.forEach(a=>{const c=a.el,u=c.style;Ho(c,s),u.transform=u.webkitTransform=u.transitionDuration="";const h=c._moveCb=p=>{p&&p.target!==c||(!p||/transform$/.test(p.propertyName))&&(c.removeEventListener("transitionend",h),c._moveCb=null,mn(c,s))};c.addEventListener("transitionend",h)})}),()=>{const s=ct(e),l=Hv(s);let a=s.tag||He;n=r,r=t.default?vd(t.default()):[];for(let c=0;c<r.length;c++){const u=r[c];u.key!=null&&Qr(u,Wr(u,l,i,o))}if(n)for(let c=0;c<n.length;c++){const u=n[c];Qr(u,Wr(u,l,i,o)),Wv.set(u,u.el.getBoundingClientRect())}return Te(a,null,r)}}},dC=e=>delete e.mode;Kv.props;const Jv=Kv;function hC(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function fC(e){Qv.set(e,e.el.getBoundingClientRect())}function pC(e){const t=Wv.get(e),o=Qv.get(e),i=t.left-o.left,n=t.top-o.top;if(i||n){const r=e.el.style;return r.transform=r.webkitTransform=`translate(${i}px,${n}px)`,r.transitionDuration="0s",e}}function mC(e,t,o){const i=e.cloneNode();e._vtc&&e._vtc.forEach(s=>{s.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),o.split(/\s+/).forEach(s=>s&&i.classList.add(s)),i.style.display="none";const n=t.nodeType===1?t:t.parentNode;n.appendChild(i);const{hasTransform:r}=zv(i);return n.removeChild(i),r}const xn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ze(t)?o=>ea(t,o):t};function gC(e){e.target.composing=!0}function Hp(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Je={created(e,{modifiers:{lazy:t,trim:o,number:i}},n){e._assign=xn(n);const r=i||n.props&&n.props.type==="number";Go(e,t?"change":"input",s=>{if(s.target.composing)return;let l=e.value;o&&(l=l.trim()),r&&(l=va(l)),e._assign(l)}),o&&Go(e,"change",()=>{e.value=e.value.trim()}),t||(Go(e,"compositionstart",gC),Go(e,"compositionend",Hp),Go(e,"change",Hp))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:o,trim:i,number:n}},r){if(e._assign=xn(r),e.composing||document.activeElement===e&&e.type!=="range"&&(o||i&&e.value.trim()===t||(n||e.type==="number")&&va(e.value)===t))return;const s=t??"";e.value!==s&&(e.value=s)}},yn={deep:!0,created(e,t,o){e._assign=xn(o),Go(e,"change",()=>{const i=e._modelValue,n=Fi(e),r=e.checked,s=e._assign;if(ze(i)){const l=id(i,n),a=l!==-1;if(r&&!a)s(i.concat(n));else if(!r&&a){const c=[...i];c.splice(l,1),s(c)}}else if(Hi(i)){const l=new Set(i);r?l.add(n):l.delete(n),s(l)}else s(Yv(e,r))})},mounted:zp,beforeUpdate(e,t,o){e._assign=xn(o),zp(e,t,o)}};function zp(e,{value:t,oldValue:o},i){e._modelValue=t,ze(t)?e.checked=id(t,i.props.value)>-1:Hi(t)?e.checked=t.has(i.props.value):t!==o&&(e.checked=Zn(t,Yv(e,!0)))}const Qn={created(e,{value:t},o){e.checked=Zn(t,o.props.value),e._assign=xn(o),Go(e,"change",()=>{e._assign(Fi(e))})},beforeUpdate(e,{value:t,oldValue:o},i){e._assign=xn(i),t!==o&&(e.checked=Zn(t,i.props.value))}},ss={deep:!0,created(e,{value:t,modifiers:{number:o}},i){const n=Hi(t);Go(e,"change",()=>{const r=Array.prototype.filter.call(e.options,s=>s.selected).map(s=>o?va(Fi(s)):Fi(s));e._assign(e.multiple?n?new Set(r):r:r[0])}),e._assign=xn(i)},mounted(e,{value:t}){Gp(e,t)},beforeUpdate(e,t,o){e._assign=xn(o)},updated(e,{value:t}){Gp(e,t)}};function Gp(e,t){const o=e.multiple;if(!(o&&!ze(t)&&!Hi(t))){for(let i=0,n=e.options.length;i<n;i++){const r=e.options[i],s=Fi(r);if(o)ze(t)?r.selected=id(t,s)>-1:r.selected=t.has(s);else if(Zn(Fi(r),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!o&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Fi(e){return"_value"in e?e._value:e.value}function Yv(e,t){const o=t?"_trueValue":"_falseValue";return o in e?e[o]:t}const vC={created(e,t,o){Hs(e,t,o,null,"created")},mounted(e,t,o){Hs(e,t,o,null,"mounted")},beforeUpdate(e,t,o,i){Hs(e,t,o,i,"beforeUpdate")},updated(e,t,o,i){Hs(e,t,o,i,"updated")}};function yC(e,t){switch(e){case"SELECT":return ss;case"TEXTAREA":return Je;default:switch(t){case"checkbox":return yn;case"radio":return Qn;default:return Je}}}function Hs(e,t,o,i,n){const s=yC(e.tagName,o.props&&o.props.type)[n];s&&s(e,t,o,i)}const bC=["ctrl","shift","alt","meta"],wC={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>bC.some(o=>e[`${o}Key`]&&!t.includes(o))},Ie=(e,t)=>(o,...i)=>{for(let n=0;n<t.length;n++){const r=wC[t[n]];if(r&&r(o,t))return}return e(o,...i)},EC={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},St=(e,t)=>o=>{if(!("key"in o))return;const i=ii(o.key);if(t.some(n=>n===i||EC[n]===i))return e(o)},Z={beforeMount(e,{value:t},{transition:o}){e._vod=e.style.display==="none"?"":e.style.display,o&&t?o.beforeEnter(e):gr(e,t)},mounted(e,{value:t},{transition:o}){o&&t&&o.enter(e)},updated(e,{value:t,oldValue:o},{transition:i}){!t!=!o&&(i?t?(i.beforeEnter(e),gr(e,!0),i.enter(e)):i.leave(e,()=>{gr(e,!1)}):gr(e,t))},beforeUnmount(e,{value:t}){gr(e,t)}};function gr(e,t){e.style.display=t?e._vod:"none"}const _C=Bt({patchProp:sC},WN);let Wp;function SC(){return Wp||(Wp=SN(_C))}const NC=(...e)=>{const t=SC().createApp(...e),{mount:o}=t;return t.mount=i=>{const n=CC(i);if(!n)return;const r=t._component;!Xe(r)&&!r.render&&!r.template&&(r.template=n.innerHTML),n.innerHTML="";const s=o(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),s},t};function CC(e){return Dt(e)?document.querySelector(e):e}var du=function(e,t){return du=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,i){o.__proto__=i}||function(o,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(o[n]=i[n])},du(e,t)};function uo(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");du(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}var ye=function(){return ye=Object.assign||function(t){for(var o,i=1,n=arguments.length;i<n;i++){o=arguments[i];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t},ye.apply(this,arguments)};function ei(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(o[i[n]]=e[i[n]]);return o}function bn(e,t,o,i){function n(r){return r instanceof o?r:new o(function(s){s(r)})}return new(o||(o=Promise))(function(r,s){function l(u){try{c(i.next(u))}catch(h){s(h)}}function a(u){try{c(i.throw(u))}catch(h){s(h)}}function c(u){u.done?r(u.value):n(u.value).then(l,a)}c((i=i.apply(e,t||[])).next())})}function wn(e,t){var o={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,n,r,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(c){return function(u){return a([c,u])}}function a(c){if(i)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(o=0)),o;)try{if(i=1,n&&(r=c[0]&2?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[c[0]&2,r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(r=o.trys,!(r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){o=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(c[0]===6&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(u){c=[6,u],n=0}finally{i=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function _a(e,t,o){if(o||arguments.length===2)for(var i=0,n=t.length,r;i<n;i++)(r||!(i in t))&&(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function ra(e,t){if(!!!e)throw new Error(t)}function AC(e){return typeof e=="object"&&e!==null}function xC(e,t){if(!!!e)throw new Error(t??"Unexpected invariant triggered.")}const TC=/\r\n|[\n\r]/g;function hu(e,t){let o=0,i=1;for(const n of e.body.matchAll(TC)){if(typeof n.index=="number"||xC(!1),n.index>=t)break;o=n.index+n[0].length,i+=1}return{line:i,column:t+1-o}}function IC(e){return Xv(e.source,hu(e.source,e.start))}function Xv(e,t){const o=e.locationOffset.column-1,i="".padStart(o)+e.body,n=t.line-1,r=e.locationOffset.line-1,s=t.line+r,l=t.line===1?o:0,a=t.column+l,c=`${e.name}:${s}:${a}
`,u=i.split(/\r\n|[\n\r]/g),h=u[n];if(h.length>120){const p=Math.floor(a/80),g=a%80,y=[];for(let N=0;N<h.length;N+=80)y.push(h.slice(N,N+80));return c+Qp([[`${s} |`,y[0]],...y.slice(1,p+1).map(N=>["|",N]),["|","^".padStart(g)],["|",y[p+1]]])}return c+Qp([[`${s-1} |`,u[n-1]],[`${s} |`,h],["|","^".padStart(a)],[`${s+1} |`,u[n+1]]])}function Qp(e){const t=e.filter(([i,n])=>n!==void 0),o=Math.max(...t.map(([i])=>i.length));return t.map(([i,n])=>i.padStart(o)+(n?" "+n:"")).join(`
`)}function DC(e){const t=e[0];return t==null||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}class Nd extends Error{constructor(t,...o){var i,n,r;const{nodes:s,source:l,positions:a,path:c,originalError:u,extensions:h}=DC(o);super(t),this.name="GraphQLError",this.path=c??void 0,this.originalError=u??void 0,this.nodes=Kp(Array.isArray(s)?s:s?[s]:void 0);const p=Kp((i=this.nodes)===null||i===void 0?void 0:i.map(y=>y.loc).filter(y=>y!=null));this.source=l??(p==null||(n=p[0])===null||n===void 0?void 0:n.source),this.positions=a??(p==null?void 0:p.map(y=>y.start)),this.locations=a&&l?a.map(y=>hu(l,y)):p==null?void 0:p.map(y=>hu(y.source,y.start));const g=AC(u==null?void 0:u.extensions)?u==null?void 0:u.extensions:void 0;this.extensions=(r=h??g)!==null&&r!==void 0?r:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),u!=null&&u.stack?Object.defineProperty(this,"stack",{value:u.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Nd):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let t=this.message;if(this.nodes)for(const o of this.nodes)o.loc&&(t+=`

`+IC(o.loc));else if(this.source&&this.locations)for(const o of this.locations)t+=`

`+Xv(this.source,o);return t}toJSON(){const t={message:this.message};return this.locations!=null&&(t.locations=this.locations),this.path!=null&&(t.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(t.extensions=this.extensions),t}}function Kp(e){return e===void 0||e.length===0?void 0:e}function Ft(e,t,o){return new Nd(`Syntax Error: ${o}`,{source:e,positions:[t]})}class PC{constructor(t,o,i){this.start=t.start,this.end=o.end,this.startToken=t,this.endToken=o,this.source=i}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class Zv{constructor(t,o,i,n,r,s){this.kind=t,this.start=o,this.end=i,this.line=n,this.column=r,this.value=s,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const ey={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},kC=new Set(Object.keys(ey));function Jp(e){const t=e==null?void 0:e.kind;return typeof t=="string"&&kC.has(t)}var Ni;(function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"})(Ni||(Ni={}));var fu;(function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(fu||(fu={}));var $e;(function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})($e||($e={}));function pu(e){return e===9||e===32}function Yr(e){return e>=48&&e<=57}function ty(e){return e>=97&&e<=122||e>=65&&e<=90}function oy(e){return ty(e)||e===95}function OC(e){return ty(e)||Yr(e)||e===95}function RC(e){var t;let o=Number.MAX_SAFE_INTEGER,i=null,n=-1;for(let s=0;s<e.length;++s){var r;const l=e[s],a=LC(l);a!==l.length&&(i=(r=i)!==null&&r!==void 0?r:s,n=s,s!==0&&a<o&&(o=a))}return e.map((s,l)=>l===0?s:s.slice(o)).slice((t=i)!==null&&t!==void 0?t:0,n+1)}function LC(e){let t=0;for(;t<e.length&&pu(e.charCodeAt(t));)++t;return t}function MC(e,t){const o=e.replace(/"""/g,'\\"""'),i=o.split(/\r\n|[\n\r]/g),n=i.length===1,r=i.length>1&&i.slice(1).every(g=>g.length===0||pu(g.charCodeAt(0))),s=o.endsWith('\\"""'),l=e.endsWith('"')&&!s,a=e.endsWith("\\"),c=l||a,u=!(t!=null&&t.minimize)&&(!n||e.length>70||c||r||s);let h="";const p=n&&pu(e.charCodeAt(0));return(u&&!p||r)&&(h+=`
`),h+=o,(u||c)&&(h+=`
`),'"""'+h+'"""'}var xe;(function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"})(xe||(xe={}));class FC{constructor(t){const o=new Zv(xe.SOF,0,0,0,0);this.source=t,this.lastToken=o,this.token=o,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let t=this.token;if(t.kind!==xe.EOF)do if(t.next)t=t.next;else{const o=$C(this,t.end);t.next=o,o.prev=t,t=o}while(t.kind===xe.COMMENT);return t}}function BC(e){return e===xe.BANG||e===xe.DOLLAR||e===xe.AMP||e===xe.PAREN_L||e===xe.PAREN_R||e===xe.SPREAD||e===xe.COLON||e===xe.EQUALS||e===xe.AT||e===xe.BRACKET_L||e===xe.BRACKET_R||e===xe.BRACE_L||e===xe.PIPE||e===xe.BRACE_R}function Qi(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function Ha(e,t){return ny(e.charCodeAt(t))&&iy(e.charCodeAt(t+1))}function ny(e){return e>=55296&&e<=56319}function iy(e){return e>=56320&&e<=57343}function ti(e,t){const o=e.source.body.codePointAt(t);if(o===void 0)return xe.EOF;if(o>=32&&o<=126){const i=String.fromCodePoint(o);return i==='"'?`'"'`:`"${i}"`}return"U+"+o.toString(16).toUpperCase().padStart(4,"0")}function kt(e,t,o,i,n){const r=e.line,s=1+o-e.lineStart;return new Zv(t,o,i,r,s,n)}function $C(e,t){const o=e.source.body,i=o.length;let n=t;for(;n<i;){const r=o.charCodeAt(n);switch(r){case 65279:case 9:case 32:case 44:++n;continue;case 10:++n,++e.line,e.lineStart=n;continue;case 13:o.charCodeAt(n+1)===10?n+=2:++n,++e.line,e.lineStart=n;continue;case 35:return UC(e,n);case 33:return kt(e,xe.BANG,n,n+1);case 36:return kt(e,xe.DOLLAR,n,n+1);case 38:return kt(e,xe.AMP,n,n+1);case 40:return kt(e,xe.PAREN_L,n,n+1);case 41:return kt(e,xe.PAREN_R,n,n+1);case 46:if(o.charCodeAt(n+1)===46&&o.charCodeAt(n+2)===46)return kt(e,xe.SPREAD,n,n+3);break;case 58:return kt(e,xe.COLON,n,n+1);case 61:return kt(e,xe.EQUALS,n,n+1);case 64:return kt(e,xe.AT,n,n+1);case 91:return kt(e,xe.BRACKET_L,n,n+1);case 93:return kt(e,xe.BRACKET_R,n,n+1);case 123:return kt(e,xe.BRACE_L,n,n+1);case 124:return kt(e,xe.PIPE,n,n+1);case 125:return kt(e,xe.BRACE_R,n,n+1);case 34:return o.charCodeAt(n+1)===34&&o.charCodeAt(n+2)===34?GC(e,n):jC(e,n)}if(Yr(r)||r===45)return qC(e,n,r);if(oy(r))return WC(e,n);throw Ft(e.source,n,r===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:Qi(r)||Ha(o,n)?`Unexpected character: ${ti(e,n)}.`:`Invalid character: ${ti(e,n)}.`)}return kt(e,xe.EOF,i,i)}function UC(e,t){const o=e.source.body,i=o.length;let n=t+1;for(;n<i;){const r=o.charCodeAt(n);if(r===10||r===13)break;if(Qi(r))++n;else if(Ha(o,n))n+=2;else break}return kt(e,xe.COMMENT,t,n,o.slice(t+1,n))}function qC(e,t,o){const i=e.source.body;let n=t,r=o,s=!1;if(r===45&&(r=i.charCodeAt(++n)),r===48){if(r=i.charCodeAt(++n),Yr(r))throw Ft(e.source,n,`Invalid number, unexpected digit after 0: ${ti(e,n)}.`)}else n=bl(e,n,r),r=i.charCodeAt(n);if(r===46&&(s=!0,r=i.charCodeAt(++n),n=bl(e,n,r),r=i.charCodeAt(n)),(r===69||r===101)&&(s=!0,r=i.charCodeAt(++n),(r===43||r===45)&&(r=i.charCodeAt(++n)),n=bl(e,n,r),r=i.charCodeAt(n)),r===46||oy(r))throw Ft(e.source,n,`Invalid number, expected digit but got: ${ti(e,n)}.`);return kt(e,s?xe.FLOAT:xe.INT,t,n,i.slice(t,n))}function bl(e,t,o){if(!Yr(o))throw Ft(e.source,t,`Invalid number, expected digit but got: ${ti(e,t)}.`);const i=e.source.body;let n=t+1;for(;Yr(i.charCodeAt(n));)++n;return n}function jC(e,t){const o=e.source.body,i=o.length;let n=t+1,r=n,s="";for(;n<i;){const l=o.charCodeAt(n);if(l===34)return s+=o.slice(r,n),kt(e,xe.STRING,t,n+1,s);if(l===92){s+=o.slice(r,n);const a=o.charCodeAt(n+1)===117?o.charCodeAt(n+2)===123?VC(e,n):HC(e,n):zC(e,n);s+=a.value,n+=a.size,r=n;continue}if(l===10||l===13)break;if(Qi(l))++n;else if(Ha(o,n))n+=2;else throw Ft(e.source,n,`Invalid character within String: ${ti(e,n)}.`)}throw Ft(e.source,n,"Unterminated string.")}function VC(e,t){const o=e.source.body;let i=0,n=3;for(;n<12;){const r=o.charCodeAt(t+n++);if(r===125){if(n<5||!Qi(i))break;return{value:String.fromCodePoint(i),size:n}}if(i=i<<4|Dr(r),i<0)break}throw Ft(e.source,t,`Invalid Unicode escape sequence: "${o.slice(t,t+n)}".`)}function HC(e,t){const o=e.source.body,i=Yp(o,t+2);if(Qi(i))return{value:String.fromCodePoint(i),size:6};if(ny(i)&&o.charCodeAt(t+6)===92&&o.charCodeAt(t+7)===117){const n=Yp(o,t+8);if(iy(n))return{value:String.fromCodePoint(i,n),size:12}}throw Ft(e.source,t,`Invalid Unicode escape sequence: "${o.slice(t,t+6)}".`)}function Yp(e,t){return Dr(e.charCodeAt(t))<<12|Dr(e.charCodeAt(t+1))<<8|Dr(e.charCodeAt(t+2))<<4|Dr(e.charCodeAt(t+3))}function Dr(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function zC(e,t){const o=e.source.body;switch(o.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw Ft(e.source,t,`Invalid character escape sequence: "${o.slice(t,t+2)}".`)}function GC(e,t){const o=e.source.body,i=o.length;let n=e.lineStart,r=t+3,s=r,l="";const a=[];for(;r<i;){const c=o.charCodeAt(r);if(c===34&&o.charCodeAt(r+1)===34&&o.charCodeAt(r+2)===34){l+=o.slice(s,r),a.push(l);const u=kt(e,xe.BLOCK_STRING,t,r+3,RC(a).join(`
`));return e.line+=a.length-1,e.lineStart=n,u}if(c===92&&o.charCodeAt(r+1)===34&&o.charCodeAt(r+2)===34&&o.charCodeAt(r+3)===34){l+=o.slice(s,r),s=r+1,r+=4;continue}if(c===10||c===13){l+=o.slice(s,r),a.push(l),c===13&&o.charCodeAt(r+1)===10?r+=2:++r,l="",s=r,n=r;continue}if(Qi(c))++r;else if(Ha(o,r))r+=2;else throw Ft(e.source,r,`Invalid character within String: ${ti(e,r)}.`)}throw Ft(e.source,r,"Unterminated string.")}function WC(e,t){const o=e.source.body,i=o.length;let n=t+1;for(;n<i;){const r=o.charCodeAt(n);if(OC(r))++n;else break}return kt(e,xe.NAME,t,n,o.slice(t,n))}const QC=10,ry=2;function sy(e){return za(e,[])}function za(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return KC(e,t);default:return String(e)}}function KC(e,t){if(e===null)return"null";if(t.includes(e))return"[Circular]";const o=[...t,e];if(JC(e)){const i=e.toJSON();if(i!==e)return typeof i=="string"?i:za(i,o)}else if(Array.isArray(e))return XC(e,o);return YC(e,o)}function JC(e){return typeof e.toJSON=="function"}function YC(e,t){const o=Object.entries(e);return o.length===0?"{}":t.length>ry?"["+ZC(e)+"]":"{ "+o.map(([n,r])=>n+": "+za(r,t)).join(", ")+" }"}function XC(e,t){if(e.length===0)return"[]";if(t.length>ry)return"[Array]";const o=Math.min(QC,e.length),i=e.length-o,n=[];for(let r=0;r<o;++r)n.push(za(e[r],t));return i===1?n.push("... 1 more item"):i>1&&n.push(`... ${i} more items`),"["+n.join(", ")+"]"}function ZC(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){const o=e.constructor.name;if(typeof o=="string"&&o!=="")return o}return t}const eA=function(t,o){return t instanceof o};class Cd{constructor(t,o="GraphQL request",i={line:1,column:1}){typeof t=="string"||ra(!1,`Body must be a string. Received: ${sy(t)}.`),this.body=t,this.name=o,this.locationOffset=i,this.locationOffset.line>0||ra(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||ra(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function tA(e){return eA(e,Cd)}function oA(e,t){return new nA(e,t).parseDocument()}class nA{constructor(t,o={}){const i=tA(t)?t:new Cd(t);this._lexer=new FC(i),this._options=o,this._tokenCounter=0}parseName(){const t=this.expectToken(xe.NAME);return this.node(t,{kind:$e.NAME,value:t.value})}parseDocument(){return this.node(this._lexer.token,{kind:$e.DOCUMENT,definitions:this.many(xe.SOF,this.parseDefinition,xe.EOF)})}parseDefinition(){if(this.peek(xe.BRACE_L))return this.parseOperationDefinition();const t=this.peekDescription(),o=t?this._lexer.lookahead():this._lexer.token;if(o.kind===xe.NAME){switch(o.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(t)throw Ft(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(o.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(o)}parseOperationDefinition(){const t=this._lexer.token;if(this.peek(xe.BRACE_L))return this.node(t,{kind:$e.OPERATION_DEFINITION,operation:Ni.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const o=this.parseOperationType();let i;return this.peek(xe.NAME)&&(i=this.parseName()),this.node(t,{kind:$e.OPERATION_DEFINITION,operation:o,name:i,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const t=this.expectToken(xe.NAME);switch(t.value){case"query":return Ni.QUERY;case"mutation":return Ni.MUTATION;case"subscription":return Ni.SUBSCRIPTION}throw this.unexpected(t)}parseVariableDefinitions(){return this.optionalMany(xe.PAREN_L,this.parseVariableDefinition,xe.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:$e.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(xe.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(xe.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const t=this._lexer.token;return this.expectToken(xe.DOLLAR),this.node(t,{kind:$e.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:$e.SELECTION_SET,selections:this.many(xe.BRACE_L,this.parseSelection,xe.BRACE_R)})}parseSelection(){return this.peek(xe.SPREAD)?this.parseFragment():this.parseField()}parseField(){const t=this._lexer.token,o=this.parseName();let i,n;return this.expectOptionalToken(xe.COLON)?(i=o,n=this.parseName()):n=o,this.node(t,{kind:$e.FIELD,alias:i,name:n,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(xe.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(t){const o=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(xe.PAREN_L,o,xe.PAREN_R)}parseArgument(t=!1){const o=this._lexer.token,i=this.parseName();return this.expectToken(xe.COLON),this.node(o,{kind:$e.ARGUMENT,name:i,value:this.parseValueLiteral(t)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const t=this._lexer.token;this.expectToken(xe.SPREAD);const o=this.expectOptionalKeyword("on");return!o&&this.peek(xe.NAME)?this.node(t,{kind:$e.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(t,{kind:$e.INLINE_FRAGMENT,typeCondition:o?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const t=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(t,{kind:$e.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:$e.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(t){const o=this._lexer.token;switch(o.kind){case xe.BRACKET_L:return this.parseList(t);case xe.BRACE_L:return this.parseObject(t);case xe.INT:return this.advanceLexer(),this.node(o,{kind:$e.INT,value:o.value});case xe.FLOAT:return this.advanceLexer(),this.node(o,{kind:$e.FLOAT,value:o.value});case xe.STRING:case xe.BLOCK_STRING:return this.parseStringLiteral();case xe.NAME:switch(this.advanceLexer(),o.value){case"true":return this.node(o,{kind:$e.BOOLEAN,value:!0});case"false":return this.node(o,{kind:$e.BOOLEAN,value:!1});case"null":return this.node(o,{kind:$e.NULL});default:return this.node(o,{kind:$e.ENUM,value:o.value})}case xe.DOLLAR:if(t)if(this.expectToken(xe.DOLLAR),this._lexer.token.kind===xe.NAME){const i=this._lexer.token.value;throw Ft(this._lexer.source,o.start,`Unexpected variable "$${i}" in constant value.`)}else throw this.unexpected(o);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const t=this._lexer.token;return this.advanceLexer(),this.node(t,{kind:$e.STRING,value:t.value,block:t.kind===xe.BLOCK_STRING})}parseList(t){const o=()=>this.parseValueLiteral(t);return this.node(this._lexer.token,{kind:$e.LIST,values:this.any(xe.BRACKET_L,o,xe.BRACKET_R)})}parseObject(t){const o=()=>this.parseObjectField(t);return this.node(this._lexer.token,{kind:$e.OBJECT,fields:this.any(xe.BRACE_L,o,xe.BRACE_R)})}parseObjectField(t){const o=this._lexer.token,i=this.parseName();return this.expectToken(xe.COLON),this.node(o,{kind:$e.OBJECT_FIELD,name:i,value:this.parseValueLiteral(t)})}parseDirectives(t){const o=[];for(;this.peek(xe.AT);)o.push(this.parseDirective(t));return o}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(t){const o=this._lexer.token;return this.expectToken(xe.AT),this.node(o,{kind:$e.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t)})}parseTypeReference(){const t=this._lexer.token;let o;if(this.expectOptionalToken(xe.BRACKET_L)){const i=this.parseTypeReference();this.expectToken(xe.BRACKET_R),o=this.node(t,{kind:$e.LIST_TYPE,type:i})}else o=this.parseNamedType();return this.expectOptionalToken(xe.BANG)?this.node(t,{kind:$e.NON_NULL_TYPE,type:o}):o}parseNamedType(){return this.node(this._lexer.token,{kind:$e.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(xe.STRING)||this.peek(xe.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("schema");const i=this.parseConstDirectives(),n=this.many(xe.BRACE_L,this.parseOperationTypeDefinition,xe.BRACE_R);return this.node(t,{kind:$e.SCHEMA_DEFINITION,description:o,directives:i,operationTypes:n})}parseOperationTypeDefinition(){const t=this._lexer.token,o=this.parseOperationType();this.expectToken(xe.COLON);const i=this.parseNamedType();return this.node(t,{kind:$e.OPERATION_TYPE_DEFINITION,operation:o,type:i})}parseScalarTypeDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("scalar");const i=this.parseName(),n=this.parseConstDirectives();return this.node(t,{kind:$e.SCALAR_TYPE_DEFINITION,description:o,name:i,directives:n})}parseObjectTypeDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("type");const i=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(t,{kind:$e.OBJECT_TYPE_DEFINITION,description:o,name:i,interfaces:n,directives:r,fields:s})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(xe.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(xe.BRACE_L,this.parseFieldDefinition,xe.BRACE_R)}parseFieldDefinition(){const t=this._lexer.token,o=this.parseDescription(),i=this.parseName(),n=this.parseArgumentDefs();this.expectToken(xe.COLON);const r=this.parseTypeReference(),s=this.parseConstDirectives();return this.node(t,{kind:$e.FIELD_DEFINITION,description:o,name:i,arguments:n,type:r,directives:s})}parseArgumentDefs(){return this.optionalMany(xe.PAREN_L,this.parseInputValueDef,xe.PAREN_R)}parseInputValueDef(){const t=this._lexer.token,o=this.parseDescription(),i=this.parseName();this.expectToken(xe.COLON);const n=this.parseTypeReference();let r;this.expectOptionalToken(xe.EQUALS)&&(r=this.parseConstValueLiteral());const s=this.parseConstDirectives();return this.node(t,{kind:$e.INPUT_VALUE_DEFINITION,description:o,name:i,type:n,defaultValue:r,directives:s})}parseInterfaceTypeDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("interface");const i=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(t,{kind:$e.INTERFACE_TYPE_DEFINITION,description:o,name:i,interfaces:n,directives:r,fields:s})}parseUnionTypeDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("union");const i=this.parseName(),n=this.parseConstDirectives(),r=this.parseUnionMemberTypes();return this.node(t,{kind:$e.UNION_TYPE_DEFINITION,description:o,name:i,directives:n,types:r})}parseUnionMemberTypes(){return this.expectOptionalToken(xe.EQUALS)?this.delimitedMany(xe.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("enum");const i=this.parseName(),n=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();return this.node(t,{kind:$e.ENUM_TYPE_DEFINITION,description:o,name:i,directives:n,values:r})}parseEnumValuesDefinition(){return this.optionalMany(xe.BRACE_L,this.parseEnumValueDefinition,xe.BRACE_R)}parseEnumValueDefinition(){const t=this._lexer.token,o=this.parseDescription(),i=this.parseEnumValueName(),n=this.parseConstDirectives();return this.node(t,{kind:$e.ENUM_VALUE_DEFINITION,description:o,name:i,directives:n})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw Ft(this._lexer.source,this._lexer.token.start,`${zs(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("input");const i=this.parseName(),n=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();return this.node(t,{kind:$e.INPUT_OBJECT_TYPE_DEFINITION,description:o,name:i,directives:n,fields:r})}parseInputFieldsDefinition(){return this.optionalMany(xe.BRACE_L,this.parseInputValueDef,xe.BRACE_R)}parseTypeSystemExtension(){const t=this._lexer.lookahead();if(t.kind===xe.NAME)switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(t)}parseSchemaExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const o=this.parseConstDirectives(),i=this.optionalMany(xe.BRACE_L,this.parseOperationTypeDefinition,xe.BRACE_R);if(o.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:$e.SCHEMA_EXTENSION,directives:o,operationTypes:i})}parseScalarTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const o=this.parseName(),i=this.parseConstDirectives();if(i.length===0)throw this.unexpected();return this.node(t,{kind:$e.SCALAR_TYPE_EXTENSION,name:o,directives:i})}parseObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const o=this.parseName(),i=this.parseImplementsInterfaces(),n=this.parseConstDirectives(),r=this.parseFieldsDefinition();if(i.length===0&&n.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:$e.OBJECT_TYPE_EXTENSION,name:o,interfaces:i,directives:n,fields:r})}parseInterfaceTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const o=this.parseName(),i=this.parseImplementsInterfaces(),n=this.parseConstDirectives(),r=this.parseFieldsDefinition();if(i.length===0&&n.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:$e.INTERFACE_TYPE_EXTENSION,name:o,interfaces:i,directives:n,fields:r})}parseUnionTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const o=this.parseName(),i=this.parseConstDirectives(),n=this.parseUnionMemberTypes();if(i.length===0&&n.length===0)throw this.unexpected();return this.node(t,{kind:$e.UNION_TYPE_EXTENSION,name:o,directives:i,types:n})}parseEnumTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const o=this.parseName(),i=this.parseConstDirectives(),n=this.parseEnumValuesDefinition();if(i.length===0&&n.length===0)throw this.unexpected();return this.node(t,{kind:$e.ENUM_TYPE_EXTENSION,name:o,directives:i,values:n})}parseInputObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const o=this.parseName(),i=this.parseConstDirectives(),n=this.parseInputFieldsDefinition();if(i.length===0&&n.length===0)throw this.unexpected();return this.node(t,{kind:$e.INPUT_OBJECT_TYPE_EXTENSION,name:o,directives:i,fields:n})}parseDirectiveDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("directive"),this.expectToken(xe.AT);const i=this.parseName(),n=this.parseArgumentDefs(),r=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const s=this.parseDirectiveLocations();return this.node(t,{kind:$e.DIRECTIVE_DEFINITION,description:o,name:i,arguments:n,repeatable:r,locations:s})}parseDirectiveLocations(){return this.delimitedMany(xe.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const t=this._lexer.token,o=this.parseName();if(Object.prototype.hasOwnProperty.call(fu,o.value))return o;throw this.unexpected(t)}node(t,o){return this._options.noLocation!==!0&&(o.loc=new PC(t,this._lexer.lastToken,this._lexer.source)),o}peek(t){return this._lexer.token.kind===t}expectToken(t){const o=this._lexer.token;if(o.kind===t)return this.advanceLexer(),o;throw Ft(this._lexer.source,o.start,`Expected ${ay(t)}, found ${zs(o)}.`)}expectOptionalToken(t){return this._lexer.token.kind===t?(this.advanceLexer(),!0):!1}expectKeyword(t){const o=this._lexer.token;if(o.kind===xe.NAME&&o.value===t)this.advanceLexer();else throw Ft(this._lexer.source,o.start,`Expected "${t}", found ${zs(o)}.`)}expectOptionalKeyword(t){const o=this._lexer.token;return o.kind===xe.NAME&&o.value===t?(this.advanceLexer(),!0):!1}unexpected(t){const o=t??this._lexer.token;return Ft(this._lexer.source,o.start,`Unexpected ${zs(o)}.`)}any(t,o,i){this.expectToken(t);const n=[];for(;!this.expectOptionalToken(i);)n.push(o.call(this));return n}optionalMany(t,o,i){if(this.expectOptionalToken(t)){const n=[];do n.push(o.call(this));while(!this.expectOptionalToken(i));return n}return[]}many(t,o,i){this.expectToken(t);const n=[];do n.push(o.call(this));while(!this.expectOptionalToken(i));return n}delimitedMany(t,o){this.expectOptionalToken(t);const i=[];do i.push(o.call(this));while(this.expectOptionalToken(t));return i}advanceLexer(){const{maxTokens:t}=this._options,o=this._lexer.advance();if(t!==void 0&&o.kind!==xe.EOF&&(++this._tokenCounter,this._tokenCounter>t))throw Ft(this._lexer.source,o.start,`Document contains more that ${t} tokens. Parsing aborted.`)}}function zs(e){const t=e.value;return ay(e.kind)+(t!=null?` "${t}"`:"")}function ay(e){return BC(e)?`"${e}"`:e}function iA(e){return`"${e.replace(rA,sA)}"`}const rA=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function sA(e){return aA[e.charCodeAt(0)]}const aA=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],Ad=Object.freeze({});function Zo(e,t,o=ey){const i=new Map;for(const A of Object.values($e))i.set(A,cA(t,A));let n,r=Array.isArray(e),s=[e],l=-1,a=[],c=e,u,h;const p=[],g=[];do{l++;const A=l===s.length,S=A&&a.length!==0;if(A){if(u=g.length===0?void 0:p[p.length-1],c=h,h=g.pop(),S)if(r){c=c.slice();let w=0;for(const[T,k]of a){const F=T-w;k===null?(c.splice(F,1),w++):c[F]=k}}else{c=Object.defineProperties({},Object.getOwnPropertyDescriptors(c));for(const[w,T]of a)c[w]=T}l=n.index,s=n.keys,a=n.edits,r=n.inArray,n=n.prev}else if(h){if(u=r?l:s[l],c=h[u],c==null)continue;p.push(u)}let b;if(!Array.isArray(c)){var y,N;Jp(c)||ra(!1,`Invalid AST Node: ${sy(c)}.`);const w=A?(y=i.get(c.kind))===null||y===void 0?void 0:y.leave:(N=i.get(c.kind))===null||N===void 0?void 0:N.enter;if(b=w==null?void 0:w.call(t,c,u,h,p,g),b===Ad)break;if(b===!1){if(!A){p.pop();continue}}else if(b!==void 0&&(a.push([u,b]),!A))if(Jp(b))c=b;else{p.pop();continue}}if(b===void 0&&S&&a.push([u,c]),A)p.pop();else{var I;n={inArray:r,index:l,keys:s,edits:a,prev:n},r=Array.isArray(c),s=r?c:(I=o[c.kind])!==null&&I!==void 0?I:[],l=-1,a=[],h&&g.push(h),h=c}}while(n!==void 0);return a.length!==0?a[a.length-1][1]:e}function cA(e,t){const o=e[t];return typeof o=="object"?o:typeof o=="function"?{enter:o,leave:void 0}:{enter:e.enter,leave:e.leave}}function cy(e){return Zo(e,uA)}const lA=80,uA={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>Ue(e.definitions,`

`)},OperationDefinition:{leave(e){const t=tt("(",Ue(e.variableDefinitions,", "),")"),o=Ue([e.operation,Ue([e.name,t]),Ue(e.directives," ")]," ");return(o==="query"?"":o+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:o,directives:i})=>e+": "+t+tt(" = ",o)+tt(" ",Ue(i," "))},SelectionSet:{leave:({selections:e})=>So(e)},Field:{leave({alias:e,name:t,arguments:o,directives:i,selectionSet:n}){const r=tt("",e,": ")+t;let s=r+tt("(",Ue(o,", "),")");return s.length>lA&&(s=r+tt(`(
`,sa(Ue(o,`
`)),`
)`)),Ue([s,Ue(i," "),n]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+tt(" ",Ue(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:o})=>Ue(["...",tt("on ",e),Ue(t," "),o]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:o,directives:i,selectionSet:n})=>`fragment ${e}${tt("(",Ue(o,", "),")")} on ${t} ${tt("",Ue(i," ")," ")}`+n},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?MC(e):iA(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+Ue(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+Ue(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+tt("(",Ue(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:o})=>tt("",e,`
`)+Ue(["schema",Ue(t," "),So(o)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:o})=>tt("",e,`
`)+Ue(["scalar",t,Ue(o," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:o,directives:i,fields:n})=>tt("",e,`
`)+Ue(["type",t,tt("implements ",Ue(o," & ")),Ue(i," "),So(n)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:o,type:i,directives:n})=>tt("",e,`
`)+t+(Xp(o)?tt(`(
`,sa(Ue(o,`
`)),`
)`):tt("(",Ue(o,", "),")"))+": "+i+tt(" ",Ue(n," "))},InputValueDefinition:{leave:({description:e,name:t,type:o,defaultValue:i,directives:n})=>tt("",e,`
`)+Ue([t+": "+o,tt("= ",i),Ue(n," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:o,directives:i,fields:n})=>tt("",e,`
`)+Ue(["interface",t,tt("implements ",Ue(o," & ")),Ue(i," "),So(n)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:o,types:i})=>tt("",e,`
`)+Ue(["union",t,Ue(o," "),tt("= ",Ue(i," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:o,values:i})=>tt("",e,`
`)+Ue(["enum",t,Ue(o," "),So(i)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:o})=>tt("",e,`
`)+Ue([t,Ue(o," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:o,fields:i})=>tt("",e,`
`)+Ue(["input",t,Ue(o," "),So(i)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:o,repeatable:i,locations:n})=>tt("",e,`
`)+"directive @"+t+(Xp(o)?tt(`(
`,sa(Ue(o,`
`)),`
)`):tt("(",Ue(o,", "),")"))+(i?" repeatable":"")+" on "+Ue(n," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>Ue(["extend schema",Ue(e," "),So(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>Ue(["extend scalar",e,Ue(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:o,fields:i})=>Ue(["extend type",e,tt("implements ",Ue(t," & ")),Ue(o," "),So(i)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:o,fields:i})=>Ue(["extend interface",e,tt("implements ",Ue(t," & ")),Ue(o," "),So(i)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:o})=>Ue(["extend union",e,Ue(t," "),tt("= ",Ue(o," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:o})=>Ue(["extend enum",e,Ue(t," "),So(o)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:o})=>Ue(["extend input",e,Ue(t," "),So(o)]," ")}};function Ue(e,t=""){var o;return(o=e==null?void 0:e.filter(i=>i).join(t))!==null&&o!==void 0?o:""}function So(e){return tt(`{
`,sa(Ue(e,`
`)),`
}`)}function tt(e,t,o=""){return t!=null&&t!==""?e+t+o:""}function sa(e){return tt("  ",e.replace(/\n/g,`
  `))}function Xp(e){var t;return(t=e==null?void 0:e.some(o=>o.includes(`
`)))!==null&&t!==void 0?t:!1}function Zp(e){return e.kind===$e.FIELD||e.kind===$e.FRAGMENT_SPREAD||e.kind===$e.INLINE_FRAGMENT}var aa=new Map,mu=new Map,ly=!0,Sa=!1;function uy(e){return e.replace(/[\s,]+/g," ").trim()}function dA(e){return uy(e.source.body.substring(e.start,e.end))}function hA(e){var t=new Set,o=[];return e.definitions.forEach(function(i){if(i.kind==="FragmentDefinition"){var n=i.name.value,r=dA(i.loc),s=mu.get(n);s&&!s.has(r)?ly&&console.warn("Warning: fragment with name "+n+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):s||mu.set(n,s=new Set),s.add(r),t.has(r)||(t.add(r),o.push(i))}else o.push(i)}),ye(ye({},e),{definitions:o})}function fA(e){var t=new Set(e.definitions);t.forEach(function(i){i.loc&&delete i.loc,Object.keys(i).forEach(function(n){var r=i[n];r&&typeof r=="object"&&t.add(r)})});var o=e.loc;return o&&(delete o.startToken,delete o.endToken),e}function pA(e){var t=uy(e);if(!aa.has(t)){var o=oA(e,{experimentalFragmentVariables:Sa,allowLegacyFragmentVariables:Sa});if(!o||o.kind!=="Document")throw new Error("Not a valid GraphQL document.");aa.set(t,fA(hA(o)))}return aa.get(t)}function Fe(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];typeof e=="string"&&(e=[e]);var i=e[0];return t.forEach(function(n,r){n&&n.kind==="Document"?i+=n.loc.source.body:i+=n,i+=e[r+1]}),pA(i)}function mA(){aa.clear(),mu.clear()}function gA(){ly=!1}function vA(){Sa=!0}function yA(){Sa=!1}var vr={gql:Fe,resetCaches:mA,disableFragmentWarnings:gA,enableExperimentalFragmentVariables:vA,disableExperimentalFragmentVariables:yA};(function(e){e.gql=vr.gql,e.resetCaches=vr.resetCaches,e.disableFragmentWarnings=vr.disableFragmentWarnings,e.enableExperimentalFragmentVariables=vr.enableExperimentalFragmentVariables,e.disableExperimentalFragmentVariables=vr.disableExperimentalFragmentVariables})(Fe||(Fe={}));Fe.default=Fe;const Pe=Fe;var wl="Invariant Violation",em=Object.setPrototypeOf,bA=em===void 0?function(e,t){return e.__proto__=t,e}:em,dt=function(e){uo(t,e);function t(o){o===void 0&&(o=wl);var i=e.call(this,typeof o=="number"?wl+": "+o+" (see https://github.com/apollographql/invariant-packages)":o)||this;return i.framesToPop=1,i.name=wl,bA(i,t.prototype),i}return t}(Error);function Le(e,t){if(!e)throw new dt(t)}var dy=["debug","log","warn","error","silent"],wA=dy.indexOf("log");function Gs(e){return function(){if(dy.indexOf(e)>=wA){var t=console[e]||console.log;return t.apply(console,arguments)}}}(function(e){e.debug=Gs("debug"),e.log=Gs("log"),e.warn=Gs("warn"),e.error=Gs("error")})(Le||(Le={}));function go(e){try{return e()}catch{}}const tm=go(function(){return globalThis})||go(function(){return window})||go(function(){return self})||go(function(){return global})||go(function(){return go.constructor("return this")()});var om="__",nm=[om,om].join("DEV");function EA(){try{return!!__DEV__}catch{return Object.defineProperty(tm,nm,{value:go(function(){return"production"})!=="production",enumerable:!1,configurable:!0,writable:!0}),tm[nm]}}const El=EA();function En(e){try{return e()}catch{}}var gu=En(function(){return globalThis})||En(function(){return window})||En(function(){return self})||En(function(){return global})||En(function(){return En.constructor("return this")()}),vu=!1;function _A(){gu&&!En(function(){return"production"})&&!En(function(){return process})&&(Object.defineProperty(gu,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),vu=!0)}_A();function im(){vu&&(delete gu.process,vu=!1)}function SA(){return im()}function NA(){__DEV__?Le(typeof El=="boolean",El):Le(typeof El=="boolean",39)}SA();NA();function Ga(e,t){var o=e.directives;return!o||!o.length?!0:xA(o).every(function(i){var n=i.directive,r=i.ifArgument,s=!1;return r.value.kind==="Variable"?(s=t&&t[r.value.name.value],__DEV__?Le(s!==void 0,"Invalid variable referenced in @".concat(n.name.value," directive.")):Le(s!==void 0,40)):s=r.value.value,n.name.value==="skip"?!s:s})}function xd(e,t,o){var i=new Set(e),n=i.size;return Zo(t,{Directive:function(r){if(i.delete(r.name.value)&&(!o||!i.size))return Ad}}),o?!i.size:i.size<n}function CA(e){return e&&xd(["client","export"],e,!0)}function AA(e){var t=e.name.value;return t==="skip"||t==="include"}function xA(e){var t=[];return e&&e.length&&e.forEach(function(o){if(AA(o)){var i=o.arguments,n=o.name.value;__DEV__?Le(i&&i.length===1,"Incorrect number of arguments for the @".concat(n," directive.")):Le(i&&i.length===1,41);var r=i[0];__DEV__?Le(r.name&&r.name.value==="if","Invalid argument for the @".concat(n," directive.")):Le(r.name&&r.name.value==="if",42);var s=r.value;__DEV__?Le(s&&(s.kind==="Variable"||s.kind==="BooleanValue"),"Argument for the @".concat(n," directive must be a variable or a boolean value.")):Le(s&&(s.kind==="Variable"||s.kind==="BooleanValue"),43),t.push({directive:o,ifArgument:r})}}),t}function TA(e,t){var o=t,i=[];e.definitions.forEach(function(r){if(r.kind==="OperationDefinition")throw __DEV__?new dt("Found a ".concat(r.operation," operation").concat(r.name?" named '".concat(r.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new dt(44);r.kind==="FragmentDefinition"&&i.push(r)}),typeof o>"u"&&(__DEV__?Le(i.length===1,"Found ".concat(i.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):Le(i.length===1,45),o=i[0].name.value);var n=ye(ye({},e),{definitions:_a([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:o}}]}}],e.definitions,!0)});return n}function Td(e){e===void 0&&(e=[]);var t={};return e.forEach(function(o){t[o.name.value]=o}),t}function Id(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":{var o=e.name.value;if(typeof t=="function")return t(o);var i=t&&t[o];return __DEV__?Le(i,"No fragment named ".concat(o)):Le(i,46),i||null}default:return null}}function _t(e){return e!==null&&typeof e=="object"}function ki(e){return{__ref:String(e)}}function pt(e){return!!(e&&typeof e=="object"&&typeof e.__ref=="string")}function IA(e){return _t(e)&&e.kind==="Document"&&Array.isArray(e.definitions)}function DA(e){return e.kind==="StringValue"}function PA(e){return e.kind==="BooleanValue"}function kA(e){return e.kind==="IntValue"}function OA(e){return e.kind==="FloatValue"}function RA(e){return e.kind==="Variable"}function LA(e){return e.kind==="ObjectValue"}function MA(e){return e.kind==="ListValue"}function FA(e){return e.kind==="EnumValue"}function BA(e){return e.kind==="NullValue"}function Bi(e,t,o,i){if(kA(o)||OA(o))e[t.value]=Number(o.value);else if(PA(o)||DA(o))e[t.value]=o.value;else if(LA(o)){var n={};o.fields.map(function(s){return Bi(n,s.name,s.value,i)}),e[t.value]=n}else if(RA(o)){var r=(i||{})[o.name.value];e[t.value]=r}else if(MA(o))e[t.value]=o.values.map(function(s){var l={};return Bi(l,t,s,i),l[t.value]});else if(FA(o))e[t.value]=o.value;else if(BA(o))e[t.value]=null;else throw __DEV__?new dt('The inline argument "'.concat(t.value,'" of kind "').concat(o.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new dt(55)}function $A(e,t){var o=null;e.directives&&(o={},e.directives.forEach(function(n){o[n.name.value]={},n.arguments&&n.arguments.forEach(function(r){var s=r.name,l=r.value;return Bi(o[n.name.value],s,l,t)})}));var i=null;return e.arguments&&e.arguments.length&&(i={},e.arguments.forEach(function(n){var r=n.name,s=n.value;return Bi(i,r,s,t)})),Dd(e.name.value,i,o)}var UA=["connection","include","skip","client","rest","export"],Dd=Object.assign(function(e,t,o){if(t&&o&&o.connection&&o.connection.key)if(o.connection.filter&&o.connection.filter.length>0){var i=o.connection.filter?o.connection.filter:[];i.sort();var n={};return i.forEach(function(l){n[l]=t[l]}),"".concat(o.connection.key,"(").concat(yr(n),")")}else return o.connection.key;var r=e;if(t){var s=yr(t);r+="(".concat(s,")")}return o&&Object.keys(o).forEach(function(l){UA.indexOf(l)===-1&&(o[l]&&Object.keys(o[l]).length?r+="@".concat(l,"(").concat(yr(o[l]),")"):r+="@".concat(l))}),r},{setStringify:function(e){var t=yr;return yr=e,t}}),yr=function(t){return JSON.stringify(t,qA)};function qA(e,t){return _t(t)&&!Array.isArray(t)&&(t=Object.keys(t).sort().reduce(function(o,i){return o[i]=t[i],o},{})),t}function Wa(e,t){if(e.arguments&&e.arguments.length){var o={};return e.arguments.forEach(function(i){var n=i.name,r=i.value;return Bi(o,n,r,t)}),o}return null}function oi(e){return e.alias?e.alias.value:e.name.value}function yu(e,t,o){if(typeof e.__typename=="string")return e.__typename;for(var i=0,n=t.selections;i<n.length;i++){var r=n[i];if(ni(r)){if(r.name.value==="__typename")return e[oi(r)]}else{var s=yu(e,Id(r,o).selectionSet,o);if(typeof s=="string")return s}}}function ni(e){return e.kind==="Field"}function jA(e){return e.kind==="InlineFragment"}function Qa(e){__DEV__?Le(e&&e.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):Le(e&&e.kind==="Document",47);var t=e.definitions.filter(function(o){return o.kind!=="FragmentDefinition"}).map(function(o){if(o.kind!=="OperationDefinition")throw __DEV__?new dt('Schema type definitions not allowed in queries. Found: "'.concat(o.kind,'"')):new dt(48);return o});return __DEV__?Le(t.length<=1,"Ambiguous GraphQL document: contains ".concat(t.length," operations")):Le(t.length<=1,49),e}function as(e){return Qa(e),e.definitions.filter(function(t){return t.kind==="OperationDefinition"})[0]}function bu(e){return e.definitions.filter(function(t){return t.kind==="OperationDefinition"&&!!t.name}).map(function(t){return t.name.value})[0]||null}function Pd(e){return e.definitions.filter(function(t){return t.kind==="FragmentDefinition"})}function hy(e){var t=as(e);return __DEV__?Le(t&&t.operation==="query","Must contain a query definition."):Le(t&&t.operation==="query",50),t}function VA(e){__DEV__?Le(e.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):Le(e.kind==="Document",51),__DEV__?Le(e.definitions.length<=1,"Fragment must have exactly one definition."):Le(e.definitions.length<=1,52);var t=e.definitions[0];return __DEV__?Le(t.kind==="FragmentDefinition","Must be a fragment definition."):Le(t.kind==="FragmentDefinition",53),t}function Ka(e){Qa(e);for(var t,o=0,i=e.definitions;o<i.length;o++){var n=i[o];if(n.kind==="OperationDefinition"){var r=n.operation;if(r==="query"||r==="mutation"||r==="subscription")return n}n.kind==="FragmentDefinition"&&!t&&(t=n)}if(t)return t;throw __DEV__?new dt("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new dt(54)}function kd(e){var t=Object.create(null),o=e&&e.variableDefinitions;return o&&o.length&&o.forEach(function(i){i.defaultValue&&Bi(t,i.variable.name,i.defaultValue)}),t}var Nt=Array.isArray;function wo(e){return Array.isArray(e)&&e.length>0}var rm={kind:$e.FIELD,name:{kind:$e.NAME,value:"__typename"}};function fy(e,t){return!e||e.selectionSet.selections.every(function(o){return o.kind===$e.FRAGMENT_SPREAD&&fy(t[o.name.value],t)})}function HA(e){return fy(as(e)||VA(e),Td(Pd(e)))?null:e}function zA(e){var t=new Set,o=[];return e.forEach(function(i){i.name?t.add(i.name):i.test&&o.push(i.test)}),function(i){return t.has(i.name.value)||o.some(function(n){return n(i)})}}function sm(e){var t=new Map;return function(i){i===void 0&&(i=e);var n=t.get(i);return n||t.set(i,n={variables:new Set,fragmentSpreads:new Set}),n}}function py(e,t){for(var o=sm(""),i=sm(""),n=function(S){for(var b=0,w=void 0;b<S.length&&(w=S[b]);++b)if(!Nt(w)){if(w.kind===$e.OPERATION_DEFINITION)return o(w.name&&w.name.value);if(w.kind===$e.FRAGMENT_DEFINITION)return i(w.name.value)}return __DEV__&&Le.error("Could not find operation or fragment"),null},r=0,s=t.definitions.length-1;s>=0;--s)t.definitions[s].kind===$e.OPERATION_DEFINITION&&++r;var l=zA(e),a=e.some(function(S){return S.remove}),c=function(S){return a&&S&&S.some(l)},u=new Map,h=!1,p={enter:function(S){if(c(S.directives))return h=!0,null}},g=Zo(t,{Field:p,InlineFragment:p,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(S,b,w,T,k){var F=n(k);F&&F.variables.add(S.name.value)}},FragmentSpread:{enter:function(S,b,w,T,k){if(c(S.directives))return h=!0,null;var F=n(k);F&&F.fragmentSpreads.add(S.name.value)}},FragmentDefinition:{enter:function(S,b,w,T){u.set(JSON.stringify(T),S)},leave:function(S,b,w,T){var k=u.get(JSON.stringify(T));if(S===k)return S;if(r>0&&S.selectionSet.selections.every(function(F){return F.kind===$e.FIELD&&F.name.value==="__typename"}))return i(S.name.value).removed=!0,h=!0,null}},Directive:{leave:function(S){if(l(S))return h=!0,null}}});if(!h)return t;var y=function(S){return S.transitiveVars||(S.transitiveVars=new Set(S.variables),S.removed||S.fragmentSpreads.forEach(function(b){y(i(b)).transitiveVars.forEach(function(w){S.transitiveVars.add(w)})})),S},N=new Set;g.definitions.forEach(function(S){S.kind===$e.OPERATION_DEFINITION?y(o(S.name&&S.name.value)).fragmentSpreads.forEach(function(b){N.add(b)}):S.kind===$e.FRAGMENT_DEFINITION&&r===0&&!i(S.name.value).removed&&N.add(S.name.value)}),N.forEach(function(S){y(i(S)).fragmentSpreads.forEach(function(b){N.add(b)})});var I=function(S){return!!(!N.has(S)||i(S).removed)},A={enter:function(S){if(I(S.name.value))return null}};return HA(Zo(g,{FragmentSpread:A,FragmentDefinition:A,OperationDefinition:{leave:function(S){if(S.variableDefinitions){var b=y(o(S.name&&S.name.value)).transitiveVars;if(b.size<S.variableDefinitions.length)return ye(ye({},S),{variableDefinitions:S.variableDefinitions.filter(function(w){return b.has(w.variable.name.value)})})}}}}))}var Od=Object.assign(function(e){return Zo(e,{SelectionSet:{enter:function(t,o,i){if(!(i&&i.kind===$e.OPERATION_DEFINITION)){var n=t.selections;if(n){var r=n.some(function(l){return ni(l)&&(l.name.value==="__typename"||l.name.value.lastIndexOf("__",0)===0)});if(!r){var s=i;if(!(ni(s)&&s.directives&&s.directives.some(function(l){return l.name.value==="export"})))return ye(ye({},t),{selections:_a(_a([],n,!0),[rm],!1)})}}}}}})},{added:function(e){return e===rm}}),GA={test:function(e){var t=e.name.value==="connection";return t&&(!e.arguments||!e.arguments.some(function(o){return o.name.value==="key"}))&&__DEV__&&Le.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key."),t}};function WA(e){return py([GA],Qa(e))}function QA(e){var t=Ka(e),o=t.operation;if(o==="query")return e;var i=Zo(e,{OperationDefinition:{enter:function(n){return ye(ye({},n),{operation:"query"})}}});return i}function KA(e){Qa(e);var t=py([{test:function(o){return o.name.value==="client"},remove:!0}],e);return t}var JA=Object.prototype.hasOwnProperty;function am(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Rd(e)}function Rd(e){var t=e[0]||{},o=e.length;if(o>1)for(var i=new Tn,n=1;n<o;++n)t=i.merge(t,e[n]);return t}var YA=function(e,t,o){return this.merge(e[o],t[o])},Tn=function(){function e(t){t===void 0&&(t=YA),this.reconciler=t,this.isObject=_t,this.pastCopies=new Set}return e.prototype.merge=function(t,o){for(var i=this,n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return _t(o)&&_t(t)?(Object.keys(o).forEach(function(s){if(JA.call(t,s)){var l=t[s];if(o[s]!==l){var a=i.reconciler.apply(i,_a([t,o,s],n,!1));a!==l&&(t=i.shallowCopyForMerge(t),t[s]=a)}}else t=i.shallowCopyForMerge(t),t[s]=o[s]}),t):o},e.prototype.shallowCopyForMerge=function(t){return _t(t)&&(this.pastCopies.has(t)||(Array.isArray(t)?t=t.slice(0):t=ye({__proto__:Object.getPrototypeOf(t)},t),this.pastCopies.add(t))),t},e}();function XA(e,t){var o=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(o)return(o=o.call(e)).next.bind(o);if(Array.isArray(e)||(o=ZA(e))||t&&e&&typeof e.length=="number"){o&&(e=o);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZA(e,t){if(e){if(typeof e=="string")return cm(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return cm(e,t)}}function cm(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,i=new Array(t);o<t;o++)i[o]=e[o];return i}function lm(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ld(e,t,o){return t&&lm(e.prototype,t),o&&lm(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}var Md=function(){return typeof Symbol=="function"},Fd=function(e){return Md()&&!!Symbol[e]},Bd=function(e){return Fd(e)?Symbol[e]:"@@"+e};Md()&&!Fd("observable")&&(Symbol.observable=Symbol("observable"));var ex=Bd("iterator"),wu=Bd("observable"),my=Bd("species");function Na(e,t){var o=e[t];if(o!=null){if(typeof o!="function")throw new TypeError(o+" is not a function");return o}}function br(e){var t=e.constructor;return t!==void 0&&(t=t[my],t===null&&(t=void 0)),t!==void 0?t:gt}function tx(e){return e instanceof gt}function $i(e){$i.log?$i.log(e):setTimeout(function(){throw e})}function ca(e){Promise.resolve().then(function(){try{e()}catch(t){$i(t)}})}function gy(e){var t=e._cleanup;if(t!==void 0&&(e._cleanup=void 0,!!t))try{if(typeof t=="function")t();else{var o=Na(t,"unsubscribe");o&&o.call(t)}}catch(i){$i(i)}}function Eu(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function ox(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var o=0;o<t.length&&(vy(e,t[o].type,t[o].value),e._state!=="closed");++o);}}function vy(e,t,o){e._state="running";var i=e._observer;try{var n=Na(i,t);switch(t){case"next":n&&n.call(i,o);break;case"error":if(Eu(e),n)n.call(i,o);else throw o;break;case"complete":Eu(e),n&&n.call(i);break}}catch(r){$i(r)}e._state==="closed"?gy(e):e._state==="running"&&(e._state="ready")}function _l(e,t,o){if(e._state!=="closed"){if(e._state==="buffering"){e._queue.push({type:t,value:o});return}if(e._state!=="ready"){e._state="buffering",e._queue=[{type:t,value:o}],ca(function(){return ox(e)});return}vy(e,t,o)}}var nx=function(){function e(o,i){this._cleanup=void 0,this._observer=o,this._queue=void 0,this._state="initializing";var n=new ix(this);try{this._cleanup=i.call(void 0,n)}catch(r){n.error(r)}this._state==="initializing"&&(this._state="ready")}var t=e.prototype;return t.unsubscribe=function(){this._state!=="closed"&&(Eu(this),gy(this))},Ld(e,[{key:"closed",get:function(){return this._state==="closed"}}]),e}(),ix=function(){function e(o){this._subscription=o}var t=e.prototype;return t.next=function(i){_l(this._subscription,"next",i)},t.error=function(i){_l(this._subscription,"error",i)},t.complete=function(){_l(this._subscription,"complete")},Ld(e,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),e}(),gt=function(){function e(o){if(!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if(typeof o!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=o}var t=e.prototype;return t.subscribe=function(i){return(typeof i!="object"||i===null)&&(i={next:i,error:arguments[1],complete:arguments[2]}),new nx(i,this._subscriber)},t.forEach=function(i){var n=this;return new Promise(function(r,s){if(typeof i!="function"){s(new TypeError(i+" is not a function"));return}function l(){a.unsubscribe(),r()}var a=n.subscribe({next:function(c){try{i(c,l)}catch(u){s(u),a.unsubscribe()}},error:s,complete:r})})},t.map=function(i){var n=this;if(typeof i!="function")throw new TypeError(i+" is not a function");var r=br(this);return new r(function(s){return n.subscribe({next:function(l){try{l=i(l)}catch(a){return s.error(a)}s.next(l)},error:function(l){s.error(l)},complete:function(){s.complete()}})})},t.filter=function(i){var n=this;if(typeof i!="function")throw new TypeError(i+" is not a function");var r=br(this);return new r(function(s){return n.subscribe({next:function(l){try{if(!i(l))return}catch(a){return s.error(a)}s.next(l)},error:function(l){s.error(l)},complete:function(){s.complete()}})})},t.reduce=function(i){var n=this;if(typeof i!="function")throw new TypeError(i+" is not a function");var r=br(this),s=arguments.length>1,l=!1,a=arguments[1],c=a;return new r(function(u){return n.subscribe({next:function(h){var p=!l;if(l=!0,!p||s)try{c=i(c,h)}catch(g){return u.error(g)}else c=h},error:function(h){u.error(h)},complete:function(){if(!l&&!s)return u.error(new TypeError("Cannot reduce an empty sequence"));u.next(c),u.complete()}})})},t.concat=function(){for(var i=this,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];var l=br(this);return new l(function(a){var c,u=0;function h(p){c=p.subscribe({next:function(g){a.next(g)},error:function(g){a.error(g)},complete:function(){u===r.length?(c=void 0,a.complete()):h(l.from(r[u++]))}})}return h(i),function(){c&&(c.unsubscribe(),c=void 0)}})},t.flatMap=function(i){var n=this;if(typeof i!="function")throw new TypeError(i+" is not a function");var r=br(this);return new r(function(s){var l=[],a=n.subscribe({next:function(u){if(i)try{u=i(u)}catch(p){return s.error(p)}var h=r.from(u).subscribe({next:function(p){s.next(p)},error:function(p){s.error(p)},complete:function(){var p=l.indexOf(h);p>=0&&l.splice(p,1),c()}});l.push(h)},error:function(u){s.error(u)},complete:function(){c()}});function c(){a.closed&&l.length===0&&s.complete()}return function(){l.forEach(function(u){return u.unsubscribe()}),a.unsubscribe()}})},t[wu]=function(){return this},e.from=function(i){var n=typeof this=="function"?this:e;if(i==null)throw new TypeError(i+" is not an object");var r=Na(i,wu);if(r){var s=r.call(i);if(Object(s)!==s)throw new TypeError(s+" is not an object");return tx(s)&&s.constructor===n?s:new n(function(l){return s.subscribe(l)})}if(Fd("iterator")&&(r=Na(i,ex),r))return new n(function(l){ca(function(){if(!l.closed){for(var a=XA(r.call(i)),c;!(c=a()).done;){var u=c.value;if(l.next(u),l.closed)return}l.complete()}})});if(Array.isArray(i))return new n(function(l){ca(function(){if(!l.closed){for(var a=0;a<i.length;++a)if(l.next(i[a]),l.closed)return;l.complete()}})});throw new TypeError(i+" is not observable")},e.of=function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];var s=typeof this=="function"?this:e;return new s(function(l){ca(function(){if(!l.closed){for(var a=0;a<n.length;++a)if(l.next(n[a]),l.closed)return;l.complete()}})})},Ld(e,null,[{key:my,get:function(){return this}}]),e}();Md()&&Object.defineProperty(gt,Symbol("extensions"),{value:{symbol:wu,hostReportError:$i},configurable:!0});function rx(e){var t,o=e.Symbol;if(typeof o=="function")if(o.observable)t=o.observable;else{typeof o.for=="function"?t=o.for("https://github.com/benlesh/symbol-observable"):t=o("https://github.com/benlesh/symbol-observable");try{o.observable=t}catch{}}else t="@@observable";return t}var Ei;typeof self<"u"?Ei=self:typeof window<"u"?Ei=window:typeof global<"u"?Ei=global:typeof od<"u"?Ei=od:Ei=Function("return this")();rx(Ei);var um=gt.prototype,dm="@@observable";um[dm]||(um[dm]=function(){return this});var sx=Object.prototype.toString;function yy(e){return _u(e)}function _u(e,t){switch(sx.call(e)){case"[object Array]":{if(t=t||new Map,t.has(e))return t.get(e);var o=e.slice(0);return t.set(e,o),o.forEach(function(n,r){o[r]=_u(n,t)}),o}case"[object Object]":{if(t=t||new Map,t.has(e))return t.get(e);var i=Object.create(Object.getPrototypeOf(e));return t.set(e,i),Object.keys(e).forEach(function(n){i[n]=_u(e[n],t)}),i}default:return e}}function ax(e){var t=new Set([e]);return t.forEach(function(o){_t(o)&&cx(o)===o&&Object.getOwnPropertyNames(o).forEach(function(i){_t(o[i])&&t.add(o[i])})}),e}function cx(e){if(__DEV__&&!Object.isFrozen(e))try{Object.freeze(e)}catch(t){if(t instanceof TypeError)return null;throw t}return e}function Su(e){return __DEV__&&ax(e),e}function Mr(e,t,o){var i=[];e.forEach(function(n){return n[t]&&i.push(n)}),i.forEach(function(n){return n[t](o)})}function Sl(e,t,o){return new gt(function(i){var n=i.next,r=i.error,s=i.complete,l=0,a=!1,c={then:function(g){return new Promise(function(y){return y(g())})}};function u(g,y){return g?function(N){++l;var I=function(){return g(N)};c=c.then(I,I).then(function(A){--l,n&&n.call(i,A),a&&h.complete()},function(A){throw--l,A}).catch(function(A){r&&r.call(i,A)})}:function(N){return y&&y.call(i,N)}}var h={next:u(t,n),error:u(o,r),complete:function(){a=!0,l||s&&s.call(i)}},p=e.subscribe(h);return function(){return p.unsubscribe()}})}var ri=typeof WeakMap=="function"&&go(function(){return navigator.product})!=="ReactNative",lx=typeof WeakSet=="function",by=typeof Symbol=="function"&&typeof Symbol.for=="function",Ja=by&&Symbol.asyncIterator;go(function(){return window.document.createElement});go(function(){return navigator.userAgent.indexOf("jsdom")>=0});function wy(e){function t(o){Object.defineProperty(e,o,{value:gt})}return by&&Symbol.species&&t(Symbol.species),t("@@species"),e}function hm(e){return e&&typeof e.then=="function"}var Pr=function(e){uo(t,e);function t(o){var i=e.call(this,function(n){return i.addObserver(n),function(){return i.removeObserver(n)}})||this;return i.observers=new Set,i.promise=new Promise(function(n,r){i.resolve=n,i.reject=r}),i.handlers={next:function(n){i.sub!==null&&(i.latest=["next",n],i.notify("next",n),Mr(i.observers,"next",n))},error:function(n){var r=i.sub;r!==null&&(r&&setTimeout(function(){return r.unsubscribe()}),i.sub=null,i.latest=["error",n],i.reject(n),i.notify("error",n),Mr(i.observers,"error",n))},complete:function(){var n=i,r=n.sub,s=n.sources,l=s===void 0?[]:s;if(r!==null){var a=l.shift();a?hm(a)?a.then(function(c){return i.sub=c.subscribe(i.handlers)}):i.sub=a.subscribe(i.handlers):(r&&setTimeout(function(){return r.unsubscribe()}),i.sub=null,i.latest&&i.latest[0]==="next"?i.resolve(i.latest[1]):i.resolve(),i.notify("complete"),Mr(i.observers,"complete"))}}},i.nextResultListeners=new Set,i.cancel=function(n){i.reject(n),i.sources=[],i.handlers.complete()},i.promise.catch(function(n){}),typeof o=="function"&&(o=[new gt(o)]),hm(o)?o.then(function(n){return i.start(n)},i.handlers.error):i.start(o),i}return t.prototype.start=function(o){this.sub===void 0&&(this.sources=Array.from(o),this.handlers.complete())},t.prototype.deliverLastMessage=function(o){if(this.latest){var i=this.latest[0],n=o[i];n&&n.call(o,this.latest[1]),this.sub===null&&i==="next"&&o.complete&&o.complete()}},t.prototype.addObserver=function(o){this.observers.has(o)||(this.deliverLastMessage(o),this.observers.add(o))},t.prototype.removeObserver=function(o){this.observers.delete(o)&&this.observers.size<1&&this.handlers.complete()},t.prototype.notify=function(o,i){var n=this.nextResultListeners;n.size&&(this.nextResultListeners=new Set,n.forEach(function(r){return r(o,i)}))},t.prototype.beforeNext=function(o){var i=!1;this.nextResultListeners.add(function(n,r){i||(i=!0,o(n,r))})},t}(gt);wy(Pr);function Oi(e){return"incremental"in e}function ux(e){return"hasNext"in e&&"data"in e}function dx(e){return Oi(e)||ux(e)}function Ey(e,t){var o=e,i=new Tn;return Oi(t)&&wo(t.incremental)&&t.incremental.forEach(function(n){for(var r=n.data,s=n.path,l=s.length-1;l>=0;--l){var a=s[l],c=!isNaN(+a),u=c?[]:{};u[a]=r,r=u}o=i.merge(o,r)}),o}function la(e){var t=Nu(e);return wo(t)}function Nu(e){var t=wo(e.errors)?e.errors.slice(0):[];return Oi(e)&&wo(e.incremental)&&e.incremental.forEach(function(o){o.errors&&t.push.apply(t,o.errors)}),t}function Ya(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=Object.create(null);return e.forEach(function(i){i&&Object.keys(i).forEach(function(n){var r=i[n];r!==void 0&&(o[n]=r)})}),o}var fm=new Map;function Cu(e){var t=fm.get(e)||1;return fm.set(e,t+1),"".concat(e,":").concat(t,":").concat(Math.random().toString(36).slice(2))}function hx(e){var t=Cu("stringifyForDisplay");return JSON.stringify(e,function(o,i){return i===void 0?t:i}).split(JSON.stringify(t)).join("<undefined>")}function Nl(e,t){return Ya(e,t,t.variables&&{variables:ye(ye({},e&&e.variables),t.variables)})}function pm(e){return new gt(function(t){t.error(e)})}var Au=function(e,t,o){var i=new Error(o);throw i.name="ServerError",i.response=e,i.statusCode=e.status,i.result=t,i};function fx(e){for(var t=["query","operationName","variables","extensions","context"],o=0,i=Object.keys(e);o<i.length;o++){var n=i[o];if(t.indexOf(n)<0)throw __DEV__?new dt("illegal argument: ".concat(n)):new dt(27)}return e}function px(e,t){var o=ye({},e),i=function(r){typeof r=="function"?o=ye(ye({},o),r(o)):o=ye(ye({},o),r)},n=function(){return ye({},o)};return Object.defineProperty(t,"setContext",{enumerable:!1,value:i}),Object.defineProperty(t,"getContext",{enumerable:!1,value:n}),t}function mx(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName=typeof t.query!="string"?bu(t.query)||void 0:""),t}function mm(e,t){return t?t(e):gt.of()}function wr(e){return typeof e=="function"?new Po(e):e}function Ws(e){return e.request.length<=1}var gx=function(e){uo(t,e);function t(o,i){var n=e.call(this,o)||this;return n.link=i,n}return t}(Error),Po=function(){function e(t){t&&(this.request=t)}return e.empty=function(){return new e(function(){return gt.of()})},e.from=function(t){return t.length===0?e.empty():t.map(wr).reduce(function(o,i){return o.concat(i)})},e.split=function(t,o,i){var n=wr(o),r=wr(i||new e(mm));return Ws(n)&&Ws(r)?new e(function(s){return t(s)?n.request(s)||gt.of():r.request(s)||gt.of()}):new e(function(s,l){return t(s)?n.request(s,l)||gt.of():r.request(s,l)||gt.of()})},e.execute=function(t,o){return t.request(px(o.context,mx(fx(o))))||gt.of()},e.concat=function(t,o){var i=wr(t);if(Ws(i))return __DEV__&&Le.warn(new gx("You are calling concat on a terminating link, which will have no effect",i)),i;var n=wr(o);return Ws(n)?new e(function(r){return i.request(r,function(s){return n.request(s)||gt.of()})||gt.of()}):new e(function(r,s){return i.request(r,function(l){return n.request(l,s)||gt.of()})||gt.of()})},e.prototype.split=function(t,o,i){return this.concat(e.split(t,o,i||new e(mm)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(t,o){throw __DEV__?new dt("request is not implemented"):new dt(22)},e.prototype.onError=function(t,o){if(o&&o.error)return o.error(t),!1;throw t},e.prototype.setOnError=function(t){return this.onError=t,this},e}(),_y=Po.from,vx=Po.split,xu=Po.execute,yx="3.7.10";function bx(e){return!!e.body}function wx(e){return!!e.getReader}function Ex(e){return!!(Ja&&e[Symbol.asyncIterator])}function _x(e){return!!e.stream}function Sx(e){return!!e.arrayBuffer}function Nx(e){return!!e.pipe}function Cx(e){var t,o=e[Symbol.asyncIterator]();return t={next:function(){return o.next()}},t[Symbol.asyncIterator]=function(){return this},t}function Ax(e){var t=null,o=null,i=!1,n=[],r=[];function s(h){if(!o){if(r.length){var p=r.shift();if(Array.isArray(p)&&p[0])return p[0]({value:h,done:!1})}n.push(h)}}function l(h){o=h;var p=r.slice();p.forEach(function(g){g[1](h)}),!t||t()}function a(){i=!0;var h=r.slice();h.forEach(function(p){p[0]({value:void 0,done:!0})}),!t||t()}t=function(){t=null,e.removeListener("data",s),e.removeListener("error",l),e.removeListener("end",a),e.removeListener("finish",a),e.removeListener("close",a)},e.on("data",s),e.on("error",l),e.on("end",a),e.on("finish",a),e.on("close",a);function c(){return new Promise(function(h,p){if(o)return p(o);if(n.length)return h({value:n.shift(),done:!1});if(i)return h({value:void 0,done:!0});r.push([h,p])})}var u={next:function(){return c()}};return Ja&&(u[Symbol.asyncIterator]=function(){return this}),u}function xx(e){var t=!1,o={next:function(){return t?Promise.resolve({value:void 0,done:!0}):(t=!0,new Promise(function(i,n){e.then(function(r){i({value:r,done:!1})}).catch(n)}))}};return Ja&&(o[Symbol.asyncIterator]=function(){return this}),o}function gm(e){var t={next:function(){return e.read()}};return Ja&&(t[Symbol.asyncIterator]=function(){return this}),t}function Tx(e){var t=e;if(bx(e)&&(t=e.body),Ex(t))return Cx(t);if(wx(t))return gm(t.getReader());if(_x(t))return gm(t.stream().getReader());if(Sx(t))return xx(t.arrayBuffer());if(Nx(t))return Ax(t);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var vm=Object.prototype.hasOwnProperty;function Ix(e,t){var o,i,n;return bn(this,void 0,void 0,function(){var r,s,l,a,c,u,h,p,g,y,N,I,A,S,b,w,T,k,F,j;return wn(this,function(D){switch(D.label){case 0:if(TextDecoder===void 0)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");r=new TextDecoder("utf-8"),s=(o=e.headers)===null||o===void 0?void 0:o.get("content-type"),l="boundary=",a=s!=null&&s.includes(l)?s==null?void 0:s.substring((s==null?void 0:s.indexOf(l))+l.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",c="--".concat(a),u="",h=Tx(e),p=!0,D.label=1;case 1:return p?[4,h.next()]:[3,3];case 2:for(g=D.sent(),y=g.value,N=g.done,I=typeof y=="string"?y:r.decode(y),p=!N,u+=I,A=u.indexOf(c);A>-1;){if(S=void 0,j=[u.slice(0,A),u.slice(A+c.length)],S=j[0],u=j[1],S.trim()){if(b=S.indexOf(`\r
\r
`),w=Dx(S.slice(0,b)),T=w["content-type"],T&&T.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");k=S.slice(b);try{F=Sy(e,k.replace(`\r
`,"")),(Object.keys(F).length>1||"data"in F||"incremental"in F||"errors"in F)&&((i=t.next)===null||i===void 0||i.call(t,F))}catch(P){$d(P,t)}}A=u.indexOf(c)}return[3,1];case 3:return(n=t.complete)===null||n===void 0||n.call(t),[2]}})})}function Dx(e){var t={};return e.split(`
`).forEach(function(o){var i=o.indexOf(":");if(i>-1){var n=o.slice(0,i).trim().toLowerCase(),r=o.slice(i+1).trim();t[n]=r}}),t}function Sy(e,t){if(e.status>=300){var o=function(){try{return JSON.parse(t)}catch{return t}};Au(e,o(),"Response not successful: Received status code ".concat(e.status))}try{return JSON.parse(t)}catch(n){var i=n;throw i.name="ServerParseError",i.response=e,i.statusCode=e.status,i.bodyText=t,i}}function $d(e,t){var o,i;e.name!=="AbortError"&&(e.result&&e.result.errors&&e.result.data&&((o=t.next)===null||o===void 0||o.call(t,e.result)),(i=t.error)===null||i===void 0||i.call(t,e))}function Px(e,t,o){kx(t)(e).then(function(i){var n,r;(n=o.next)===null||n===void 0||n.call(o,i),(r=o.complete)===null||r===void 0||r.call(o)}).catch(function(i){return $d(i,o)})}function kx(e){return function(t){return t.text().then(function(o){return Sy(t,o)}).then(function(o){return t.status>=300&&Au(t,o,"Response not successful: Received status code ".concat(t.status)),!Array.isArray(o)&&!vm.call(o,"data")&&!vm.call(o,"errors")&&Au(t,o,"Server response was missing for query '".concat(Array.isArray(e)?e.map(function(i){return i.operationName}):e.operationName,"'.")),o})}}var Tu=function(e,t){var o;try{o=JSON.stringify(e)}catch(n){var i=__DEV__?new dt("Network request failed. ".concat(t," is not serializable: ").concat(n.message)):new dt(24);throw i.parseError=n,i}return o},Ox={includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},Rx={accept:"*/*","content-type":"application/json"},Lx={method:"POST"},Mx={http:Ox,headers:Rx,options:Lx},Fx=function(e,t){return t(e)};function Bx(e,t){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];var n={},r={};o.forEach(function(h){n=ye(ye(ye({},n),h.options),{headers:ye(ye({},n.headers),h.headers)}),h.credentials&&(n.credentials=h.credentials),r=ye(ye({},r),h.http)}),n.headers&&(n.headers=$x(n.headers,r.preserveHeaderCase));var s=e.operationName,l=e.extensions,a=e.variables,c=e.query,u={operationName:s,variables:a};return r.includeExtensions&&(u.extensions=l),r.includeQuery&&(u.query=t(c,cy)),{options:n,body:u}}function $x(e,t){if(!t){var o=Object.create(null);return Object.keys(Object(e)).forEach(function(r){o[r.toLowerCase()]=e[r]}),o}var i=Object.create(null);Object.keys(Object(e)).forEach(function(r){i[r.toLowerCase()]={originalName:r,value:e[r]}});var n=Object.create(null);return Object.keys(i).forEach(function(r){n[i[r].originalName]=i[r].value}),n}var Ux=function(e){if(!e&&typeof fetch>"u")throw __DEV__?new dt(`
"fetch" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:

import fetch from 'cross-fetch';
import { ApolloClient, HttpLink } from '@apollo/client';
const client = new ApolloClient({
  link: new HttpLink({ uri: '/graphql', fetch })
});
    `):new dt(23)},qx=function(){if(typeof AbortController>"u")return{controller:!1,signal:!1};var e=new AbortController,t=e.signal;return{controller:e,signal:t}},jx=function(e,t){var o=e.getContext(),i=o.uri;return i||(typeof t=="function"?t(e):t||"/graphql")};function Vx(e,t){var o=[],i=function(h,p){o.push("".concat(h,"=").concat(encodeURIComponent(p)))};if("query"in t&&i("query",t.query),t.operationName&&i("operationName",t.operationName),t.variables){var n=void 0;try{n=Tu(t.variables,"Variables map")}catch(h){return{parseError:h}}i("variables",n)}if(t.extensions){var r=void 0;try{r=Tu(t.extensions,"Extensions map")}catch(h){return{parseError:h}}i("extensions",r)}var s="",l=e,a=e.indexOf("#");a!==-1&&(s=e.substr(a),l=e.substr(0,a));var c=l.indexOf("?")===-1?"?":"&",u=l+c+o.join("&")+s;return{newURI:u}}var ym=go(function(){return fetch}),Ny=function(e){e===void 0&&(e={});var t=e.uri,o=t===void 0?"/graphql":t,i=e.fetch,n=e.print,r=n===void 0?Fx:n,s=e.includeExtensions,l=e.preserveHeaderCase,a=e.useGETForQueries,c=e.includeUnusedVariables,u=c===void 0?!1:c,h=ei(e,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);__DEV__&&Ux(i||ym);var p={http:{includeExtensions:s,preserveHeaderCase:l},options:h.fetchOptions,credentials:h.credentials,headers:h.headers};return new Po(function(g){var y=jx(g,o),N=g.getContext(),I={};if(N.clientAwareness){var A=N.clientAwareness,S=A.name,b=A.version;S&&(I["apollographql-client-name"]=S),b&&(I["apollographql-client-version"]=b)}var w=ye(ye({},I),N.headers),T={http:N.http,options:N.fetchOptions,credentials:N.credentials,headers:w},k=Bx(g,r,Mx,p,T),F=k.options,j=k.body;if(j.variables&&!u){var D=new Set(Object.keys(j.variables));Zo(g.query,{Variable:function(be,me,Se){Se&&Se.kind!=="VariableDefinition"&&D.delete(be.name.value)}}),D.size&&(j.variables=ye({},j.variables),D.forEach(function(be){delete j.variables[be]}))}var P;if(!F.signal){var B=qx(),L=B.controller,G=B.signal;P=L,P&&(F.signal=G)}var E=function(be){return be.kind==="OperationDefinition"&&be.operation==="mutation"};if(a&&!g.query.definitions.some(E)&&(F.method="GET"),xd(["defer"],g.query)&&(F.headers=F.headers||{},F.headers.accept="multipart/mixed; deferSpec=20220824, application/json"),F.method==="GET"){var oe=Vx(y,j),ie=oe.newURI,z=oe.parseError;if(z)return pm(z);y=ie}else try{F.body=Tu(j,"Payload")}catch(be){return pm(be)}return new gt(function(be){var me=i||go(function(){return fetch})||ym;return me(y,F).then(function(Se){var x;g.setContext({response:Se});var U=(x=Se.headers)===null||x===void 0?void 0:x.get("content-type");return U!==null&&/^multipart\/mixed/i.test(U)?Ix(Se,be):Px(Se,g,be)}).catch(function(Se){return $d(Se,be)}),function(){P&&P.abort()}})})},Hx=function(e){uo(t,e);function t(o){o===void 0&&(o={});var i=e.call(this,Ny(o).request)||this;return i.options=o,i}return t}(Po),Cy=Object.prototype,bm=Cy.toString,zx=Cy.hasOwnProperty,wm=Function.prototype.toString,Iu=new Map;function Ot(e,t){try{return Du(e,t)}finally{Iu.clear()}}function Du(e,t){if(e===t)return!0;var o=bm.call(e),i=bm.call(t);if(o!==i)return!1;switch(o){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":{if(_m(e,t))return!0;var n=Em(e),r=Em(t),s=n.length;if(s!==r.length)return!1;for(var l=0;l<s;++l)if(!zx.call(t,n[l]))return!1;for(var l=0;l<s;++l){var a=n[l];if(!Du(e[a],t[a]))return!1}return!0}case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!==e)return t!==t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e=="".concat(t);case"[object Map]":case"[object Set]":{if(e.size!==t.size)return!1;if(_m(e,t))return!0;for(var c=e.entries(),u=o==="[object Map]";;){var h=c.next();if(h.done)break;var p=h.value,g=p[0],y=p[1];if(!t.has(g)||u&&!Du(y,t.get(g)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":{var N=e.byteLength;if(N===t.byteLength)for(;N--&&e[N]===t[N];);return N===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{var I=wm.call(e);return I!==wm.call(t)?!1:!Qx(I,Wx)}}return!1}function Em(e){return Object.keys(e).filter(Gx,e)}function Gx(e){return this[e]!==void 0}var Wx="{ [native code] }";function Qx(e,t){var o=e.length-t.length;return o>=0&&e.indexOf(t,o)===o}function _m(e,t){var o=Iu.get(e);if(o){if(o.has(t))return!0}else Iu.set(e,o=new Set);return o.add(t),!1}var Kx=function(){return Object.create(null)},Ay=Array.prototype,Jx=Ay.forEach,Yx=Ay.slice,cs=function(){function e(t,o){t===void 0&&(t=!0),o===void 0&&(o=Kx),this.weakness=t,this.makeData=o}return e.prototype.lookup=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return this.lookupArray(t)},e.prototype.lookupArray=function(t){var o=this;return Jx.call(t,function(i){return o=o.getChildTrie(i)}),o.data||(o.data=this.makeData(Yx.call(t)))},e.prototype.getChildTrie=function(t){var o=this.weakness&&Xx(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),i=o.get(t);return i||o.set(t,i=new e(this.weakness,this.makeData)),i},e}();function Xx(e){switch(typeof e){case"object":if(e===null)break;case"function":return!0}return!1}var jt=null,Sm={},Zx=1,eT=function(){return function(){function e(){this.id=["slot",Zx++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var t=jt;t;t=t.parent)if(this.id in t.slots){var o=t.slots[this.id];if(o===Sm)break;return t!==jt&&(jt.slots[this.id]=o),!0}return jt&&(jt.slots[this.id]=Sm),!1},e.prototype.getValue=function(){if(this.hasValue())return jt.slots[this.id]},e.prototype.withValue=function(t,o,i,n){var r,s=(r={__proto__:null},r[this.id]=t,r),l=jt;jt={parent:l,slots:s};try{return o.apply(n,i)}finally{jt=l}},e.bind=function(t){var o=jt;return function(){var i=jt;try{return jt=o,t.apply(this,arguments)}finally{jt=i}}},e.noContext=function(t,o,i){if(jt){var n=jt;try{return jt=null,t.apply(i,o)}finally{jt=n}}else return t.apply(i,o)},e}()};function Nm(e){try{return e()}catch{}}var Cl="@wry/context:Slot",tT=Nm(function(){return globalThis})||Nm(function(){return global})||Object.create(null),Cm=tT,Xa=Cm[Cl]||Array[Cl]||function(e){try{Object.defineProperty(Cm,Cl,{value:e,enumerable:!1,writable:!1,configurable:!0})}finally{return e}}(eT());Xa.bind;Xa.noContext;function oT(){}var nT=function(){function e(t,o){t===void 0&&(t=1/0),o===void 0&&(o=oT),this.max=t,this.dispose=o,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(t){return this.map.has(t)},e.prototype.get=function(t){var o=this.getNode(t);return o&&o.value},e.prototype.getNode=function(t){var o=this.map.get(t);if(o&&o!==this.newest){var i=o.older,n=o.newer;n&&(n.older=i),i&&(i.newer=n),o.older=this.newest,o.older.newer=o,o.newer=null,this.newest=o,o===this.oldest&&(this.oldest=n)}return o},e.prototype.set=function(t,o){var i=this.getNode(t);return i?i.value=o:(i={key:t,value:o,newer:null,older:this.newest},this.newest&&(this.newest.newer=i),this.newest=i,this.oldest=this.oldest||i,this.map.set(t,i),i.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(t){var o=this.map.get(t);return o?(o===this.newest&&(this.newest=o.older),o===this.oldest&&(this.oldest=o.newer),o.newer&&(o.newer.older=o.older),o.older&&(o.older.newer=o.newer),this.map.delete(t),this.dispose(o.value,t),!0):!1},e}(),Za=new Xa,Al,iT=Object.prototype.hasOwnProperty,Ud=(Al=Array.from,Al===void 0?function(e){var t=[];return e.forEach(function(o){return t.push(o)}),t}:Al);function Ca(e){var t=e.unsubscribe;typeof t=="function"&&(e.unsubscribe=void 0,t())}var Xr=[],rT=100;function Ui(e,t){if(!e)throw new Error(t||"assertion failure")}function sT(e,t){var o=e.length;return o>0&&o===t.length&&e[o-1]===t[o-1]}function xy(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}function aT(e){return e.slice(0)}var cT=function(){function e(t){this.fn=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++e.count}return e.prototype.peek=function(){if(this.value.length===1&&!In(this))return Am(this),this.value[0]},e.prototype.recompute=function(t){return Ui(!this.recomputing,"already recomputing"),Am(this),In(this)?lT(this,t):xy(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Ty(this),Ca(this))},e.prototype.dispose=function(){var t=this;this.setDirty(),Oy(this),qd(this,function(o,i){o.setDirty(),Ry(o,t)})},e.prototype.forget=function(){this.dispose()},e.prototype.dependOn=function(t){t.add(this),this.deps||(this.deps=Xr.pop()||new Set),this.deps.add(t)},e.prototype.forgetDeps=function(){var t=this;this.deps&&(Ud(this.deps).forEach(function(o){return o.delete(t)}),this.deps.clear(),Xr.push(this.deps),this.deps=null)},e.count=0,e}();function Am(e){var t=Za.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),In(e)?Dy(t,e):Py(t,e),t}function lT(e,t){return Oy(e),Za.withValue(e,uT,[e,t]),hT(e,t)&&dT(e),xy(e.value)}function uT(e,t){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,t)}catch(o){e.value[1]=o}e.recomputing=!1}function In(e){return e.dirty||!!(e.dirtyChildren&&e.dirtyChildren.size)}function dT(e){e.dirty=!1,!In(e)&&Iy(e)}function Ty(e){qd(e,Dy)}function Iy(e){qd(e,Py)}function qd(e,t){var o=e.parents.size;if(o)for(var i=Ud(e.parents),n=0;n<o;++n)t(i[n],e)}function Dy(e,t){Ui(e.childValues.has(t)),Ui(In(t));var o=!In(e);if(!e.dirtyChildren)e.dirtyChildren=Xr.pop()||new Set;else if(e.dirtyChildren.has(t))return;e.dirtyChildren.add(t),o&&Ty(e)}function Py(e,t){Ui(e.childValues.has(t)),Ui(!In(t));var o=e.childValues.get(t);o.length===0?e.childValues.set(t,aT(t.value)):sT(o,t.value)||e.setDirty(),ky(e,t),!In(e)&&Iy(e)}function ky(e,t){var o=e.dirtyChildren;o&&(o.delete(t),o.size===0&&(Xr.length<rT&&Xr.push(o),e.dirtyChildren=null))}function Oy(e){e.childValues.size>0&&e.childValues.forEach(function(t,o){Ry(e,o)}),e.forgetDeps(),Ui(e.dirtyChildren===null)}function Ry(e,t){t.parents.delete(e),e.childValues.delete(t),ky(e,t)}function hT(e,t){if(typeof e.subscribe=="function")try{Ca(e),e.unsubscribe=e.subscribe.apply(null,t)}catch{return e.setDirty(),!1}return!0}var fT={setDirty:!0,dispose:!0,forget:!0};function Ly(e){var t=new Map,o=e&&e.subscribe;function i(n){var r=Za.getValue();if(r){var s=t.get(n);s||t.set(n,s=new Set),r.dependOn(s),typeof o=="function"&&(Ca(s),s.unsubscribe=o(n))}}return i.dirty=function(r,s){var l=t.get(r);if(l){var a=s&&iT.call(fT,s)?s:"setDirty";Ud(l).forEach(function(c){return c[a]()}),t.delete(r),Ca(l)}},i}function My(){var e=new cs(typeof WeakMap=="function");return function(){return e.lookupArray(arguments)}}My();var xl=new Set;function Aa(e,t){t===void 0&&(t=Object.create(null));var o=new nT(t.max||Math.pow(2,16),function(c){return c.dispose()}),i=t.keyArgs,n=t.makeCacheKey||My(),r=function(){var c=n.apply(null,i?i.apply(null,arguments):arguments);if(c===void 0)return e.apply(null,arguments);var u=o.get(c);u||(o.set(c,u=new cT(e)),u.subscribe=t.subscribe,u.forget=function(){return o.delete(c)});var h=u.recompute(Array.prototype.slice.call(arguments));return o.set(c,u),xl.add(o),Za.hasValue()||(xl.forEach(function(p){return p.clean()}),xl.clear()),h};Object.defineProperty(r,"size",{get:function(){return o.map.size},configurable:!1,enumerable:!1});function s(c){var u=o.get(c);u&&u.setDirty()}r.dirtyKey=s,r.dirty=function(){s(n.apply(null,arguments))};function l(c){var u=o.get(c);if(u)return u.peek()}r.peekKey=l,r.peek=function(){return l(n.apply(null,arguments))};function a(c){return o.delete(c)}return r.forgetKey=a,r.forget=function(){return a(n.apply(null,arguments))},r.makeCacheKey=n,r.getKey=i?function(){return n.apply(null,i.apply(null,arguments))}:n,Object.freeze(r)}var pT=function(){function e(){this.getFragmentDoc=Aa(TA)}return e.prototype.batch=function(t){var o=this,i=typeof t.optimistic=="string"?t.optimistic:t.optimistic===!1?null:void 0,n;return this.performTransaction(function(){return n=t.update(o)},i),n},e.prototype.recordOptimisticTransaction=function(t,o){this.performTransaction(t,o)},e.prototype.transformDocument=function(t){return t},e.prototype.transformForLink=function(t){return t},e.prototype.identify=function(t){},e.prototype.gc=function(){return[]},e.prototype.modify=function(t){return!1},e.prototype.readQuery=function(t,o){return o===void 0&&(o=!!t.optimistic),this.read(ye(ye({},t),{rootId:t.id||"ROOT_QUERY",optimistic:o}))},e.prototype.readFragment=function(t,o){return o===void 0&&(o=!!t.optimistic),this.read(ye(ye({},t),{query:this.getFragmentDoc(t.fragment,t.fragmentName),rootId:t.id,optimistic:o}))},e.prototype.writeQuery=function(t){var o=t.id,i=t.data,n=ei(t,["id","data"]);return this.write(Object.assign(n,{dataId:o||"ROOT_QUERY",result:i}))},e.prototype.writeFragment=function(t){var o=t.id,i=t.data,n=t.fragment,r=t.fragmentName,s=ei(t,["id","data","fragment","fragmentName"]);return this.write(Object.assign(s,{query:this.getFragmentDoc(n,r),dataId:o,result:i}))},e.prototype.updateQuery=function(t,o){return this.batch({update:function(i){var n=i.readQuery(t),r=o(n);return r==null?n:(i.writeQuery(ye(ye({},t),{data:r})),r)}})},e.prototype.updateFragment=function(t,o){return this.batch({update:function(i){var n=i.readFragment(t),r=o(n);return r==null?n:(i.writeFragment(ye(ye({},t),{data:r})),r)}})},e}(),Fy=function(e){uo(t,e);function t(o,i,n,r){var s,l=e.call(this,o)||this;if(l.message=o,l.path=i,l.query=n,l.variables=r,Array.isArray(l.path)){l.missing=l.message;for(var a=l.path.length-1;a>=0;--a)l.missing=(s={},s[l.path[a]]=l.missing,s)}else l.missing=l.path;return l.__proto__=t.prototype,l}return t}(Error),Mt=Object.prototype.hasOwnProperty;function Er(e){return e==null}function By(e,t){var o=e.__typename,i=e.id,n=e._id;if(typeof o=="string"&&(t&&(t.keyObject=Er(i)?Er(n)?void 0:{_id:n}:{id:i}),Er(i)&&!Er(n)&&(i=n),!Er(i)))return"".concat(o,":").concat(typeof i=="number"||typeof i=="string"?i:JSON.stringify(i))}var $y={dataIdFromObject:By,addTypename:!0,resultCaching:!0,canonizeResults:!1};function mT(e){return Ya($y,e)}function Uy(e){var t=e.canonizeResults;return t===void 0?$y.canonizeResults:t}function gT(e,t){return pt(t)?e.get(t.__ref,"__typename"):t&&t.__typename}var qy=/^[_a-z][_0-9a-z]*/i;function Dn(e){var t=e.match(qy);return t?t[0]:e}function Pu(e,t,o){return _t(t)?Nt(t)?t.every(function(i){return Pu(e,i,o)}):e.selections.every(function(i){if(ni(i)&&Ga(i,o)){var n=oi(i);return Mt.call(t,n)&&(!i.selectionSet||Pu(i.selectionSet,t[n],o))}return!0}):!1}function Ci(e){return _t(e)&&!pt(e)&&!Nt(e)}function vT(){return new Tn}function jy(e,t){var o=Td(Pd(e));return{fragmentMap:o,lookupFragment:function(i){var n=o[i];return!n&&t&&(n=t.lookup(i)),n||null}}}var ua=Object.create(null),Tl=function(){return ua},xm=Object.create(null),Zr=function(){function e(t,o){var i=this;this.policies=t,this.group=o,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(n,r){return Su(pt(n)?i.get(n.__ref,r):n&&n[r])},this.canRead=function(n){return pt(n)?i.has(n.__ref):typeof n=="object"},this.toReference=function(n,r){if(typeof n=="string")return ki(n);if(pt(n))return n;var s=i.policies.identify(n)[0];if(s){var l=ki(s);return r&&i.merge(s,n),l}}}return e.prototype.toObject=function(){return ye({},this.data)},e.prototype.has=function(t){return this.lookup(t,!0)!==void 0},e.prototype.get=function(t,o){if(this.group.depend(t,o),Mt.call(this.data,t)){var i=this.data[t];if(i&&Mt.call(i,o))return i[o]}if(o==="__typename"&&Mt.call(this.policies.rootTypenamesById,t))return this.policies.rootTypenamesById[t];if(this instanceof gn)return this.parent.get(t,o)},e.prototype.lookup=function(t,o){if(o&&this.group.depend(t,"__exists"),Mt.call(this.data,t))return this.data[t];if(this instanceof gn)return this.parent.lookup(t,o);if(this.policies.rootTypenamesById[t])return Object.create(null)},e.prototype.merge=function(t,o){var i=this,n;pt(t)&&(t=t.__ref),pt(o)&&(o=o.__ref);var r=typeof t=="string"?this.lookup(n=t):t,s=typeof o=="string"?this.lookup(n=o):o;if(s){__DEV__?Le(typeof n=="string","store.merge expects a string ID"):Le(typeof n=="string",1);var l=new Tn(bT).merge(r,s);if(this.data[n]=l,l!==r&&(delete this.refs[n],this.group.caching)){var a=Object.create(null);r||(a.__exists=1),Object.keys(s).forEach(function(c){if(!r||r[c]!==l[c]){a[c]=1;var u=Dn(c);u!==c&&!i.policies.hasKeyArgs(l.__typename,u)&&(a[u]=1),l[c]===void 0&&!(i instanceof gn)&&delete l[c]}}),a.__typename&&!(r&&r.__typename)&&this.policies.rootTypenamesById[n]===l.__typename&&delete a.__typename,Object.keys(a).forEach(function(c){return i.group.dirty(n,c)})}}},e.prototype.modify=function(t,o){var i=this,n=this.lookup(t);if(n){var r=Object.create(null),s=!1,l=!0,a={DELETE:ua,INVALIDATE:xm,isReference:pt,toReference:this.toReference,canRead:this.canRead,readField:function(c,u){return i.policies.readField(typeof c=="string"?{fieldName:c,from:u||ki(t)}:c,{store:i})}};if(Object.keys(n).forEach(function(c){var u=Dn(c),h=n[c];if(h!==void 0){var p=typeof o=="function"?o:o[c]||o[u];if(p){var g=p===Tl?ua:p(Su(h),ye(ye({},a),{fieldName:u,storeFieldName:c,storage:i.getStorage(t,c)}));g===xm?i.group.dirty(t,c):(g===ua&&(g=void 0),g!==h&&(r[c]=g,s=!0,h=g))}h!==void 0&&(l=!1)}}),s)return this.merge(t,r),l&&(this instanceof gn?this.data[t]=void 0:delete this.data[t],this.group.dirty(t,"__exists")),!0}return!1},e.prototype.delete=function(t,o,i){var n,r=this.lookup(t);if(r){var s=this.getFieldValue(r,"__typename"),l=o&&i?this.policies.getStoreFieldName({typename:s,fieldName:o,args:i}):o;return this.modify(t,l?(n={},n[l]=Tl,n):Tl)}return!1},e.prototype.evict=function(t,o){var i=!1;return t.id&&(Mt.call(this.data,t.id)&&(i=this.delete(t.id,t.fieldName,t.args)),this instanceof gn&&this!==o&&(i=this.parent.evict(t,o)||i),(t.fieldName||i)&&this.group.dirty(t.id,t.fieldName||"__exists")),i},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var t=this,o=this.toObject(),i=[];return this.getRootIdSet().forEach(function(n){Mt.call(t.policies.rootTypenamesById,n)||i.push(n)}),i.length&&(o.__META={extraRootIds:i.sort()}),o},e.prototype.replace=function(t){var o=this;if(Object.keys(this.data).forEach(function(r){t&&Mt.call(t,r)||o.delete(r)}),t){var i=t.__META,n=ei(t,["__META"]);Object.keys(n).forEach(function(r){o.merge(r,n[r])}),i&&i.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(t){return this.rootIds[t]=(this.rootIds[t]||0)+1},e.prototype.release=function(t){if(this.rootIds[t]>0){var o=--this.rootIds[t];return o||delete this.rootIds[t],o}return 0},e.prototype.getRootIdSet=function(t){return t===void 0&&(t=new Set),Object.keys(this.rootIds).forEach(t.add,t),this instanceof gn?this.parent.getRootIdSet(t):Object.keys(this.policies.rootTypenamesById).forEach(t.add,t),t},e.prototype.gc=function(){var t=this,o=this.getRootIdSet(),i=this.toObject();o.forEach(function(s){Mt.call(i,s)&&(Object.keys(t.findChildRefIds(s)).forEach(o.add,o),delete i[s])});var n=Object.keys(i);if(n.length){for(var r=this;r instanceof gn;)r=r.parent;n.forEach(function(s){return r.delete(s)})}return n},e.prototype.findChildRefIds=function(t){if(!Mt.call(this.refs,t)){var o=this.refs[t]=Object.create(null),i=this.data[t];if(!i)return o;var n=new Set([i]);n.forEach(function(r){pt(r)&&(o[r.__ref]=!0),_t(r)&&Object.keys(r).forEach(function(s){var l=r[s];_t(l)&&n.add(l)})})}return this.refs[t]},e.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},e}(),Vy=function(){function e(t,o){o===void 0&&(o=null),this.caching=t,this.parent=o,this.d=null,this.resetCaching()}return e.prototype.resetCaching=function(){this.d=this.caching?Ly():null,this.keyMaker=new cs(ri)},e.prototype.depend=function(t,o){if(this.d){this.d(Il(t,o));var i=Dn(o);i!==o&&this.d(Il(t,i)),this.parent&&this.parent.depend(t,o)}},e.prototype.dirty=function(t,o){this.d&&this.d.dirty(Il(t,o),o==="__exists"?"forget":"setDirty")},e}();function Il(e,t){return t+"#"+e}function Tm(e,t){Fr(e)&&e.group.depend(t,"__exists")}(function(e){var t=function(o){uo(i,o);function i(n){var r=n.policies,s=n.resultCaching,l=s===void 0?!0:s,a=n.seed,c=o.call(this,r,new Vy(l))||this;return c.stump=new yT(c),c.storageTrie=new cs(ri),a&&c.replace(a),c}return i.prototype.addLayer=function(n,r){return this.stump.addLayer(n,r)},i.prototype.removeLayer=function(){return this},i.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},i}(e);e.Root=t})(Zr||(Zr={}));var gn=function(e){uo(t,e);function t(o,i,n,r){var s=e.call(this,i.policies,r)||this;return s.id=o,s.parent=i,s.replay=n,s.group=r,n(s),s}return t.prototype.addLayer=function(o,i){return new t(o,this,i,this.group)},t.prototype.removeLayer=function(o){var i=this,n=this.parent.removeLayer(o);return o===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(r){var s=i.data[r],l=n.lookup(r);l?s?s!==l&&Object.keys(s).forEach(function(a){Ot(s[a],l[a])||i.group.dirty(r,a)}):(i.group.dirty(r,"__exists"),Object.keys(l).forEach(function(a){i.group.dirty(r,a)})):i.delete(r)}),n):n===this.parent?this:n.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return ye(ye({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(o){var i=this.parent.findChildRefIds(o);return Mt.call(this.data,o)?ye(ye({},i),e.prototype.findChildRefIds.call(this,o)):i},t.prototype.getStorage=function(){for(var o=this.parent;o.parent;)o=o.parent;return o.getStorage.apply(o,arguments)},t}(Zr),yT=function(e){uo(t,e);function t(o){return e.call(this,"EntityStore.Stump",o,function(){},new Vy(o.group.caching,o.group))||this}return t.prototype.removeLayer=function(){return this},t.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},t}(gn);function bT(e,t,o){var i=e[o],n=t[o];return Ot(i,n)?i:n}function Fr(e){return!!(e instanceof Zr&&e.group.caching)}function wT(e){return _t(e)?Nt(e)?e.slice(0):ye({__proto__:Object.getPrototypeOf(e)},e):e}var ku=function(){function e(){this.known=new(lx?WeakSet:Set),this.pool=new cs(ri),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return e.prototype.isKnown=function(t){return _t(t)&&this.known.has(t)},e.prototype.pass=function(t){if(_t(t)){var o=wT(t);return this.passes.set(o,t),o}return t},e.prototype.admit=function(t){var o=this;if(_t(t)){var i=this.passes.get(t);if(i)return i;var n=Object.getPrototypeOf(t);switch(n){case Array.prototype:{if(this.known.has(t))return t;var r=t.map(this.admit,this),s=this.pool.lookupArray(r);return s.array||(this.known.add(s.array=r),__DEV__&&Object.freeze(r)),s.array}case null:case Object.prototype:{if(this.known.has(t))return t;var l=Object.getPrototypeOf(t),a=[l],c=this.sortedKeys(t);a.push(c.json);var u=a.length;c.sorted.forEach(function(g){a.push(o.admit(t[g]))});var s=this.pool.lookupArray(a);if(!s.object){var h=s.object=Object.create(l);this.known.add(h),c.sorted.forEach(function(g,y){h[g]=a[u+y]}),__DEV__&&Object.freeze(h)}return s.object}}}return t},e.prototype.sortedKeys=function(t){var o=Object.keys(t),i=this.pool.lookupArray(o);if(!i.keys){o.sort();var n=JSON.stringify(o);(i.keys=this.keysByJSON.get(n))||this.keysByJSON.set(n,i.keys={sorted:o,json:n})}return i.keys},e}(),Xn=Object.assign(function(e){if(_t(e)){Ou===void 0&&Im();var t=Ou.admit(e),o=Ru.get(t);return o===void 0&&Ru.set(t,o=JSON.stringify(t)),o}return JSON.stringify(e)},{reset:Im}),Ou,Ru;function Im(){Ou=new ku,Ru=new(ri?WeakMap:Map)}function Dm(e){return[e.selectionSet,e.objectOrReference,e.context,e.context.canonizeResults]}var ET=function(){function e(t){var o=this;this.knownResults=new(ri?WeakMap:Map),this.config=Ya(t,{addTypename:t.addTypename!==!1,canonizeResults:Uy(t)}),this.canon=t.canon||new ku,this.executeSelectionSet=Aa(function(i){var n,r=i.context.canonizeResults,s=Dm(i);s[3]=!r;var l=(n=o.executeSelectionSet).peek.apply(n,s);return l?r?ye(ye({},l),{result:o.canon.admit(l.result)}):l:(Tm(i.context.store,i.enclosingRef.__ref),o.execSelectionSetImpl(i))},{max:this.config.resultCacheMaxSize,keyArgs:Dm,makeCacheKey:function(i,n,r,s){if(Fr(r.store))return r.store.makeCacheKey(i,pt(n)?n.__ref:n,r.varString,s)}}),this.executeSubSelectedArray=Aa(function(i){return Tm(i.context.store,i.enclosingRef.__ref),o.execSubSelectedArrayImpl(i)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(i){var n=i.field,r=i.array,s=i.context;if(Fr(s.store))return s.store.makeCacheKey(n,r,s.varString)}})}return e.prototype.resetCanon=function(){this.canon=new ku},e.prototype.diffQueryAgainstStore=function(t){var o=t.store,i=t.query,n=t.rootId,r=n===void 0?"ROOT_QUERY":n,s=t.variables,l=t.returnPartialData,a=l===void 0?!0:l,c=t.canonizeResults,u=c===void 0?this.config.canonizeResults:c,h=this.config.cache.policies;s=ye(ye({},kd(hy(i))),s);var p=ki(r),g=this.executeSelectionSet({selectionSet:Ka(i).selectionSet,objectOrReference:p,enclosingRef:p,context:ye({store:o,query:i,policies:h,variables:s,varString:Xn(s),canonizeResults:u},jy(i,this.config.fragments))}),y;if(g.missing&&(y=[new Fy(_T(g.missing),g.missing,i,s)],!a))throw y[0];return{result:g.result,complete:!y,missing:y}},e.prototype.isFresh=function(t,o,i,n){if(Fr(n.store)&&this.knownResults.get(t)===i){var r=this.executeSelectionSet.peek(i,o,n,this.canon.isKnown(t));if(r&&t===r.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(t){var o=this,i=t.selectionSet,n=t.objectOrReference,r=t.enclosingRef,s=t.context;if(pt(n)&&!s.policies.rootTypenamesById[n.__ref]&&!s.store.has(n.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(n.__ref," object")};var l=s.variables,a=s.policies,c=s.store,u=c.getFieldValue(n,"__typename"),h=[],p,g=new Tn;this.config.addTypename&&typeof u=="string"&&!a.rootIdsByTypename[u]&&h.push({__typename:u});function y(b,w){var T;return b.missing&&(p=g.merge(p,(T={},T[w]=b.missing,T))),b.result}var N=new Set(i.selections);N.forEach(function(b){var w,T;if(Ga(b,l))if(ni(b)){var k=a.readField({fieldName:b.name.value,field:b,variables:s.variables,from:n},s),F=oi(b);k===void 0?Od.added(b)||(p=g.merge(p,(w={},w[F]="Can't find field '".concat(b.name.value,"' on ").concat(pt(n)?n.__ref+" object":"object "+JSON.stringify(n,null,2)),w))):Nt(k)?k=y(o.executeSubSelectedArray({field:b,array:k,enclosingRef:r,context:s}),F):b.selectionSet?k!=null&&(k=y(o.executeSelectionSet({selectionSet:b.selectionSet,objectOrReference:k,enclosingRef:pt(k)?k:r,context:s}),F)):s.canonizeResults&&(k=o.canon.pass(k)),k!==void 0&&h.push((T={},T[F]=k,T))}else{var j=Id(b,s.lookupFragment);if(!j&&b.kind===$e.FRAGMENT_SPREAD)throw __DEV__?new dt("No fragment named ".concat(b.name.value)):new dt(5);j&&a.fragmentMatches(j,u)&&j.selectionSet.selections.forEach(N.add,N)}});var I=Rd(h),A={result:I,missing:p},S=s.canonizeResults?this.canon.admit(A):Su(A);return S.result&&this.knownResults.set(S.result,i),S},e.prototype.execSubSelectedArrayImpl=function(t){var o=this,i=t.field,n=t.array,r=t.enclosingRef,s=t.context,l,a=new Tn;function c(u,h){var p;return u.missing&&(l=a.merge(l,(p={},p[h]=u.missing,p))),u.result}return i.selectionSet&&(n=n.filter(s.store.canRead)),n=n.map(function(u,h){return u===null?null:Nt(u)?c(o.executeSubSelectedArray({field:i,array:u,enclosingRef:r,context:s}),h):i.selectionSet?c(o.executeSelectionSet({selectionSet:i.selectionSet,objectOrReference:u,enclosingRef:pt(u)?u:r,context:s}),h):(__DEV__&&ST(s.store,i,u),u)}),{result:s.canonizeResults?this.canon.admit(n):n,missing:l}},e}();function _T(e){try{JSON.stringify(e,function(t,o){if(typeof o=="string")throw o;return o})}catch(t){return t}}function ST(e,t,o){if(!t.selectionSet){var i=new Set([o]);i.forEach(function(n){_t(n)&&(__DEV__?Le(!pt(n),"Missing selection set for object of type ".concat(gT(e,n)," returned for query field ").concat(t.name.value)):Le(!pt(n),6),Object.values(n).forEach(i.add,i))})}}var jd=new Xa,Pm=new WeakMap;function Br(e){var t=Pm.get(e);return t||Pm.set(e,t={vars:new Set,dep:Ly()}),t}function km(e){Br(e).vars.forEach(function(t){return t.forgetCache(e)})}function NT(e){Br(e).vars.forEach(function(t){return t.attachCache(e)})}function CT(e){var t=new Set,o=new Set,i=function(r){if(arguments.length>0){if(e!==r){e=r,t.forEach(function(a){Br(a).dep.dirty(i),AT(a)});var s=Array.from(o);o.clear(),s.forEach(function(a){return a(e)})}}else{var l=jd.getValue();l&&(n(l),Br(l).dep(i))}return e};i.onNextChange=function(r){return o.add(r),function(){o.delete(r)}};var n=i.attachCache=function(r){return t.add(r),Br(r).vars.add(i),i};return i.forgetCache=function(r){return t.delete(r)},i}function AT(e){e.broadcastWatches&&e.broadcastWatches()}var Om=Object.create(null);function Vd(e){var t=JSON.stringify(e);return Om[t]||(Om[t]=Object.create(null))}function Rm(e){var t=Vd(e);return t.keyFieldsFn||(t.keyFieldsFn=function(o,i){var n=function(s,l){return i.readField(l,s)},r=i.keyObject=Hd(e,function(s){var l=Ri(i.storeObject,s,n);return l===void 0&&o!==i.storeObject&&Mt.call(o,s[0])&&(l=Ri(o,s,zy)),__DEV__?Le(l!==void 0,"Missing field '".concat(s.join("."),"' while extracting keyFields from ").concat(JSON.stringify(o))):Le(l!==void 0,2),l});return"".concat(i.typename,":").concat(JSON.stringify(r))})}function Lm(e){var t=Vd(e);return t.keyArgsFn||(t.keyArgsFn=function(o,i){var n=i.field,r=i.variables,s=i.fieldName,l=Hd(e,function(c){var u=c[0],h=u.charAt(0);if(h==="@"){if(n&&wo(n.directives)){var p=u.slice(1),g=n.directives.find(function(A){return A.name.value===p}),y=g&&Wa(g,r);return y&&Ri(y,c.slice(1))}return}if(h==="$"){var N=u.slice(1);if(r&&Mt.call(r,N)){var I=c.slice(0);return I[0]=N,Ri(r,I)}return}if(o)return Ri(o,c)}),a=JSON.stringify(l);return(o||a!=="{}")&&(s+=":"+a),s})}function Hd(e,t){var o=new Tn;return Hy(e).reduce(function(i,n){var r,s=t(n);if(s!==void 0){for(var l=n.length-1;l>=0;--l)s=(r={},r[n[l]]=s,r);i=o.merge(i,s)}return i},Object.create(null))}function Hy(e){var t=Vd(e);if(!t.paths){var o=t.paths=[],i=[];e.forEach(function(n,r){Nt(n)?(Hy(n).forEach(function(s){return o.push(i.concat(s))}),i.length=0):(i.push(n),Nt(e[r+1])||(o.push(i.slice(0)),i.length=0))})}return t.paths}function zy(e,t){return e[t]}function Ri(e,t,o){return o=o||zy,Gy(t.reduce(function i(n,r){return Nt(n)?n.map(function(s){return i(s,r)}):n&&o(n,r)},e))}function Gy(e){return _t(e)?Nt(e)?e.map(Gy):Hd(Object.keys(e).sort(),function(t){return Ri(e,t)}):e}Dd.setStringify(Xn);function Lu(e){return e.args!==void 0?e.args:e.field?Wa(e.field,e.variables):null}var xT=function(){},Mm=function(e,t){return t.fieldName},Fm=function(e,t,o){var i=o.mergeObjects;return i(e,t)},Bm=function(e,t){return t},TT=function(){function e(t){this.config=t,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=ye({dataIdFromObject:By},t),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),t.possibleTypes&&this.addPossibleTypes(t.possibleTypes),t.typePolicies&&this.addTypePolicies(t.typePolicies)}return e.prototype.identify=function(t,o){var i,n=this,r=o&&(o.typename||((i=o.storeObject)===null||i===void 0?void 0:i.__typename))||t.__typename;if(r===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var s=o&&o.storeObject||t,l=ye(ye({},o),{typename:r,storeObject:s,readField:o&&o.readField||function(){var p=zd(arguments,s);return n.readField(p,{store:n.cache.data,variables:p.variables})}}),a,c=r&&this.getTypePolicy(r),u=c&&c.keyFn||this.config.dataIdFromObject;u;){var h=u(t,l);if(Nt(h))u=Rm(h);else{a=h;break}}return a=a?String(a):void 0,l.keyObject?[a,l.keyObject]:[a]},e.prototype.addTypePolicies=function(t){var o=this;Object.keys(t).forEach(function(i){var n=t[i],r=n.queryType,s=n.mutationType,l=n.subscriptionType,a=ei(n,["queryType","mutationType","subscriptionType"]);r&&o.setRootTypename("Query",i),s&&o.setRootTypename("Mutation",i),l&&o.setRootTypename("Subscription",i),Mt.call(o.toBeAdded,i)?o.toBeAdded[i].push(a):o.toBeAdded[i]=[a]})},e.prototype.updateTypePolicy=function(t,o){var i=this,n=this.getTypePolicy(t),r=o.keyFields,s=o.fields;function l(a,c){a.merge=typeof c=="function"?c:c===!0?Fm:c===!1?Bm:a.merge}l(n,o.merge),n.keyFn=r===!1?xT:Nt(r)?Rm(r):typeof r=="function"?r:n.keyFn,s&&Object.keys(s).forEach(function(a){var c=i.getFieldPolicy(t,a,!0),u=s[a];if(typeof u=="function")c.read=u;else{var h=u.keyArgs,p=u.read,g=u.merge;c.keyFn=h===!1?Mm:Nt(h)?Lm(h):typeof h=="function"?h:c.keyFn,typeof p=="function"&&(c.read=p),l(c,g)}c.read&&c.merge&&(c.keyFn=c.keyFn||Mm)})},e.prototype.setRootTypename=function(t,o){o===void 0&&(o=t);var i="ROOT_"+t.toUpperCase(),n=this.rootTypenamesById[i];o!==n&&(__DEV__?Le(!n||n===t,"Cannot change root ".concat(t," __typename more than once")):Le(!n||n===t,3),n&&delete this.rootIdsByTypename[n],this.rootIdsByTypename[o]=i,this.rootTypenamesById[i]=o)},e.prototype.addPossibleTypes=function(t){var o=this;this.usingPossibleTypes=!0,Object.keys(t).forEach(function(i){o.getSupertypeSet(i,!0),t[i].forEach(function(n){o.getSupertypeSet(n,!0).add(i);var r=n.match(qy);(!r||r[0]!==n)&&o.fuzzySubtypes.set(n,new RegExp(n))})})},e.prototype.getTypePolicy=function(t){var o=this;if(!Mt.call(this.typePolicies,t)){var i=this.typePolicies[t]=Object.create(null);i.fields=Object.create(null);var n=this.supertypeMap.get(t);n&&n.size&&n.forEach(function(s){var l=o.getTypePolicy(s),a=l.fields,c=ei(l,["fields"]);Object.assign(i,c),Object.assign(i.fields,a)})}var r=this.toBeAdded[t];return r&&r.length&&r.splice(0).forEach(function(s){o.updateTypePolicy(t,s)}),this.typePolicies[t]},e.prototype.getFieldPolicy=function(t,o,i){if(t){var n=this.getTypePolicy(t).fields;return n[o]||i&&(n[o]=Object.create(null))}},e.prototype.getSupertypeSet=function(t,o){var i=this.supertypeMap.get(t);return!i&&o&&this.supertypeMap.set(t,i=new Set),i},e.prototype.fragmentMatches=function(t,o,i,n){var r=this;if(!t.typeCondition)return!0;if(!o)return!1;var s=t.typeCondition.name.value;if(o===s)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(s))for(var l=this.getSupertypeSet(o,!0),a=[l],c=function(y){var N=r.getSupertypeSet(y,!1);N&&N.size&&a.indexOf(N)<0&&a.push(N)},u=!!(i&&this.fuzzySubtypes.size),h=!1,p=0;p<a.length;++p){var g=a[p];if(g.has(s))return l.has(s)||(h&&__DEV__&&Le.warn("Inferring subtype ".concat(o," of supertype ").concat(s)),l.add(s)),!0;g.forEach(c),u&&p===a.length-1&&Pu(t.selectionSet,i,n)&&(u=!1,h=!0,this.fuzzySubtypes.forEach(function(y,N){var I=o.match(y);I&&I[0]===o&&c(N)}))}return!1},e.prototype.hasKeyArgs=function(t,o){var i=this.getFieldPolicy(t,o,!1);return!!(i&&i.keyFn)},e.prototype.getStoreFieldName=function(t){var o=t.typename,i=t.fieldName,n=this.getFieldPolicy(o,i,!1),r,s=n&&n.keyFn;if(s&&o)for(var l={typename:o,fieldName:i,field:t.field||null,variables:t.variables},a=Lu(t);s;){var c=s(a,l);if(Nt(c))s=Lm(c);else{r=c||i;break}}return r===void 0&&(r=t.field?$A(t.field,t.variables):Dd(i,Lu(t))),r===!1?i:i===Dn(r)?r:i+":"+r},e.prototype.readField=function(t,o){var i=t.from;if(i){var n=t.field||t.fieldName;if(n){if(t.typename===void 0){var r=o.store.getFieldValue(i,"__typename");r&&(t.typename=r)}var s=this.getStoreFieldName(t),l=Dn(s),a=o.store.getFieldValue(i,s),c=this.getFieldPolicy(t.typename,l,!1),u=c&&c.read;if(u){var h=$m(this,i,t,o,o.store.getStorage(pt(i)?i.__ref:i,s));return jd.withValue(this.cache,u,[a,h])}return a}}},e.prototype.getReadFunction=function(t,o){var i=this.getFieldPolicy(t,o,!1);return i&&i.read},e.prototype.getMergeFunction=function(t,o,i){var n=this.getFieldPolicy(t,o,!1),r=n&&n.merge;return!r&&i&&(n=this.getTypePolicy(i),r=n&&n.merge),r},e.prototype.runMergeFunction=function(t,o,i,n,r){var s=i.field,l=i.typename,a=i.merge;return a===Fm?Wy(n.store)(t,o):a===Bm?o:(n.overwrite&&(t=void 0),a(t,o,$m(this,void 0,{typename:l,fieldName:s.name.value,field:s,variables:n.variables},n,r||Object.create(null))))},e}();function $m(e,t,o,i,n){var r=e.getStoreFieldName(o),s=Dn(r),l=o.variables||i.variables,a=i.store,c=a.toReference,u=a.canRead;return{args:Lu(o),field:o.field||null,fieldName:s,storeFieldName:r,variables:l,isReference:pt,toReference:c,storage:n,cache:e.cache,canRead:u,readField:function(){return e.readField(zd(arguments,t,l),i)},mergeObjects:Wy(i.store)}}function zd(e,t,o){var i=e[0],n=e[1],r=e.length,s;return typeof i=="string"?s={fieldName:i,from:r>1?n:t}:(s=ye({},i),Mt.call(s,"from")||(s.from=t)),__DEV__&&s.from===void 0&&__DEV__&&Le.warn("Undefined 'from' passed to readField with arguments ".concat(hx(Array.from(e)))),s.variables===void 0&&(s.variables=o),s}function Wy(e){return function(o,i){if(Nt(o)||Nt(i))throw __DEV__?new dt("Cannot automatically merge arrays"):new dt(4);if(_t(o)&&_t(i)){var n=e.getFieldValue(o,"__typename"),r=e.getFieldValue(i,"__typename"),s=n&&r&&n!==r;if(s)return i;if(pt(o)&&Ci(i))return e.merge(o.__ref,i),o;if(Ci(o)&&pt(i))return e.merge(o,i.__ref),i;if(Ci(o)&&Ci(i))return ye(ye({},o),i)}return i}}function Dl(e,t,o){var i="".concat(t).concat(o),n=e.flavors.get(i);return n||e.flavors.set(i,n=e.clientOnly===t&&e.deferred===o?e:ye(ye({},e),{clientOnly:t,deferred:o})),n}var IT=function(){function e(t,o,i){this.cache=t,this.reader=o,this.fragments=i}return e.prototype.writeToStore=function(t,o){var i=this,n=o.query,r=o.result,s=o.dataId,l=o.variables,a=o.overwrite,c=as(n),u=vT();l=ye(ye({},kd(c)),l);var h=ye(ye({store:t,written:Object.create(null),merge:function(g,y){return u.merge(g,y)},variables:l,varString:Xn(l)},jy(n,this.fragments)),{overwrite:!!a,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),p=this.processSelectionSet({result:r||Object.create(null),dataId:s,selectionSet:c.selectionSet,mergeTree:{map:new Map},context:h});if(!pt(p))throw __DEV__?new dt("Could not identify object ".concat(JSON.stringify(r))):new dt(7);return h.incomingById.forEach(function(g,y){var N=g.storeObject,I=g.mergeTree,A=g.fieldNodeSet,S=ki(y);if(I&&I.map.size){var b=i.applyMerges(I,S,N,h);if(pt(b))return;N=b}if(__DEV__&&!h.overwrite){var w=Object.create(null);A.forEach(function(F){F.selectionSet&&(w[F.name.value]=!0)});var T=function(F){return w[Dn(F)]===!0},k=function(F){var j=I&&I.map.get(F);return!!(j&&j.info&&j.info.merge)};Object.keys(N).forEach(function(F){T(F)&&!k(F)&&DT(S,N,F,h.store)})}t.merge(y,N)}),t.retain(p.__ref),p},e.prototype.processSelectionSet=function(t){var o=this,i=t.dataId,n=t.result,r=t.selectionSet,s=t.context,l=t.mergeTree,a=this.cache.policies,c=Object.create(null),u=i&&a.rootTypenamesById[i]||yu(n,r,s.fragmentMap)||i&&s.store.get(i,"__typename");typeof u=="string"&&(c.__typename=u);var h=function(){var b=zd(arguments,c,s.variables);if(pt(b.from)){var w=s.incomingById.get(b.from.__ref);if(w){var T=a.readField(ye(ye({},b),{from:w.storeObject}),s);if(T!==void 0)return T}}return a.readField(b,s)},p=new Set;this.flattenFields(r,n,s,u).forEach(function(b,w){var T,k=oi(w),F=n[k];if(p.add(w),F!==void 0){var j=a.getStoreFieldName({typename:u,fieldName:w.name.value,field:w,variables:b.variables}),D=Um(l,j),P=o.processFieldValue(F,w,w.selectionSet?Dl(b,!1,!1):b,D),B=void 0;w.selectionSet&&(pt(P)||Ci(P))&&(B=h("__typename",P));var L=a.getMergeFunction(u,w.name.value,B);L?D.info={field:w,typename:u,merge:L}:qm(l,j),c=b.merge(c,(T={},T[j]=P,T))}else __DEV__&&!b.clientOnly&&!b.deferred&&!Od.added(w)&&!a.getReadFunction(u,w.name.value)&&__DEV__&&Le.error("Missing field '".concat(oi(w),"' while writing result ").concat(JSON.stringify(n,null,2)).substring(0,1e3))});try{var g=a.identify(n,{typename:u,selectionSet:r,fragmentMap:s.fragmentMap,storeObject:c,readField:h}),y=g[0],N=g[1];i=i||y,N&&(c=s.merge(c,N))}catch(b){if(!i)throw b}if(typeof i=="string"){var I=ki(i),A=s.written[i]||(s.written[i]=[]);if(A.indexOf(r)>=0||(A.push(r),this.reader&&this.reader.isFresh(n,I,r,s)))return I;var S=s.incomingById.get(i);return S?(S.storeObject=s.merge(S.storeObject,c),S.mergeTree=Mu(S.mergeTree,l),p.forEach(function(b){return S.fieldNodeSet.add(b)})):s.incomingById.set(i,{storeObject:c,mergeTree:xa(l)?void 0:l,fieldNodeSet:p}),I}return c},e.prototype.processFieldValue=function(t,o,i,n){var r=this;return!o.selectionSet||t===null?__DEV__?yy(t):t:Nt(t)?t.map(function(s,l){var a=r.processFieldValue(s,o,i,Um(n,l));return qm(n,l),a}):this.processSelectionSet({result:t,selectionSet:o.selectionSet,context:i,mergeTree:n})},e.prototype.flattenFields=function(t,o,i,n){n===void 0&&(n=yu(o,t,i.fragmentMap));var r=new Map,s=this.cache.policies,l=new cs(!1);return function a(c,u){var h=l.lookup(c,u.clientOnly,u.deferred);h.visited||(h.visited=!0,c.selections.forEach(function(p){if(Ga(p,i.variables)){var g=u.clientOnly,y=u.deferred;if(!(g&&y)&&wo(p.directives)&&p.directives.forEach(function(A){var S=A.name.value;if(S==="client"&&(g=!0),S==="defer"){var b=Wa(A,i.variables);(!b||b.if!==!1)&&(y=!0)}}),ni(p)){var N=r.get(p);N&&(g=g&&N.clientOnly,y=y&&N.deferred),r.set(p,Dl(i,g,y))}else{var I=Id(p,i.lookupFragment);if(!I&&p.kind===$e.FRAGMENT_SPREAD)throw __DEV__?new dt("No fragment named ".concat(p.name.value)):new dt(8);I&&s.fragmentMatches(I,n,o,i.variables)&&a(I.selectionSet,Dl(i,g,y))}}}))}(t,i),r},e.prototype.applyMerges=function(t,o,i,n,r){var s,l=this;if(t.map.size&&!pt(i)){var a=!Nt(i)&&(pt(o)||Ci(o))?o:void 0,c=i;a&&!r&&(r=[pt(a)?a.__ref:a]);var u,h=function(p,g){return Nt(p)?typeof g=="number"?p[g]:void 0:n.store.getFieldValue(p,String(g))};t.map.forEach(function(p,g){var y=h(a,g),N=h(c,g);if(N!==void 0){r&&r.push(g);var I=l.applyMerges(p,y,N,n,r);I!==N&&(u=u||new Map,u.set(g,I)),r&&Le(r.pop()===g)}}),u&&(i=Nt(c)?c.slice(0):ye({},c),u.forEach(function(p,g){i[g]=p}))}return t.info?this.cache.policies.runMergeFunction(o,i,t.info,n,r&&(s=n.store).getStorage.apply(s,r)):i},e}(),Qy=[];function Um(e,t){var o=e.map;return o.has(t)||o.set(t,Qy.pop()||{map:new Map}),o.get(t)}function Mu(e,t){if(e===t||!t||xa(t))return e;if(!e||xa(e))return t;var o=e.info&&t.info?ye(ye({},e.info),t.info):e.info||t.info,i=e.map.size&&t.map.size,n=i?new Map:e.map.size?e.map:t.map,r={info:o,map:n};if(i){var s=new Set(t.map.keys());e.map.forEach(function(l,a){r.map.set(a,Mu(l,t.map.get(a))),s.delete(a)}),s.forEach(function(l){r.map.set(l,Mu(t.map.get(l),e.map.get(l)))})}return r}function xa(e){return!e||!(e.info||e.map.size)}function qm(e,t){var o=e.map,i=o.get(t);i&&xa(i)&&(Qy.push(i),o.delete(t))}var jm=new Set;function DT(e,t,o,i){var n=function(h){var p=i.getFieldValue(h,o);return typeof p=="object"&&p},r=n(e);if(r){var s=n(t);if(s&&!pt(r)&&!Ot(r,s)&&!Object.keys(r).every(function(h){return i.getFieldValue(s,h)!==void 0})){var l=i.getFieldValue(e,"__typename")||i.getFieldValue(t,"__typename"),a=Dn(o),c="".concat(l,".").concat(a);if(!jm.has(c)){jm.add(c);var u=[];!Nt(r)&&!Nt(s)&&[r,s].forEach(function(h){var p=i.getFieldValue(h,"__typename");typeof p=="string"&&!u.includes(p)&&u.push(p)}),__DEV__&&Le.warn("Cache data may be lost when replacing the ".concat(a," field of a ").concat(l,` object.

To address this problem (which is not a bug in Apollo Client), `).concat(u.length?"either ensure all objects of type "+u.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(c,` field, so InMemoryCache can safely merge these objects:

  existing: `).concat(JSON.stringify(r).slice(0,1e3),`
  incoming: `).concat(JSON.stringify(s).slice(0,1e3),`

For more information about these options, please refer to the documentation:

  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers
  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects
`))}}}}var PT=function(e){uo(t,e);function t(o){o===void 0&&(o={});var i=e.call(this)||this;return i.watches=new Set,i.typenameDocumentCache=new Map,i.makeVar=CT,i.txCount=0,i.config=mT(o),i.addTypename=!!i.config.addTypename,i.policies=new TT({cache:i,dataIdFromObject:i.config.dataIdFromObject,possibleTypes:i.config.possibleTypes,typePolicies:i.config.typePolicies}),i.init(),i}return t.prototype.init=function(){var o=this.data=new Zr.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=o.stump,this.resetResultCache()},t.prototype.resetResultCache=function(o){var i=this,n=this.storeReader,r=this.config.fragments;this.storeWriter=new IT(this,this.storeReader=new ET({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:Uy(this.config),canon:o?void 0:n&&n.canon,fragments:r}),r),this.maybeBroadcastWatch=Aa(function(s,l){return i.broadcastWatch(s,l)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(s){var l=s.optimistic?i.optimisticData:i.data;if(Fr(l)){var a=s.optimistic,c=s.id,u=s.variables;return l.makeCacheKey(s.query,s.callback,Xn({optimistic:a,id:c,variables:u}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(s){return s.resetCaching()})},t.prototype.restore=function(o){return this.init(),o&&this.data.replace(o),this},t.prototype.extract=function(o){return o===void 0&&(o=!1),(o?this.optimisticData:this.data).extract()},t.prototype.read=function(o){var i=o.returnPartialData,n=i===void 0?!1:i;try{return this.storeReader.diffQueryAgainstStore(ye(ye({},o),{store:o.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:n})).result||null}catch(r){if(r instanceof Fy)return null;throw r}},t.prototype.write=function(o){try{return++this.txCount,this.storeWriter.writeToStore(this.data,o)}finally{!--this.txCount&&o.broadcast!==!1&&this.broadcastWatches()}},t.prototype.modify=function(o){if(Mt.call(o,"id")&&!o.id)return!1;var i=o.optimistic?this.optimisticData:this.data;try{return++this.txCount,i.modify(o.id||"ROOT_QUERY",o.fields)}finally{!--this.txCount&&o.broadcast!==!1&&this.broadcastWatches()}},t.prototype.diff=function(o){return this.storeReader.diffQueryAgainstStore(ye(ye({},o),{store:o.optimistic?this.optimisticData:this.data,rootId:o.id||"ROOT_QUERY",config:this.config}))},t.prototype.watch=function(o){var i=this;return this.watches.size||NT(this),this.watches.add(o),o.immediate&&this.maybeBroadcastWatch(o),function(){i.watches.delete(o)&&!i.watches.size&&km(i),i.maybeBroadcastWatch.forget(o)}},t.prototype.gc=function(o){Xn.reset();var i=this.optimisticData.gc();return o&&!this.txCount&&(o.resetResultCache?this.resetResultCache(o.resetResultIdentities):o.resetResultIdentities&&this.storeReader.resetCanon()),i},t.prototype.retain=function(o,i){return(i?this.optimisticData:this.data).retain(o)},t.prototype.release=function(o,i){return(i?this.optimisticData:this.data).release(o)},t.prototype.identify=function(o){if(pt(o))return o.__ref;try{return this.policies.identify(o)[0]}catch(i){__DEV__&&Le.warn(i)}},t.prototype.evict=function(o){if(!o.id){if(Mt.call(o,"id"))return!1;o=ye(ye({},o),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(o,this.data)}finally{!--this.txCount&&o.broadcast!==!1&&this.broadcastWatches()}},t.prototype.reset=function(o){var i=this;return this.init(),Xn.reset(),o&&o.discardWatches?(this.watches.forEach(function(n){return i.maybeBroadcastWatch.forget(n)}),this.watches.clear(),km(this)):this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(o){var i=this.optimisticData.removeLayer(o);i!==this.optimisticData&&(this.optimisticData=i,this.broadcastWatches())},t.prototype.batch=function(o){var i=this,n=o.update,r=o.optimistic,s=r===void 0?!0:r,l=o.removeOptimistic,a=o.onWatchUpdated,c,u=function(p){var g=i,y=g.data,N=g.optimisticData;++i.txCount,p&&(i.data=i.optimisticData=p);try{return c=n(i)}finally{--i.txCount,i.data=y,i.optimisticData=N}},h=new Set;return a&&!this.txCount&&this.broadcastWatches(ye(ye({},o),{onWatchUpdated:function(p){return h.add(p),!1}})),typeof s=="string"?this.optimisticData=this.optimisticData.addLayer(s,u):s===!1?u(this.data):u(),typeof l=="string"&&(this.optimisticData=this.optimisticData.removeLayer(l)),a&&h.size?(this.broadcastWatches(ye(ye({},o),{onWatchUpdated:function(p,g){var y=a.call(this,p,g);return y!==!1&&h.delete(p),y}})),h.size&&h.forEach(function(p){return i.maybeBroadcastWatch.dirty(p)})):this.broadcastWatches(o),c},t.prototype.performTransaction=function(o,i){return this.batch({update:o,optimistic:i||i!==null})},t.prototype.transformDocument=function(o){if(this.addTypename){var i=this.typenameDocumentCache.get(o);return i||(i=Od(o),this.typenameDocumentCache.set(o,i),this.typenameDocumentCache.set(i,i)),i}return o},t.prototype.transformForLink=function(o){var i=this.config.fragments;return i?i.transform(o):o},t.prototype.broadcastWatches=function(o){var i=this;this.txCount||this.watches.forEach(function(n){return i.maybeBroadcastWatch(n,o)})},t.prototype.broadcastWatch=function(o,i){var n=o.lastDiff,r=this.diff(o);i&&(o.optimistic&&typeof i.optimistic=="string"&&(r.fromOptimisticTransaction=!0),i.onWatchUpdated&&i.onWatchUpdated.call(this,o,r,n)===!1)||(!n||!Ot(n.result,r.result))&&o.callback(o.lastDiff=r,n)},t}(pT);function kT(e){return e.hasOwnProperty("graphQLErrors")}var OT=function(e){var t="";if(wo(e.graphQLErrors)||wo(e.clientErrors)){var o=(e.graphQLErrors||[]).concat(e.clientErrors||[]);o.forEach(function(i){var n=i?i.message:"Error message not found.";t+="".concat(n,`
`)})}return e.networkError&&(t+="".concat(e.networkError.message,`
`)),t=t.replace(/\n$/,""),t},jn=function(e){uo(t,e);function t(o){var i=o.graphQLErrors,n=o.clientErrors,r=o.networkError,s=o.errorMessage,l=o.extraInfo,a=e.call(this,s)||this;return a.name="ApolloError",a.graphQLErrors=i||[],a.clientErrors=n||[],a.networkError=r||null,a.message=s||OT(a),a.extraInfo=l,a.__proto__=t.prototype,a}return t}(Error),mt;(function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"})(mt||(mt={}));function es(e){return e?e<7:!1}var RT=Object.assign,LT=Object.hasOwnProperty,Fu=function(e){uo(t,e);function t(o){var i=o.queryManager,n=o.queryInfo,r=o.options,s=e.call(this,function(I){try{var A=I._subscription._observer;A&&!A.error&&(A.error=MT)}catch{}var S=!s.observers.size;s.observers.add(I);var b=s.last;return b&&b.error?I.error&&I.error(b.error):b&&b.result&&I.next&&I.next(b.result),S&&s.reobserve().catch(function(){}),function(){s.observers.delete(I)&&!s.observers.size&&s.tearDownQuery()}})||this;s.observers=new Set,s.subscriptions=new Set,s.queryInfo=n,s.queryManager=i,s.isTornDown=!1;var l=i.defaultOptions.watchQuery,a=l===void 0?{}:l,c=a.fetchPolicy,u=c===void 0?"cache-first":c,h=r.fetchPolicy,p=h===void 0?u:h,g=r.initialFetchPolicy,y=g===void 0?p==="standby"?u:p:g;s.options=ye(ye({},r),{initialFetchPolicy:y,fetchPolicy:p}),s.queryId=n.queryId||i.generateQueryId();var N=as(s.query);return s.queryName=N&&N.name&&N.name.value,s}return Object.defineProperty(t.prototype,"query",{get:function(){return this.queryManager.transform(this.options.query).document},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var o=this;return new Promise(function(i,n){var r={next:function(l){i(l),o.observers.delete(r),o.observers.size||o.queryManager.removeQuery(o.queryId),setTimeout(function(){s.unsubscribe()},0)},error:n},s=o.subscribe(r)})},t.prototype.getCurrentResult=function(o){o===void 0&&(o=!0);var i=this.getLastResult(!0),n=this.queryInfo.networkStatus||i&&i.networkStatus||mt.ready,r=ye(ye({},i),{loading:es(n),networkStatus:n}),s=this.options.fetchPolicy,l=s===void 0?"cache-first":s;if(!(l==="network-only"||l==="no-cache"||l==="standby"||this.queryManager.transform(this.options.query).hasForcedResolvers)){var a=this.queryInfo.getDiff();(a.complete||this.options.returnPartialData)&&(r.data=a.result),Ot(r.data,{})&&(r.data=void 0),a.complete?(delete r.partial,a.complete&&r.networkStatus===mt.loading&&(l==="cache-first"||l==="cache-only")&&(r.networkStatus=mt.ready,r.loading=!1)):r.partial=!0,__DEV__&&!a.complete&&!this.options.partialRefetch&&!r.loading&&!r.data&&!r.error&&Jy(a.missing)}return o&&this.updateLastResult(r),r},t.prototype.isDifferentFromLastResult=function(o,i){return!this.last||!Ot(this.last.result,o)||i&&!Ot(this.last.variables,i)},t.prototype.getLast=function(o,i){var n=this.last;if(n&&n[o]&&(!i||Ot(n.variables,this.variables)))return n[o]},t.prototype.getLastResult=function(o){return this.getLast("result",o)},t.prototype.getLastError=function(o){return this.getLast("error",o)},t.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(o){var i,n={pollInterval:0},r=this.options.fetchPolicy;if(r==="cache-and-network"?n.fetchPolicy=r:r==="no-cache"?n.fetchPolicy="no-cache":n.fetchPolicy="network-only",__DEV__&&o&&LT.call(o,"variables")){var s=hy(this.query),l=s.variableDefinitions;(!l||!l.some(function(a){return a.variable.name.value==="variables"}))&&__DEV__&&Le.warn("Called refetch(".concat(JSON.stringify(o),") for query ").concat(((i=s.name)===null||i===void 0?void 0:i.value)||JSON.stringify(s),`, which does not declare a $variables variable.
Did you mean to call refetch(variables) instead of refetch({ variables })?`))}return o&&!Ot(this.options.variables,o)&&(n.variables=this.options.variables=ye(ye({},this.options.variables),o)),this.queryInfo.resetLastWrite(),this.reobserve(n,mt.refetch)},t.prototype.fetchMore=function(o){var i=this,n=ye(ye({},o.query?o:ye(ye(ye(ye({},this.options),{query:this.query}),o),{variables:ye(ye({},this.options.variables),o.variables)})),{fetchPolicy:"no-cache"}),r=this.queryManager.generateQueryId(),s=this.queryInfo,l=s.networkStatus;s.networkStatus=mt.fetchMore,n.notifyOnNetworkStatusChange&&this.observe();var a=new Set;return this.queryManager.fetchQuery(r,n,mt.fetchMore).then(function(c){return i.queryManager.removeQuery(r),s.networkStatus===mt.fetchMore&&(s.networkStatus=l),i.queryManager.cache.batch({update:function(u){var h=o.updateQuery;h?u.updateQuery({query:i.query,variables:i.variables,returnPartialData:!0,optimistic:!1},function(p){return h(p,{fetchMoreResult:c.data,variables:n.variables})}):u.writeQuery({query:n.query,variables:n.variables,data:c.data})},onWatchUpdated:function(u){a.add(u.query)}}),c}).finally(function(){a.has(i.query)||Ky(i)})},t.prototype.subscribeToMore=function(o){var i=this,n=this.queryManager.startGraphQLSubscription({query:o.document,variables:o.variables,context:o.context}).subscribe({next:function(r){var s=o.updateQuery;s&&i.updateQuery(function(l,a){var c=a.variables;return s(l,{subscriptionData:r,variables:c})})},error:function(r){if(o.onError){o.onError(r);return}__DEV__&&Le.error("Unhandled GraphQL subscription error",r)}});return this.subscriptions.add(n),function(){i.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(o){return this.reobserve(o)},t.prototype.setVariables=function(o){return Ot(this.variables,o)?this.observers.size?this.result():Promise.resolve():(this.options.variables=o,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:o},mt.setVariables):Promise.resolve())},t.prototype.updateQuery=function(o){var i=this.queryManager,n=i.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,r=o(n,{variables:this.variables});r&&(i.cache.writeQuery({query:this.options.query,data:r,variables:this.variables}),i.broadcastQueries())},t.prototype.startPolling=function(o){this.options.pollInterval=o,this.updatePolling()},t.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},t.prototype.applyNextFetchPolicy=function(o,i){if(i.nextFetchPolicy){var n=i.fetchPolicy,r=n===void 0?"cache-first":n,s=i.initialFetchPolicy,l=s===void 0?r:s;r==="standby"||(typeof i.nextFetchPolicy=="function"?i.fetchPolicy=i.nextFetchPolicy(r,{reason:o,options:i,observable:this,initialFetchPolicy:l}):o==="variables-changed"?i.fetchPolicy=l:i.fetchPolicy=i.nextFetchPolicy)}return i.fetchPolicy},t.prototype.fetch=function(o,i){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,o,i)},t.prototype.updatePolling=function(){var o=this;if(!this.queryManager.ssrMode){var i=this,n=i.pollingInfo,r=i.options.pollInterval;if(!r){n&&(clearTimeout(n.timeout),delete this.pollingInfo);return}if(!(n&&n.interval===r)){__DEV__?Le(r,"Attempted to start a polling query without a polling interval."):Le(r,13);var s=n||(this.pollingInfo={});s.interval=r;var l=function(){o.pollingInfo&&(es(o.queryInfo.networkStatus)?a():o.reobserve({fetchPolicy:o.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},mt.poll).then(a,a))},a=function(){var c=o.pollingInfo;c&&(clearTimeout(c.timeout),c.timeout=setTimeout(l,c.interval))};a()}}},t.prototype.updateLastResult=function(o,i){return i===void 0&&(i=this.variables),this.last=ye(ye({},this.last),{result:this.queryManager.assumeImmutableResults?o:yy(o),variables:i}),wo(o.errors)||delete this.last.error,this.last},t.prototype.reobserve=function(o,i){var n=this;this.isTornDown=!1;var r=i===mt.refetch||i===mt.fetchMore||i===mt.poll,s=this.options.variables,l=this.options.fetchPolicy,a=Ya(this.options,o||{}),c=r?a:RT(this.options,a);r||(this.updatePolling(),o&&o.variables&&!Ot(o.variables,s)&&c.fetchPolicy!=="standby"&&c.fetchPolicy===l&&(this.applyNextFetchPolicy("variables-changed",c),i===void 0&&(i=mt.setVariables)));var u=c.variables&&ye({},c.variables),h=this.fetch(c,i),p={next:function(g){n.reportResult(g,u)},error:function(g){n.reportError(g,u)}};return r||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=h,this.observer=p),h.addObserver(p),h.promise},t.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},t.prototype.reportResult=function(o,i){var n=this.getLastError();(n||this.isDifferentFromLastResult(o,i))&&((n||!o.partial||this.options.returnPartialData)&&this.updateLastResult(o,i),Mr(this.observers,"next",o))},t.prototype.reportError=function(o,i){var n=ye(ye({},this.getLastResult()),{error:o,errors:o.graphQLErrors,networkStatus:mt.error,loading:!1});this.updateLastResult(n,i),Mr(this.observers,"error",this.last.error=o)},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(o){return o.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t}(gt);wy(Fu);function Ky(e){var t=e.options,o=t.fetchPolicy,i=t.nextFetchPolicy;return o==="cache-and-network"||o==="network-only"?e.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return this.nextFetchPolicy=i,typeof i=="function"?i.apply(this,arguments):o}}):e.reobserve()}function MT(e){__DEV__&&Le.error("Unhandled error",e.message,e.stack)}function Jy(e){__DEV__&&e&&__DEV__&&Le.debug("Missing cache result fields: ".concat(JSON.stringify(e)),e)}var Yy=function(){function e(t){var o=t.cache,i=t.client,n=t.resolvers,r=t.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=o,i&&(this.client=i),n&&this.addResolvers(n),r&&this.setFragmentMatcher(r)}return e.prototype.addResolvers=function(t){var o=this;this.resolvers=this.resolvers||{},Array.isArray(t)?t.forEach(function(i){o.resolvers=am(o.resolvers,i)}):this.resolvers=am(this.resolvers,t)},e.prototype.setResolvers=function(t){this.resolvers={},this.addResolvers(t)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(t){var o=t.document,i=t.remoteResult,n=t.context,r=t.variables,s=t.onlyRunForcedResolvers,l=s===void 0?!1:s;return bn(this,void 0,void 0,function(){return wn(this,function(a){return o?[2,this.resolveDocument(o,i.data,n,r,this.fragmentMatcher,l).then(function(c){return ye(ye({},i),{data:c.result})})]:[2,i]})})},e.prototype.setFragmentMatcher=function(t){this.fragmentMatcher=t},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(t){return xd(["client"],t)&&this.resolvers?t:null},e.prototype.serverQuery=function(t){return KA(t)},e.prototype.prepareContext=function(t){var o=this.cache;return ye(ye({},t),{cache:o,getCacheKey:function(i){return o.identify(i)}})},e.prototype.addExportedVariables=function(t,o,i){return o===void 0&&(o={}),i===void 0&&(i={}),bn(this,void 0,void 0,function(){return wn(this,function(n){return t?[2,this.resolveDocument(t,this.buildRootValueFromCache(t,o)||{},this.prepareContext(i),o).then(function(r){return ye(ye({},o),r.exportedVariables)})]:[2,ye({},o)]})})},e.prototype.shouldForceResolvers=function(t){var o=!1;return Zo(t,{Directive:{enter:function(i){if(i.name.value==="client"&&i.arguments&&(o=i.arguments.some(function(n){return n.name.value==="always"&&n.value.kind==="BooleanValue"&&n.value.value===!0}),o))return Ad}}}),o},e.prototype.buildRootValueFromCache=function(t,o){return this.cache.diff({query:QA(t),variables:o,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(t,o,i,n,r,s){return i===void 0&&(i={}),n===void 0&&(n={}),r===void 0&&(r=function(){return!0}),s===void 0&&(s=!1),bn(this,void 0,void 0,function(){var l,a,c,u,h,p,g,y,N,I,A;return wn(this,function(S){return l=Ka(t),a=Pd(t),c=Td(a),u=this.collectSelectionsToResolve(l,c),h=l.operation,p=h?h.charAt(0).toUpperCase()+h.slice(1):"Query",g=this,y=g.cache,N=g.client,I={fragmentMap:c,context:ye(ye({},i),{cache:y,client:N}),variables:n,fragmentMatcher:r,defaultOperationType:p,exportedVariables:{},selectionsToResolve:u,onlyRunForcedResolvers:s},A=!1,[2,this.resolveSelectionSet(l.selectionSet,A,o,I).then(function(b){return{result:b,exportedVariables:I.exportedVariables}})]})})},e.prototype.resolveSelectionSet=function(t,o,i,n){return bn(this,void 0,void 0,function(){var r,s,l,a,c,u=this;return wn(this,function(h){return r=n.fragmentMap,s=n.context,l=n.variables,a=[i],c=function(p){return bn(u,void 0,void 0,function(){var g,y;return wn(this,function(N){return!o&&!n.selectionsToResolve.has(p)?[2]:Ga(p,l)?ni(p)?[2,this.resolveField(p,o,i,n).then(function(I){var A;typeof I<"u"&&a.push((A={},A[oi(p)]=I,A))})]:(jA(p)?g=p:(g=r[p.name.value],__DEV__?Le(g,"No fragment named ".concat(p.name.value)):Le(g,11)),g&&g.typeCondition&&(y=g.typeCondition.name.value,n.fragmentMatcher(i,y,s))?[2,this.resolveSelectionSet(g.selectionSet,o,i,n).then(function(I){a.push(I)})]:[2]):[2]})})},[2,Promise.all(t.selections.map(c)).then(function(){return Rd(a)})]})})},e.prototype.resolveField=function(t,o,i,n){return bn(this,void 0,void 0,function(){var r,s,l,a,c,u,h,p,g,y=this;return wn(this,function(N){return i?(r=n.variables,s=t.name.value,l=oi(t),a=s!==l,c=i[l]||i[s],u=Promise.resolve(c),(!n.onlyRunForcedResolvers||this.shouldForceResolvers(t))&&(h=i.__typename||n.defaultOperationType,p=this.resolvers&&this.resolvers[h],p&&(g=p[a?s:l],g&&(u=Promise.resolve(jd.withValue(this.cache,g,[i,Wa(t,r),n.context,{field:t,fragmentMap:n.fragmentMap}]))))),[2,u.then(function(I){var A,S;if(I===void 0&&(I=c),t.directives&&t.directives.forEach(function(w){w.name.value==="export"&&w.arguments&&w.arguments.forEach(function(T){T.name.value==="as"&&T.value.kind==="StringValue"&&(n.exportedVariables[T.value.value]=I)})}),!t.selectionSet||I==null)return I;var b=(S=(A=t.directives)===null||A===void 0?void 0:A.some(function(w){return w.name.value==="client"}))!==null&&S!==void 0?S:!1;if(Array.isArray(I))return y.resolveSubSelectedArray(t,o||b,I,n);if(t.selectionSet)return y.resolveSelectionSet(t.selectionSet,o||b,I,n)})]):[2,null]})})},e.prototype.resolveSubSelectedArray=function(t,o,i,n){var r=this;return Promise.all(i.map(function(s){if(s===null)return null;if(Array.isArray(s))return r.resolveSubSelectedArray(t,o,s,n);if(t.selectionSet)return r.resolveSelectionSet(t.selectionSet,o,s,n)}))},e.prototype.collectSelectionsToResolve=function(t,o){var i=function(s){return!Array.isArray(s)},n=this.selectionsToResolveCache;function r(s){if(!n.has(s)){var l=new Set;n.set(s,l),Zo(s,{Directive:function(a,c,u,h,p){a.name.value==="client"&&p.forEach(function(g){i(g)&&Zp(g)&&l.add(g)})},FragmentSpread:function(a,c,u,h,p){var g=o[a.name.value];__DEV__?Le(g,"No fragment named ".concat(a.name.value)):Le(g,12);var y=r(g);y.size>0&&(p.forEach(function(N){i(N)&&Zp(N)&&l.add(N)}),l.add(a),y.forEach(function(N){l.add(N)}))}})}return n.get(s)}return r(t)},e}(),Ai=new(ri?WeakMap:Map);function Pl(e,t){var o=e[t];typeof o=="function"&&(e[t]=function(){return Ai.set(e,(Ai.get(e)+1)%1e15),o.apply(this,arguments)})}function Vm(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var kl=function(){function e(t,o){o===void 0&&(o=t.generateQueryId()),this.queryId=o,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var i=this.cache=t.cache;Ai.has(i)||(Ai.set(i,0),Pl(i,"evict"),Pl(i,"modify"),Pl(i,"reset"))}return e.prototype.init=function(t){var o=t.networkStatus||mt.loading;return this.variables&&this.networkStatus!==mt.loading&&!Ot(this.variables,t.variables)&&(o=mt.setVariables),Ot(t.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:t.document,variables:t.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:o}),t.observableQuery&&this.setObservableQuery(t.observableQuery),t.lastRequestId&&(this.lastRequestId=t.lastRequestId),this},e.prototype.reset=function(){Vm(this),this.dirty=!1},e.prototype.getDiff=function(t){t===void 0&&(t=this.variables);var o=this.getDiffOptions(t);if(this.lastDiff&&Ot(o,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=t);var i=this.observableQuery;if(i&&i.options.fetchPolicy==="no-cache")return{complete:!1};var n=this.cache.diff(o);return this.updateLastDiff(n,o),n},e.prototype.updateLastDiff=function(t,o){this.lastDiff=t?{diff:t,options:o||this.getDiffOptions()}:void 0},e.prototype.getDiffOptions=function(t){var o;return t===void 0&&(t=this.variables),{query:this.document,variables:t,returnPartialData:!0,optimistic:!0,canonizeResults:(o=this.observableQuery)===null||o===void 0?void 0:o.options.canonizeResults}},e.prototype.setDiff=function(t){var o=this,i=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(t),!this.dirty&&!Ot(i&&i.result,t&&t.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return o.notify()},0)))},e.prototype.setObservableQuery=function(t){var o=this;t!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=t,t?(t.queryInfo=this,this.listeners.add(this.oqListener=function(){var i=o.getDiff();i.fromOptimisticTransaction?t.observe():Ky(t)})):delete this.oqListener)},e.prototype.notify=function(){var t=this;Vm(this),this.shouldNotify()&&this.listeners.forEach(function(o){return o(t)}),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(es(this.networkStatus)&&this.observableQuery){var t=this.observableQuery.options.fetchPolicy;if(t!=="cache-only"&&t!=="cache-and-network")return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=e.prototype.cancel,this.subscriptions.forEach(function(o){return o.unsubscribe()});var t=this.observableQuery;t&&t.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(t){var o=this;t===void 0&&(t=this.variables);var i=this.observableQuery;if(!(i&&i.options.fetchPolicy==="no-cache")){var n=ye(ye({},this.getDiffOptions(t)),{watcher:this,callback:function(r){return o.setDiff(r)}});(!this.lastWatch||!Ot(n,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=n))}},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(t,o){var i=this.lastWrite;return!(i&&i.dmCount===Ai.get(this.cache)&&Ot(o,i.variables)&&Ot(t.data,i.result.data))},e.prototype.markResult=function(t,o,i,n){var r=this,s=new Tn,l=wo(t.errors)?t.errors.slice(0):[];if(this.reset(),"incremental"in t&&wo(t.incremental)){var a=Ey(this.getDiff().result,t);t.data=a}else if("hasNext"in t&&t.hasNext){var c=this.getDiff();t.data=s.merge(c.result,t.data)}this.graphQLErrors=l,i.fetchPolicy==="no-cache"?this.updateLastDiff({result:t.data,complete:!0},this.getDiffOptions(i.variables)):n!==0&&(Bu(t,i.errorPolicy)?this.cache.performTransaction(function(u){if(r.shouldWrite(t,i.variables))u.writeQuery({query:o,data:t.data,variables:i.variables,overwrite:n===1}),r.lastWrite={result:t,variables:i.variables,dmCount:Ai.get(r.cache)};else if(r.lastDiff&&r.lastDiff.diff.complete){t.data=r.lastDiff.diff.result;return}var h=r.getDiffOptions(i.variables),p=u.diff(h);r.stopped||r.updateWatch(i.variables),r.updateLastDiff(p,h),p.complete&&(t.data=p.result)}):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=mt.ready},e.prototype.markError=function(t){return this.networkStatus=mt.error,this.lastWrite=void 0,this.reset(),t.graphQLErrors&&(this.graphQLErrors=t.graphQLErrors),t.networkError&&(this.networkError=t.networkError),t},e}();function Bu(e,t){t===void 0&&(t="none");var o=t==="ignore"||t==="all",i=!la(e);return!i&&o&&e.data&&(i=!0),i}var FT=Object.prototype.hasOwnProperty,BT=function(){function e(t){var o=t.cache,i=t.link,n=t.defaultOptions,r=t.queryDeduplication,s=r===void 0?!1:r,l=t.onBroadcast,a=t.ssrMode,c=a===void 0?!1:a,u=t.clientAwareness,h=u===void 0?{}:u,p=t.localState,g=t.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(ri?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=o,this.link=i,this.defaultOptions=n||Object.create(null),this.queryDeduplication=s,this.clientAwareness=h,this.localState=p||new Yy({cache:o}),this.ssrMode=c,this.assumeImmutableResults=!!g,(this.onBroadcast=l)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var t=this;this.queries.forEach(function(o,i){t.stopQueryNoBroadcast(i)}),this.cancelPendingFetches(__DEV__?new dt("QueryManager stopped while query was in flight"):new dt(14))},e.prototype.cancelPendingFetches=function(t){this.fetchCancelFns.forEach(function(o){return o(t)}),this.fetchCancelFns.clear()},e.prototype.mutate=function(t){var o,i,n=t.mutation,r=t.variables,s=t.optimisticResponse,l=t.updateQueries,a=t.refetchQueries,c=a===void 0?[]:a,u=t.awaitRefetchQueries,h=u===void 0?!1:u,p=t.update,g=t.onQueryUpdated,y=t.fetchPolicy,N=y===void 0?((o=this.defaultOptions.mutate)===null||o===void 0?void 0:o.fetchPolicy)||"network-only":y,I=t.errorPolicy,A=I===void 0?((i=this.defaultOptions.mutate)===null||i===void 0?void 0:i.errorPolicy)||"none":I,S=t.keepRootFields,b=t.context;return bn(this,void 0,void 0,function(){var w,T,k,F,j,D;return wn(this,function(P){switch(P.label){case 0:return __DEV__?Le(n,"mutation option is required. You must specify your GraphQL document in the mutation option."):Le(n,15),__DEV__?Le(N==="network-only"||N==="no-cache","Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):Le(N==="network-only"||N==="no-cache",16),w=this.generateMutationId(),T=this.transform(n),k=T.document,F=T.hasClientExports,n=this.cache.transformForLink(k),r=this.getVariables(n,r),F?[4,this.localState.addExportedVariables(n,r,b)]:[3,2];case 1:r=P.sent(),P.label=2;case 2:return j=this.mutationStore&&(this.mutationStore[w]={mutation:n,variables:r,loading:!0,error:null}),s&&this.markMutationOptimistic(s,{mutationId:w,document:n,variables:r,fetchPolicy:N,errorPolicy:A,context:b,updateQueries:l,update:p,keepRootFields:S}),this.broadcastQueries(),D=this,[2,new Promise(function(B,L){return Sl(D.getObservableFromLink(n,ye(ye({},b),{optimisticResponse:s}),r,!1),function(G){if(la(G)&&A==="none")throw new jn({graphQLErrors:Nu(G)});j&&(j.loading=!1,j.error=null);var E=ye({},G);return typeof c=="function"&&(c=c(E)),A==="ignore"&&la(E)&&delete E.errors,D.markMutationResult({mutationId:w,result:E,document:n,variables:r,fetchPolicy:N,errorPolicy:A,context:b,update:p,updateQueries:l,awaitRefetchQueries:h,refetchQueries:c,removeOptimistic:s?w:void 0,onQueryUpdated:g,keepRootFields:S})}).subscribe({next:function(G){D.broadcastQueries(),(!("hasNext"in G)||G.hasNext===!1)&&B(G)},error:function(G){j&&(j.loading=!1,j.error=G),s&&D.cache.removeOptimistic(w),D.broadcastQueries(),L(G instanceof jn?G:new jn({networkError:G}))}})})]}})})},e.prototype.markMutationResult=function(t,o){var i=this;o===void 0&&(o=this.cache);var n=t.result,r=[],s=t.fetchPolicy==="no-cache";if(!s&&Bu(n,t.errorPolicy)){if(Oi(n)||r.push({result:n.data,dataId:"ROOT_MUTATION",query:t.document,variables:t.variables}),Oi(n)&&wo(n.incremental)){var l=o.diff({id:"ROOT_MUTATION",query:this.transform(t.document).asQuery,variables:t.variables,optimistic:!1,returnPartialData:!0}),a=void 0;l.result&&(a=Ey(l.result,n)),typeof a<"u"&&(n.data=a,r.push({result:a,dataId:"ROOT_MUTATION",query:t.document,variables:t.variables}))}var c=t.updateQueries;c&&this.queries.forEach(function(h,p){var g=h.observableQuery,y=g&&g.queryName;if(!(!y||!FT.call(c,y))){var N=c[y],I=i.queries.get(p),A=I.document,S=I.variables,b=o.diff({query:A,variables:S,returnPartialData:!0,optimistic:!1}),w=b.result,T=b.complete;if(T&&w){var k=N(w,{mutationResult:n,queryName:A&&bu(A)||void 0,queryVariables:S});k&&r.push({result:k,dataId:"ROOT_QUERY",query:A,variables:S})}}})}if(r.length>0||t.refetchQueries||t.update||t.onQueryUpdated||t.removeOptimistic){var u=[];if(this.refetchQueries({updateCache:function(h){s||r.forEach(function(N){return h.write(N)});var p=t.update,g=!dx(n)||Oi(n)&&!n.hasNext;if(p){if(!s){var y=h.diff({id:"ROOT_MUTATION",query:i.transform(t.document).asQuery,variables:t.variables,optimistic:!1,returnPartialData:!0});y.complete&&(n=ye(ye({},n),{data:y.result}),"incremental"in n&&delete n.incremental,"hasNext"in n&&delete n.hasNext)}g&&p(h,n,{context:t.context,variables:t.variables})}!s&&!t.keepRootFields&&g&&h.modify({id:"ROOT_MUTATION",fields:function(N,I){var A=I.fieldName,S=I.DELETE;return A==="__typename"?N:S}})},include:t.refetchQueries,optimistic:!1,removeOptimistic:t.removeOptimistic,onQueryUpdated:t.onQueryUpdated||null}).forEach(function(h){return u.push(h)}),t.awaitRefetchQueries||t.onQueryUpdated)return Promise.all(u).then(function(){return n})}return Promise.resolve(n)},e.prototype.markMutationOptimistic=function(t,o){var i=this,n=typeof t=="function"?t(o.variables):t;return this.cache.recordOptimisticTransaction(function(r){try{i.markMutationResult(ye(ye({},o),{result:{data:n}}),r)}catch(s){__DEV__&&Le.error(s)}},o.mutationId)},e.prototype.fetchQuery=function(t,o,i){return this.fetchQueryObservable(t,o,i).promise},e.prototype.getQueryStore=function(){var t=Object.create(null);return this.queries.forEach(function(o,i){t[i]={variables:o.variables,networkStatus:o.networkStatus,networkError:o.networkError,graphQLErrors:o.graphQLErrors}}),t},e.prototype.resetErrors=function(t){var o=this.queries.get(t);o&&(o.networkError=void 0,o.graphQLErrors=[])},e.prototype.transform=function(t){var o=this.transformCache;if(!o.has(t)){var i=this.cache.transformDocument(t),n=WA(i),r=this.localState.clientQuery(i),s=n&&this.localState.serverQuery(n),l={document:i,hasClientExports:CA(i),hasForcedResolvers:this.localState.shouldForceResolvers(i),clientQuery:r,serverQuery:s,defaultVars:kd(as(i)),asQuery:ye(ye({},i),{definitions:i.definitions.map(function(c){return c.kind==="OperationDefinition"&&c.operation!=="query"?ye(ye({},c),{operation:"query"}):c})})},a=function(c){c&&!o.has(c)&&o.set(c,l)};a(t),a(i),a(r),a(s)}return o.get(t)},e.prototype.getVariables=function(t,o){return ye(ye({},this.transform(t).defaultVars),o)},e.prototype.watchQuery=function(t){t=ye(ye({},t),{variables:this.getVariables(t.query,t.variables)}),typeof t.notifyOnNetworkStatusChange>"u"&&(t.notifyOnNetworkStatusChange=!1);var o=new kl(this),i=new Fu({queryManager:this,queryInfo:o,options:t});return this.queries.set(i.queryId,o),o.init({document:i.query,observableQuery:i,variables:i.variables}),i},e.prototype.query=function(t,o){var i=this;return o===void 0&&(o=this.generateQueryId()),__DEV__?Le(t.query,"query option is required. You must specify your GraphQL document in the query option."):Le(t.query,17),__DEV__?Le(t.query.kind==="Document",'You must wrap the query string in a "gql" tag.'):Le(t.query.kind==="Document",18),__DEV__?Le(!t.returnPartialData,"returnPartialData option only supported on watchQuery."):Le(!t.returnPartialData,19),__DEV__?Le(!t.pollInterval,"pollInterval option only supported on watchQuery."):Le(!t.pollInterval,20),this.fetchQuery(o,t).finally(function(){return i.stopQuery(o)})},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(t){this.stopQueryInStoreNoBroadcast(t),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(t){var o=this.queries.get(t);o&&o.stop()},e.prototype.clearStore=function(t){return t===void 0&&(t={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new dt("Store reset while query was in flight (not completed in link chain)"):new dt(21)),this.queries.forEach(function(o){o.observableQuery?o.networkStatus=mt.loading:o.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(t)},e.prototype.getObservableQueries=function(t){var o=this;t===void 0&&(t="active");var i=new Map,n=new Map,r=new Set;return Array.isArray(t)&&t.forEach(function(s){typeof s=="string"?n.set(s,!1):IA(s)?n.set(o.transform(s).document,!1):_t(s)&&s.query&&r.add(s)}),this.queries.forEach(function(s,l){var a=s.observableQuery,c=s.document;if(a){if(t==="all"){i.set(l,a);return}var u=a.queryName,h=a.options.fetchPolicy;if(h==="standby"||t==="active"&&!a.hasObservers())return;(t==="active"||u&&n.has(u)||c&&n.has(c))&&(i.set(l,a),u&&n.set(u,!0),c&&n.set(c,!0))}}),r.size&&r.forEach(function(s){var l=Cu("legacyOneTimeQuery"),a=o.getQuery(l).init({document:s.query,variables:s.variables}),c=new Fu({queryManager:o,queryInfo:a,options:ye(ye({},s),{fetchPolicy:"network-only"})});Le(c.queryId===l),a.setObservableQuery(c),i.set(l,c)}),__DEV__&&n.size&&n.forEach(function(s,l){s||__DEV__&&Le.warn("Unknown query ".concat(typeof l=="string"?"named ":"").concat(JSON.stringify(l,null,2)," requested in refetchQueries options.include array"))}),i},e.prototype.reFetchObservableQueries=function(t){var o=this;t===void 0&&(t=!1);var i=[];return this.getObservableQueries(t?"all":"active").forEach(function(n,r){var s=n.options.fetchPolicy;n.resetLastResults(),(t||s!=="standby"&&s!=="cache-only")&&i.push(n.refetch()),o.getQuery(r).setDiff(null)}),this.broadcastQueries(),Promise.all(i)},e.prototype.setObservableQuery=function(t){this.getQuery(t.queryId).setObservableQuery(t)},e.prototype.startGraphQLSubscription=function(t){var o=this,i=t.query,n=t.fetchPolicy,r=t.errorPolicy,s=t.variables,l=t.context,a=l===void 0?{}:l;i=this.transform(i).document,s=this.getVariables(i,s);var c=function(h){return o.getObservableFromLink(i,a,h).map(function(p){if(n!=="no-cache"&&(Bu(p,r)&&o.cache.write({query:i,result:p.data,dataId:"ROOT_SUBSCRIPTION",variables:h}),o.broadcastQueries()),la(p))throw new jn({graphQLErrors:p.errors});return p})};if(this.transform(i).hasClientExports){var u=this.localState.addExportedVariables(i,s,a).then(c);return new gt(function(h){var p=null;return u.then(function(g){return p=g.subscribe(h)},h.error),function(){return p&&p.unsubscribe()}})}return c(s)},e.prototype.stopQuery=function(t){this.stopQueryNoBroadcast(t),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(t){this.stopQueryInStoreNoBroadcast(t),this.removeQuery(t)},e.prototype.removeQuery=function(t){this.fetchCancelFns.delete(t),this.queries.has(t)&&(this.getQuery(t).stop(),this.queries.delete(t))},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(t){return t.notify()})},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(t,o,i,n){var r=this,s;n===void 0&&(n=(s=o==null?void 0:o.queryDeduplication)!==null&&s!==void 0?s:this.queryDeduplication);var l,a=this.transform(t).serverQuery;if(a){var c=this,u=c.inFlightLinkObservables,h=c.link,p={query:a,variables:i,operationName:bu(a)||void 0,context:this.prepareContext(ye(ye({},o),{forceFetch:!n}))};if(o=p.context,n){var g=u.get(a)||new Map;u.set(a,g);var y=Xn(i);if(l=g.get(y),!l){var N=new Pr([xu(h,p)]);g.set(y,l=N),N.beforeNext(function(){g.delete(y)&&g.size<1&&u.delete(a)})}}else l=new Pr([xu(h,p)])}else l=new Pr([gt.of({data:{}})]),o=this.prepareContext(o);var I=this.transform(t).clientQuery;return I&&(l=Sl(l,function(A){return r.localState.runResolvers({document:I,remoteResult:A,context:o,variables:i})})),l},e.prototype.getResultsFromLink=function(t,o,i){var n=t.lastRequestId=this.generateRequestId(),r=this.cache.transformForLink(this.transform(t.document).document);return Sl(this.getObservableFromLink(r,i.context,i.variables),function(s){var l=Nu(s),a=l.length>0;if(n>=t.lastRequestId){if(a&&i.errorPolicy==="none")throw t.markError(new jn({graphQLErrors:l}));t.markResult(s,r,i,o),t.markReady()}var c={data:s.data,loading:!1,networkStatus:mt.ready};return a&&i.errorPolicy!=="ignore"&&(c.errors=l,c.networkStatus=mt.error),c},function(s){var l=kT(s)?s:new jn({networkError:s});throw n>=t.lastRequestId&&t.markError(l),l})},e.prototype.fetchQueryObservable=function(t,o,i){var n=this;i===void 0&&(i=mt.loading);var r=this.transform(o.query).document,s=this.getVariables(r,o.variables),l=this.getQuery(t),a=this.defaultOptions.watchQuery,c=o.fetchPolicy,u=c===void 0?a&&a.fetchPolicy||"cache-first":c,h=o.errorPolicy,p=h===void 0?a&&a.errorPolicy||"none":h,g=o.returnPartialData,y=g===void 0?!1:g,N=o.notifyOnNetworkStatusChange,I=N===void 0?!1:N,A=o.context,S=A===void 0?{}:A,b=Object.assign({},o,{query:r,variables:s,fetchPolicy:u,errorPolicy:p,returnPartialData:y,notifyOnNetworkStatusChange:I,context:S}),w=function(F){b.variables=F;var j=n.fetchQueryByPolicy(l,b,i);return b.fetchPolicy!=="standby"&&j.length>0&&l.observableQuery&&l.observableQuery.applyNextFetchPolicy("after-fetch",o),j},T=function(){return n.fetchCancelFns.delete(t)};this.fetchCancelFns.set(t,function(F){T(),setTimeout(function(){return k.cancel(F)})});var k=new Pr(this.transform(b.query).hasClientExports?this.localState.addExportedVariables(b.query,b.variables,b.context).then(w):w(b.variables));return k.promise.then(T,T),k},e.prototype.refetchQueries=function(t){var o=this,i=t.updateCache,n=t.include,r=t.optimistic,s=r===void 0?!1:r,l=t.removeOptimistic,a=l===void 0?s?Cu("refetchQueries"):void 0:l,c=t.onQueryUpdated,u=new Map;n&&this.getObservableQueries(n).forEach(function(p,g){u.set(g,{oq:p,lastDiff:o.getQuery(g).getDiff()})});var h=new Map;return i&&this.cache.batch({update:i,optimistic:s&&a||!1,removeOptimistic:a,onWatchUpdated:function(p,g,y){var N=p.watcher instanceof kl&&p.watcher.observableQuery;if(N){if(c){u.delete(N.queryId);var I=c(N,g,y);return I===!0&&(I=N.refetch()),I!==!1&&h.set(N,I),I}c!==null&&u.set(N.queryId,{oq:N,lastDiff:y,diff:g})}}}),u.size&&u.forEach(function(p,g){var y=p.oq,N=p.lastDiff,I=p.diff,A;if(c){if(!I){var S=y.queryInfo;S.reset(),I=S.getDiff()}A=c(y,I,N)}(!c||A===!0)&&(A=y.refetch()),A!==!1&&h.set(y,A),g.indexOf("legacyOneTimeQuery")>=0&&o.stopQueryNoBroadcast(g)}),a&&this.cache.removeOptimistic(a),h},e.prototype.fetchQueryByPolicy=function(t,o,i){var n=this,r=o.query,s=o.variables,l=o.fetchPolicy,a=o.refetchWritePolicy,c=o.errorPolicy,u=o.returnPartialData,h=o.context,p=o.notifyOnNetworkStatusChange,g=t.networkStatus;t.init({document:this.transform(r).document,variables:s,networkStatus:i});var y=function(){return t.getDiff(s)},N=function(w,T){T===void 0&&(T=t.networkStatus||mt.loading);var k=w.result;__DEV__&&!u&&!Ot(k,{})&&Jy(w.missing);var F=function(j){return gt.of(ye({data:j,loading:es(T),networkStatus:T},w.complete?null:{partial:!0}))};return k&&n.transform(r).hasForcedResolvers?n.localState.runResolvers({document:r,remoteResult:{data:k},context:h,variables:s,onlyRunForcedResolvers:!0}).then(function(j){return F(j.data||void 0)}):c==="none"&&T===mt.refetch&&Array.isArray(w.missing)?F(void 0):F(k)},I=l==="no-cache"?0:i===mt.refetch&&a!=="merge"?1:2,A=function(){return n.getResultsFromLink(t,I,{variables:s,context:h,fetchPolicy:l,errorPolicy:c})},S=p&&typeof g=="number"&&g!==i&&es(i);switch(l){default:case"cache-first":{var b=y();return b.complete?[N(b,t.markReady())]:u||S?[N(b),A()]:[A()]}case"cache-and-network":{var b=y();return b.complete||u||S?[N(b),A()]:[A()]}case"cache-only":return[N(y(),t.markReady())];case"network-only":return S?[N(y()),A()]:[A()];case"no-cache":return S?[N(t.getDiff()),A()]:[A()];case"standby":return[]}},e.prototype.getQuery=function(t){return t&&!this.queries.has(t)&&this.queries.set(t,new kl(this,t)),this.queries.get(t)},e.prototype.prepareContext=function(t){t===void 0&&(t={});var o=this.localState.prepareContext(t);return ye(ye({},o),{clientAwareness:this.clientAwareness})},e}(),Hm=!1,$T=function(){function e(t){var o=this;this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var i=t.uri,n=t.credentials,r=t.headers,s=t.cache,l=t.ssrMode,a=l===void 0?!1:l,c=t.ssrForceFetchDelay,u=c===void 0?0:c,h=t.connectToDevTools,p=h===void 0?typeof window=="object"&&!window.__APOLLO_CLIENT__&&__DEV__:h,g=t.queryDeduplication,y=g===void 0?!0:g,N=t.defaultOptions,I=t.assumeImmutableResults,A=I===void 0?!1:I,S=t.resolvers,b=t.typeDefs,w=t.fragmentMatcher,T=t.name,k=t.version,F=t.link;if(F||(F=i?new Hx({uri:i,credentials:n,headers:r}):Po.empty()),!s)throw __DEV__?new dt(`To initialize Apollo Client, you must specify a 'cache' property in the options object. 
For more information, please visit: https://go.apollo.dev/c/docs`):new dt(9);if(this.link=F,this.cache=s,this.disableNetworkFetches=a||u>0,this.queryDeduplication=y,this.defaultOptions=N||Object.create(null),this.typeDefs=b,u&&setTimeout(function(){return o.disableNetworkFetches=!1},u),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),p&&typeof window=="object"&&(window.__APOLLO_CLIENT__=this),!Hm&&p&&__DEV__&&(Hm=!0,typeof window<"u"&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var j=window.navigator,D=j&&j.userAgent,P=void 0;typeof D=="string"&&(D.indexOf("Chrome/")>-1?P="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":D.indexOf("Firefox/")>-1&&(P="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),P&&__DEV__&&Le.log("Download the Apollo DevTools for a better development experience: "+P)}this.version=yx,this.localState=new Yy({cache:s,client:this,resolvers:S,fragmentMatcher:w}),this.queryManager=new BT({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,queryDeduplication:y,ssrMode:a,clientAwareness:{name:T,version:k},localState:this.localState,assumeImmutableResults:A,onBroadcast:p?function(){o.devToolsHookCb&&o.devToolsHookCb({action:{},state:{queries:o.queryManager.getQueryStore(),mutations:o.queryManager.mutationStore||{}},dataWithOptimisticResults:o.cache.extract(!0)})}:void 0})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(t){return this.defaultOptions.watchQuery&&(t=Nl(this.defaultOptions.watchQuery,t)),this.disableNetworkFetches&&(t.fetchPolicy==="network-only"||t.fetchPolicy==="cache-and-network")&&(t=ye(ye({},t),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(t)},e.prototype.query=function(t){return this.defaultOptions.query&&(t=Nl(this.defaultOptions.query,t)),__DEV__?Le(t.fetchPolicy!=="cache-and-network","The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):Le(t.fetchPolicy!=="cache-and-network",10),this.disableNetworkFetches&&t.fetchPolicy==="network-only"&&(t=ye(ye({},t),{fetchPolicy:"cache-first"})),this.queryManager.query(t)},e.prototype.mutate=function(t){return this.defaultOptions.mutate&&(t=Nl(this.defaultOptions.mutate,t)),this.queryManager.mutate(t)},e.prototype.subscribe=function(t){return this.queryManager.startGraphQLSubscription(t)},e.prototype.readQuery=function(t,o){return o===void 0&&(o=!1),this.cache.readQuery(t,o)},e.prototype.readFragment=function(t,o){return o===void 0&&(o=!1),this.cache.readFragment(t,o)},e.prototype.writeQuery=function(t){var o=this.cache.writeQuery(t);return t.broadcast!==!1&&this.queryManager.broadcastQueries(),o},e.prototype.writeFragment=function(t){var o=this.cache.writeFragment(t);return t.broadcast!==!1&&this.queryManager.broadcastQueries(),o},e.prototype.__actionHookForDevTools=function(t){this.devToolsHookCb=t},e.prototype.__requestRaw=function(t){return xu(this.link,t)},e.prototype.resetStore=function(){var t=this;return Promise.resolve().then(function(){return t.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(t.resetStoreCallbacks.map(function(o){return o()}))}).then(function(){return t.reFetchObservableQueries()})},e.prototype.clearStore=function(){var t=this;return Promise.resolve().then(function(){return t.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(t.clearStoreCallbacks.map(function(o){return o()}))})},e.prototype.onResetStore=function(t){var o=this;return this.resetStoreCallbacks.push(t),function(){o.resetStoreCallbacks=o.resetStoreCallbacks.filter(function(i){return i!==t})}},e.prototype.onClearStore=function(t){var o=this;return this.clearStoreCallbacks.push(t),function(){o.clearStoreCallbacks=o.clearStoreCallbacks.filter(function(i){return i!==t})}},e.prototype.reFetchObservableQueries=function(t){return this.queryManager.reFetchObservableQueries(t)},e.prototype.refetchQueries=function(t){var o=this.queryManager.refetchQueries(t),i=[],n=[];o.forEach(function(s,l){i.push(l),n.push(s)});var r=Promise.all(n);return r.queries=i,r.results=n,r.catch(function(s){__DEV__&&Le.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(s))}),r},e.prototype.getObservableQueries=function(t){return t===void 0&&(t="active"),this.queryManager.getObservableQueries(t)},e.prototype.extract=function(t){return this.cache.extract(t)},e.prototype.restore=function(t){return this.cache.restore(t)},e.prototype.addResolvers=function(t){this.localState.addResolvers(t)},e.prototype.setResolvers=function(t){this.localState.setResolvers(t)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(t){this.localState.setFragmentMatcher(t)},e.prototype.setLink=function(t){this.link=this.queryManager.link=t},e}();const $u=Fe`
  query {
    acciones @client {
      mensaje
      tipo
      timestamp
    }
  }
`;let Jo=window.location.host;Jo.includes("localhost")&&(Jo="localhost:3000");Jo.includes("5173")&&(Jo=Jo.replace("5173","3000"));console.log(`Host location: ${Jo}`);let Xy="http://",Zy="ws://";Jo.includes("heroku")&&(console.log("Protocolo https"),Xy="https://",Zy="wss://");let eb=Xy+Jo,UT=Zy+Jo;var qT=new Intl.NumberFormat("en-US",{style:"currency",currency:"COP"});const ts=Pe`
  query auth_usuario_local{
    auth_usuario @client{
      id
      username
      permisos
      subscripcionIlimitada
      millisFinSubscripcion
      token
    }
  }
`,jT={apollo:{usuario:{query:ts,fetchPolicy:"cache-only",update({auth_usuario:e}){return e}},estadoRed:{query:Pe`
            query{
                estadoRed @client
            }
        `}},data(){return{widthScreen:100,serverUrl:eb,usuario:null}},computed:{usuarioLogeado(){return this.usuario!=null&&this.usuario.id},usuarioSuperadministrador:function(){var e,t;return(t=(e=this.usuario)==null?void 0:e.permisos)==null?void 0:t.includes("superadministrador")},produccion(){return!0},usuarioProfe:function(){var e;return(e=this.usuario)!=null&&e.permisos?this.usuario.permisos.includes("maestraVida-profesor"):!1},usuarioEscuelaMaestraVida(){var e,t,o;return((e=this.usuario)==null?void 0:e.permisos.includes("maestraVida-profesor"))||((t=this.usuario)==null?void 0:t.permisos.includes("maestraVida-estudiante"))||((o=this.usuario)==null?void 0:o.permisos.includes("maestraVida-acompañante"))},deviceMobile(){}},methods:{raiseAccion(e,t){const o=this.$apollo.provider.defaultClient,i=o.readQuery({query:$u});let n=JSON.parse(JSON.stringify(i));n||(n={}),n.acciones||(n.acciones=[]),n.acciones.push({mensaje:e,tipo:t||"accion",timestamp:Date.now()}),o.writeQuery({query:$u,data:n})},selectTargetFocus(e){e.target&&e.target.select()},toReadableTime(e){var t=new Date(e),o=""+t.getHours();o.length===1&&(o="0"+o);var i=""+t.getMinutes();return i.length===1&&(i="0"+i),o+":"+i},toReadableDate(e){var t=new Date(e),o=t.getFullYear();const i=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],n=["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"];var r=i[t.getMonth()],s=t.getDate(),l=n[t.getDay()],a=l+" "+s+" de "+r;return o!=new Date(Date.now()).getFullYear()&&(a="("+o+") "+a),a},toReadableFullDate(e){return this.toReadableDate(e)+" - "+this.toReadableTime(e)},enrichedToReadableDate(e){var t=new Date(e),o=t.getFullYear(),i=t.getMonth(),n=t.getDate(),r=new Date,s=new Date(r.getTime()+864e5),l=new Date(r.getTime()-864e5);return o===r.getFullYear()&&i===r.getMonth()&&n===r.getDate()?"Hoy":o===s.getFullYear()&&i===s.getMonth()&&n===s.getDate()?"Mañana":o===l.getFullYear()&&i===l.getMonth()&&n===l.getDate()?"Ayer":this.toReadableDate(e)},enrichedToReadableFullDate(e){return this.enrichedToReadableDate(e)+" - "+this.toReadableTime(e)},toReadableMoney(e){var t=qT.format(e);return t}},mounted(){this.widthScreen=screen.width}};var Wo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uu(e,t,o){var i,n,r,s,l;t==null&&(t=100);function a(){var u=Date.now()-s;u<t&&u>=0?i=setTimeout(a,t-u):(i=null,o||(l=e.apply(r,n),r=n=null))}var c=function(){r=this,n=arguments,s=Date.now();var u=o&&!i;return i||(i=setTimeout(a,t)),u&&(l=e.apply(r,n),r=n=null),l};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(l=e.apply(r,n),r=n=null,clearTimeout(i),i=null)},c}Uu.debounce=Uu;var ls=Uu;const $t="/caracol/assets/equis-115f5fad.svg",Ge=(e,t)=>{const o=e.__vccOpts||e;for(const[i,n]of t)o[i]=n;return o},VT={name:"accion",props:{estaAccion:{type:Object,required:!0}}},HT={id:"barraPrincipal"},zT={id:"icono"},GT={key:0,src:$t,alt:"Error"},WT={id:"mensaje"};function QT(e,t,o,i,n,r){return Y(),re("div",{class:we(["accion",[o.estaAccion.tipo]])},[v("div",HT,[v("div",zT,[o.estaAccion.tipo==="error"?(Y(),re("img",GT)):Ee("",!0)]),v("div",WT,Ae(o.estaAccion.mensaje),1)])],2)}const KT=Ge(VT,[["render",QT],["__scopeId","data-v-2fc49aa6"]]),JT={name:"GestorAcciones",components:{Accion:KT},apollo:{acciones:{query:$u}},data(){return{mostrandoListaAcciones:!1,poppingLastAccion:!1}},computed:{lastAccion(){return!this.acciones||this.acciones.length<1?null:this.acciones[this.acciones.length-1]}},methods:{unpop:ls(function(){this.poppingLastAccion=!1},2600)},watch:{lastAccion(e){e&&Date.now()-e.timestamp>1e4||(this.poppingLastAccion=!0,this.unpop())}}},YT={class:"gestorAcciones"},XT={key:0,id:"lastAccion",class:"anuncio"},ZT={key:0,class:"listaAcciones"};function eI(e,t,o,i,n,r){const s=Oe("accion");return Y(),re("div",YT,[Te(Wi,{name:"fade"},{default:wt(()=>[r.lastAccion?Q((Y(),re("div",XT,[Te(s,{estaAccion:r.lastAccion},null,8,["estaAccion"])],512)),[[Z,!n.mostrandoListaAcciones&&n.poppingLastAccion]]):Ee("",!0)]),_:1}),n.mostrandoListaAcciones?(Y(),re("div",ZT,[(Y(!0),re(He,null,Ze(e.acciones,(l,a)=>(Y(),Qe(s,{key:"accion"+a,estaAccion:l},null,8,["estaAccion"]))),128))])):Ee("",!0)])}const tI=Ge(JT,[["render",eI],["__scopeId","data-v-c84200e7"]]),tb="/caracol/assets/stream-ec9379f8.svg",oI="/caracol/assets/home-959f5783.svg",nI="/caracol/assets/compassRegular-35a3bb0d.svg",ob="/caracol/assets/users-51870354.svg",iI="/caracol/assets/calendarWeek-c4109c41.svg",nb="/caracol/assets/routeSolid-5d88aed0.svg",rI="/caracol/assets/userPlus-5dbbfe78.svg",us="/caracol/assets/user-7388aad2.svg",sI="/caracol/assets/userLock-66f42e7a.svg",ib="/caracol/assets/idBadge-e2f47328.svg",aI="/caracol/assets/xMark-a3920273.svg",cI=Pe`
  query {
    estadoRed
  }
`,lI=Pe`
  query {
    yo {
      id
      nombres
      apellidos
      permisos
        finSubscripcion
    }
  }
`,uI=Pe`
query{
    refreshToken
}
`;function zm(e){var t=e.split(".")[1],o=t.replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(atob(o).split("").map(function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(i)}const dI={name:"App",apollo:{yo:{query:lI,fetchPolicy:"cache-and-network",skip(){var e;return!((e=this.usuario)!=null&&e.id)}},token:{query:uI,update({refreshToken:e}){let t=zm(e);const o=this.$apollo.provider.defaultClient;let i={id:t.id,username:t.username,permisos:t.permisos,subscripcionIlimitada:t.subscripcionIlimitada,millisFinSubscripcion:t.millisFinSubscripcion,token:e};return o.writeQuery({query:ts,data:{auth_usuario:i}}),e},skip(){return!this.usuarioLogeado},fetchPolicy:"network-only",pollInterval:6e5*10}},components:{GestorAcciones:tI},data(){return{token:null,mostrandoInfoFinSubscripcion:!1,mostrandoNavUsuario:!1,accionesLogeado:!1,yo:{atlas:{colecciones:[],datosNodo:[]}},mostrandoNav:!1,navSeleccionado:"home",errores:[]}},computed:{subscripcionActiva(){var e;return(e=this.usuario)!=null&&e.permisos?this.usuario.permisos.some(t=>t.substring(0,11)==="maestraVida")||this.usuario.permisos.includes("subscripcion-ilimitada")?!0:this.yo.finSubscripcion?Date.now()<new Date(this.yo.finSubscripcion).getTime():!1:!1},estiloBackground(){let e="",t="rgba(235, 85, 21, 0.75) 73.16%";return{background:"linear-gradient( 190.19deg, "+e+" 7.52%, "+t+" 73.16%)"}},tallerCuentosUrl(){return"https://192.168.1.100:3000"},username:function(){return this.usuario.username},colorBlancoAccionLogeado:function(){return this.accionesLogeado?{backgroundColor:"white"}:{}}},methods:{alienarPersona(e){this.$router.push("/home"),this.logearUsuario(e)},cerrarMenus(){this.mostrandoNav=!1,this.mostrandoNavUsuario=!1},setEstadoRed(){this.$apollo.provider.defaultClient.writeQuery({query:cI,data:{estadoRed:navigator.onLine}})},logearUsuario(e){let t=zm(e);const o=this.$apollo.provider.defaultClient;let i={id:t.id,username:t.username,permisos:t.permisos,subscripcionIlimitada:t.subscripcionIlimitada,millisFinSubscripcion:t.millisFinSubscripcion,token:e};o.writeQuery({query:ts,data:{auth_usuario:i}}),this.$router.push({name:"perfilPersonal"}),this.setEstadoRed()},async deslogearse(){this.$router.push({name:"logoutScreen"})}},watch:{mostrandoNav(e){e&&(this.mostrandoNavUsuario=!1)},mostrandoNavUsuario(e){e&&(this.mostrandoNav=!1)},$route(e){e.name!="visorNodoConocimiento"&&(document.title="La estrategia del caracol")}},mounted(){var e;(e=this.yo)!=null&&e.finSubscripcion&&this.yo.finSubscripcion.getTime()<Date.now()&&(this.mostrandoInfoFinSubscripcion=!0)},created(){this.setEstadoRed(),window.addEventListener("online",this.setEstadoRed),window.addEventListener("offline",this.setEstadoRed)},destroyed(){window.removeEventListener("online",this.setEstadoRed),window.removeEventListener("offline",this.setEstadoRed)}},ko=e=>(it("data-v-0fe86fa3"),e=e(),rt(),e),hI={id:"navBar"},fI=ko(()=>v("img",{id:"botonDesplegarNav",src:tb,alt:"Menu"},null,-1)),pI=[fI],mI=ko(()=>v("img",{src:oI,alt:"Compás"},null,-1)),gI=ko(()=>v("img",{src:nI,alt:"Compás"},null,-1)),vI=ko(()=>v("img",{src:ob,alt:"Usuarios"},null,-1)),yI={key:1,class:"bloqueNav"},bI=ko(()=>v("div",{class:"tituloBloqueNav"},"Escuela",-1)),wI={class:"desplegableBloqueNav"},EI=ko(()=>v("img",{src:iI,alt:"Calendario"},null,-1)),_I=ko(()=>v("img",{src:nb,alt:"Calendario"},null,-1)),SI={key:2,class:"bloqueNav"},NI=ko(()=>v("div",{class:"tituloBloqueNav"},"Administración",-1)),CI={class:"desplegableBloqueNav"},AI=ko(()=>v("img",{src:rI,alt:"Crear usuario"},null,-1)),xI={key:0,src:us,alt:"Usuario"},TI={key:1,src:sI,alt:"Locked user"},II=ko(()=>v("img",{src:ib,alt:"Identificación"},null,-1)),DI=ko(()=>v("img",{src:aI,alt:"Identificación"},null,-1));function PI(e,t,o,i,n,r){const s=Oe("router-link"),l=Oe("router-view"),a=Oe("gestor-acciones");return Y(),re("div",{id:"app",onClick:t[5]||(t[5]=(...c)=>r.cerrarMenus&&r.cerrarMenus(...c)),class:we({landing:e.$route.name==="home"||e.$route.name==="loginScreen"})},[v("div",hI,[v("div",{id:"botonMenuNav",class:"boton",onClick:t[0]||(t[0]=Ie(c=>n.mostrandoNav=!n.mostrandoNav,["stop"]))},pI),v("div",{id:"contenedorBotonesNav",class:we(["menuNavDesplegable",{desplegado:n.mostrandoNav}]),onClick:t[1]||(t[1]=Ie((...c)=>r.cerrarMenus&&r.cerrarMenus(...c),["stop"]))},[Te(s,{to:"/",class:"botonNav",id:"navHome"},{default:wt(()=>[mI,Ke(" Inicio ")]),_:1}),Te(s,{to:{name:"atlas",params:{tipoBrowse:"mapa",idBrowsed:"123"}},class:"botonNav",id:"navAtlas"},{default:wt(()=>[gI,Ke(" Atlas de conocimientos ")]),_:1}),e.usuarioLogeado?(Y(),Qe(s,{key:0,to:"/personas",class:"botonNav",id:"navActividadesVirtuales"},{default:wt(()=>[vI,Ke(" Personas ")]),_:1})):Ee("",!0),e.usuarioLogeado&&e.usuarioEscuelaMaestraVida?(Y(),re("div",yI,[bI,v("div",wI,[Te(s,{to:"/espacios",class:"botonNav",id:"navActividadesVirtuales"},{default:wt(()=>[EI,Ke(" Horario semanal ")]),_:1}),n.yo&&n.yo.id?(Y(),Qe(s,{key:0,to:"/rutaGrado/"+n.yo.id,class:"botonNav",id:"navRutaGrado"},{default:wt(()=>[_I,Ke(" Mi ruta de grado ")]),_:1},8,["to"])):Ee("",!0)])])):Ee("",!0),e.usuarioSuperadministrador?(Y(),re("div",SI,[NI,v("div",CI,[e.usuarioSuperadministrador?(Y(),Qe(s,{key:0,to:"/registro",id:"navRegistro",class:"botonNav"},{default:wt(()=>[AI,Ke(" Registrar usuario ")]),_:1})):Ee("",!0)])])):Ee("",!0)],2),e.usuarioLogeado?(Y(),re("div",{key:0,id:"botonMenuNavUsuario",onClick:t[2]||(t[2]=Ie(c=>n.mostrandoNavUsuario=!n.mostrandoNavUsuario,["stop"]))},[v("span",null,Ae(n.yo.nombres),1),r.subscripcionActiva?(Y(),re("img",xI)):Ee("",!0),r.subscripcionActiva?Ee("",!0):(Y(),re("img",TI))])):Ee("",!0),e.usuarioLogeado?(Y(),re("div",{key:1,id:"contenedorBotonesUsuario",class:we(["menuNavDesplegable",{desplegado:n.mostrandoNavUsuario}]),onClick:t[4]||(t[4]=Ie((...c)=>r.cerrarMenus&&r.cerrarMenus(...c),["stop"]))},[Te(s,{to:{name:"perfilPersonal"},class:"botonNav"},{default:wt(()=>[II,Ke(" Perfil personal ")]),_:1}),v("div",{class:"botonNav",onClick:t[3]||(t[3]=(...c)=>r.deslogearse&&r.deslogearse(...c))},[DI,Ke(" Salir ")])],2)):Ee("",!0)]),Te(l,{onLogearse:r.logearUsuario,onAlienandoPersona:r.alienarPersona,id:"visorRouter",yo:n.yo},null,8,["onLogearse","onAlienandoPersona","yo"]),Te(a)],2)}const kI=Ge(dI,[["render",PI],["__scopeId","data-v-0fe86fa3"]]);/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const _i=typeof window<"u";function OI(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ft=Object.assign;function Ol(e,t){const o={};for(const i in t){const n=t[i];o[i]=Do(n)?n.map(e):e(n)}return o}const $r=()=>{},Do=Array.isArray,RI=/\/$/,LI=e=>e.replace(RI,"");function Rl(e,t,o="/"){let i,n={},r="",s="";const l=t.indexOf("#");let a=t.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(i=t.slice(0,a),r=t.slice(a+1,l>-1?l:t.length),n=e(r)),l>-1&&(i=i||t.slice(0,l),s=t.slice(l,t.length)),i=$I(i??t,o),{fullPath:i+(r&&"?")+r+s,path:i,query:n,hash:s}}function MI(e,t){const o=t.query?e(t.query):"";return t.path+(o&&"?")+o+(t.hash||"")}function Gm(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function FI(e,t,o){const i=t.matched.length-1,n=o.matched.length-1;return i>-1&&i===n&&qi(t.matched[i],o.matched[n])&&rb(t.params,o.params)&&e(t.query)===e(o.query)&&t.hash===o.hash}function qi(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function rb(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const o in e)if(!BI(e[o],t[o]))return!1;return!0}function BI(e,t){return Do(e)?Wm(e,t):Do(t)?Wm(t,e):e===t}function Wm(e,t){return Do(t)?e.length===t.length&&e.every((o,i)=>o===t[i]):e.length===1&&e[0]===t}function $I(e,t){if(e.startsWith("/"))return e;if(!e)return t;const o=t.split("/"),i=e.split("/");let n=o.length-1,r,s;for(r=0;r<i.length;r++)if(s=i[r],s!==".")if(s==="..")n>1&&n--;else break;return o.slice(0,n).join("/")+"/"+i.slice(r-(r===i.length?1:0)).join("/")}var os;(function(e){e.pop="pop",e.push="push"})(os||(os={}));var Ur;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ur||(Ur={}));function UI(e){if(!e)if(_i){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),LI(e)}const qI=/^[^#]+#/;function jI(e,t){return e.replace(qI,"#")+t}function VI(e,t){const o=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-o.left-(t.left||0),top:i.top-o.top-(t.top||0)}}const ec=()=>({left:window.pageXOffset,top:window.pageYOffset});function HI(e){let t;if("el"in e){const o=e.el,i=typeof o=="string"&&o.startsWith("#"),n=typeof o=="string"?i?document.getElementById(o.slice(1)):document.querySelector(o):o;if(!n)return;t=VI(n,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Qm(e,t){return(history.state?history.state.position-t:-1)+e}const qu=new Map;function zI(e,t){qu.set(e,t)}function GI(e){const t=qu.get(e);return qu.delete(e),t}let WI=()=>location.protocol+"//"+location.host;function sb(e,t){const{pathname:o,search:i,hash:n}=t,r=e.indexOf("#");if(r>-1){let l=n.includes(e.slice(r))?e.slice(r).length:1,a=n.slice(l);return a[0]!=="/"&&(a="/"+a),Gm(a,"")}return Gm(o,e)+i+n}function QI(e,t,o,i){let n=[],r=[],s=null;const l=({state:p})=>{const g=sb(e,location),y=o.value,N=t.value;let I=0;if(p){if(o.value=g,t.value=p,s&&s===y){s=null;return}I=N?p.position-N.position:0}else i(g);n.forEach(A=>{A(o.value,y,{delta:I,type:os.pop,direction:I?I>0?Ur.forward:Ur.back:Ur.unknown})})};function a(){s=o.value}function c(p){n.push(p);const g=()=>{const y=n.indexOf(p);y>-1&&n.splice(y,1)};return r.push(g),g}function u(){const{history:p}=window;p.state&&p.replaceState(ft({},p.state,{scroll:ec()}),"")}function h(){for(const p of r)p();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u),{pauseListeners:a,listen:c,destroy:h}}function Km(e,t,o,i=!1,n=!1){return{back:e,current:t,forward:o,replaced:i,position:window.history.length,scroll:n?ec():null}}function KI(e){const{history:t,location:o}=window,i={value:sb(e,o)},n={value:t.state};n.value||r(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(a,c,u){const h=e.indexOf("#"),p=h>-1?(o.host&&document.querySelector("base")?e:e.slice(h))+a:WI()+e+a;try{t[u?"replaceState":"pushState"](c,"",p),n.value=c}catch(g){console.error(g),o[u?"replace":"assign"](p)}}function s(a,c){const u=ft({},t.state,Km(n.value.back,a,n.value.forward,!0),c,{position:n.value.position});r(a,u,!0),i.value=a}function l(a,c){const u=ft({},n.value,t.state,{forward:a,scroll:ec()});r(u.current,u,!0);const h=ft({},Km(i.value,a,null),{position:u.position+1},c);r(a,h,!1),i.value=a}return{location:i,state:n,push:l,replace:s}}function JI(e){e=UI(e);const t=KI(e),o=QI(e,t.state,t.location,t.replace);function i(r,s=!0){s||o.pauseListeners(),history.go(r)}const n=ft({location:"",base:e,go:i,createHref:jI.bind(null,e)},t,o);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>t.state.value}),n}function YI(e){return typeof e=="string"||e&&typeof e=="object"}function ab(e){return typeof e=="string"||typeof e=="symbol"}const fn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},cb=Symbol("");var Jm;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Jm||(Jm={}));function ji(e,t){return ft(new Error,{type:e,[cb]:!0},t)}function Vo(e,t){return e instanceof Error&&cb in e&&(t==null||!!(e.type&t))}const Ym="[^/]+?",XI={sensitive:!1,strict:!1,start:!0,end:!0},ZI=/[.+*?^${}()[\]/\\]/g;function e2(e,t){const o=ft({},XI,t),i=[];let n=o.start?"^":"";const r=[];for(const c of e){const u=c.length?[]:[90];o.strict&&!c.length&&(n+="/");for(let h=0;h<c.length;h++){const p=c[h];let g=40+(o.sensitive?.25:0);if(p.type===0)h||(n+="/"),n+=p.value.replace(ZI,"\\$&"),g+=40;else if(p.type===1){const{value:y,repeatable:N,optional:I,regexp:A}=p;r.push({name:y,repeatable:N,optional:I});const S=A||Ym;if(S!==Ym){g+=10;try{new RegExp(`(${S})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${y}" (${S}): `+w.message)}}let b=N?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;h||(b=I&&c.length<2?`(?:/${b})`:"/"+b),I&&(b+="?"),n+=b,g+=20,I&&(g+=-8),N&&(g+=-20),S===".*"&&(g+=-50)}u.push(g)}i.push(u)}if(o.strict&&o.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}o.strict||(n+="/?"),o.end?n+="$":o.strict&&(n+="(?:/|$)");const s=new RegExp(n,o.sensitive?"":"i");function l(c){const u=c.match(s),h={};if(!u)return null;for(let p=1;p<u.length;p++){const g=u[p]||"",y=r[p-1];h[y.name]=g&&y.repeatable?g.split("/"):g}return h}function a(c){let u="",h=!1;for(const p of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const g of p)if(g.type===0)u+=g.value;else if(g.type===1){const{value:y,repeatable:N,optional:I}=g,A=y in c?c[y]:"";if(Do(A)&&!N)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const S=Do(A)?A.join("/"):A;if(!S)if(I)p.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${y}"`);u+=S}}return u||"/"}return{re:s,score:i,keys:r,parse:l,stringify:a}}function t2(e,t){let o=0;for(;o<e.length&&o<t.length;){const i=t[o]-e[o];if(i)return i;o++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function o2(e,t){let o=0;const i=e.score,n=t.score;for(;o<i.length&&o<n.length;){const r=t2(i[o],n[o]);if(r)return r;o++}if(Math.abs(n.length-i.length)===1){if(Xm(i))return 1;if(Xm(n))return-1}return n.length-i.length}function Xm(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const n2={type:0,value:""},i2=/[a-zA-Z0-9_]/;function r2(e){if(!e)return[[]];if(e==="/")return[[n2]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${o})/"${c}": ${g}`)}let o=0,i=o;const n=[];let r;function s(){r&&n.push(r),r=[]}let l=0,a,c="",u="";function h(){c&&(o===0?r.push({type:0,value:c}):o===1||o===2||o===3?(r.length>1&&(a==="*"||a==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):t("Invalid state to consume buffer"),c="")}function p(){c+=a}for(;l<e.length;){if(a=e[l++],a==="\\"&&o!==2){i=o,o=4;continue}switch(o){case 0:a==="/"?(c&&h(),s()):a===":"?(h(),o=1):p();break;case 4:p(),o=i;break;case 1:a==="("?o=2:i2.test(a)?p():(h(),o=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+a:o=3:u+=a;break;case 3:h(),o=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,u="";break;default:t("Unknown state");break}}return o===2&&t(`Unfinished custom RegExp for param "${c}"`),h(),s(),n}function s2(e,t,o){const i=e2(r2(e.path),o),n=ft(i,{record:e,parent:t,children:[],alias:[]});return t&&!n.record.aliasOf==!t.record.aliasOf&&t.children.push(n),n}function a2(e,t){const o=[],i=new Map;t=tg({strict:!1,end:!0,sensitive:!1},t);function n(u){return i.get(u)}function r(u,h,p){const g=!p,y=c2(u);y.aliasOf=p&&p.record;const N=tg(t,u),I=[y];if("alias"in u){const b=typeof u.alias=="string"?[u.alias]:u.alias;for(const w of b)I.push(ft({},y,{components:p?p.record.components:y.components,path:w,aliasOf:p?p.record:y}))}let A,S;for(const b of I){const{path:w}=b;if(h&&w[0]!=="/"){const T=h.record.path,k=T[T.length-1]==="/"?"":"/";b.path=h.record.path+(w&&k+w)}if(A=s2(b,h,N),p?p.alias.push(A):(S=S||A,S!==A&&S.alias.push(A),g&&u.name&&!eg(A)&&s(u.name)),y.children){const T=y.children;for(let k=0;k<T.length;k++)r(T[k],A,p&&p.children[k])}p=p||A,(A.record.components&&Object.keys(A.record.components).length||A.record.name||A.record.redirect)&&a(A)}return S?()=>{s(S)}:$r}function s(u){if(ab(u)){const h=i.get(u);h&&(i.delete(u),o.splice(o.indexOf(h),1),h.children.forEach(s),h.alias.forEach(s))}else{const h=o.indexOf(u);h>-1&&(o.splice(h,1),u.record.name&&i.delete(u.record.name),u.children.forEach(s),u.alias.forEach(s))}}function l(){return o}function a(u){let h=0;for(;h<o.length&&o2(u,o[h])>=0&&(u.record.path!==o[h].record.path||!lb(u,o[h]));)h++;o.splice(h,0,u),u.record.name&&!eg(u)&&i.set(u.record.name,u)}function c(u,h){let p,g={},y,N;if("name"in u&&u.name){if(p=i.get(u.name),!p)throw ji(1,{location:u});N=p.record.name,g=ft(Zm(h.params,p.keys.filter(S=>!S.optional).map(S=>S.name)),u.params&&Zm(u.params,p.keys.map(S=>S.name))),y=p.stringify(g)}else if("path"in u)y=u.path,p=o.find(S=>S.re.test(y)),p&&(g=p.parse(y),N=p.record.name);else{if(p=h.name?i.get(h.name):o.find(S=>S.re.test(h.path)),!p)throw ji(1,{location:u,currentLocation:h});N=p.record.name,g=ft({},h.params,u.params),y=p.stringify(g)}const I=[];let A=p;for(;A;)I.unshift(A.record),A=A.parent;return{name:N,path:y,params:g,matched:I,meta:u2(I)}}return e.forEach(u=>r(u)),{addRoute:r,resolve:c,removeRoute:s,getRoutes:l,getRecordMatcher:n}}function Zm(e,t){const o={};for(const i of t)i in e&&(o[i]=e[i]);return o}function c2(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:l2(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function l2(e){const t={},o=e.props||!1;if("component"in e)t.default=o;else for(const i in e.components)t[i]=typeof o=="boolean"?o:o[i];return t}function eg(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function u2(e){return e.reduce((t,o)=>ft(t,o.meta),{})}function tg(e,t){const o={};for(const i in e)o[i]=i in t?t[i]:e[i];return o}function lb(e,t){return t.children.some(o=>o===e||lb(e,o))}const ub=/#/g,d2=/&/g,h2=/\//g,f2=/=/g,p2=/\?/g,db=/\+/g,m2=/%5B/g,g2=/%5D/g,hb=/%5E/g,v2=/%60/g,fb=/%7B/g,y2=/%7C/g,pb=/%7D/g,b2=/%20/g;function Gd(e){return encodeURI(""+e).replace(y2,"|").replace(m2,"[").replace(g2,"]")}function w2(e){return Gd(e).replace(fb,"{").replace(pb,"}").replace(hb,"^")}function ju(e){return Gd(e).replace(db,"%2B").replace(b2,"+").replace(ub,"%23").replace(d2,"%26").replace(v2,"`").replace(fb,"{").replace(pb,"}").replace(hb,"^")}function E2(e){return ju(e).replace(f2,"%3D")}function _2(e){return Gd(e).replace(ub,"%23").replace(p2,"%3F")}function S2(e){return e==null?"":_2(e).replace(h2,"%2F")}function Ta(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function N2(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let n=0;n<i.length;++n){const r=i[n].replace(db," "),s=r.indexOf("="),l=Ta(s<0?r:r.slice(0,s)),a=s<0?null:Ta(r.slice(s+1));if(l in t){let c=t[l];Do(c)||(c=t[l]=[c]),c.push(a)}else t[l]=a}return t}function og(e){let t="";for(let o in e){const i=e[o];if(o=E2(o),i==null){i!==void 0&&(t+=(t.length?"&":"")+o);continue}(Do(i)?i.map(r=>r&&ju(r)):[i&&ju(i)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+o,r!=null&&(t+="="+r))})}return t}function C2(e){const t={};for(const o in e){const i=e[o];i!==void 0&&(t[o]=Do(i)?i.map(n=>n==null?null:""+n):i==null?i:""+i)}return t}const A2=Symbol(""),ng=Symbol(""),Wd=Symbol(""),mb=Symbol(""),Vu=Symbol("");function _r(){let e=[];function t(i){return e.push(i),()=>{const n=e.indexOf(i);n>-1&&e.splice(n,1)}}function o(){e=[]}return{add:t,list:()=>e,reset:o}}function _n(e,t,o,i,n){const r=i&&(i.enterCallbacks[n]=i.enterCallbacks[n]||[]);return()=>new Promise((s,l)=>{const a=h=>{h===!1?l(ji(4,{from:o,to:t})):h instanceof Error?l(h):YI(h)?l(ji(2,{from:t,to:h})):(r&&i.enterCallbacks[n]===r&&typeof h=="function"&&r.push(h),s())},c=e.call(i&&i.instances[n],t,o,a);let u=Promise.resolve(c);e.length<3&&(u=u.then(a)),u.catch(h=>l(h))})}function Ll(e,t,o,i){const n=[];for(const r of e)for(const s in r.components){let l=r.components[s];if(!(t!=="beforeRouteEnter"&&!r.instances[s]))if(x2(l)){const c=(l.__vccOpts||l)[t];c&&n.push(_n(c,o,i,r,s))}else{let a=l();n.push(()=>a.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${r.path}"`));const u=OI(c)?c.default:c;r.components[s]=u;const p=(u.__vccOpts||u)[t];return p&&_n(p,o,i,r,s)()}))}}return n}function x2(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function ig(e){const t=Ko(Wd),o=Ko(mb),i=vo(()=>t.resolve(Di(e.to))),n=vo(()=>{const{matched:a}=i.value,{length:c}=a,u=a[c-1],h=o.matched;if(!u||!h.length)return-1;const p=h.findIndex(qi.bind(null,u));if(p>-1)return p;const g=rg(a[c-2]);return c>1&&rg(u)===g&&h[h.length-1].path!==g?h.findIndex(qi.bind(null,a[c-2])):p}),r=vo(()=>n.value>-1&&P2(o.params,i.value.params)),s=vo(()=>n.value>-1&&n.value===o.matched.length-1&&rb(o.params,i.value.params));function l(a={}){return D2(a)?t[Di(e.replace)?"replace":"push"](Di(e.to)).catch($r):Promise.resolve()}return{route:i,href:vo(()=>i.value.href),isActive:r,isExactActive:s,navigate:l}}const T2=Ev({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ig,setup(e,{slots:t}){const o=rs(ig(e)),{options:i}=Ko(Wd),n=vo(()=>({[sg(e.activeClass,i.linkActiveClass,"router-link-active")]:o.isActive,[sg(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:o.isExactActive}));return()=>{const r=t.default&&t.default(o);return e.custom?r:Sd("a",{"aria-current":o.isExactActive?e.ariaCurrentValue:null,href:o.href,onClick:o.navigate,class:n.value},r)}}}),I2=T2;function D2(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function P2(e,t){for(const o in t){const i=t[o],n=e[o];if(typeof i=="string"){if(i!==n)return!1}else if(!Do(n)||n.length!==i.length||i.some((r,s)=>r!==n[s]))return!1}return!0}function rg(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const sg=(e,t,o)=>e??t??o,k2=Ev({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:o}){const i=Ko(Vu),n=vo(()=>e.route||i.value),r=Ko(ng,0),s=vo(()=>{let c=Di(r);const{matched:u}=n.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),l=vo(()=>n.value.matched[s.value]);ta(ng,vo(()=>s.value+1)),ta(A2,l),ta(Vu,n);const a=kS();return oa(()=>[a.value,l.value,e.name],([c,u,h],[p,g,y])=>{u&&(u.instances[h]=c,g&&g!==u&&c&&c===p&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),c&&u&&(!g||!qi(u,g)||!p)&&(u.enterCallbacks[h]||[]).forEach(N=>N(c))},{flush:"post"}),()=>{const c=n.value,u=e.name,h=l.value,p=h&&h.components[u];if(!p)return ag(o.default,{Component:p,route:c});const g=h.props[u],y=g?g===!0?c.params:typeof g=="function"?g(c):g:null,I=Sd(p,ft({},y,t,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(h.instances[u]=null)},ref:a}));return ag(o.default,{Component:I,route:c})||I}}});function ag(e,t){if(!e)return null;const o=e(t);return o.length===1?o[0]:o}const gb=k2;function O2(e){const t=a2(e.routes,e),o=e.parseQuery||N2,i=e.stringifyQuery||og,n=e.history,r=_r(),s=_r(),l=_r(),a=OS(fn);let c=fn;_i&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Ol.bind(null,K=>""+K),h=Ol.bind(null,S2),p=Ol.bind(null,Ta);function g(K,V){let W,ee;return ab(K)?(W=t.getRecordMatcher(K),ee=V):ee=K,t.addRoute(ee,W)}function y(K){const V=t.getRecordMatcher(K);V&&t.removeRoute(V)}function N(){return t.getRoutes().map(K=>K.record)}function I(K){return!!t.getRecordMatcher(K)}function A(K,V){if(V=ft({},V||a.value),typeof K=="string"){const m=Rl(o,K,V.path),C=t.resolve({path:m.path},V),M=n.createHref(m.fullPath);return ft(m,C,{params:p(C.params),hash:Ta(m.hash),redirectedFrom:void 0,href:M})}let W;if("path"in K)W=ft({},K,{path:Rl(o,K.path,V.path).path});else{const m=ft({},K.params);for(const C in m)m[C]==null&&delete m[C];W=ft({},K,{params:h(K.params)}),V.params=h(V.params)}const ee=t.resolve(W,V),se=K.hash||"";ee.params=u(p(ee.params));const ae=MI(i,ft({},K,{hash:w2(se),path:ee.path})),$=n.createHref(ae);return ft({fullPath:ae,hash:se,query:i===og?C2(K.query):K.query||{}},ee,{redirectedFrom:void 0,href:$})}function S(K){return typeof K=="string"?Rl(o,K,a.value.path):ft({},K)}function b(K,V){if(c!==K)return ji(8,{from:V,to:K})}function w(K){return F(K)}function T(K){return w(ft(S(K),{replace:!0}))}function k(K){const V=K.matched[K.matched.length-1];if(V&&V.redirect){const{redirect:W}=V;let ee=typeof W=="function"?W(K):W;return typeof ee=="string"&&(ee=ee.includes("?")||ee.includes("#")?ee=S(ee):{path:ee},ee.params={}),ft({query:K.query,hash:K.hash,params:"path"in ee?{}:K.params},ee)}}function F(K,V){const W=c=A(K),ee=a.value,se=K.state,ae=K.force,$=K.replace===!0,m=k(W);if(m)return F(ft(S(m),{state:typeof m=="object"?ft({},se,m.state):se,force:ae,replace:$}),V||W);const C=W;C.redirectedFrom=V;let M;return!ae&&FI(i,ee,W)&&(M=ji(16,{to:C,from:ee}),Se(ee,ee,!0,!1)),(M?Promise.resolve(M):D(C,ee)).catch(J=>Vo(J)?Vo(J,2)?J:me(J):z(J,C,ee)).then(J=>{if(J){if(Vo(J,2))return F(ft({replace:$},S(J.to),{state:typeof J.to=="object"?ft({},se,J.to.state):se,force:ae}),V||C)}else J=B(C,ee,!0,$,se);return P(C,ee,J),J})}function j(K,V){const W=b(K,V);return W?Promise.reject(W):Promise.resolve()}function D(K,V){let W;const[ee,se,ae]=R2(K,V);W=Ll(ee.reverse(),"beforeRouteLeave",K,V);for(const m of ee)m.leaveGuards.forEach(C=>{W.push(_n(C,K,V))});const $=j.bind(null,K,V);return W.push($),bi(W).then(()=>{W=[];for(const m of r.list())W.push(_n(m,K,V));return W.push($),bi(W)}).then(()=>{W=Ll(se,"beforeRouteUpdate",K,V);for(const m of se)m.updateGuards.forEach(C=>{W.push(_n(C,K,V))});return W.push($),bi(W)}).then(()=>{W=[];for(const m of K.matched)if(m.beforeEnter&&!V.matched.includes(m))if(Do(m.beforeEnter))for(const C of m.beforeEnter)W.push(_n(C,K,V));else W.push(_n(m.beforeEnter,K,V));return W.push($),bi(W)}).then(()=>(K.matched.forEach(m=>m.enterCallbacks={}),W=Ll(ae,"beforeRouteEnter",K,V),W.push($),bi(W))).then(()=>{W=[];for(const m of s.list())W.push(_n(m,K,V));return W.push($),bi(W)}).catch(m=>Vo(m,8)?m:Promise.reject(m))}function P(K,V,W){for(const ee of l.list())ee(K,V,W)}function B(K,V,W,ee,se){const ae=b(K,V);if(ae)return ae;const $=V===fn,m=_i?history.state:{};W&&(ee||$?n.replace(K.fullPath,ft({scroll:$&&m&&m.scroll},se)):n.push(K.fullPath,se)),a.value=K,Se(K,V,W,$),me()}let L;function G(){L||(L=n.listen((K,V,W)=>{if(!H.listening)return;const ee=A(K),se=k(ee);if(se){F(ft(se,{replace:!0}),ee).catch($r);return}c=ee;const ae=a.value;_i&&zI(Qm(ae.fullPath,W.delta),ec()),D(ee,ae).catch($=>Vo($,12)?$:Vo($,2)?(F($.to,ee).then(m=>{Vo(m,20)&&!W.delta&&W.type===os.pop&&n.go(-1,!1)}).catch($r),Promise.reject()):(W.delta&&n.go(-W.delta,!1),z($,ee,ae))).then($=>{$=$||B(ee,ae,!1),$&&(W.delta&&!Vo($,8)?n.go(-W.delta,!1):W.type===os.pop&&Vo($,20)&&n.go(-1,!1)),P(ee,ae,$)}).catch($r)}))}let E=_r(),oe=_r(),ie;function z(K,V,W){me(K);const ee=oe.list();return ee.length?ee.forEach(se=>se(K,V,W)):console.error(K),Promise.reject(K)}function be(){return ie&&a.value!==fn?Promise.resolve():new Promise((K,V)=>{E.add([K,V])})}function me(K){return ie||(ie=!K,G(),E.list().forEach(([V,W])=>K?W(K):V()),E.reset()),K}function Se(K,V,W,ee){const{scrollBehavior:se}=e;if(!_i||!se)return Promise.resolve();const ae=!W&&GI(Qm(K.fullPath,0))||(ee||!W)&&history.state&&history.state.scroll||null;return dv().then(()=>se(K,V,ae)).then($=>$&&HI($)).catch($=>z($,K,V))}const x=K=>n.go(K);let U;const te=new Set,H={currentRoute:a,listening:!0,addRoute:g,removeRoute:y,hasRoute:I,getRoutes:N,resolve:A,options:e,push:w,replace:T,go:x,back:()=>x(-1),forward:()=>x(1),beforeEach:r.add,beforeResolve:s.add,afterEach:l.add,onError:oe.add,isReady:be,install(K){const V=this;K.component("RouterLink",I2),K.component("RouterView",gb),K.config.globalProperties.$router=V,Object.defineProperty(K.config.globalProperties,"$route",{enumerable:!0,get:()=>Di(a)}),_i&&!U&&a.value===fn&&(U=!0,w(n.location).catch(se=>{}));const W={};for(const se in fn)W[se]=vo(()=>a.value[se]);K.provide(Wd,V),K.provide(mb,rs(W)),K.provide(Vu,a);const ee=K.unmount;te.add(K),K.unmount=function(){te.delete(K),te.size<1&&(c=fn,L&&L(),L=null,a.value=fn,U=!1,ie=!1),ee()}}};return H}function bi(e){return e.reduce((t,o)=>t.then(()=>o()),Promise.resolve())}function R2(e,t){const o=[],i=[],n=[],r=Math.max(t.matched.length,e.matched.length);for(let s=0;s<r;s++){const l=t.matched[s];l&&(e.matched.find(c=>qi(c,l))?i.push(l):o.push(l));const a=e.matched[s];a&&(t.matched.find(c=>qi(c,a))||n.push(a))}return[o,i,n]}function L2(e,t){var o=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(o!=null){var i,n,r,s,l=[],a=!0,c=!1;try{if(r=(o=o.call(e)).next,t===0){if(Object(o)!==o)return;a=!1}else for(;!(a=(i=r.call(o)).done)&&(l.push(i.value),l.length!==t);a=!0);}catch(u){c=!0,n=u}finally{try{if(!a&&o.return!=null&&(s=o.return(),Object(s)!==s))return}finally{if(c)throw n}}return l}}function cg(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),o.push.apply(o,i)}return o}function wi(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?cg(Object(o),!0).forEach(function(i){Qo(e,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):cg(Object(o)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(o,i))})}return e}function Hu(e){return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(e)}function ds(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lg(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,wb(i.key),i)}}function hs(e,t,o){return t&&lg(e.prototype,t),o&&lg(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qo(e,t,o){return t=wb(t),t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function vb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zu(e,t)}function Ht(e){return Ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},Ht(e)}function zu(e,t){return zu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},zu(e,t)}function M2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Kn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F2(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kn(e)}function yb(e){var t=M2();return function(){var i=Ht(e),n;if(t){var r=Ht(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return F2(this,n)}}function B2(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Ht(e),e!==null););return e}function eo(){return typeof Reflect<"u"&&Reflect.get?eo=Reflect.get.bind():eo=function(t,o,i){var n=B2(t,o);if(n){var r=Object.getOwnPropertyDescriptor(n,o);return r.get?r.get.call(arguments.length<3?t:i):r.value}},eo.apply(this,arguments)}function ug(e,t){return q2(e)||L2(e,t)||bb(e,t)||H2()}function $2(e){return U2(e)||j2(e)||bb(e)||V2()}function U2(e){if(Array.isArray(e))return Gu(e)}function q2(e){if(Array.isArray(e))return e}function j2(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bb(e,t){if(e){if(typeof e=="string")return Gu(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Gu(e,t)}}function Gu(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,i=new Array(t);o<t;o++)i[o]=e[o];return i}function V2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z2(e,t){if(typeof e!="object"||e===null)return e;var o=e[Symbol.toPrimitive];if(o!==void 0){var i=o.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wb(e){var t=z2(e,"string");return typeof t=="symbol"?t:String(t)}function Wu(e,t,o,i){var n,r=!1,s=0;function l(){n&&clearTimeout(n)}function a(){l(),r=!0}typeof t!="boolean"&&(i=o,o=t,t=void 0);function c(){for(var u=arguments.length,h=new Array(u),p=0;p<u;p++)h[p]=arguments[p];var g=this,y=Date.now()-s;if(r)return;function N(){s=Date.now(),o.apply(g,h)}function I(){n=void 0}i&&!n&&N(),l(),i===void 0&&y>e?N():t!==!0&&(n=setTimeout(i?I:N,i===void 0?e-y:e))}return c.cancel=a,c}function G2(e,t,o){return o===void 0?Wu(e,t,!1):Wu(e,o,t!==!1)}var Eb=Object.freeze({__proto__:null,debounce:G2,throttle:Wu});function _b(e){return function(t,o){return e(o,t)}}var dg=_b(Eb.throttle),hg=_b(Eb.debounce),Qu=function(t,o){for(;typeof t=="function";)t=t.call(o);return t},Ku=function(t,o){return Object.entries(t).filter(function(i){var n=ug(i,1),r=n[0];return!o.includes(r)}).reduce(function(i,n){var r=ug(n,2),s=r[0],l=r[1];return i[s]=l,i},{})},fg=function(t){t.graphQLErrors&&t.graphQLErrors.length&&(t.gqlError=t.graphQLErrors[0])},Bo=typeof window>"u",W2={query:"_skipAllQueries",subscription:"_skipAllSubscriptions"},Sb=function(){function e(t,o,i){ds(this,e),Qo(this,"type",null),Qo(this,"vueApolloSpecialKeys",[]),this.vm=t,this.key=o,this.initialOptions=i,this.options=Object.assign({},i),this._skip=!1,this._pollInterval=null,this._watchers=[],this._destroyed=!1,this.lastApolloOptions=null}return hs(e,[{key:"autostart",value:function(){var o=this;typeof this.options.skip=="function"?this._skipWatcher=this.vm.$watch(function(){return o.options.skip.call(o.vm,o.vm,o.key)},this.skipChanged.bind(this),{immediate:!0,deep:this.options.deep}):!this.options.skip&&!this.allSkip?this.start():this._skip=!0,typeof this.options.pollInterval=="function"&&(this._pollWatcher=this.vm.$watch(this.options.pollInterval.bind(this.vm),this.pollIntervalChanged.bind(this),{immediate:!0}))}},{key:"pollIntervalChanged",value:function(o,i){o!==i&&(this.pollInterval=o,o==null?this.stopPolling():this.startPolling(o))}},{key:"skipChanged",value:function(o,i){o!==i&&(this.skip=o)}},{key:"pollInterval",get:function(){return this._pollInterval},set:function(o){this._pollInterval=o}},{key:"skip",get:function(){return this._skip},set:function(o){o||this.allSkip?this.stop():this.start(),this._skip=o}},{key:"allSkip",get:function(){return this.vm.$apollo[W2[this.type]]}},{key:"refresh",value:function(){this._skip||(this.stop(),this.start())}},{key:"start",value:function(){var o=this;this.starting=!0;for(var i=function(){var a=r[n];if(typeof o.initialOptions[a]=="function"){var c=o.initialOptions[a].bind(o.vm);o.options[a]=c();var u=function(p){o._destroyed||(o.options[a]=p,o.refresh())};Bo||(u=o.options.throttle?dg(u,o.options.throttle):u,u=o.options.debounce?hg(u,o.options.debounce):u),o._watchers.push(o.vm.$watch(c,u,{deep:o.options.deep}))}},n=0,r=["query","document","context"];n<r.length;n++)i();if(typeof this.options.variables=="function"){var s=this.executeApollo.bind(this);Bo||(s=this.options.throttle?dg(s,this.options.throttle):s,s=this.options.debounce?hg(s,this.options.debounce):s),this._watchers.push(this.vm.$watch(function(){return typeof o.options.variables=="function"?o.options.variables.call(o.vm):o.options.variables},s,{immediate:!0,deep:this.options.deep}))}else this.executeApollo(this.options.variables)}},{key:"stop",value:function(){for(var o=0,i=this._watchers;o<i.length;o++){var n=i[o];n()}this.sub&&(this.sub.unsubscribe(),this.sub=null)}},{key:"generateApolloOptions",value:function(o){var i=Ku(this.options,this.vueApolloSpecialKeys);return i.variables=o,this.lastApolloOptions=i,i}},{key:"executeApollo",value:function(o){this.starting=!1}},{key:"nextResult",value:function(o){var i=o.error;i&&fg(i)}},{key:"callHandlers",value:function(o){for(var i=!1,n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];for(var l=0;l<o.length;l++){var a=o[l];if(a){i=!0;var c=a.apply(this.vm,r);if(typeof c<"u"&&!c)break}}return i}},{key:"errorHandler",value:function(){for(var o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return this.callHandlers.apply(this,[[this.options.error,this.vm.$apollo.error,this.vm.$apollo.provider.errorHandler]].concat(i))}},{key:"catchError",value:function(o){fg(o);var i=this.errorHandler(o,this.vm,this.key,this.type,this.lastApolloOptions);if(!i)if(o.graphQLErrors&&o.graphQLErrors.length!==0){console.error("GraphQL execution errors for ".concat(this.type," '").concat(this.key,"'"));for(var n=0,r=o.graphQLErrors;n<r.length;n++){var s=r[n];console.error(s)}}else if(o.networkError)console.error("Error sending the ".concat(this.type," '").concat(this.key,"'"),o.networkError);else if(console.error("[vue-apollo] An error has occurred for ".concat(this.type," '").concat(this.key,"'")),Array.isArray(o)){var l;(l=console).error.apply(l,$2(o))}else console.error(o)}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.stop(),this._skipWatcher&&this._skipWatcher())}}]),e}(),Q2=["variables","watch","update","result","error","loadingKey","watchLoading","skip","throttle","debounce","subscribeToMore","prefetch","manual"],K2=function(e){vb(o,e);var t=yb(o);function o(i,n,r){var s,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return ds(this,o),i.$data.$apolloData&&!i.$data.$apolloData.queries[n]&&(i.$data.$apolloData.queries[n]={loading:!1}),s=t.call(this,i,n,r),Qo(Kn(s),"type","query"),Qo(Kn(s),"vueApolloSpecialKeys",Q2),Qo(Kn(s),"_loading",!1),Qo(Kn(s),"_linkedSubscriptions",[]),Bo&&(s.firstRun=new Promise(function(a,c){s._firstRunResolve=a,s._firstRunReject=c})),Bo&&(s.options.fetchPolicy="network-only"),r.manual||(s.hasDataField=Object.prototype.hasOwnProperty.call(s.vm.$data,n),s.hasDataField?Object.defineProperty(s.vm.$data.$apolloData.data,n,{get:function(){return s.vm.$data[n]},enumerable:!0,configurable:!0}):Object.defineProperty(s.vm.$data,n,{get:function(){return s.vm.$data.$apolloData.data[n]},enumerable:!0,configurable:!0})),l&&s.autostart(),s}return hs(o,[{key:"client",get:function(){return this.vm.$apollo.getClient(this.options)}},{key:"loading",get:function(){return this.vm.$data.$apolloData&&this.vm.$data.$apolloData.queries[this.key]?this.vm.$data.$apolloData.queries[this.key].loading:this._loading},set:function(n){this._loading!==n&&(this._loading=n,this.vm.$data.$apolloData&&this.vm.$data.$apolloData.queries[this.key]&&(this.vm.$data.$apolloData.queries[this.key].loading=n,this.vm.$data.$apolloData.loading+=n?1:-1))}},{key:"stop",value:function(){eo(Ht(o.prototype),"stop",this).call(this),this.loadingDone(),this.observer&&(this.observer.stopPolling(),this.observer=null)}},{key:"generateApolloOptions",value:function(n){var r=eo(Ht(o.prototype),"generateApolloOptions",this).call(this,n);return this.vm.$isServer&&delete r.pollInterval,r}},{key:"executeApollo",value:function(n){if(!this._destroyed){var r=JSON.stringify(n);if(this.sub){if(r===this.previousVariablesJson)return;this.sub.unsubscribe();for(var s=0,l=this._linkedSubscriptions;s<l.length;s++){var a=l[s];a.stop()}}if(this.previousVariablesJson=r,this.observer=this.vm.$apollo.watchQuery(this.generateApolloOptions(n)),this.startQuerySubscription(),this.options.fetchPolicy!=="no-cache"||this.options.notifyOnNetworkStatusChange){var c=this.retrieveCurrentResult();(this.options.notifyOnNetworkStatusChange||this.observer.getCurrentResult&&!c.loading)&&this.nextResult(c)}eo(Ht(o.prototype),"executeApollo",this).call(this,n);for(var u=0,h=this._linkedSubscriptions;u<h.length;u++){var p=h[u];p.start()}}}},{key:"startQuerySubscription",value:function(){this.sub&&!this.sub.closed||(this.sub=this.observer.subscribe({next:this.nextResult.bind(this),error:this.catchError.bind(this)}))}},{key:"retrieveCurrentResult",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.observer.getCurrentResult?this.observer.getCurrentResult():this.observer.currentResult();return(n||r.loading)&&(this.loading||this.applyLoadingModifier(1),this.loading=!0),r}},{key:"nextResult",value:function(n){eo(Ht(o.prototype),"nextResult",this).call(this,n);var r=n.data,s=n.loading,l=n.error,a=n.errors,c=a&&a.length;if((l||c)&&this.firstRunReject(l),s||this.loadingDone(),!l&&c){var u=new Error("GraphQL error: ".concat(a.map(function(p){return p.message}).join(" | ")));Object.assign(u,{graphQLErrors:a,networkError:null}),eo(Ht(o.prototype),"catchError",this).call(this,u)}if(!(this.observer.options.errorPolicy==="none"&&(l||c))){var h=typeof this.options.result=="function";r==null||(this.options.manual?h||console.error("".concat(this.key," query must have a 'result' hook in manual mode")):typeof this.options.update=="function"?this.setData(this.options.update.call(this.vm,r)):typeof r[this.key]>"u"&&Object.keys(r).length?console.error("Missing ".concat(this.key," attribute on result"),r):this.setData(r[this.key])),h&&this.options.result.call(this.vm,n,this.key)}}},{key:"setData",value:function(n){var r=this.hasDataField?this.vm.$data:this.vm.$data.$apolloData.data;r[this.key]=n}},{key:"catchError",value:function(n){eo(Ht(o.prototype),"catchError",this).call(this,n),this.firstRunReject(n),this.loadingDone(n),this.nextResult(this.observer.getCurrentResult?this.observer.getCurrentResult():this.observer.currentResult()),this.resubscribeToQuery()}},{key:"resubscribeToQuery",value:function(){var n=this.observer.getLastError(),r=this.observer.getLastResult();this.observer.resetLastResults(),this.startQuerySubscription(),Object.assign(this.observer,{lastError:n,lastResult:r})}},{key:"loadingKey",get:function(){return this.options.loadingKey||this.vm.$apollo.loadingKey}},{key:"watchLoading",value:function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return this.callHandlers.apply(this,[[this.options.watchLoading,this.vm.$apollo.watchLoading,this.vm.$apollo.provider.watchLoading]].concat(r,[this]))}},{key:"applyLoadingModifier",value:function(n){var r=this.loadingKey;r&&typeof this.vm[r]=="number"&&(this.vm[r]+=n),this.watchLoading(n===1,n)}},{key:"loadingDone",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.loading&&this.applyLoadingModifier(-1),this.loading=!1,n||this.firstRunResolve()}},{key:"fetchMore",value:function(){var n=this;if(this.observer){var r;return this.retrieveCurrentResult(!0),(r=this.observer).fetchMore.apply(r,arguments).then(function(s){return s.loading||n.loadingDone(),s})}}},{key:"subscribeToMore",value:function(){if(this.observer){var n;return{unsubscribe:(n=this.observer).subscribeToMore.apply(n,arguments)}}}},{key:"refetch",value:function(n){var r=this;if(n&&(this.options.variables=n),this.observer){var s=this.observer.refetch(n).then(function(l){return l.loading||r.loadingDone(),l});return this.retrieveCurrentResult(),s}}},{key:"setVariables",value:function(n,r){if(this.options.variables=n,this.observer){var s=this.observer.setVariables(n,r);return this.retrieveCurrentResult(),s}}},{key:"setOptions",value:function(n){if(Object.assign(this.options,n),this.observer){var r=this.observer.setOptions(n);return this.retrieveCurrentResult(),r}}},{key:"startPolling",value:function(){if(this.observer){var n;return(n=this.observer).startPolling.apply(n,arguments)}}},{key:"stopPolling",value:function(){if(this.observer){var n;return(n=this.observer).stopPolling.apply(n,arguments)}}},{key:"firstRunResolve",value:function(){this._firstRunResolve&&(this._firstRunResolve(),this._firstRunResolve=null)}},{key:"firstRunReject",value:function(n){this._firstRunReject&&(this._firstRunReject(n),this._firstRunReject=null)}},{key:"destroy",value:function(){eo(Ht(o.prototype),"destroy",this).call(this),this.loading&&this.watchLoading(!1,-1),this.loading=!1}}]),o}(Sb),J2=function(e){vb(o,e);var t=yb(o);function o(i,n,r){var s,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return ds(this,o),s=t.call(this,i,n,r),Qo(Kn(s),"type","subscription"),Qo(Kn(s),"vueApolloSpecialKeys",["variables","result","error","throttle","debounce","linkedQuery"]),l&&s.autostart(),s}return hs(o,[{key:"generateApolloOptions",value:function(n){var r=eo(Ht(o.prototype),"generateApolloOptions",this).call(this,n);return r.onError=this.catchError.bind(this),r}},{key:"executeApollo",value:function(n){if(!this._destroyed){var r=JSON.stringify(n);if(this.sub){if(r===this.previousVariablesJson)return;this.sub.unsubscribe()}this.previousVariablesJson=r;var s=this.generateApolloOptions(n);if(typeof s.updateQuery=="function"&&(s.updateQuery=s.updateQuery.bind(this.vm)),this.options.linkedQuery){if(typeof this.options.result=="function"){var l=this.options.result.bind(this.vm),a=s.updateQuery&&s.updateQuery.bind(this.vm);s.updateQuery=function(){return l.apply(void 0,arguments),a&&a.apply(void 0,arguments)}}this.sub=this.options.linkedQuery.subscribeToMore(s)}else this.observer=this.vm.$apollo.subscribe(s),this.sub=this.observer.subscribe({next:this.nextResult.bind(this),error:this.catchError.bind(this)});eo(Ht(o.prototype),"executeApollo",this).call(this,n)}}},{key:"nextResult",value:function(n){eo(Ht(o.prototype),"nextResult",this).call(this,n),typeof this.options.result=="function"&&this.options.result.call(this.vm,n,this.key)}},{key:"catchError",value:function(n){eo(Ht(o.prototype),"catchError",this).call(this,n),this.skip||(this.stop(),this.start())}}]),o}(Sb),Y2=function(){function e(t,o){ds(this,e),this._apolloSubscriptions=[],this._watchers=[],this.vm=t,this.provider=o,this.queries={},this.subscriptions={},this.client=void 0,this.loadingKey=void 0,this.error=void 0}return hs(e,[{key:"getClient",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!o||!o.client){if(Hu(this.client)==="object")return this.client;if(this.client)if(this.provider.clients){var i=this.provider.clients[this.client];if(!i)throw new Error("[vue-apollo] Missing client '".concat(this.client,"' in 'apolloProvider'"));return i}else throw new Error("[vue-apollo] Missing 'clients' options in 'apolloProvider'");return this.provider.defaultClient}var n=this.provider.clients[o.client];if(!n)throw new Error("[vue-apollo] Missing client '".concat(o.client,"' in 'apolloProvider'"));return n}},{key:"query",value:function(o){return this.getClient(o).query(o)}},{key:"watchQuery",value:function(o){var i=this,n=this.getClient(o).watchQuery(o),r=n.subscribe.bind(n);return n.subscribe=function(s){var l=r(s);return i._apolloSubscriptions.push(l),l},n}},{key:"mutate",value:function(o){return this.getClient(o).mutate(o)}},{key:"subscribe",value:function(o){var i=this;if(!Bo){var n=this.getClient(o).subscribe(o),r=n.subscribe.bind(n);return n.subscribe=function(s){var l=r(s);return i._apolloSubscriptions.push(l),l},n}}},{key:"loading",get:function(){return this.vm.$data.$apolloData.loading!==0}},{key:"data",get:function(){return this.vm.$data.$apolloData.data}},{key:"addSmartQuery",value:function(o,i){var n=this,r=Qu(i,this.vm);if(!r.query){var s=r;r={query:s}}var l=this.vm.$options.apollo,a=this.provider.defaultOptions,c;if(a&&a.$query&&(c=a.$query),l&&l.$query&&(c=wi(wi({},c||{}),l.$query)),c)for(var u in c)typeof r[u]>"u"&&(r[u]=c[u]);var h=this.queries[o]=new K2(this.vm,o,r,!1);if((!Bo||r.prefetch!==!1)&&h.autostart(),!Bo){var p=r.subscribeToMore;p&&(Array.isArray(p)?p.forEach(function(g,y){n.addSmartSubscription("".concat(o).concat(y),wi(wi({},g),{},{linkedQuery:h}))}):this.addSmartSubscription(o,wi(wi({},p),{},{linkedQuery:h})))}return h}},{key:"addSmartSubscription",value:function(o,i){if(!Bo){i=Qu(i,this.vm);var n=this.subscriptions[o]=new J2(this.vm,o,i,!1);if(n.autostart(),i.linkedQuery){var r=i.linkedQuery._linkedSubscriptions.findIndex(function(s){return s.key===o});r!==-1?i.linkedQuery._linkedSubscriptions[r]=n:i.linkedQuery._linkedSubscriptions.push(n)}return n}}},{key:"defineReactiveSetter",value:function(o,i,n){var r=this;this._watchers.push(this.vm.$watch(i,function(s){r[o]=s},{immediate:!0,deep:n}))}},{key:"skipAllQueries",set:function(o){this._skipAllQueries=o;for(var i in this.queries)this.queries[i].skip=o}},{key:"skipAllSubscriptions",set:function(o){this._skipAllSubscriptions=o;for(var i in this.subscriptions)this.subscriptions[i].skip=o}},{key:"skipAll",set:function(o){this.skipAllQueries=o,this.skipAllSubscriptions=o}},{key:"destroy",value:function(){for(var o=0,i=this._watchers;o<i.length;o++){var n=i[o];n()}for(var r in this.queries)this.queries[r].destroy();for(var s in this.subscriptions)this.subscriptions[s].destroy();this._apolloSubscriptions.forEach(function(l){l.unsubscribe()}),this._apolloSubscriptions=null,this.vm=null}}]),e}();function Ml(e,t){return typeof e<"u"&&Object.prototype.hasOwnProperty.call(e,t)}function X2(){var e=this,t=this.$apolloProvider;if(!(this._apolloLaunched||!t)){this._apolloLaunched=!0;var o=this.$options.apollo;if(o){this.$_apolloPromises=[],o.$init||(o.$init=!0,t.defaultOptions&&(o=this.$options.apollo=Object.assign({},t.defaultOptions,o))),Un(this.$apollo,"skipAll",o.$skipAll,o.$deep),Un(this.$apollo,"skipAllQueries",o.$skipAllQueries,o.$deep),Un(this.$apollo,"skipAllSubscriptions",o.$skipAllSubscriptions,o.$deep),Un(this.$apollo,"client",o.$client,o.$deep),Un(this.$apollo,"loadingKey",o.$loadingKey,o.$deep),Un(this.$apollo,"error",o.$error,o.$deep),Un(this.$apollo,"watchLoading",o.$watchLoading,o.$deep),Object.defineProperty(this,"$apolloData",{get:function(){return e.$data.$apolloData},enumerable:!0,configurable:!0});for(var i in o)if(i.charAt(0)!=="$"){var n=o[i],r=this.$apollo.addSmartQuery(i,n);Bo&&(n=Qu(n,this),t.prefetch!==!1&&n.prefetch!==!1&&o.$prefetch!==!1&&!r.skip&&this.$_apolloPromises.push(r.firstRun))}if(o.subscribe&&console.warn("vue-apollo -> `subscribe` option is deprecated. Use the `$subscribe` option instead."),o.$subscribe)for(var s in o.$subscribe)this.$apollo.addSmartSubscription(s,o.$subscribe[s])}}}function Un(e,t,o,i){typeof o<"u"&&(typeof o=="function"?e.defineReactiveSetter(t,o,i):e[t]=o)}function Qs(){this.$apollo&&(this.$apollo.destroy(),this.$apollo=null)}function Z2(e,t){e.mixin({data:function(){var i={$apolloData:{queries:{},loading:0,data:{}}},n=this.$options.apollo;if(n){for(var r in n)if(r.charAt(0)!=="$"){var s=n[r];!s.manual&&!Ml(this.$options.props,r)&&!Ml(this.$options.computed,r)&&!Ml(this.$options.methods,r)&&(i[r]=null)}}return i},beforeCreate:function(){var i=this;if(this.$apollo=new Y2(this,t),Bo){var n=this.$options.ssrRender;this.$options.ssrRender=function(r){var s=n.call(i,r);return Qs.call(i),s}}},serverPrefetch:function(){var i=this;if(this.$_apolloPromises)return Promise.all(this.$_apolloPromises).then(function(){var n={vm:i,provider:i.$apollo.provider,loading:!1,queries:{},subscriptions:{}};Qs.call(i),i.$apollo=n}).catch(function(n){return Qs.call(i),Promise.reject(n)})},created:X2,unmounted:Qs})}var Ks=["$subscribe"],eD=function(){function e(t){if(ds(this,e),!t)throw new Error("Options argument required");this.clients=t.clients||{},t.defaultClient&&(this.clients.defaultClient=this.defaultClient=t.defaultClient),this.defaultOptions=t.defaultOptions,this.watchLoading=t.watchLoading,this.errorHandler=t.errorHandler,this.prefetch=t.prefetch}return hs(e,[{key:"install",value:function(o){o.config.optionMergeStrategies.apollo=function(i,n,r){if(!i)return n;if(!n)return i;for(var s=Object.assign({},Ku(i,Ks),i.data),l=Object.assign({},Ku(n,Ks),n.data),a={},c=0;c<Ks.length;c++){var u=Ks[c];a[u]=pg(i[u],n[u])}return Object.assign(a,pg(s,l))},o.config.globalProperties.$apolloProvider=this,Z2(o,this)}}]),e}();function pg(e,t){return e?Object.assign(Object.assign(Object.create(null),e),t):t}function tD(e){return new eD(e)}function Nb(e){return new Po(function(t,o){return new gt(function(i){var n,r,s;try{n=o(t).subscribe({next:function(l){if(l.errors&&(s=e({graphQLErrors:l.errors,response:l,operation:t,forward:o}),s)){r=s.subscribe({next:i.next.bind(i),error:i.error.bind(i),complete:i.complete.bind(i)});return}i.next(l)},error:function(l){if(s=e({operation:t,networkError:l,graphQLErrors:l&&l.result&&l.result.errors,forward:o}),s){r=s.subscribe({next:i.next.bind(i),error:i.error.bind(i),complete:i.complete.bind(i)});return}i.error(l)},complete:function(){s||i.complete.bind(i)()}})}catch(l){e({networkError:l,operation:t,forward:o}),i.error(l)}return function(){n&&n.unsubscribe(),r&&n.unsubscribe()}})})}(function(e){uo(t,e);function t(o){var i=e.call(this)||this;return i.link=Nb(o),i}return t.prototype.request=function(o,i){return this.link.request(o,i)},t})(Po);function oD(e){return new Po(function(t,o){var i=ei(t,[]);return new gt(function(n){var r,s=!1;return Promise.resolve(i).then(function(l){return e(l,t.getContext())}).then(t.setContext).then(function(){s||(r=o(t).subscribe({next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)}))}).catch(n.error.bind(n)),function(){s=!0,r&&r.unsubscribe()}})})}function nD(e){return _t(e)&&"code"in e&&"reason"in e}var iD=function(e){uo(t,e);function t(o){var i=e.call(this)||this;return i.client=o,i}return t.prototype.request=function(o){var i=this;return new gt(function(n){return i.client.subscribe(ye(ye({},o),{query:cy(o.query)}),{next:n.next.bind(n),complete:n.complete.bind(n),error:function(r){return r instanceof Error?n.error(r):nD(r)?n.error(new Error("Socket closed with event ".concat(r.code," ").concat(r.reason||""))):n.error(new jn({graphQLErrors:Array.isArray(r)?r:[r]}))}})})},t}(Po),mg=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;for(var i=Array(e),n=0,t=0;t<o;t++)for(var r=arguments[t],s=0,l=r.length;s<l;s++,n++)i[n]=r[s];return i},rD=function(){function e(t){var o=t.debug,i=o===void 0?!1:o;this.debug=i,this.lines=[]}return e.prototype.emit=function(t,o){if(t in console){var i=e.prefix;console[t].apply(console,mg([i],o))}},e.prototype.tailLogs=function(){var t=this;this.lines.forEach(function(o){var i=o[0],n=o[1];return t.emit(i,n)})},e.prototype.getLogs=function(){return this.lines},e.prototype.write=function(t,o){var i=e.buffer;this.lines=mg(this.lines.slice(1-i),[[t,o]]),(this.debug||t!=="log")&&this.emit(t,o)},e.prototype.info=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];this.write("log",t)},e.prototype.warn=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];this.write("warn",t)},e.prototype.error=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];this.write("error",t)},e.buffer=30,e.prefix="[apollo-cache-persist]",e}(),sD=function(){function e(t){var o=t.cache,i=t.serialize,n=i===void 0?!0:i;this.cache=o,this.serialize=n}return e.prototype.extract=function(){var t=this.cache.extract();return this.serialize&&(t=JSON.stringify(t)),t},e.prototype.restore=function(t){this.serialize&&typeof t=="string"&&(t=JSON.parse(t)),t!=null&&this.cache.restore(t)},e}(),Js=globalThis&&globalThis.__awaiter||function(e,t,o,i){function n(r){return r instanceof o?r:new o(function(s){s(r)})}return new(o||(o=Promise))(function(r,s){function l(u){try{c(i.next(u))}catch(h){s(h)}}function a(u){try{c(i.throw(u))}catch(h){s(h)}}function c(u){u.done?r(u.value):n(u.value).then(l,a)}c((i=i.apply(e,t||[])).next())})},Ys=globalThis&&globalThis.__generator||function(e,t){var o={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,n,r,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(c){return function(u){return a([c,u])}}function a(c){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(r=c[0]&2?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[c[0]&2,r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(r=o.trys,!(r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){o=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(c[0]===6&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(u){c=[6,u],n=0}finally{i=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Cb=function(){function e(t){var o=t.storage,i=t.key,n=i===void 0?"apollo-cache-persist":i;this.storage=o,this.key=n}return e.prototype.read=function(){return Js(this,void 0,void 0,function(){return Ys(this,function(t){return[2,this.storage.getItem(this.key)]})})},e.prototype.write=function(t){return Js(this,void 0,void 0,function(){return Ys(this,function(o){switch(o.label){case 0:return[4,this.storage.setItem(this.key,t)];case 1:return o.sent(),[2]}})})},e.prototype.purge=function(){return Js(this,void 0,void 0,function(){return Ys(this,function(t){switch(t.label){case 0:return[4,this.storage.removeItem(this.key)];case 1:return t.sent(),[2]}})})},e.prototype.getSize=function(){return Js(this,void 0,void 0,function(){var t;return Ys(this,function(o){switch(o.label){case 0:return[4,this.storage.getItem(this.key)];case 1:return t=o.sent(),t==null?[2,0]:[2,typeof t=="string"?t.length:null]}})})},e}(),Fl=globalThis&&globalThis.__awaiter||function(e,t,o,i){function n(r){return r instanceof o?r:new o(function(s){s(r)})}return new(o||(o=Promise))(function(r,s){function l(u){try{c(i.next(u))}catch(h){s(h)}}function a(u){try{c(i.throw(u))}catch(h){s(h)}}function c(u){u.done?r(u.value):n(u.value).then(l,a)}c((i=i.apply(e,t||[])).next())})},Bl=globalThis&&globalThis.__generator||function(e,t){var o={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,n,r,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(c){return function(u){return a([c,u])}}function a(c){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(r=c[0]&2?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[c[0]&2,r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(r=o.trys,!(r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){o=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(c[0]===6&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(u){c=[6,u],n=0}finally{i=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Ab=function(){function e(t,o){var i=t.log,n=t.cache,r=t.storage,s=o.maxSize,l=s===void 0?1024*1024:s,a=o.persistenceMapper;this.log=i,this.cache=n,this.storage=r,this.paused=!1,a&&(this.persistenceMapper=a),l&&(this.maxSize=l)}return e.prototype.persist=function(){return Fl(this,void 0,void 0,function(){var t,o;return Bl(this,function(i){switch(i.label){case 0:return i.trys.push([0,6,,7]),t=this.cache.extract(),!this.paused&&this.persistenceMapper?[4,this.persistenceMapper(t)]:[3,2];case 1:t=i.sent(),i.label=2;case 2:return this.maxSize!=null&&typeof t=="string"&&t.length>this.maxSize&&!this.paused?[4,this.purge()]:[3,4];case 3:return i.sent(),this.paused=!0,[2];case 4:return this.paused?[2]:[4,this.storage.write(t)];case 5:return i.sent(),this.log.info(typeof t=="string"?"Persisted cache of size "+t.length+" characters":"Persisted cache"),[3,7];case 6:throw o=i.sent(),this.log.error("Error persisting cache",o),o;case 7:return[2]}})})},e.prototype.restore=function(){return Fl(this,void 0,void 0,function(){var t,o;return Bl(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),[4,this.storage.read()];case 1:return t=i.sent(),t==null?[3,3]:[4,this.cache.restore(t)];case 2:return i.sent(),this.log.info(typeof t=="string"?"Restored cache of size "+t.length+" characters":"Restored cache"),[3,4];case 3:this.log.info("No stored cache to restore"),i.label=4;case 4:return[3,6];case 5:throw o=i.sent(),this.log.error("Error restoring cache",o),o;case 6:return[2]}})})},e.prototype.purge=function(){return Fl(this,void 0,void 0,function(){var t;return Bl(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.storage.purge()];case 1:return o.sent(),this.log.info("Purged cache storage"),[3,3];case 2:throw t=o.sent(),this.log.error("Error purging cache storage",t),t;case 3:return[2]}})})},e}();const xb=function(e){var t=e.cache;return function(o){var i=t.write,n=t.evict,r=t.modify;return t.write=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var a=i.apply(t,s);return o(),a},t.evict=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var a=n.apply(t,s);return o(),a},t.modify=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var a=r.apply(t,s);return o(),a},function(){t.write=i,t.evict=n,t.modify=r}}},aD=function(e){var t=e.log,o=e.cache;return function(i){return t.warn("Trigger option `background` not available on web; using `write` trigger"),xb({cache:o})(i)}};var cD=function(){function e(t,o){var i=this,n=t.log,r=t.persistor;this.fire=function(){if(!i.debounce){i.persist();return}i.timeout!=null&&clearTimeout(i.timeout),i.timeout=setTimeout(i.persist,i.debounce)},this.persist=function(){i.paused||i.persistor.persist()};var s=e.defaultDebounce,l=o.cache,a=o.debounce,c=o.trigger,u=c===void 0?"write":c;if(u)switch(this.debounce=a??s,this.persistor=r,this.paused=!1,u){case"write":this.uninstall=xb({cache:l})(this.fire);break;case"background":a&&n.warn("Debounce is not recommended with `background` trigger"),this.debounce=a,this.uninstall=aD({cache:l,log:n})(this.fire);break;default:if(typeof u=="function")this.uninstall=u(this.fire);else throw Error("Unrecognized trigger option: "+u)}}return e.prototype.pause=function(){this.paused=!0},e.prototype.resume=function(){this.paused=!1},e.prototype.remove=function(){this.uninstall&&(this.uninstall(),this.uninstall=null,this.paused=!0)},e.defaultDebounce=1e3,e}(),Tb=function(){function e(t){if(!t.cache)throw new Error("In order to persist your Apollo Cache, you need to pass in a cache. Please see https://www.apollographql.com/docs/react/basics/caching.html for our default InMemoryCache.");if(!t.storage)throw new Error("In order to persist your Apollo Cache, you need to pass in an underlying storage provider. Please see https://github.com/apollographql/apollo-cache-persist#storage-providers");var o=new rD(t),i=new sD(t),n=new Cb(t),r=new Ab({log:o,cache:i,storage:n},t),s=new cD({log:o,persistor:r},t);this.log=o,this.cache=i,this.storage=n,this.persistor=r,this.trigger=s}return e.prototype.persist=function(){return this.persistor.persist()},e.prototype.restore=function(){return this.persistor.restore()},e.prototype.purge=function(){return this.persistor.purge()},e.prototype.pause=function(){this.trigger.pause()},e.prototype.resume=function(){this.trigger.resume()},e.prototype.remove=function(){this.trigger.remove()},e.prototype.getLogs=function(t){if(t===void 0&&(t=!1),t)this.log.tailLogs();else return this.log.getLogs()},e.prototype.getSize=function(){return this.storage.getSize()},e}(),Qd=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])},e(t,o)};return function(t,o){e(t,o);function i(){this.constructor=t}t.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}}();(function(e){Qd(t,e);function t(o){var i=e.call(this,o)||this;return i.storage=new uD(o),i.persistor=new lD({log:i.log,cache:i.cache,storage:i.storage},o),i}return t.prototype.restoreSync=function(){this.persistor.restoreSync()},t})(Tb);var lD=function(e){Qd(t,e);function t(o,i){var n=o.log,r=o.cache,s=o.storage;return e.call(this,{log:n,cache:r,storage:s},i)||this}return t.prototype.restoreSync=function(){this.cache.restore(this.storage.readSync())},t}(Ab),uD=function(e){Qd(t,e);function t(o){return e.call(this,o)||this}return t.prototype.readSync=function(){return this.storage.getItem(this.key)},t}(Cb),dD=function(){function e(t){this.storage=t}return e.prototype.getItem=function(t){return this.storage.getItem(t)},e.prototype.removeItem=function(t){return this.storage.removeItem(t)},e.prototype.setItem=function(t,o){return o!==null?this.storage.setItem(t,o):this.removeItem(t)},e}();const Ib=new PT({typePolicies:{Query:{fields:{nodo:{read(e,{variables:t,toReference:o}){return t!=null&&t.idNodo?o({__typename:"NodoConocimiento",id:t.idNodo}):!1}},coleccionNodosConocimiento:{read(e,{variables:t,toReference:o}){return t!=null&&t.idColeccion?o({__typename:"ColeccionNodosAtlasConocimiento",id:t.idColeccion}):!1}}}}}}),hD=new Tb({cache:Ib,storage:new dD(window.localStorage)});function Xt(e){return e===null?"null":Array.isArray(e)?"array":typeof e}function Vn(e){return Xt(e)==="object"}function fD(e){return Array.isArray(e)&&e.length>0&&e.every(t=>"message"in t)}function gg(e,t){return e.length<124?e:t}const pD="graphql-transport-ws";var lo;(function(e){e[e.InternalServerError=4500]="InternalServerError",e[e.InternalClientError=4005]="InternalClientError",e[e.BadRequest=4400]="BadRequest",e[e.BadResponse=4004]="BadResponse",e[e.Unauthorized=4401]="Unauthorized",e[e.Forbidden=4403]="Forbidden",e[e.SubprotocolNotAcceptable=4406]="SubprotocolNotAcceptable",e[e.ConnectionInitialisationTimeout=4408]="ConnectionInitialisationTimeout",e[e.ConnectionAcknowledgementTimeout=4504]="ConnectionAcknowledgementTimeout",e[e.SubscriberAlreadyExists=4409]="SubscriberAlreadyExists",e[e.TooManyInitialisationRequests=4429]="TooManyInitialisationRequests"})(lo||(lo={}));var Tt;(function(e){e.ConnectionInit="connection_init",e.ConnectionAck="connection_ack",e.Ping="ping",e.Pong="pong",e.Subscribe="subscribe",e.Next="next",e.Error="error",e.Complete="complete"})(Tt||(Tt={}));function Db(e){if(!Vn(e))throw new Error(`Message is expected to be an object, but got ${Xt(e)}`);if(!e.type)throw new Error("Message is missing the 'type' property");if(typeof e.type!="string")throw new Error(`Message is expects the 'type' property to be a string, but got ${Xt(e.type)}`);switch(e.type){case Tt.ConnectionInit:case Tt.ConnectionAck:case Tt.Ping:case Tt.Pong:{if(e.payload!=null&&!Vn(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object or nullish or missing, but got "${e.payload}"`);break}case Tt.Subscribe:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Xt(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!Vn(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${Xt(e.payload)}`);if(typeof e.payload.query!="string")throw new Error(`"${e.type}" message payload expects the 'query' property to be a string, but got ${Xt(e.payload.query)}`);if(e.payload.variables!=null&&!Vn(e.payload.variables))throw new Error(`"${e.type}" message payload expects the 'variables' property to be a an object or nullish or missing, but got ${Xt(e.payload.variables)}`);if(e.payload.operationName!=null&&Xt(e.payload.operationName)!=="string")throw new Error(`"${e.type}" message payload expects the 'operationName' property to be a string or nullish or missing, but got ${Xt(e.payload.operationName)}`);if(e.payload.extensions!=null&&!Vn(e.payload.extensions))throw new Error(`"${e.type}" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ${Xt(e.payload.extensions)}`);break}case Tt.Next:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Xt(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!Vn(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${Xt(e.payload)}`);break}case Tt.Error:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Xt(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!fD(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an array of GraphQL errors, but got ${JSON.stringify(e.payload)}`);break}case Tt.Complete:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Xt(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);break}default:throw new Error(`Invalid message 'type' property "${e.type}"`)}return e}function mD(e,t){return Db(typeof e=="string"?JSON.parse(e,t):e)}function Sr(e,t){return Db(e),JSON.stringify(e,t)}function gD(e){const{url:t,connectionParams:o,lazy:i=!0,onNonLazyError:n=console.error,lazyCloseTimeout:r=0,keepAlive:s=0,disablePong:l,connectionAckWaitTimeout:a=0,retryAttempts:c=5,retryWait:u=async function(oe){let ie=1e3;for(let z=0;z<oe;z++)ie*=2;await new Promise(z=>setTimeout(z,ie+Math.floor(Math.random()*(3e3-300)+300)))},shouldRetry:h=Xs,isFatalConnectionProblem:p,on:g,webSocketImpl:y,generateID:N=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,oe=>{const ie=Math.random()*16|0;return(oe=="x"?ie:ie&3|8).toString(16)})},jsonMessageReplacer:I,jsonMessageReviver:A}=e;let S;if(y){if(!yD(y))throw new Error("Invalid WebSocket implementation provided");S=y}else typeof WebSocket<"u"?S=WebSocket:typeof global<"u"?S=global.WebSocket||global.MozWebSocket:typeof window<"u"&&(S=window.WebSocket||window.MozWebSocket);if(!S)throw new Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");const b=S,w=(()=>{const E=(()=>{const ie={};return{on(z,be){return ie[z]=be,()=>{delete ie[z]}},emit(z){var be;"id"in z&&((be=ie[z.id])===null||be===void 0||be.call(ie,z))}}})(),oe={connecting:g!=null&&g.connecting?[g.connecting]:[],opened:g!=null&&g.opened?[g.opened]:[],connected:g!=null&&g.connected?[g.connected]:[],ping:g!=null&&g.ping?[g.ping]:[],pong:g!=null&&g.pong?[g.pong]:[],message:g!=null&&g.message?[E.emit,g.message]:[E.emit],closed:g!=null&&g.closed?[g.closed]:[],error:g!=null&&g.error?[g.error]:[]};return{onMessage:E.on,on(ie,z){const be=oe[ie];return be.push(z),()=>{be.splice(be.indexOf(z),1)}},emit(ie,...z){for(const be of[...oe[ie]])be(...z)}}})();function T(E){const oe=[w.on("error",ie=>{oe.forEach(z=>z()),E(ie)}),w.on("closed",ie=>{oe.forEach(z=>z()),E(ie)})]}let k,F=0,j,D=!1,P=0,B=!1;async function L(){clearTimeout(j);const[E,oe]=await(k??(k=new Promise((be,me)=>(async()=>{if(D){if(await u(P),!F)return k=void 0,me({code:1e3,reason:"All Subscriptions Gone"});P++}w.emit("connecting");const Se=new b(typeof t=="function"?await t():t,pD);let x,U;function te(){isFinite(s)&&s>0&&(clearTimeout(U),U=setTimeout(()=>{Se.readyState===b.OPEN&&(Se.send(Sr({type:Tt.Ping})),w.emit("ping",!1,void 0))},s))}T(K=>{k=void 0,clearTimeout(x),clearTimeout(U),me(K),Xs(K)&&K.code===4499&&(Se.close(4499,"Terminated"),Se.onerror=null,Se.onclose=null)}),Se.onerror=K=>w.emit("error",K),Se.onclose=K=>w.emit("closed",K),Se.onopen=async()=>{try{w.emit("opened",Se);const K=typeof o=="function"?await o():o;if(Se.readyState!==b.OPEN)return;Se.send(Sr(K?{type:Tt.ConnectionInit,payload:K}:{type:Tt.ConnectionInit},I)),isFinite(a)&&a>0&&(x=setTimeout(()=>{Se.close(lo.ConnectionAcknowledgementTimeout,"Connection acknowledgement timeout")},a)),te()}catch(K){w.emit("error",K),Se.close(lo.InternalClientError,gg(K instanceof Error?K.message:new Error(K).message,"Internal client error"))}};let H=!1;Se.onmessage=({data:K})=>{try{const V=mD(K,A);if(w.emit("message",V),V.type==="ping"||V.type==="pong"){w.emit(V.type,!0,V.payload),V.type==="pong"?te():l||(Se.send(Sr(V.payload?{type:Tt.Pong,payload:V.payload}:{type:Tt.Pong})),w.emit("pong",!1,V.payload));return}if(H)return;if(V.type!==Tt.ConnectionAck)throw new Error(`First message cannot be of type ${V.type}`);clearTimeout(x),H=!0,w.emit("connected",Se,V.payload),D=!1,P=0,be([Se,new Promise((W,ee)=>T(ee))])}catch(V){Se.onmessage=null,w.emit("error",V),Se.close(lo.BadResponse,gg(V instanceof Error?V.message:new Error(V).message,"Bad response"))}}})())));E.readyState===b.CLOSING&&await oe;let ie=()=>{};const z=new Promise(be=>ie=be);return[E,ie,Promise.race([z.then(()=>{if(!F){const be=()=>E.close(1e3,"Normal Closure");isFinite(r)&&r>0?j=setTimeout(()=>{E.readyState===b.OPEN&&be()},r):be()}}),oe])]}function G(E){if(Xs(E)&&(vD(E.code)||[lo.InternalServerError,lo.InternalClientError,lo.BadRequest,lo.BadResponse,lo.Unauthorized,lo.SubprotocolNotAcceptable,lo.SubscriberAlreadyExists,lo.TooManyInitialisationRequests].includes(E.code)))throw E;if(B)return!1;if(Xs(E)&&E.code===1e3)return F>0;if(!c||P>=c||!h(E)||p!=null&&p(E))throw E;return D=!0}return i||(async()=>{for(F++;;)try{const[,,E]=await L();await E}catch(E){try{if(!G(E))return}catch(oe){return n==null?void 0:n(oe)}}})(),{on:w.on,subscribe(E,oe){const ie=N(E);let z=!1,be=!1,me=()=>{F--,z=!0};return(async()=>{for(F++;;)try{const[Se,x,U]=await L();if(z)return x();const te=w.onMessage(ie,H=>{switch(H.type){case Tt.Next:{oe.next(H.payload);return}case Tt.Error:{be=!0,z=!0,oe.error(H.payload),me();return}case Tt.Complete:{z=!0,me();return}}});Se.send(Sr({id:ie,type:Tt.Subscribe,payload:E},I)),me=()=>{!z&&Se.readyState===b.OPEN&&Se.send(Sr({id:ie,type:Tt.Complete},I)),F--,z=!0,x()},await U.finally(te);return}catch(Se){if(!G(Se))return}})().then(()=>{be||oe.complete()}).catch(Se=>{oe.error(Se)}),()=>{z||me()}},async dispose(){if(B=!0,k){const[E]=await k;E.close(1e3,"Normal Closure")}},terminate(){k&&w.emit("closed",{code:4499,reason:"Terminated",wasClean:!1})}}}function Xs(e){return Vn(e)&&"code"in e&&"reason"in e}function vD(e){return[1e3,1001,1006,1005,1012,1013,1013].includes(e)?!1:e>=1e3&&e<=1999}function yD(e){return typeof e=="function"&&"constructor"in e&&"CLOSED"in e&&"CLOSING"in e&&"CONNECTING"in e&&"OPEN"in e}const bD=Ny({uri:eb+"/graphql"}),wD=oD((e,{headers:t})=>{let o=Pb(),i="";return o&&(i="Bearer "+o),{headers:{...t,authorization:i}}}),ED=new iD(gD({url:UT+"/graphql",connectionParams:()=>({authentication:Pb(),mensaje:"hola"})})),_D=vx(({query:e})=>{const t=Ka(e);return t.kind==="OperationDefinition"&&t.operation==="subscription"},ED,_y([wD,bD])),SD=Nb(({graphQLErrors:e,networkError:t})=>{}),Ia=new $T({link:_y([SD,_D]),cache:Ib}),ND=tD({defaultClient:Ia,defaultOptions:{$query:{fetchPolicy:"cache-and-network"}}});function Pb(){var t,o;let e=Ia.readQuery({query:Fe`
      query {
        auth_usuario @client {
          id
          token
        }
      }
    `});return(t=e==null?void 0:e.auth_usuario)!=null&&t.token?(o=e==null?void 0:e.auth_usuario)==null?void 0:o.token:""}const CD=Fe`
fragment fragBloqueSubscripcion on BloqueSubscripcion{
    id
    dateInicio
    duracion
    valorPagado
}
`,qr=Fe`
query($idUsuario: ID!){
    Usuario(idUsuario: $idUsuario){
        id
        bloquesSubscripcion{
            ...fragBloqueSubscripcion
        }
    }
}
${CD}
`,AD=Pe`
fragment fragNodoConocimientoMinimoAtlas on NodoConocimiento{
    id
    nombre
    expertos
    tipoNodo
    autoCoords{
        x
        y
    }
    vinculos{
        id
        idRef
        rol
        tipo
    }
} `,da=Pe`
  fragment fragDatoNodoConocimiento on DatoNodoUsuario {
    id
    idNodo
    nombreNodo
    aprendido
    estudiado
    diasRepaso    
    estadoAprendizaje
  }
`,Si=Pe`
  fragment fragColecciones on ColeccionNodosAtlasConocimiento {
    id
    nombre
    idsNodos
    nodos {
      id
      nombre
    }
  }
`,kb=Pe`
  fragment fragNodoConocimiento on NodoConocimiento {
    id
    nombre
    descripcion
    expertos
    tipoNodo
    nivel   
    autoCoords {
      x
      y
    }
    angulo
    puntaje
    vinculos {
      id
      idRef
      rol
      tipo
      nodoContraparte{
        id
        nombre
        autoCoords{
          x
          y
        }
      }
    }
  }

`;Pe`
  query todosNodos {
    todosNodos {
      ...fragNodoConocimiento
    }
  }
  ${kb}
`;Pe`
  query($idNodo:ID!){
    nodo(idNodo:$idNodo){
      id
      nombre
      vinculos{
        id
        idRef
        tipo
        rol
        nodoContraparte{
         id
         nombre
         autoCoords{
           x
           y
         }
        }
      }
      descripcion
      tipoNodo
      expertos
      autoCoords{
        x
        y
      }
      
    }
  }
`;const Kd=Pe`
  query($idNodo:ID!){
    nodo(idNodo:$idNodo){
      id
      nombre
      vinculos{
        id
        idRef
        tipo
        rol
      }
      descripcion
      tipoNodo
      expertos
      
    }
  }
`,xo=Pe`
  query {
    yo {
      id
      atlas {
        id
        idNodoTarget
        datosNodos {
          ...fragDatoNodoConocimiento
        }
        configuracion {
          modo
        }
        colecciones {
          ...fragColecciones
        }
      }
    }
  }
  ${da}
  ${Si}
`,xD={name:"PieProgreso",props:{colorProgreso:{type:String,default:"#3f7d20"},mostrarNumero:{type:Boolean,default:!0},progreso:{type:Number,default:0},factorArco:{type:Number,default:.12},cifrasDecimales:{type:Number,default(){return 0}},size:{type:Number,default:40},colorFondo:{type:String,default:"transparent"}},data(){return{}},computed:{estiloCirculoVacio(){return{width:this.size+"px",height:this.size+"px",backgroundColor:this.colorFondo}},estiloCanvasProgreso(){return{width:this.size+"px",height:this.size+"px"}},estiloNumero(){let e=70;return this.progreso>=100&&(e=60),{fontSize:e+"%"}}},methods:{trazarGraph(){const e=this.$refs.canvasProgreso.getContext("2d"),t=Math.round(this.size/2),o=2*Math.PI/100*this.progreso-Math.PI/2;e.clearRect(0,0,this.size,this.size),e.beginPath(),e.strokeStyle=this.colorProgreso||"#04AA6D",e.lineWidth=Math.round(this.size*this.factorArco),e.arc(t,t,Math.round(t*(1-this.factorArco)),-(Math.PI/2),o),e.stroke()}},watch:{progreso(){this.trazarGraph()}},mounted(){this.trazarGraph()}},TD={class:"pieProgreso"},ID={id:"contenidoExterno"},DD={key:0},PD=["width","height"];function kD(e,t,o,i,n,r){return Y(),re("div",TD,[v("div",{id:"circuloVacio",style:Ve([r.estiloCirculoVacio])},[v("div",ID,[yd(e.$slots,"default",{},void 0,!0)]),o.mostrarNumero?(Y(),re("div",{key:0,id:"numeroProgreso",style:Ve([r.estiloNumero])},[o.progreso?(Y(),re("span",DD,Ae(o.progreso.toFixed(o.cifrasDecimales)),1)):Ee("",!0)],4)):Ee("",!0),v("canvas",{id:"canvasProgreso",ref:"canvasProgreso",width:o.size,height:o.size,style:Ve([r.estiloCanvasProgreso])},null,12,PD)],4)])}const fs=Ge(xD,[["render",kD],["__scopeId","data-v-89c2680b"]]),ps="/caracol/assets/fireSolid-fd34d4dd.svg",ms="/caracol/assets/lightbulbEmpty-b30e6079.svg",OD={name:"NodoConocimientoVistaLista",props:{idNodo:{type:String,required:!0},yo:{type:Object,required:!0}},apollo:{elNodoDB:{query:Fe`
        query ($idNodo: ID!) {
          nodo(idNodo: $idNodo) {
            id
            nombre
            tipoNodo
            vinculos {
              id
              idRef
              rol
              tipo
            }
          }
        }
      `,variables(){return{idNodo:this.idNodo}},update({nodo:e}){return e},skip(){return!this.idNodo},fetchPolicy:"cache-first"}},data(){return{elNodoDB:{vinculos:[]}}},computed:{elNodo(){return this.idNodo?this.elNodoDB:null},datoUsuarioEsteNodo(){var e,t;return(t=(e=this.yo)==null?void 0:e.datosUsuario)==null?void 0:t.find(o=>o.idNodo===this.idNodo)},aprendido(){var e;return(e=this.datoUsuarioEsteNodo)==null?void 0:e.aprendido},estudiado(){var e;return this.datoUsuarioEsteNodo?(e=this.datoUsuarioEsteNodo)==null?void 0:e.estudiado:null},fresco(){var t;return!this.estudiado||!((t=this.datoUsuarioEsteNodo)!=null&&t.diasRepaso)?!1:this.estudiado+this.datoUsuarioEsteNodo.diasRepaso*24*60*60*1e3>Date.now()}}},RD={class:"nodoConocimientoVistaLista"},LD={id:"barraPrincipal"},MD={key:0,id:"iconoNodo"},FD={key:0,src:ps,alt:"Skill"},BD={key:1,src:ms,alt:"Idea"},$D={id:"nombreNodo"};function UD(e,t,o,i,n,r){var s;return Y(),re("div",RD,[v("div",LD,[r.elNodo?(Y(),re("div",MD,[r.elNodo.tipoNodo==="habilidad"?(Y(),re("img",FD)):(Y(),re("img",BD))])):Ee("",!0),v("div",$D,Ae((s=r.elNodo)==null?void 0:s.nombre),1)])])}const qD=Ge(OD,[["render",UD],["__scopeId","data-v-b04abced"]]),jD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAABm1BMVEUAAAB9fX2jo6NeXl6Pj4+Pj4+ioqIvLy82NjY1NTWMjIxLS0tra2uOjo4tLS1VVVWioqJXV1ehoaGhoaFdXV2Li4s5OTl5eXksLCwaGhpTU1MdHR17e3uOjo5BQUGOjo4vLy9UVFSOjo4dHR0wMDCPj49nZ2dDQ0MfHx9paWkyMjI+Pj4mJiY3NzcdHR17e3tqamqOjo6Ojo56enqgoKA7OztpaWmQkJChoaFPT08mJiY9PT2NjY2Pj49/f3+fn5+lpaVoaGh6enp7e3sdHR1oaGhTU1NBQUEvLy9UVFR7e3t7e3saGhpoaGg+Pj4dHR1qamp7e3tCQkJCQkKPj498fHweHh5paWmPj49paWlCQkJnZ2dVVVV9fX0vLy9nZ2d7e3tUVFQfHx9ra2t8fHxVVVVERERERERqampAQECPj49DQ0MzMzNVVVV6enpVVVVpaWl6enpFRUUmJiYaGhpmZmZTU1NTU1MyMjJ7e3ufn596enqPj493d3d8fHwbGxukpKRoaGhUVFQrKysaGhp7e3s/Pz8+Pj49PT291zY1AAAAgXRSTlMABlYN4txVHhcSEQoD4N6UUDAuJxgLB/39+/ba2NfHxcS7qKSej4mBdm1sZmBaWlZWUEtJSEdAOjc2NDEpHBoYCPz49vXv7+/s6+bl5ODg09HKwby7u7u6ubGwrKinp6KhoKCWlY2NgoF6eXlzcWxrY2JRT01IQz09PDs2MC8nJSDBqhNCAAABgklEQVRIx+3SRVPDQBTA8VdClTptcZeWCnVX3N3d3d0lJG352GwuDKewb4YZLv3fkskvu/N2odAfZZErkSK2WTXbDpQp5RaAkiae56tidMJZr22Ow9swIRV0y9xrOY5rtsjHBHJNRewcSSsHWzfPN9ENwFVOSL0C4MrmVABVitVyrt8OtAX3juKgcBwHqYVrNJ+vjQKiksUcyYohzKRAdtUYc/CZz/VdAibGWjvlAGRKBlAxBoMaJwzLvQM6E4rsfJDOUKfSIBAdhqh1AjkBTNGGysoNE6Ay3d4xgE4iwYq2pTUPUnSw7MgNRjBzLKkVdTILAtkHTOc9LDseAlSerdYQmP3ul59DTKdFx6gGYLa7yqrd32/MEb3sUQWi+Tuz2ewM+SjhC5PflxaRjOLkooyQ6hR4pzU1hxIwEiGLiJOHQULWJapGaXFxTRje9TKZvhTEO50YWnmCZB0hGh/ZWSBg/PUapV7NZFAtUo10PkEeMxmg7LmlrtGLvdVJFRT6v74ABqxMskl6QHIAAAAASUVORK5CYII=",VD={name:"Loading",props:{texto:{type:String},colorLetra:{type:String,default:"black"}},computed:{estiloTexto(){return{color:this.colorLetra}}}},HD=e=>(it("data-v-47eb51b8"),e=e(),rt(),e),zD={class:"loading"},GD=HD(()=>v("img",{src:jD,alt:"Cargando",id:"iconoLoading"},null,-1));function WD(e,t,o,i,n,r){return Y(),re("div",zD,[GD,o.texto?(Y(),re("span",{key:0,style:Ve([r.estiloTexto]),class:"textoLoading"},Ae(o.texto),5)):Ee("",!0)])}const yt=Ge(VD,[["render",WD],["__scopeId","data-v-47eb51b8"]]);function QD(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Jd=QD,KD=typeof Wo=="object"&&Wo&&Wo.Object===Object&&Wo,JD=KD,YD=JD,XD=typeof self=="object"&&self&&self.Object===Object&&self,ZD=YD||XD||Function("return this")(),Ob=ZD,eP=Ob,tP=function(){return eP.Date.now()},oP=tP,nP=/\s/;function iP(e){for(var t=e.length;t--&&nP.test(e.charAt(t)););return t}var rP=iP,sP=rP,aP=/^\s+/;function cP(e){return e&&e.slice(0,sP(e)+1).replace(aP,"")}var lP=cP,uP=Ob,dP=uP.Symbol,Rb=dP,vg=Rb,Lb=Object.prototype,hP=Lb.hasOwnProperty,fP=Lb.toString,Nr=vg?vg.toStringTag:void 0;function pP(e){var t=hP.call(e,Nr),o=e[Nr];try{e[Nr]=void 0;var i=!0}catch{}var n=fP.call(e);return i&&(t?e[Nr]=o:delete e[Nr]),n}var mP=pP,gP=Object.prototype,vP=gP.toString;function yP(e){return vP.call(e)}var bP=yP,yg=Rb,wP=mP,EP=bP,_P="[object Null]",SP="[object Undefined]",bg=yg?yg.toStringTag:void 0;function NP(e){return e==null?e===void 0?SP:_P:bg&&bg in Object(e)?wP(e):EP(e)}var CP=NP;function AP(e){return e!=null&&typeof e=="object"}var xP=AP,TP=CP,IP=xP,DP="[object Symbol]";function PP(e){return typeof e=="symbol"||IP(e)&&TP(e)==DP}var kP=PP,OP=lP,wg=Jd,RP=kP,Eg=0/0,LP=/^[-+]0x[0-9a-f]+$/i,MP=/^0b[01]+$/i,FP=/^0o[0-7]+$/i,BP=parseInt;function $P(e){if(typeof e=="number")return e;if(RP(e))return Eg;if(wg(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=wg(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=OP(e);var o=MP.test(e);return o||FP.test(e)?BP(e.slice(2),o?2:8):LP.test(e)?Eg:+e}var UP=$P,qP=Jd,$l=oP,_g=UP,jP="Expected a function",VP=Math.max,HP=Math.min;function zP(e,t,o){var i,n,r,s,l,a,c=0,u=!1,h=!1,p=!0;if(typeof e!="function")throw new TypeError(jP);t=_g(t)||0,qP(o)&&(u=!!o.leading,h="maxWait"in o,r=h?VP(_g(o.maxWait)||0,t):r,p="trailing"in o?!!o.trailing:p);function g(k){var F=i,j=n;return i=n=void 0,c=k,s=e.apply(j,F),s}function y(k){return c=k,l=setTimeout(A,t),u?g(k):s}function N(k){var F=k-a,j=k-c,D=t-F;return h?HP(D,r-j):D}function I(k){var F=k-a,j=k-c;return a===void 0||F>=t||F<0||h&&j>=r}function A(){var k=$l();if(I(k))return S(k);l=setTimeout(A,N(k))}function S(k){return l=void 0,p&&i?g(k):(i=n=void 0,s)}function b(){l!==void 0&&clearTimeout(l),c=0,i=a=n=l=void 0}function w(){return l===void 0?s:S($l())}function T(){var k=$l(),F=I(k);if(i=arguments,n=this,a=k,F){if(l===void 0)return y(a);if(h)return clearTimeout(l),l=setTimeout(A,t),g(a)}return l===void 0&&(l=setTimeout(A,t)),s}return T.cancel=b,T.flush=w,T}var GP=zP,WP=GP,QP=Jd,KP="Expected a function";function JP(e,t,o){var i=!0,n=!0;if(typeof e!="function")throw new TypeError(KP);return QP(o)&&(i="leading"in o?!!o.leading:i,n="trailing"in o?!!o.trailing:n),WP(e,t,{leading:i,maxWait:t,trailing:n})}var Ul=JP;const YP={props:{nodoCreandoDependencia:{type:Object},nodoTargetRelevante:{type:Boolean,default:!0},idNodoSeleccionado:{type:String},emitOpenNodo:{type:Boolean,default:!1}},apollo:{yo:{query:xo,fetchPolicy:"cache-first"},elNodoDB:{query:Kd,variables(){return{idNodo:this.idNodoSeleccionado}},skip(){return!this.idNodoSeleccionado},update({nodo:e}){return e},fetchPolicy:"cache-first"}},components:{Loading:yt,PieProgreso:fs,NodoConocimientoVistaLista:qD},name:"ControlesNodo",data(){return{creandoNodoUnder:!1,nodoTarget:null,hovered:!1,direccionTransicion:"normal",elNodoDB:{vinculos:[],expertos:[]},yo:{atlas:{datosNodos:[],colecciones:[]}},eliminandose:!1,mostrandoFlechasConexiones:!1,desplegado:!1,cantidadFilas:3,filaMostrada:1,mostrando:"",touchStartX:null,montado:!1,heightNombre:0,heightAll:0,settingDateEstudiado:!1,diasRepaso:0,guardandoDiasRepaso:!1,settingEstadoAprendido:!1,idVinculoEliminando:null,creandoDependencia:!1,startTouchTargetX:null,intervaloEventoWheel:400,lastEventoWheel:0}},computed:{elNodo(){return this.idNodoSeleccionado?this.elNodoDB:null},idNodoTarget(){return this.yo.atlas.idNodoTarget},dependenciasNodo(){return this.elNodo?this.elNodo.vinculos.filter(e=>e.tipo=="continuacion"&&e.rol==="target"):[]},usuarioExpertoNodo(){var e;return!this.elNodo||!this.yo?!1:(e=this.elNodo.expertos)==null?void 0:e.includes(this.usuario.id)},estiloPos(){return{transform:"translate(-50%, 0px)"}},datoUsuarioEsteNodo(){var e,t;return!this.elNodo||!((t=(e=this.yo)==null?void 0:e.atlas)!=null&&t.datosNodos)?null:this.yo.atlas.datosNodos.find(o=>o.idNodo===this.elNodo.id)},nodoAccesible(){let e=this.yo.atlas.datosNodos.filter(t=>t.aprendido?!0:!(!t.estudiado||!t.diasRepaso||new Date(t.estudiado).getTime()+t.diasRepaso*864e5<Date.now())).map(t=>t.idNodo);return!this.elNodo.vinculos.some(t=>t.tipo==="continuacion"&&t.rol==="target"&&!e.includes(t.idRef))},nodoEstudiado(){return!this.elNodo||!this.datoUsuarioEsteNodo?!1:this.datoUsuarioEsteNodo.estudiado},nodoAprendido(){return!this.elNodo||!this.datoUsuarioEsteNodo?!1:this.datoUsuarioEsteNodo.aprendido},nodoFresco(){var t,o;if(!this.elNodo||!((t=this.datoUsuarioEsteNodo)!=null&&t.estudiado)||!((o=this.datoUsuarioEsteNodo)!=null&&o.diasRepaso))return!1;if(this.nodoAprendido)return!0;let e=new Date(this.datoUsuarioEsteNodo.estudiado).getTime()+this.datoUsuarioEsteNodo.diasRepaso*864e5;return Date.now()<e},nodoRepasar(){return this.nodoEstudiado&&!this.nodoFresco&&!this.nodoAprendido},porcentajeRepaso(){var o;if(!((o=this.datoUsuarioEsteNodo)!=null&&o.estudiado)||!this.datoUsuarioEsteNodo.diasRepaso||this.nodoAprendido)return null;let t=(Date.now()-new Date(this.datoUsuarioEsteNodo.estudiado).getTime())/(this.datoUsuarioEsteNodo.diasRepaso*864e5/100);return t>100&&(t=100),t<0&&(t=0),100-t},usuarioExperto(){var e,t;return!((e=this.usuario)!=null&&e.id)||!((t=this.elNodo)!=null&&t.expertos)?!1:this.elNodo.expertos.includes(this.usuario.id)}},methods:{desplegar(){console.log("desplegandoControles"),this.elNodo&&(this.desplegado||(this.desplegado=!0))},crearNodoDependencia(){if(console.log("creando nodo dependencia"),!this.usuarioExperto&&!this.usuarioSuperadministrador){console.log("No autorizado");return}this.creandoNodoUnder=!0,this.$apollo.mutate({mutation:Fe`
          mutation($idNodoTarget: ID!){
            crearNodoConocimientoUnderNodo(idNodoTarget: $idNodoTarget){
              id
              vinculos{
                id
                idRef
                tipo
                rol
              }
              autoCoords{
                x
                y
              }
            }
          }
        `,variables:{idNodoTarget:this.elNodo.id}}).then(({data:{crearNodoConocimientoUnderNodo:e}})=>{this.creandoNodoUnder=!1,this.$emit("nodoCreado",e[1]),console.log("creado nodo "+e[1].id)}).catch(e=>{console.log("Error: "+e),this.creandoNodoUnder=!1})},emitirOpenNodo(e){console.log("Emitiendo el open nodo"),this.$emit("openNodoCaptured",this.elNodo.id),e.preventDefault()},setFilaMostrada(e){this.filaMostrada<e||this.filaMostrada===1?this.direccionTransicion="left":this.direccionTransicion="right",this.filaMostrada=e},setNodoTarget(e=this.idNodo){var r;const t=Fe`
          query{
           yo{
            id
             atlas{
             id
               idNodoTarget
             }
            }
         }
        `;e=e===this.idNodoTarget?null:e;const o=this.$apollo.provider.defaultClient,i=o.readQuery({query:t});if(!((r=i.yo)!=null&&r.atlas)||e===i.yo.atlas.idNodoTarget)return;let n=JSON.parse(JSON.stringify(i));n.yo.atlas.idNodoTarget=e,o.writeQuery({query:t,data:n}),this.$apollo.mutate({mutation:Fe`
          mutation($idNodo: ID){
            setNodoAtlasTarget(idNodo:$idNodo)
          }
        `,variables:{idNodo:e}}).catch(s=>{console.log(`Error sincronizando nodo target: ${s}`)})},startTouchAnuncioTarget(e){this.startTouchTargetX=e.touches[0].clientX},moveTouchAnuncioTarget(e){let t=40;if(this.startTouchTargetX){let o=e.touches[0].clientX-this.startTouchTargetX;if(Math.abs(o)>t){let i=-o/Math.abs(o);this.$emit("stepNivelesUnderTarget",i),this.startTouchTargetX=null}}},endTouchAnuncioTarget(){this.startTouchTargetX=null},movimientoTouch(e){let t=60;if(this.touchStartX){let o=e.touches[0].clientX-this.touchStartX;if(console.log(`mov de ${o}`),Math.abs(o)>t){let i=-o/Math.abs(o);this.stepFilaMostrada(i),this.touchStartX=null}}},stepFilaMostrada(e){this.direccionTransicion=e>0?"left":"right",this.filaMostrada+=e,this.filaMostrada>this.cantidadFilas&&(this.filaMostrada=1),this.filaMostrada<1&&(this.filaMostrada=this.cantidadFilas)},finTouch(){this.touchStartX=null},inicioTouch(e){console.log("registro de touchstart"),this.touchStartX=e.touches[0].clientX,console.log(`Queda en ${this.touchStartX}`)},eliminarNodo(){if(!this.usuarioSuperadministrador){console.log("No autorizado");return}if(!confirm("¿Seguro de que quieres eliminar este nodo?"))return;let e=this.elNodo.id;this.eliminandose=!0,console.log("enviando mutacion de eliminar nodo"),this.$apollo.mutate({mutation:Fe`
            mutation ($idNodo: ID!) {
              eliminarNodo(idNodo: $idNodo){
                id
                vinculos{
                  id
                  idRef
                  tipo
                  rol
                }

              }
            }
          `,variables:{idNodo:e}}).then(({data:{eliminarNodo:t}})=>{console.log(t.length+" nodos afectados por la eliminación de un nodo"),this.eliminandose=!1,this.$emit("nodoEliminado",e)}).catch(t=>{this.eliminandose=!1,console.log(`Error eliminando nodo. : ${t}`)})},crearDependenciaNodo(e){if(!e||!this.elNodo)return;let t=this.elNodo;console.log(`Mutando que ${e} es dependencia de ${t.nombre}`),this.creandoDependencia=!0,this.$apollo.mutate({mutation:Fe`
            mutation($tipo: String!, $idSource: ID!, $idTarget: ID!){
              crearVinculo(tipo: $tipo, idSource: $idSource, idTarget: $idTarget){
                modificados{
                  id
                  vinculos{
                    id
                    idRef
                    tipo
                    rol
                  }
                }
              }
            }
            `,variables:{tipo:"continuacion",idSource:e,idTarget:t.id}}).then(()=>{this.creandoDependencia=!1,this.$emit("cancelarCreandoDependencia")}).catch(o=>{console.log("Error: "+o),this.raiseAccion("Error creando dependencia","error"),this.creandoDependencia=!1})},eliminarVinculo(e){if(!this.usuarioExperto&&!this.usuarioSuperadministrador)return;let t=e.idRef;this.idVinculoEliminando=e.id,this.$apollo.mutate({mutation:Fe`
              mutation($idSource: ID!, $idTarget: ID!){
                eliminarVinculoFromTo(idSource: $idSource, idTarget: $idTarget){
                  modificados{
                    id
                    vinculos{
                      id
                      idRef
                      tipo
                      rol
                    }
                  }
                }
              }
              `,variables:{idSource:t,idTarget:this.elNodo.id}}).then(()=>{this.idVinculoEliminando=null}).catch(o=>{console.log("Error: "+o),this.idVinculoEliminando=null})},toggleDespliege(){this.mostrandoFlechasConexiones||(this.desplegado=!this.desplegado)},clickFuera(){this.mostrandoFlechasConexiones=!1},marcarEstudiado(){this.settingDateEstudiado=!0,this.$apollo.mutate({mutation:Fe`
                    mutation( $idUsuario: ID!, $idNodo: ID!, $fecha: Date!){
                        setDateNodoConocimientoEstudiadoUsuario(idUsuario: $idUsuario, idNodo: $idNodo, fecha: $fecha){
                            ...fragDatoNodoConocimiento
                        }
                    }
                    ${da}
                    `,variables:{idUsuario:this.usuario.id,idNodo:this.elNodo.id,fecha:new Date}}).then(({data:{setDateNodoConocimientoEstudiadoUsuario:e}})=>{this.settingDateEstudiado=!1;let t=this.$apollo.provider.defaultClient,o=t.readQuery({query:xo,variables:{idUsuario:this.usuario.id}});if(o.yo.atlas.datosNodos.indexOf(n=>n.idNodo===this.elNodo.id)===-1){let n=JSON.parse(JSON.stringify(o));n.yo.atlas.datosNodos.push(e),t.writeQuery({query:xo,variables:{idUsuario:this.usuario.id},data:n})}this.$emit("cambioEstadoEstudiadoNodo")}).catch(e=>{console.log("Error: "+e),this.settingDateEstudiado=!1})},setDiasRepaso(){this.elNodo&&(this.diasRepaso=Number(this.$refs.inputDiasRepaso.value),!(this.datosUsuarioEsteNodo&&this.diasRepaso===this.datoUsuarioEsteNodo.diasRepaso)&&(this.diasRepaso<1||!this.diasRepaso>3e3||(this.guardandoDiasRepaso=!0,this.$apollo.mutate({mutation:Fe`
                    mutation($idNodo: ID!, $nuevoDiasRepaso: Int!){
                        setDiasRepasoNodoConocimientoUsuario(idNodo: $idNodo, nuevoDiasRepaso: $nuevoDiasRepaso){
                             ...fragDatoNodoConocimiento
                        }
                    }
                    ${da}
                    `,variables:{idNodo:this.elNodo.id,nuevoDiasRepaso:this.diasRepaso}}).then(()=>{this.guardandoDiasRepaso=!1,this.mostrando=""}).catch(e=>{console.log("Error: "+e),this.guardandoDiasRepaso=!1}))))},marcarAprendido(){if(!this.elNodo)return;let e=!0;this.datoUsuarioEsteNodo&&(e=!this.datoUsuarioEsteNodo.aprendido),this.settingEstadoAprendido=!0,this.$apollo.mutate({mutation:Fe`
                    mutation($idNodo: ID!, $nuevoEstadoAprendido: Boolean!){
                        setNodoAtlasAprendidoUsuario(idNodo: $idNodo, nuevoEstadoAprendido: $nuevoEstadoAprendido){
                            ...fragDatoNodoConocimiento
                        }
                    }
                    ${da}
                    `,variables:{idNodo:this.elNodo.id,nuevoEstadoAprendido:e}}).then(({data:{setNodoAtlasAprendidoUsuario:t}})=>{this.settingEstadoAprendido=!1;let o=this.$apollo.provider.defaultClient,i=o.readQuery({query:xo,variables:{idUsuario:this.usuario.id}}),n=t.filter(s=>{var l,a,c;return((c=(a=(l=i.yo)==null?void 0:l.atlas)==null?void 0:a.datosNodos)==null?void 0:c.findIndex(u=>u.idNodo===s.idNodo))===-1});console.log("Nuevos datos nodos: ",n.length);let r=JSON.parse(JSON.stringify(i));r.yo.atlas.datosNodos=r.yo.atlas.datosNodos.concat(n),o.writeQuery({query:xo,variables:{idUsuario:this.usuario.id},data:r}),this.$emit("cambioEstadoEstudiadoNodo")}).catch(t=>{console.log("Error: "+t),this.settingEstadoAprendido=!1})},recalcularHeights(){this.$nextTick(()=>{this.heightNombre=this.$refs.nombre.clientHeight,this.heightAll=this.$el.clientHeight})},iniciarCrearDependenciaNodo(){this.elNodo&&this.$emit("iniciarCrearDependenciaNodo",this.elNodo)},zoomWheel(e){if(!this.hovered)return;if(e.preventDefault(),e.timeStamp-this.lastEventoWheel<this.intervaloEventoWheel)return!0;let t=e.deltaY,o=t/Math.abs(t);return this.stepFilaMostrada(o),this.lastEventoWheel=e.timeStamp,!0}},watch:{elNodo(e){this.mostrandoFlechasConexiones=!1,e||(this.desplegado=!1,this.mostrando="",this.heightAll=0,this.$emit("cancelarCreandoDependencia")),this.$nextTick(()=>{this.recalcularHeights()})},datoUsuarioEsteNodo(e){e&&(this.diasRepaso=e.diasRepaso||0)},mostrando(e){this.recalcularHeights()}},mounted(){this.montado=!0,this.desplegado=!1}},tc="/caracol/assets/codeBranch-1d161a21.svg",Ki="/caracol/assets/crosshairsSolid-e6c81b12.svg",Mb="/caracol/assets/lockSolid-fc625c97.svg",XP="/caracol/assets/bookSolid-eae94e37.svg",Fb="/caracol/assets/stopwatchSolid-d874903c.svg",ZP="/caracol/assets/circlecheckSolid-bfeb7e39.svg",gs="/caracol/assets/plugSolid-112ef2fb.svg",Ji="/caracol/assets/plusCircle-b5e3a2dd.svg",kn="/caracol/assets/trash-63deb6cc.svg",ek="/caracol/assets/expandSolid-e988a130.svg",Ut=e=>(it("data-v-16e9180d"),e=e(),rt(),e),tk={id:"contenedorAnuncios"},ok={id:"anuncioCreandoDependencia"},nk={class:"anuncio anuncioSeleccion"},ik={src:tc,alt:"Dependencia"},rk=Ut(()=>v("span",null," Conectando dependencia ",-1)),sk=Ut(()=>v("img",{src:$t,alt:"Cancelar"},null,-1)),ak=[sk],ck=Ut(()=>v("div",{class:"subanuncio"},null,-1)),lk=Ut(()=>v("img",{src:Ki,alt:"Mira"},null,-1)),uk=Ut(()=>v("span",null,"Nodo en la mira",-1)),dk=[lk,uk],hk={key:0,src:ms,alt:"Skill"},fk={key:1,src:ps,alt:"Skill"},pk={class:"anuncio",style:{opacity:"0.7"}},mk=Ut(()=>v("img",{src:Mb,alt:"Bloqueo",style:{height:"15px"}},null,-1)),gk={class:"bloqueControl",style:{}},vk={src:XP,alt:"Repaso"},yk=Ut(()=>v("img",{src:Fb,alt:"Repaso"},null,-1)),bk={src:ZP,alt:"Check"},wk={class:"bloqueControl",id:"bloqueControlDependencias"},Ek=Ut(()=>v("img",{src:tc,alt:"Repaso"},null,-1)),_k=Ut(()=>v("img",{src:gs,alt:"Nuevo"},null,-1)),Sk=[_k],Nk=Ut(()=>v("img",{src:Ji,alt:"Crear"},null,-1)),Ck=[Nk],Ak={key:0,class:"bloqueControl"},xk=Ut(()=>v("img",{src:kn,alt:"Eliminar"},null,-1)),Tk=[xk],Ik={class:"contenidoMostrado",id:"zonaGestionDependencias"},Dk={key:0,id:"listaDependencias"},Pk=["onClick"],kk={src:$t,alt:"Eliminar"},Ok={class:"anuncioZonaVacia"},Rk=Ut(()=>v("img",{src:Ki,alt:"Crosshair"},null,-1)),Lk=[Rk],Mk={id:"zonaDescripcionNodo"},Fk={id:"descripcionNodo"},Bk={key:0,class:"anuncioZonaVacia"},$k={class:"bloqueControl"},Uk=Ut(()=>v("div",{class:"botonTexto"},[v("img",{src:ek,alt:"Expandir"}),Ke(" Visitar ")],-1)),qk={key:0,class:"bloqueControl",id:"bloqueControlBrowse"},jk=Ut(()=>v("img",{src:tc,alt:"Ramas"},null,-1)),Vk={class:"bloqueControl",id:"bloqueControlTarget"},Hk=Ut(()=>v("img",{src:Ki,alt:"Mira"},null,-1)),zk=Ut(()=>v("img",{src:$t,alt:"Cancelar"},null,-1)),Gk=[zk],Wk={id:"zonaSelectorFilas"},Qk=["onClick"],Kk={id:"zonaMostrada"},Jk={class:"bloqueConfiguracion bloqueSplash",id:"configuracionTiempoRepaso"},Yk=Ut(()=>v("img",{src:$t,alt:"Cerrar"},null,-1)),Xk=[Yk],Zk=Ut(()=>v("h3",{class:"tituloSplash"},[v("img",{src:Fb,alt:"Crono"}),Ke(" Periodo de repaso ")],-1)),eO={class:"descripcionSplash"};function tO(e,t){var l,a,c;const o=Oe("Loading"),i=Oe("loading"),n=Oe("pie-progreso"),r=Oe("nodo-conocimiento-vista-lista"),s=Oe("router-link");return Y(),re("div",{class:we(["controlesNodo",{deshabilitado:e.eliminandose}]),style:Ve(e.estiloPos),onClick:t[28]||(t[28]=(...u)=>e.clickFuera&&e.clickFuera(...u))},[v("div",tk,[Q(v("div",ok,[v("div",nk,[Q(v("img",ik,null,512),[[Z,!e.creandoDependencia]]),Q(Te(o,null,null,512),[[Z,e.creandoDependencia]]),rk,v("div",{class:"boton",onClick:t[0]||(t[0]=Ie(u=>e.$emit("cancelarCreandoDependencia"),["stop"]))},ak)]),ck],512),[[Z,e.nodoCreandoDependencia]]),Q(v("div",{class:we(["anuncio",{anuncioSeleccion:e.idNodoTarget===((l=e.elNodo)==null?void 0:l.id),deshabilitado:!e.nodoTargetRelevante}]),id:"anuncioNodoTarget",onClick:t[1]||(t[1]=u=>e.$emit("centerEnTarget")),onMouseenter:t[2]||(t[2]=u=>e.$emit("hoveringAnuncioTarget",!0)),onMouseleave:t[3]||(t[3]=u=>e.$emit("hoveringAnuncioTarget",!1)),onTouchstart:t[4]||(t[4]=(...u)=>e.startTouchAnuncioTarget&&e.startTouchAnuncioTarget(...u)),onTouchmove:t[5]||(t[5]=(...u)=>e.moveTouchAnuncioTarget&&e.moveTouchAnuncioTarget(...u)),onTouchend:t[6]||(t[6]=(...u)=>e.endTouchAnuncioTarget&&e.endTouchAnuncioTarget(...u))},dk,34),[[Z,e.idNodoTarget&&(!e.elNodo||e.elNodo.id==e.idNodoTarget)]])]),v("div",{id:"nombre",ref:"nombre",onClick:t[7]||(t[7]=(...u)=>e.toggleDespliege&&e.toggleDespliege(...u))},[e.elNodo&&e.elNodo.tipoNodo==="concepto"?(Y(),re("img",hk)):(Y(),re("img",fk)),Ke(" "+Ae(((a=e.elNodo)==null?void 0:a.nombre)||""),1)],512),e.elNodo&&!e.$apollo.queries.elNodoDB.loading?Q((Y(),re("div",{key:0,id:"zonaControles",onClick:t[19]||(t[19]=()=>{}),onMouseenter:t[20]||(t[20]=u=>e.hovered=!0),onMouseleave:t[21]||(t[21]=u=>e.hovered=!1),onTouchstart:t[22]||(t[22]=Ie((...u)=>e.inicioTouch&&e.inicioTouch(...u),["stop"])),onTouchmove:t[23]||(t[23]=Ie((...u)=>e.movimientoTouch&&e.movimientoTouch(...u),["stop"])),onTouchend:t[24]||(t[24]=Ie((...u)=>e.finTouch&&e.finTouch(...u),["stop"]))},[Te(Jv,{name:"pan",onAfterLeave:e.recalcularHeights,tag:"div",id:"transicionFilas"},{default:wt(()=>{var u,h,p,g;return[Q(v("div",{class:we(["filaControles",[e.direccionTransicion]]),key:"fila1"},[Q(v("div",pk,[mk,Ke(" ¡Tienes nodos por completar que son necesarios para este! ")],512),[[Z,!e.nodoAccesible]]),v("div",gk,[v("div",{class:we(["botonTexto selector botonControl",{deshabilitado:e.nodoAprendido,checked:e.nodoFresco}]),onClick:t[8]||(t[8]=(...y)=>e.marcarEstudiado&&e.marcarEstudiado(...y)),onDblclick:t[9]||(t[9]=(...y)=>e.marcarAprendido&&e.marcarAprendido(...y)),style:{"align-self":"normal","border-top-right-radius":"0px","border-bottom-right-radius":"0px","flex-grow":"1","flex-shrink":"1"}},[Q(Te(i,null,null,512),[[Z,e.settingDateEstudiado]]),Q(v("img",vk,null,512),[[Z,!e.settingDateEstudiado]]),Ke(" Estudiado ")],34),Q(v("div",{class:"botonTexto botonControl",style:{"border-top-left-radius":"0px","border-bottom-left-radius":"0px","align-self":"normal"},onClick:t[10]||(t[10]=Ie(y=>e.mostrando=e.mostrando==="tiempoRepaso"?"":"tiempoRepaso",["stop"]))},[Te(n,{mostrarNumero:!1,"color-progreso":"#3f7d20","color-fondo":"transparent",progreso:e.porcentajeRepaso,size:40},{default:wt(()=>[yk]),_:1},8,["progreso"]),Ke(" "+Ae(e.datoUsuarioEsteNodo?e.datoUsuarioEsteNodo.diasRepaso:""),1)],512),[[Z,e.datoUsuarioEsteNodo&&e.datoUsuarioEsteNodo.estudiado&&e.datoUsuarioEsteNodo.diasRepaso&&!e.nodoAprendido]]),v("div",{class:we(["botonTexto selector botonControl",{checked:e.nodoAprendido}]),id:"botonMarcarAprendido",style:{width:"100%"},onClick:t[11]||(t[11]=(...y)=>e.marcarAprendido&&e.marcarAprendido(...y))},[Q(Te(i,null,null,512),[[Z,e.settingEstadoAprendido]]),Q(v("img",bk,null,512),[[Z,!e.settingEstadoAprendido]]),Ke(" "+Ae("Aprendido"))],2)])],2),[[Z,e.filaMostrada===2]]),Q(v("div",{class:we(["filaControles",[e.direccionTransicion]]),key:"fila3"},[v("div",wk,[v("div",{class:we(["botonTexto selector botonControl",{activo:e.mostrando==="dependenciasNodo",deshabilitado:e.dependenciasNodo.length===0}]),onClick:t[12]||(t[12]=y=>e.mostrando=e.mostrando==="dependenciasNodo"?null:"dependenciasNodo")},[Ek,Ke(" Dependencias ")],2),e.usuarioSuperadministrador||e.usuarioExpertoNodo?(Y(),re("div",{key:0,class:we(["botonTexto",{deshabilitado:e.nodoCreandoDependencia}]),id:"botonCrearDependenciaNodo",onClick:t[13]||(t[13]=Ie((...y)=>e.iniciarCrearDependenciaNodo&&e.iniciarCrearDependenciaNodo(...y),["stop"]))},Sk,2)):Ee("",!0),v("div",{class:"botonTexto",onClick:t[14]||(t[14]=(...y)=>e.crearNodoDependencia&&e.crearNodoDependencia(...y))},Ck)]),e.usuarioSuperadministrador?(Y(),re("div",Ak,[Q(Te(o,null,null,512),[[Z,e.eliminandose]]),Q(v("div",{class:"boton botonControl",onClick:t[15]||(t[15]=(...y)=>e.eliminarNodo&&e.eliminarNodo(...y))},Tk,512),[[Z,!e.eliminandose]])])):Ee("",!0),Q(v("div",Ik,[e.elNodo&&e.elNodo.vinculos?(Y(),re("div",Dk,[(Y(!0),re(He,null,Ze(e.dependenciasNodo,y=>(Y(),re("div",{class:"dependencia",key:y.id},[Te(r,{idNodo:y.idRef,yo:e.yo},null,8,["idNodo","yo"]),e.usuarioExperto||e.usuarioSuperadministrador?(Y(),re("div",{key:0,class:we(["botonTexto botonEliminarDependencia",{deshabilitado:e.idVinculoEliminando===y.id}]),onClick:Ie(N=>e.eliminarVinculo(y),["stop"])},[Q(Te(o,null,null,512),[[Z,e.idVinculoEliminando===y.id]]),Q(v("img",kk,null,512),[[Z,e.idVinculoEliminando!=y.id]])],10,Pk)):Ee("",!0)]))),128)),Q(v("div",Ok," Este nodo no tiene dependencias ",512),[[Z,e.dependenciasNodo.length===0]])])):Ee("",!0)],512),[[Z,e.mostrando==="dependenciasNodo"]])],2),[[Z,e.filaMostrada===3]]),Q(v("div",{class:we(["filaControles",[e.direccionTransicion]]),key:"fila1",style:{gap:"10px"}},[v("div",{id:"botonLocalizarNodo",class:"boton",style:{height:"20px"},onClick:t[16]||(t[16]=Ie(y=>e.$emit("localizeMe"),["stop"]))},Lk),v("div",Mk,[v("div",Fk,[Ke(Ae(e.elNodo.descripcion||"")+" ",1),!((h=(u=e.elNodo)==null?void 0:u.descripcion)!=null&&h.length)>0?(Y(),re("div",Bk," Aún no hay descripción ")):Ee("",!0)])]),v("div",$k,[(p=e.elNodo)!=null&&p.id?(Y(),Qe(s,{key:0,to:{name:"visorNodoConocimiento",params:{idNodo:e.elNodo.id}}},{default:wt(()=>[Uk]),_:1},8,["to"])):Ee("",!0)]),(g=e.elNodo)!=null&&g.id?(Y(),re("div",qk,[Te(s,{to:{name:"atlas",params:{tipoBrowse:"browseNodo",idBrowsed:e.elNodo.id}},class:"botonTexto"},{default:wt(()=>[jk,Ke(" Explorar ")]),_:1},8,["to"])])):Ee("",!0),v("div",Vk,[v("div",{class:we(["botonTexto selector",{activo:e.elNodo.id===e.idNodoTarget}]),onClick:t[17]||(t[17]=y=>e.setNodoTarget(e.elNodo.id))},[Hk,Ke(" En la mira ")],2),Q(v("div",{class:"botonTexto",style:{"align-self":"stretch"},onClick:t[18]||(t[18]=y=>e.setNodoTarget(null))},Gk,512),[[Z,e.elNodo.id===e.idNodoTarget]])])],2),[[Z,e.filaMostrada===1]])]}),_:1},8,["onAfterLeave"]),v("div",Wk,[(Y(!0),re(He,null,Ze(e.cantidadFilas,u=>(Y(),re("div",{class:we(["selectorFila boton selector",{activo:e.filaMostrada===u}]),key:"selectorFila"+u,onClick:Ie(h=>e.setFilaMostrada(u),["stop"])},null,10,Qk))),128))])],544)),[[Z,e.desplegado]]):Ee("",!0),Q(v("div",Kk,null,512),[[Z,e.mostrando]]),(Y(),Qe(Mv,{to:"body"},[Q(v("div",Jk,[v("div",{class:"boton",id:"botonCerrar",onClick:t[25]||(t[25]=u=>e.mostrando="")},Xk),Zk,Q(v("input",{type:"number",ref:"inputDiasRepaso",id:"inputDiasRepaso",min:"0",max:"180","onUpdate:modelValue":t[26]||(t[26]=u=>e.diasRepaso=u)},null,512),[[Je,e.diasRepaso]]),v("div",eO," Selecciona la cantidad de días entre repasos para el nodo "+Ae(((c=e.elNodo)==null?void 0:c.nombre)||"")+". ",1),v("div",{class:we(["botonTexto",{deshabilitado:e.guardandoDiasRepaso}]),onClick:t[27]||(t[27]=(...u)=>e.setDiasRepaso&&e.setDiasRepaso(...u))}," Aceptar ",2),Q(Te(i,null,null,512),[[Z,e.guardandoDiasRepaso]])],512),[[Z,e.mostrando==="tiempoRepaso"]])]))],6)}const Bb=Ge(YP,[["render",tO],["__scopeId","data-v-16e9180d"]]),oO=Fe`
    query($idNodo:ID!){
        nodo(idNodo:$idNodo){
            id
            nombre
            vinculos{
                id
                tipo
                rol
                idRef
            }
        }
    }

`,nO={name:"NodoConocimientoVistaArbol",props:{idNodoUp:{type:String},idNodo:{type:String,required:!0},idNodoSeleccionado:{type:String,default:null},nivelArbol:{type:Number,default:0},refreshLineaHorizontal:{type:Number,default:0}},apollo:{yo:{query:xo,fetchPolicy:"cache-first",skip(){var e;return!((e=this.usuario)!=null&&e.id)}},elNodo:{query:oO,variables(){return{idNodo:this.idNodo}},update({nodo:e}){return e},skip(){return!this.idNodo},fetchPolicy:"cacheFirst"}},data(){return{elNodo:{vinculos:[]},paddingTopArbol:50,paddingLateralArbol:30,montado:!1,selfUnfolded:!1,xCentro:0,yCentro:0,anchosSubnodos:[],gapSubnodos:100,anchoMiArbol:100,anchoMiLinea:0,leftMiLinea:0}},methods:{updateMeasurements(){var r,s;if(!((r=this.$refs)!=null&&r.contenedorArbol)){this.anchoMiArbol=0;return}if(this.anchoMiArbol=this.$refs.contenedorArbol.offsetWidth,!((s=this.$refs)!=null&&s.subnodo))return;let e=this.$refs.subnodo;if(e.length<2){this.anchoMiLinea=0;return}let t=e[0],o=e[e.length-1],i=t.$el.offsetWidth,n=o.$el.offsetWidth;this.anchoMiLinea=this.anchoMiArbol-i/2-n/2-2*this.paddingLateralArbol,this.leftMiLinea=i/2+this.paddingLateralArbol},calcularAnchoMiArbol:ls(function(){this.updateMeasurements(),this.$nextTick(()=>{this.$emit("anchoUpdated")})},300),prepareDataScroll(){let e=this.$el.getBoundingClientRect();this.xCentro=e.left+e.width/2,this.yCentro=e.top+e.height/2},forwardScrollMe(e){this.$emit("scrollMe",e)},askScrollMe(){let e=this;this.$emit("scrollMe",{elem:e,xCentro:this.xCentro,yCentro:this.yCentro})},toggleSelfUnfolded(){this.selfUnfolded=!this.selfUnfolded}},computed:{targeted(){var e,t;return((t=(e=this.yo)==null?void 0:e.atlas)==null?void 0:t.idNodoTarget)===this.elNodo.id},estiloLineaReceptora(){return{height:this.paddingTopArbol+"px"}},estiloLineaHorizontalContenedorArbol(){return{width:this.anchoMiLinea+"px",left:this.leftMiLinea+"px"}},estiloContenedorArbol(){let e=this.paddingTopArbol,t=100,o=this.paddingLateralArbol,i=this.paddingLateralArbol,n=this.gapSubnodos;return{paddingTop:e+"px",paddingBottom:t+"px",paddingLeft:o+"px",paddingRight:i+"px",gap:n+"px"}},idsDependencias(){return this.elNodo.vinculos.filter(t=>t.tipo==="continuacion"&&t.rol==="target").map(t=>t.idRef)},idsNodosVerdes(){var e,t;return(t=(e=this.yo)==null?void 0:e.atlas)!=null&&t.datosNodos?this.yo.atlas.datosNodos.filter(o=>o.estadoAprendizaje==="ESTUDIADO"||o.estadoAprendizaje==="APRENDIDO").map(o=>o.idNodo):[]},seleccionado(){return this.idNodoSeleccionado===this.idNodo},accesible(){return!this.elNodo.vinculos.some(e=>e.tipo==="continuacion"&&e.rol==="target"&&!this.idsNodosVerdes.includes(e.idRef))},datosUsuarioEsteNodo(){return this.yo.atlas.datosNodos?this.yo.atlas.datosNodos.find(e=>e.idNodo===this.idNodo):null}},watch:{refreshLineaHorizontal(){if(!this.$refs)return;let e=this.$refs["contenedorArbol"+this.idNodo];e&&e.scrollWidth!=this.anchoArbol&&this.$nextTick(()=>{this.anchoArbol=e.scrollWidth}),setTimeout(()=>{let t=this.$refs["contenedorArbol"+this.idNodo];t&&(this.anchoArbol=t.scrollWidth)},700)}}},Yi="/caracol/assets/ellipsisVertical-b6601740.svg",iO="/caracol/assets/longarrowDown-bfc63e81.svg",rO={key:0,src:Ki,alt:"Mira",id:"iconoTargeted"},sO={class:"bolita"},aO={key:0,src:Mb,alt:"Lock",id:"iconoInaccesible"},cO={key:1,src:ms,alt:"Skill"},lO={key:2,src:ps,alt:"Skill"},uO={class:"cajaTexto"},dO={style:{transform:"scale(0.6)"},src:Yi,alt:"Cerrado"},hO={src:iO,alt:"Arrow"};function fO(e,t){var i;const o=Oe("nodo-conocimiento-vista-arbol",!0);return Y(),re("div",{class:we(["nodoConocimientoVistaArbol nodoConocimientoConBola",[{seleccionado:e.seleccionado,accesible:e.accesible,targeted:e.targeted},(((i=e.datosUsuarioEsteNodo)==null?void 0:i.estadoAprendizaje)||"").toLowerCase()]]),onClick:t[6]||(t[6]=Ie(n=>e.$emit("clickEnNodo",e.idNodo),["stop"])),onDblclick:t[7]||(t[7]=Ie(n=>e.$router.push({name:"visorNodoConocimiento",params:{idNodo:e.idNodo}}),["stop"]))},[Q(v("div",{id:"lineaReceptora",style:Ve([e.estiloLineaReceptora])},null,4),[[Z,e.nivelArbol>0]]),e.targeted?(Y(),re("img",rO)):Ee("",!0),v("div",sO,[e.accesible?Ee("",!0):(Y(),re("img",aO)),e.elNodo.tipoNodo==="concepto"?(Y(),re("img",cO)):(Y(),re("img",lO))]),v("div",uO,Ae(e.elNodo.nombre),1),this.elNodo.vinculos.some(n=>n.tipo==="continuacion"&&n.rol==="target")?(Y(),re("div",{key:1,class:"boton",id:"botonDesplegarDependencias",onClick:t[0]||(t[0]=Ie((...n)=>e.toggleSelfUnfolded&&e.toggleSelfUnfolded(...n),["stop"]))},[Q(v("img",dO,null,512),[[Z,!e.selfUnfolded]]),Q(v("img",hO,null,512),[[Z,e.selfUnfolded]])])):Ee("",!0),Te(Wi,{name:e.idsDependencias.length>1?"unfoldHorizontally":"unfoldVertically",onBeforeEnter:e.prepareDataScroll,onEnter:t[4]||(t[4]=n=>{e.askScrollMe(),e.calcularAnchoMiArbol()}),onBeforeLeave:e.prepareDataScroll,onAfterLeave:t[5]||(t[5]=n=>{e.askScrollMe(),e.calcularAnchoMiArbol()})},{default:wt(()=>[e.selfUnfolded?(Y(),re("div",{key:0,id:"contenedorArbol",ref:"contenedorArbol",style:Ve([e.estiloContenedorArbol]),onClick:t[3]||(t[3]=Ie(()=>{},["stop"]))},[Q(v("div",{id:"lineaHorizontal",style:Ve([e.estiloLineaHorizontalContenedorArbol])},null,4),[[Z,e.idsDependencias.length>1]]),Te(Jv,{style:{display:"flex",gap:"100px","align-items":"flex-start"},tag:"div",name:"unfoldVertically",onEnter:e.calcularAnchoMiArbol,onAfterLeave:e.calcularAnchoMiArbol},{default:wt(()=>[(Y(!0),re(He,null,Ze(e.idsDependencias,n=>(Y(),Qe(o,{ref_for:!0,ref:"subnodo",key:n,idNodo:n,idNodoSeleccionado:e.idNodoSeleccionado,yo:e.yo,nivelArbol:e.nivelArbol+1,idNodoUp:e.idNodo,refreshLineaHorizontal:e.refreshLineaHorizontal,onScrollMe:e.forwardScrollMe,onComponentUpdated:t[1]||(t[1]=r=>e.$emit("componentUpdated")),onClickEnNodo:t[2]||(t[2]=r=>e.$emit("clickEnNodo",r)),onAnchoUpdated:e.calcularAnchoMiArbol},null,8,["idNodo","idNodoSeleccionado","yo","nivelArbol","idNodoUp","refreshLineaHorizontal","onScrollMe","onAnchoUpdated"]))),128))]),_:1},8,["onEnter","onAfterLeave"])],4)):Ee("",!0)]),_:1},8,["name","onBeforeEnter","onBeforeLeave"])],34)}const $b=Ge(nO,[["render",fO],["__scopeId","data-v-c2b61d47"]]);function Ub(e,t){return function(){return e.apply(t,arguments)}}const{toString:qb}=Object.prototype,{getPrototypeOf:Yd}=Object,Xd=(e=>t=>{const o=qb.call(t);return e[o]||(e[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),tn=e=>(e=e.toLowerCase(),t=>Xd(t)===e),oc=e=>t=>typeof t===e,{isArray:Xi}=Array,ns=oc("undefined");function pO(e){return e!==null&&!ns(e)&&e.constructor!==null&&!ns(e.constructor)&&Pn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const jb=tn("ArrayBuffer");function mO(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&jb(e.buffer),t}const gO=oc("string"),Pn=oc("function"),Vb=oc("number"),Zd=e=>e!==null&&typeof e=="object",vO=e=>e===!0||e===!1,ha=e=>{if(Xd(e)!=="object")return!1;const t=Yd(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},yO=tn("Date"),bO=tn("File"),wO=tn("Blob"),EO=tn("FileList"),_O=e=>Zd(e)&&Pn(e.pipe),SO=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||qb.call(e)===t||Pn(e.toString)&&e.toString()===t)},NO=tn("URLSearchParams"),CO=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vs(e,t,{allOwnKeys:o=!1}={}){if(e===null||typeof e>"u")return;let i,n;if(typeof e!="object"&&(e=[e]),Xi(e))for(i=0,n=e.length;i<n;i++)t.call(null,e[i],i,e);else{const r=o?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let l;for(i=0;i<s;i++)l=r[i],t.call(null,e[l],l,e)}}function Hb(e,t){t=t.toLowerCase();const o=Object.keys(e);let i=o.length,n;for(;i-- >0;)if(n=o[i],t===n.toLowerCase())return n;return null}const zb=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Gb=e=>!ns(e)&&e!==zb;function Ju(){const{caseless:e}=Gb(this)&&this||{},t={},o=(i,n)=>{const r=e&&Hb(t,n)||n;ha(t[r])&&ha(i)?t[r]=Ju(t[r],i):ha(i)?t[r]=Ju({},i):Xi(i)?t[r]=i.slice():t[r]=i};for(let i=0,n=arguments.length;i<n;i++)arguments[i]&&vs(arguments[i],o);return t}const AO=(e,t,o,{allOwnKeys:i}={})=>(vs(t,(n,r)=>{o&&Pn(n)?e[r]=Ub(n,o):e[r]=n},{allOwnKeys:i}),e),xO=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),TO=(e,t,o,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),o&&Object.assign(e.prototype,o)},IO=(e,t,o,i)=>{let n,r,s;const l={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),r=n.length;r-- >0;)s=n[r],(!i||i(s,e,t))&&!l[s]&&(t[s]=e[s],l[s]=!0);e=o!==!1&&Yd(e)}while(e&&(!o||o(e,t))&&e!==Object.prototype);return t},DO=(e,t,o)=>{e=String(e),(o===void 0||o>e.length)&&(o=e.length),o-=t.length;const i=e.indexOf(t,o);return i!==-1&&i===o},PO=e=>{if(!e)return null;if(Xi(e))return e;let t=e.length;if(!Vb(t))return null;const o=new Array(t);for(;t-- >0;)o[t]=e[t];return o},kO=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Yd(Uint8Array)),OO=(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=i.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},RO=(e,t)=>{let o;const i=[];for(;(o=e.exec(t))!==null;)i.push(o);return i},LO=tn("HTMLFormElement"),MO=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,i,n){return i.toUpperCase()+n}),Sg=(({hasOwnProperty:e})=>(t,o)=>e.call(t,o))(Object.prototype),FO=tn("RegExp"),Wb=(e,t)=>{const o=Object.getOwnPropertyDescriptors(e),i={};vs(o,(n,r)=>{t(n,r,e)!==!1&&(i[r]=n)}),Object.defineProperties(e,i)},BO=e=>{Wb(e,(t,o)=>{if(Pn(e)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const i=e[o];if(Pn(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},$O=(e,t)=>{const o={},i=n=>{n.forEach(r=>{o[r]=!0})};return Xi(e)?i(e):i(String(e).split(t)),o},UO=()=>{},qO=(e,t)=>(e=+e,Number.isFinite(e)?e:t),ql="abcdefghijklmnopqrstuvwxyz",Ng="0123456789",Qb={DIGIT:Ng,ALPHA:ql,ALPHA_DIGIT:ql+ql.toUpperCase()+Ng},jO=(e=16,t=Qb.ALPHA_DIGIT)=>{let o="";const{length:i}=t;for(;e--;)o+=t[Math.random()*i|0];return o};function VO(e){return!!(e&&Pn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const HO=e=>{const t=new Array(10),o=(i,n)=>{if(Zd(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[n]=i;const r=Xi(i)?[]:{};return vs(i,(s,l)=>{const a=o(s,n+1);!ns(a)&&(r[l]=a)}),t[n]=void 0,r}}return i};return o(e,0)},Ce={isArray:Xi,isArrayBuffer:jb,isBuffer:pO,isFormData:SO,isArrayBufferView:mO,isString:gO,isNumber:Vb,isBoolean:vO,isObject:Zd,isPlainObject:ha,isUndefined:ns,isDate:yO,isFile:bO,isBlob:wO,isRegExp:FO,isFunction:Pn,isStream:_O,isURLSearchParams:NO,isTypedArray:kO,isFileList:EO,forEach:vs,merge:Ju,extend:AO,trim:CO,stripBOM:xO,inherits:TO,toFlatObject:IO,kindOf:Xd,kindOfTest:tn,endsWith:DO,toArray:PO,forEachEntry:OO,matchAll:RO,isHTMLForm:LO,hasOwnProperty:Sg,hasOwnProp:Sg,reduceDescriptors:Wb,freezeMethods:BO,toObjectSet:$O,toCamelCase:MO,noop:UO,toFiniteNumber:qO,findKey:Hb,global:zb,isContextDefined:Gb,ALPHABET:Qb,generateString:jO,isSpecCompliantForm:VO,toJSONObject:HO};function at(e,t,o,i,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),o&&(this.config=o),i&&(this.request=i),n&&(this.response=n)}Ce.inherits(at,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ce.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Kb=at.prototype,Jb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Jb[e]={value:e}});Object.defineProperties(at,Jb);Object.defineProperty(Kb,"isAxiosError",{value:!0});at.from=(e,t,o,i,n,r)=>{const s=Object.create(Kb);return Ce.toFlatObject(e,s,function(a){return a!==Error.prototype},l=>l!=="isAxiosError"),at.call(s,e.message,t,o,i,n),s.cause=e,s.name=e.name,r&&Object.assign(s,r),s};const zO=null;function Yu(e){return Ce.isPlainObject(e)||Ce.isArray(e)}function Yb(e){return Ce.endsWith(e,"[]")?e.slice(0,-2):e}function Cg(e,t,o){return e?e.concat(t).map(function(n,r){return n=Yb(n),!o&&r?"["+n+"]":n}).join(o?".":""):t}function GO(e){return Ce.isArray(e)&&!e.some(Yu)}const WO=Ce.toFlatObject(Ce,{},null,function(t){return/^is[A-Z]/.test(t)});function nc(e,t,o){if(!Ce.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,o=Ce.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,I){return!Ce.isUndefined(I[N])});const i=o.metaTokens,n=o.visitor||u,r=o.dots,s=o.indexes,a=(o.Blob||typeof Blob<"u"&&Blob)&&Ce.isSpecCompliantForm(t);if(!Ce.isFunction(n))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(Ce.isDate(y))return y.toISOString();if(!a&&Ce.isBlob(y))throw new at("Blob is not supported. Use a Buffer instead.");return Ce.isArrayBuffer(y)||Ce.isTypedArray(y)?a&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,N,I){let A=y;if(y&&!I&&typeof y=="object"){if(Ce.endsWith(N,"{}"))N=i?N:N.slice(0,-2),y=JSON.stringify(y);else if(Ce.isArray(y)&&GO(y)||(Ce.isFileList(y)||Ce.endsWith(N,"[]"))&&(A=Ce.toArray(y)))return N=Yb(N),A.forEach(function(b,w){!(Ce.isUndefined(b)||b===null)&&t.append(s===!0?Cg([N],w,r):s===null?N:N+"[]",c(b))}),!1}return Yu(y)?!0:(t.append(Cg(I,N,r),c(y)),!1)}const h=[],p=Object.assign(WO,{defaultVisitor:u,convertValue:c,isVisitable:Yu});function g(y,N){if(!Ce.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+N.join("."));h.push(y),Ce.forEach(y,function(A,S){(!(Ce.isUndefined(A)||A===null)&&n.call(t,A,Ce.isString(S)?S.trim():S,N,p))===!0&&g(A,N?N.concat(S):[S])}),h.pop()}}if(!Ce.isObject(e))throw new TypeError("data must be an object");return g(e),t}function Ag(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function eh(e,t){this._pairs=[],e&&nc(e,this,t)}const Xb=eh.prototype;Xb.append=function(t,o){this._pairs.push([t,o])};Xb.toString=function(t){const o=t?function(i){return t.call(this,i,Ag)}:Ag;return this._pairs.map(function(n){return o(n[0])+"="+o(n[1])},"").join("&")};function QO(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Zb(e,t,o){if(!t)return e;const i=o&&o.encode||QO,n=o&&o.serialize;let r;if(n?r=n(t,o):r=Ce.isURLSearchParams(t)?t.toString():new eh(t,o).toString(i),r){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+r}return e}class KO{constructor(){this.handlers=[]}use(t,o,i){return this.handlers.push({fulfilled:t,rejected:o,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ce.forEach(this.handlers,function(i){i!==null&&t(i)})}}const xg=KO,e0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},JO=typeof URLSearchParams<"u"?URLSearchParams:eh,YO=typeof FormData<"u"?FormData:null,XO=typeof Blob<"u"?Blob:null,ZO=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),eR=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),$o={isBrowser:!0,classes:{URLSearchParams:JO,FormData:YO,Blob:XO},isStandardBrowserEnv:ZO,isStandardBrowserWebWorkerEnv:eR,protocols:["http","https","file","blob","url","data"]};function tR(e,t){return nc(e,new $o.classes.URLSearchParams,Object.assign({visitor:function(o,i,n,r){return $o.isNode&&Ce.isBuffer(o)?(this.append(i,o.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}function oR(e){return Ce.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function nR(e){const t={},o=Object.keys(e);let i;const n=o.length;let r;for(i=0;i<n;i++)r=o[i],t[r]=e[r];return t}function t0(e){function t(o,i,n,r){let s=o[r++];const l=Number.isFinite(+s),a=r>=o.length;return s=!s&&Ce.isArray(n)?n.length:s,a?(Ce.hasOwnProp(n,s)?n[s]=[n[s],i]:n[s]=i,!l):((!n[s]||!Ce.isObject(n[s]))&&(n[s]=[]),t(o,i,n[s],r)&&Ce.isArray(n[s])&&(n[s]=nR(n[s])),!l)}if(Ce.isFormData(e)&&Ce.isFunction(e.entries)){const o={};return Ce.forEachEntry(e,(i,n)=>{t(oR(i),n,o,0)}),o}return null}const iR={"Content-Type":void 0};function rR(e,t,o){if(Ce.isString(e))try{return(t||JSON.parse)(e),Ce.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(o||JSON.stringify)(e)}const ic={transitional:e0,adapter:["xhr","http"],transformRequest:[function(t,o){const i=o.getContentType()||"",n=i.indexOf("application/json")>-1,r=Ce.isObject(t);if(r&&Ce.isHTMLForm(t)&&(t=new FormData(t)),Ce.isFormData(t))return n&&n?JSON.stringify(t0(t)):t;if(Ce.isArrayBuffer(t)||Ce.isBuffer(t)||Ce.isStream(t)||Ce.isFile(t)||Ce.isBlob(t))return t;if(Ce.isArrayBufferView(t))return t.buffer;if(Ce.isURLSearchParams(t))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return tR(t,this.formSerializer).toString();if((l=Ce.isFileList(t))||i.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return nc(l?{"files[]":t}:t,a&&new a,this.formSerializer)}}return r||n?(o.setContentType("application/json",!1),rR(t)):t}],transformResponse:[function(t){const o=this.transitional||ic.transitional,i=o&&o.forcedJSONParsing,n=this.responseType==="json";if(t&&Ce.isString(t)&&(i&&!this.responseType||n)){const s=!(o&&o.silentJSONParsing)&&n;try{return JSON.parse(t)}catch(l){if(s)throw l.name==="SyntaxError"?at.from(l,at.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$o.classes.FormData,Blob:$o.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ce.forEach(["delete","get","head"],function(t){ic.headers[t]={}});Ce.forEach(["post","put","patch"],function(t){ic.headers[t]=Ce.merge(iR)});const th=ic,sR=Ce.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),aR=e=>{const t={};let o,i,n;return e&&e.split(`
`).forEach(function(s){n=s.indexOf(":"),o=s.substring(0,n).trim().toLowerCase(),i=s.substring(n+1).trim(),!(!o||t[o]&&sR[o])&&(o==="set-cookie"?t[o]?t[o].push(i):t[o]=[i]:t[o]=t[o]?t[o]+", "+i:i)}),t},Tg=Symbol("internals");function Cr(e){return e&&String(e).trim().toLowerCase()}function fa(e){return e===!1||e==null?e:Ce.isArray(e)?e.map(fa):String(e)}function cR(e){const t=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=o.exec(e);)t[i[1]]=i[2];return t}function lR(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function jl(e,t,o,i,n){if(Ce.isFunction(i))return i.call(this,t,o);if(n&&(t=o),!!Ce.isString(t)){if(Ce.isString(i))return t.indexOf(i)!==-1;if(Ce.isRegExp(i))return i.test(t)}}function uR(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,o,i)=>o.toUpperCase()+i)}function dR(e,t){const o=Ce.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+o,{value:function(n,r,s){return this[i].call(this,t,n,r,s)},configurable:!0})})}class rc{constructor(t){t&&this.set(t)}set(t,o,i){const n=this;function r(l,a,c){const u=Cr(a);if(!u)throw new Error("header name must be a non-empty string");const h=Ce.findKey(n,u);(!h||n[h]===void 0||c===!0||c===void 0&&n[h]!==!1)&&(n[h||a]=fa(l))}const s=(l,a)=>Ce.forEach(l,(c,u)=>r(c,u,a));return Ce.isPlainObject(t)||t instanceof this.constructor?s(t,o):Ce.isString(t)&&(t=t.trim())&&!lR(t)?s(aR(t),o):t!=null&&r(o,t,i),this}get(t,o){if(t=Cr(t),t){const i=Ce.findKey(this,t);if(i){const n=this[i];if(!o)return n;if(o===!0)return cR(n);if(Ce.isFunction(o))return o.call(this,n,i);if(Ce.isRegExp(o))return o.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,o){if(t=Cr(t),t){const i=Ce.findKey(this,t);return!!(i&&this[i]!==void 0&&(!o||jl(this,this[i],i,o)))}return!1}delete(t,o){const i=this;let n=!1;function r(s){if(s=Cr(s),s){const l=Ce.findKey(i,s);l&&(!o||jl(i,i[l],l,o))&&(delete i[l],n=!0)}}return Ce.isArray(t)?t.forEach(r):r(t),n}clear(t){const o=Object.keys(this);let i=o.length,n=!1;for(;i--;){const r=o[i];(!t||jl(this,this[r],r,t,!0))&&(delete this[r],n=!0)}return n}normalize(t){const o=this,i={};return Ce.forEach(this,(n,r)=>{const s=Ce.findKey(i,r);if(s){o[s]=fa(n),delete o[r];return}const l=t?uR(r):String(r).trim();l!==r&&delete o[r],o[l]=fa(n),i[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const o=Object.create(null);return Ce.forEach(this,(i,n)=>{i!=null&&i!==!1&&(o[n]=t&&Ce.isArray(i)?i.join(", "):i)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,o])=>t+": "+o).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...o){const i=new this(t);return o.forEach(n=>i.set(n)),i}static accessor(t){const i=(this[Tg]=this[Tg]={accessors:{}}).accessors,n=this.prototype;function r(s){const l=Cr(s);i[l]||(dR(n,s),i[l]=!0)}return Ce.isArray(t)?t.forEach(r):r(t),this}}rc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ce.freezeMethods(rc.prototype);Ce.freezeMethods(rc);const Yo=rc;function Vl(e,t){const o=this||th,i=t||o,n=Yo.from(i.headers);let r=i.data;return Ce.forEach(e,function(l){r=l.call(o,r,n.normalize(),t?t.status:void 0)}),n.normalize(),r}function o0(e){return!!(e&&e.__CANCEL__)}function ys(e,t,o){at.call(this,e??"canceled",at.ERR_CANCELED,t,o),this.name="CanceledError"}Ce.inherits(ys,at,{__CANCEL__:!0});function hR(e,t,o){const i=o.config.validateStatus;!o.status||!i||i(o.status)?e(o):t(new at("Request failed with status code "+o.status,[at.ERR_BAD_REQUEST,at.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}const fR=$o.isStandardBrowserEnv?function(){return{write:function(o,i,n,r,s,l){const a=[];a.push(o+"="+encodeURIComponent(i)),Ce.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Ce.isString(r)&&a.push("path="+r),Ce.isString(s)&&a.push("domain="+s),l===!0&&a.push("secure"),document.cookie=a.join("; ")},read:function(o){const i=document.cookie.match(new RegExp("(^|;\\s*)("+o+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(o){this.write(o,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function pR(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function mR(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function n0(e,t){return e&&!pR(t)?mR(e,t):t}const gR=$o.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");let i;function n(r){let s=r;return t&&(o.setAttribute("href",s),s=o.href),o.setAttribute("href",s),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:o.pathname.charAt(0)==="/"?o.pathname:"/"+o.pathname}}return i=n(window.location.href),function(s){const l=Ce.isString(s)?n(s):s;return l.protocol===i.protocol&&l.host===i.host}}():function(){return function(){return!0}}();function vR(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function yR(e,t){e=e||10;const o=new Array(e),i=new Array(e);let n=0,r=0,s;return t=t!==void 0?t:1e3,function(a){const c=Date.now(),u=i[r];s||(s=c),o[n]=a,i[n]=c;let h=r,p=0;for(;h!==n;)p+=o[h++],h=h%e;if(n=(n+1)%e,n===r&&(r=(r+1)%e),c-s<t)return;const g=u&&c-u;return g?Math.round(p*1e3/g):void 0}}function Ig(e,t){let o=0;const i=yR(50,250);return n=>{const r=n.loaded,s=n.lengthComputable?n.total:void 0,l=r-o,a=i(l),c=r<=s;o=r;const u={loaded:r,total:s,progress:s?r/s:void 0,bytes:l,rate:a||void 0,estimated:a&&s&&c?(s-r)/a:void 0,event:n};u[t?"download":"upload"]=!0,e(u)}}const bR=typeof XMLHttpRequest<"u",wR=bR&&function(e){return new Promise(function(o,i){let n=e.data;const r=Yo.from(e.headers).normalize(),s=e.responseType;let l;function a(){e.cancelToken&&e.cancelToken.unsubscribe(l),e.signal&&e.signal.removeEventListener("abort",l)}Ce.isFormData(n)&&($o.isStandardBrowserEnv||$o.isStandardBrowserWebWorkerEnv)&&r.setContentType(!1);let c=new XMLHttpRequest;if(e.auth){const g=e.auth.username||"",y=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";r.set("Authorization","Basic "+btoa(g+":"+y))}const u=n0(e.baseURL,e.url);c.open(e.method.toUpperCase(),Zb(u,e.params,e.paramsSerializer),!0),c.timeout=e.timeout;function h(){if(!c)return;const g=Yo.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),N={data:!s||s==="text"||s==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:g,config:e,request:c};hR(function(A){o(A),a()},function(A){i(A),a()},N),c=null}if("onloadend"in c?c.onloadend=h:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(h)},c.onabort=function(){c&&(i(new at("Request aborted",at.ECONNABORTED,e,c)),c=null)},c.onerror=function(){i(new at("Network Error",at.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let y=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const N=e.transitional||e0;e.timeoutErrorMessage&&(y=e.timeoutErrorMessage),i(new at(y,N.clarifyTimeoutError?at.ETIMEDOUT:at.ECONNABORTED,e,c)),c=null},$o.isStandardBrowserEnv){const g=(e.withCredentials||gR(u))&&e.xsrfCookieName&&fR.read(e.xsrfCookieName);g&&r.set(e.xsrfHeaderName,g)}n===void 0&&r.setContentType(null),"setRequestHeader"in c&&Ce.forEach(r.toJSON(),function(y,N){c.setRequestHeader(N,y)}),Ce.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),s&&s!=="json"&&(c.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&c.addEventListener("progress",Ig(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",Ig(e.onUploadProgress)),(e.cancelToken||e.signal)&&(l=g=>{c&&(i(!g||g.type?new ys(null,e,c):g),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(l),e.signal&&(e.signal.aborted?l():e.signal.addEventListener("abort",l)));const p=vR(u);if(p&&$o.protocols.indexOf(p)===-1){i(new at("Unsupported protocol "+p+":",at.ERR_BAD_REQUEST,e));return}c.send(n||null)})},pa={http:zO,xhr:wR};Ce.forEach(pa,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ER={getAdapter:e=>{e=Ce.isArray(e)?e:[e];const{length:t}=e;let o,i;for(let n=0;n<t&&(o=e[n],!(i=Ce.isString(o)?pa[o.toLowerCase()]:o));n++);if(!i)throw i===!1?new at(`Adapter ${o} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Ce.hasOwnProp(pa,o)?`Adapter '${o}' is not available in the build`:`Unknown adapter '${o}'`);if(!Ce.isFunction(i))throw new TypeError("adapter is not a function");return i},adapters:pa};function Hl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ys(null,e)}function Dg(e){return Hl(e),e.headers=Yo.from(e.headers),e.data=Vl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ER.getAdapter(e.adapter||th.adapter)(e).then(function(i){return Hl(e),i.data=Vl.call(e,e.transformResponse,i),i.headers=Yo.from(i.headers),i},function(i){return o0(i)||(Hl(e),i&&i.response&&(i.response.data=Vl.call(e,e.transformResponse,i.response),i.response.headers=Yo.from(i.response.headers))),Promise.reject(i)})}const Pg=e=>e instanceof Yo?e.toJSON():e;function Vi(e,t){t=t||{};const o={};function i(c,u,h){return Ce.isPlainObject(c)&&Ce.isPlainObject(u)?Ce.merge.call({caseless:h},c,u):Ce.isPlainObject(u)?Ce.merge({},u):Ce.isArray(u)?u.slice():u}function n(c,u,h){if(Ce.isUndefined(u)){if(!Ce.isUndefined(c))return i(void 0,c,h)}else return i(c,u,h)}function r(c,u){if(!Ce.isUndefined(u))return i(void 0,u)}function s(c,u){if(Ce.isUndefined(u)){if(!Ce.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function l(c,u,h){if(h in t)return i(c,u);if(h in e)return i(void 0,c)}const a={url:r,method:r,data:r,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(c,u)=>n(Pg(c),Pg(u),!0)};return Ce.forEach(Object.keys(e).concat(Object.keys(t)),function(u){const h=a[u]||n,p=h(e[u],t[u],u);Ce.isUndefined(p)&&h!==l||(o[u]=p)}),o}const i0="1.3.4",oh={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{oh[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const kg={};oh.transitional=function(t,o,i){function n(r,s){return"[Axios v"+i0+"] Transitional option '"+r+"'"+s+(i?". "+i:"")}return(r,s,l)=>{if(t===!1)throw new at(n(s," has been removed"+(o?" in "+o:"")),at.ERR_DEPRECATED);return o&&!kg[s]&&(kg[s]=!0,console.warn(n(s," has been deprecated since v"+o+" and will be removed in the near future"))),t?t(r,s,l):!0}};function _R(e,t,o){if(typeof e!="object")throw new at("options must be an object",at.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let n=i.length;for(;n-- >0;){const r=i[n],s=t[r];if(s){const l=e[r],a=l===void 0||s(l,r,e);if(a!==!0)throw new at("option "+r+" must be "+a,at.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new at("Unknown option "+r,at.ERR_BAD_OPTION)}}const Xu={assertOptions:_R,validators:oh},pn=Xu.validators;class Da{constructor(t){this.defaults=t,this.interceptors={request:new xg,response:new xg}}request(t,o){typeof t=="string"?(o=o||{},o.url=t):o=t||{},o=Vi(this.defaults,o);const{transitional:i,paramsSerializer:n,headers:r}=o;i!==void 0&&Xu.assertOptions(i,{silentJSONParsing:pn.transitional(pn.boolean),forcedJSONParsing:pn.transitional(pn.boolean),clarifyTimeoutError:pn.transitional(pn.boolean)},!1),n!==void 0&&Xu.assertOptions(n,{encode:pn.function,serialize:pn.function},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let s;s=r&&Ce.merge(r.common,r[o.method]),s&&Ce.forEach(["delete","get","head","post","put","patch","common"],y=>{delete r[y]}),o.headers=Yo.concat(s,r);const l=[];let a=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(o)===!1||(a=a&&N.synchronous,l.unshift(N.fulfilled,N.rejected))});const c=[];this.interceptors.response.forEach(function(N){c.push(N.fulfilled,N.rejected)});let u,h=0,p;if(!a){const y=[Dg.bind(this),void 0];for(y.unshift.apply(y,l),y.push.apply(y,c),p=y.length,u=Promise.resolve(o);h<p;)u=u.then(y[h++],y[h++]);return u}p=l.length;let g=o;for(h=0;h<p;){const y=l[h++],N=l[h++];try{g=y(g)}catch(I){N.call(this,I);break}}try{u=Dg.call(this,g)}catch(y){return Promise.reject(y)}for(h=0,p=c.length;h<p;)u=u.then(c[h++],c[h++]);return u}getUri(t){t=Vi(this.defaults,t);const o=n0(t.baseURL,t.url);return Zb(o,t.params,t.paramsSerializer)}}Ce.forEach(["delete","get","head","options"],function(t){Da.prototype[t]=function(o,i){return this.request(Vi(i||{},{method:t,url:o,data:(i||{}).data}))}});Ce.forEach(["post","put","patch"],function(t){function o(i){return function(r,s,l){return this.request(Vi(l||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:s}))}}Da.prototype[t]=o(),Da.prototype[t+"Form"]=o(!0)});const ma=Da;class nh{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(r){o=r});const i=this;this.promise.then(n=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](n);i._listeners=null}),this.promise.then=n=>{let r;const s=new Promise(l=>{i.subscribe(l),r=l}).then(n);return s.cancel=function(){i.unsubscribe(r)},s},t(function(r,s,l){i.reason||(i.reason=new ys(r,s,l),o(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const o=this._listeners.indexOf(t);o!==-1&&this._listeners.splice(o,1)}static source(){let t;return{token:new nh(function(n){t=n}),cancel:t}}}const SR=nh;function NR(e){return function(o){return e.apply(null,o)}}function CR(e){return Ce.isObject(e)&&e.isAxiosError===!0}const Zu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Zu).forEach(([e,t])=>{Zu[t]=e});const AR=Zu;function r0(e){const t=new ma(e),o=Ub(ma.prototype.request,t);return Ce.extend(o,ma.prototype,t,{allOwnKeys:!0}),Ce.extend(o,t,null,{allOwnKeys:!0}),o.create=function(n){return r0(Vi(e,n))},o}const Rt=r0(th);Rt.Axios=ma;Rt.CanceledError=ys;Rt.CancelToken=SR;Rt.isCancel=o0;Rt.VERSION=i0;Rt.toFormData=nc;Rt.AxiosError=at;Rt.Cancel=Rt.CanceledError;Rt.all=function(t){return Promise.all(t)};Rt.spread=NR;Rt.isAxiosError=CR;Rt.mergeConfig=Vi;Rt.AxiosHeaders=Yo;Rt.formToJSON=e=>t0(Ce.isHTMLForm(e)?new FormData(e):e);Rt.HttpStatusCode=AR;Rt.default=Rt;const ih=Rt,sc="/caracol/assets/file-2ee96f5f.svg",xR="/caracol/assets/arrowUp-364c5229.svg",TR={components:{Loading:yt},name:"ArchivoSeccionNodo",props:{esteArchivo:Object,usuarioExperto:Boolean,idNodo:String,idSeccion:String},data(){return{eliminandose:!1,marcandoPrimario:!1}},methods:{eliminarse(){if(this.usuarioExperto){if(!confirm("Borrando archivo ¿Continuar?")){console.log("Cancelado");return}this.eliminandose=!0,this.$apollo.mutate({mutation:Fe`
            mutation ($idNodo: ID!, $idSeccion: ID!, $nombreArchivo: String!) {
              eliminarArchivoSeccionNodo(
                idNodo: $idNodo
                idSeccion: $idSeccion
                nombreArchivo: $nombreArchivo
              )
            }
          `,variables:{idNodo:this.idNodo,idSeccion:this.idSeccion,nombreArchivo:this.esteArchivo.nombre}}).then(({data:{eliminarArchivoSeccionNodo:e}})=>{if(this.eliminandose=!1,!e){console.log("Archivo no eliminado");return}this.$emit("meElimine")}).catch(e=>{this.eliminandose=!1,console.log(`Error. E: ${e}`)})}},marcarPrimario(){this.marcandoPrimario=!0,this.$apollo.mutate({mutation:Fe`
          mutation($idNodo:ID!, $idSeccion: ID!, $nombreArchivo:String!){
            marcarPrimarioArchivoSeccionNodo(idNodo:$idNodo, idSeccion:$idSeccion, nombreArchivo: $nombreArchivo)
          }
        `,variables:{idNodo:this.idNodo,idSeccion:this.idSeccion,nombreArchivo:this.esteArchivo.nombre}}).then(()=>{this.marcandoPrimario=!1,this.$emit("soyPrimario")}).catch(()=>{this.marcandoPrimario=!1})}}},rh=e=>(it("data-v-a49bcb01"),e=e(),rt(),e),IR={id:"barraSuperior"},DR=rh(()=>v("div",{id:"icono"},[v("img",{src:sc,alt:"Archivo"})],-1)),PR={id:"nombre"},kR={class:"contenedorControles",style:{"margin-left":"auto","margin-right":"10px"}},OR=rh(()=>v("img",{src:kn,alt:"Basura"},null,-1)),RR=[OR],LR=rh(()=>v("img",{src:xR,alt:"Subir"},null,-1)),MR=[LR];function FR(e,t,o,i,n,r){const s=Oe("loading");return Y(),re("div",{class:we(["archivoSeccionNodo",{deshabilitado:n.eliminandose}])},[v("div",IR,[DR,v("div",PR,Ae(o.esteArchivo.nombre),1),v("div",kR,[v("div",{class:"boton",title:"Eliminar",onClick:t[0]||(t[0]=(...l)=>r.eliminarse&&r.eliminarse(...l))},RR),Q(v("div",{class:"boton",onClick:t[1]||(t[1]=(...l)=>r.marcarPrimario&&r.marcarPrimario(...l))},MR,512),[[Z,!o.esteArchivo.primario&&!n.marcandoPrimario]]),Q(Te(s,{texto:""},null,512),[[Z,n.marcandoPrimario]])])])],2)}const BR=Ge(TR,[["render",FR],["__scopeId","data-v-a49bcb01"]]),ac=/[^ a-zA-ZÀ-ž0-9_():.,-]/,s0=/[^\n\r a-zA-ZÀ-ž0-9_()":;.,+¡!¿?@=-]/,sh="/caracol/assets/edit-47695e84.svg",a0="/caracol/assets/link-90c9ac52.svg",$R={props:{estaSeccion:Object,idNodo:String,usuarioExperto:Boolean},components:{ArchivoSeccionNodo:BR,Loading:yt},name:"SeccionNodoConocimiento",data(){return{editando:!1,subiendoArchivo:!1,versionArchivo:0,editandoNombre:!1,enviandoNuevoNombre:!1,guardandoNuevoEnlace:!1,inputNuevoEnlace:this.estaSeccion.enlace,modo:"",offsetIframe:{height:"900px"}}},methods:{reheight(){var t,o;(o=(t=this.$refs.iframeSeccion.contentWindow)==null?void 0:t.document)!=null&&o.body||console.log("El contenido del iframe no estaba listo");let e=this.$refs.iframeSeccion.contentWindow.document.body.scrollHeight;console.log("Setting height of the iframe en "+e),this.offsetIframe.height=Math.round(e*1.1)+"px"},subirArchivoContenido(e){const t=e.target;var o=new FormData;const i=t.files[0];o.append("nuevoArchivo",i),o.append("idNodo",this.idNodo),o.append("idSeccion",this.estaSeccion.id),this.subiendoArchivo=!0,ih({method:"post",url:this.serverUrl+"/api/atlas/subirArchivoContenidoSeccionNodo",data:o,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.usuario.token}}).then(({data:{infoArchivo:n}})=>{this.subiendoArchivo=!1,this.versionArchivo++,this.$emit("subiArchivo",n)}).catch(n=>{this.subiendoArchivo=!1,console.log(`Error subiendo archivo. E: ${n}`)})},iniciarEdicionNombre(){this.$refs.inputNuevoNombre.value=this.estaSeccion.nombre,this.editandoNombre=!0},guardarNuevoNombre(){var e=this.$refs.inputNuevoNombre.value.trim();if(e==this.estaSeccion.nombre){this.editandoNombre=!1;return}if(!(e.length<1)){if(ac.test(e)){console.log("Caracteres ilegales");return}console.log("guardando nuevo nombre"),this.enviandoNuevoNombre=!0,this.$apollo.mutate({mutation:Fe`
            mutation (
              $idNodo: ID!
              $idSeccion: ID!
              $nuevoNombre: String!
            ) {
              editarNombreSeccionNodoConocimiento(
                idNodo: $idNodo
                idSeccion: $idSeccion
                nuevoNombre: $nuevoNombre
              ) {
                id
                nombre
              }
            }
          `,variables:{idNodo:this.idNodo,idSeccion:this.estaSeccion.id,nuevoNombre:e}}).then(t=>{console.log(`fin de la mutacion. Data: ${JSON.stringify(t)} `),this.enviandoNuevoNombre=!1,this.editandoNombre=!1}).catch(t=>{this.enviandoNuevoNombre=!1,console.log(`Error. E :${t}`)})}},toggleModo(){const e=this.modo==="archivo"?"enlace":"archivo";console.log("Cambiando a "+e),this.modo=e},guardarNuevoEnlace(){console.log("guardar nuevo enlace");var e=this.$refs.inputNuevoEnlace.value.trim();console.log(e),!(e===this.estaSeccion.enlace||!e||e.length<5)&&(!this.usuarioExperto&&!this.usuarioSuperadministrador||(this.guardandoNuevoEnlace=!0,this.$apollo.mutate({mutation:Fe`
          mutation($idNodo: ID!, $idSeccion:ID!, $nuevoEnlace:String!){
            setNuevoEnlaceSeccionNodo(idNodo: $idNodo, idSeccion: $idSeccion, nuevoEnlace: $nuevoEnlace){
              id
              modo
              enlace
            }
          }
        `,variables:{idNodo:this.idNodo,idSeccion:this.estaSeccion.id,nuevoEnlace:e}}).then(()=>{this.guardandoNuevoEnlace=!1}).catch(t=>{console.log("Error: "+t),this.guardandoNuevoEnlace=!0})))}},computed:{direccionNodo:function(){return this.serverUrl+"/assetsAtlas/contenidosNodos/"+this.idNodo},archivosOrdenados(){var e=JSON.parse(JSON.stringify(this.estaSeccion.archivos));return e.sort(t=>t.primario?-1:0),e},srcIframe(){if(this.estaSeccion.modo==="enlace"&&this.estaSeccion.enlace){var e=this.estaSeccion.enlace;return console.log("Server URL: "+this.serverUrl),console.log("elEnlace: "+e),e=e.replace("192.168.1.100","192.168.1.105"),console.log("Queda "+e),e}return this.direccionNodo+"/"+this.estaSeccion.id+"/?v="+this.versionArchivo}},watch:{"estaSeccion.modo":{handler:function(){this.modo=this.estaSeccion.modo},immediate:!0}}},c0=e=>(it("data-v-2481116c"),e=e(),rt(),e),UR={class:"seccionNodoConocimiento"},qR={class:"contenedorControles"},jR=c0(()=>v("img",{src:sh,alt:"Editar"},null,-1)),VR=[jR],HR=["src"],zR=["src"],GR={key:0,id:"zonaAdministracion"},WR=["value"],QR={class:"contenedorControles"},KR=c0(()=>v("img",{src:Ji,alt:"Plus"},null,-1)),JR=[KR],YR=["title"],XR={src:sc,alt:"Archivo"},ZR={src:a0,alt:"Archivo"},eL={id:"listaArchivos"},tL={id:"zonaEnlace"};function oL(e,t,o,i,n,r){const s=Oe("loading"),l=Oe("archivo-seccion-nodo");return Y(),re("div",UR,[v("div",qR,[o.usuarioExperto||e.usuarioSuperadministrador?(Y(),re("div",{key:0,class:"boton",onClick:t[0]||(t[0]=a=>n.editando=!n.editando)},VR)):Ee("",!0)]),Q((Y(),re("div",{id:"zonaFront",class:"frontDeSeccion",key:n.versionArchivo},[o.estaSeccion.modo==="enlace"||o.estaSeccion.tipoPrimario&&o.estaSeccion.tipoPrimario.substring(0,5)!="image"?(Y(),re("iframe",{key:0,ref:"iframeSeccion",id:"iframeSeccion",src:r.srcIframe,onLoad:t[1]||(t[1]=(...a)=>r.reheight&&r.reheight(...a)),style:Ve([n.offsetIframe]),frameborder:"0"},null,44,HR)):Ee("",!0),o.estaSeccion.modo==="archivo"&&o.estaSeccion.tipoPrimario&&o.estaSeccion.tipoPrimario.substring(0,5)==="image"?(Y(),re("img",{key:1,src:r.direccionNodo+"/"+o.estaSeccion.id+"/?v="+n.versionArchivo},null,8,zR)):Ee("",!0)])),[[Z,!n.editando]]),o.usuarioExperto||e.usuarioSuperadministrador?Q((Y(),re("div",GR,[Q(v("div",{id:"nombre",onClick:t[2]||(t[2]=(...a)=>r.iniciarEdicionNombre&&r.iniciarEdicionNombre(...a))},Ae(o.estaSeccion.nombre),513),[[Z,!n.editandoNombre]]),Q(v("input",{type:"text",name:"",value:o.estaSeccion.nombre,id:"inputNuevoNombre",ref:"inputNuevoNombre",class:we({deshabilitado:n.enviandoNuevoNombre}),onBlur:t[3]||(t[3]=(...a)=>r.guardarNuevoNombre&&r.guardarNuevoNombre(...a)),onKeypress:t[4]||(t[4]=St((...a)=>r.guardarNuevoNombre&&r.guardarNuevoNombre(...a),["enter"]))},null,42,WR),[[Z,n.editandoNombre]]),Q(Te(s,{texto:""},null,512),[[Z,n.enviandoNuevoNombre]]),v("div",QR,[n.modo==="archivo"?Q((Y(),re("div",{key:0,class:"boton",title:"Subir un archivo",onClick:t[5]||(t[5]=a=>e.$refs.inputArchivoContenido.click())},JR,512)),[[Z,!n.subiendoArchivo]]):Ee("",!0),Q(Te(s,{texto:""},null,512),[[Z,n.subiendoArchivo]]),v("div",{class:"boton",title:o.estaSeccion.modo==="archivo"?"Cambiar modo a enlace":"Cambiar modo a archivo",onClick:t[6]||(t[6]=Ie((...a)=>r.toggleModo&&r.toggleModo(...a),["stop"]))},[Q(v("img",XR,null,512),[[Z,n.modo==="archivo"]]),Q(v("img",ZR,null,512),[[Z,n.modo==="enlace"]])],8,YR)]),Q(v("div",eL,[Q(v("input",{type:"file",class:"inputArchivoContenido",ref:"inputArchivoContenido",onChange:t[7]||(t[7]=a=>r.subirArchivoContenido(a))},null,544),[[Z,!1]]),(Y(!0),re(He,null,Ze(r.archivosOrdenados,a=>(Y(),Qe(l,{esteArchivo:a,usuarioExperto:o.usuarioExperto,idNodo:o.idNodo,idSeccion:o.estaSeccion.id,key:a.id,onMeElimine:c=>e.$emit("archivoEliminado",a.nombre),onSoyPrimario:c=>{e.$emit("tengoNuevoPrimario",a.nombre),n.versionArchivo++}},null,8,["esteArchivo","usuarioExperto","idNodo","idSeccion","onMeElimine","onSoyPrimario"]))),128))],512),[[Z,n.modo==="archivo"]]),Q(v("div",tL,[Q(v("input",{type:"text",id:"inputNuevoEnlace",ref:"inputNuevoEnlace","onUpdate:modelValue":t[8]||(t[8]=a=>n.inputNuevoEnlace=a),onBlur:t[9]||(t[9]=(...a)=>r.guardarNuevoEnlace&&r.guardarNuevoEnlace(...a)),placeholder:"Enlace al recurso",onKeypress:t[10]||(t[10]=St((...a)=>r.guardarNuevoEnlace&&r.guardarNuevoEnlace(...a),["enter"]))},null,544),[[Je,n.inputNuevoEnlace]])],512),[[Z,n.modo==="enlace"]])],512)),[[Z,n.editando]]):Ee("",!0)])}const nL=Ge($R,[["render",oL],["__scopeId","data-v-2481116c"]]);Pe`
  fragment fragEvento on EventoCalendario{
    id
    nombre
    descripcion
    horarioInicio
    horarioFinal
    responsables  
    participantes
    origen
    idOrigen    
  }
`;Pe`
fragment fragResponsables on Usuario {
  id
  username
  nombres
  apellidos
  email
  permisos
  numeroTel
  lugarResidencia
}
`;const l0=Pe`
fragment fragMinimoPersona on Usuario {
  id
  nombres
  apellidos
  username
  titulo
}
`,iL=Pe`
  fragment fragParticipacion on ParticipacionActividadGrupoEstudiantil{
    id
      fechaUpload
      archivo {
        extension
        nombre
        googleDriveDirectLink,        
      }
      comentario
      enlaceAdjunto
      infoAutor{
        ...fragMinimoPersona
      }
  }
  ${l0}
`,rL=Pe`
fragment fragDesarrollo on DesarrolloActividadGrupoEstudiantil{
    id
    estado
    leidoPorProfe
    infoEstudiante{
      ...fragMinimoPersona
    }
    participaciones {
      ...fragParticipacion
    }
}
${iL}
`;Pe`
fragment fragActividad on ActividadGrupoEstudiantil {
  id
  nombre
  fechaUpload
  hayGuia
  infoCreador{
    ...fragMinimoPersona
  }
  desarrollos {
    ...fragDesarrollo 
  }
}
${rL}
`;Pe`
  fragment fragBienProyecto on BienProyecto{
    id
      nombre
      descripcion
      unidad
      cantidad
      fechaCierre
      fechaReparticion
      instruccionesRecibir
      listaPeticiones{
        idBeneficiario
        cantidadSolicitada
        cantidadAsignada
      }
  }
`;Pe`
fragment fragServicioProyecto on ServicioProyecto{
  id
  nombre
  descripcion
  listaPeticiones{
    idBeneficiario
  }
}
`;Pe`
  fragment fragTrabajoProyecto on TrabajoDeProyecto{
    id
      nombre
      descripcion
      estadoDesarrollo
      vinculos{
        idRef
        tipo
        tipoRef
      }
      coords{
        x
        y
      }
  }
`;const sL=Pe`
  fragment fragQuote on Quote{
    mensaje    
    infoAutor{
      id
      nombres
      apellidos
      username
    }
    fecha
  }
`,aL=Pe`
  fragment fragInterpolacion on Interpolacion{
    tipo
    enlaceIframe
    mensaje    
  }
`;Pe`
  fragment fragRespuesta on RespuestaConversacionForo{
    id
    fecha
    mensaje
    interpolaciones{
      ...fragInterpolacion
      quote{
        ...fragQuote
        interpolaciones{
          ...fragInterpolacion
          quote{
            ...fragQuote
            interpolaciones{
              ...fragInterpolacion
              quote{
                ...fragQuote
                interpolaciones{
                  ...fragInterpolacion
                  quote{
                    ...fragQuote
                    interpolaciones{
                      ...fragInterpolacion
                      quote{
                        ...fragQuote
                        interpolaciones{
                          ...fragInterpolacion
                          quote{
                            ...fragQuote
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
    enlaceAdjunto
    infoAutor{
      id
      nombres
      apellidos
      username
    }
    archivo{
      googleDriveDirectLink
    }
  }
  ${sL}, 
  ${aL}
`;Pe`
  fragment fragConversacion on Conversacion{
    id
    titulo    
    estado
    acceso   
    cantidadRespuestas
    infoUltimaRespuesta{
      fecha      
    }
  }
`;const cL=Pe`
  query ($idUsuario: ID!) {
    Usuario(idUsuario: $idUsuario) {
      ...fragMinimoPersona
    }
  }
  ${l0}
`,lL={name:"IconoPersonaAutonomo",apollo:{estaPersona:{query:cL,variables(){return{idUsuario:this.idPersona}},update({Usuario:e}){return e},skip(){return!this.idPersona}}},data(){return{estaPersona:{permisos:[]},nuevoPermiso:null,mounted:!1,fotografiaEnabled:!1,basicWidthFoto:70,basicFontSizeNombre:15}},props:{idPersona:String,seleccionado:Boolean,menuContextual:Boolean,factorEscala:{type:String,default:"1"},opcionesMenuCx:{type:Array}},computed:{soyYo(){return this.mounted&&this.idPersona&&this.usuario?this.usuario.id==this.idPersona:!1},offsetFoto(){return{width:this.basicWidthFoto*this.factor+"px",height:this.basicWidthFoto*this.factor+"px"}},offsetIcono(){return{width:this.basicWidthFoto*this.factor+"px"}},factor(){return Number(this.factorEscala)}},methods:{addPermisos(){console.log(`enviando ${this.nuevoPermiso} para el usuario con id ${this.idPersona}`),this.$apollo.mutate({mutation:Pe`
            mutation ($nuevoPermiso: String!, $idUsuario: ID!) {
              addPermisoUsuario(
                nuevoPermiso: $nuevoPermiso
                idUsuario: $idUsuario
              ) {
                id
                permisos
              }
            }
          `,variables:{nuevoPermiso:this.nuevoPermiso,idUsuario:this.idPersona}}).then(()=>{}).catch(e=>{console.log("error: "+e)})},copiarId(e){let t=e.target.innerText.trim();const o=document.createElement("textarea");o.value=t,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o)},fotografiaCargada(){console.log("Fotografía cargada")}},mounted(){this.mounted=!0},beforeRouteUpdate(){console.log("Before update")}},uL=e=>(it("data-v-5216bb88"),e=e(),rt(),e),dL=["src"],hL={id:"contenedorAlertas"},fL=uL(()=>v("br",null,null,-1)),pL={id:"menuCxPersona"},mL={key:0,class:"botonMenuCx"},gL=["onClick"];function vL(e,t,o,i,n,r){var s;return(s=n.estaPersona)!=null&&s.id?(Y(),re("div",{key:0,class:we(["iconoPersonaAutonomo",{yo:r.soyYo}]),style:Ve([r.offsetIcono])},[Q(v("img",{class:"fotografia",src:this.serverUrl+"/api/usuarios/fotografias/"+o.idPersona,style:Ve([r.offsetFoto]),onLoad:t[0]||(t[0]=l=>n.fotografiaEnabled=!0),alt:"Usuario"},null,44,dL),[[Z,n.fotografiaEnabled]]),v("div",hL,[yd(e.$slots,"alertas",{},void 0,!0)]),v("div",{class:we(["nombres",{nombreSeleccionado:o.seleccionado}]),style:Ve([{fontSize:n.basicFontSizeNombre*r.factor+"px"}])},[Ke(Ae(n.estaPersona.nombres)+" ",1),fL,v("b",null,Ae(n.estaPersona.titulo),1)],6),Q(v("div",pL,[v("div",{class:"botonMenuCx",onClick:t[1]||(t[1]=Ie((...l)=>r.copiarId&&r.copiarId(...l),["stop"]))},Ae(o.idPersona),1),e.usuarioSuperadministrador?(Y(),re("div",mL,Ae(n.estaPersona.username),1)):Ee("",!0),e.usuarioSuperadministrador?Q((Y(),re("input",{key:1,type:"text","onUpdate:modelValue":t[2]||(t[2]=l=>n.nuevoPermiso=l),placeholder:"Nuevo permiso"},null,512)),[[Je,n.nuevoPermiso]]):Ee("",!0),e.usuarioSuperadministrador?(Y(),re("div",{key:2,class:"botonMenuCx",onClick:t[3]||(t[3]=Ie((...l)=>r.addPermisos&&r.addPermisos(...l),["stop"]))},"Dar permiso")):Ee("",!0),(Y(!0),re(He,null,Ze(o.opcionesMenuCx,(l,a)=>(Y(),re("div",{class:"botonMenuCx",key:a,onClick:c=>e.$emit(l.evento)},Ae(l.textoVisible),9,gL))),128))],512),[[Z,o.menuContextual]])],6)):Ee("",!0)}const Zi=Ge(lL,[["render",vL],["__scopeId","data-v-5216bb88"]]),yL="/caracol/assets/lightbulb-c35fefca.svg",bL="/caracol/assets/readme-6fab676e.svg",u0="/caracol/assets/teacher-09fe7473.svg",wL="/caracol/assets/comments-73835909.svg",d0="/caracol/assets/chevron-96483fd8.svg",er="/caracol/assets/save-cb166dd5.svg",h0="/caracol/assets/step-2d9a0f88.svg",EL="/caracol/assets/mas-f020d2eb.svg",_L="/caracol/assets/handshake-4991aa21.svg",SL="/caracol/assets/minus-0a59d746.svg",No=Fe`
  query ($idNodo: ID!) {
    nodo(idNodo: $idNodo) {
      nombre
      id
      descripcion
      clases {
        id
        nombre
        idExperto
        descripcion
        interesados
      }
      keywords
      expertos
      posiblesExpertos
      clases {
        id
      }
      idForoPublico
      idForoExpertos
      secciones {
        id
        nombre
        modo
        enlace
        archivos {
          nombre
          primario
        }
        tipoPrimario
      }
      vinculos {
        idRef
        rol
        tipo
      }
    }
  }
`,NL={components:{SeccionNodoConocimiento:nL,Loading:yt,IconoPersonaAutonomo:Zi},name:"VisorNodoConocimiento",apollo:{esteNodo:{query:No,variables(){return{idNodo:this.idNodo}},update({nodo:e}){return document.title=e.nombre,e},skip(){return!this.idNodo}}},data(){return{esteNodo:{expertos:[],posiblesExpertos:[]},steppingSeccion:null,mostrandoBotonesSeccion:null,mostrandoContenido:"estudiar",idSeccionVisible:null,mostrandoMenuSecciones:!1,creandoNuevaSeccion:!1,idExpertoSeleccionado:null,enviandoQueryExpertos:!1,editandoNombre:!1,enviandoNuevoNombre:!1,nuevoDescripcion:null,editandoDescripcion:!1}},methods:{stepSeccionVisible(e){var o;if(!((o=this.esteNodo)!=null&&o.secciones))return;let t=this.indexSeccionSeleccionada!=null?this.indexSeccionSeleccionada+e:0;if(console.log(`Pasando a la sección ${t}`),!(t>=this.esteNodo.secciones.length)){if(t<0){this.idSeccionVisible=null;return}this.idSeccionVisible=this.esteNodo.secciones[t].id}},cambiarIndexSeccion(e,t){if(!this.usuarioExperto&&!this.usuarioAdministrador){console.log("No autorizado");return}let o=this.esteNodo.secciones.findIndex(i=>i.id===e);if(o<0){console.log("Sección no encontrada");return}(o===0||o===this.esteNodo.secciones.length-1)&&console.log("Estaba en el borde"),this.steppingSeccion=e,this.$apollo.mutate({mutation:Fe`
            mutation ($idNodo: ID!, $idSeccion: ID!, $step: Int!) {
              moverSeccionNodoConocimiento(
                idNodo: $idNodo
                idSeccion: $idSeccion
                movimiento: $step
              ) {
                id
                secciones {
                  id
                }
              }
            }
          `,variables:{idNodo:this.esteNodo.id,idSeccion:e,step:t}}).then(()=>{this.steppingSeccion=null}).catch(i=>{this.steppingSeccion=null,console.log("Error steping sección: "+i)})},deleteArchivoSeccionCache(e,t){const o=this.$apollo.provider.defaultClient,i=o.readQuery({query:No,variables:{idNodo:this.esteNodo.id}});var n=JSON.parse(JSON.stringify(i)),r=n.nodo.secciones.find(l=>l.id==t);if(!r){console.log("Seccion no encontrada");return}var s=r.archivos.findIndex(l=>l.nombre===e);s>-1?(r.archivos.splice(s,1),o.writeQuery({query:No,variables:{idNodo:this.esteNodo.id},data:n})):console.log("Archivo no encontrado")},addArchivoSeccionCache(e,t){const o=this.$apollo.provider.defaultClient,i=o.readQuery({query:No,variables:{idNodo:this.esteNodo.id}});var n=JSON.parse(JSON.stringify(i)),r=n.nodo.secciones.find(s=>s.id==t);r.archivos.push(e),o.writeQuery({query:No,variables:{idNodo:this.esteNodo.id},data:n})},eliminarSeccion(e){if(!this.usuarioExperto&&!this.usuarioSuperadministrador||!confirm("Eliminando esta sección con todos sus contenidos. ¿Continuar?"))return;console.log(`Enviando mutación de eliminar seccion ${e}`);const t=this;this.$apollo.mutate({mutation:Fe`
            mutation ($idNodo: ID!, $idSeccion: ID!) {
              eliminarSeccionNodoConocimiento(
                idNodo: $idNodo
                idSeccion: $idSeccion
              )
            }
          `,variables:{idNodo:this.esteNodo.id,idSeccion:e}}).then(({data:{eliminarSeccionNodoConocimiento:o}})=>{if(console.log(`resultado: ${o}`),o){let n=t.$apollo.provider.defaultClient;const r=n.readQuery({query:No,variables:{idNodo:t.esteNodo.id}});var i=JSON.parse(JSON.stringify(r));const s=i.nodo.secciones.findIndex(l=>l.id==e);s>-1?(i.nodo.secciones.splice(s,1),n.writeQuery({query:No,variables:{idNodo:t.esteNodo.id},data:i})):console.log("Seccion no encontrada")}}).catch(o=>{console.log(`Error: E: ${o}`)})},crearNuevaSeccion(){if(!this.usuarioExperto&&!this.usuarioSuperadministrador)return;this.creandoNuevaSeccion=!0;const e=this;this.$apollo.mutate({mutation:Fe`
            mutation ($idNodo: ID!) {
              crearNuevaSeccionNodoConocimiento(idNodo: $idNodo) {
                id
                nombre
                modo
                archivos {
                  nombre
                  primario
                }
                enlace
                tipoPrimario
              }
            }
          `,variables:{idNodo:this.esteNodo.id}}).then(({data:{crearNuevaSeccionNodoConocimiento:t}})=>{let o=e.$apollo.provider.defaultClient;const i=o.readQuery({query:No,variables:{idNodo:e.esteNodo.id}});var n=JSON.parse(JSON.stringify(i));n.nodo.secciones.push(t),o.writeQuery({query:No,variables:{idNodo:e.esteNodo.id},data:n}),this.creandoNuevaSeccion=!1}).catch(t=>{console.log(`Error. E: ${t}`),this.creandoNuevaSeccion=!1})},setPrimarioSeccionCache(e,t){const o=this.$apollo.provider.defaultClient,i=o.readQuery({query:No,variables:{idNodo:this.esteNodo.id}});var n=JSON.parse(JSON.stringify(i)),r=n.nodo.secciones.find(l=>l.id==t);if(!r){console.log("Seccion no encontrada");return}var s=r.archivos.findIndex(l=>l.nombre===e);r.archivos.forEach(l=>l.primario=!1),r.archivos[s].primario=!0,o.writeQuery({query:No,variables:{idNodo:this.esteNodo.id},data:n})},intentarEntrarExpertos(e){console.log(`enviando id ${this.usuario.id} para entrar a expertos del nodo con id ${this.esteNodo.id}`),this.enviandoQueryExpertos=!0,this.$apollo.mutate({mutation:Fe`
            mutation ($idNodo: ID!, $idUsuario: ID!) {
              addExpertoNodo(idNodo: $idNodo, idUsuario: $idUsuario) {
                id
                expertos
                posiblesExpertos
              }
            }
          `,variables:{idNodo:this.esteNodo.id,idUsuario:e}}).then(()=>{this.enviandoQueryExpertos=!1}).catch(t=>{this.enviandoQueryExpertos=!1,console.log("error: "+t)})},abandonarListaExpertos(e){console.log("Abandonando la responsabilidad en este nodo"),!(!this.usuarioExperto&&!this.esteNodo.posiblesExpertos.includes(this.usuario.id))&&(this.enviandoQueryExpertos=!0,this.$apollo.mutate({mutation:Fe`
            mutation ($idNodo: ID!, $idUsuario: ID!) {
              removeExpertoNodo(idNodo: $idNodo, idUsuario: $idUsuario) {
                id
                expertos
                posiblesExpertos
              }
            }
          `,variables:{idNodo:this.esteNodo.id,idUsuario:e}}).then(()=>{this.enviandoQueryExpertos=!1}).catch(t=>{this.enviandoQueryExpertos=!1,console.log("error: "+t)}))},iniciarEdicionNombre(){!this.usuarioExperto&&!this.usuarioAdministradorAtlas&&!this.usuarioSuperadministrador||(this.$refs.inputNuevoNombre.value=this.esteNodo.nombre,this.editandoNombre=!0)},guardarNuevoNombre(){var e=this.$refs.inputNuevoNombre.value.trim();if(e==this.esteNodo.nombre){this.editandoNombre=!1;return}if(!(e.length<1)){if(ac.test(e)){console.log("Caracteres ilegales");return}this.enviandoNuevoNombre=!0,this.$apollo.mutate({mutation:Fe`
            mutation ($idNodo: ID!, $nuevoNombre: String!) {
              editarNombreNodo(idNodo: $idNodo, nuevoNombre: $nuevoNombre) {
                modificados {
                  id
                  nombre
                }
              }
            }
          `,variables:{idNodo:this.esteNodo.id,nuevoNombre:e}}).then(t=>{this.enviandoNuevoNombre=!1,this.editandoNombre=!1}).catch(t=>{this.enviandoNuevoNombre=!1,console.log(`Error. E :${t}`)})}},toggleEditandoDescripcion(){!this.usuarioExperto&&!this.usuarioSuperadministrador&&!this.usuarioAdministradorAtlas||(this.$refs.inputNuevoDescripcion.style.height=this.$refs.descripcion.offsetHeight+"px",this.editandoDescripcion=!this.editandoDescripcion,this.nuevoDescripcion=this.esteNodo.descripcion,this.editandoDescripcion&&this.$nextTick(()=>{this.$refs.inputNuevoDescripcion.focus()}))},guardarNuevoDescripcion(){var e=this.$refs.inputNuevoDescripcion.value;if(e==this.esteNodo.descripcion){this.editandoDescripcion=!1;return}console.log("guardando nuevo descripcion"),this.enviandoNuevoDescripcion=!0,this.$apollo.mutate({mutation:Fe`
            mutation ($idNodo: ID!, $nuevoDescripcion: String!) {
              editarDescripcionNodoConocimiento(
                idNodo: $idNodo
                nuevoDescripcion: $nuevoDescripcion
              ) {
                id
                descripcion
              }
            }
          `,variables:{idNodo:this.esteNodo.id,nuevoDescripcion:e}}).then(()=>{this.enviandoNuevoDescripcion=!1,this.editandoDescripcion=!1}).catch(t=>{this.enviandoNuevoDescripcion=!1,console.log(`Error. E :${t}`)})}},computed:{idNodo(){var e,t;return(t=(e=this.$route)==null?void 0:e.params)==null?void 0:t.idNodo},indexSeccionSeleccionada(){return this.seccionSeleccionada?this.esteNodo.secciones.findIndex(e=>e.id===this.idSeccionVisible):null},seccionSeleccionada(){return this.idSeccionVisible?this.esteNodo.secciones.find(e=>e.id===this.idSeccionVisible):null},usuarioExperto:function(){return!this.esteNodo.expertos||!this.usuarioLogeado?!1:!!this.esteNodo.expertos.includes(this.usuario.id)},usuarioAdministradorAtlas:function(){return this.usuario.permisos?!!this.usuario.permisos.includes("atlasAdminstrador"):!1},infoAsParent(){return{id:this.esteNodo.id,tipo:"nodoConocimiento",nombre:this.esteNodo.nombre}}},watch:{mostrandoMenuSecciones(e){e||(this.mostrandoBotonesSeccion=null)},elNodo(e){if(e){let t=e.nombre;t.length>20&&(t=t.slice(0,20)+"...")}}}},oo=e=>(it("data-v-1d347a19"),e=e(),rt(),e),CL={class:"visorNodoConocimiento"},AL={id:"zonaTitulo"},xL=oo(()=>v("div",{id:"iconoNodo"},[v("img",{src:yL,alt:"Idea"})],-1)),TL={id:"zonaNombre"},IL={id:"zonaSelectoresContenido"},DL=["title"],PL=oo(()=>v("img",{src:bL,alt:"Readme"},null,-1)),kL=[PL],OL=["title"],RL=oo(()=>v("img",{src:u0,alt:"Teacher"},null,-1)),LL=[RL],ML=["title"],FL=oo(()=>v("img",{src:wL,alt:"Readme"},null,-1)),BL=[FL],$L={id:"zonaContenidos"},UL={id:"zonaSecciones"},qL={id:"zonaTituloSeccion"},jL={key:0,class:"iconoMenuSecciones",src:tb,alt:"Menu"},VL=["onClick"],HL={class:"nombreSeccionSelector"},zL=["onClick"],GL=oo(()=>v("img",{style:{transform:"rotate(90deg)"},src:d0,alt:"arrow"},null,-1)),WL=[GL],QL=["onClick"],KL=oo(()=>v("img",{style:{transform:"rotate(-90deg)"},src:d0,alt:"arrow"},null,-1)),JL=[KL],YL=["onClick"],XL=oo(()=>v("img",{src:kn,alt:"Eliminar"},null,-1)),ZL=[XL],eM=["onClick"],tM=oo(()=>v("img",{src:Yi,alt:"Opciones"},null,-1)),oM=[tM],nM={src:Ji,alt:"Plus"},iM=oo(()=>v("span",null,"Crear sección",-1)),rM={id:"zonaDescripcion"},sM={class:"contenedorBotonesCampo"},aM={key:1,id:"contenedorSteppersSeccion"},cM=oo(()=>v("img",{src:h0,style:{transform:"rotate(180deg)"},alt:"step"},null,-1)),lM=[cM],uM=oo(()=>v("img",{src:h0,alt:"step"},null,-1)),dM=[uM],hM={id:"zonaExpertos"},fM={class:"contenedorControles"},pM=["title"],mM=oo(()=>v("img",{src:EL,alt:"Mas"},null,-1)),gM=[mM],vM=oo(()=>v("img",{src:_L,alt:"Handshake"},null,-1)),yM=[vM],bM=oo(()=>v("img",{src:SL,alt:"Menos"},null,-1)),wM=[bM],EM={id:"zonaForos",ref:"zonaForos"},_M={key:0,class:"nombreForo"};function SM(e,t,o,i,n,r){var c,u,h,p;const s=Oe("loading"),l=Oe("seccion-nodo-conocimiento"),a=Oe("icono-persona-autonomo");return Y(),re("div",CL,[Q(Te(s,{texto:""},null,512),[[Z,e.$apollo.queries.esteNodo.loading]]),Q(v("div",AL,[xL,v("div",TL,[Q(v("div",{id:"nombre",onClick:t[0]||(t[0]=(...g)=>r.iniciarEdicionNombre&&r.iniciarEdicionNombre(...g))},Ae(n.esteNodo.nombre),513),[[Z,!n.editandoNombre]]),Q(v("input",{onKeypress:t[1]||(t[1]=St(Ie((...g)=>r.guardarNuevoNombre&&r.guardarNuevoNombre(...g),["prevent"]),["enter"])),ref:"inputNuevoNombre",style:{width:"250px"},onBlur:t[2]||(t[2]=(...g)=>r.guardarNuevoNombre&&r.guardarNuevoNombre(...g)),type:"text",class:"inputNombreCosa",id:"inputNuevoNombre"},null,544),[[Z,n.editandoNombre]])])],512),[[Z,!e.$apollo.queries.esteNodo.loading]]),Q(v("div",IL,[v("div",{class:we(["boton selectorContenido selector",{activo:n.mostrandoContenido==="estudiar"}]),title:n.mostrandoContenido!="estudiar"?"Mostrar contenido":"",onClick:t[3]||(t[3]=g=>n.mostrandoContenido="estudiar")},kL,10,DL),v("div",{class:we(["boton selectorContenido selector",{activo:n.mostrandoContenido==="expertos"}]),title:n.mostrandoContenido!="expertos"?"Mostrar expertos":"",onClick:t[4]||(t[4]=g=>n.mostrandoContenido="expertos")},LL,10,OL),v("div",{class:we(["boton selectorContenido selector deshabilitado",{activo:n.mostrandoContenido==="foros"}]),title:n.mostrandoContenido!="foros"?"Mostrar foros":"",onClick:t[5]||(t[5]=g=>n.mostrandoContenido="foros")},BL,10,ML)],512),[[Z,!e.$apollo.queries.esteNodo.loading]]),Q(v("div",$L,[Q(v("div",UL,[Q(v("div",qL,[v("div",{id:"nombreSeccionSeleccionada",onClick:t[6]||(t[6]=g=>n.mostrandoMenuSecciones=!0)},[((u=(c=n.esteNodo)==null?void 0:c.secciones)==null?void 0:u.length)>0?(Y(),re("img",jL)):Ee("",!0),Ke(" "+Ae(r.seccionSeleccionada?r.seccionSeleccionada.nombre:"Descripción"),1)])],512),[[Z,!n.mostrandoMenuSecciones]]),Q(v("div",{id:"contenedorSelectoresSeccion",onClick:t[10]||(t[10]=g=>n.mostrandoMenuSecciones=!1)},[v("div",{class:"selectorSeccion",onClick:t[7]||(t[7]=g=>n.idSeccionVisible=null)}," Descripcion "),(Y(!0),re(He,null,Ze(n.esteNodo.secciones,(g,y)=>(Y(),re("div",{class:"selectorSeccion",onClick:N=>n.idSeccionVisible=g.id,key:g.id},[v("div",HL,Ae(g.nombre),1),r.usuarioExperto||e.usuarioSuperadministrador?Q((Y(),re("div",{key:0,class:"contenedorBotonesSelectorSeccion",onClick:t[8]||(t[8]=Ie(()=>{},["stop"]))},[Q(v("div",{class:"boton",onClick:N=>r.cambiarIndexSeccion(g.id,-1)},WL,8,zL),[[Z,n.steppingSeccion!=g.id&&y>0]]),Q(Te(s,null,null,512),[[Z,n.steppingSeccion===g.id]]),Q(v("div",{class:"boton",onClick:N=>r.cambiarIndexSeccion(g.id,1)},JL,8,QL),[[Z,n.steppingSeccion!=g.id&&y<n.esteNodo.secciones.length-1]]),Q(v("div",{class:"boton",title:"Eliminar",onClick:Ie(N=>r.eliminarSeccion(g.id),["stop"])},ZL,8,YL),[[Z,r.usuarioExperto||e.usuarioSuperadministrador]])],512)),[[Z,n.mostrandoBotonesSeccion===g.id]]):Ee("",!0),r.usuarioExperto||e.usuarioSuperadministrador?(Y(),re("div",{key:1,class:"boton botonMostrarBotonesSeccion",onClick:Ie(N=>n.mostrandoBotonesSeccion=n.mostrandoBotonesSeccion===g.id?null:g.id,["stop"])},oM,8,eM)):Ee("",!0)],8,VL))),128)),r.usuarioExperto?(Y(),re("div",{key:0,class:"selectorSeccion botonTexto",onClick:t[9]||(t[9]=Ie((...g)=>r.crearNuevaSeccion&&r.crearNuevaSeccion(...g),["stop"]))},[Q(Te(s,null,null,512),[[Z,n.creandoNuevaSeccion]]),Q(v("img",nM,null,512),[[Z,!n.creandoNuevaSeccion]]),iM])):Ee("",!0)],512),[[Z,n.mostrandoMenuSecciones]]),Q(v("div",rM,[Q(v("div",{id:"descripcion",class:"contenidoTexto",ref:"descripcion",onClick:t[11]||(t[11]=(...g)=>r.toggleEditandoDescripcion&&r.toggleEditandoDescripcion(...g))},Ae(n.esteNodo.descripcion),513),[[Z,!n.editandoDescripcion]]),Q(v("textarea",{id:"inputNuevoDescripcion",ref:"inputNuevoDescripcion",class:"inputTextoNodo","onUpdate:modelValue":t[12]||(t[12]=g=>n.nuevoDescripcion=g)},null,512),[[Je,n.nuevoDescripcion],[Z,n.editandoDescripcion]]),Q(v("div",sM,[v("img",{src:er,class:"botonGuardarCampo",alt:"Guardar",title:"Guardar descripción",id:"botonGuardarDescripcion",onClick:t[13]||(t[13]=(...g)=>r.guardarNuevoDescripcion&&r.guardarNuevoDescripcion(...g))}),v("img",{src:$t,class:"botonGuardarCampo",alt:"Cancelar",title:"Cancelar edición",id:"botonCancelarEdicionDescripcion",onClick:t[14]||(t[14]=g=>n.editandoDescripcion=!1)})],512),[[Z,n.editandoDescripcion]])],512),[[Z,!r.seccionSeleccionada&&!n.mostrandoMenuSecciones]]),n.esteNodo.id&&r.seccionSeleccionada?Q((Y(),Qe(l,{key:r.seccionSeleccionada.id,idNodo:n.esteNodo.id,estaSeccion:r.seccionSeleccionada,usuarioExperto:r.usuarioExperto,onSubiArchivo:t[15]||(t[15]=g=>r.addArchivoSeccionCache(g,r.seccionSeleccionada.id)),onArchivoEliminado:t[16]||(t[16]=g=>r.deleteArchivoSeccionCache(g,r.seccionSeleccionada.id)),onTengoNuevoPrimario:t[17]||(t[17]=g=>r.setPrimarioSeccionCache(g,r.seccionSeleccionada.id))},null,8,["idNodo","estaSeccion","usuarioExperto"])),[[Z,r.seccionSeleccionada&&!n.mostrandoMenuSecciones]]):Ee("",!0),((p=(h=n.esteNodo)==null?void 0:h.secciones)==null?void 0:p.length)>0?(Y(),re("div",aM,[v("div",{class:we(["stepperSeccion boton",{deshabilitado:!r.seccionSeleccionada}]),onClick:t[18]||(t[18]=g=>r.stepSeccionVisible(-1))},lM,2),v("div",{class:we(["stepperSeccion boton",{deshabilitado:r.indexSeccionSeleccionada!=null&&r.indexSeccionSeleccionada>=n.esteNodo.secciones.length-1}]),onClick:t[19]||(t[19]=g=>r.stepSeccionVisible(1))},dM,2)])):Ee("",!0)],512),[[Z,n.mostrandoContenido==="estudiar"]]),Q(v("div",hM,[v("div",fM,[Q(v("div",{class:"boton",title:n.esteNodo.expertos.length<1?"Asumir":"Quiero aportar como experto en este tema",onClick:t[20]||(t[20]=g=>r.intentarEntrarExpertos(e.usuario.id))},gM,8,pM),[[Z,!n.enviandoQueryExpertos&&!n.idExpertoSeleccionado&&!r.usuarioExperto]]),Q(v("div",{class:"boton",title:"Aceptar como experto",onClick:t[21]||(t[21]=g=>r.intentarEntrarExpertos(n.idExpertoSeleccionado))},yM,512),[[Z,!n.enviandoQueryExpertos&&n.idExpertoSeleccionado&&(n.esteNodo.posiblesExpertos.includes(n.idExpertoSeleccionado)&&r.usuarioExperto||e.usuarioSuperadministrador||r.usuarioAdministradorAtlas)]]),Q(v("div",{class:"boton",title:"abandonar",onClick:t[22]||(t[22]=g=>r.abandonarListaExpertos(e.usuario.id))},wM,512),[[Z,!n.enviandoQueryExpertos&&!n.idExpertoSeleccionado&&(r.usuarioExperto||n.esteNodo.posiblesExpertos.includes(n.idExpertoSeleccionado))]]),Q(Te(s,{texto:""},null,512),[[Z,n.enviandoQueryExpertos]])]),v("div",{id:"listaExpertos",class:"listaPersonas",onClick:t[23]||(t[23]=Ie(g=>n.idExpertoSeleccionado=null,["self"]))},[(Y(!0),re(He,null,Ze(n.esteNodo.expertos.concat(n.esteNodo.posiblesExpertos),g=>(Y(),Qe(a,{texto:"",seleccionado:n.idExpertoSeleccionado===g,key:g,factorEscala:"0.8",style:Ve({opacity:n.esteNodo.posiblesExpertos.includes(g)?.5:1}),idPersona:g,onClick:y=>n.idExpertoSeleccionado=g},null,8,["seleccionado","style","idPersona","onClick"]))),128))])],512),[[Z,n.mostrandoContenido==="expertos"]]),Q(v("div",EM,[r.usuarioExperto?(Y(),re("div",_M,"Foro expertos")):Ee("",!0)],512),[[Z,n.mostrandoContenido=="foros"]])],512),[[Z,!e.$apollo.queries.esteNodo.loading]])])}const ed=Ge(NL,[["render",SM],["__scopeId","data-v-1d347a19"]]),NM={name:"DiagramaArbol",components:{NodoConocimientoVistaArbol:$b,ControlesNodo:Bb,VisorNodoConocimiento:ed},props:{visible:{type:Boolean,default:!0},idsRoot:{type:Array,default:[]},idsRed:{type:Array,default:[]},idNodoSeleccionado:{type:String}},apollo:{yo:{query:xo,fetchPolicy:"cache-first",skip(){var e;return!((e=this.usuario)!=null&&e.id)}},nodoSeleccionado:{query:Kd,variables(){return{idNodo:this.idNodoSeleccionado}},update({nodo:e}){return e},skip(){return!this.idNodoSeleccionado},fetchPolicy:"cache-first"}},data(){return{idNodoVisor:null,yo:{atlas:{datosNodos:[]}},refreshLineaHorizontal:0}},computed:{idNodoTarget(){var e,t;return(t=(e=this.yo)==null?void 0:e.atlas)==null?void 0:t.idNodoTarget},nodoTargetRelevante(){return this.idNodoTarget&&this.idsRed.includes(this.idNodoTarget)},nodoSeleccionadoNullificable(){var e,t,o;return(o=(t=(e=this.$apollo)==null?void 0:e.queries)==null?void 0:t.nodoSeleccionado)!=null&&o.skip?null:this.nodoSeleccionado}},methods:{clickFondo(){this.$emit("seleccionNodo",null)},clickEnNodo(e){this.$emit("seleccionNodo",{idNodo:e})},scrollNodoIntoView({elem:e,xCentro:t}){this.$nextTick(()=>{let o=e.$el.getBoundingClientRect(),i=o.left+o.width/2;this.$refs.elDiagrama.scrollLeft+=i-t})}}},CM={id:"elDiagrama",ref:"elDiagrama"};function AM(e,t,o,i,n,r){const s=Oe("nodo-conocimiento-vista-arbol"),l=Oe("visor-nodo-conocimiento");return Y(),re("div",{class:"diagramaArbol",onClick:t[0]||(t[0]=(...a)=>r.clickFondo&&r.clickFondo(...a))},[v("div",CM,[(Y(!0),re(He,null,Ze(o.idsRoot,a=>(Y(),Qe(s,{key:a,idNodo:a,idNodoSeleccionado:o.idNodoSeleccionado,nivelArbol:0,refreshLineaHorizontal:n.refreshLineaHorizontal,onScrollMe:r.scrollNodoIntoView,onClickEnNodo:r.clickEnNodo},null,8,["idNodo","idNodoSeleccionado","refreshLineaHorizontal","onScrollMe","onClickEnNodo"]))),128))],512),n.idNodoVisor?(Y(),Qe(l,{key:0,idNodo:n.idNodoVisor},null,8,["idNodo"])):Ee("",!0)])}const ah=Ge(NM,[["render",AM],["__scopeId","data-v-3414c102"]]);let xM=/[^ a-zA-ZÀ-ž0-9_():.,-]/;const TM=function(e){return!xM.test(e)},cc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAqFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAs30iGAAAAN3RSTlMA/ID3Cw8F6qwT8jmmfUZAMR8Y3dGSG+/ZsJ2Gb10H5sO+u7ZnSqF1V8iZjGBrW1Iu4MyCKOxPW1J8IAAAAv9JREFUSMftltmWqjAQRUmQGUREZbgtIOI8D931/392ISl6oYLNYvVjnyfLYlNJqJxE+NPv6cv0ffOrG7t2IZe77sJqM2BKtQ6woXNYNzrAfZHDYr8t0ZN6AmqgcFgZVJPNGlqzTZBhEG05PJbxjyzYpKthEztZQi5CMbybJI/MO4aUFNmwibaAySsnKY0J2UkYnHAJVg3znQHXPwH1ASQTUDtMzuvnrV0xb8rfMHzgT3mJyaQejtTHygij/lXeXKc9Titk+eg8DQDm+zMr1cPK4lRoEMWmovnDezUmbPHjYC8JMhb2qNCoxc68jQu6r+ak52+uvpfz6uJWfPDV9va+2+S8ftFWABtqT3rSxLY2LARaJH/WraCpU4aOFTO2nRYKuA/rMvUhbrk9JBVizjqG4XA6BrPXCp6KOMbVSNdHvB0piMc3vmH0B3LZKxtW7wCFyIGN4Qompgd9Y/jkV6kuKttz8fMcA63a0EzjpS93tsu3n6Kerh9cw4dCavHckeg2ewmaQcxeaeukIDTewn51+UJgIuPs8BGAO3n1MMeFrW0YFgGmbQUeAdIsN9JeYW0ERNR1EbhGLzAK4XvMo4uD8MMjr8OGJaV0jsOW0urun7gwUlUV/4Ow2lN8wYKi5Jp4Nu5mpoOAC7aXZXkYQCF38fCpZqLohQO0XMo//ZwVltDfFJ4NPVGcrZ9c114YEbcyFa68KU3mHNxYN6Dy/oyMhT38sT0nq0/m+asJb899242hHLUsAdQsk44KqFLrLXlJCHyLJBdQFkI7UagRbc9+PpJeGxuyrbE1Lpz7K6gOOzjtCgO03hqgpaDrR4KWBQrnvXmmCdIOh2A1fyPsPW7zg/28WGqDRdIPph+ZNccNfT5u1Kj+lExqDjr6fNBdtXo4xfyuWrnlEVse7uLp+3AHCFse7uW1opyyE5I8WjrlpAmbUvOlhCZ+epBxluPHC418SP3Ect5tiqHUcJXCZPdLXHvZJWx3gIf42ZOh0EFHlznvUeikk+q66kn406/pP19rpKSAcXvNAAAAAElFTkSuQmCC",IM={name:"GestorColecciones",components:{PieProgreso:fs,Loading:yt,NodoConocimientoVistaArbol:$b,DiagramaArbol:ah},props:{opcionNull:{type:String},conectandoNodosColeccion:{type:Boolean}},apollo:{coleccionSeleccionada:{query:Fe`
        query ($idColeccion: ID!, $idUsuario: ID!) {
          coleccionNodosConocimiento(
            idColeccion: $idColeccion
            idUsuario: $idUsuario
          ) {
            id
            nombre
            progreso
            idsNodos
            idsRed
          }
        }
      `,variables(){var e;return{idColeccion:this.idColeccionSeleccionada,idUsuario:(e=this.usuario)==null?void 0:e.id}},update({coleccionNodosConocimiento:e}){return e},skip(){return!this.idColeccionSeleccionada},fetchPolicy:"cache-and-network"},yo:{query:xo,fetchPolicy:"cache-first",skip(){var e;return!((e=this.usuario)!=null&&e.id)}}},data(){return{yo:{atlas:{colecciones:[],datosNodo:[]}},editandoColeccion:!1,guardandoNuevoNombreColeccion:!1,eliminandoColeccion:!1,preparandoNuevaColeccion:!1,creandoNuevaColeccion:!1,anchoContenedorArbol:null,refreshLineaHorizontal:0,coleccionSeleccionada:{idsNodos:[],idsRed:[]},desplegandoLista:!1,idColeccionSeleccionada:null,mostrandoOpcionesColeccion:!1}},computed:{mostrandoArbol(){return this.$route.name==="coleccionNodosConocimiento"},nodoTargetRelevante(){var e;return this.idNodoTarget&&((e=this.coleccionSeleccionadaNullificable)==null?void 0:e.idsRed.includes(this.idNodoTarget))},estiloZonaTitulo(){let e="fit-content";return this.mostrandoArbol&&(e="100%"),{width:e}},estiloIconoProgresoUsuario(){let e="50%",t=this.anchoContenedorArbol;return t&&(e=t/2+"px"),{left:e}},coleccionSeleccionadaNullificable(){return this.idColeccionSeleccionada?this.coleccionSeleccionada:null}},methods:{iniciarEdicionNombreColeccion(){this.coleccionSeleccionadaNullificable||console.log("Error tratando de editar nombre de colección mientras no había colección seleccionada"),this.editandoColeccion=!0,this.inputNombreEditarColeccion=this.coleccionSeleccionadaNullificable.nombre},guardarNuevoNombreColeccion(){if(!this.coleccionSeleccionadaNullificable){console.log("Error: Tratando de guardar un nuevo nombre de colección pero no hay colección seleccionada");return}let e=this.$refs.inputNuevoNombreColeccion.value;if(!e){console.log("Se debe introducir un nombre"),this.raiseAccion("Debes escribir un nombre");return}if(e=e.trim(),!TM()){console.log("Nombre no válido");return}if(e===this.coleccionSeleccionadaNullificable.nombre){this.raiseAccion("El nombre no ha sido modificado");return}let t=this.coleccionSeleccionadaNullificable.id;this.guardandoNuevoNombreColeccion=!0,this.mostrandoOpcionesColeccion=!1,console.log("Se guardará la colección con nuevo nombre: "+e),this.enviandoOperacion=!0,this.$apollo.mutate({mutation:Fe`
            mutation ($nuevoNombre: String!, $idColeccion: ID!) {
              setNombreColeccionNodosAtlasConocimientoUsuario(
                nuevoNombre: $nuevoNombre
                idColeccion: $idColeccion
              ) {
                id
                nombre
              }
            }
          `,variables:{nuevoNombre:e,idColeccion:t}}).then(()=>{this.guardandoNuevoNombreColeccion=!1,this.editandoColeccion=!1,this.raiseAccion("Nombre de colección guardado"),this.$apollo.queries.coleccionSeleccionada.refetch()}).catch(o=>{console.log("Error: "+o),this.guardandoNuevoNombreColeccion==!1})},eliminarColeccion(){if(console.log("Eliminando colección seleccionada"),!this.coleccionSeleccionadaNullificable||!confirm("¿Confirmar la eliminación de la colección? (Esta acción no puede deshacerse)"))return;let e=this.coleccionSeleccionadaNullificable.id;console.log("con id "+e),this.eliminandoColeccion=!0,this.$apollo.mutate({mutation:Fe`
            mutation ($idColeccion: ID!) {
              eliminarColeccionNodosAtlasConocimientoUsuario(
                idColeccion: $idColeccion
              )
            }
          `,variables:{idColeccion:e}}).then(()=>{const t=this.$apollo.provider.defaultClient,o=t.readQuery({query:Fe`
              query {
                yo {
                  atlas {
                    colecciones {
                      ...fragColecciones
                    }
                  }
                }
              }
              ${Si}
            `});let i=JSON.parse(JSON.stringify(o)),n=i.yo.atlas.colecciones.findIndex(r=>r.id===e);if(n<0){console.log("La colección no estaba en el caché");return}if(i.yo.atlas.colecciones.splice(n,1),i.yo.atlas.colecciones.length<1)this.idColeccionSeleccionada=null;else{let r=n-1;r<0&&(r=i.yo.atlas.colecciones.length-1),this.idColeccionSeleccionada=i.yo.atlas.colecciones[r].id}t.writeQuery({query:Fe`
              query {
                yo {
                  atlas {
                    colecciones {
                      ...fragColecciones
                    }
                  }
                }
              }
              ${Si}
            `,data:i}),this.eliminandoColeccion=!1,this.mostrandoOpcionesColeccion=!1}).catch(t=>{console.log("Error: "+t),this.eliminandoColeccion=!1})},crearNuevaColeccion(){console.log("Creando nueva coleccion");let e=this.$refs.inputNombreNuevaColeccion.value.trim();if(console.log(`Con nombre ${e}`),!e||e.length<1){console.log("Se debe introducir un nombre");return}if(e.length>30){console.log("El nombre es demasiado largo");return}this.creandoNuevaColeccion=!0,this.$apollo.mutate({mutation:Fe`
            mutation ($nombre: String, $idsNodos: [String]) {
              crearColeccionNodosAtlasConocimientoUsuario(
                nombre: $nombre
                idsNodos: $idsNodos
              ) {
                ...fragColecciones
              }
            }
            ${Si}
          `,variables:{nombre:e,idsNodos:[]}}).then(({data:{crearColeccionNodosAtlasConocimientoUsuario:t}})=>{this.creandoNuevaColeccion=!1,this.preparandoNuevaColeccion=!1;const o=this.$apollo.provider.defaultClient,i=o.readQuery({query:Fe`
              query {
                yo {
                  atlas {
                    colecciones {
                      ...fragColecciones
                    }
                  }
                }
              }
              ${Si}
            `});let n=JSON.parse(JSON.stringify(i));if(n.yo.atlas.colecciones.findIndex(s=>s.id===t.id)>=0){console.log("La colección ya estaba en el caché");return}n.yo.atlas.colecciones.push(t),o.writeQuery({query:Fe`
              query {
                yo {
                  atlas {
                    colecciones {
                      ...fragColecciones
                    }
                  }
                }
              }
              ${Si}
            `,data:n}),this.idColeccionSeleccionada=t.id}).catch(t=>{console.log("Error: "+t),this.creandoNuevaColeccion=!1})},iniciarCreacionColeccion(){this.preparandoNuevaColeccion=!0},clickNodo(e){this.idNodoSeleccionado=this.idNodoSeleccionado===e?null:e},setIdColeccionSeleccionada(e){this.idColeccionSeleccionada=e}},watch:{coleccionSeleccionadaNullificable:{handler:function(e){e!=null&&e.id&&console.log("cambio a coleccion "+(e==null?void 0:e.id)),this.$emit("coleccionSeleccionada",e),this.desplegandoLista=!1,e||(this.mostrandoOpcionesColeccion=!1)},immediate:!0},"$route.path":function(){this.mostrandoOpcionesColeccion=!1}},mounted(){var e,t;((t=(e=this.$route)==null?void 0:e.params)==null?void 0:t.tipoBrowse)==="browseColeccion"&&(this.idColeccionSeleccionada=this.$route.params.idBrowsed)}},ho=e=>(it("data-v-8ad880b6"),e=e(),rt(),e),DM={class:"gestorColecciones"},PM={style:{"z-index":"1"}},kM={id:"listaSelectoresColeccion"},OM=ho(()=>v("img",{src:cc,alt:"Coleccion",style:{height:"15px"}},null,-1)),RM=["onClick"],LM=ho(()=>v("img",{src:cc,alt:"Coleccion",style:{height:"15px"}},null,-1)),MM=ho(()=>v("img",{src:Ji,alt:"Nuevo"},null,-1)),FM=ho(()=>v("span",null,"Crear colección",-1)),BM=[MM,FM],$M=ho(()=>v("img",{src:Yi,alt:"Opciones",style:{}},null,-1)),UM=[$M],qM={key:0,id:"contenedorOpciones"},jM=ho(()=>v("img",{src:tc,alt:"Red"},null,-1)),VM=ho(()=>v("img",{src:gs,alt:"Conectar"},null,-1)),HM=[VM],zM=ho(()=>v("img",{src:sh,alt:"Editar"},null,-1)),GM=[zM],WM={src:kn,alt:"Eliminar"},QM={id:"splashCrearColeccion",class:"bloqueSplash"},KM={class:"botonEquis"},JM=ho(()=>v("div",{class:"tituloSplash"},[v("img",{src:cc,alt:"Coleccion"}),v("span",null,"Crear una colección")],-1)),YM=ho(()=>v("div",{class:"descripcionSplash"}," Ingresa el nombre de la nueva colección ",-1)),XM={class:"bloqueSplash",id:"splashEditarColeccion"},ZM=ho(()=>v("img",{src:$t,alt:"Salir"},null,-1)),eF=[ZM],tF={class:"tituloSplash"},oF=ho(()=>v("img",{src:sh,alt:"Editar"},null,-1)),nF=ho(()=>v("div",{class:"descripcionSplash"}," Introduce un nuevo nombre para esta colección. ",-1)),iF={src:er,alt:"Guardar"};function rF(e,t,o,i,n,r){var a,c,u;const s=Oe("loading"),l=Oe("router-link");return Y(),re("div",DM,[Q(v("div",{id:"zonaTitulo",style:Ve([r.estiloZonaTitulo])},[v("div",{id:"nombreColeccion",class:we({desplegandoLista:n.desplegandoLista,mostrandoArbol:r.mostrandoArbol}),onClick:t[3]||(t[3]=Ie(h=>n.desplegandoLista=!n.desplegandoLista,["stop"]))},[Q(Te(s,null,null,512),[[Z,this.$apollo.queries.coleccionSeleccionada.loading]]),v("span",PM,Ae(r.coleccionSeleccionadaNullificable&&n.coleccionSeleccionada.nombre||"Atlas"),1),Q(v("div",kM,[o.opcionNull?Q((Y(),re("div",{key:0,class:"selectorColeccion",onClick:t[0]||(t[0]=Ie(h=>r.setIdColeccionSeleccionada(null),["stop"]))},[OM,Ke(" "+Ae(o.opcionNull),1)],512)),[[Z,n.idColeccionSeleccionada]]):Ee("",!0),(Y(!0),re(He,null,Ze(n.yo.atlas.colecciones.filter(h=>n.idColeccionSeleccionada!=h.id),h=>(Y(),re("div",{class:"selectorColeccion",onClick:Ie(p=>r.setIdColeccionSeleccionada(h.id),["stop"]),key:h.id},[LM,Ke(" "+Ae(h.nombre),1)],8,RM))),128)),v("div",{class:"botonTexto",onClick:t[1]||(t[1]=Ie((...h)=>r.iniciarCreacionColeccion&&r.iniciarCreacionColeccion(...h),["stop"])),id:"botonCrearColeccion"},BM)],512),[[Z,n.desplegandoLista]]),r.coleccionSeleccionadaNullificable?Q((Y(),re("div",{key:0,class:"boton",id:"botonMostrarOpcionesColeccion",onClick:t[2]||(t[2]=Ie(h=>n.mostrandoOpcionesColeccion=!n.mostrandoOpcionesColeccion,["stop"]))},UM,512)),[[Z,!n.desplegandoLista]]):Ee("",!0)],2)],4),[[Z,!o.conectandoNodosColeccion]]),r.coleccionSeleccionadaNullificable?Q((Y(),re("div",qM,[(a=n.coleccionSeleccionada)!=null&&a.id&&((c=e.$route.params)==null?void 0:c.tipoBrowse)!="browseColeccion"?(Y(),Qe(l,{key:0,class:"boton botonOpcion",to:{name:"atlas",params:{tipoBrowse:"browseColeccion",idBrowsed:n.coleccionSeleccionada.id}}},{default:wt(()=>[jM]),_:1},8,["to"])):Ee("",!0),((u=e.$route.params)==null?void 0:u.tipoBrowse)==="mapa"?Q((Y(),re("div",{key:1,class:"botonOpcion botonTexto selector",id:"botonConectarNodosColeccion",onClick:t[4]||(t[4]=Ie(h=>e.$emit("setConectandoNodosColeccion",!0),["stop"]))},HM,512)),[[Z,!o.conectandoNodosColeccion]]):Ee("",!0),v("div",{class:"botonOpcion boton",onClick:t[5]||(t[5]=Ie((...h)=>r.iniciarEdicionNombreColeccion&&r.iniciarEdicionNombreColeccion(...h),["stop"]))},GM),v("div",{class:"botonOpcion boton",onClick:t[6]||(t[6]=Ie((...h)=>r.eliminarColeccion&&r.eliminarColeccion(...h),["stop"]))},[Q(Te(s,null,null,512),[[Z,n.eliminandoColeccion]]),Q(v("img",WM,null,512),[[Z,!n.eliminandoColeccion]])])],512)),[[Z,n.mostrandoOpcionesColeccion&&!o.conectandoNodosColeccion]]):Ee("",!0),(Y(),Qe(Mv,{to:"body"},[Q(v("div",{class:"ventanaSplash",onClick:t[10]||(t[10]=Ie(h=>n.preparandoNuevaColeccion=!1,["self"]))},[v("div",QM,[v("div",KM,[v("img",{src:$t,alt:"Salir",onClick:t[7]||(t[7]=Ie(h=>n.preparandoNuevaColeccion=!1,["stop"]))})]),JM,YM,v("input",{type:"text",ref:"inputNombreNuevaColeccion",onKeypress:t[8]||(t[8]=St(h=>e.$refs.botonCrearNuevaColeccion.click(),["enter"]))},null,544),v("div",{class:"botonTexto",onClick:t[9]||(t[9]=(...h)=>r.crearNuevaColeccion&&r.crearNuevaColeccion(...h)),ref:"botonCrearNuevaColeccion"}," Crear ",512)])],512),[[Z,n.preparandoNuevaColeccion]]),r.coleccionSeleccionadaNullificable&&n.editandoColeccion?(Y(),re("div",{key:0,class:"ventanaSplash",onClick:t[14]||(t[14]=Ie(h=>n.editandoColeccion=!1,["self"]))},[v("div",XM,[v("div",{class:"botonEquis",onClick:t[11]||(t[11]=h=>n.editandoColeccion=!1)},eF),v("div",tF,[oF,v("span",null,"Editando "+Ae(r.coleccionSeleccionadaNullificable.nombre),1)]),nF,v("input",{type:"text",ref:"inputNuevoNombreColeccion",onKeypress:t[12]||(t[12]=St(h=>e.$refs.botonGuardarNuevoNombreColeccion.click(),["enter"]))},null,544),v("div",{class:we(["botonTexto",{deshabilitado:n.guardandoNuevoNombreColeccion}]),onClick:t[13]||(t[13]=(...h)=>r.guardarNuevoNombreColeccion&&r.guardarNuevoNombreColeccion(...h)),ref:"botonGuardarNuevoNombreColeccion"},[Q(Te(s,null,null,512),[[Z,n.guardandoNuevoNombreColeccion]]),Q(v("img",iF,null,512),[[Z,!n.guardandoNuevoNombreColeccion]]),Ke(" Guardar ")],2)])])):Ee("",!0)]))])}const ch=Ge(IM,[["render",rF],["__scopeId","data-v-8ad880b6"]]),sF=Fe`
  query ($idColeccion: ID!, $idUsuario: ID!) {
    coleccionNodosConocimiento(
      idUsuario: $idUsuario
      idColeccion: $idColeccion
    ) {
      id
      nombre
      idsNodos
      idsRed
      progreso
    }
  }
`,aF={name:"BrowseColeccion",components:{PieProgreso:fs,diagramaArbol:ah,GestorColecciones:ch},props:{idColeccion:{type:String},idNodoSeleccionado:{type:String}},apollo:{coleccionSeleccionada:{query:sF,variables(){var e;return{idColeccion:this.idColeccion,idUsuario:(e=this.usuario)==null?void 0:e.id}},skip(){var e;return!((e=this.usuario)!=null&&e.id)||!this.idColeccion},update({coleccionNodosConocimiento:e}){return e},fetchPolicy:"cache-first"}},data(){return{coleccionSeleccionada:{idsNodos:[],idsRed:[]},anchoContenedorArbol:null}},computed:{coleccionSeleccionadaNullificable(){var e,t;return(t=(e=this.$apollo.queries)==null?void 0:e.coleccionSeleccionada)!=null&&t.skip?null:this.coleccionSeleccionada},estiloIconoProgresoUsuario(){let e="50%",t=this.anchoContenedorArbol;return t&&(e=t/2+"px"),{left:e}}},methods:{},watch:{coleccionSeleccionadaNullificable:{handler:function(e){e!=null&&e.nombre&&(document.title=e.nombre)},immediate:!0}}},cF={class:"browseColeccion"},lF={id:"contenedorFotoUsuario"},uF=["src"];function dF(e,t,o,i,n,r){var a,c;const s=Oe("pie-progreso"),l=Oe("diagrama-arbol");return Y(),re("div",cF,[r.coleccionSeleccionadaNullificable?(Y(),re("div",{key:0,id:"iconoProgresoUsuario",style:Ve([r.estiloIconoProgresoUsuario])},[(a=e.usuario)!=null&&a.id?(Y(),Qe(s,{key:0,progreso:r.coleccionSeleccionadaNullificable.progreso,size:120,factorArco:.1,colorFondo:"transparent"},{default:wt(()=>{var u;return[v("div",lF,[v("img",{ref:"imagenUsuario",src:e.serverUrl+"/api/usuarios/fotografias/"+((u=e.usuario)==null?void 0:u.id),alt:"Fotografía"},null,8,uF)])]}),_:1},8,["progreso","factorArco"])):Ee("",!0),r.coleccionSeleccionadaNullificable?Q((Y(),re("div",{key:1,id:"indicadorProgreso"},Ae(r.coleccionSeleccionadaNullificable.progreso)+"% ",513)),[[Z,(c=r.coleccionSeleccionadaNullificable)==null?void 0:c.progreso]]):Ee("",!0)],4)):Ee("",!0),r.coleccionSeleccionadaNullificable?(Y(),Qe(l,{key:1,ref:"diagramaArbol",idsRoot:r.coleccionSeleccionadaNullificable.idsNodos,idsRed:r.coleccionSeleccionadaNullificable.idsRed,idNodoSeleccionado:o.idNodoSeleccionado,onSeleccionNodo:t[0]||(t[0]=u=>e.$emit("seleccionNodo",u))},null,8,["idsRoot","idsRed","idNodoSeleccionado"])):Ee("",!0)])}const hF=Ge(aF,[["render",dF],["__scopeId","data-v-856b6529"]]),fF={name:"BrowseNodo",components:{diagramaArbol:ah},props:{idNodo:{type:String},idNodoSeleccionado:{type:String}},data(){return{}}},pF={class:"browseNodo"};function mF(e,t,o,i,n,r){const s=Oe("diagrama-arbol");return Y(),re("div",pF,[o.idNodo?(Y(),Qe(s,{key:0,idsRoot:[o.idNodo],idNodoSeleccionado:o.idNodoSeleccionado,onSeleccionNodo:t[0]||(t[0]=l=>e.$emit("seleccionNodo",l))},null,8,["idsRoot","idNodoSeleccionado"])):Ee("",!0)])}const gF=Ge(fF,[["render",mF],["__scopeId","data-v-e3a694f2"]]),vF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAnFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD4jUzeAAAAM3RSTlMA+xEW+PI/BSPvyIob4YV/XzwfAnZyZUeUVgnqwrdrNg7Tz7utb9vVv6SdmEwxKeWyjk9WFiZCAAAB0ElEQVRIx+2U2bKqMBBFu0kgcJhFQHGeZ8+w///frmKdstSEK+9nvVCws6pJuiv0xyOB00/6qaB3caMN44qcx8E7QmfH9XJP1o/D/0slNjDolSKjLPjZX1+OzULmA15e0S/T2AbnjcrFGHaIqtJffp3oynkGNDkJsKxIjUNc+KYa6wNcmnduY1iR2AJYL3su3RBrfFomZQevQ2IGfE0yujOR8E39YOSkFuBx9hj0YBvKRBhUVACrlx9mjPXKBj1Sayyyl2SEhX6uGD+UAs5rlMNWOsUBAooRKm3k6pQ+ZEY7jHSnD6T6PtoZ9RBpIgGU+iqsqHKU7vgNVVKgQ3ocsHYvQqJvULrwlDaYY29Qthjpg7ieC8fzNZNU6JVAIiYqsH0O9vCmpOcA+0yqFM+bZ0RkQAwwt16LhwinZOLIGFrPxhzSITM5MDs9disEF9REzpC+uA/XgSELEZ+bnPITkMtiIqbBZDViIHTIxyDxo5PRsXwbVxhXvGhKNKm/cJfM0nhxW+ONitthjIFNCHSpAeWmZeqq+30xU9aHxjHzjdCido4DDNs60a/DqzbOR+1I920nrh3BSKiVIxy0UajLYMAT1IKVvBhHaoWb9AX9ceEfSSU0mMLFKFUAAAAASUVORK5CYII=",yF={components:{Loading:yt},name:"BuscadorNodosConocimiento",data(){return{textoBusqueda:"",cantidadPalabrasValidas:0,resultados:[],mostrandoInput:!1,mostrandoLista:!1,esperandoResultados:!1}},methods:{clickEnLupa(){this.mostrandoInput?this.buscarDatabase():(this.mostrandoInput=!0,this.$nextTick(()=>{this.$refs.inputBuscador.focus(),this.$refs.inputBuscador.select()}))},cerrar(){this.mostrandoInput=!1},buscarDatabase(){this.textoBusqueda&&(console.log("******Descargando resultados de búsqueda"),this.esperandoResultados=!0,this.$apollo.query({query:Pe`
            query ($palabrasBuscadas: String!) {
              busquedaAmplia(palabrasBuscadas: $palabrasBuscadas) {
                id
                nombre
                resumen
                autoCoords {
                  x
                  y
                }
              }
            }
          `,variables:{palabrasBuscadas:this.textoBusqueda},fetchPolicy:"network-only"}).then(({data:{busquedaAmplia:e}})=>{this.resultados=e,this.esperandoResultados=!1,this.mostrandoLista=!0}).catch(e=>{console.log(`Error: ${e}`),this.esperandoResultados=!1}))},cerrarBusqueda(){this.mostrandoInput=!1,this.mostrandoLista=!1}},watch:{textoBusqueda:function(){this.mostrandoLista=!1}}},bF={id:"barraSuperior"},wF={id:"listaResultados"},EF=["onClick"];function _F(e,t,o,i,n,r){const s=Oe("loading");return Y(),re("div",{id:"buscadorNodosConocimiento",style:Ve([{width:n.mostrandoInput?"min(100vh, 350px)":"30px"}])},[v("div",bF,[v("img",{src:vF,alt:"Lupa",title:"Buscar nodos de conocimiento",id:"imagenLupa",class:we({opaco:!n.mostrandoInput}),onClick:t[0]||(t[0]=Ie((...l)=>r.clickEnLupa&&r.clickEnLupa(...l),["stop"]))},null,2),Te(Wi,{name:"unfold"},{default:wt(()=>[Q(v("input",{type:"text",placeholder:"Buscar","onUpdate:modelValue":t[1]||(t[1]=l=>n.textoBusqueda=l),id:"inputBuscador",ref:"inputBuscador",autocomplete:"off",onClick:t[2]||(t[2]=Ie(()=>{},["stop"])),onKeypress:t[3]||(t[3]=St((...l)=>r.buscarDatabase&&r.buscarDatabase(...l),["enter"]))},null,544),[[Je,n.textoBusqueda],[Z,n.mostrandoInput]])]),_:1})]),Q(Te(s,{texto:"Buscando"},null,512),[[Z,n.esperandoResultados]]),Q(v("div",wF,[(Y(!0),re(He,null,Ze(n.resultados,l=>(Y(),re("div",{class:"resultado",key:l.id,onClick:Ie(a=>{e.$emit("nodoSeleccionado",l),n.mostrandoInput=!1,n.mostrandoLista=!1},["stop"])},Ae(l.nombre),9,EF))),128))],512),[[Z,n.mostrandoLista]])],4)}const f0=Ge(yF,[["render",_F],["__scopeId","data-v-8626ce9a"]]),SF=Fe`
  query ($idNodo: ID!) {
    nodo(idNodo: $idNodo) {
      id
      nombre
      tipoNodo
      autoCoords {
        x
        y
      }
      vinculos {
        id
        idRef
        rol
        tipo
        nodoContraparte {
            id
          autoCoords {
            x
            y
          }
        }
      }
    }
  }
`,NF={name:"NodoConocimientoAtlas",props:{idNodo:{type:String,required:!0},yo:{type:Object,required:!0},seleccionado:{type:Boolean},idNodoSeleccionado:{type:String},idsNodosAprendidos:{type:Array,default:()=>[]},idsNodosEstudiados:{type:Array,default:()=>[]},idsNodosOlvidados:{type:Array,default:()=>[]},idsNodosEstudiables:{type:Array,default:[]},idsUnderTargetActivos:{type:Array}},apollo:{elNodo:{query:SF,variables(){return{idNodo:this.idNodo}},update({nodo:e}){return e},fetchPolicy:"cache-first"},yo:{query:xo,fetchPolicy:"cache-first",skip(){var e;return!((e=this.usuario)!=null&&e.id)}}},data(){return{elNodo:{vinculos:[]}}},computed:{estudiable(){return!this.elNodo.vinculos.some(e=>e.tipo==="continuacion"&&e.rol==="target"&&!this.idsNodosAprendidos.includes(e.idRef)&&!this.idsNodosEstudiados.includes(e.idRef))},targeted(){return this.idNodoTarget===this.elNodo.id},idNodoTarget(){var e,t;return(t=(e=this.yo)==null?void 0:e.atlas)==null?void 0:t.idNodoTarget},vinculosConEstilo(){var e;return(e=this.elNodo)!=null&&e.vinculos?this.elNodo.vinculos.map(t=>{var h;if(t.rol==="source")return{...t};if(!((h=t.nodoContraparte)!=null&&h.autoCoords))return{...t};let o=this.elNodo,i=t.nodoContraparte,n=o.autoCoords,r=i.autoCoords,s=Math.atan2(r.y-n.y,r.x-n.x),l=Math.sqrt(Math.pow(r.y-n.y,2)+Math.pow(r.x-n.x,2)),a=100,c=l,u={paddingLeft:Math.round(a/2)+"px",paddingRight:Math.round(a/2)+"px",width:Math.round(c)+"px",transform:"rotate("+s+"rad)",opacity:"1"};return!this.idsNodosAprendidos.includes(t.idRef)&&!this.idsNodosEstudiados.includes(t.idRef)&&(u.opacity=.2),{...t,estilo:u}}):[]}}},p0=e=>(it("data-v-34c2e1b7"),e=e(),rt(),e),CF={key:0,id:"iconoTargeted",src:Ki,alt:"Mira"},AF={class:"bolita"},xF={key:0,src:ms,alt:"Skill"},TF={key:1,src:ps,alt:"Skill"},IF={class:"cajaTexto"},DF=p0(()=>v("img",{src:Yi,alt:"Ellipsis"},null,-1)),PF=[DF],kF=p0(()=>v("div",{class:"laLinea"},null,-1)),OF=[kF];function RF(e,t,o,i,n,r){return n.elNodo&&n.elNodo.id?(Y(),re("div",{key:0,class:we(["nodoConocimientoAtlas nodoConocimientoConBola",{seleccionado:o.seleccionado,estudiable:r.estudiable,aprendido:o.idsNodosAprendidos.includes(n.elNodo.id),estudiado:o.idsNodosEstudiados.includes(n.elNodo.id),olvidado:o.idsNodosOlvidados.includes(n.elNodo.id),targeted:r.targeted}])},[r.idNodoTarget===n.elNodo.id?(Y(),re("img",CF)):Ee("",!0),v("div",AF,[yd(e.$slots,"imagenBolita",{},()=>[n.elNodo.tipoNodo==="concepto"?(Y(),re("img",xF)):(Y(),re("img",TF))],!0)]),v("div",IF,[Ke(Ae(n.elNodo.nombre)+" ",1),Q(v("div",{class:"boton",id:"botonAbrirOpciones",onClick:t[0]||(t[0]=Ie(s=>e.$emit("abrirMyControles"),["stop"]))},PF,512),[[Z,o.seleccionado]])]),(Y(!0),re(He,null,Ze(r.vinculosConEstilo.filter(s=>s.estilo),s=>(Y(),re("div",{class:"lineaVinculo",key:s.id,style:Ve([s.estilo])},OF,4))),128))],2)):Ee("",!0)}const LF=Ge(NF,[["render",RF],["__scopeId","data-v-34c2e1b7"]]),Ar=Pe`
query($centro: CoordsInput!, $radioX: Int!, $radioY: Int!){
    nodosConocimientoAroundCentro(centro : $centro, radioX: $radioX, radioY: $radioY){
        ...fragNodoConocimientoMinimoAtlas
    }
}
    ${AD}
`,MF={name:"MapaAtlas",props:{idsNodosColeccionEstudiables:{type:Array,default:[]},nodoSeleccionadoBelongsColeccionSeleccionada:{type:Boolean},conectandoNodosColeccion:{type:Boolean},nodoCreandoDependencia:{type:Object},idNodoSeleccionado:{type:String},coleccionSeleccionada:{type:Object},idsNodosActivosOlvidados:{type:Array,default:[]}},components:{BuscadorNodosConocimiento:f0,Loading:yt,NodoConocimientoAtlas:LF,GestorColecciones:ch},apollo:{nodosZona:{query:Ar,variables(){return{centro:{x:this.centroDescarga.x,y:this.centroDescarga.y},radioX:this.radioDescargaX,radioY:this.radioDescargaY}},update({nodosConocimientoAroundCentro:e}){return e},fetchPolicy:"cache-first",debounce:1e3,skip(){return!this.centroDescarga||!this.radioDescargaX||!this.radioDescargaY}},nodoSeleccionadoDB:{query:Kd,variables(){return{idNodo:this.idNodoSeleccionado}},skip(){return!this.idNodoSeleccionado},update({nodo:e}){return e},fetchPolicy:"cache-first"},configuracionAtlas:{query:Pe`
        query ($nombreAtlas: String!) {
          configuracionAtlas(nombreAtlas: $nombreAtlas) {
            id
            posicionando
          }
        }
      `,variables:{nombreAtlas:"conocimiento"},fetchPolicy:"network-only"},yo:{query:xo,skip(){return!this.usuarioLogeado},fetchPolicy:"cache-first"},progresoNodoTarget:{query:Pe`
        query ($idNodo: ID!) {
          nodo(idNodo: $idNodo) {
            id
            porcentajeCompletado
          }
        }
      `,variables(){return{idNodo:this.idNodoTarget}},skip(){return!this.idNodoTarget},update({nodo:e}){return e.porcentajeCompletado}},nodoTarget:{query:Pe`
            query($idNodo: ID!){
                nodo(idNodo: $idNodo){
                    id
                    nombre
                }
            }
            `,variables(){return{idNodo:this.idNodoTarget}},fetchPolicy:"cache-first",skip(){return!this.idNodoTarget},update({nodo:e}){return e}}},data(){return{nodoTarget:{},lastPointerMoveX:null,lastPointerMoveY:null,centroVista:{x:0,y:0},porcentajeTriggerDescarga:60,centroDescarga:{x:0,y:0},radioDescargaX:1e3,radioDescargaY:1e3,overflowZonaDescarga:30,elementoDragged:null,nodoSeleccionadoDB:{vinculos:[],expertos:[]},montado:!1,firstLoad:!1,configuracionAtlas:{posicionando:!1},hovered:!1,nodosDescargados:!1,posicionCreandoNodo:null,factorEscalera:.2,idsNodosCadenaPreviaSeleccionado:[],idNodoMenuCx:null,idsNecesariosParaTarget:[],enviandoQueryModo:!1,enviandoQueryTarget:!1,redibujarEnlacesNodos:0,yo:{atlas:{datosNodos:[],configuracion:{modo:"estudiante"}}},idsNodosVisibles:[],idsNodosAlreadyRendered:[],showingZoomInfo:!1,zoom:60,minZoom:20,maxZoom:70,pinching:!1,lastPinchDistance:0,actualizarVinculosGrises:0,ultimoTouchX:0,ultimoTouchY:0,cerrarBusqueda:0,mostrandoMenuContextual:!1,enviandoQueryConfiguracionAtlas:!1,seleccionandoColeccion:!1,mostrandoOpcionesColeccion:!1,idColeccionTargetOnLastLocalizacion:null,nivelesUnderTarget:1,hoveringAnuncioTarget:!1,creandoDependencia:!1,editandoVinculos:!1,posMenuContextual:{x:0,y:0}}},computed:{sizeGridDescarga(){return Math.round(150/this.factorZoom)},nodosVisibles(){return this.nodosZona?this.conectandoNodosColeccion?this.nodosZona:this.coleccionSeleccionada?this.nodosZona.filter(e=>this.coleccionSeleccionada.idsRed.includes(e.id)):this.nodosZona:[]},posContenedorNodos(){if(!this.montado)return;this.$el.offsetHeight,this.$el.offsetWidth;let e={x:this.centroDescarga.x-this.centroVista.x,y:this.centroDescarga.y-this.centroVista.y};return{transform:"translate("+Math.round(e.x*this.factorZoom)+"px, "+Math.round(e.y*this.factorZoom)+"px) scale("+this.factorZoom+")"}},offsetMenuContextual(){if(!this.mostrandoMenuContextual)return;let e=this.$el.offsetWidth,t=this.$el.offsetHeight;return{left:Math.round(e/2+(this.posMenuContextual.x-this.centroVista.x)*this.factorZoom)+"px",top:Math.round(t/2+(this.posMenuContextual.y-this.centroVista.y)*this.factorZoom)+"px"}},idsNodosTop(){return this.coleccionSeleccionada?this.coleccionSeleccionada.idsNodos:[]},idNodoTarget(){var e,t;return(t=(e=this.yo)==null?void 0:e.atlas)==null?void 0:t.idNodoTarget},domAndNodosReady(){return this.montado&&this.firstLoad},nodoSeleccionado:function(){return this.idNodoSeleccionado?this.nodoSeleccionadoDB:null},idsTodosNodosEstudiados(){var e,t;return(t=(e=this.yo)==null?void 0:e.atlas)!=null&&t.datosNodos?this.yo.atlas.datosNodos.filter(o=>o.estadoAprendizaje==="ESTUDIADO").map(o=>o.idNodo):[]},idsTodosNodosAprendidos(){var e,t;return(t=(e=this.yo)==null?void 0:e.atlas)!=null&&t.datosNodos?this.yo.atlas.datosNodos.filter(o=>o.estadoAprendizaje==="APRENDIDO").map(o=>o.idNodo):[]},idsNodosActivosEstudiados(){var t;let e=this.idsTodosNodosEstudiados;return(t=this.coleccionSeleccionada)!=null&&t.id&&(e=e.filter(o=>this.coleccionSeleccionada.idsRed.includes(o))),e},idsNodosActivosAprendidos(){return this.coleccionSeleccionada?this.idsTodosNodosAprendidos.filter(e=>this.coleccionSeleccionada.idsRed.includes(e)):this.idsTodosNodosAprendidos},idsNodosColeccionAccesibles(){return this.nodosColeccionAccesibles.map(e=>e.id)},factorZoom(){return Number((this.zoom/100).toFixed(2))},sizeContenedorNodos(){return{width:this.radioDescargaX+"px",height:this.radioDescargaY+"px"}}},methods:{scrollMapa(e){e.stopPropagation(),e.preventDefault()},mouseUpDiagrama(e){var t;if(((t=this.elementoDragged)==null?void 0:t.tipo)==="nodoConocimiento"){const o=this.$el.getBoundingClientRect();let i={x:Math.round(this.centroVista.x+(e.clientX-o.left-o.width/2)/this.factorZoom),y:Math.round(this.centroVista.y+(e.clientY-o.top-o.height/2)/this.factorZoom)};console.table(i),this.$apollo.mutate({mutation:Pe`
                    mutation($idNodo: ID!, $coordsManuales: CoordsInput!){
                        setCoordsManuales(idNodo: $idNodo, coordsManuales: $coordsManuales){
                            modificados{
                            id
                                autoCoords{
                                    x
                                    y
                                }
                            }
                        }
                    }
                    `,variables:{idNodo:this.elementoDragged.id,coordsManuales:i}}).then(()=>{console.log("hecho")}).catch(n=>{console.log("Error: "+n)})}this.elementoDragged=null,this.lastPointerMoveX=null,this.lastPointerMoveY=null},iniciarDragMapa(){this.elementoDragged||(this.elementoDragged={tipo:"mapa"})},setRadiosDescarga(){let e=this.$el.offsetWidth,t=this.$el.offsetHeight;this.radioDescargaX=Math.round(e/2*((100+this.overflowZonaDescarga)/100)/this.factorZoom),this.radioDescargaY=Math.round(t/2*((100+this.overflowZonaDescarga)/100)/this.factorZoom)},iniciarDragNodo(e){this.usuarioSuperadministrador&&(this.elementoDragged={tipo:"nodoConocimiento",id:e})},dragElemento:Ul(function(e){if(!this.elementoDragged)return;e.stopPropagation(),e.preventDefault();let t=e.touches?e.touches[0].clientX:e.clientX,o=e.touches?e.touches[0].clientY:e.clientY;if(this.elementoDragged.tipo==="nodoConocimiento"){if(!this.usuarioSuperadministrador)return}else if(this.elementoDragged.tipo==="mapa"){if(!this.lastPointerMoveX||!this.lastPointerMoveY){this.lastPointerMoveX=t,this.lastPointerMoveY=o;return}let i=t-this.lastPointerMoveX,n=o-this.lastPointerMoveY;i=Math.round(i/this.factorZoom),n=Math.round(n/this.factorZoom),this.panVista(-i,-n),this.lastPointerMoveX=t,this.lastPointerMoveY=o}},50),stepNivelesUnderTarget:Ul(function(e){let t=this.nivelesUnderTarget+e;t<0&&(t=0),this.idsUnderTarget[t]&&(this.nivelesUnderTarget=t)},800),nodoEnRangoVista(e){let t=e.autoCoords,o=this.centroZonaNodosVisibles.x-this.factorZonaVisible*this.anchoScreen/this.factorZoom,i=this.centroZonaNodosVisibles.x+this.factorZonaVisible*this.anchoScreen/this.factorZoom,n=this.centroZonaNodosVisibles.y-this.factorZonaVisible*this.altoScreen/this.factorZoom,r=this.centroZonaNodosVisibles.y+this.factorZonaVisible*this.altoScreen/this.factorZoom;return t.x>o&&t.x<i&&t.y>n&&t.y<r},reactToNodoEliminado(e){const t=this.$apollo.provider.defaultClient,o=t.readQuery({query:Ar,variables:{centro:this.centroDescarga,radioX:this.radioDescargaX,radioY:this.radioDescargaY}});let i=JSON.parse(JSON.stringify(o)),n=i.nodosConocimientoAroundCentro;const r=n.findIndex(s=>s.id===e);r<0||(n.splice(r,1),t.writeQuery({query:Ar,variables:{centro:this.centroDescarga,radioX:this.radioDescargaX,radioY:this.radioDescargaY},data:i}))},touchEndDiagrama(e){this.elementoDragged=null,this.lastPointerMoveX=null,this.lastPointerMoveY=null},touchStartDiagrama(e){if(e.touches.length===2){e.stopPropagation(),e.preventDefault();let t=Math.sqrt(Math.pow(e.touches[0].clientX-e.touches[1].clientX,2)+Math.pow(e.touches[0].clientY-e.touches[1].clientY,2));this.lastPinchingDistance=t;return}this.elementoDragged={tipo:"mapa"}},touchMoveDiagrama(e){if(e.touches.length===2){e.stopPropagation(),e.preventDefault();let o={x:(e.touches[0].clientX+e.touches[1].clientX)/2,y:(e.touches[0].clientY+e.touches[1].clientY)/2};var t=this.$el;let i=t.getBoundingClientRect(),n={x:this.centroVista.x+(o.x-i.left-i.width/2)/this.factorZoom,y:this.centroVista.y+(o.y-i.top-i.height/2)/this.factorZoom},r=Math.sqrt(Math.pow(e.touches[0].clientX-e.touches[1].clientX,2)+Math.pow(e.touches[0].clientY-e.touches[1].clientY,2));if(!this.lastPinchingDistance){this.lastPinchingDistance=r;return}let s=r-this.lastPinchingDistance;s!=0&&(s=2*s/Math.abs(s),Ul(this.zoomVista(s,n),1e3)),this.lastPinchingDistance=r;return}this.dragElemento(e)},clickNodo(e){this.$emit("seleccionNodo",{idNodo:e.id,programmatic:!1})},togglePosicionamiento(){this.enviandoQueryConfiguracionAtlas=!0,this.$apollo.mutate({mutation:Pe`
            mutation ($nombreAtlas: String!) {
              togglePosicionamientoAutomaticoAtlas(nombreAtlas: $nombreAtlas) {
                id
                posicionando
              }
            }
          `,variables:{nombreAtlas:"conocimiento"}}).then(()=>{this.enviandoQueryConfiguracionAtlas=!1}).catch(()=>{this.enviandoQueryConfiguracionAtlas=!1})},cerrarMenuContextual(){this.mostrandoMenuContextual=!1},abrirMenuContextual(e){const t=this.$el.getBoundingClientRect();let o=e.touches?e.touches[0].clientX:e.clientX,i=e.touches?e.touches[0].clientY:e.clientY,n=o-t.left-this.$el.offsetWidth/2,r=i-t.top-this.$el.offsetHeight/2;this.posMenuContextual={x:Math.round(this.centroVista.x+n/this.factorZoom),y:Math.round(this.centroVista.y+r/this.factorZoom)},this.mostrandoMenuContextual=!0},crearNodoEnMenuContextual(){var e={x:this.posMenuContextual.x,y:this.posMenuContextual.y};this.crearNodo(e)},centrarEnNodo(e){this.centrarVista(e.autoCoords.x,e.autoCoords.y)},centrarEnNodoById(e){e&&this.$apollo.query({query:Pe`
            query ($idNodo: ID!) {
              nodo(idNodo: $idNodo) {
                id
                autoCoords {
                  x
                  y
                }
              }
            }
          `,variables:{idNodo:e}}).then(({data:{nodo:t}})=>{this.centrarEnNodo(t)}).catch(t=>{console.log(`Error: ${t}`)})},cambiarCoordsManualesNodo(e,t){if(!this.usuarioSuperadministrador){console.log("No autorizado");return}this.$apollo.mutate({mutation:Pe`
            mutation ($idNodo: String, $coordsManuales: CoordsInput) {
              setCoordsManuales(
                idNodo: $idNodo
                coordsManuales: $coordsManuales
              ) {
                modificados {
                  id
                  coordsManuales {
                    x
                    y
                  }
                  coords {
                    x
                    y
                  }
                }
              }
            }
          `,variables:{idNodo:e,coordsManuales:t}}).then(()=>{this.$refs.canvases.crearImagenTodosVinculos()}).catch(o=>{console.log(`Error: ${o}`)})},crearNodo(e){if(!this.usuarioSuperadministrador){console.log("Error. Usuario no autorizado");return}let t={autoCoords:{x:e.x,y:e.y}};this.posicionCreandoNodo={x:e.x,y:e.y},this.$apollo.mutate({mutation:Pe`
            mutation ($infoNodo: NodoConocimientoInput) {
              crearNodo(infoNodo: $infoNodo) {
                ...fragNodoConocimiento
              }
            }
            ${kb}
          `,variables:{infoNodo:t}}).then(({data:{crearNodo:o}})=>{const i=this.$apollo.provider.defaultClient,n=i.readQuery({query:Ar,variables:{centro:this.centroDescarga,radioX:this.radioDescargaX,radioY:this.radioDescargaY}});var r=JSON.parse(JSON.stringify(n)),s=r.nodosConocimientoAroundCentro;s.findIndex(a=>a.id===o.id)>-1||(s.push(o),i.writeQuery({query:Ar,variables:{centro:this.centroDescarga,radioX:this.radioDescargaX,radioY:this.radioDescargaY},data:r})),this.posicionCreandoNodo=null}).catch(o=>{this.posicionCreandoNodo=null,console.log(`Error. E: ${o}`)})},seleccionNodo(e,t){this.$emit("seleccionNodo",{idNodo:e.id,programatic:t})},async eliminarVinculo(e,t){if(!this.usuarioSuperadministrador){console.log("No autorizado");return}this.editandoVinculos=!0,this.$apollo.mutate({mutation:Pe`
            mutation ($idNodoFrom: ID!, $idNodoTo: ID!) {
              eliminarVinculoFromTo(
                idSource: $idNodoFrom
                idTarget: $idNodoTo
              ) {
                modificados {
                  id
                  vinculos {
                    id
                    idRef
                    tipo
                    rol
                  }
                }
              }
            }
          `,variables:{idNodoFrom:e,idNodoTo:t}}).then(()=>{this.editandoVinculos=!1}).catch(o=>{console.log(`error: ${o}`),this.editandoVinculos=!1})},centrarVista(e,t){this.centroVista.x=e,this.centroVista.y=t},zoomVista(e,t){let o=e,i=this.zoom+o;i<this.minZoom?i=this.minZoom:i>this.maxZoom&&(i=this.maxZoom);var n=this.$el;n.getBoundingClientRect();const r={x:this.centroVista.x-t.x,y:this.centroVista.y-t.y};let s=i/this.zoom;this.zoom=i;let l=r.x/s,a=r.y/s;this.centrarVista(Math.round(t.x+l),Math.round(t.y+a)),this.showingZoomInfo=!0},zoomWheel(e){if(this.hovered){if(e.preventDefault(),e.ctrlKey){var t=this.$el;let o=t.getBoundingClientRect(),i={x:this.centroVista.x+(e.clientX-o.left-o.width/2)/this.factorZoom,y:this.centroVista.y+(e.clientY-o.top-o.height/2)/this.factorZoom};e.deltaY>0?this.zoomVista(-5,i):this.zoomVista(5,i);return}if(scrollX=e.deltaX,scrollY=e.deltaY,e.shiftKey){let o=scrollY;scrollY=scrollX,scrollX=o}this.panVista(scrollX,scrollY)}},panVista(e,t){this.centroVista.y+=t,this.centroVista.x+=e},hideZoomInfo:ls(function(){this.showingZoomInfo=!1},1e3)},watch:{centroVista:{handler:function(){let e=this.radioDescargaX*(100-this.porcentajeTriggerDescarga)/100,t=this.radioDescargaY*(100-this.porcentajeTriggerDescarga)/100;(this.centroVista.x>this.centroDescarga.x+e||this.centroVista.x<this.centroDescarga.x-e||this.centroVista.y<this.centroDescarga.y-t||this.centroVista.y>this.centroDescarga.y+t)&&(this.centroDescarga.x=Math.round(this.centroVista.x/this.sizeGridDescarga)*this.sizeGridDescarga,this.centroDescarga.y=Math.round(this.centroVista.y/this.sizeGridDescarga)*this.sizeGridDescarga,console.table(this.centroDescarga))},deep:!0},nodoTarget(){this.nivelesUnderTarget=1},zoom(){this.showingZoomInfo=!0,this.hideZoomInfo(),this.setRadiosDescarga()},idsNodosTop:{handler:function(e){this.$emit("settedIdsNodosTop",e)},immediate:!0}},mounted(){screen.width<600&&(this.zoom=40),this.setRadiosDescarga(),this.montado=!0}},FF=e=>(it("data-v-ea61a5ec"),e=e(),rt(),e),BF={id:"contenedorElementosDiagrama",ref:"contenedorElementosDiagrama"},$F=FF(()=>v("img",{src:gs,style:{transform:"scale(0.7)",filter:"invert(1)"},alt:"Conectado"},null,-1));function UF(e,t,o,i,n,r){const s=Oe("loading"),l=Oe("nodo-conocimiento-atlas");return Y(),re("div",{class:"mapaAtlas",onTouchmove:t[3]||(t[3]=(...a)=>r.touchMoveDiagrama&&r.touchMoveDiagrama(...a)),onTouchstart:t[4]||(t[4]=(...a)=>r.touchStartDiagrama&&r.touchStartDiagrama(...a)),onTouchend:t[5]||(t[5]=(...a)=>r.touchEndDiagrama&&r.touchEndDiagrama(...a)),onScroll:t[6]||(t[6]=(...a)=>r.scrollMapa&&r.scrollMapa(...a)),onMousedown:t[7]||(t[7]=Ie((...a)=>r.iniciarDragMapa&&r.iniciarDragMapa(...a),["left","stop"])),onContextmenu:[t[8]||(t[8]=Ie((...a)=>r.abrirMenuContextual&&r.abrirMenuContextual(...a),["self","exact","stop","prevent"])),t[13]||(t[13]=Ie((...a)=>r.abrirMenuContextual&&r.abrirMenuContextual(...a),["self","exact","prevent"]))],onMouseenter:t[9]||(t[9]=a=>n.hovered=!0),onMouseleave:t[10]||(t[10]=a=>n.hovered=!0),onMousemove:t[11]||(t[11]=(...a)=>r.dragElemento&&r.dragElemento(...a)),onMouseup:t[12]||(t[12]=Ie((...a)=>r.mouseUpDiagrama&&r.mouseUpDiagrama(...a),["left"]))},[v("div",BF,[Te(Wi,{name:"fadeOut"},{default:wt(()=>[Q(v("div",{id:"infoZoom"},"x"+Ae(r.factorZoom),513),[[Z,n.showingZoomInfo||!0]])]),_:1}),Q(Te(s,{id:"loadingNodosZona"},null,512),[[Z,e.$apollo.queries.nodosZona.loading]]),Q(v("div",{id:"menuContextual",style:Ve([r.offsetMenuContextual])},[e.usuarioProfe?(Y(),re("div",{key:0,class:we(["botonMenuContextual",{deshabilitado:n.posicionCreandoNodo}]),id:"botonCrearNuevoNodo",onClick:t[0]||(t[0]=(...a)=>r.crearNodoEnMenuContextual&&r.crearNodoEnMenuContextual(...a))}," Crear Nodo de conocimiento ",2)):Ee("",!0)],4),[[Z,n.mostrandoMenuContextual]]),n.posicionCreandoNodo?(Y(),Qe(s,{key:0,texto:"",style:Ve([{position:"absolute"},[r.offsetMenuContextual]])},null,8,["style"])):Ee("",!0),v("div",{id:"contenedorNodos",ref:"contenedorNodos",style:Ve([r.posContenedorNodos,r.sizeContenedorNodos])},[(Y(!0),re(He,null,Ze(r.nodosVisibles,a=>{var c,u,h;return Y(),Qe(l,{key:a.id,idNodo:a.id,seleccionado:o.idNodoSeleccionado===a.id,yo:n.yo,idsNodosAprendidos:r.idsNodosActivosAprendidos,idsNodosOlvidados:o.idsNodosActivosOlvidados,idsNodosEstudiados:r.idsNodosActivosEstudiados,idsNodosEstudiables:o.idsNodosColeccionEstudiables,class:we({esperandoClick:o.conectandoNodosColeccion,activoSeleccion:o.conectandoNodosColeccion&&((c=o.coleccionSeleccionada)==null?void 0:c.idsNodos.includes(a.id)),activoSubseleccion:o.conectandoNodosColeccion&&((u=o.coleccionSeleccionada)==null?void 0:u.idsRed.includes(a.id))}),idNodoTarget:r.idNodoTarget,style:Ve([{top:a.autoCoords.y-n.centroDescarga.y+"px",left:a.autoCoords.x-n.centroDescarga.x+"px"}]),onDblclick:p=>e.$router.push({name:"visorNodoConocimiento",params:{idNodo:a.id}}),onClick:[Ie(p=>r.clickNodo(a),["stop"]),Ie(p=>r.iniciarDragNodo(a.id),["stop","ctrl","exact"])],onMousedown:t[1]||(t[1]=Ie(()=>{},["stop"])),onAbrirMyControles:t[2]||(t[2]=p=>e.$emit("abrirControlesNodo"))},lN({_:2},[o.conectandoNodosColeccion&&((h=o.coleccionSeleccionada)!=null&&h.idsNodos.includes(a.id))?{name:"imagenBolita",fn:wt(()=>[$F]),key:"0"}:void 0]),1032,["idNodo","seleccionado","yo","idsNodosAprendidos","idsNodosOlvidados","idsNodosEstudiados","idsNodosEstudiables","class","idNodoTarget","style","onDblclick","onClick"])}),128))],4)],512)],32)}const qF=Ge(MF,[["render",UF],["__scopeId","data-v-ea61a5ec"]]),lc="/caracol/assets/locationCrosshair-033bceb2.svg",jF={components:{MapaAtlas:qF,PieProgreso:fs,ControlesNodo:Bb,RouterView:gb,BrowseColeccion:hF,BrowseNodo:gF,GestorColecciones:ch,Loading:yt,BuscadorNodosConocimiento:f0},name:"AtlasConocimiento",apollo:{yo:{query:xo,skip(){var e;return!((e=this.usuario)!=null&&e.id)}}},data(){return{togglingNodoColeccion:!1,gettingNodoNext:!1,indexLocalizadorEstudiables:0,indexLocalizadorOlvidados:0,indexLocalizadorTops:0,callingPosiciones:!1,coleccionSeleccionada:null,conectandoNodosColeccion:!1,idNodoSeleccionado:null,nodoCreandoDependencia:null,idsNodosActivosAccesiblesInexplorados:[],idsNodosTop:[],nodosColeccionEstudiables:[]}},computed:{nodoTargetPresente(){var e;return this.idNodoTarget?(e=this.coleccionSeleccionada)!=null&&e.id?this.coleccionSeleccionada.idsRed.includes(this.idNodoTarget):!0:!1},idsTodosNodosOlvidados(){var e,t;return(t=(e=this.yo)==null?void 0:e.atlas)!=null&&t.datosNodos?this.yo.atlas.datosNodos.filter(o=>o.estadoAprendizaje==="OLVIDADO").map(o=>o.idNodo):[]},idsNodosActivosOlvidados(){var e;return(e=this.coleccionSeleccionada)!=null&&e.id?this.idsTodosNodosOlvidados.filter(t=>this.coleccionSeleccionada.idsRed.includes(t)):this.idsTodosNodosOlvidados},idsNodosColeccionEstudiables(){return this.nodosColeccionEstudiables?this.nodosColeccionEstudiables.map(e=>e.id):[]},nodoTargetRelevante(){var e,t;if(!this.idNodoTarget)return!1;if(this.tipoBrowse==="mapa"&&!this.coleccionSeleccionada)return!0;if(this.tipoBrowse==="browseColeccion"||this.tipoBrowse==="mapa")return!!((t=(e=this.coleccionSeleccionada)==null?void 0:e.idsRed)!=null&&t.includes(this.idNodoTarget));if(this.tipoBrowse==="browseNodo")return!1},nodoSeleccionadoBelongsColeccionSeleccionada(){return!this.idNodoSeleccionado||!this.coleccionSeleccionada?!1:this.coleccionSeleccionada.idsNodos.includes(this.idNodoSeleccionado)},tipoBrowse(){var e,t;return(t=(e=this.$route)==null?void 0:e.params)==null?void 0:t.tipoBrowse},idNodoTarget(){var e,t;return(t=(e=this.yo)==null?void 0:e.atlas)==null?void 0:t.idNodoTarget}},methods:{reactToNodoCreado(e){var t;((t=this.$route.params)==null?void 0:t.tipoBrowse)==="mapa"&&this.$refs.mapaAtlas&&this.$refs.mapaAtlas.$apollo.queries.nodosZona.refetch()},descargarNodosColeccionEstudiables(){var t;if(!((t=this.coleccionSeleccionada)!=null&&t.id))return;let e=this.coleccionSeleccionada.id;console.log("Descargando nodos estudiables"),this.$apollo.query({query:Fe`
                query($idColeccion: ID!){
                    nodosEstudiablesColeccion(idColeccion:$idColeccion){
                    id
                    nombre
                    }
                }
                `,fetchPolicy:"network-only",variables:{idColeccion:e}}).then(({data:{nodosEstudiablesColeccion:o}})=>{var i;((i=this.coleccionSeleccionada)==null?void 0:i.id)===e&&(this.nodosColeccionEstudiables=o||[])}).catch(o=>{console.log("error: "+o)})},zoomWheel(e){var t,o;(t=this.$refs.controlesNodo)!=null&&t.zoomWheel(e)||this.tipoBrowse==="mapa"&&((o=this.$refs)!=null&&o.mapaAtlas)&&this.$refs.mapaAtlas.zoomWheel(e)},toggleNodoColeccion(){!this.idNodoSeleccionado||!this.coleccionSeleccionada||(this.togglingNodoColeccion=!0,this.$apollo.mutate({mutation:Fe`
            mutation ($idColeccion: ID!, $idNodo: ID!, $idUsuario: ID!) {
              toggleNodoColeccionNodosAtlasConocimientoUsuario(
                idColeccion: $idColeccion
                idNodo: $idNodo
                idUsuario: $idUsuario
              ) {
                id
                idsNodos
                idsRed
              }
            }
          `,variables:{idColeccion:this.coleccionSeleccionada.id,idNodo:this.idNodoSeleccionado,idUsuario:this.usuario.id}}).then(()=>{this.togglingNodoColeccion=!1}).catch(e=>{console.log("Error: "+e),this.togglingNodoColeccion=!1}))},clickFuera(){var e;this.seleccionNodo(),this.$refs.controlesNodo.clickFuera(),(e=this.$refs)!=null&&e.buscadorNodos&&this.$refs.buscadorNodos.cerrarBusqueda(),this.$refs.mapaAtlas&&this.$refs.mapaAtlas.cerrarMenuContextual()},localizarNext(e){let t=null;if(e==="estudiable"){if(this.idsNodosColeccionEstudiables.length<1)return;this.indexLocalizadorEstudiables++,this.indexLocalizadorEstudiables>=this.idsNodosColeccionEstudiables.length&&(this.indexLocalizadorEstudiables=0),t=this.idsNodosColeccionEstudiables[this.indexLocalizadorEstudiables]}else if(e==="olvidado"){if(this.idsNodosActivosOlvidados.length<1)return;this.indexLocalizadorOlvidados++,this.indexLocalizadorOlvidados>=this.idsNodosActivosOlvidados.length&&(this.indexLocalizadorOlvidados=0),t=this.idsNodosActivosOlvidados[this.indexLocalizadorOlvidados]}else if(e==="top"){if(!this.idsNodosTop||this.idsNodosTop.length<1)return;this.indexLocalizadorTops++,this.indexLocalizadorTops>=this.idsNodosTop.length&&(this.indexLocalizadorTops=0),console.log("saltando al nodo top "+this.indexLocalizadorTops),console.log(`De ${this.idsNodosTop.length}`),t=this.idsNodosTop[this.indexLocalizadorTops],console.log(`Con id ${t}`)}t&&(this.gettingNodoNext=!0,this.$apollo.query({query:Fe`
              query ($idNodo: ID!) {
                nodo(idNodo: $idNodo) {
                  id
                  nombre
                  autoCoords
                }
              }
            `,variables:{idNodo:t},fetchPolicy:"cache-first"}).then(({data:{nodo:o}})=>{this.gettingNodoNext=!1,this.centrarEnNodo(o),this.seleccionNodo({idNodo:o.id,programmatic:!0})}).catch(o=>{this.gettingNodoNext=!1,console.log(`Error getting nodo next: ${o}`)}))},centrarEnNodo(e){this.tipoBrowse==="mapa"&&this.$refs.mapaAtlas.centrarEnNodo(e)},setIdsNodosActivosAccesiblesInexplorados(e,t){t==="mapaAtlas"&&this.tipoBrowse==="mapa"&&(this.idsNodosActivosAccesiblesInexplorados=e)},setIdsNodosActivosTop(e,t){t==="mapaAtlas"&&this.tipoBrowse==="mapa"&&(this.idsNodosTop=e)},iniciarCallingPosiciones(){var e=prompt("¿Cuantos ciclos?");isNaN(e)||(e=Math.round(e),!(e<1)&&(console.log(`Enviando reposicionamiento de ${e} ciclos`),this.callingPosiciones=!0,this.$apollo.mutate({mutation:Fe`
            mutation ($ciclos: Int!) {
              posicionarNodosConocimientoByFuerzas(ciclos: $ciclos)
            }
          `,variables:{ciclos:e}}).then(()=>{this.callingPosiciones=!1}).catch(t=>{this.callingPosiciones=!1,console.log(`Error: ${t}`)})))},reactToNodoBuscadoSeleccionado(e){console.log("reacting to nodo buscado seleccionado"),this.centrarEnNodoById(e.id)},centrarEnNodoById(e){var t,o,i;((o=(t=this.$route)==null?void 0:t.params)==null?void 0:o.tipoBrowse)==="mapa"&&((i=this.$refs)!=null&&i.mapaAtlas)&&this.$refs.mapaAtlas.centrarEnNodoById(e)},centerEnTarget(){this.idNodoTarget&&this.centrarEnNodoById(this.idNodoTarget)},reactToNodoEliminado(e){var t;(t=this.$refs)!=null&&t.mapaAtlas&&this.$refs.mapaAtlas.reactToNodoEliminado(e),e===this.idNodoSeleccionado&&this.seleccionNodo(null)},seleccionNodo(e){if(!e){this.idNodoSeleccionado=null;return}const{idNodo:t,programmatic:o}=e;if(this.nodoCreandoDependencia){if(t===this.nodoCreandoDependencia.id)return;o||this.$refs.controlesNodo.crearDependenciaNodo(t);return}this.idNodoSeleccionado=t},marcarNodoEsperandoDependencia(e){this.nodoCreandoDependencia=e}},watch:{coleccionSeleccionada(e,t){var o;e?this.descargarNodosColeccionEstudiables():this.nodosColeccionEstudiables=[],(!e||!t||e.id!=t.id)&&(this.idNodoSeleccionado=null),((o=this.$route.params)==null?void 0:o.tipoBrowse)==="browseColeccion"&&(e!=null&&e.id)&&this.$router.push({name:"atlas",params:{idBrowsed:e.id,tipoBrowse:"browseColeccion"}})}},created(){window.addEventListener("wheel",this.zoomWheel,{passive:!1})},destroyed(){window.removeEventListener("wheel",this.zoomWheel,{passive:!1})}},si=e=>(it("data-v-532964ce"),e=e(),rt(),e),VF={id:"contenedorOverlays"},HF={class:"anuncio anuncioSeleccion",id:"anuncioConectandoNodos"},zF=si(()=>v("img",{src:gs,alt:"Nodos"},null,-1)),GF={style:{"margin-left":"-5px","font-weight":"bold",color:"var(--atlasConocimientoSeleccion)"}},WF=si(()=>v("img",{src:$t,alt:"Cancelar"},null,-1)),QF=[WF],KF={src:gs,alt:"Conectar"},JF={src:$t,alt:"Desconectar"},YF=si(()=>v("span",null," En la mira ",-1)),XF=si(()=>v("img",{src:lc,alt:"Crosshairs"},null,-1)),ZF=[YF,XF],eB=si(()=>v("img",{src:lc,alt:"Localizar"},null,-1)),tB=[eB],oB=si(()=>v("img",{src:lc,alt:"Localizar",style:{filter:"var(--filtroAtlasTop)"}},null,-1)),nB=[oB],iB=si(()=>v("img",{src:lc,alt:"Localizar",style:{filter:"var(--filtroAtlasRepaso)"}},null,-1)),rB=[iB];function sB(e,t,o,i,n,r){var y,N,I,A,S,b,w,T,k,F;const s=Oe("RouterView"),l=Oe("gestor-colecciones"),a=Oe("Loading"),c=Oe("buscador-nodos-conocimiento"),u=Oe("mapa-atlas"),h=Oe("browse-coleccion"),p=Oe("browse-nodo"),g=Oe("controles-nodo");return Y(),re("div",{class:"atlasConocimiento",onClick:t[17]||(t[17]=(...j)=>r.clickFuera&&r.clickFuera(...j))},[Te(s,{id:"viewerNodo"}),v("div",VF,[Q(Te(l,{ref:"gestorColecciones",opcionNull:((y=e.$route.params)==null?void 0:y.tipoBrowse)==="mapa"?"Atlas":"",conectandoNodosColeccion:n.conectandoNodosColeccion,onColeccionSeleccionada:t[0]||(t[0]=j=>n.coleccionSeleccionada=j),onSetConectandoNodosColeccion:t[1]||(t[1]=j=>n.conectandoNodosColeccion=j)},null,8,["opcionNull","conectandoNodosColeccion"]),[[Z,!n.conectandoNodosColeccion&&((I=(N=e.$route)==null?void 0:N.params)==null?void 0:I.tipoBrowse)!="browseNodo"]]),Q(v("div",HF,[zF,Ke(" Editando nodos de "),v("span",GF,Ae(n.coleccionSeleccionada?n.coleccionSeleccionada.nombre:""),1),v("div",{class:"boton",id:"botonCancelarConectarNodosColeccion",onClick:t[2]||(t[2]=Ie(j=>n.conectandoNodosColeccion=!1,["stop"]))},QF)],512),[[Z,n.conectandoNodosColeccion]]),n.conectandoNodosColeccion&&n.coleccionSeleccionada&&n.idNodoSeleccionado?(Y(),re("div",{key:0,class:"botonTexto",id:"botonToggleNodoColeccion",onClick:t[3]||(t[3]=Ie((...j)=>r.toggleNodoColeccion&&r.toggleNodoColeccion(...j),["stop"]))},[Q(Te(a,null,null,512),[[Z,n.togglingNodoColeccion]]),Q(v("img",KF,null,512),[[Z,!r.nodoSeleccionadoBelongsColeccionSeleccionada&&!n.togglingNodoColeccion]]),Q(v("img",JF,null,512),[[Z,r.nodoSeleccionadoBelongsColeccionSeleccionada&&!n.togglingNodoColeccion]]),v("span",null,Ae(r.nodoSeleccionadoBelongsColeccionSeleccionada?"Desconectar":"Conectar"),1)])):Ee("",!0),Te(c,{onNodoSeleccionado:r.reactToNodoBuscadoSeleccionado,ref:"buscadorNodos"},null,8,["onNodoSeleccionado"]),e.usuarioSuperadministrador&&e.usuario.username=="juanMamian"?(Y(),re("div",{key:1,id:"botonCallingPosiciones",onClick:t[4]||(t[4]=Ie((...j)=>r.iniciarCallingPosiciones&&r.iniciarCallingPosiciones(...j),["stop"])),class:we({deshabilitado:n.callingPosiciones}),style:Ve([{backgroundColor:n.callingPosiciones?"green":"transparent"}])},null,6)):Ee("",!0),v("div",{id:"zonaLocalizadores",onClick:t[9]||(t[9]=Ie(()=>{},["stop"]))},[Ke(" Localizar: "),r.idNodoTarget?(Y(),re("div",{key:0,class:we(["botonTexto",{deshabilitado:!r.nodoTargetPresente}]),title:"Localizar el nodo en la mira",onClick:t[5]||(t[5]=(...j)=>r.centerEnTarget&&r.centerEnTarget(...j))},ZF,2)):Ee("",!0),v("div",{class:we(["boton controlColeccion",{deshabilitado:r.idsNodosColeccionEstudiables.length<1}]),onClick:t[6]||(t[6]=j=>r.localizarNext("estudiable"))},tB,2),v("div",{class:we(["boton controlColeccion",{deshabilitado:!n.idsNodosTop||n.idsNodosTop.length<1}]),onClick:t[7]||(t[7]=j=>r.localizarNext("top"))},nB,2),v("div",{class:we(["boton controlColeccion",{deshabilitado:!r.idsNodosActivosOlvidados||r.idsNodosActivosOlvidados.length<1}]),onClick:t[8]||(t[8]=j=>r.localizarNext("olvidado"))},rB,2)])]),((A=e.$route.params)==null?void 0:A.tipoBrowse)==="mapa"?(Y(),Qe(u,{key:0,idNodoSeleccionado:n.idNodoSeleccionado,nodoCreandoDependencia:n.nodoCreandoDependencia,coleccionSeleccionada:n.coleccionSeleccionada,conectandoNodosColeccion:n.conectandoNodosColeccion,ref:"mapaAtlas",idsNodosColeccionEstudiables:r.idsNodosColeccionEstudiables,idsNodosActivosOlvidados:r.idsNodosActivosOlvidados,onAbrirControlesNodo:t[10]||(t[10]=j=>e.$refs.controlesNodo.desplegar()),onSettedIdsNodosActivosAccesiblesInexplorados:t[11]||(t[11]=j=>r.setIdsNodosActivosAccesiblesInexplorados(j,"mapaAtlas")),onSettedIdsNodosTop:t[12]||(t[12]=j=>r.setIdsNodosActivosTop(j,"mapaAtlas")),onSeleccionNodo:r.seleccionNodo},null,8,["idNodoSeleccionado","nodoCreandoDependencia","coleccionSeleccionada","conectandoNodosColeccion","idsNodosColeccionEstudiables","idsNodosActivosOlvidados","onSeleccionNodo"])):Ee("",!0),r.tipoBrowse==="browseColeccion"&&((b=(S=e.$route)==null?void 0:S.params)!=null&&b.idBrowsed)?(Y(),Qe(h,{key:1,idNodoSeleccionado:n.idNodoSeleccionado,onSeleccionNodo:r.seleccionNodo,idColeccion:e.$route.params.idBrowsed},null,8,["idNodoSeleccionado","onSeleccionNodo","idColeccion"])):Ee("",!0),((T=(w=e.$route)==null?void 0:w.params)==null?void 0:T.tipoBrowse)==="browseNodo"&&((F=(k=e.$route)==null?void 0:k.params)!=null&&F.idBrowsed)?(Y(),Qe(p,{key:2,onSeleccionNodo:r.seleccionNodo,idNodoSeleccionado:n.idNodoSeleccionado,idNodo:e.$route.params.idBrowsed},null,8,["onSeleccionNodo","idNodoSeleccionado","idNodo"])):Ee("",!0),Q(Te(g,{yo:e.yo,ref:"controlesNodo",idNodoSeleccionado:n.idNodoSeleccionado,nodoCreandoDependencia:n.nodoCreandoDependencia,nodoTargetRelevante:r.nodoTargetRelevante,onClick:t[13]||(t[13]=Ie(()=>{},["stop"])),onIniciarCrearDependenciaNodo:t[14]||(t[14]=j=>r.marcarNodoEsperandoDependencia(j)),onCancelarCreandoDependencia:t[15]||(t[15]=j=>n.nodoCreandoDependencia=null),onNodoEliminado:r.reactToNodoEliminado,onNodoCreado:r.reactToNodoCreado,onLocalizeMe:t[16]||(t[16]=j=>r.centrarEnNodoById(n.idNodoSeleccionado))},null,8,["yo","idNodoSeleccionado","nodoCreandoDependencia","nodoTargetRelevante","onNodoEliminado","onNodoCreado"]),[[Z,n.idNodoSeleccionado]])])}const aB=Ge(jF,[["render",sB],["__scopeId","data-v-532964ce"]]),cB={name:"NodoConocimientoVistaListaAdmin",props:{esteNodo:Object},data(){return{}},computed:{usuarioExperto(){return this.usuarioLogeado?this.esteNodo.expertos.includes(this.usuario.id):!1}},methods:{guardarEnlaceSeccion(e,t){var o=e.target.value.trim();console.log("Guardando nuevo enlace: "+o),this.$apollo.mutate({mutation:Pe`
            mutation ($idNodo: ID!, $idSeccion: ID!, $nuevoEnlace: String!) {
              setNuevoEnlaceSeccionNodo(
                idNodo: $idNodo
                idSeccion: $idSeccion
                nuevoEnlace: $nuevoEnlace
              ) {
                id
                modo
                enlace
              }
            }
          `,variables:{idNodo:this.esteNodo.id,idSeccion:t,nuevoEnlace:o}}).then(()=>{}).catch(i=>{console.log("Error: "+i)})}}},lB={class:"nodoConocimientoVistaListaAdmin"},uB=["href"],dB={class:"nombre"},hB={id:"listaSecciones"},fB={class:"barraSuperior"},pB={class:"imagenTipoSeccion"},mB={key:0,src:a0,alt:"Enlace"},gB={key:1,src:sc,alt:"Archivo"},vB={class:"nombre"},yB={class:"zonaSource"},bB=["value","onKeypress"];function wB(e,t,o,i,n,r){return Y(),re("div",lB,[v("div",{class:we(["barraSuperior",{deUsuario:r.usuarioExperto}])},[v("a",{href:e.clienteUrl+"/#/atlas/nodoConocimiento/"+o.esteNodo.id,target:"_blank"},[v("div",dB,Ae(o.esteNodo.nombre),1)],8,uB)],2),v("div",hB,[(Y(!0),re(He,null,Ze(o.esteNodo.secciones,s=>(Y(),re("div",{class:"seccion",key:s.id},[v("div",fB,[v("div",pB,[s.modo==="enlace"?(Y(),re("img",mB)):Ee("",!0),s.modo==="archivo"?(Y(),re("img",gB)):Ee("",!0)]),v("div",vB,Ae(s.nombre),1),v("div",yB,[v("input",{type:"text",value:s.enlace,onKeypress:St(l=>r.guardarEnlaceSeccion(l,s.id),["enter"]),class:"inputEnlace"},null,40,bB)])])]))),128))])])}const EB=Ge(cB,[["render",wB],["__scopeId","data-v-cb421092"]]),_B=Pe`
  query{
    todosNodos {
      id
      nombre
      secciones {
        id
        nombre
        enlace
        modo
      }
      expertos
    }
  }
  
`,SB={components:{NodoConocimientoVistaListaAdmin:EB},name:"AdminNodosConocimiento",apollo:{todosNodos:{query:_B,fetchPolicy:"cache-and-network"}},data(){return{idNodoSeleccionado:null,todosNodos:[]}},computed:{nodosOrdenados(){return this.usuarioLogeado?[...this.todosNodos].sort((e,t)=>{var o=0;return e.expertos.includes(this.usuario.id)&&o--,t.expertos.includes(this.usuario.id)&&o++,o}):this.todosNodos}}},NB={class:"adminNodosConocimiento"},CB={id:"listaNodos"};function AB(e,t,o,i,n,r){const s=Oe("nodo-conocimiento-vista-lista-admin");return Y(),re("div",NB,[v("div",CB,[(Y(!0),re(He,null,Ze(r.nodosOrdenados,l=>(Y(),Qe(s,{key:l.id,esteNodo:l},null,8,["esteNodo"]))),128))])])}const xB=Ge(SB,[["render",AB],["__scopeId","data-v-cbc5b8c7"]]),TB={components:{Loading:yt},name:"NodoGrado",props:{esteNodo:Object,completado:Boolean,colorSubruta:String,seleccionado:Boolean,idUsuario:String},data(){return{menuCx:!1,mostrandoDescripcion:!1,togglingEstadoCompletado:!1}},computed:{colorBolita(){var e=this.colorSubruta;return this.completado&&(e="var(--atlasVerde)"),{backgroundColor:e}}},methods:{abrirDescripcion(){this.$emit("seleccioname"),this.mostrandoDescripcion=!0,this.menuCx=!1},abrirMenuCx(){this.$emit("seleccioname"),this.menuCx=!0},toggleCompletado(){if(!this.usuarioSuperadministrador&&!this.usuarioProfe){console.log("No autorizado");return}const e=!this.completado;this.togglingEstadoCompletado=!0,this.$apollo.mutate({mutation:Pe`
            mutation ($idUsuario: ID!, $idNodo: ID!, $nuevoEstado: Boolean!) {
              setNodoGradoCompletadoUsuario(
                idUsuario: $idUsuario
                idNodo: $idNodo
                nuevoEstado: $nuevoEstado
              ) {
                id
                nodosCompletadosRutaGrado
              }
            }
          `,variables:{idUsuario:this.idUsuario,idNodo:this.esteNodo.id,nuevoEstado:e}}).then(()=>{this.togglingEstadoCompletado=!1}).catch(t=>{console.log("Error: "+t),this.togglingEstadoCompletado=!1})}},watch:{seleccionado(e){e||(this.menuCx=!1,this.mostrandoDescripcion=!1)}}},IB=e=>(it("data-v-2ff4edc1"),e=e(),rt(),e),DB={id:"cartel"},PB=IB(()=>v("img",{src:Yi,alt:"Opciones",style:{}},null,-1)),kB=[PB];function OB(e,t,o,i,n,r){const s=Oe("loading");return Y(),re("div",{class:we(["nodoGrado",o.seleccionado]),onContextmenu:t[5]||(t[5]=Ie((...l)=>r.abrirMenuCx&&r.abrirMenuCx(...l),["prevent"])),onDblclick:t[6]||(t[6]=Ie((...l)=>r.abrirDescripcion&&r.abrirDescripcion(...l),["stop"]))},[v("div",{id:"laBolita",class:we({seleccionado:o.seleccionado}),style:Ve([r.colorBolita])},null,6),v("div",DB,[Ke(Ae(o.esteNodo.nombre)+" ",1),e.usuarioSuperadministrador||e.usuarioProfe?Q((Y(),re("div",{key:0,class:"boton",id:"botonOpciones",onClick:t[0]||(t[0]=Ie((...l)=>r.abrirMenuCx&&r.abrirMenuCx(...l),["stop"]))},kB,512)),[[Z,o.seleccionado]]):Ee("",!0)]),Q(v("div",{class:"menuContextual",onClick:t[4]||(t[4]=Ie(()=>{},["stop"]))},[v("div",{class:"botonMenuCx",onClick:t[1]||(t[1]=(...l)=>r.abrirDescripcion&&r.abrirDescripcion(...l))},"Ver descripción"),e.usuarioSuperadministrador?(Y(),re("div",{key:0,class:"botonMenuCx",onClick:t[2]||(t[2]=l=>e.$emit("setColorSubruta"))}," Set color subruta ")):Ee("",!0),e.usuarioSuperadministrador||e.usuarioProfe?(Y(),re("div",{key:1,class:we(["botonMenuCx",{deshabilitado:n.togglingEstadoCompletado}]),onClick:t[3]||(t[3]=(...l)=>r.toggleCompletado&&r.toggleCompletado(...l))},[Q(Te(s,null,null,512),[[Z,n.togglingEstadoCompletado]]),Ke(" "+Ae(o.completado?"Desmarcar como completado":"Marcar como completado"),1)],2)):Ee("",!0)],512),[[Z,n.menuCx]]),Q(v("div",{id:"descripcion"},Ae(o.esteNodo.descripcion),513),[[Z,n.mostrandoDescripcion]])],34)}const RB=Ge(TB,[["render",OB],["__scopeId","data-v-2ff4edc1"]]),LB={components:{NodoGrado:RB},name:"RutaGrado",props:{idUsuario:String},apollo:{subrutas:{query:Pe`
        query {
          subrutasGradoMaestraVida {
            id
            nombre
            color
            nodos {
              id
              nombre
              descripcion
            }
          }
        }
      `,update({subrutasGradoMaestraVida:e}){return e}},nodosCompletados:{query:Pe`
        query ($idUsuario: ID!) {
          Usuario(idUsuario: $idUsuario) {
            id
            nodosCompletadosRutaGrado
          }
        }
      `,update({Usuario:e}){return e.nodosCompletadosRutaGrado},variables(){return{idUsuario:this.idUsuario}}}},data(){return{subrutas:[],nodosCompletados:[],idNodoSeleccionado:null,settingColorSubruta:!1}},methods:{setColorSubruta(e){let t=prompt("Introduce el código del nuevo color");this.settingColorSubruta=!0,this.$apollo.mutate({mutation:Pe`
            mutation ($idSubruta: ID!, $nuevoColor: String!) {
              setColorSubrutaGrado(
                idSubruta: $idSubruta
                nuevoColor: $nuevoColor
              ) {
                id
                color
              }
            }
          `,variables:{idSubruta:e,nuevoColor:t}}).then(()=>{this.settingColorSubruta=!1}).catch(o=>{console.log("Error: "+o),this.settingColorSubruta=!1})}},watch:{subrutas(){this.$nextTick(()=>{let e=this.$refs.laRutaGrado.scrollWidth;console.log("anchoScroll: "+e);let t=this.$refs.laRutaGrado.offsetWidth;console.log("ancho visible: "+t),this.$refs.laRutaGrado.scrollLeft=(e-t)/2})}}},m0=e=>(it("data-v-7096f49a"),e=e(),rt(),e),MB=m0(()=>v("div",{id:"titulo",class:"tituloComponente"},"Ruta de grado",-1)),FB={id:"laRutaGrado",ref:"laRutaGrado"},BB=m0(()=>v("div",{class:"lineaRuta"},null,-1));function $B(e,t,o,i,n,r){const s=Oe("nodo-grado");return Y(),re("div",{class:"rutaGrado",onClick:t[0]||(t[0]=l=>n.idNodoSeleccionado=null)},[MB,v("div",FB,[(Y(!0),re(He,null,Ze(n.subrutas,l=>(Y(),re("div",{class:"subruta",key:l.id},[BB,(Y(!0),re(He,null,Ze(l.nodos,a=>(Y(),Qe(s,{key:a.id,esteNodo:a,completado:n.nodosCompletados.includes(a.id),colorSubruta:l.color,seleccionado:n.idNodoSeleccionado===a.id,idUsuario:o.idUsuario,onSetColorSubruta:c=>r.setColorSubruta(l.id),onClick:Ie(c=>n.idNodoSeleccionado=n.idNodoSeleccionado===a.id?null:a.id,["stop"]),onSeleccioname:c=>n.idNodoSeleccionado=a.id},null,8,["esteNodo","completado","colorSubruta","seleccionado","idUsuario","onSetColorSubruta","onClick","onSeleccioname"]))),128))]))),128))],512)])}const g0=Ge(LB,[["render",$B],["__scopeId","data-v-7096f49a"]]);var zl=/[^a-zA-Z0-9_ñÑ]/g;const Og=6,Gl=4,UB={name:"LoginArea",components:{Loading:yt},data(){return{username:"",password:"",loginFail:!1,loginFailMsg:"",enviandoDatos:!1}},computed:{usuarioConectado(){return this.usuario.username!=null},nombreUsuario(){return this.usuario.username},colorUsername(){return{color:zl.test(this.username)||this.username.length<Gl?"red":"black"}},passIlegal(){return this.password.length<Og},usernameIlegal(){return!!(!this.username||zl.test(this.username)||this.username.length<Gl)}},methods:{iniciarSesion:function(){console.log("Iniciando login");let e=this;var t=this.$refs.inputPassword.value,o=this.$refs.inputUsername.value;if(console.log("Con pass length: "+this.password.length),this.password.length<Og){console.log("Password ilegal");return}if(zl.test(this.username)||this.username.length<Gl){console.log("Username ilegal");return}this.enviandoDatos=!0,console.log("query"),this.$apollo.query({query:Fe`
            query ($username: String!, $password: String!) {
              login(username: $username, password: $password)
            }
          `,variables:{username:o,password:t}}).then(({data:{login:i}})=>{this.$emit("logearse",i),e.$router.push("/"),this.enviandoDatos=!1}).catch(i=>{console.log(`Error: ${i}`),this.enviandoDatos=!1})}}},tr=e=>(it("data-v-bcce45b1"),e=e(),rt(),e),qB={id:"loginArea"},jB={id:"ventanaCentral"},VB=tr(()=>v("p",{id:"tituloVentana"},"¡Bienvenidx!",-1)),HB=tr(()=>v("br",null,null,-1)),zB=tr(()=>v("div",{class:"instruccion"},"Escribe tus datos de login",-1)),GB=tr(()=>v("br",null,null,-1)),WB=tr(()=>v("br",null,null,-1)),QB=tr(()=>v("br",null,null,-1));function KB(e,t,o,i,n,r){const s=Oe("loading");return Y(),re("div",qB,[v("div",jB,[v("form",null,[VB,HB,zB,Q(v("input",{type:"text",name:"username",style:Ve(r.colorUsername),"onUpdate:modelValue":t[0]||(t[0]=l=>n.username=l),ref:"inputUsername",placeholder:"Nombre de usuario",class:"inputs",onInput:t[1]||(t[1]=l=>n.loginFail=!1)},null,36),[[Je,n.username]]),GB,Q(v("input",{type:"password",name:"password",ref:"inputPassword",class:"inputs","onUpdate:modelValue":t[2]||(t[2]=l=>n.password=l),placeholder:"password",onInput:t[3]||(t[3]=l=>n.loginFail=!1),onKeypress:t[4]||(t[4]=St((...l)=>r.iniciarSesion&&r.iniciarSesion(...l),["enter"]))},null,544),[[Je,n.password]]),WB,QB,Q(Te(s,{texto:"Conectando..."},null,8,["texto"]),[[Z,n.enviandoDatos]]),v("div",{class:we(["botonEnviar",{loginFail:n.loginFail,desaparecido:n.enviandoDatos,deshabilitado:r.passIlegal}]),onClick:t[5]||(t[5]=Ie((...l)=>r.iniciarSesion&&r.iniciarSesion(...l),["stop","prevent"]))},Ae(n.loginFail?n.loginFailMsg:"Ingresar"),3)])])])}const JB=Ge(UB,[["render",KB],["__scopeId","data-v-bcce45b1"]]),YB=/\s\s+/,Rg=6,XB=40,ai=Fe`
fragment fragEventoPersonal on EventoPersonal{
  id
  idPersona
  idsParticipantes
  idParent
  tipoParent
  nombre
  descripcion
  horarioInicio
  horarioFinal
  idEventoMarco
  lugar  

}
`,or=Fe`
fragment fragEventoPublico on EventoPublico{
  id
  nombre
  descripcion
  idAdministrador
  limiteDeCupos
  horarioInicio
  horarioFinal
  participantes
  lugar
  idParent
  tipoParent
  eventosEnmarcados{
    ...fragEventoPersonal
    nombresPersona
  }
}
${ai}
`,Lg=["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sábado"],Mg=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],bs={data(){return{}},computed:{tipoEvento(){return this.esteEvento.__typename.charAt(0).toLowerCase()+this.esteEvento.__typename.slice(1)},dateInicio(){return new Date(this.esteEvento.horarioInicio)},fechaInicioFormateada(){return this.dateInicio.toISOString().split("T")[0]},fechaFinalFormateada(){return this.dateFinal.toISOString().split("T")[0]},dateFinal(){return new Date(this.esteEvento.horarioFinal)},horarioInicioFormateado(){return this.timesLegibles.horarioInicio.horas+":"+this.timesLegibles.horarioInicio.minutos},horarioFinalFormateado(){return this.timesLegibles.horarioFinal.horas+":"+this.timesLegibles.horarioFinal.minutos},fechaInicioLegible(){const e=Lg[this.dateInicio.getDay()],t=this.dateInicio.getDate(),o=Mg[this.dateInicio.getMonth()];return e+" "+t+" de "+o},horaInicioLegible(){var e=this.dateInicio.getHours(),t=this.dateInicio.getMinutes();return(""+e).length<2&&(e="0"+e),(""+t).length<2&&(t="0"+t),e+":"+t},dateInicioLegible(){return this.fechaInicioLegible+", "+this.horaInicioLegible},fechaFinalLegible(){const e=Lg[this.dateFinal.getDay()],t=this.dateFinal.getDate(),o=Mg[this.dateFinal.getMonth()];return e+" "+t+" de "+o},horaFinalLegible(){var e=this.dateFinal.getHours(),t=this.dateFinal.getMinutes();return(""+e).length<2&&(e="0"+e),(""+t).length<2&&(t="0"+t),e+":"+t},dateFinalLegible(){return this.fechaFinalLegible+", "+this.horaFinalLegible},timesLegibles(){const e=this.millisInicioLocal%864e5,t=this.millisFinalLocal%864e5;return{horarioInicio:{horas:Math.floor(e/36e5),minutos:e%36e5/6e4},horarioFinal:{horas:Math.floor(t/36e5),minutos:t%36e5/6e4}}},millisFinalLocal(){const e=new Date(this.esteEvento.horarioFinal),t=e.getTime(),o=e.getTimezoneOffset()*6e4;return t-o},millisInicioLocal(){const e=new Date(this.esteEvento.horarioInicio),t=e.getTime(),o=e.getTimezoneOffset()*6e4;return t-o},duracionMinutos(){return Math.round((new Date(this.esteEvento.horarioFinal).getTime()-new Date(this.esteEvento.horarioInicio).getTime())/6e4)},duracionLegible(){const e=Math.floor(this.duracionMinutos/1440),t=Math.floor((this.duracionMinutos-e*1440)/60),o=this.duracionMinutos-e*1440-t*60;var i="";return(o>0||this.duracionMinutos===0)&&(i=o+"min"),t>0&&(i.length>0&&(i=", "+i),i=t+"h"+i),e>0&&(i.length>0&&(i=", "+i),i=e+"dias"+i),i}},methods:{eliminarse(){confirm("¿Confirmar la eliminación de este evento? (Esta acción no puede deshacerse)")&&(!this.administrador&&!this.usuarioSuperadministrador&&!this.usuarioProfe||(this.eliminandose=!0,this.$apollo.mutate({mutation:Pe`
                  mutation ($idEvento: ID!, $tipoEvento:String!) {
                    eliminarEvento(idEvento: $idEvento, tipoEvento:$tipoEvento)
                  }
                `,variables:{idEvento:this.esteEvento.id,tipoEvento:this.tipoEvento}}).then(()=>{this.$emit("meElimine")}).catch(e=>{console.log(`Error: ${e}`)})))}}},lh={data(){return{}},computed:{administrador(){return this.usuarioLogeado?this.usuario.id===this.esteEvento.idAdministrador:!1}}},ZB={data(){return{}},computed:{administrador(){return this.usuarioLogeado?this.usuario.id===this.esteEvento.idPersona:!1}}},ws={data(){return{nuevoNombre:"Nuevo nombre",editandoNombre:!1,enviandoNuevoNombre:!1,nuevoDescripcion:"Nueva descripcion",editandoDescripcion:!1,enviandoNuevoDescripcion:!1,editandoFechaInicio:!1,editandoHoraInicio:!1,nuevoDuracion:null,enviandoNuevoDateInicio:!1,enviandoNuevoDateFinal:!1,enviandoHorarios:!1,enviandoSomeHorario:!1,nuevoLimiteDeCupos:null,editandoLimiteDeCupos:!1,enviandoNuevoLimiteDeCupos:!1,minRepetir:1,maxRepetir:52,enviandoQueryRepetir:!1}},methods:{guardarNuevoNombre(){if(this.nuevoNombre=this.$refs.inputNuevoNombre.value,this.nuevoNombreIlegal){console.log("No enviado");return}if(this.nuevoNombre==this.esteEvento.nombre){this.editandoNombre=!1;return}console.log("guardando nuevo nombre"),this.enviandoNuevoNombre=!0,this.$apollo.mutate({mutation:Pe`
                  mutation ($idEvento: ID!, $tipoEvento:String!, $nuevoNombre: String!) {
                    editarNombreEvento(
                      idEvento: $idEvento
                      tipoEvento:$tipoEvento
                      nuevoNombre: $nuevoNombre
                    ) {
                    __typename
                    ... on EventoPersonal{
                        id
                      nombre
                    }
                    ... on EventoPublico{
                        id
                        nombre
                    }
                    
                    }
                  }
                `,variables:{idEvento:this.esteEvento.id,tipoEvento:this.tipoEvento,nuevoNombre:this.nuevoNombre}}).then(()=>{this.enviandoNuevoNombre=!1,this.editandoNombre=!1}).catch(e=>{this.enviandoNuevoNombre=!1,console.log(`Error. E :${e}`)})},guardarNuevoLimiteDeCupos(){if(this.nuevoLimiteDeCupos=this.$refs.inputNuevoLimiteDeCupos.value,this.nuevoLimiteDeCuposIlegal){console.log("No enviado");return}if(this.nuevoLimiteDeCupos==this.esteEvento.limiteDeCupos){this.editandoLimiteDeCupos=!1;return}console.log("guardando nuevo limite de cupos"),this.enviandonuevoLimiteDeCupos=!0,this.$apollo.mutate({mutation:Pe`
                  mutation ($idEvento: ID!, $tipoEvento:String!, $nuevoLimiteDeCupos: Int!) {
                    editarLimiteDeCuposEvento(
                      idEvento: $idEvento
                      tipoEvento:$tipoEvento
                      nuevoLimiteDeCupos: $nuevoLimiteDeCupos
                    ) {
                        id
                      limiteDeCupos                                      
                    }
                  }
                `,variables:{idEvento:this.esteEvento.id,tipoEvento:this.tipoEvento,nuevoLimiteDeCupos:parseInt(this.nuevoLimiteDeCupos)}}).then(()=>{this.enviandoNuevoLimiteDeCupos=!1,this.editandoLimiteDeCupos=!1}).catch(e=>{this.enviandoNuevoLimiteDeCupos=!1,console.log(`Error. E :${e}`)})},guardarNuevoDescripcion(){if(this.nuevoDescripcionIlegal){console.log("No enviado");return}if(this.nuevoDescripcion==this.esteEvento.descripcion){this.editandoDescripcion=!1;return}console.log("guardando nuevo descripcion"),this.enviandoNuevoDescripcion=!0,this.$apollo.mutate({mutation:Pe`
                  mutation ($idEvento: ID!, $tipoEvento:String!, $nuevoDescripcion: String!) {
                    editarDescripcionEvento(
                      idEvento: $idEvento
                      tipoEvento: $tipoEvento
                      nuevoDescripcion: $nuevoDescripcion
                    ) {
                        __typename
                        ... on EventoPublico{
                            id
                            descripcion  
                        }
                        ... on EventoPersonal{
                            id
                            descripcion  
                        }
                      
                    }
                  }
                `,variables:{idEvento:this.esteEvento.id,tipoEvento:this.tipoEvento,nuevoDescripcion:this.nuevoDescripcion}}).then(()=>{this.enviandoNuevoDescripcion=!1,this.editandoDescripcion=!1}).catch(e=>{this.enviandoNuevoDescripcion=!1,console.log(`Error. E :${e}`)})},toggleEditandoDescripcion(){this.administrador&&(this.$refs.inputNuevoDescripcion.style.height=this.$refs.descripcion.offsetHeight+"px",this.editandoDescripcion=!this.editandoDescripcion,this.nuevoDescripcion=this.esteEvento.descripcion,this.editandoDescripcion&&this.$nextTick(()=>{this.$refs.inputNuevoDescripcion.focus()}))},toggleEditandoNombre(e){this.administrador&&(e.stopPropagation(),this.editandoNombre=!0,this.nuevoNombre=this.esteEvento.nombre,this.$nextTick(()=>{this.$refs.inputNuevoNombre.focus()}))},toggleEditandoLimiteDeCupos(e){this.administrador&&(e.stopPropagation(),this.editandoLimiteDeCupos=!0,this.nuevoLimiteDeCupos=this.esteEvento.limiteDeCupos,this.$nextTick(()=>{this.$refs.inputNuevoLimiteDeCupos.focus()}))},keydownInputNuevoNombre(e){e.key==="Escape"&&this.$refs.inputNuevoNombre.blur()},setHoraFinal(){var e="hh:mm";this.horaFinalLegible&&(e=this.horaFinalLegible);var t=prompt("Introducir nueva hora de finalización",e);const o=t.indexOf(":"),i=parseInt(t.substr(0,o)),n=parseInt(t.substr(o+1));if(i!=null&&n!=null&&i>=0&&i<24&&n>=0&&n<60){var r=new Date(this.diaCalendarioOver.date);r.setHours(i),r.setMinutes(n),console.log("Se fijará la nueva hora de final en "+r),this.enviarNuevoHorarioFinal(r)}else{console.log("Hora inválida");return}},setHoraInicio(){var e="hh:mm";this.horaInicioLegible&&(e=this.horaInicioLegible);var t=prompt("Introducir nueva hora de inicio",e);const o=t.indexOf(":"),i=parseInt(t.substr(0,o)),n=parseInt(t.substr(o+1));if(i!=null&&n!=null&&i>=0&&i<24&&n>=0&&n<60){var r=new Date(this.diaCalendarioOver.date);r.setHours(i),r.setMinutes(n),console.log("Se fijará la nueva hora de inicio en "+r),this.enviarNuevaDateInicioHoldDuration(r)}else{console.log("Hora inválida");return}},enviarNuevaDateInicioHoldDuration(e){this.enviandoNuevoDateInicio=!0,this.enviandoSomeHorario=!0,this.$apollo.mutate({mutation:Pe`
                  mutation ($nuevoDate: Date!, $tipoEvento: String!, $idEvento: ID!) {
                    setDateInicioEventoHoldDuration(
                      nuevoDate: $nuevoDate
                      tipoEvento: $tipoEvento
                      idEvento: $idEvento
                    ) {
                      __typename
                      ... on EventoPersonal{
                        id
                        horarioInicio
                        horarioFinal
                      }
                      ... on EventoPublico{
                        id
                        horarioInicio
                        horarioFinal
                      }
                      
                    }
                  }
                `,variables:{nuevoDate:e,tipoEvento:this.tipoEvento,idEvento:this.esteEvento.id}}).then(()=>{this.$emit("eventoCambioFecha",this.esteEvento),this.enviandoSomeHorario=!1,this.enviandoNuevoDateInicio=!1,this.editandoFechaInicio=!1,this.editandoHoraInicio=!1}).catch(t=>{console.log(`Error: ${t}`),this.enviandoNuevoDateInicio=!1,this.enviandoSomeHorario=!1})},enviarNuevoHorarioFinal(e){this.enviandoNuevoDateFinal=!0,this.enviandoSomeHorario=!0,console.log(`Enviando nuevo horario final: ${e}`),this.$apollo.mutate({mutation:Pe`
                    mutation ($nuevoDate: Date!, $tipoEvento: String!, $idEvento: ID!) {
                        setDateFinalEvento(
                        nuevoDate: $nuevoDate
                        tipoEvento: $tipoEvento
                        idEvento: $idEvento
                        ){
                                __typename
                            ... on EventoPersonal{
                                id
                                horarioInicio
                                horarioFinal
                            }
                            ... on EventoPublico{
                                id
                                horarioInicio
                                horarioFinal
                            }
                        }
                  }
                `,variables:{nuevoDate:e,tipoEvento:this.esteEvento.__typename.charAt(0).toLowerCase()+this.esteEvento.__typename.slice(1),idEvento:this.esteEvento.id}}).then(()=>{this.enviandoNuevoDateFinal=!1,this.enviandoSomeHorario=!1,this.editandoDuracion=!1}).catch(t=>{console.log(`Error: ${t}`),this.enviandoNuevoDateFinal=!1,this.enviandoSomeHorario=!1})},iniciarEdicionDuracion(){this.nuevoDuracion=this.esteEvento.horarioFinal-this.esteEvento.horarioInicio,this.editandoDuracion=!0},repetirEvento(e,t){!this.usuarioSuperadministrador&&!this.administrador||(e=parseInt(e),!(e<this.minRepetir||e>this.maxRepetir)&&(console.log(`Se hara query de repetir este evento ${e} veces ${t}`),this.enviandoQueryRepetir=!0,this.$apollo.mutate({mutation:Pe`
                mutation($periodoRepetir: String, $cantidadRepetir: Int!, $idEvento:ID!, $tipoEvento:String!){
                  repetirEventoPeriodicamente(periodoRepetir:$periodoRepetir, cantidadRepetir: $cantidadRepetir, idEvento: $idEvento, tipoEvento:$tipoEvento){
                    __typename
                    ...on EventoPublico{
                        ...fragEventoPublico
                    }
                    ...on EventoPersonal{
                        ...fragEventoPersonal
                    }
                  }
                } 
                ${or}
                ${ai}
              `,variables:{periodoRepetir:t,cantidadRepetir:e,idEvento:this.esteEvento.id,tipoEvento:this.tipoEvento}}).then(({data:{repetirEventoPeriodicamente:o}})=>{o&&(this.$emit("meRepetiPeriodicamente",o),this.mostrandoZonaRepetir=!1),this.enviandoQueryRepetir=!1}).catch(o=>{console.log(`Error: ${o}`),this.enviandoQueryRepetir=!1})))}},computed:{nuevoNombreIlegal(){return!!(this.nuevoNombre.length<1||ac.test(this.nuevoNombre))},nuevoDescripcionIlegal(){return!!(!this.nuevoDescripcion||this.nuevoDescripcion.length<1||s0.test(this.nuevoDescripcion))},nuevoLimiteDeCuposIlegal(){return!this.nuevoLimiteDeCupos||this.nuevoLimiteDeCupos<1}},watch:{mostrando(e){e!="descripcion"&&(this.editandoDescripcion=!1),e==="descripcion"&&(!this.esteEvento.descripcion||this.esteEvento.descripcion.length<1)&&(this.editandoDescripcion||this.toggleEditandoDescripcion())}}},v0={data(){return{}},methods:{}},y0={props:{idEventoSeleccionado:String,esteEvento:Object,horaPx:Number,seleccionado:Boolean,infoOffset:Object,diaCalendarioOver:Object,enfasis:String,idUsuarioTarget:String},data(){return{eliminandose:!1,recogido:!1}},computed:{duracionMinutos(){return(this.dateFinal.getTime()-this.dateInicio.getTime())/6e4},estiloSize(){return{width:this.duracionMinutos/60*this.horaPx+"px"}},estiloPos(){return{left:(this.dateInicio.getHours()*36e5+this.dateInicio.getMinutes()*6e4)/36e5*this.horaPx+"px",top:this.infoOffset?this.infoOffset.top+"px":"0px"}},estiloZ(){return{zIndex:this.seleccionado?10:0}},claseOffset(){return this.infoOffset.clase}},methods:{},watch:{dateInicio(e){console.log(`Cambio de date inicio. Ahora inicio en ${e}`),(e<this.diaCalendarioOver.date||e.getTime()>this.diaCalendarioOver.date.getTime()+864e5)&&(console.log(`${this.esteEvento.nombre} dice: Me cambiaron de día`),this.$emit("meCambiaronDia",this.esteEvento))}}},b0={data(){return{mostrando:null,esteEvento:{},editandoDateInicio:!1,editandoHorarioFinal:!1,editandoDuracion:!1,mostrandoZonaRepetir:!1,periodoRepetir:"diariamente",cantidadRepetir:1}},methods:{cerrarVentana(){const e=this.tipoEvento==="eventoPublico"?this.$route.path.search("ventanaEventoPublico"):this.tipoEvento==="eventoPersonal"?this.$route.path.search("ventanaEventoPersonal"):null;if(!e)return;const t=this.$route.path.substring(0,e-1);this.$router.push(t)},iniciarEdicionFechaInicio(){!this.administrador&&!this.usuarioSuperadministrador&&!this.usuarioProfe||(console.log(`Iniciando edicion de fecha inicio con ${this.fechaInicioString}`),this.$refs.inputFechaInicio.value=this.fechaInicioFormateada,this.editandoFechaInicio=!0,this.$nextTick(()=>{this.$refs.inputFechaInicio.focus()}))},iniciarEdicionHoraInicio(){!this.administrador&&!this.usuarioSuperadministrador&&!this.usuarioProfe||(this.$refs.inputHoraInicio.value=this.horaInicioLegible,this.editandoHoraInicio=!0,this.$nextTick(()=>{this.$refs.inputHoraInicio.focus()}))},iniciarEdicionDuracion(){!this.administrador&&!this.usuarioSuperadministrador&&!this.usuarioProfe||(console.log(`Iniciando edicion de duración con ${this.duracionMinutos}`),this.$refs.inputDuracion.value=this.duracionMinutos,this.editandoDuracion=!0,this.$nextTick(()=>{this.$refs.inputDuracion.focus()}))},updateDuracion(e){console.log(`Updating duración to ${e} minutos`);const t=new Date(this.dateInicio.getTime()+e*6e4);this.enviarNuevoHorarioFinal(t)},enviarNuevoHorarioFinal(e){this.enviandoNuevoDateFinal=!0,this.enviandoSomeHorario=!0,console.log(`Enviando nuevo horario final: ${e}`),this.$apollo.mutate({mutation:Pe`
                    mutation ($nuevoDate: Date!, $tipoEvento: String!, $idEvento: ID!) {
                        setDateFinalEvento(
                        nuevoDate: $nuevoDate
                        tipoEvento: $tipoEvento
                        idEvento: $idEvento
                        ){
                                __typename
                            ... on EventoPersonal{
                                id
                                horarioInicio
                                horarioFinal
                            }
                            ... on EventoPublico{
                                id
                                horarioInicio
                                horarioFinal
                            }
                        }
                  }
                `,variables:{nuevoDate:e,tipoEvento:this.esteEvento.__typename.charAt(0).toLowerCase()+this.esteEvento.__typename.slice(1),idEvento:this.esteEvento.id}}).then(()=>{this.enviandoNuevoDateFinal=!1,this.enviandoSomeHorario=!1,this.editandoDuracion=!1}).catch(t=>{console.log(`Error: ${t}`),this.enviandoNuevoDateFinal=!1,this.enviandoSomeHorario=!1})},updateHorarioInicio(e){const t=e.target.value,o=parseInt(t.substring(0,2)),i=parseInt(t.substring(3));console.log(`nuevoTime: ${t}. ${o} horas y ${i} minutos`);const n=new Date(this.esteEvento.horarioFinal);var r=new Date(this.esteEvento.horarioInicio);console.log(`Actual date: ${r}`),r.setHours(o),r.setMinutes(i),console.log(`Nueva date inicio: ${r}`),!(r>n)&&(this.enviandoNuevoDateInicio=!0,this.$apollo.mutate({mutation:Pe`
                  mutation ($nuevoDate: Date!, $tipoEvento: String!, $idEvento: ID!) {
                    setDateInicioEvento(
                      nuevoDate: $nuevoDate
                      tipoEvento: $tipoEvento
                      idEvento: $idEvento
                    ){
                        __typename
                      ... on EventoPersonal{
                        id
                        horarioInicio
                        horarioFinal
                      }
                      ... on EventoPublico{
                        id
                        horarioInicio
                        horarioFinal
                      }
                    }
                  }
                `,variables:{nuevoDate:r,tipoEvento:this.tipoEvento,idEvento:this.esteEvento.id}}).then(()=>{this.enviandoNuevoDateInicio=!1,this.editandoDateInicio=!1}).catch(s=>{console.log(`Error: ${s}`),this.enviandoNuevoDateInicio=!1}))},iniciarEdicionHorarioFinal(){!this.administrador&&!this.usuarioSuperadministrador&&!this.usuarioProfe||(console.log("Iniciando edicion"),this.$refs.inputHorarioFinal.value=this.horaFinalString,this.editandoHorarioFinal=!0,this.$nextTick(()=>{this.$refs.inputHorarioFinal.focus()}))},updateHorarioFinal(e){const t=e.target.value,o=parseInt(t.substring(0,2)),i=parseInt(t.substring(3));console.log(`nuevoTime: ${t}. ${o} horas y ${i} minutos`);const n=new Date(this.esteEvento.horarioInicio);var r=new Date(this.esteEvento.horarioFinal);console.log(`Actual date: ${r}`),r.setHours(o),r.setMinutes(i),console.log(`Nueva date final: ${r}`),!(r<n)&&this.enviarNuevoHorarioFinal(r)},enviarNuevaDateInicioHoldDuration(e){this.enviandoNuevoDateInicio=!0,this.enviandoSomeHorario=!0,this.$apollo.mutate({mutation:Pe`
                  mutation ($nuevoDate: Date!, $tipoEvento: String!, $idEvento: ID!) {
                    setDateInicioEventoHoldDuration(
                      nuevoDate: $nuevoDate
                      tipoEvento: $tipoEvento
                      idEvento: $idEvento
                    ) {
                      __typename
                      ... on EventoPersonal{
                        id
                        horarioInicio
                        horarioFinal
                      }
                      ... on EventoPublico{
                        id
                        horarioInicio
                        horarioFinal
                      }
                      
                    }
                  }
                `,variables:{nuevoDate:e,tipoEvento:this.tipoEvento,idEvento:this.esteEvento.id}}).then(()=>{this.$emit("eventoCambioFecha",this.esteEvento),this.enviandoSomeHorario=!1,this.enviandoNuevoDateInicio=!1,this.editandoFechaInicio=!1,this.editandoHoraInicio=!1}).catch(t=>{console.log(`Error: ${t}`),this.enviandoNuevoDateInicio=!1,this.enviandoSomeHorario=!1})},updateFechaInicioHoldDuration(e){console.log(`se hara update de fecha inicio holding duration. ${e}`);const t=new Date(e),o=t.getUTCDate(),i=t.getUTCMonth(),n=t.getUTCFullYear();var r=new Date(this.esteEvento.horarioInicio);r.setDate(o),r.setMonth(i),r.setFullYear(n),console.log(`Quedará: ${r}`),this.enviarNuevaDateInicioHoldDuration(r)},updateHoraInicioHoldDuration(e){console.log(`se hara update de hora inicio holding duration. ${e}`);const t=e.substring(0,2),o=e.substring(3);var i=new Date(this.esteEvento.horarioInicio);i.setHours(t),i.setMinutes(o),console.log(`Quedará: ${i}`),this.enviarNuevaDateInicioHoldDuration(i)}},computed:{horaInicioString(){return new Date(this.esteEvento.horarioInicio).toTimeString().substring(0,5)},horaFinalString(){return new Date(this.esteEvento.horarioFinal).toTimeString().substring(0,5)}}},e5={props:{idParent:String,tipoParent:String},data(){return{creandoEventoPersonalUnder:!1}},methods:{crearEventoPersonalUnder(){console.log("Creando evento personal under"),this.creandoEventoPersonalUnder=!0,this.$apollo.mutate({mutation:Pe`
                    mutation($infoEventoPersonal: InputCrearEventoPersonal){
                        crearEventoPersonal(infoEventoPersonal:$infoEventoPersonal){
                            ...fragEventoPersonal
                        }
                    }
                ${ai}
                `,variables:{infoEventoPersonal:{idPersona:this.idUsuarioTarget,idEventoMarco:this.esteEvento.id,idParent:this.idParent,tipoParent:this.tipoParent}}}).then(({data:{crearEventoPersonal:e}})=>{this.creandoEventoPersonalUnder=!1,this.$emit("creadoEventoPersonal",e)}).catch(e=>{console.log(`Error: ${e}`),this.creandoEventoPersonalUnder=!1})}}},uh="/caracol/assets/calendarPlus-bcd804cb.svg",uc="/caracol/assets/expand-b151da43.svg",t5={name:"EventoPublicoCalendario",components:{IconoPersonaAutonomo:Zi,Loading:yt},props:{extranjero:Boolean},mixins:[bs,lh,y0,e5,ws],data(){return{mostrando:null}},methods:{},computed:{}},dc=e=>(it("data-v-af923284"),e=e(),rt(),e),o5={id:"zonaNombre"},n5={key:0,id:"cantidadAsistentes"},i5=dc(()=>v("img",{src:us,alt:"User",style:{height:"13px","margin-right":"6px"}},null,-1)),r5=dc(()=>v("img",{src:uh,alt:"Asistir"},null,-1)),s5=[r5],a5=dc(()=>v("img",{src:kn,alt:"Eliminar"},null,-1)),c5=[a5],l5=dc(()=>v("img",{src:uc,alt:"Expandir"},null,-1)),u5=[l5],d5={id:"contenedorMarcasTiempo"};function h5(e,t,o,i,n,r){const s=Oe("icono-persona-autonomo"),l=Oe("loading");return Y(),re("div",{class:we(["eventoPublicoCalendario",{deshabilitado:e.eliminandose,seleccionado:e.seleccionado,bloque:e.claseOffset==="bloque"||e.seleccionado,barra:e.claseOffset==="barra"&&!e.seleccionado}]),style:Ve([e.estiloPos,e.estiloZ])},[v("div",{id:"barra",style:Ve(e.estiloSize),class:we({seleccionado:e.seleccionado,administrador:e.administrador})},null,6),v("div",{id:"bloque",style:Ve([e.estiloSize,{position:"relative"}]),class:we({extranjero:o.extranjero,seleccionado:e.seleccionado})},[v("div",o5,[v("div",{id:"elNombre",class:we({administrador:e.administrador})},Ae(e.esteEvento.nombre),3)]),e.esteEvento.eventosEnmarcados&&e.esteEvento.eventosEnmarcados.length>0?(Y(),re("div",n5,[i5,Ke(" "+Ae(e.esteEvento.eventosEnmarcados.length)+Ae(e.esteEvento.limiteDeCupos?"/"+e.esteEvento.limiteDeCupos:""),1)])):Ee("",!0),(e.idUsuarioTarget!=e.esteEvento.idAdministrador,Y(),Qe(s,{key:1,class:we({seleccionado:e.seleccionado}),style:{margin:"0px auto"},idPersona:e.esteEvento.idAdministrador,factorEscala:"0.7"},null,8,["class","idPersona","factorEscala"])),v("div",{id:"contenedorControlesEvento",class:we({seleccionado:e.seleccionado})},[e.usuarioLogeado&&e.idUsuarioTarget!=e.esteEvento.idAdministrador?Q((Y(),re("div",{key:0,class:"boton botonControlEvento",title:"Asistir a este evento",onClick:t[0]||(t[0]=Ie((...a)=>e.crearEventoPersonalUnder&&e.crearEventoPersonalUnder(...a),["stop"]))},s5,512)),[[Z,!e.creandoEventoPersonalUnder]]):Ee("",!0),Q(Te(l,null,null,512),[[Z,e.creandoEventoPersonalUnder]]),e.administrador||e.usuarioSuperadministrador?(Y(),re("div",{key:1,class:"boton botonControlEvento",title:"Eliminar este evento",onClick:t[1]||(t[1]=Ie((...a)=>e.eliminarse&&e.eliminarse(...a),["stop"]))},c5)):Ee("",!0),v("div",{class:"boton botonControlEvento",title:"Expandir este evento",onClick:t[2]||(t[2]=Ie(a=>e.$router.push(e.$route.path+"/ventanaEventoPublico/"+e.esteEvento.id),["stop"]))},u5)],2)],6),Q(v("div",d5,[v("div",{class:we(["marcaTiempo",{deshabilitado:e.enviandoNuevoDateInicio}]),id:"marcaTiempoInicio",onClick:t[3]||(t[3]=(...a)=>e.setHoraInicio&&e.setHoraInicio(...a))},Ae(e.horaInicioLegible),3),v("div",{class:we(["marcaTiempo",{deshabilitado:e.enviandoNuevoDateFinal}]),id:"marcaTiempoFinal",onClick:t[4]||(t[4]=(...a)=>e.setHoraFinal&&e.setHoraFinal(...a))},Ae(e.horaFinalLegible),3)],512),[[Z,e.seleccionado]])],6)}const f5=Ge(t5,[["render",h5],["__scopeId","data-v-af923284"]]),p5={name:"eventoPersonalCalendario",components:{},props:{esteEvento:Object,horaPx:Number,seleccionado:Boolean,infoOffset:Object,extranjero:Boolean,diaCalendarioOver:Object},mixins:[bs,y0,ws],data(){return{mostrando:null}},methods:{},computed:{administrador(){return this.usuarioLogeado?this.usuario.id===this.esteEvento.idPersona:!1},modo(){return"bloque"}}},w0=e=>(it("data-v-872b7272"),e=e(),rt(),e),m5={id:"zonaNombre"},g5=w0(()=>v("img",{src:kn,alt:"Eliminar"},null,-1)),v5=[g5],y5=w0(()=>v("img",{src:uc,alt:"Expandir"},null,-1)),b5=[y5],w5={id:"contenedorMarcasTiempo"};function E5(e,t,o,i,n,r){return Y(),re("div",{class:we(["eventoPersonalCalendario",{deshabilitado:e.eliminandose,seleccionado:o.seleccionado,bloque:e.claseOffset==="bloque"||o.seleccionado,barra:e.claseOffset==="barra"&&!o.seleccionado}]),style:Ve([e.estiloPos,e.estiloZ])},[v("div",{id:"barra",style:Ve(e.estiloSize),class:we({seleccionado:o.seleccionado,extranjero:o.extranjero})},null,6),v("div",{id:"bloque",style:Ve(e.estiloSize),class:we({extranjero:o.extranjero,seleccionado:o.seleccionado,deNodoSolidaridad:o.esteEvento.tipoParent==="nodoSolidaridad"})},[v("div",m5,[v("div",{id:"elNombre",class:we({administrador:r.administrador})},Ae(o.esteEvento.nombre),3)]),v("div",{id:"contenedorControlesEvento",class:we({seleccionado:o.seleccionado})},[r.administrador||e.usuarioSuperadministrador||e.usuarioProfe?(Y(),re("div",{key:0,class:"boton botonControlEvento",title:"Eliminar este evento",onClick:t[0]||(t[0]=Ie((...s)=>e.eliminarse&&e.eliminarse(...s),["stop"]))},v5)):Ee("",!0),v("div",{class:"boton botonControlEvento",title:"Expandir este evento",onClick:t[1]||(t[1]=Ie(s=>e.$router.push(e.$route.path+"/ventanaEventoPersonal/"+o.esteEvento.id),["stop"]))},b5)],2)],6),Q(v("div",w5,[v("div",{class:we(["marcaTiempo",{deshabilitado:e.enviandoNuevoDateInicio}]),id:"marcaTiempoInicio",onClick:t[2]||(t[2]=(...s)=>e.setHoraInicio&&e.setHoraInicio(...s))},Ae(e.horaInicioLegible),3),v("div",{class:we(["marcaTiempo",{deshabilitado:e.enviandoNuevoDateFinal}]),id:"marcaTiempoFinal",onClick:t[3]||(t[3]=(...s)=>e.setHoraFinal&&e.setHoraFinal(...s))},Ae(e.horaFinalLegible),3)],512),[[Z,o.seleccionado]])],6)}const _5=Ge(p5,[["render",E5],["__scopeId","data-v-872b7272"]]),Wl=Pe`
  query ($dateInicioDia: Date!) {
    eventosPublicosDia(dateInicioDia: $dateInicioDia) {
      ...fragEventoPublico
    }
  }
  ${or}
`,Ql=Pe`
  query ($dateInicioDia: Date!, $idUsuario: ID!) {
    eventosPersonalesDia(dateInicioDia: $dateInicioDia, idUsuario: $idUsuario) {
      ...fragEventoPersonal
    }
  }
  ${ai}
`,S5=Pe`
  query ($dateInicioDia: Date!, $idParent: ID!, $tipoParent: String!) {
    eventosPersonalesDeParentDia(
      dateInicioDia: $dateInicioDia
      idParent: $idParent
      tipoParent: $tipoParent
    ) {
      ...fragEventoPersonal
    }
  }
  ${ai}
`,N5={components:{EventoPublicoCalendario:f5,EventoPersonalCalendario:_5,Loading:yt},name:"DiaCalendario",apollo:{eventosPublicosDia:{query:Wl,variables(){return{dateInicioDia:this.esteDia.date}},fetchPolicy:"cache-and-network"},eventosPersonalesDia:{query:Ql,variables(){return{dateInicioDia:this.esteDia.date,idUsuario:this.idUsuarioTarget}},skip(){return!this.usuarioLogeado},fetchPolicy:"cache-and-network"},eventosPersonalesDeParentDia:{query:S5,variables(){return{dateInicioDia:this.esteDia.date,idParent:this.idParent,tipoParent:this.tipoParent}},skip(){return this.tipoParent!="nodoSolidaridad"||!this.usuarioLogeado||!this.idParent},fetchPolicy:"cache-and-network"}},props:{hoy:Boolean,esteDia:Object,eventoSiendoCreado:Object,horaPx:Number,scrollXCalendario:Number,idParent:String,idEventoSeleccionado:String,idUsuarioTarget:String,tipoParent:String,enfasis:String,modoEventosPublicosExtranjeros:String,usuarioVeEventosPublicos:Boolean},data(){return{eventosPublicosDia:[],eventosPersonalesDia:[],eventosPersonalesDeParentDia:[],abierto:!1,creandoEvento:!1}},methods:{clickContenedorEventos(e){if(console.log("Click en el contenedor de eventos"),this.eventoSiendoCreado){var t=JSON.parse(JSON.stringify(this.eventoSiendoCreado));this.$emit("iniciaCreacionEvento");const s=this.$refs.contenedorEventos.getBoundingClientRect(),l=e.pageX-s.left,a=l/this.horaPx;var o=Math.round((a-Math.floor(a))*60);o=Math.floor(o/15)*15;const c={horas:Math.floor(a),minutos:o},u=this.esteDia.date.getTime()+c.horas*60*6e4+c.minutos*6e4;console.log(`En ${l} -> ${c.horas}: ${c.minutos}`),console.log(`Date centralh: ${this.esteDia.date.getTime()+c.horas+c.minutos*6e4}`);var i=u,n=u+36e5;console.log(`Quedará entre: ${new Date(i)} y ${new Date(n)}`),t.horarioInicio=new Date(i),t.horarioFinal=new Date(n),t.tipoEvento==="eventoPublico"?(delete t.tipoEvento,this.crearEventoPublico(t)):t.tipoEvento==="eventoPersonal"?(delete t.tipoEvento,this.crearEventoPersonal(t)):console.log(`Tipo ${t.tipoEvento} no reconocido`)}else this.idEventoSeleccionado&&this.$emit("desSeleccionDeEvento")},addEventoCache(e){const t=new Date(e.horarioInicio).getTime(),o=this.esteDia.date.getTime(),i=this.esteDia.date.getTime()+864e5;if(t<o||t>i)return;const n=e.__typename.charAt(0).toLowerCase()+e.__typename.slice(1);var r=null;if(n==="eventoPublico")r={query:Wl,variables:{dateInicioDia:this.esteDia.date}};else if(n==="eventoPersonal")r={query:Ql,variables:{dateInicioDia:this.esteDia.date,idUsuario:this.idUsuarioTarget}};else{console.log(`Tipo evento ${n} no reconocido`);return}const s=this.$apollo.provider.defaultClient,l=s.readQuery({...r});var a=JSON.parse(JSON.stringify(l)),c=null;n==="eventoPublico"?c=a.eventosPublicosDia:n==="eventoPersonal"&&(c=a.eventosPersonalesDia),c.findIndex(h=>h.id===e.id)===-1&&(c.push(e),s.writeQuery({...r,data:a}))},crearEventoPublico(e){console.log(`Creando un evento publico con info ${JSON.stringify(e)}`),this.creandoEvento=!0,this.$apollo.mutate({mutation:Pe`
            mutation ($infoNuevoEvento: InputCrearEventoPublico) {
              crearEventoPublico(infoNuevoEvento: $infoNuevoEvento) {
                ...fragEventoPublico
              }
            }
            ${or}
          `,variables:{infoNuevoEvento:e}}).then(({data:{crearEventoPublico:t}})=>{this.creandoEvento=!1,this.addEventoCache(t),this.$emit("cambioEventos")}).catch(t=>{console.log(`Error: ${t}`),this.creandoEvento=!1})},crearEventoPersonal(e){console.log(`Creando un evento personal con info ${JSON.stringify(e)}`),this.creandoEvento=!0,this.$apollo.mutate({mutation:Pe`
            mutation ($infoEventoPersonal: InputCrearEventoPersonal) {
              crearEventoPersonal(infoEventoPersonal: $infoEventoPersonal) {
                ...fragEventoPersonal
              }
            }
            ${ai}
          `,variables:{infoEventoPersonal:{...e,idPersona:this.idUsuarioTarget}}}).then(({data:{crearEventoPersonal:t}})=>{this.creandoEvento=!1,this.addEventoCache(t),this.$emit("cambioEventos")}).catch(t=>{console.log(`Error: ${t}`),this.creandoEvento=!1})},deleteEventoCache(e){const t=e.__typename.charAt(0).toLowerCase()+e.__typename.slice(1);console.log(`Deleting ${t} ${e.nombre} from cache`);var o=null;if(t==="eventoPublico")o={query:Wl,variables:{dateInicioDia:this.esteDia.date}};else if(t==="eventoPersonal")o={query:Ql,variables:{dateInicioDia:this.esteDia.date,idUsuario:this.idUsuarioTarget}};else{console.log(`Tipo evento ${t} no reconocido`);return}const i=this.$apollo.provider.defaultClient,n=i.readQuery({...o});var r=JSON.parse(JSON.stringify(n)),s=null;t==="eventoPublico"?s=r.eventosPublicosDia:t==="eventoPersonal"&&(s=r.eventosPersonalesDia);const l=s.findIndex(a=>a.id===e.id);l>-1&&(s.splice(l,1),i.writeQuery({...o,data:r}))}},computed:{diaSemana(){return["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"][this.esteDia.date.getDay()]},diaYMes(){const e=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];return this.esteDia.date.getDate()+" de "+e[this.esteDia.date.getMonth()]},eventosPublicosVisibles(){return this.enfasis==="eventosPublicos"?this.modoEventosPublicosExtranjeros==="invisibles"?this.eventosPublicosDia.filter(e=>e.idParent===this.idParent||e.idAdministrador===this.idUsuarioTarget):this.eventosPublicosDia:this.enfasis==="eventosPersonales"?this.usuarioVeEventosPublicos?this.eventosPublicosDia:this.eventosPublicosDia.filter(e=>e.idAdministrador===this.idUsuarioTarget):[]},eventosPublicosUsuarioTarget(){return this.eventosPublicosDia.filter(e=>e.idAdministrador===this.idUsuarioTarget)},estiloSizeContenedorEventos(){const e=Object.values(this.indiceOffset).reduce((t,o)=>o.top+o.height>t?o.top+o.height:t,0);return{width:this.horaPx*24+"px",height:e+45+"px"}},cantidadEventosPublicos(){return this.eventosPublicosDia.length},cantidadEventosRelevantes(){return this.enfasis==="eventosPublicos"?this.idParent?this.eventosPublicosDia.filter(e=>e.idParent===this.idParent).length:this.cantidadEventosPublicos:this.enfasis==="eventosPersonales"?this.idParent?this.eventosPersonalesDia.filter(e=>e.idParent===this.idParent).length:this.eventosPersonalesDia.length+this.eventosPublicosUsuarioTarget.length:0},indiceOffset(){var n={};if(!this.usuarioLogeado)return console.log("Cancelando índice offset"),null;this.todosEventosPersonalesDia.forEach(s=>{let l=160,a="bloque",c=5;this.enfasis==="eventosPersonales"?this.idParent&&s.idParent!=this.idParent&&(l=15,a="barra"):(l=15,a="barra"),n[s.id]={evento:s,top:c,height:l,bordeBot:c+l,clase:a}});var r=JSON.parse(JSON.stringify(this.eventosPublicosVisibles));return r.sort((s,l)=>{var a=0;return(s.idAdministrador===this.idUsuarioTarget||this.eventosPersonalesDia.some(c=>c.idEventoMarco===s.id))&&a++,(l.idAdministrador===this.idUsuarioTarget||this.eventosPersonalesDia.some(c=>c.idEventoMarco===l.id))&&a--,-a}),r.forEach(s=>{let l=this.eventosPersonalesDia.some(h=>h.idEventoMarco===s.id),a=160,c="bloque";this.enfasis==="eventosPublicos"&&s.idParent!=this.idParent&&this.modoEventosPublicosExtranjeros!="full"&&(a=15,c="barra");let u=0;this.enfasis==="eventosPersonales"&&l?u=30:u=Object.entries(n).map(g=>g[1]).filter(g=>{const y=g.evento.horarioInicio>s.horarioInicio&&g.evento.horarioInicio<s.horarioFinal,N=g.evento.horarioFinal>s.horarioInicio&&g.evento.horarioFinal<s.horarioFinal,I=g.evento.horarioInicio<=s.horarioInicio&&g.evento.horarioFinal>=s.horarioFinal;return y||N||I}).reduce((g,y)=>y.bordeBot>g?y.bordeBot:g,0)+5,n[s.id]={evento:s,top:u,height:a,bordeBot:u+a+15,clase:c}}),n},todosEventosPersonalesDia(){return this.eventosPersonalesDia.concat(this.eventosPersonalesDeParentDia.filter(e=>!this.eventosPersonalesDia.map(t=>t.id).includes(e.id)))},estiloSizeHora(){return{width:this.horaPx+"px"}},downloadingData(){return this.$apollo.queries.eventosPersonalesDeParentDia&&this.$apollo.queries.eventosPersonalesDeParentDia.loading||this.$apollo.queries.eventosPublicosDia&&this.$apollo.queries.eventosPublicosDia.loading||this.$apollo.queries.eventosPersonalesDia&&this.$apollo.queries.eventosPersonalesDia.loading}},watch:{},mounted(){const e=new Date().getHours();console.log(`Scrolling into ${e}`),this.$nextTick(()=>{this.$refs.labelsHoras[8].scrollIntoView({block:"nearest",inline:"start"})})}},C5={id:"barraSuperior"},A5={id:"fechaDia"},x5={id:"cantidadesEventos"},T5={id:"contenedorContenido"},I5={id:"barraHoras"};function D5(e,t,o,i,n,r){const s=Oe("loading"),l=Oe("evento-publico-calendario"),a=Oe("evento-personal-calendario");return Y(),re("div",{class:we(["diaCalendario",{abierto:n.abierto}])},[v("div",C5,[v("div",{id:"bloqueTituloDia",onClick:t[0]||(t[0]=c=>e.$emit("regresar"))},[v("div",{id:"nombreDia",class:we({hoy:o.hoy})},Ae(r.diaSemana),3),v("div",A5,Ae(r.diaYMes),1),v("div",x5,Ae(r.cantidadEventosRelevantes?"("+r.cantidadEventosRelevantes+")":""),1)])]),Q(Te(s,{texto:""},null,512),[[Z,r.downloadingData]]),v("div",T5,[v("div",I5,[(Y(),re(He,null,Ze(24,c=>v("div",{ref_for:!0,ref:"labelsHoras",class:"hora",style:Ve([r.estiloSizeHora]),key:"hora"+(c-1)},Ae(c-1)+":00 ",5)),64))]),Q(v("div",{id:"contenedorEventos",ref:"contenedorEventos",style:Ve([r.estiloSizeContenedorEventos]),onClick:t[2]||(t[2]=Ie((...c)=>r.clickContenedorEventos&&r.clickContenedorEventos(...c),["self"]))},[(Y(!0),re(He,null,Ze(r.eventosPublicosVisibles,c=>(Y(),Qe(l,{horaPx:o.horaPx,key:c.id,esteEvento:c,extranjero:!o.idParent||o.idParent!=c.idParent,idUsuarioTarget:o.idUsuarioTarget,seleccionado:o.idEventoSeleccionado===c.id,infoOffset:r.indiceOffset[c.id],diaCalendarioOver:o.esteDia,enfasis:o.enfasis,idParent:o.idParent,tipoParent:o.tipoParent,onMeElimine:u=>{r.deleteEventoCache(c),e.$emit("cambioEventos")},onClick:u=>e.$emit("clickEnEvento",c),onMeCambiaronDia:u=>{r.deleteEventoCache(c),e.$emit("cambioEventos")},onCreadoEventoPersonal:t[1]||(t[1]=u=>{r.addEventoCache(u),e.$emit("cambioEventos")})},null,8,["horaPx","esteEvento","extranjero","idUsuarioTarget","seleccionado","infoOffset","diaCalendarioOver","enfasis","idParent","tipoParent","onMeElimine","onClick","onMeCambiaronDia"]))),128)),(Y(!0),re(He,null,Ze(r.todosEventosPersonalesDia||[],c=>(Y(),Qe(a,{horaPx:o.horaPx,key:c.id,esteEvento:c,seleccionado:o.idEventoSeleccionado===c.id,infoOffset:r.indiceOffset[c.id],diaCalendarioOver:o.esteDia,enfasis:o.enfasis,extranjero:o.idUsuarioTarget!=c.idPersona&&!c.idsParticipantes.includes(o.idUsuarioTarget),onMeElimine:u=>{r.deleteEventoCache(c),e.$emit("cambioEventos")},onClick:u=>e.$emit("clickEnEvento",c),onMeCambiaronDia:u=>{r.deleteEventoCache(c),e.$emit("cambioEventos")}},null,8,["horaPx","esteEvento","seleccionado","infoOffset","diaCalendarioOver","enfasis","extranjero","onMeElimine","onClick","onMeCambiaronDia"]))),128))],4),[[Z,!r.downloadingData]])])],2)}const P5=Ge(N5,[["render",D5],["__scopeId","data-v-c9dd8354"]]),E0="/caracol/assets/calendarPublic-ec76bdc7.svg",k5="/caracol/assets/thList-83b8594b.svg",_0="/caracol/assets/relojArena-1f4db0c5.svg",S0="/caracol/assets/broom-342f8f84.svg",O5={components:{DiaCalendario:P5,Loading:yt},name:"Calendario",props:{idParent:String,idUsuarioTarget:String,tipoParent:String,enfasis:String},apollo:{cantidadEventosRelevantesMes:{query:Pe`
        query (
          $year: Int!
          $mes: Int!
          $idParent: ID!
          $tipoParent: String!
          $timeZoneOffset: Int!
        ) {
          cantidadEventosRelevantesMes(
            year: $year
            mes: $mes
            idParent: $idParent
            tipoParent: $tipoParent
            timeZoneOffset: $timeZoneOffset
          ) {
            dia
            cantidadEventos
          }
        }
      `,variables(){return{year:this.yearSeleccionado,mes:parseInt(this.numeroMesSeleccionado),idParent:this.idParent?this.idParent:this.idUsuarioTarget,tipoParent:this.tipoParent?this.tipoParent:"usuario",timeZoneOffset:new Date().getTimezoneOffset()}},fetchPolicy:"cache-and-network"}},data(){const e=new Date(Date.now());return e.setHours(0),e.setMinutes(0),e.setSeconds(0),{cantidadEventosRelevantesMes:[],nombresDiasSemana:["Lunes","Martes","Miércoles","Jueves","Viernes","Sabado","Domingo"],nombresMeses:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dateHoy:e,primerDia:{date:e,horaActual:new Date(Date.now()).getHours()},numeroMesSeleccionado:e.getMonth(),seleccionandoMes:!1,yearSeleccionado:e.getFullYear(),numeroDiaSeleccionado:null,eventoSiendoCreado:null,horaPx:100,scrollX:0,idEventoSeleccionado:null,modoEventosPublicosExtranjeros:"invisibles",diasRendered:[{date:e}],usuarioVeEventosPublicos:!1,tomandoAccion:null,enviandoAccionIntervalo:!1}},computed:{tipoEventoSiendoCreado(){return this.eventoSiendoCreado?this.eventoSiendoCreado.tipoEvento:null},offsetScroll(){return{left:10+this.scrollX+"px"}},nombreMesSeleccionado(){return this.nombresMeses[parseInt(this.numeroMesSeleccionado)]},lengthMonthSeleccionado(){return new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado+1),0).getDate()},diasMargenInicio(){return new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado),0).getDay()},estiloMargenInicio(){return{width:this.diasMargenInicio*14+"%"}},diaSeleccionado(){return this.numeroDiaSeleccionado?{date:new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado),this.numeroDiaSeleccionado,0)}:null},semanasMes(){console.log("Calculando semanasMes");const e=new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado),1).getDay();console.log(`Dia semana inicio de mes: ${e}`);const t=e===0?7:e,o=Math.floor(this.lengthMonthSeleccionado/7);console.log(`${o} semanas completas`);const i=this.lengthMonthSeleccionado-o*7;console.log(`${i} dias sobrantes`);var n=o;return t>1&&n++,(i+t>7||i>0&&t===1)&&n++,n}},methods:{iniciarSeleccionandoMes(){this.seleccionandoMes=!0,this.$nextTick(()=>{this.$refs.selectMes.click()})},repetirEventosSemana(e){console.log(`Se repetirán los eventos de la semana ${e}`);var t=parseInt(prompt("¿Cuantas veces quieres repetir el horario de esta semana?",0));if(t<1||t>52){console.log("Valor de repeticiones inválido");return}const o=1e3*60*60*24,i=new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado),1).getDay();console.log(`Primer dia mes: ${i}`);const n=i===0?7:i,r=new Date(new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado),1).getTime()+o*7*e-(n-1)*o),s=new Date(r.getTime()+o*7);this.repetirEventosInterval(r,s,this.idParent?this.idParent:this.idUsuarioTarget,this.tipoParent?this.tipoParent:"usuario",this.idUsuarioTarget,t)},repetirEventosInterval(e,t,o,i,n,r){console.log(`Se repetiran los eventos que están entre ${e} y ${t}, ${r} veces`),this.$apollo.mutate({mutation:Pe`
            mutation (
              $idParent: ID!
              $tipoParent: String!
              $idUsuario: ID!
              $numRepeticiones: Int!
              $dateFrom: Date!
              $dateTo: Date!
            ) {
              repetirEventosTroughInterval(
                idParent: $idParent
                tipoParent: $tipoParent
                idUsuario: $idUsuario
                numRepeticiones: $numRepeticiones
                dateFrom: $dateFrom
                dateTo: $dateTo
              )
            }
          `,variables:{idParent:this.idParent?this.idParent:this.idUsuarioTarget,tipoParent:this.tipoParent?this.tipoParent:"usuario",idUsuario:this.idUsuarioTarget,numRepeticiones:r,dateFrom:e,dateTo:t}}).then(()=>{this.reloadEventosRelevantes(),alert("Operación completada")}).catch(s=>{console.log(`Error: ${s}`),this.enviandoAccionIntervalo=!1})},deleteEventosSemana(e){if(console.log(`Se eliminaran los eventos de la semana ${e}`),!confirm("¿Confirmar la eliminación de los eventos de esta semana? (Esta acción no puede deshacerse)"))return;const t=1e3*60*60*24,o=new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado),1).getDay();console.log(`Primer dia mes: ${o}`);const i=o===0?7:o;console.log(`Primer dia mes corregido: ${i}`);const n=new Date(new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado),1).getTime()+t*7*e-(i-1)*t),r=new Date(n.getTime()+t*7);this.deleteEventosInterval(n,r,this.idParent?this.idParent:this.idUsuarioTarget,this.tipoParent?this.tipoParent:"usuario",this.idUsuarioTarget)},deleteEventosInterval(e,t,o,i,n){console.log(`Se eliminarán los eventos que están entre ${e} y ${t}`),this.enviandoAccionIntervalo=!0,this.$apollo.mutate({mutation:Pe`
            mutation (
              $idParent: ID!
              $tipoParent: String!
              $idUsuario: ID!
              $dateFrom: Date!
              $dateTo: Date!
            ) {
              deleteEventosTroughInterval(
                idParent: $idParent
                tipoParent: $tipoParent
                idUsuario: $idUsuario
                dateFrom: $dateFrom
                dateTo: $dateTo
              )
            }
          `,variables:{idParent:o,tipoParent:i,idUsuario:n,dateFrom:e,dateTo:t}}).then(()=>{this.reloadEventosRelevantes(),this.enviandoAccionIntervalo=!1,alert("Operación completada")}).catch(r=>{console.log(`Error: ${r}`),this.enviandoAccionIntervalo=!1})},reloadEventosRelevantes:ls(function(){console.log("Reloading cantidades mes"),this.$apollo.queries.cantidadEventosRelevantesMes.refetch()},1e3)},watch:{numeroMesSeleccionado(){this.seleccionandoMes=!1}}},ci=e=>(it("data-v-154c2262"),e=e(),rt(),e),R5={id:"contenedorControlesCalendario",class:"contenedorControles"},L5=["title"],M5=ci(()=>v("img",{src:E0,alt:"Evento publico"},null,-1)),F5=[M5],B5=["title"],$5=ci(()=>v("img",{src:E0,alt:"Evento publico"},null,-1)),U5=[$5],q5=["title"],j5=ci(()=>v("img",{src:k5,alt:"Lista"},null,-1)),V5=[j5],H5={id:"bloqueSelect"},z5={id:"barraFecha"},G5={id:"bloqueMes"},W5=["value"],Q5={id:"bloqueYear",style:{"margin-left":"auto"}},K5={id:"nombreYear"},J5={id:"barraDiasSemana"},Y5={id:"contenedorMesh"},X5=["onClick"],Z5={class:"numeroDia"},e6={class:"laCantidad"},t6={id:"contenedorBotonesDia"},o6=ci(()=>v("div",{class:"boton",title:"Repetir los eventos de este día"},[v("img",{src:_0,alt:"Reloj"})],-1)),n6=ci(()=>v("div",{class:"boton",title:"Eliminar todos los eventos de este día"},[v("img",{src:S0,alt:"Limpiar"})],-1)),i6=[o6,n6],r6={id:"representacionSemanas"},s6={id:"contenedorBotonesSemana"},a6=["onClick"],c6=ci(()=>v("img",{src:_0,alt:"Reloj"},null,-1)),l6=[c6],u6=["onClick"],d6=ci(()=>v("img",{src:S0,alt:"Limpiar"},null,-1)),h6=[d6];function f6(e,t,o,i,n,r){const s=Oe("loading"),l=Oe("dia-calendario");return Y(),re("div",{class:we(["calendario",{eventoSiendoCreado:n.eventoSiendoCreado}])},[v("div",R5,[e.usuarioLogeado&&e.usuario.permisos&&e.usuario.permisos.includes("maestraVida-profesor")?Q((Y(),re("div",{key:0,class:"boton",onClick:t[0]||(t[0]=a=>n.modoEventosPublicosExtranjeros==="invisibles"?n.modoEventosPublicosExtranjeros="full":n.modoEventosPublicosExtranjeros==="full"?n.modoEventosPublicosExtranjeros="barra":n.modoEventosPublicosExtranjeros="invisibles"),style:Ve({opacity:n.modoEventosPublicosExtranjeros==="invisibles"?.4:n.modoEventosPublicosExtranjeros==="full"?1:.7}),title:n.modoEventosPublicosExtranjeros==="invisibles"?"Mostrar todos los eventos públicos":n.modoEventosPublicosExtranjeros==="full"?"Minimizar otros eventos públicos":"Ocultar otros eventos públicos"},F5,12,L5)),[[Z,o.enfasis==="eventosPublicos"]]):Ee("",!0),o.enfasis==="eventosPersonales"?(Y(),re("div",{key:1,class:"boton",onClick:t[1]||(t[1]=a=>n.usuarioVeEventosPublicos=!n.usuarioVeEventosPublicos),title:n.usuarioVeEventosPublicos?"Ocultar eventos públicos":"Mostrar eventos públicos",style:Ve([{opacity:n.usuarioVeEventosPublicos?1:.5}])},U5,12,B5)):Ee("",!0),Q(v("div",{class:"boton",title:n.tomandoAccion==="semana"?"Cancelar":n.tomandoAccion==="dia"?"Editar semanas":"Editar días",onClick:t[2]||(t[2]=a=>n.tomandoAccion=n.tomandoAccion==="semana"?null:(n.tomandoAccion==="dia","semana")),style:Ve([{opacity:n.tomandoAccion?1:.5}])},V5,12,q5),[[Z,e.usuario&&e.usuario.id===o.idUsuarioTarget||e.usuarioSuperadministrador||e.usuarioProfe]])]),Q(v("div",H5,[v("div",z5,[v("div",G5,[Q(v("div",{id:"nombreMes",onClick:t[3]||(t[3]=(...a)=>r.iniciarSeleccionandoMes&&r.iniciarSeleccionandoMes(...a))},Ae(r.nombreMesSeleccionado),513),[[Z,!n.seleccionandoMes]]),Q(v("select",{ref:"selectMes",id:"selectMes","onUpdate:modelValue":t[4]||(t[4]=a=>n.numeroMesSeleccionado=a)},[(Y(!0),re(He,null,Ze(n.nombresMeses,(a,c)=>(Y(),re("option",{value:c,key:"selector"+a},Ae(a),9,W5))),128))],512),[[ss,n.numeroMesSeleccionado],[Z,n.seleccionandoMes]])]),Q(Te(s,{texto:""},null,512),[[Z,e.$apollo.queries.cantidadEventosRelevantesMes.loading]]),v("div",Q5,[v("div",K5,Ae(n.yearSeleccionado),1)])]),v("div",J5,[(Y(),re(He,null,Ze(7,a=>v("div",{class:"diaSemana",key:"diaSemana"+a},Ae(n.nombresDiasSemana[a-1].charAt(0)),1)),64))]),v("div",Y5,[v("div",{id:"margenInicio",style:Ve([r.estiloMargenInicio])},null,4),(Y(!0),re(He,null,Ze(r.lengthMonthSeleccionado,a=>(Y(),re("div",{class:we(["selectorDia",{hoy:n.dateHoy.getFullYear()===n.yearSeleccionado&&n.dateHoy.getMonth()===parseInt(n.numeroMesSeleccionado)&&n.dateHoy.getDate()===a}]),key:"selectorDia"+a,onClick:c=>n.numeroDiaSeleccionado=a},[v("div",Z5,Ae(a)+Ae(n.dateHoy.getFullYear()===n.yearSeleccionado&&n.dateHoy.getMonth()===parseInt(n.numeroMesSeleccionado)&&n.dateHoy.getDate()===a?" Hoy":""),1),n.cantidadEventosRelevantesMes.some(c=>c.dia===a)?(Y(),re("div",{key:0,class:"bolitaCantidadEventosRelevantes",style:Ve([{opacity:n.tomandoAccion==="dia"?.4:1}])},[v("div",e6,Ae(n.cantidadEventosRelevantesMes.find(c=>c.dia===a).cantidadEventos),1)],4)):Ee("",!0),Q(v("div",t6,i6,512),[[Z,n.tomandoAccion==="dia"]])],10,X5))),128)),Q(v("div",r6,[(Y(!0),re(He,null,Ze(r.semanasMes,(a,c)=>(Y(),re("div",{class:"semana",key:"semana"+a},[v("div",s6,[v("div",{class:"boton",title:"Repetir los eventos de esta semana",onClick:u=>r.repetirEventosSemana(c)},l6,8,a6),v("div",{class:"boton",title:"Eliminar todos los eventos de esta semana",onClick:u=>r.deleteEventosSemana(c)},h6,8,u6)])]))),128))],512),[[Z,n.tomandoAccion==="semana"]])])],512),[[Z,!r.diaSeleccionado]]),r.diaSeleccionado?(Y(),Qe(l,{eventoSiendoCreado:n.eventoSiendoCreado,hoy:n.dateHoy.getTime()===r.diaSeleccionado.date.getTime(),key:"dia"+r.diaSeleccionado.date.getTime(),esteDia:r.diaSeleccionado,horaPx:n.horaPx,scrollXCalendario:n.scrollX,idParent:o.idParent,idEventoSeleccionado:n.idEventoSeleccionado,idUsuarioTarget:o.idUsuarioTarget,tipoParent:o.tipoParent,enfasis:o.enfasis,modoEventosPublicosExtranjeros:n.modoEventosPublicosExtranjeros,usuarioVeEventosPublicos:n.usuarioVeEventosPublicos,onRegresar:t[5]||(t[5]=a=>n.numeroDiaSeleccionado=null),onIniciaCreacionEvento:t[6]||(t[6]=a=>e.$emit("iniciaCreacionEvento")),onClickEnEvento:t[7]||(t[7]=a=>n.idEventoSeleccionado=a.id),onDesSeleccionDeEvento:t[8]||(t[8]=a=>n.idEventoSeleccionado=null),onCambioEventos:r.reloadEventosRelevantes},null,8,["eventoSiendoCreado","hoy","esteDia","horaPx","scrollXCalendario","idParent","idEventoSeleccionado","idUsuarioTarget","tipoParent","enfasis","modoEventosPublicosExtranjeros","usuarioVeEventosPublicos","onCambioEventos"])):Ee("",!0)],2)}const dh=Ge(O5,[["render",f6],["__scopeId","data-v-154c2262"]]),N0="/caracol/assets/babySolid-ecc972cb.svg",p6={components:{Loading:yt},name:"BloqueHorario",props:{esteBloque:Object,idBloqueSeleccionado:String,factorZoom:Number,idBloqueMenuContextual:String,mostrarCantidadAsistentes:Boolean},data(){var e=localStorage.getItem("coloresEspacios")?JSON.parse(localStorage.getItem("coloresEspacios")):[];return{coloresEspacios:e,eliminandose:!1,settingTiempos:!1,mostrarVentana:!1,editandoHoraInicio:!1,editandoHoraFinal:!1}},computed:{duracionMinutos(){return Math.round((this.esteBloque.millisFinal-this.esteBloque.millisInicio)/6e4)},mostrandoMenuContextual(){return this.idBloqueMenuContextual===this.esteBloque.id},miColor(){if(!this.coloresEspacios)return"#a04d4d";const e=this.coloresEspacios.findIndex(t=>t[0]===this.esteBloque.idEspacio);return e>-1?this.coloresEspacios[e][1]:"#a04d4d"},seleccionado(){return this.idBloqueSeleccionado===this.esteBloque.id},usuarioAdministrador(){return this.usuario.id===this.esteBloque.idAdministradorEspacio},minutosInicio(){return Math.round(this.esteBloque.millisInicio/6e4)},minutosFinal(){return Math.round(this.esteBloque.millisFinal/6e4)},tiempoInicioFormateado(){return this.toTiempoFormateado(this.minutosInicio)},tiempoFinalFormateado(){return this.toTiempoFormateado(this.minutosFinal)},usuarioAsiste(){return this.usuarioAdministrador||this.esteBloque.idsParticipantesConstantes.includes(this.usuario.id)},colorBarraTag(){var e="rgb(182 182 182)";return this.usuarioAsiste&&(e="var(--calendarioUsuario)"),this.usuarioAdministrador&&(e="var(--calendarioUsuarioStrong)"),{backgroundColor:e}}},methods:{setColorEspacio(){const e=this.$refs.inputColor;console.log(`Setting color en ${e.value} para el espacio ${this.esteBloque.nombreEspacio} con id ${this.esteBloque.idEspacio}`);const t=this.coloresEspacios.findIndex(o=>o[0]===this.esteBloque.idEspacio);t>-1?this.$set(this.coloresEspacios,t,[this.esteBloque.idEspacio,e.value]):this.coloresEspacios.push([this.esteBloque.idEspacio,e.value]),localStorage.setItem("coloresEspacios",JSON.stringify(this.coloresEspacios))},eliminarse(){if(!this.usuarioAdministrador&&!this.usuarioSuperadministrador){console.log("No autorizado");return}this.eliminandose=!0,this.$apollo.mutate({mutation:Pe`
            mutation ($idEspacio: ID!, $idIteracion: ID!) {
              eliminarIteracionSemanalEspacio(
                idEspacio: $idEspacio
                idIteracion: $idIteracion
              )
            }
          `,variables:{idEspacio:this.esteBloque.idEspacio,idIteracion:this.esteBloque.id}}).then(()=>{this.eliminandose=!1,this.$emit("meElimine")}).catch(e=>{console.log("Error: "+e),this.eliminandose=!1})},toggleDuracionBloque(){if(console.log(`Toggleando bloque que tiene minutosInicio ${this.minutosInicio} y minutosFinal ${this.minutosFinal}`),!this.usuarioAdministrador&&!this.usuarioSuperadministrador){console.log("No autorizado");return}this.minutosInicio===480?this.minutosFinal===600?this.setMinutos(480,540):this.setMinutos(480,600):this.minutosInicio===540?this.setMinutos(480,600):this.minutosInicio===630?this.minutosFinal===750?this.setMinutos(630,690):this.setMinutos(630,750):this.minutosInicio===690?this.setMinutos(630,750):this.minutosInicio===810?this.minutosFinal===930?this.setMinutos(810,870):this.setMinutos(810,930):this.minutosInicio===870?this.setMinutos(870,930):console.log("No se pudo togglear el bloque")},setMinutos(e,t){const o=e*6e4,i=t*6e4;this.settingTiempos=!0,this.$apollo.mutate({mutation:Pe`
            mutation (
              $idEspacio: ID!
              $idIteracion: ID!
              $millisInicio: Int!
              $millisFinal: Int!
            ) {
              setTiemposIteracionSemanalEspacio(
                idEspacio: $idEspacio
                idIteracion: $idIteracion
                millisInicio: $millisInicio
                millisFinal: $millisFinal
              ) {
                id
                millisInicio
                millisFinal
              }
            }
          `,variables:{idEspacio:this.esteBloque.idEspacio,idIteracion:this.esteBloque.id,millisInicio:o,millisFinal:i}}).then(()=>{this.settingTiempos=!1}).catch(n=>{console.log("Error: "+n),this.settingTiempos=!1})},expandir(){this.$emit("expandirme")},iniciarSetHoraInicio(){this.$refs.inputHoraInicio.value=this.toTiempoFormateado(this.minutosInicio),this.editandoHoraInicio=!0,this.editandoHoraFinal=!1},iniciarSetHoraFinal(){this.$refs.inputHoraFinal.value=this.toTiempoFormateado(this.minutosFinal),this.editandoHoraFinal=!0,this.editandoHoraInicio=!1},toTiempoFormateado(e){var t=Math.floor(e/60);String(t).length<2&&(t="0"+t);var o=String(Math.round(e-t*60));return o.length<2&&(o="0"+o),t+":"+o},setHoraInicio(){console.log("Setting hora inicio");const e=this.$refs.inputHoraInicio.value.split(":"),t=parseInt(e[0]),o=parseInt(e[1]),i=t*60+o;console.log("Nuevo minutos inicio: "+i),this.setMinutos(i,this.minutosFinal)},setHoraFinal(){console.log("Setting hora final");const e=this.$refs.inputHoraFinal.value.split(":"),t=parseInt(e[0]),o=parseInt(e[1]),i=t*60+o;console.log("Nuevo minutos final: "+i),this.setMinutos(this.minutosInicio,i)}}},C0=e=>(it("data-v-3acc099a"),e=e(),rt(),e),m6=C0(()=>v("img",{src:Yi,alt:"Opciones"},null,-1)),g6=[m6],v6={id:"nombre"},y6={key:0,src:N0,alt:"bebé",style:{height:"15px"}},b6=C0(()=>v("img",{src:uc,alt:"expandir",style:{}},null,-1)),w6=[b6],E6=["value"],_6=["value"];function S6(e,t,o,i,n,r){const s=Oe("loading");return Y(),re("div",{class:we(["bloqueHorario",{seleccionado:r.seleccionado,deshabilitado:n.eliminandose||n.settingTiempos,usuarioAsiste:r.usuarioAsiste}]),style:Ve([{width:r.duracionMinutos*o.factorZoom+"px",backgroundColor:r.miColor}]),onContextmenu:t[11]||(t[11]=Ie(l=>e.$emit("menuContextual",o.esteBloque.id),["exact","prevent","stop"])),onDblclick:t[12]||(t[12]=(...l)=>r.toggleDuracionBloque&&r.toggleDuracionBloque(...l)),onClick:t[13]||(t[13]=Ie(l=>e.$emit("seleccionado"),["left"]))},[Q(v("div",{class:"boton",onClick:t[0]||(t[0]=Ie(l=>e.$emit("menuContextual",o.esteBloque.id),["stop"])),id:"botonOpciones"},g6,512),[[Z,r.seleccionado]]),v("div",{id:"barraTag",style:Ve([r.colorBarraTag])},[v("div",v6,[o.esteBloque.paraChiquis?(Y(),re("img",y6)):Ee("",!0),Ke(Ae(o.esteBloque.nombreEspacio),1)])],4),o.esteBloque.idsParticipantesConstantes&&o.esteBloque.idsParticipantesConstantes.length>0&&o.mostrarCantidadAsistentes?Q((Y(),re("div",{key:0,id:"cantidadAsistentes"}," Asistentes: "+Ae(o.esteBloque.idsParticipantesConstantes.length),513)),[[Z,!r.seleccionado]]):Ee("",!0),Q(v("div",{id:"botonExpandir",class:"boton",style:{margin:"0px auto"},onClick:t[1]||(t[1]=Ie((...l)=>r.expandir&&r.expandir(...l),["stop"]))},w6,512),[[Z,r.seleccionado]]),Q(Te(s,null,null,512),[[Z,n.eliminandose||n.settingTiempos]]),Q(v("div",{id:"menuContextual",class:we({seleccionado:r.seleccionado}),onClick:t[9]||(t[9]=Ie(()=>{},["stop"])),onDblclick:t[10]||(t[10]=Ie(()=>{},["stop"]))},[r.usuarioAdministrador||e.usuarioSuperadministrador?(Y(),re("div",{key:0,class:"itemMenuContextual",onClick:t[2]||(t[2]=(...l)=>r.eliminarse&&r.eliminarse(...l))}," Eliminar ")):Ee("",!0),v("div",{class:"itemMenuContextual",onClick:t[3]||(t[3]=l=>e.$refs.inputColor.click())}," Seleccionar color "),r.usuarioAdministrador||e.usuarioSuperadministrador?(Y(),re("div",{key:1,class:"itemMenuContextual",onClick:t[4]||(t[4]=(...l)=>r.iniciarSetHoraInicio&&r.iniciarSetHoraInicio(...l))}," Fijar hora de inicio ")):Ee("",!0),Q(v("input",{type:"time",value:r.tiempoInicioFormateado,ref:"inputHoraInicio",id:"inputHoraInicio",onChange:t[5]||(t[5]=(...l)=>r.setHoraInicio&&r.setHoraInicio(...l))},null,40,E6),[[Z,n.editandoHoraInicio]]),r.usuarioAdministrador||e.usuarioSuperadministrador?(Y(),re("div",{key:2,class:"itemMenuContextual",onClick:t[6]||(t[6]=(...l)=>r.iniciarSetHoraFinal&&r.iniciarSetHoraFinal(...l))}," Fijar hora de finalización ")):Ee("",!0),Q(v("input",{type:"time",value:r.tiempoFinalFormateado,ref:"inputHoraFinal",id:"inputHoraFinal",onChange:t[7]||(t[7]=(...l)=>r.setHoraFinal&&r.setHoraFinal(...l))},null,40,_6),[[Z,n.editandoHoraFinal]]),Q(v("input",{type:"color",ref:"inputColor",onChange:t[8]||(t[8]=(...l)=>r.setColorEspacio&&r.setColorEspacio(...l)),id:"inputColor"},null,544),[[Z,!1]])],34),[[Z,r.mostrandoMenuContextual]])],38)}const N6=Ge(p6,[["render",S6],["__scopeId","data-v-3acc099a"]]),hc=Pe`
  fragment fragEspacio on Espacio {
    id
    nombre
    descripcion
    idAdministrador
    paraChiquis
  }
`,C6={name:"bloqueCreacionHorario",apollo:{espaciosControladosUsuario:{query:Fe`
        query {
          espaciosControladosUsuario {
            ...fragEspacio
          }
        }
        ${hc}
      `}},props:{esteBloque:Object},data(){return{idEspacioSeleccionado:null}},methods:{iniciarCreacion(){}},mounted(){this.$refs.selectEspacio.click()}},A6={class:"bloqueCreacionHorario"},x6=v("option",{value:"null",disabled:""},"Seleccionar un espacio",-1),T6=["value"];function I6(e,t,o,i,n,r){return Y(),re("div",A6,[Q(v("select",{name:"selectEspacio",id:"selectEspacio",ref:"selectEspacio","onUpdate:modelValue":t[0]||(t[0]=s=>n.idEspacioSeleccionado=s),onChange:t[1]||(t[1]=s=>e.$emit("espacioSeleccionado",s.target.value))},[x6,(Y(!0),re(He,null,Ze(e.espaciosControladosUsuario,s=>(Y(),re("option",{value:s.id,key:s.id},Ae(s.nombre),9,T6))),128))],544),[[ss,n.idEspacioSeleccionado]])])}const D6=Ge(C6,[["render",I6]]),hh=Pe`
  fragment fragBloqueHorario on IteracionSemanalEspacio {
    id
    millisInicio
    millisFinal
    idsParticipantesConstantes
    diaSemana
    nombreEspacio
    idAdministradorEspacio
    idEspacio
    paraChiquis
  }
`,P6={components:{BloqueHorario:N6,BloqueCreacionHorario:D6},name:"DiaOrganizadorHorario",props:{mostrarCantidadAsistentes:Boolean,nombreDia:String,numeroDia:Number,idEspacioCrear:String,idBloqueSeleccionado:String,bloquesHorario:Array,idBloqueMenuContextual:String,factorZoom:{type:Number,default(){return 1}},offset:Number},data(){return{minutosRelevantesBase:[480,540,600,630,750,810,870,930],creandoBloqueHorario:!1,anchoDiaMinutos:490,heightBloques:100,gapFilas:10,bloqueCreacionHorario:null}},computed:{minutosRelevantes(){return this.minutosRelevantesBase},bloquesHorarioPriorizados(){var e=[...this.bloquesHorario].sort((t,o)=>{var i=0;return t.idAdministradorEspacio===this.usuario.id&&i++,o.idAdministradorEspacio===this.usuario.id&&i--,-i});return e},bloquesHorarioEnriquecidos(){for(var e=[...this.bloquesHorarioPriorizados.map(i=>({...i,fila:0}))],t=0;t<e.length;t++){let i=e[t];for(var o=t;o>=0;o--){let n=e[o];if((n.millisInicio>=i.millisInicio&&n.millisInicio<i.millisFinal||n.millisFinal>i.millisInicio&&n.millisFinal<=i.millisFinal||n.millisInicio<=i.millisInicio&&n.millisFinal>=i.millisFinal)&&n.fila>=i.fila){let s=n.fila+1;i.fila=s}}}return e},maxFila(){var e=this.bloquesHorarioEnriquecidos.reduce((t,o)=>o.fila>t?o.fila:t,0);return e}},methods:{toTiempoFormateado(e){var t=Math.floor(e/60);String(t).length<2&&(t="0"+t);var o=String(Math.round(e-t*60));return o.length<2&&(o="0"+o),t+":"+o},mostrarCalculoMinutos(){},iniciarCreacionBloqueHorario(e){const t=this.$refs.zonaBloques.getBoundingClientRect(),i=e.clientX-t.left,n=this.anchoDiaMinutos/t.width*i+this.offset;console.log("Creando bloque de horario en "+this.toTiempoFormateado(n));var r=n,s=r+60;if(n>=480&&n<540)r=480,s=540;else if(n>=540&&n<600)r=540,s=600;else if(n>=630&&n<750)r=630,s=750;else if(n>=810&&n<870)r=810,s=870;else if(n>=870&&n<930)r=870,s=930;else{console.log("En zona no considerada");return}console.log(`Corregido a ${this.toTiempoFormateado(r)}`);var l=r*6e4,a=s*6e4;this.bloqueCreacionHorario={millisInicio:l,millisFinal:a}},crearBloqueHorario(e){!this.idEspacioCrear||!this.bloqueCreacionHorario||(this.creandoBloqueHorario=!0,this.$apollo.mutate({mutation:Pe`
            mutation (
              $idEspacio: ID!
              $millisInicio: Int!
              $diaSemana: Int!
              $millisFinal: Int!
            ) {
              crearBloqueHorario(
                idEspacio: $idEspacio
                millisInicio: $millisInicio
                diaSemana: $diaSemana
                millisFinal: $millisFinal
              ) {
                ...fragBloqueHorario
              }
            }
            ${hh}
          `,variables:{idEspacio:e,millisInicio:this.bloqueCreacionHorario.millisInicio,millisFinal:this.bloqueCreacionHorario.millisFinal,diaSemana:this.numeroDia}}).then(({data:{crearBloqueHorario:t}})=>{this.creandoBloqueHorario=!1,this.$emit("bloqueHorarioCreado",t),this.bloqueCreacionHorario=null}).catch(t=>{console.log("Error: "+t),this.creandoBloqueHorario=!1}))}}},k6={class:"diaOrganizadorHorario"},O6={id:"nombreDia"},R6={id:"barraHoras"};function L6(e,t,o,i,n,r){const s=Oe("bloque-creacion-horario"),l=Oe("bloque-horario");return Y(),re("div",k6,[v("div",O6,Ae(o.nombreDia),1),v("div",{id:"zonaBloques",ref:"zonaBloques",style:Ve([{width:Math.round(n.anchoDiaMinutos*o.factorZoom)+"px",height:r.maxFila*(n.heightBloques+6*n.gapFilas)+"px"}]),onDblclick:t[1]||(t[1]=Ie((...a)=>r.iniciarCreacionBloqueHorario&&r.iniciarCreacionBloqueHorario(...a),["self"])),onClick:t[2]||(t[2]=Ie(a=>n.bloqueCreacionHorario=null,["self"]))},[n.bloqueCreacionHorario?(Y(),Qe(s,{key:0,style:Ve([{"z-index":"100000"},[{left:(n.bloqueCreacionHorario.millisInicio/6e4-o.offset)*o.factorZoom+"px",top:1*n.gapFilas-5+"px"}]]),esteBloque:n.bloqueCreacionHorario,onEspacioSeleccionado:r.crearBloqueHorario},null,8,["style","esteBloque","onEspacioSeleccionado"])):Ee("",!0),(Y(!0),re(He,null,Ze(r.bloquesHorarioEnriquecidos,a=>(Y(),Qe(l,{key:a.id,esteBloque:a,factorZoom:o.factorZoom,style:Ve([{left:(a.millisInicio/6e4-o.offset)*o.factorZoom+"px",top:1*n.gapFilas+(a.fila-1)*(n.heightBloques+n.gapFilas)+"px",zIndex:a.id===o.idBloqueMenuContextual?1e4:a.id===o.idBloqueSeleccionado?1e3:100-a.fila}]),idBloqueMenuContextual:o.idBloqueMenuContextual,idBloqueSeleccionado:o.idBloqueSeleccionado,mostrarCantidadAsistentes:o.mostrarCantidadAsistentes,onMeElimine:c=>e.$emit("bloqueEliminado",a.id),onMenuContextual:t[0]||(t[0]=c=>e.$emit("menuContextualBloque",c)),onSeleccionado:c=>e.$emit("bloqueSeleccionado",a.id),onExpandirme:c=>e.$emit("expandirBloque",a.id)},null,8,["esteBloque","factorZoom","style","idBloqueMenuContextual","idBloqueSeleccionado","mostrarCantidadAsistentes","onMeElimine","onSeleccionado","onExpandirme"]))),128))],36),v("div",R6,[(Y(!0),re(He,null,Ze(r.minutosRelevantes,a=>(Y(),re("div",{class:"marcaTiempo",key:"minuto"+a,style:Ve([{left:Math.round((a-o.offset)*o.factorZoom)+"px"}])},Ae(r.toTiempoFormateado(a)),5))),128))])])}const M6=Ge(P6,[["render",L6],["__scopeId","data-v-e64bb8b8"]]);var Pa={compareTwoStrings:A0,findBestMatch:F6};function A0(e,t){if(e=e.replace(/\s+/g,""),t=t.replace(/\s+/g,""),e===t)return 1;if(e.length<2||t.length<2)return 0;let o=new Map;for(let n=0;n<e.length-1;n++){const r=e.substring(n,n+2),s=o.has(r)?o.get(r)+1:1;o.set(r,s)}let i=0;for(let n=0;n<t.length-1;n++){const r=t.substring(n,n+2),s=o.has(r)?o.get(r):0;s>0&&(o.set(r,s-1),i++)}return 2*i/(e.length+t.length-2)}function F6(e,t){if(!B6(e,t))throw new Error("Bad arguments: First argument should be a string, second should be an array of strings");const o=[];let i=0;for(let r=0;r<t.length;r++){const s=t[r],l=A0(e,s);o.push({target:s,rating:l}),l>o[i].rating&&(i=r)}const n=o[i];return{ratings:o,bestMatch:n,bestMatchIndex:i}}function B6(e,t){return!(typeof e!="string"||!Array.isArray(t)||!t.length||t.find(function(o){return typeof o!="string"}))}const $6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAC+lBMVEUAAAAAAAAAAABxcXEAAACZmZl5eXk6OjpQUFBLS0unp6cnJycLCwsBAQECAgItLS05OTlOTk5JSUk3NzdgYGBhYWFNTU10dHR/f3+oqKgSEhIyMjIAAAAWFhYQEBAhISEWFhYQEBAcHBwxMTFCQkIBAQEzMzM0NDRJSUkqKio8PDwODg49PT1HR0cAAABBQUFCQkIEBAQHBwdlZWU6OjpXV1dgYGAAAAB8fHwwMDCLi4tFRUU7OzsjIyMEBAQAAAAbGxsfHx8NDQ0CAgIQEBBfX18CAgIpKSkoKCgQEBA1NTUvLy9bW1spKSk4ODgdHR0FBQUtLS0nJycYGBgzMzNAQEAtLS0iIiJWVlYeHh41NTUqKiomJiZNTU0tLS1CQkIcHBxTU1NFRUUxMTExMTEmJiYNDQ0tLS1VVVUxMTFPT08dHR1CQkI3NzcfHx8WFhYjIyNSUlIdHR1bW1tFRUVoaGgvLy8AAAAdHR0AAABbW1tKSkoqKipRUVFcXFwaGhouLi5zc3M9PT1ra2tcXFwYGBhzc3MuLi5NTU0JCQlSUlI2NjYgICBxcXFaWloQEBA8PDw5OTmLi4sHBwcZGRkNDQ1gYGAlJSUuLi4QEBA9PT0bGxsAAAAsLCwgICAyMjInJycTExMGBgYKCgoWFhYgICA+Pj42NjZNTU0UFBQiIiI5OTkEBARRUVFJSUkPDw9aWlotLS04ODgUFBRBQUElJSUnJyc7OzsiIiIpKSlHR0dFRUUREREmJiYaGhocHBxTU1M4ODhAQEAdHR1LS0tWVlYyMjIDAwNAQEBPT09CQkI9PT1YWFgsLCwNDQ1ra2tEREQ1NTV9fX1lZWVMTEwAAAAjIyNLS0sNDQ19fX1NTU0ZGRkkJCQ3NzcZGRlCQkJDQ0NOTk4SEhJeXl4BAQEtLS1DQ0M6Ojp3d3ePj49OTk5paWlxcXFkZGQWFhaVlZVzc3MAAABzc3MVFRVQUFAAAAADAwMHBwceHh4kJCQgICAPDw8vLy8oKCh/JHwQAAAA9XRSTlMALoADyQwGkSgRBwb++vXn5bWMZR8bDg0IBf79/fz59evl4NzZ2Na1n5SAgHx7dm5nVk9NTUA+PiwlFhb++/r49/b08vDv6Ofj4uDf3dzZ2dnV1NPRzcjHxsLAwMC/vbmxrKqpop+enZGGgoKAgICAfHp1dGtnZmZhXFhXVVRSUlFMSUhEQT09PDk2Ly4rKyQgHREJ/Pn49vX08fHw6+vq6enp5uPh3tza19bU1NHR0c/LxcG+urm3t7Wwr62lpaKgoJ6Zl5aTkpGPiYmHhoB/fHtycnBuaGZmYVxaV1ZWVU1KSkhGQ0A4NjQ0JyMjIB8fHRUVCt1yxO0AAAQcSURBVGje7dljsNxQGAbgr9ji3tq2bdu2bdu2bdu2bdu2rXfrmbb7Je3OtCfJnrP509nnx/2T95t3JslJcvaSj4+Pz//udd/06Z+SfYZfCJoDLPq+8M/I+7I3KxwC7qIVSRbcuxWRdhbA3+I0DOLFjmN58G+FkgXyUsXb5RCrPNIrHXdywEjOoaQunfv1zpswQd2ASRIkzIk/Qqq39M4NXaz9dyMQi9Cr/kTo8mdW7OgfE5rPLblB97LJF2hmDFbqGJsQmsRZ/zo4qjo0M5VWTG39vB+lf0kBzQaFjo5gudMJApc+csCZQb6ktPYESSdMXInBkWnSa78LWH2DZb0NrK1kR5RiPF/SKDQ+HofKSpYMA3tomOoGllGuJKn2dDJOBUrAsaRSHYEW8PQ1k1xqjiWSeh4H48WeK7JJzu+TKxfCX6YkI1xqmwYTc7CjTEkLnm1pGgzHwVMyJQF5Nr1pMC0HmyuUBDAN3uJgFVtLunNwla0lPTi4UqHkvtVrElTh7kpmGkzJwYAyJQN4drtpcBcH2yus+Fimb4rJ/N6KLFMSNS4P9zPJ3YRL8UAkozFP1zKJbeZYQ5LyCOyxYSoTmORbPnJoHq9gFPIvxaHZJKkd2BGDTDOwFCSrDFxCPRAmbofkSPRI0iUpobUMFL3gv4OlIXk1wHL1pH+5/gVsLSkYPQWapBH/OphtDzSx+aCs7iGhKdI7Crn70CcONKHukZquMaBbGDSL/oiJEjxcUei+nidVXeGmZI0DqVKlSlK1uBN/nCZ1XT7BSIwM5A2Z4kGsdEbyikGNIFZziDcqsqwzPl3RtmRSrcjWIBTMfN7tr9TRswysCN1BoaMp3H1MVCdc505pOqUJ3zlcnUROuAsqW/FmI/6IvemMg9w5UlSfij9GynWMCY3fZh381049eMo40KWV6sgaF7roHSILQpFuFADr8Wvb5O8fyLMPonjQJYlgdPuddGXCjCMaV82JOZnJOr9F0KzoZxINXxQoP4Ao6vpf8Xxjre8Xd0BT6r15+tzVX39HfPTwQ/KEE6yBg6wKwBOtLF/0WGCHyboAHm64loHVJM9LWluMpwZbHdG+kuzfOD4hGEmUJLeWbsNp52WyryRKbE5X8HAvMEIriRrVz8/h8DMOt+XwR4sna9DWwGwpz80vVy5+/DBh4lcaaLQOy3K4kcULOB0C+QeT0CiwYVZfOULVSOgQJyqSNXUhNI+EynMivOU9jFBiEomYh+/fdxZLIhWGQKFXJNLf+tliL9o0rlcv7E9LeDJMlTUlChacVCLoaBJqxdHj5LEA1n+Y2MvRzLaWzOXdwBBbS/gTJZ/D1pIm2q8QtpaMrwqgWBb7Slifi6mDkEqJnYbzf9jOkp2CLMZPeZ+TrcZUAuL2Irs96Us+Pj7yfgCbknGGI9ttswAAAABJRU5ErkJggg==",U6=["Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"],q6={components:{IconoPersonaAutonomo:Zi,Loading:yt},name:"VentanaBloqueHorario",props:{esteBloque:Object,miColor:String},apollo:{participantesCasaMaestraVida:{query:Pe`
        query {
          participantesCasaMaestraVida {
            id
            nombres
            apellidos
          }
        }
      `}},data(){return{participantesCasaMaestraVida:[],idPersonaSeleccionado:null,idPersonaMenuCx:null,mostrandoBuscadorAsistentes:!1,textoBusqueda:"",versionBusqueda:0,addingAsistente:!1,opcionesAsistentes:[{textoVisible:"Remover",evento:"remover"}],diasSemana:U6}},computed:{idsAsistentes(){return this.esteBloque.idsParticipantesConstantes},personasAdicionables(){return this.participantesCasaMaestraVida.filter(e=>!this.esteBloque.idsParticipantesConstantes.includes(e.id))},idsPersonasAdicionables(){return this.personasAdicionables.map(e=>e.id)},personasAdicionablesOrdenadas(){var e=this.versionBusqueda;if(!this.textoBusqueda||this.textoBusqueda.length<=2)return this.personasAdicionables;var t=this.textoBusqueda;if(console.log("Version "+e),this.versionBusqueda<0){console.log("Error desconocido");return}return[...this.personasAdicionables].sort((o,i)=>Pa.stringSimilarity.compareTwoStrings(i.nombres+i.apellidos,t)-Pa.stringSimilarity.compareTwoStrings(o.nombres+o.apellidos,t))},idsPersonasAdicionablesOrdenadas(){return this.personasAdicionablesOrdenadas.map(e=>e.id)},usuarioAdministrador(){return this.esteBloque.idAdministradorEspacio===this.usuario.id},minutosInicio(){return Math.round(this.esteBloque.millisInicio/6e4)},minutosFinal(){return Math.round(this.esteBloque.millisFinal/6e4)}},methods:{iniciarAdicionAsistente(){this.mostrandoBuscadorAsistentes=!0},setTextoBusqueda(){var e=this.$refs.inputTextoBuscador.value;this.textoBusqueda=e,this.versionBusqueda++},addComoAsistente(e){!this.usuarioAdministrador&&!this.usuarioSuperadministrador||(this.addingAsistente=!0,this.$apollo.mutate({mutation:Pe`
            mutation ($idEspacio: ID!, $idIteracion: ID!, $idAsistente: ID!) {
              addAsistenteIteracionSemanalEspacio(
                idEspacio: $idEspacio
                idIteracion: $idIteracion
                idAsistente: $idAsistente
              ) {
                id
                idsParticipantesConstantes
              }
            }
          `,variables:{idEspacio:this.esteBloque.idEspacio,idIteracion:this.esteBloque.id,idAsistente:e}}).then(()=>{this.addingAsistente=!1}).catch(t=>{this.addingAsistente=!1,console.log(`Error ${t}`)}))},removerAsistente(e){!this.usuarioAdministrador&&!this.usuarioSuperadministrador||(this.removingAsistente=!0,this.$apollo.mutate({mutation:Pe`
            mutation ($idEspacio: ID!, $idIteracion: ID!, $idAsistente: ID!) {
              removeAsistenteIteracionSemanalEspacio(
                idEspacio: $idEspacio
                idIteracion: $idIteracion
                idAsistente: $idAsistente
              ) {
                id
                idsParticipantesConstantes
              }
            }
          `,variables:{idEspacio:this.esteBloque.idEspacio,idIteracion:this.esteBloque.id,idAsistente:e}}).then(()=>{this.removingAsistente=!1}).catch(t=>{this.removingAsistente=!1,console.log(`Error ${t}`)}))},toTiempoFormateado(e){var t=Math.floor(e/60);String(t).length<2&&(t="0"+t);var o=String(Math.round(e-t*60));return o.length<2&&(o="0"+o),t+":"+o}}},fc=e=>(it("data-v-cc4f818b"),e=e(),rt(),e),j6={id:"titulo"},V6={id:"infoBasica"},H6={class:"info"},z6={class:"seccionListaUsuarios"},G6=fc(()=>v("div",{class:"barraListaUsuarios"},[v("div",{class:"nombreListaUsuarios"},"Coordina")],-1)),W6={class:"listaPersonas"},Q6={class:"seccionListaUsuarios"},K6={class:"barraListaUsuarios"},J6=fc(()=>v("div",{class:"nombreListaUsuarios"},"Asisten",-1)),Y6={class:"contenedorControles"},X6=fc(()=>v("img",{src:$6,alt:"Agregar",style:{}},null,-1)),Z6=[X6],e$={class:"listaPersonas"},t$={id:"zonaAdicionarAsistente"},o$={class:"zonaInformacion",style:{display:"flex"}},n$={class:"informacion",style:{display:"flex"}},i$={class:"contenedorControles",style:{"margin-left":"auto"}},r$=fc(()=>v("img",{src:$t,alt:"Salir",style:{}},null,-1)),s$=[r$];function a$(e,t,o,i,n,r){const s=Oe("icono-persona-autonomo"),l=Oe("loading");return Y(),re("div",{class:"ventanaBloqueHorario",onClick:t[4]||(t[4]=a=>n.idPersonaMenuCx=null)},[v("div",{id:"fondoGris",onClick:t[0]||(t[0]=Ie(a=>e.$emit("cerrarme"),["self","stop"]))}),v("div",{id:"laPropiaVentana",style:Ve([{backgroundColor:o.miColor}])},[v("div",j6,Ae(o.esteBloque.nombreEspacio),1),v("div",V6,[v("div",H6,Ae(n.diasSemana[o.esteBloque.diaSemana])+". "+Ae(r.toTiempoFormateado(r.minutosInicio))+" - "+Ae(r.toTiempoFormateado(r.minutosFinal)),1)]),v("div",z6,[G6,v("div",W6,[Te(s,{idPersona:o.esteBloque.idAdministradorEspacio},null,8,["idPersona"])])]),v("div",Q6,[v("div",K6,[J6,v("div",Y6,[e.usuarioSuperadministrador||r.usuarioAdministrador?(Y(),re("div",{key:0,class:"boton",onClick:t[1]||(t[1]=(...a)=>r.iniciarAdicionAsistente&&r.iniciarAdicionAsistente(...a))},Z6)):Ee("",!0)])]),Q(v("div",e$,[(Y(!0),re(He,null,Ze(r.idsAsistentes,a=>(Y(),Qe(s,{key:a,idPersona:a,seleccionado:a===n.idPersonaSeleccionado,opcionesMenuCx:n.opcionesAsistentes,menuContextual:n.idPersonaMenuCx===a,onClick:Ie(c=>n.idPersonaSeleccionado=n.idPersonaSeleccionado===a?null:a,["stop"]),onContextmenu:Ie(c=>n.idPersonaMenuCx=a,["right","stop","prevent"]),onRemover:c=>r.removerAsistente(a)},null,8,["idPersona","seleccionado","opcionesMenuCx","menuContextual","onClick","onContextmenu","onRemover"]))),128))],512),[[Z,!n.mostrandoBuscadorAsistentes]]),Q(v("div",t$,[v("div",o$,[v("div",n$,[Q(Te(l,null,null,512),[[Z,e.$apollo.queries.participantesCasaMaestraVida.loading]]),Ke(" Adicionando asistentes ")]),v("div",i$,[v("div",{class:"boton",onClick:t[2]||(t[2]=a=>n.mostrandoBuscadorAsistentes=!1)},s$)])]),v("div",{id:"zonaInputBuscador",class:we({deshabilitado:e.$apollo.queries.participantesCasaMaestraVida.loading}),style:{width:"100%"}},[v("input",{type:"text",ref:"inputTextoBuscador",id:"inputTextoBuscador",placeholder:"buscar",onKeypress:t[3]||(t[3]=St((...a)=>r.setTextoBusqueda&&r.setTextoBusqueda(...a),["enter"]))},null,544)],2),v("div",{class:we(["listaPersonas",{deshabilitado:n.addingAsistente||e.$apollo.queries.participantesCasaMaestraVida.loading}])},[(Y(!0),re(He,null,Ze(r.idsPersonasAdicionablesOrdenadas,a=>(Y(),Qe(s,{key:a,idPersona:a,seleccionado:a===n.idPersonaSeleccionado,onClick:Ie(c=>n.idPersonaSeleccionado=n.idPersonaSeleccionado===a?null:a,["stop"]),onDblclick:Ie(c=>r.addComoAsistente(a),["stop"])},null,8,["idPersona","seleccionado","onClick","onDblclick"]))),128))],2)],512),[[Z,n.mostrandoBuscadorAsistentes]])])],4)])}const c$=Ge(q6,[["render",a$],["__scopeId","data-v-cc4f818b"]]),pc="/caracol/assets/cog-a1bf6849.svg",xr=Fe`
  query ($idsAdministradores: [ID]!) {
    iteracionesSemanalesEspaciosByAdministradores(
      idsAdministradores: $idsAdministradores
    ) {
      ...fragBloqueHorario
    }
  }
  ${hh}
`,l$={components:{DiaOrganizadorHorario:M6,VentanaBloqueHorario:c$},props:{yo:Object},name:"OrganizadorHorarioSemanal",apollo:{espacios:{query:Fe`
        query ($idsUsuarios: [ID]!) {
          espaciosByUsuariosAdmin(idsUsuarios: $idsUsuarios) {
            ...fragEspacio
          }
        }
        ${hc}
      `,variables(){return{idsUsuarios:[this.usuario.id]}},update({espaciosByUsuariosAdmin:e}){const t=e.find(o=>o.idAdministrador===this.usuario.id);return t&&(this.idEspacioCrear=t.id),e},skip(){var e;return!((e=this.usuario)!=null&&e.id)}},usuariosProfe:{query:Fe`
        query {
          usuariosProfe {
            id
            nombres
          }
        }
      `},bloquesHorario:{query:xr,variables(){return{idsAdministradores:this.idsUsuariosSeleccionados}},skip(){return!this.idsUsuariosSeleccionados||this.idsUsuariosSeleccionados.length<1},update({iteracionesSemanalesEspaciosByAdministradores:e}){return e}},bloquesHorarioUsuarioAsiste:{query:Fe`
        query {
          bloquesHorarioUsuarioAsiste {
            ...fragBloqueHorario
          }
        }
        ${hh}
      `,skip(){return!this.configuracionAdministradoresEspacios.includes("yo")}}},data(){const e=localStorage.getItem("configuracionOrganizadorHorarioSemanal");var t={};return e&&(t=JSON.parse(e)),console.log("La configuración es: "),console.table(t),{usuariosProfe:[],espacios:[],bloquesHorarioUsuarioAsiste:[],diasSemana:["Lunes","Martes","Miércoles","Jueves","Viernes"],factorZoom:3,offset:470,idEspacioCrear:null,configuracionAdministradoresEspacios:t.configuracionAdministradoresEspacios||["yo"],mostrandoConfiguracion:!1,mostrarBloquesParaChiquis:t.mostrarBloquesParaChiquis!=null&&t.mostrarBloquesParaChiquis!=null?t.mostrarBloquesParaChiquis:!0,mostrarBloquesParaTodos:t.mostrarBloquesParaTodos!=null&&t.mostrarBloquesParaTodos!=null?t.mostrarBloquesParaTodos:!0,mostrarCantidadAsistentes:t.mostrarCantidadAsistentes!=null&&t.mostrarCantidadAsistentes!=null?t.mostrarCantidadAsistentes:!1,bloquesHorario:[],idBloqueMenuContextual:null,idBloqueSeleccionado:null,idBloqueEnVentana:null}},computed:{todosBloquesDescargados(){return this.bloquesHorario.concat(this.bloquesHorarioUsuarioAsiste)},espaciosCreables(){return this.espacios},bloqueEnVentana(){return this.idBloqueEnVentana?this.todosBloquesDescargados.find(e=>e.id===this.idBloqueEnVentana):null},usuariosSeleccionables(){var e=[...this.usuariosProfe];return!this.usuariosProfe.some(t=>t.id===this.usuario.id)&&this.yo&&e.push({id:this.usuario.id,nombres:this.yo.nombres}),e},idsUsuariosSeleccionados(){var e=[];return this.configuracionAdministradoresEspacios.includes("yo")&&e.push(this.usuario.id),this.configuracionAdministradoresEspacios.includes("profesorxs")&&e.push(...this.usuariosProfe.map(t=>t.id)),e},bloquesActivos(){var e=[...this.bloquesHorario];const t=e.map(i=>i.id);if(this.configuracionAdministradoresEspacios.includes("yo"))for(var o of this.bloquesHorarioUsuarioAsiste)t.includes(o.id)||e.push(o);return this.mostrarBloquesParaChiquis||(e=e.filter(i=>!i.paraChiquis)),this.mostrarBloquesParaTodos||(e=e.filter(i=>i.paraChiquis)),e}},methods:{addBloqueHorarioCache(e){console.log(`Adding to cache un bloque con id ${e.id}`);const t=this.$apollo.provider.defaultClient,o=t.readQuery({query:xr,variables:{idsAdministradores:this.idsUsuariosSeleccionados}});var i=JSON.parse(JSON.stringify(o));i.iteracionesSemanalesEspaciosByAdministradores.findIndex(r=>r.id===e.id)<0?(i.iteracionesSemanalesEspaciosByAdministradores.push(e),t.writeQuery({query:xr,variables:{idsAdministradores:this.idsUsuariosSeleccionados},data:i})):console.log("Iteración semanal ya estaba en caché")},eliminarBloqueHorarioCache(e){console.log(`Removing from cache un bloque con id ${e}`);const t=this.$apollo.provider.defaultClient,o=t.readQuery({query:xr,variables:{idsAdministradores:this.idsUsuariosSeleccionados}});var i=JSON.parse(JSON.stringify(o));const n=i.iteracionesSemanalesEspaciosByAdministradores.findIndex(r=>r.id===e);n>-1?(i.iteracionesSemanalesEspaciosByAdministradores.splice(n,1),t.writeQuery({query:xr,variables:{idsAdministradores:this.idsUsuariosSeleccionados},data:i})):console.log("Iteración semanal no estaba en caché")},abrirVentanaBloque(e){console.log("Abriendo la ventana del bloque con id "+e)},setIdBloqueVentana(e){this.idBloqueEnVentana=e},checkVentanaBloque(){return this.idBloqueEnVentana?(this.idBloqueEnVentana=null,!0):!1},setLocalStorageConfiguracion(){const e={mostrarBloquesParaChiquis:this.mostrarBloquesParaChiquis,mostrarBloquesParaTodos:this.mostrarBloquesParaTodos,configuracionAdministradoresEspacios:this.configuracionAdministradoresEspacios,mostrarCantidadAsistentes:this.mostrarCantidadAsistentes},t=JSON.stringify(e);localStorage.setItem("configuracionOrganizadorHorarioSemanal",t)}},watch:{configuracionAdministradoresEspacios(){this.setLocalStorageConfiguracion()},mostrarBloquesParaChiquis(){this.setLocalStorageConfiguracion()},mostrarBloquesParaTodos(){this.setLocalStorageConfiguracion()},mostrarCantidadAsistentes(){this.setLocalStorageConfiguracion()}}},nr=e=>(it("data-v-cf27f31b"),e=e(),rt(),e),u$={class:"barraComponente"},d$={class:"contenedorControles",style:{"margin-left":"auto"}},h$={class:"boton"},f$={class:"zonaConfiguracion"},p$=nr(()=>v("div",{class:"barraSeccion"},"Configuración.",-1)),m$={class:"contenedorBloquesConfiguracion"},g$={id:"configuracionAdministradoresEspacios",class:"bloqueConfiguracion"},v$={class:"campoConfiguracion"},y$=nr(()=>v("label",{for:"checkAdministradorYo"},"Mostrar mis bloques",-1)),b$={class:"campoConfiguracion"},w$=nr(()=>v("label",{for:"checkAdministradorYo"},"Mostrar bloques de profes",-1)),E$={class:"bloqueConfiguracion"},_$={class:"campoConfiguracion"},S$=nr(()=>v("label",{for:"checkMostrarBloquesNiñosPequeños"},"Mostrar bloques dirigidos a niñxs pequeñxs",-1)),N$={class:"campoConfiguracion"},C$=nr(()=>v("label",{for:"checkMostrarBloquesTodos"},"Mostrar bloques dirigidos a todxs",-1)),A$={class:"bloqueConfiguracion"},x$={class:"campoConfiguracion"},T$=nr(()=>v("label",{for:"checkMostrarCantidadAsistentes"},"Mostrar cantidad de asistentes de cada bloque",-1)),I$={class:"nombreProfe"},D$=["value"],P$={id:"contenedorDias"};function k$(e,t,o,i,n,r){const s=Oe("ventana-bloque-horario"),l=Oe("dia-organizador-horario");return Y(),re("div",{class:"organizadorHorarioSemanal",onClick:t[10]||(t[10]=Ie(a=>n.idBloqueMenuContextual=null,["left","exact"]))},[r.bloqueEnVentana?(Y(),Qe(s,{key:0,esteBloque:r.bloqueEnVentana,onCerrarme:t[0]||(t[0]=a=>n.idBloqueEnVentana=null)},null,8,["esteBloque"])):Ee("",!0),v("div",u$,[Ke(" Organizador de horario "),v("div",d$,[v("div",h$,[v("img",{src:pc,onClick:t[1]||(t[1]=Ie(a=>n.mostrandoConfiguracion=!n.mostrandoConfiguracion,["stop"])),alt:"configrurar",style:{}})])])]),Q(v("div",f$,[p$,v("div",m$,[v("div",g$,[v("div",v$,[y$,Q(v("input",{type:"checkbox",name:"checkAdministradorYo","onUpdate:modelValue":t[2]||(t[2]=a=>n.configuracionAdministradoresEspacios=a),value:"yo",id:""},null,512),[[yn,n.configuracionAdministradoresEspacios]])]),v("div",b$,[w$,Q(v("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=a=>n.configuracionAdministradoresEspacios=a),value:"profesorxs",id:""},null,512),[[yn,n.configuracionAdministradoresEspacios]])])]),v("div",E$,[v("div",_$,[S$,Q(v("input",{type:"checkbox",name:"checkMostrarBloquesNiñosPequeños",ref:"checkMostrarBloquesNiñosPequeños",id:"checkMostrarBloquesNiñosPequeños","onUpdate:modelValue":t[4]||(t[4]=a=>n.mostrarBloquesParaChiquis=a)},null,512),[[yn,n.mostrarBloquesParaChiquis]])]),v("div",N$,[C$,Q(v("input",{type:"checkbox",name:"checkMostrarBloquesTodos",ref:"checkMostrarBloquesTodos",id:"checkMostrarBloquesTodos","onUpdate:modelValue":t[5]||(t[5]=a=>n.mostrarBloquesParaTodos=a)},null,512),[[yn,n.mostrarBloquesParaTodos]])])]),v("div",A$,[v("div",x$,[T$,Q(v("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=a=>n.mostrarCantidadAsistentes=a)},null,512),[[yn,n.mostrarCantidadAsistentes]])])])])],512),[[Z,n.mostrandoConfiguracion]]),(Y(!0),re(He,null,Ze(r.usuariosSeleccionables,a=>Q((Y(),re("div",{class:"zonaCheckAdministradorEspacios",key:a.id},[v("div",I$,Ae(a.nombres),1),Q(v("input",{type:"checkbox",value:a.id,ref_for:!0,ref:"checkProfe",id:"checkProfe","onUpdate:modelValue":t[7]||(t[7]=c=>r.idsUsuariosSeleccionados=c)},null,8,D$),[[yn,r.idsUsuariosSeleccionados]])])),[[Z,!1]])),128)),v("div",P$,[(Y(!0),re(He,null,Ze(n.diasSemana,(a,c)=>(Y(),Qe(l,{key:a,nombreDia:a,numeroDia:c,factorZoom:n.factorZoom,offset:n.offset,idEspacioCrear:n.idEspacioCrear,bloquesHorario:r.bloquesActivos.filter(u=>u.diaSemana===c),idBloqueMenuContextual:n.idBloqueMenuContextual,idBloqueSeleccionado:n.idBloqueSeleccionado,mostrarCantidadAsistentes:n.mostrarCantidadAsistentes,onBloqueSeleccionado:t[8]||(t[8]=u=>n.idBloqueSeleccionado=n.idBloqueSeleccionado===u?null:u),onBloqueHorarioCreado:r.addBloqueHorarioCache,onMenuContextualBloque:t[9]||(t[9]=u=>n.idBloqueMenuContextual=u),onBloqueEliminado:r.eliminarBloqueHorarioCache,onExpandirBloque:r.setIdBloqueVentana},null,8,["nombreDia","numeroDia","factorZoom","offset","idEspacioCrear","bloquesHorario","idBloqueMenuContextual","idBloqueSeleccionado","mostrarCantidadAsistentes","onBloqueHorarioCreado","onBloqueEliminado","onExpandirBloque"]))),128))])])}const x0=Ge(l$,[["render",k$],["__scopeId","data-v-cf27f31b"]]),Es="/caracol/assets/info-75a47447.svg",T0="/caracol/assets/key-116c2c00.svg",fh="/caracol/assets/calendar-502cbab1.svg",O$="/caracol/assets/envelope-8b028cd2.svg",R$="/caracol/assets/whatsapp-679f515c.svg",L$={components:{Loading:yt,Calendario:dh,OrganizadorHorarioSemanal:x0},name:"PerfilPersonal",apollo:{esteUsuario:{query:Pe`
        query {
          yo {
            nombres
              finSubscripcion
            apellidos
            username
            email
            numeroTel
          }
        }
      `,update({yo:e}){return e}}},data(){return{seccion:"informacionPersonal",esteUsuario:{permisos:[],id:null},inputCurrentPass:null,newPass:null,newPass2:null,enviandoCambioPass:!1,textoResultadoCambioPass:null,mostrandoOpcionesCrearSubNodo:!1,creandoSubNodo:!1,versionFoto:0}},computed:{inputCurrentPassIlegal(){return!this.inputCurrentPass||this.inputCurrentPass.length<Rg},newPassIlegal(){return!!(!this.newPass||this.newPass.length<Rg||this.newPass.length>XB||YB.test(this.newPass))},newPass2Ilegal(){return!this.newPass2||!this.newPass||this.newPass!=this.newPass2}},methods:{enviarCambioPass(){this.newPassIlegal||this.newPass2Ilegal||(this.textoResultadoCambioPass=null,this.newPass!==this.inputCurrentPass&&(this.enviandoCambioPass=!0,this.$apollo.mutate({mutation:Pe`
            mutation ($dizqueCurrentPassword: String!, $newPassword: String!) {
              cambiarPassword(
                dizqueCurrentPassword: $dizqueCurrentPassword
                newPassword: $newPassword
              )
            }
          `,variables:{dizqueCurrentPassword:this.inputCurrentPass,newPassword:this.newPass}}).then(({data:{cambiarPassword:e}})=>{e&&alert("Contraseña cambiada"),this.enviandoCambioPass=!1,this.inputCurrentPass=null,this.newPass=null,this.newPass2=null}).catch(e=>{console.log(`Error cambiando pass: ${e}`),this.enviandoCambioPass=!1,this.textoResultadoCambioPass="Error"})))},uploadNuevaFoto(e){console.log("Uploading foto");const t=e.target;var o=new FormData;const i=t.files[0];o.append("nuevaFoto",i),this.subiendoNuevaFoto=!0,ih({method:"post",url:this.serverUrl+"/api/usuarios/updateFoto",data:o,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.usuario.token}}).then(({data:{resultado:n}})=>{this.subiendoNuevaFoto=!1,n&&(console.log("Foto actualizada"),this.versionFoto++)}).catch(n=>{this.subiendoNuevaFoto=!1,console.log(`Error subiendo archivo. E: ${n}`)})}}},li=e=>(it("data-v-16147347"),e=e(),rt(),e),M$={key:0,class:"perfilPersonal"},F$={id:"zonaSelectores",class:"contenedorControles"},B$=li(()=>v("img",{src:Es,alt:"Informacion"},null,-1)),$$=[B$],U$=li(()=>v("img",{src:T0,alt:"Pass"},null,-1)),q$=[U$],j$=li(()=>v("img",{src:fh,alt:"Calendario"},null,-1)),V$=[j$],H$={key:0,id:"contenido"},z$={key:0,id:"infoSubscripcion"},G$={id:"zonaInformacionPersonal"},W$=["src"],Q$={id:"zonaCamposEditablesInformacionPersonal"},K$={class:"informacionPersonal",id:"nombres",style:{"align-self":"center"}},J$={class:"informacionPersonal",id:"apellidos",style:{"align-self":"center"}},Y$={class:"informacionPersonal",id:"email"},X$=li(()=>v("img",{src:O$,alt:"Mail",class:"iconoInformacionPersonal",title:"Correo electrónico"},null,-1)),Z$=li(()=>v("img",{src:R$,alt:"Mail",class:"iconoInformacionPersonal",title:"Añdir un número móvil"},null,-1)),e3={id:"zonaCambiarPass"},t3=li(()=>v("div",{class:"tituloSeccion"},"Cambio de contraseña",-1)),o3={id:"instruccionesNuevoPass"},n3=["disabled"],i3=li(()=>v("span",null," Enviar",-1)),r3={id:"textoResultadoCambioPass"},s3={key:1,id:"zonaCalendario"},a3={key:2,id:"zonaOrganizadorSemanal"};function c3(e,t,o,i,n,r){var u;const s=Oe("loading"),l=Oe("calendario"),a=Oe("organizador-horario-semanal"),c=Oe("router-view");return e.usuarioLogeado?(Y(),re("div",M$,[Q(Te(s,{texto:"Cargando"},null,512),[[Z,e.$apollo.queries.esteUsuario.loading]]),v("div",F$,[v("div",{class:"boton",title:"Información personal",onClick:t[0]||(t[0]=h=>n.seccion="informacionPersonal")},$$),v("div",{class:"boton",title:"Cambiar contraseña",onClick:t[1]||(t[1]=h=>n.seccion="cambiarPass")},q$),v("div",{class:"boton",title:"Mi calendario",onClick:t[2]||(t[2]=h=>n.seccion="calendario")},V$)]),e.$apollo.queries.esteUsuario.loading?Ee("",!0):(Y(),re("div",H$,[(u=n.esteUsuario)!=null&&u.finSubscripcion?(Y(),re("div",z$," Subscripción activa hasta "+Ae(e.enrichedToReadableDate(n.esteUsuario.finSubscripcion)),1)):Ee("",!0),Q(v("div",G$,[v("div",{id:"fotografia",onClick:t[4]||(t[4]=h=>e.$refs.inputFotoUsuario.click())},[v("img",{src:e.serverUrl+"/api/usuarios/fotografias/"+e.usuario.id+"?v="+n.versionFoto,alt:"Fotografía"},null,8,W$),Q(v("input",{type:"file",ref:"inputFotoUsuario",onChange:t[3]||(t[3]=(...h)=>r.uploadNuevaFoto&&r.uploadNuevaFoto(...h))},null,544),[[Z,!1]])]),v("div",Q$,[v("div",K$,Ae(n.esteUsuario.nombres),1),v("div",J$,Ae(n.esteUsuario.apellidos),1),v("div",Y$,[X$,v("span",null,Ae(n.esteUsuario.email),1)]),Z$,(Y(!0),re(He,null,Ze(n.esteUsuario.numerosMovil,h=>(Y(),re("div",{class:"informacionPersonal numeroMovil",key:h.id},[v("span",null,Ae(n.esteUsuario.numeroMovil),1)]))),128))])],512),[[Z,n.seccion==="informacionPersonal"]]),Q(v("div",e3,[t3,Q(v("input",{"onUpdate:modelValue":t[5]||(t[5]=h=>n.inputCurrentPass=h),placeholder:"Contraseña actual",type:"password",id:"inputCurrentPass",class:"inputCambiarPass"},null,512),[[Je,n.inputCurrentPass]]),Q(v("div",o3," La contraseña debe tener al menos 8 caracteres y no contener espacios. ",512),[[Z,r.newPassIlegal&&!r.inputCurrentPassIlegal]]),Q(v("input",{"onUpdate:modelValue":t[6]||(t[6]=h=>n.newPass=h),placeholder:"Nueva contraseña",type:"password",id:"inputNuevoPass",class:we(["inputCambiarPass",{aprobado:!r.newPassIlegal}])},null,2),[[Je,n.newPass],[Z,!r.inputCurrentPassIlegal]]),Q(v("input",{disabled:r.newPassIlegal,"onUpdate:modelValue":t[7]||(t[7]=h=>n.newPass2=h),placeholder:"Nueva contraseña (Otra vez)",type:"password",id:"inputNuevoPass2",class:we(["inputCambiarPass",{aprobado:!r.newPassIlegal&&!r.newPass2Ilegal}]),onKeypress:t[8]||(t[8]=St((...h)=>r.enviarCambioPass&&r.enviarCambioPass(...h),["enter"]))},null,42,n3),[[Je,n.newPass2],[Z,!r.newPassIlegal]]),v("div",{id:"botonEnviarNuevoPass",onClick:t[9]||(t[9]=(...h)=>r.enviarCambioPass&&r.enviarCambioPass(...h)),class:we({deshabilitado:r.newPassIlegal||r.newPass2Ilegal||n.enviandoCambioPass})},[i3,Q(Te(s,{texto:""},null,512),[[Z,n.enviandoCambioPass]])],2),v("div",r3,Ae(n.textoResultadoCambioPass),1)],512),[[Z,n.seccion==="cambiarPass"]]),n.seccion==="calendario"?(Y(),re("div",s3,[e.usuarioLogeado?(Y(),Qe(l,{key:0,enfasis:"eventosPersonales",idUsuarioTarget:this.usuario.id},null,8,["idUsuarioTarget"])):Ee("",!0)])):Ee("",!0),n.seccion==="organizadorSemanal"?(Y(),re("div",a3,[Te(a)])):Ee("",!0)])),Te(c)])):Ee("",!0)}const l3=Ge(L$,[["render",c3],["__scopeId","data-v-16147347"]]);var Fg=/[^ a-zA-ZÀ-ž0-9_():.,-]/g,Bg=/[^ a-zA-ZÀ-žñÑ]/g,u3=/[^0-9+-]/g,d3=/\S+@\S+\.\S+/,h3=/[12][90][0-9][0-9]-[01][0-9]-[0-3][0-9]/,f3=/[^a-zA-Z0-9ñÑ*@_-]/g;const p3=function(e){var t=[];for(let o in e){if(!e[o])return t.push(`Falta ${o}`),t;e[o]=e[o].trim(),o=="nombres"?(e.nombres.length<2&&t.push("Tu nombre es muy corto"),Bg.test(e.nombres)&&t.push("Tu nombre contiene caracteres no permitidos")):o=="apellidos"?(e.apellidos.length<2&&t.push("Tu apellido es muy corto"),Bg.test(e.apellidos)&&t.push("Tu apellido contiene caracteres no permitidos")):o=="fechaNacimiento"?h3.test(e.fechaNacimiento)||t.push("Tu fecha de nacimiento es incorrecta"):o=="email"?e.email.length>0&&!d3.test(e.email)&&t.push("Tu e-mail no es válido"):o=="numeroTel"?u3.test(e.numeroTel)&&t.push("Tu número telefónico no es válido"):o=="lugarResidencia"?(e.lugarResidencia.length<2&&t.push("Tu lugar de residencia es muy corto"),Fg.test(e.lugarResidencia)&&t.push("Tu lugar de residencia contiene caracteres no permitidos")):o=="username"?(e.username.length<4&&t.push("Tu nombre de usuario es muy corto"),Fg.test(e.username)&&t.push("Tu nombre de usuario contiene caracteres no permitidos")):o=="password"?((e.password.length<6||e.password.length>32)&&t.push("Tu contraseña debe contener entre 6 y 32 caracteres"),f3.test(e.password)&&t.push("Tu password contiene caracteres no permitidos")):t.push(`El dato ${o} no tenía lógica de validación. Informa al administrador del sistema por favor`)}return t},m3={name:"Registro",data(){return{datosRegistro:{nombres:null,apellidos:null,fechaNacimiento:null,email:null,numeroTel:null,lugarResidencia:null,username:null,password:null},camposObligatorios:["nombres","apellidos","username","password"]}},methods:{enviarRegistro(){let e=new Object;this.datosRegistro.username||(this.datosRegistro.username=this.datosRegistro.nombres.split(" ")[0]+this.datosRegistro.apellidos.split(" ")[0]),this.datosRegistro.password||(this.datosRegistro.password=this.datosRegistro.nombres.split(" ")[0]+this.datosRegistro.apellidos.split(" ")[0]);for(let i in this.datosRegistro)this.datosRegistro[i]?e[i]=this.datosRegistro[i]:console.log(`campo ${i} vacio`);this.camposObligatorios.forEach(i=>{if(!e[i]){console.log(`Faltaba el campo ${i}`);return}});let t=this,o=p3(e);o.length<1?ih.post(this.serverUrl+"/api/usuarios/registro",{usuario:e}).then(function(i){console.log(`respuesta: ${JSON.stringify(i.data)}`),i.data.registro&&alert("Registro ok"),t.vaciarCampos()}).catch(function(i){console.log(`error: ${i}`)}):console.log(`Errores: ${o}`)},vaciarCampos(){console.log("Vaciando campos"),this.datosRegistro={nombres:null,apellidos:null,fechaNacimiento:null,email:null,numeroTel:null,lugarResidencia:null,username:null,password:null}},alertar(e){console.log(e)}}},Lt=e=>(it("data-v-daad3872"),e=e(),rt(),e),g3={class:"registro"},v3={id:"zonaDatosPersonales"},y3=Lt(()=>v("h3",null,"Información Personal",-1)),b3=Lt(()=>v("br",null,null,-1)),w3=Lt(()=>v("br",null,null,-1)),E3=Lt(()=>v("br",null,null,-1)),_3=Lt(()=>v("label",{for:"fechaNacimiento"},"Fecha de nacimiento",-1)),S3=Lt(()=>v("br",null,null,-1)),N3=Lt(()=>v("br",null,null,-1)),C3={id:"zonaContacto"},A3=Lt(()=>v("h3",null,"Datos de contacto",-1)),x3=Lt(()=>v("br",null,null,-1)),T3=Lt(()=>v("br",null,null,-1)),I3=Lt(()=>v("label",{for:"numeroTel"},"Número telefónico",-1)),D3=Lt(()=>v("br",null,null,-1)),P3=Lt(()=>v("br",null,null,-1)),k3=Lt(()=>v("br",null,null,-1)),O3=Lt(()=>v("label",{for:"lugarResidencia"},"Lugar de residencia",-1)),R3=Lt(()=>v("br",null,null,-1)),L3={id:"zonaLogin"},M3=Lt(()=>v("h3",null,"Datos de login",-1)),F3=Lt(()=>v("br",null,null,-1)),B3=Lt(()=>v("br",null,null,-1));function $3(e,t,o,i,n,r){return Y(),re("div",g3,[v("form",null,[v("div",v3,[y3,Q(v("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>n.datosRegistro.nombres=s),type:"text",name:"nombres",placeholder:"Nombres"},null,512),[[Je,n.datosRegistro.nombres]]),b3,Q(v("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>n.datosRegistro.apellidos=s),type:"text",name:"apellidos",placeholder:"Apellidos"},null,512),[[Je,n.datosRegistro.apellidos]]),w3,E3,_3,S3,Q(v("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>n.datosRegistro.fechaNacimiento=s),type:"date",name:"fechaNacimiento"},null,512),[[Je,n.datosRegistro.fechaNacimiento]]),N3]),v("div",C3,[A3,Q(v("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>n.datosRegistro.email=s),type:"email",placeholder:"Correo electrónico"},null,512),[[Je,n.datosRegistro.email]]),x3,T3,I3,D3,Q(v("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>n.datosRegistro.numeroTel=s),type:"text",name:"numeroTel"},null,512),[[Je,n.datosRegistro.numeroTel]]),P3,k3,O3,R3,Q(v("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>n.datosRegistro.lugarResidencia=s),type:"text",placeholder:"Lugar de residencia"},null,512),[[Je,n.datosRegistro.lugarResidencia]])]),v("div",L3,[M3,Q(v("input",{type:"text",placeholder:"nombre de usuario",name:"username","onUpdate:modelValue":t[6]||(t[6]=s=>n.datosRegistro.username=s)},null,512),[[Je,n.datosRegistro.username]]),F3,Q(v("input",{type:"password",placeholder:"password",name:"password","onUpdate:modelValue":t[7]||(t[7]=s=>n.datosRegistro.password=s)},null,512),[[Je,n.datosRegistro.password]]),B3]),v("button",{onClick:t[8]||(t[8]=Ie((...s)=>r.enviarRegistro&&r.enviarRegistro(...s),["prevent"]))},"Enviar")])])}const U3=Ge(m3,[["render",$3],["__scopeId","data-v-daad3872"]]),q3=864e5,j3={name:"BloqueSubscripcion",components:{Loading:yt},props:{esteBloque:Object,seleccionado:Boolean,idPersona:String},data(){return{eliminandose:!1}},computed:{dateFinal(){return new Date(new Date(this.esteBloque.dateInicio).getTime()+this.esteBloque.duracion*q3*30)}},methods:{eliminarse(){if(!this.usuarioSuperadministrador){console.log("No autorizado");return}confirm("¿Confirmar la eliminación del bloque de subscripción? (Esta acción no puede deshacerse)")&&(this.eliminandose=!0,this.$apollo.mutate({mutation:Fe`
                mutation($idUsuario: ID!, $idBloque: ID!){
                    eliminarBloqueSubscripcionUsuario(idUsuario: $idUsuario, idBloque: $idBloque)
                }
                `,variables:{idUsuario:this.idPersona,idBloque:this.esteBloque.id}}).then(()=>{console.log("Bloque eliminado"),this.eliminandose=!1;const e=this.$apollo.provider.defaultClient,t=e.readQuery({query:qr,variables:{idUsuario:this.idPersona}});let o=JSON.parse(JSON.stringify(t)),i=o.Usuario.bloquesSubscripcion,n=i.findIndex(r=>r.id===this.esteBloque.id);n>-1?(i.splice(n,1),e.writeQuery({query:qr,variables:{idUsuario:this.idPersona},data:o})):console.log("El bloque no estaba en caché")}).catch(e=>{console.log("Error: "+e),this.eliminandose=!1}))}}},V3=e=>(it("data-v-27cd5fba"),e=e(),rt(),e),H3={class:"barraSuperior"},z3={id:"duracion"},G3={id:"valorPagado"},W3=V3(()=>v("img",{src:$t,alt:"X"},null,-1)),Q3=[W3];function K3(e,t,o,i,n,r){const s=Oe("loading");return Y(),re("div",{class:we(["bloqueSubscripcion",{deshabilitado:n.eliminandose}])},[v("div",H3,[v("div",z3,Ae(o.esteBloque.duracion),1),v("div",G3,Ae(o.esteBloque.valorPagado),1),Ke(" "+Ae(e.toReadableDate(o.esteBloque.dateInicio))+" - "+Ae(e.toReadableDate(r.dateFinal))+" ",1),Q(Te(s,{style:{"margin-left":"auto"}},null,512),[[Z,n.eliminandose]]),Q(v("div",{class:"boton",style:{"margin-left":"auto",height:"20px"},onClick:t[0]||(t[0]=Ie((...l)=>r.eliminarse&&r.eliminarse(...l),["stop"]))},Q3,512),[[Z,!n.eliminandose]])])],2)}const J3=Ge(j3,[["render",K3],["__scopeId","data-v-27cd5fba"]]);var Me={},Y3={get exports(){return Me},set exports(e){Me=e}};/*! For license information please see index.js.LICENSE.txt */(function(e,t){(function(o,i){e.exports=i()})(globalThis,()=>(()=>{var o={9742:(s,l)=>{l.byteLength=function(I){var A=y(I),S=A[0],b=A[1];return 3*(S+b)/4-b},l.toByteArray=function(I){var A,S,b=y(I),w=b[0],T=b[1],k=new u(function(D,P,B){return 3*(P+B)/4-B}(0,w,T)),F=0,j=T>0?w-4:w;for(S=0;S<j;S+=4)A=c[I.charCodeAt(S)]<<18|c[I.charCodeAt(S+1)]<<12|c[I.charCodeAt(S+2)]<<6|c[I.charCodeAt(S+3)],k[F++]=A>>16&255,k[F++]=A>>8&255,k[F++]=255&A;return T===2&&(A=c[I.charCodeAt(S)]<<2|c[I.charCodeAt(S+1)]>>4,k[F++]=255&A),T===1&&(A=c[I.charCodeAt(S)]<<10|c[I.charCodeAt(S+1)]<<4|c[I.charCodeAt(S+2)]>>2,k[F++]=A>>8&255,k[F++]=255&A),k},l.fromByteArray=function(I){for(var A,S=I.length,b=S%3,w=[],T=16383,k=0,F=S-b;k<F;k+=T)w.push(N(I,k,k+T>F?F:k+T));return b===1?(A=I[S-1],w.push(a[A>>2]+a[A<<4&63]+"==")):b===2&&(A=(I[S-2]<<8)+I[S-1],w.push(a[A>>10]+a[A>>4&63]+a[A<<2&63]+"=")),w.join("")};for(var a=[],c=[],u=typeof Uint8Array<"u"?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,g=h.length;p<g;++p)a[p]=h[p],c[h.charCodeAt(p)]=p;function y(I){var A=I.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var S=I.indexOf("=");return S===-1&&(S=A),[S,S===A?0:4-S%4]}function N(I,A,S){for(var b,w,T=[],k=A;k<S;k+=3)b=(I[k]<<16&16711680)+(I[k+1]<<8&65280)+(255&I[k+2]),T.push(a[(w=b)>>18&63]+a[w>>12&63]+a[w>>6&63]+a[63&w]);return T.join("")}c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},8764:(s,l,a)=>{const c=a(9742),u=a(645),h=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;l.Buffer=y,l.SlowBuffer=function(_){return+_!=_&&(_=0),y.alloc(+_)},l.INSPECT_MAX_BYTES=50;const p=2147483647;function g(_){if(_>p)throw new RangeError('The value "'+_+'" is invalid for option "size"');const O=new Uint8Array(_);return Object.setPrototypeOf(O,y.prototype),O}function y(_,O,q){if(typeof _=="number"){if(typeof O=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return A(_)}return N(_,O,q)}function N(_,O,q){if(typeof _=="string")return function(ue,Ne){if(typeof Ne=="string"&&Ne!==""||(Ne="utf8"),!y.isEncoding(Ne))throw new TypeError("Unknown encoding: "+Ne);const je=0|T(ue,Ne);let Ye=g(je);const ht=Ye.write(ue,Ne);return ht!==je&&(Ye=Ye.slice(0,ht)),Ye}(_,O);if(ArrayBuffer.isView(_))return function(ue){if(pe(ue,Uint8Array)){const Ne=new Uint8Array(ue);return b(Ne.buffer,Ne.byteOffset,Ne.byteLength)}return S(ue)}(_);if(_==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _);if(pe(_,ArrayBuffer)||_&&pe(_.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pe(_,SharedArrayBuffer)||_&&pe(_.buffer,SharedArrayBuffer)))return b(_,O,q);if(typeof _=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ne=_.valueOf&&_.valueOf();if(ne!=null&&ne!==_)return y.from(ne,O,q);const ce=function(ue){if(y.isBuffer(ue)){const Ne=0|w(ue.length),je=g(Ne);return je.length===0||ue.copy(je,0,0,Ne),je}return ue.length!==void 0?typeof ue.length!="number"||_e(ue.length)?g(0):S(ue):ue.type==="Buffer"&&Array.isArray(ue.data)?S(ue.data):void 0}(_);if(ce)return ce;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof _[Symbol.toPrimitive]=="function")return y.from(_[Symbol.toPrimitive]("string"),O,q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _)}function I(_){if(typeof _!="number")throw new TypeError('"size" argument must be of type number');if(_<0)throw new RangeError('The value "'+_+'" is invalid for option "size"')}function A(_){return I(_),g(_<0?0:0|w(_))}function S(_){const O=_.length<0?0:0|w(_.length),q=g(O);for(let ne=0;ne<O;ne+=1)q[ne]=255&_[ne];return q}function b(_,O,q){if(O<0||_.byteLength<O)throw new RangeError('"offset" is outside of buffer bounds');if(_.byteLength<O+(q||0))throw new RangeError('"length" is outside of buffer bounds');let ne;return ne=O===void 0&&q===void 0?new Uint8Array(_):q===void 0?new Uint8Array(_,O):new Uint8Array(_,O,q),Object.setPrototypeOf(ne,y.prototype),ne}function w(_){if(_>=p)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return 0|_}function T(_,O){if(y.isBuffer(_))return _.length;if(ArrayBuffer.isView(_)||pe(_,ArrayBuffer))return _.byteLength;if(typeof _!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof _);const q=_.length,ne=arguments.length>2&&arguments[2]===!0;if(!ne&&q===0)return 0;let ce=!1;for(;;)switch(O){case"ascii":case"latin1":case"binary":return q;case"utf8":case"utf-8":return le(_).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*q;case"hex":return q>>>1;case"base64":return fe(_).length;default:if(ce)return ne?-1:le(_).length;O=(""+O).toLowerCase(),ce=!0}}function k(_,O,q){let ne=!1;if((O===void 0||O<0)&&(O=0),O>this.length||((q===void 0||q>this.length)&&(q=this.length),q<=0)||(q>>>=0)<=(O>>>=0))return"";for(_||(_="utf8");;)switch(_){case"hex":return Se(this,O,q);case"utf8":case"utf-8":return ie(this,O,q);case"ascii":return be(this,O,q);case"latin1":case"binary":return me(this,O,q);case"base64":return oe(this,O,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,O,q);default:if(ne)throw new TypeError("Unknown encoding: "+_);_=(_+"").toLowerCase(),ne=!0}}function F(_,O,q){const ne=_[O];_[O]=_[q],_[q]=ne}function j(_,O,q,ne,ce){if(_.length===0)return-1;if(typeof q=="string"?(ne=q,q=0):q>2147483647?q=2147483647:q<-2147483648&&(q=-2147483648),_e(q=+q)&&(q=ce?0:_.length-1),q<0&&(q=_.length+q),q>=_.length){if(ce)return-1;q=_.length-1}else if(q<0){if(!ce)return-1;q=0}if(typeof O=="string"&&(O=y.from(O,ne)),y.isBuffer(O))return O.length===0?-1:D(_,O,q,ne,ce);if(typeof O=="number")return O&=255,typeof Uint8Array.prototype.indexOf=="function"?ce?Uint8Array.prototype.indexOf.call(_,O,q):Uint8Array.prototype.lastIndexOf.call(_,O,q):D(_,[O],q,ne,ce);throw new TypeError("val must be string, number or Buffer")}function D(_,O,q,ne,ce){let ue,Ne=1,je=_.length,Ye=O.length;if(ne!==void 0&&((ne=String(ne).toLowerCase())==="ucs2"||ne==="ucs-2"||ne==="utf16le"||ne==="utf-16le")){if(_.length<2||O.length<2)return-1;Ne=2,je/=2,Ye/=2,q/=2}function ht(ot,et){return Ne===1?ot[et]:ot.readUInt16BE(et*Ne)}if(ce){let ot=-1;for(ue=q;ue<je;ue++)if(ht(_,ue)===ht(O,ot===-1?0:ue-ot)){if(ot===-1&&(ot=ue),ue-ot+1===Ye)return ot*Ne}else ot!==-1&&(ue-=ue-ot),ot=-1}else for(q+Ye>je&&(q=je-Ye),ue=q;ue>=0;ue--){let ot=!0;for(let et=0;et<Ye;et++)if(ht(_,ue+et)!==ht(O,et)){ot=!1;break}if(ot)return ue}return-1}function P(_,O,q,ne){q=Number(q)||0;const ce=_.length-q;ne?(ne=Number(ne))>ce&&(ne=ce):ne=ce;const ue=O.length;let Ne;for(ne>ue/2&&(ne=ue/2),Ne=0;Ne<ne;++Ne){const je=parseInt(O.substr(2*Ne,2),16);if(_e(je))return Ne;_[q+Ne]=je}return Ne}function B(_,O,q,ne){return de(le(O,_.length-q),_,q,ne)}function L(_,O,q,ne){return de(function(ce){const ue=[];for(let Ne=0;Ne<ce.length;++Ne)ue.push(255&ce.charCodeAt(Ne));return ue}(O),_,q,ne)}function G(_,O,q,ne){return de(fe(O),_,q,ne)}function E(_,O,q,ne){return de(function(ce,ue){let Ne,je,Ye;const ht=[];for(let ot=0;ot<ce.length&&!((ue-=2)<0);++ot)Ne=ce.charCodeAt(ot),je=Ne>>8,Ye=Ne%256,ht.push(Ye),ht.push(je);return ht}(O,_.length-q),_,q,ne)}function oe(_,O,q){return O===0&&q===_.length?c.fromByteArray(_):c.fromByteArray(_.slice(O,q))}function ie(_,O,q){q=Math.min(_.length,q);const ne=[];let ce=O;for(;ce<q;){const ue=_[ce];let Ne=null,je=ue>239?4:ue>223?3:ue>191?2:1;if(ce+je<=q){let Ye,ht,ot,et;switch(je){case 1:ue<128&&(Ne=ue);break;case 2:Ye=_[ce+1],(192&Ye)==128&&(et=(31&ue)<<6|63&Ye,et>127&&(Ne=et));break;case 3:Ye=_[ce+1],ht=_[ce+2],(192&Ye)==128&&(192&ht)==128&&(et=(15&ue)<<12|(63&Ye)<<6|63&ht,et>2047&&(et<55296||et>57343)&&(Ne=et));break;case 4:Ye=_[ce+1],ht=_[ce+2],ot=_[ce+3],(192&Ye)==128&&(192&ht)==128&&(192&ot)==128&&(et=(15&ue)<<18|(63&Ye)<<12|(63&ht)<<6|63&ot,et>65535&&et<1114112&&(Ne=et))}}Ne===null?(Ne=65533,je=1):Ne>65535&&(Ne-=65536,ne.push(Ne>>>10&1023|55296),Ne=56320|1023&Ne),ne.push(Ne),ce+=je}return function(ue){const Ne=ue.length;if(Ne<=z)return String.fromCharCode.apply(String,ue);let je="",Ye=0;for(;Ye<Ne;)je+=String.fromCharCode.apply(String,ue.slice(Ye,Ye+=z));return je}(ne)}l.kMaxLength=p,y.TYPED_ARRAY_SUPPORT=function(){try{const _=new Uint8Array(1),O={foo:function(){return 42}};return Object.setPrototypeOf(O,Uint8Array.prototype),Object.setPrototypeOf(_,O),_.foo()===42}catch{return!1}}(),y.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(y.prototype,"parent",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.buffer}}),Object.defineProperty(y.prototype,"offset",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.byteOffset}}),y.poolSize=8192,y.from=function(_,O,q){return N(_,O,q)},Object.setPrototypeOf(y.prototype,Uint8Array.prototype),Object.setPrototypeOf(y,Uint8Array),y.alloc=function(_,O,q){return function(ne,ce,ue){return I(ne),ne<=0?g(ne):ce!==void 0?typeof ue=="string"?g(ne).fill(ce,ue):g(ne).fill(ce):g(ne)}(_,O,q)},y.allocUnsafe=function(_){return A(_)},y.allocUnsafeSlow=function(_){return A(_)},y.isBuffer=function(_){return _!=null&&_._isBuffer===!0&&_!==y.prototype},y.compare=function(_,O){if(pe(_,Uint8Array)&&(_=y.from(_,_.offset,_.byteLength)),pe(O,Uint8Array)&&(O=y.from(O,O.offset,O.byteLength)),!y.isBuffer(_)||!y.isBuffer(O))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===O)return 0;let q=_.length,ne=O.length;for(let ce=0,ue=Math.min(q,ne);ce<ue;++ce)if(_[ce]!==O[ce]){q=_[ce],ne=O[ce];break}return q<ne?-1:ne<q?1:0},y.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.concat=function(_,O){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(_.length===0)return y.alloc(0);let q;if(O===void 0)for(O=0,q=0;q<_.length;++q)O+=_[q].length;const ne=y.allocUnsafe(O);let ce=0;for(q=0;q<_.length;++q){let ue=_[q];if(pe(ue,Uint8Array))ce+ue.length>ne.length?(y.isBuffer(ue)||(ue=y.from(ue)),ue.copy(ne,ce)):Uint8Array.prototype.set.call(ne,ue,ce);else{if(!y.isBuffer(ue))throw new TypeError('"list" argument must be an Array of Buffers');ue.copy(ne,ce)}ce+=ue.length}return ne},y.byteLength=T,y.prototype._isBuffer=!0,y.prototype.swap16=function(){const _=this.length;if(_%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let O=0;O<_;O+=2)F(this,O,O+1);return this},y.prototype.swap32=function(){const _=this.length;if(_%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let O=0;O<_;O+=4)F(this,O,O+3),F(this,O+1,O+2);return this},y.prototype.swap64=function(){const _=this.length;if(_%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let O=0;O<_;O+=8)F(this,O,O+7),F(this,O+1,O+6),F(this,O+2,O+5),F(this,O+3,O+4);return this},y.prototype.toString=function(){const _=this.length;return _===0?"":arguments.length===0?ie(this,0,_):k.apply(this,arguments)},y.prototype.toLocaleString=y.prototype.toString,y.prototype.equals=function(_){if(!y.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_||y.compare(this,_)===0},y.prototype.inspect=function(){let _="";const O=l.INSPECT_MAX_BYTES;return _=this.toString("hex",0,O).replace(/(.{2})/g,"$1 ").trim(),this.length>O&&(_+=" ... "),"<Buffer "+_+">"},h&&(y.prototype[h]=y.prototype.inspect),y.prototype.compare=function(_,O,q,ne,ce){if(pe(_,Uint8Array)&&(_=y.from(_,_.offset,_.byteLength)),!y.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(O===void 0&&(O=0),q===void 0&&(q=_?_.length:0),ne===void 0&&(ne=0),ce===void 0&&(ce=this.length),O<0||q>_.length||ne<0||ce>this.length)throw new RangeError("out of range index");if(ne>=ce&&O>=q)return 0;if(ne>=ce)return-1;if(O>=q)return 1;if(this===_)return 0;let ue=(ce>>>=0)-(ne>>>=0),Ne=(q>>>=0)-(O>>>=0);const je=Math.min(ue,Ne),Ye=this.slice(ne,ce),ht=_.slice(O,q);for(let ot=0;ot<je;++ot)if(Ye[ot]!==ht[ot]){ue=Ye[ot],Ne=ht[ot];break}return ue<Ne?-1:Ne<ue?1:0},y.prototype.includes=function(_,O,q){return this.indexOf(_,O,q)!==-1},y.prototype.indexOf=function(_,O,q){return j(this,_,O,q,!0)},y.prototype.lastIndexOf=function(_,O,q){return j(this,_,O,q,!1)},y.prototype.write=function(_,O,q,ne){if(O===void 0)ne="utf8",q=this.length,O=0;else if(q===void 0&&typeof O=="string")ne=O,q=this.length,O=0;else{if(!isFinite(O))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");O>>>=0,isFinite(q)?(q>>>=0,ne===void 0&&(ne="utf8")):(ne=q,q=void 0)}const ce=this.length-O;if((q===void 0||q>ce)&&(q=ce),_.length>0&&(q<0||O<0)||O>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");let ue=!1;for(;;)switch(ne){case"hex":return P(this,_,O,q);case"utf8":case"utf-8":return B(this,_,O,q);case"ascii":case"latin1":case"binary":return L(this,_,O,q);case"base64":return G(this,_,O,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,_,O,q);default:if(ue)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),ue=!0}},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const z=4096;function be(_,O,q){let ne="";q=Math.min(_.length,q);for(let ce=O;ce<q;++ce)ne+=String.fromCharCode(127&_[ce]);return ne}function me(_,O,q){let ne="";q=Math.min(_.length,q);for(let ce=O;ce<q;++ce)ne+=String.fromCharCode(_[ce]);return ne}function Se(_,O,q){const ne=_.length;(!O||O<0)&&(O=0),(!q||q<0||q>ne)&&(q=ne);let ce="";for(let ue=O;ue<q;++ue)ce+=ge[_[ue]];return ce}function x(_,O,q){const ne=_.slice(O,q);let ce="";for(let ue=0;ue<ne.length-1;ue+=2)ce+=String.fromCharCode(ne[ue]+256*ne[ue+1]);return ce}function U(_,O,q){if(_%1!=0||_<0)throw new RangeError("offset is not uint");if(_+O>q)throw new RangeError("Trying to access beyond buffer length")}function te(_,O,q,ne,ce,ue){if(!y.isBuffer(_))throw new TypeError('"buffer" argument must be a Buffer instance');if(O>ce||O<ue)throw new RangeError('"value" argument is out of bounds');if(q+ne>_.length)throw new RangeError("Index out of range")}function H(_,O,q,ne,ce){m(O,ne,ce,_,q,7);let ue=Number(O&BigInt(4294967295));_[q++]=ue,ue>>=8,_[q++]=ue,ue>>=8,_[q++]=ue,ue>>=8,_[q++]=ue;let Ne=Number(O>>BigInt(32)&BigInt(4294967295));return _[q++]=Ne,Ne>>=8,_[q++]=Ne,Ne>>=8,_[q++]=Ne,Ne>>=8,_[q++]=Ne,q}function K(_,O,q,ne,ce){m(O,ne,ce,_,q,7);let ue=Number(O&BigInt(4294967295));_[q+7]=ue,ue>>=8,_[q+6]=ue,ue>>=8,_[q+5]=ue,ue>>=8,_[q+4]=ue;let Ne=Number(O>>BigInt(32)&BigInt(4294967295));return _[q+3]=Ne,Ne>>=8,_[q+2]=Ne,Ne>>=8,_[q+1]=Ne,Ne>>=8,_[q]=Ne,q+8}function V(_,O,q,ne,ce,ue){if(q+ne>_.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("Index out of range")}function W(_,O,q,ne,ce){return O=+O,q>>>=0,ce||V(_,0,q,4),u.write(_,O,q,ne,23,4),q+4}function ee(_,O,q,ne,ce){return O=+O,q>>>=0,ce||V(_,0,q,8),u.write(_,O,q,ne,52,8),q+8}y.prototype.slice=function(_,O){const q=this.length;(_=~~_)<0?(_+=q)<0&&(_=0):_>q&&(_=q),(O=O===void 0?q:~~O)<0?(O+=q)<0&&(O=0):O>q&&(O=q),O<_&&(O=_);const ne=this.subarray(_,O);return Object.setPrototypeOf(ne,y.prototype),ne},y.prototype.readUintLE=y.prototype.readUIntLE=function(_,O,q){_>>>=0,O>>>=0,q||U(_,O,this.length);let ne=this[_],ce=1,ue=0;for(;++ue<O&&(ce*=256);)ne+=this[_+ue]*ce;return ne},y.prototype.readUintBE=y.prototype.readUIntBE=function(_,O,q){_>>>=0,O>>>=0,q||U(_,O,this.length);let ne=this[_+--O],ce=1;for(;O>0&&(ce*=256);)ne+=this[_+--O]*ce;return ne},y.prototype.readUint8=y.prototype.readUInt8=function(_,O){return _>>>=0,O||U(_,1,this.length),this[_]},y.prototype.readUint16LE=y.prototype.readUInt16LE=function(_,O){return _>>>=0,O||U(_,2,this.length),this[_]|this[_+1]<<8},y.prototype.readUint16BE=y.prototype.readUInt16BE=function(_,O){return _>>>=0,O||U(_,2,this.length),this[_]<<8|this[_+1]},y.prototype.readUint32LE=y.prototype.readUInt32LE=function(_,O){return _>>>=0,O||U(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+16777216*this[_+3]},y.prototype.readUint32BE=y.prototype.readUInt32BE=function(_,O){return _>>>=0,O||U(_,4,this.length),16777216*this[_]+(this[_+1]<<16|this[_+2]<<8|this[_+3])},y.prototype.readBigUInt64LE=De(function(_){C(_>>>=0,"offset");const O=this[_],q=this[_+7];O!==void 0&&q!==void 0||M(_,this.length-8);const ne=O+256*this[++_]+65536*this[++_]+this[++_]*2**24,ce=this[++_]+256*this[++_]+65536*this[++_]+q*2**24;return BigInt(ne)+(BigInt(ce)<<BigInt(32))}),y.prototype.readBigUInt64BE=De(function(_){C(_>>>=0,"offset");const O=this[_],q=this[_+7];O!==void 0&&q!==void 0||M(_,this.length-8);const ne=O*2**24+65536*this[++_]+256*this[++_]+this[++_],ce=this[++_]*2**24+65536*this[++_]+256*this[++_]+q;return(BigInt(ne)<<BigInt(32))+BigInt(ce)}),y.prototype.readIntLE=function(_,O,q){_>>>=0,O>>>=0,q||U(_,O,this.length);let ne=this[_],ce=1,ue=0;for(;++ue<O&&(ce*=256);)ne+=this[_+ue]*ce;return ce*=128,ne>=ce&&(ne-=Math.pow(2,8*O)),ne},y.prototype.readIntBE=function(_,O,q){_>>>=0,O>>>=0,q||U(_,O,this.length);let ne=O,ce=1,ue=this[_+--ne];for(;ne>0&&(ce*=256);)ue+=this[_+--ne]*ce;return ce*=128,ue>=ce&&(ue-=Math.pow(2,8*O)),ue},y.prototype.readInt8=function(_,O){return _>>>=0,O||U(_,1,this.length),128&this[_]?-1*(255-this[_]+1):this[_]},y.prototype.readInt16LE=function(_,O){_>>>=0,O||U(_,2,this.length);const q=this[_]|this[_+1]<<8;return 32768&q?4294901760|q:q},y.prototype.readInt16BE=function(_,O){_>>>=0,O||U(_,2,this.length);const q=this[_+1]|this[_]<<8;return 32768&q?4294901760|q:q},y.prototype.readInt32LE=function(_,O){return _>>>=0,O||U(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},y.prototype.readInt32BE=function(_,O){return _>>>=0,O||U(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},y.prototype.readBigInt64LE=De(function(_){C(_>>>=0,"offset");const O=this[_],q=this[_+7];O!==void 0&&q!==void 0||M(_,this.length-8);const ne=this[_+4]+256*this[_+5]+65536*this[_+6]+(q<<24);return(BigInt(ne)<<BigInt(32))+BigInt(O+256*this[++_]+65536*this[++_]+this[++_]*16777216)}),y.prototype.readBigInt64BE=De(function(_){C(_>>>=0,"offset");const O=this[_],q=this[_+7];O!==void 0&&q!==void 0||M(_,this.length-8);const ne=(O<<24)+65536*this[++_]+256*this[++_]+this[++_];return(BigInt(ne)<<BigInt(32))+BigInt(this[++_]*16777216+65536*this[++_]+256*this[++_]+q)}),y.prototype.readFloatLE=function(_,O){return _>>>=0,O||U(_,4,this.length),u.read(this,_,!0,23,4)},y.prototype.readFloatBE=function(_,O){return _>>>=0,O||U(_,4,this.length),u.read(this,_,!1,23,4)},y.prototype.readDoubleLE=function(_,O){return _>>>=0,O||U(_,8,this.length),u.read(this,_,!0,52,8)},y.prototype.readDoubleBE=function(_,O){return _>>>=0,O||U(_,8,this.length),u.read(this,_,!1,52,8)},y.prototype.writeUintLE=y.prototype.writeUIntLE=function(_,O,q,ne){_=+_,O>>>=0,q>>>=0,ne||te(this,_,O,q,Math.pow(2,8*q)-1,0);let ce=1,ue=0;for(this[O]=255&_;++ue<q&&(ce*=256);)this[O+ue]=_/ce&255;return O+q},y.prototype.writeUintBE=y.prototype.writeUIntBE=function(_,O,q,ne){_=+_,O>>>=0,q>>>=0,ne||te(this,_,O,q,Math.pow(2,8*q)-1,0);let ce=q-1,ue=1;for(this[O+ce]=255&_;--ce>=0&&(ue*=256);)this[O+ce]=_/ue&255;return O+q},y.prototype.writeUint8=y.prototype.writeUInt8=function(_,O,q){return _=+_,O>>>=0,q||te(this,_,O,1,255,0),this[O]=255&_,O+1},y.prototype.writeUint16LE=y.prototype.writeUInt16LE=function(_,O,q){return _=+_,O>>>=0,q||te(this,_,O,2,65535,0),this[O]=255&_,this[O+1]=_>>>8,O+2},y.prototype.writeUint16BE=y.prototype.writeUInt16BE=function(_,O,q){return _=+_,O>>>=0,q||te(this,_,O,2,65535,0),this[O]=_>>>8,this[O+1]=255&_,O+2},y.prototype.writeUint32LE=y.prototype.writeUInt32LE=function(_,O,q){return _=+_,O>>>=0,q||te(this,_,O,4,4294967295,0),this[O+3]=_>>>24,this[O+2]=_>>>16,this[O+1]=_>>>8,this[O]=255&_,O+4},y.prototype.writeUint32BE=y.prototype.writeUInt32BE=function(_,O,q){return _=+_,O>>>=0,q||te(this,_,O,4,4294967295,0),this[O]=_>>>24,this[O+1]=_>>>16,this[O+2]=_>>>8,this[O+3]=255&_,O+4},y.prototype.writeBigUInt64LE=De(function(_,O=0){return H(this,_,O,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeBigUInt64BE=De(function(_,O=0){return K(this,_,O,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeIntLE=function(_,O,q,ne){if(_=+_,O>>>=0,!ne){const je=Math.pow(2,8*q-1);te(this,_,O,q,je-1,-je)}let ce=0,ue=1,Ne=0;for(this[O]=255&_;++ce<q&&(ue*=256);)_<0&&Ne===0&&this[O+ce-1]!==0&&(Ne=1),this[O+ce]=(_/ue>>0)-Ne&255;return O+q},y.prototype.writeIntBE=function(_,O,q,ne){if(_=+_,O>>>=0,!ne){const je=Math.pow(2,8*q-1);te(this,_,O,q,je-1,-je)}let ce=q-1,ue=1,Ne=0;for(this[O+ce]=255&_;--ce>=0&&(ue*=256);)_<0&&Ne===0&&this[O+ce+1]!==0&&(Ne=1),this[O+ce]=(_/ue>>0)-Ne&255;return O+q},y.prototype.writeInt8=function(_,O,q){return _=+_,O>>>=0,q||te(this,_,O,1,127,-128),_<0&&(_=255+_+1),this[O]=255&_,O+1},y.prototype.writeInt16LE=function(_,O,q){return _=+_,O>>>=0,q||te(this,_,O,2,32767,-32768),this[O]=255&_,this[O+1]=_>>>8,O+2},y.prototype.writeInt16BE=function(_,O,q){return _=+_,O>>>=0,q||te(this,_,O,2,32767,-32768),this[O]=_>>>8,this[O+1]=255&_,O+2},y.prototype.writeInt32LE=function(_,O,q){return _=+_,O>>>=0,q||te(this,_,O,4,2147483647,-2147483648),this[O]=255&_,this[O+1]=_>>>8,this[O+2]=_>>>16,this[O+3]=_>>>24,O+4},y.prototype.writeInt32BE=function(_,O,q){return _=+_,O>>>=0,q||te(this,_,O,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[O]=_>>>24,this[O+1]=_>>>16,this[O+2]=_>>>8,this[O+3]=255&_,O+4},y.prototype.writeBigInt64LE=De(function(_,O=0){return H(this,_,O,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),y.prototype.writeBigInt64BE=De(function(_,O=0){return K(this,_,O,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),y.prototype.writeFloatLE=function(_,O,q){return W(this,_,O,!0,q)},y.prototype.writeFloatBE=function(_,O,q){return W(this,_,O,!1,q)},y.prototype.writeDoubleLE=function(_,O,q){return ee(this,_,O,!0,q)},y.prototype.writeDoubleBE=function(_,O,q){return ee(this,_,O,!1,q)},y.prototype.copy=function(_,O,q,ne){if(!y.isBuffer(_))throw new TypeError("argument should be a Buffer");if(q||(q=0),ne||ne===0||(ne=this.length),O>=_.length&&(O=_.length),O||(O=0),ne>0&&ne<q&&(ne=q),ne===q||_.length===0||this.length===0)return 0;if(O<0)throw new RangeError("targetStart out of bounds");if(q<0||q>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),_.length-O<ne-q&&(ne=_.length-O+q);const ce=ne-q;return this===_&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(O,q,ne):Uint8Array.prototype.set.call(_,this.subarray(q,ne),O),ce},y.prototype.fill=function(_,O,q,ne){if(typeof _=="string"){if(typeof O=="string"?(ne=O,O=0,q=this.length):typeof q=="string"&&(ne=q,q=this.length),ne!==void 0&&typeof ne!="string")throw new TypeError("encoding must be a string");if(typeof ne=="string"&&!y.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(_.length===1){const ue=_.charCodeAt(0);(ne==="utf8"&&ue<128||ne==="latin1")&&(_=ue)}}else typeof _=="number"?_&=255:typeof _=="boolean"&&(_=Number(_));if(O<0||this.length<O||this.length<q)throw new RangeError("Out of range index");if(q<=O)return this;let ce;if(O>>>=0,q=q===void 0?this.length:q>>>0,_||(_=0),typeof _=="number")for(ce=O;ce<q;++ce)this[ce]=_;else{const ue=y.isBuffer(_)?_:y.from(_,ne),Ne=ue.length;if(Ne===0)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(ce=0;ce<q-O;++ce)this[ce+O]=ue[ce%Ne]}return this};const se={};function ae(_,O,q){se[_]=class extends q{constructor(){super(),Object.defineProperty(this,"message",{value:O.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${_}]`,this.stack,delete this.name}get code(){return _}set code(ne){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ne,writable:!0})}toString(){return`${this.name} [${_}]: ${this.message}`}}}function $(_){let O="",q=_.length;const ne=_[0]==="-"?1:0;for(;q>=ne+4;q-=3)O=`_${_.slice(q-3,q)}${O}`;return`${_.slice(0,q)}${O}`}function m(_,O,q,ne,ce,ue){if(_>q||_<O){const Ne=typeof O=="bigint"?"n":"";let je;throw je=ue>3?O===0||O===BigInt(0)?`>= 0${Ne} and < 2${Ne} ** ${8*(ue+1)}${Ne}`:`>= -(2${Ne} ** ${8*(ue+1)-1}${Ne}) and < 2 ** ${8*(ue+1)-1}${Ne}`:`>= ${O}${Ne} and <= ${q}${Ne}`,new se.ERR_OUT_OF_RANGE("value",je,_)}(function(Ne,je,Ye){C(je,"offset"),Ne[je]!==void 0&&Ne[je+Ye]!==void 0||M(je,Ne.length-(Ye+1))})(ne,ce,ue)}function C(_,O){if(typeof _!="number")throw new se.ERR_INVALID_ARG_TYPE(O,"number",_)}function M(_,O,q){throw Math.floor(_)!==_?(C(_,q),new se.ERR_OUT_OF_RANGE(q||"offset","an integer",_)):O<0?new se.ERR_BUFFER_OUT_OF_BOUNDS:new se.ERR_OUT_OF_RANGE(q||"offset",`>= ${q?1:0} and <= ${O}`,_)}ae("ERR_BUFFER_OUT_OF_BOUNDS",function(_){return _?`${_} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ae("ERR_INVALID_ARG_TYPE",function(_,O){return`The "${_}" argument must be of type number. Received type ${typeof O}`},TypeError),ae("ERR_OUT_OF_RANGE",function(_,O,q){let ne=`The value of "${_}" is out of range.`,ce=q;return Number.isInteger(q)&&Math.abs(q)>4294967296?ce=$(String(q)):typeof q=="bigint"&&(ce=String(q),(q>BigInt(2)**BigInt(32)||q<-(BigInt(2)**BigInt(32)))&&(ce=$(ce)),ce+="n"),ne+=` It must be ${O}. Received ${ce}`,ne},RangeError);const J=/[^+/0-9A-Za-z-_]/g;function le(_,O){let q;O=O||1/0;const ne=_.length;let ce=null;const ue=[];for(let Ne=0;Ne<ne;++Ne){if(q=_.charCodeAt(Ne),q>55295&&q<57344){if(!ce){if(q>56319){(O-=3)>-1&&ue.push(239,191,189);continue}if(Ne+1===ne){(O-=3)>-1&&ue.push(239,191,189);continue}ce=q;continue}if(q<56320){(O-=3)>-1&&ue.push(239,191,189),ce=q;continue}q=65536+(ce-55296<<10|q-56320)}else ce&&(O-=3)>-1&&ue.push(239,191,189);if(ce=null,q<128){if((O-=1)<0)break;ue.push(q)}else if(q<2048){if((O-=2)<0)break;ue.push(q>>6|192,63&q|128)}else if(q<65536){if((O-=3)<0)break;ue.push(q>>12|224,q>>6&63|128,63&q|128)}else{if(!(q<1114112))throw new Error("Invalid code point");if((O-=4)<0)break;ue.push(q>>18|240,q>>12&63|128,q>>6&63|128,63&q|128)}}return ue}function fe(_){return c.toByteArray(function(O){if((O=(O=O.split("=")[0]).trim().replace(J,"")).length<2)return"";for(;O.length%4!=0;)O+="=";return O}(_))}function de(_,O,q,ne){let ce;for(ce=0;ce<ne&&!(ce+q>=O.length||ce>=_.length);++ce)O[ce+q]=_[ce];return ce}function pe(_,O){return _ instanceof O||_!=null&&_.constructor!=null&&_.constructor.name!=null&&_.constructor.name===O.name}function _e(_){return _!=_}const ge=function(){const _="0123456789abcdef",O=new Array(256);for(let q=0;q<16;++q){const ne=16*q;for(let ce=0;ce<16;++ce)O[ne+ce]=_[q]+_[ce]}return O}();function De(_){return typeof BigInt>"u"?Re:_}function Re(){throw new Error("BigInt not supported")}},7187:s=>{var l,a=typeof Reflect=="object"?Reflect:null,c=a&&typeof a.apply=="function"?a.apply:function(k,F,j){return Function.prototype.apply.call(k,F,j)};l=a&&typeof a.ownKeys=="function"?a.ownKeys:Object.getOwnPropertySymbols?function(k){return Object.getOwnPropertyNames(k).concat(Object.getOwnPropertySymbols(k))}:function(k){return Object.getOwnPropertyNames(k)};var u=Number.isNaN||function(k){return k!=k};function h(){h.init.call(this)}s.exports=h,s.exports.once=function(k,F){return new Promise(function(j,D){function P(L){k.removeListener(F,B),D(L)}function B(){typeof k.removeListener=="function"&&k.removeListener("error",P),j([].slice.call(arguments))}T(k,F,B,{once:!0}),F!=="error"&&function(L,G,E){typeof L.on=="function"&&T(L,"error",G,{once:!0})}(k,P)})},h.EventEmitter=h,h.prototype._events=void 0,h.prototype._eventsCount=0,h.prototype._maxListeners=void 0;var p=10;function g(k){if(typeof k!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof k)}function y(k){return k._maxListeners===void 0?h.defaultMaxListeners:k._maxListeners}function N(k,F,j,D){var P,B,L,G;if(g(j),(B=k._events)===void 0?(B=k._events=Object.create(null),k._eventsCount=0):(B.newListener!==void 0&&(k.emit("newListener",F,j.listener?j.listener:j),B=k._events),L=B[F]),L===void 0)L=B[F]=j,++k._eventsCount;else if(typeof L=="function"?L=B[F]=D?[j,L]:[L,j]:D?L.unshift(j):L.push(j),(P=y(k))>0&&L.length>P&&!L.warned){L.warned=!0;var E=new Error("Possible EventEmitter memory leak detected. "+L.length+" "+String(F)+" listeners added. Use emitter.setMaxListeners() to increase limit");E.name="MaxListenersExceededWarning",E.emitter=k,E.type=F,E.count=L.length,G=E,console&&console.warn&&console.warn(G)}return k}function I(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function A(k,F,j){var D={fired:!1,wrapFn:void 0,target:k,type:F,listener:j},P=I.bind(D);return P.listener=j,D.wrapFn=P,P}function S(k,F,j){var D=k._events;if(D===void 0)return[];var P=D[F];return P===void 0?[]:typeof P=="function"?j?[P.listener||P]:[P]:j?function(B){for(var L=new Array(B.length),G=0;G<L.length;++G)L[G]=B[G].listener||B[G];return L}(P):w(P,P.length)}function b(k){var F=this._events;if(F!==void 0){var j=F[k];if(typeof j=="function")return 1;if(j!==void 0)return j.length}return 0}function w(k,F){for(var j=new Array(F),D=0;D<F;++D)j[D]=k[D];return j}function T(k,F,j,D){if(typeof k.on=="function")D.once?k.once(F,j):k.on(F,j);else{if(typeof k.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof k);k.addEventListener(F,function P(B){D.once&&k.removeEventListener(F,P),j(B)})}}Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return p},set:function(k){if(typeof k!="number"||k<0||u(k))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+k+".");p=k}}),h.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},h.prototype.setMaxListeners=function(k){if(typeof k!="number"||k<0||u(k))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+k+".");return this._maxListeners=k,this},h.prototype.getMaxListeners=function(){return y(this)},h.prototype.emit=function(k){for(var F=[],j=1;j<arguments.length;j++)F.push(arguments[j]);var D=k==="error",P=this._events;if(P!==void 0)D=D&&P.error===void 0;else if(!D)return!1;if(D){var B;if(F.length>0&&(B=F[0]),B instanceof Error)throw B;var L=new Error("Unhandled error."+(B?" ("+B.message+")":""));throw L.context=B,L}var G=P[k];if(G===void 0)return!1;if(typeof G=="function")c(G,this,F);else{var E=G.length,oe=w(G,E);for(j=0;j<E;++j)c(oe[j],this,F)}return!0},h.prototype.addListener=function(k,F){return N(this,k,F,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(k,F){return N(this,k,F,!0)},h.prototype.once=function(k,F){return g(F),this.on(k,A(this,k,F)),this},h.prototype.prependOnceListener=function(k,F){return g(F),this.prependListener(k,A(this,k,F)),this},h.prototype.removeListener=function(k,F){var j,D,P,B,L;if(g(F),(D=this._events)===void 0)return this;if((j=D[k])===void 0)return this;if(j===F||j.listener===F)--this._eventsCount==0?this._events=Object.create(null):(delete D[k],D.removeListener&&this.emit("removeListener",k,j.listener||F));else if(typeof j!="function"){for(P=-1,B=j.length-1;B>=0;B--)if(j[B]===F||j[B].listener===F){L=j[B].listener,P=B;break}if(P<0)return this;P===0?j.shift():function(G,E){for(;E+1<G.length;E++)G[E]=G[E+1];G.pop()}(j,P),j.length===1&&(D[k]=j[0]),D.removeListener!==void 0&&this.emit("removeListener",k,L||F)}return this},h.prototype.off=h.prototype.removeListener,h.prototype.removeAllListeners=function(k){var F,j,D;if((j=this._events)===void 0)return this;if(j.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):j[k]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete j[k]),this;if(arguments.length===0){var P,B=Object.keys(j);for(D=0;D<B.length;++D)(P=B[D])!=="removeListener"&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(F=j[k])=="function")this.removeListener(k,F);else if(F!==void 0)for(D=F.length-1;D>=0;D--)this.removeListener(k,F[D]);return this},h.prototype.listeners=function(k){return S(this,k,!0)},h.prototype.rawListeners=function(k){return S(this,k,!1)},h.listenerCount=function(k,F){return typeof k.listenerCount=="function"?k.listenerCount(F):b.call(k,F)},h.prototype.listenerCount=b,h.prototype.eventNames=function(){return this._eventsCount>0?l(this._events):[]}},645:(s,l)=>{l.read=function(a,c,u,h,p){var g,y,N=8*p-h-1,I=(1<<N)-1,A=I>>1,S=-7,b=u?p-1:0,w=u?-1:1,T=a[c+b];for(b+=w,g=T&(1<<-S)-1,T>>=-S,S+=N;S>0;g=256*g+a[c+b],b+=w,S-=8);for(y=g&(1<<-S)-1,g>>=-S,S+=h;S>0;y=256*y+a[c+b],b+=w,S-=8);if(g===0)g=1-A;else{if(g===I)return y?NaN:1/0*(T?-1:1);y+=Math.pow(2,h),g-=A}return(T?-1:1)*y*Math.pow(2,g-h)},l.write=function(a,c,u,h,p,g){var y,N,I,A=8*g-p-1,S=(1<<A)-1,b=S>>1,w=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=h?0:g-1,k=h?1:-1,F=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(N=isNaN(c)?1:0,y=S):(y=Math.floor(Math.log(c)/Math.LN2),c*(I=Math.pow(2,-y))<1&&(y--,I*=2),(c+=y+b>=1?w/I:w*Math.pow(2,1-b))*I>=2&&(y++,I/=2),y+b>=S?(N=0,y=S):y+b>=1?(N=(c*I-1)*Math.pow(2,p),y+=b):(N=c*Math.pow(2,b-1)*Math.pow(2,p),y=0));p>=8;a[u+T]=255&N,T+=k,N/=256,p-=8);for(y=y<<p|N,A+=p;A>0;a[u+T]=255&y,T+=k,y/=256,A-=8);a[u+T-k]|=128*F}},5705:(s,l,a)=>{var c,u,h=a.g.MutationObserver||a.g.WebKitMutationObserver;if(h){var p=0,g=new h(A),y=a.g.document.createTextNode("");g.observe(y,{characterData:!0}),c=function(){y.data=p=++p%2}}else if(a.g.setImmediate||a.g.MessageChannel===void 0)c="document"in a.g&&"onreadystatechange"in a.g.document.createElement("script")?function(){var S=a.g.document.createElement("script");S.onreadystatechange=function(){A(),S.onreadystatechange=null,S.parentNode.removeChild(S),S=null},a.g.document.documentElement.appendChild(S)}:function(){setTimeout(A,0)};else{var N=new a.g.MessageChannel;N.port1.onmessage=A,c=function(){N.port2.postMessage(0)}}var I=[];function A(){var S,b;u=!0;for(var w=I.length;w;){for(b=I,I=[],S=-1;++S<w;)b[S]();w=I.length}u=!1}s.exports=function(S){I.push(S)!==1||u||c()}},5717:s=>{typeof Object.create=="function"?s.exports=function(l,a){a&&(l.super_=a,l.prototype=Object.create(a.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}))}:s.exports=function(l,a){if(a){l.super_=a;var c=function(){};c.prototype=a.prototype,l.prototype=new c,l.prototype.constructor=l}}},8458:(s,l,a)=>{var c=a(8910),u=a(3790),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";l.encode=function(p){for(var g,y,N,I,A,S,b,w=[],T=0,k=p.length,F=k,j=c.getTypeOf(p)!=="string";T<p.length;)F=k-T,j?(g=p[T++],y=T<k?p[T++]:0,N=T<k?p[T++]:0):(g=p.charCodeAt(T++),y=T<k?p.charCodeAt(T++):0,N=T<k?p.charCodeAt(T++):0),I=g>>2,A=(3&g)<<4|y>>4,S=F>1?(15&y)<<2|N>>6:64,b=F>2?63&N:64,w.push(h.charAt(I)+h.charAt(A)+h.charAt(S)+h.charAt(b));return w.join("")},l.decode=function(p){var g,y,N,I,A,S,b=0,w=0,T="data:";if(p.substr(0,T.length)===T)throw new Error("Invalid base64 input, it looks like a data url.");var k,F=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===h.charAt(64)&&F--,p.charAt(p.length-2)===h.charAt(64)&&F--,F%1!=0)throw new Error("Invalid base64 input, bad content length.");for(k=u.uint8array?new Uint8Array(0|F):new Array(0|F);b<p.length;)g=h.indexOf(p.charAt(b++))<<2|(I=h.indexOf(p.charAt(b++)))>>4,y=(15&I)<<4|(A=h.indexOf(p.charAt(b++)))>>2,N=(3&A)<<6|(S=h.indexOf(p.charAt(b++))),k[w++]=g,A!==64&&(k[w++]=y),S!==64&&(k[w++]=N);return k}},7326:(s,l,a)=>{var c=a(8565),u=a(5301),h=a(2541),p=a(5977);function g(y,N,I,A,S){this.compressedSize=y,this.uncompressedSize=N,this.crc32=I,this.compression=A,this.compressedContent=S}g.prototype={getContentWorker:function(){var y=new u(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),N=this;return y.on("end",function(){if(this.streamInfo.data_length!==N.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),y},getCompressedWorker:function(){return new u(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(y,N,I){return y.pipe(new h).pipe(new p("uncompressedSize")).pipe(N.compressWorker(I)).pipe(new p("compressedSize")).withStreamInfo("compression",N)},s.exports=g},1678:(s,l,a)=>{var c=a(3718);l.STORE={magic:"\0\0",compressWorker:function(){return new c("STORE compression")},uncompressWorker:function(){return new c("STORE decompression")}},l.DEFLATE=a(1033)},6988:(s,l,a)=>{var c=a(8910),u=function(){for(var h,p=[],g=0;g<256;g++){h=g;for(var y=0;y<8;y++)h=1&h?3988292384^h>>>1:h>>>1;p[g]=h}return p}();s.exports=function(h,p){return h!==void 0&&h.length?c.getTypeOf(h)!=="string"?function(g,y,N,I){var A=u,S=0+N;g^=-1;for(var b=0;b<S;b++)g=g>>>8^A[255&(g^y[b])];return-1^g}(0|p,h,h.length):function(g,y,N,I){var A=u,S=0+N;g^=-1;for(var b=0;b<S;b++)g=g>>>8^A[255&(g^y.charCodeAt(b))];return-1^g}(0|p,h,h.length):0}},6032:(s,l)=>{l.base64=!1,l.binary=!1,l.dir=!1,l.createFolders=!0,l.date=null,l.compression=null,l.compressionOptions=null,l.comment=null,l.unixPermissions=null,l.dosPermissions=null},8565:(s,l,a)=>{var c;c=typeof Promise<"u"?Promise:a(3389),s.exports={Promise:c}},1033:(s,l,a)=>{var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",u=a(9591),h=a(8910),p=a(3718),g=c?"uint8array":"array";function y(N,I){p.call(this,"FlateWorker/"+N),this._pako=null,this._pakoAction=N,this._pakoOptions=I,this.meta={}}l.magic="\b\0",h.inherits(y,p),y.prototype.processChunk=function(N){this.meta=N.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(g,N.data),!1)},y.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},y.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},y.prototype._createPako=function(){this._pako=new u[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var N=this;this._pako.onData=function(I){N.push({data:I,meta:N.meta})}},l.compressWorker=function(N){return new y("Deflate",N)},l.uncompressWorker=function(){return new y("Inflate",{})}},4979:(s,l,a)=>{var c=a(8910),u=a(3718),h=a(3600),p=a(6988),g=a(1141),y=function(S,b){var w,T="";for(w=0;w<b;w++)T+=String.fromCharCode(255&S),S>>>=8;return T},N=function(S,b,w,T,k,F){var j,D,P=S.file,B=S.compression,L=F!==h.utf8encode,G=c.transformTo("string",F(P.name)),E=c.transformTo("string",h.utf8encode(P.name)),oe=P.comment,ie=c.transformTo("string",F(oe)),z=c.transformTo("string",h.utf8encode(oe)),be=E.length!==P.name.length,me=z.length!==oe.length,Se="",x="",U="",te=P.dir,H=P.date,K={crc32:0,compressedSize:0,uncompressedSize:0};b&&!w||(K.crc32=S.crc32,K.compressedSize=S.compressedSize,K.uncompressedSize=S.uncompressedSize);var V=0;b&&(V|=8),L||!be&&!me||(V|=2048);var W,ee,se=0,ae=0;te&&(se|=16),k==="UNIX"?(ae=798,se|=(ee=W=P.unixPermissions,W||(ee=te?16893:33204),(65535&ee)<<16)):(ae=20,se|=63&(P.dosPermissions||0)),j=H.getUTCHours(),j<<=6,j|=H.getUTCMinutes(),j<<=5,j|=H.getUTCSeconds()/2,D=H.getUTCFullYear()-1980,D<<=4,D|=H.getUTCMonth()+1,D<<=5,D|=H.getUTCDate(),be&&(x=y(1,1)+y(p(G),4)+E,Se+="up"+y(x.length,2)+x),me&&(U=y(1,1)+y(p(ie),4)+z,Se+="uc"+y(U.length,2)+U);var $="";return $+=`
\0`,$+=y(V,2),$+=B.magic,$+=y(j,2),$+=y(D,2),$+=y(K.crc32,4),$+=y(K.compressedSize,4),$+=y(K.uncompressedSize,4),$+=y(G.length,2),$+=y(Se.length,2),{fileRecord:g.LOCAL_FILE_HEADER+$+G+Se,dirRecord:g.CENTRAL_FILE_HEADER+y(ae,2)+$+y(ie.length,2)+"\0\0\0\0"+y(se,4)+y(T,4)+G+Se+ie}},I=function(S){return g.DATA_DESCRIPTOR+y(S.crc32,4)+y(S.compressedSize,4)+y(S.uncompressedSize,4)};function A(S,b,w,T){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=w,this.encodeFileName=T,this.streamFiles=S,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(A,u),A.prototype.push=function(S){var b=S.meta.percent||0,w=this.entriesCount,T=this._sources.length;this.accumulate?this.contentBuffer.push(S):(this.bytesWritten+=S.data.length,u.prototype.push.call(this,{data:S.data,meta:{currentFile:this.currentFile,percent:w?(b+100*(w-T-1))/w:100}}))},A.prototype.openedSource=function(S){this.currentSourceOffset=this.bytesWritten,this.currentFile=S.file.name;var b=this.streamFiles&&!S.file.dir;if(b){var w=N(S,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:w.fileRecord,meta:{percent:0}})}else this.accumulate=!0},A.prototype.closedSource=function(S){this.accumulate=!1;var b=this.streamFiles&&!S.file.dir,w=N(S,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(w.dirRecord),b)this.push({data:I(S),meta:{percent:100}});else for(this.push({data:w.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},A.prototype.flush=function(){for(var S=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var w=this.bytesWritten-S,T=function(k,F,j,D,P){var B=c.transformTo("string",P(D));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+y(k,2)+y(k,2)+y(F,4)+y(j,4)+y(B.length,2)+B}(this.dirRecords.length,w,S,this.zipComment,this.encodeFileName);this.push({data:T,meta:{percent:100}})},A.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},A.prototype.registerPrevious=function(S){this._sources.push(S);var b=this;return S.on("data",function(w){b.processChunk(w)}),S.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),S.on("error",function(w){b.error(w)}),this},A.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},A.prototype.error=function(S){var b=this._sources;if(!u.prototype.error.call(this,S))return!1;for(var w=0;w<b.length;w++)try{b[w].error(S)}catch{}return!0},A.prototype.lock=function(){u.prototype.lock.call(this);for(var S=this._sources,b=0;b<S.length;b++)S[b].lock()},s.exports=A},7834:(s,l,a)=>{var c=a(1678),u=a(4979);l.generateWorker=function(h,p,g){var y=new u(p.streamFiles,g,p.platform,p.encodeFileName),N=0;try{h.forEach(function(I,A){N++;var S=function(k,F){var j=k||F,D=c[j];if(!D)throw new Error(j+" is not a valid compression method !");return D}(A.options.compression,p.compression),b=A.options.compressionOptions||p.compressionOptions||{},w=A.dir,T=A.date;A._compressWorker(S,b).withStreamInfo("file",{name:I,dir:w,date:T,comment:A.comment||"",unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions}).pipe(y)}),y.entriesCount=N}catch(I){y.error(I)}return y}},6085:(s,l,a)=>{function c(){if(!(this instanceof c))return new c;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var u=new c;for(var h in this)typeof this[h]!="function"&&(u[h]=this[h]);return u}}c.prototype=a(7132),c.prototype.loadAsync=a(1062),c.support=a(3790),c.defaults=a(6032),c.version="3.10.1",c.loadAsync=function(u,h){return new c().loadAsync(u,h)},c.external=a(8565),s.exports=c},1062:(s,l,a)=>{var c=a(8910),u=a(8565),h=a(3600),p=a(6624),g=a(2541),y=a(2182);function N(I){return new u.Promise(function(A,S){var b=I.decompressed.getContentWorker().pipe(new g);b.on("error",function(w){S(w)}).on("end",function(){b.streamInfo.crc32!==I.decompressed.crc32?S(new Error("Corrupted zip : CRC32 mismatch")):A()}).resume()})}s.exports=function(I,A){var S=this;return A=c.extend(A||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),y.isNode&&y.isStream(I)?u.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):c.prepareContent("the loaded zip file",I,!0,A.optimizedBinaryString,A.base64).then(function(b){var w=new p(A);return w.load(b),w}).then(function(b){var w=[u.Promise.resolve(b)],T=b.files;if(A.checkCRC32)for(var k=0;k<T.length;k++)w.push(N(T[k]));return u.Promise.all(w)}).then(function(b){for(var w=b.shift(),T=w.files,k=0;k<T.length;k++){var F=T[k],j=F.fileNameStr,D=c.resolve(F.fileNameStr);S.file(D,F.decompressed,{binary:!0,optimizedBinaryString:!0,date:F.date,dir:F.dir,comment:F.fileCommentStr.length?F.fileCommentStr:null,unixPermissions:F.unixPermissions,dosPermissions:F.dosPermissions,createFolders:A.createFolders}),F.dir||(S.file(D).unsafeOriginalName=j)}return w.zipComment.length&&(S.comment=w.zipComment),S})}},2182:s=>{s.exports={isNode:typeof Buffer<"u",newBufferFrom:function(l,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(l,a);if(typeof l=="number")throw new Error('The "data" argument must not be a number');return new Buffer(l,a)},allocBuffer:function(l){if(Buffer.alloc)return Buffer.alloc(l);var a=new Buffer(l);return a.fill(0),a},isBuffer:function(l){return Buffer.isBuffer(l)},isStream:function(l){return l&&typeof l.on=="function"&&typeof l.pause=="function"&&typeof l.resume=="function"}}},660:(s,l,a)=>{var c=a(8910),u=a(3718);function h(p,g){u.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(g)}c.inherits(h,u),h.prototype._bindStream=function(p){var g=this;this._stream=p,p.pause(),p.on("data",function(y){g.push({data:y,meta:{percent:0}})}).on("error",function(y){g.isPaused?this.generatedError=y:g.error(y)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},h.prototype.pause=function(){return!!u.prototype.pause.call(this)&&(this._stream.pause(),!0)},h.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},s.exports=h},1220:(s,l,a)=>{var c=a(749).Readable;function u(h,p,g){c.call(this,p),this._helper=h;var y=this;h.on("data",function(N,I){y.push(N)||y._helper.pause(),g&&g(I)}).on("error",function(N){y.emit("error",N)}).on("end",function(){y.push(null)})}a(8910).inherits(u,c),u.prototype._read=function(){this._helper.resume()},s.exports=u},7132:(s,l,a)=>{var c=a(3600),u=a(8910),h=a(3718),p=a(1285),g=a(6032),y=a(7326),N=a(6859),I=a(7834),A=a(2182),S=a(660),b=function(D,P,B){var L,G=u.getTypeOf(P),E=u.extend(B||{},g);E.date=E.date||new Date,E.compression!==null&&(E.compression=E.compression.toUpperCase()),typeof E.unixPermissions=="string"&&(E.unixPermissions=parseInt(E.unixPermissions,8)),E.unixPermissions&&16384&E.unixPermissions&&(E.dir=!0),E.dosPermissions&&16&E.dosPermissions&&(E.dir=!0),E.dir&&(D=T(D)),E.createFolders&&(L=w(D))&&k.call(this,L,!0);var oe=G==="string"&&E.binary===!1&&E.base64===!1;B&&B.binary!==void 0||(E.binary=!oe),(P instanceof y&&P.uncompressedSize===0||E.dir||!P||P.length===0)&&(E.base64=!1,E.binary=!0,P="",E.compression="STORE",G="string");var ie;ie=P instanceof y||P instanceof h?P:A.isNode&&A.isStream(P)?new S(D,P):u.prepareContent(D,P,E.binary,E.optimizedBinaryString,E.base64);var z=new N(D,ie,E);this.files[D]=z},w=function(D){D.slice(-1)==="/"&&(D=D.substring(0,D.length-1));var P=D.lastIndexOf("/");return P>0?D.substring(0,P):""},T=function(D){return D.slice(-1)!=="/"&&(D+="/"),D},k=function(D,P){return P=P!==void 0?P:g.createFolders,D=T(D),this.files[D]||b.call(this,D,null,{dir:!0,createFolders:P}),this.files[D]};function F(D){return Object.prototype.toString.call(D)==="[object RegExp]"}var j={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(D){var P,B,L;for(P in this.files)L=this.files[P],(B=P.slice(this.root.length,P.length))&&P.slice(0,this.root.length)===this.root&&D(B,L)},filter:function(D){var P=[];return this.forEach(function(B,L){D(B,L)&&P.push(L)}),P},file:function(D,P,B){if(arguments.length===1){if(F(D)){var L=D;return this.filter(function(E,oe){return!oe.dir&&L.test(E)})}var G=this.files[this.root+D];return G&&!G.dir?G:null}return D=this.root+D,b.call(this,D,P,B),this},folder:function(D){if(!D)return this;if(F(D))return this.filter(function(G,E){return E.dir&&D.test(G)});var P=this.root+D,B=k.call(this,P),L=this.clone();return L.root=B.name,L},remove:function(D){D=this.root+D;var P=this.files[D];if(P||(D.slice(-1)!=="/"&&(D+="/"),P=this.files[D]),P&&!P.dir)delete this.files[D];else for(var B=this.filter(function(G,E){return E.name.slice(0,D.length)===D}),L=0;L<B.length;L++)delete this.files[B[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(D){var P,B={};try{if((B=u.extend(D||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=B.type.toLowerCase(),B.compression=B.compression.toUpperCase(),B.type==="binarystring"&&(B.type="string"),!B.type)throw new Error("No output type specified.");u.checkSupport(B.type),B.platform!=="darwin"&&B.platform!=="freebsd"&&B.platform!=="linux"&&B.platform!=="sunos"||(B.platform="UNIX"),B.platform==="win32"&&(B.platform="DOS");var L=B.comment||this.comment||"";P=I.generateWorker(this,B,L)}catch(G){(P=new h("error")).error(G)}return new p(P,B.type||"string",B.mimeType)},generateAsync:function(D,P){return this.generateInternalStream(D).accumulate(P)},generateNodeStream:function(D,P){return(D=D||{}).type||(D.type="nodebuffer"),this.generateInternalStream(D).toNodejsStream(P)}};s.exports=j},749:(s,l,a)=>{s.exports=a(2830)},2370:(s,l,a)=>{var c=a(8542);function u(h){c.call(this,h);for(var p=0;p<this.data.length;p++)h[p]=255&h[p]}a(8910).inherits(u,c),u.prototype.byteAt=function(h){return this.data[this.zero+h]},u.prototype.lastIndexOfSignature=function(h){for(var p=h.charCodeAt(0),g=h.charCodeAt(1),y=h.charCodeAt(2),N=h.charCodeAt(3),I=this.length-4;I>=0;--I)if(this.data[I]===p&&this.data[I+1]===g&&this.data[I+2]===y&&this.data[I+3]===N)return I-this.zero;return-1},u.prototype.readAndCheckSignature=function(h){var p=h.charCodeAt(0),g=h.charCodeAt(1),y=h.charCodeAt(2),N=h.charCodeAt(3),I=this.readData(4);return p===I[0]&&g===I[1]&&y===I[2]&&N===I[3]},u.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},s.exports=u},8542:(s,l,a)=>{var c=a(8910);function u(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}u.prototype={checkOffset:function(h){this.checkIndex(this.index+h)},checkIndex:function(h){if(this.length<this.zero+h||h<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+h+"). Corrupted zip ?")},setIndex:function(h){this.checkIndex(h),this.index=h},skip:function(h){this.setIndex(this.index+h)},byteAt:function(){},readInt:function(h){var p,g=0;for(this.checkOffset(h),p=this.index+h-1;p>=this.index;p--)g=(g<<8)+this.byteAt(p);return this.index+=h,g},readString:function(h){return c.transformTo("string",this.readData(h))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var h=this.readInt(4);return new Date(Date.UTC(1980+(h>>25&127),(h>>21&15)-1,h>>16&31,h>>11&31,h>>5&63,(31&h)<<1))}},s.exports=u},9583:(s,l,a)=>{var c=a(414);function u(h){c.call(this,h)}a(8910).inherits(u,c),u.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},s.exports=u},9226:(s,l,a)=>{var c=a(8542);function u(h){c.call(this,h)}a(8910).inherits(u,c),u.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},u.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},u.prototype.readAndCheckSignature=function(h){return h===this.readData(4)},u.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},s.exports=u},414:(s,l,a)=>{var c=a(2370);function u(h){c.call(this,h)}a(8910).inherits(u,c),u.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},s.exports=u},8435:(s,l,a)=>{var c=a(8910),u=a(3790),h=a(2370),p=a(9226),g=a(9583),y=a(414);s.exports=function(N){var I=c.getTypeOf(N);return c.checkSupport(I),I!=="string"||u.uint8array?I==="nodebuffer"?new g(N):u.uint8array?new y(c.transformTo("uint8array",N)):new h(c.transformTo("array",N)):new p(N)}},1141:(s,l)=>{l.LOCAL_FILE_HEADER="PK",l.CENTRAL_FILE_HEADER="PK",l.CENTRAL_DIRECTORY_END="PK",l.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",l.ZIP64_CENTRAL_DIRECTORY_END="PK",l.DATA_DESCRIPTOR="PK\x07\b"},4293:(s,l,a)=>{var c=a(3718),u=a(8910);function h(p){c.call(this,"ConvertWorker to "+p),this.destType=p}u.inherits(h,c),h.prototype.processChunk=function(p){this.push({data:u.transformTo(this.destType,p.data),meta:p.meta})},s.exports=h},2541:(s,l,a)=>{var c=a(3718),u=a(6988);function h(){c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}a(8910).inherits(h,c),h.prototype.processChunk=function(p){this.streamInfo.crc32=u(p.data,this.streamInfo.crc32||0),this.push(p)},s.exports=h},5977:(s,l,a)=>{var c=a(8910),u=a(3718);function h(p){u.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}c.inherits(h,u),h.prototype.processChunk=function(p){if(p){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+p.data.length}u.prototype.processChunk.call(this,p)},s.exports=h},5301:(s,l,a)=>{var c=a(8910),u=a(3718);function h(p){u.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(y){g.dataIsReady=!0,g.data=y,g.max=y&&y.length||0,g.type=c.getTypeOf(y),g.isPaused||g._tickAndRepeat()},function(y){g.error(y)})}c.inherits(h,u),h.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,c.delay(this._tickAndRepeat,[],this)),!0)},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(c.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,g);break;case"uint8array":p=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":p=this.data.slice(this.index,g)}return this.index=g,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},s.exports=h},3718:s=>{function l(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}l.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,c){return this._listeners[a].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,c){if(this._listeners[a])for(var u=0;u<this._listeners[a].length;u++)this._listeners[a][u].call(this,c)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var c=this;return a.on("data",function(u){c.processChunk(u)}),a.on("end",function(){c.end()}),a.on("error",function(u){c.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var a=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,c){return this.extraStreamInfo[a]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},s.exports=l},1285:(s,l,a)=>{var c=a(8910),u=a(4293),h=a(3718),p=a(8458),g=a(3790),y=a(8565),N=null;if(g.nodestream)try{N=a(1220)}catch{}function I(A,S,b){var w=S;switch(S){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=S,this._mimeType=b,c.checkSupport(w),this._worker=A.pipe(new u(w)),A.lock()}catch(T){this._worker=new h("error"),this._worker.error(T)}}I.prototype={accumulate:function(A){return S=this,b=A,new y.Promise(function(w,T){var k=[],F=S._internalType,j=S._outputType,D=S._mimeType;S.on("data",function(P,B){k.push(P),b&&b(B)}).on("error",function(P){k=[],T(P)}).on("end",function(){try{var P=function(B,L,G){switch(B){case"blob":return c.newBlob(c.transformTo("arraybuffer",L),G);case"base64":return p.encode(L);default:return c.transformTo(B,L)}}(j,function(B,L){var G,E=0,oe=null,ie=0;for(G=0;G<L.length;G++)ie+=L[G].length;switch(B){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(oe=new Uint8Array(ie),G=0;G<L.length;G++)oe.set(L[G],E),E+=L[G].length;return oe;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+B+"'")}}(F,k),D);w(P)}catch(B){T(B)}k=[]}).resume()});var S,b},on:function(A,S){var b=this;return A==="data"?this._worker.on(A,function(w){S.call(b,w.data,w.meta)}):this._worker.on(A,function(){c.delay(S,arguments,b)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(A){if(c.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new N(this,{objectMode:this._outputType!=="nodebuffer"},A)}},s.exports=I},3790:(s,l,a)=>{if(l.base64=!0,l.array=!0,l.string=!0,l.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",l.nodebuffer=typeof Buffer<"u",l.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")l.blob=!1;else{var c=new ArrayBuffer(0);try{l.blob=new Blob([c],{type:"application/zip"}).size===0}catch{try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);u.append(c),l.blob=u.getBlob("application/zip").size===0}catch{l.blob=!1}}}try{l.nodestream=!!a(749).Readable}catch{l.nodestream=!1}},3600:(s,l,a)=>{for(var c=a(8910),u=a(3790),h=a(2182),p=a(3718),g=new Array(256),y=0;y<256;y++)g[y]=y>=252?6:y>=248?5:y>=240?4:y>=224?3:y>=192?2:1;function N(){p.call(this,"utf-8 decode"),this.leftOver=null}function I(){p.call(this,"utf-8 encode")}g[254]=g[254]=1,l.utf8encode=function(A){return u.nodebuffer?h.newBufferFrom(A,"utf-8"):function(S){var b,w,T,k,F,j=S.length,D=0;for(k=0;k<j;k++)(64512&(w=S.charCodeAt(k)))==55296&&k+1<j&&(64512&(T=S.charCodeAt(k+1)))==56320&&(w=65536+(w-55296<<10)+(T-56320),k++),D+=w<128?1:w<2048?2:w<65536?3:4;for(b=u.uint8array?new Uint8Array(D):new Array(D),F=0,k=0;F<D;k++)(64512&(w=S.charCodeAt(k)))==55296&&k+1<j&&(64512&(T=S.charCodeAt(k+1)))==56320&&(w=65536+(w-55296<<10)+(T-56320),k++),w<128?b[F++]=w:w<2048?(b[F++]=192|w>>>6,b[F++]=128|63&w):w<65536?(b[F++]=224|w>>>12,b[F++]=128|w>>>6&63,b[F++]=128|63&w):(b[F++]=240|w>>>18,b[F++]=128|w>>>12&63,b[F++]=128|w>>>6&63,b[F++]=128|63&w);return b}(A)},l.utf8decode=function(A){return u.nodebuffer?c.transformTo("nodebuffer",A).toString("utf-8"):function(S){var b,w,T,k,F=S.length,j=new Array(2*F);for(w=0,b=0;b<F;)if((T=S[b++])<128)j[w++]=T;else if((k=g[T])>4)j[w++]=65533,b+=k-1;else{for(T&=k===2?31:k===3?15:7;k>1&&b<F;)T=T<<6|63&S[b++],k--;k>1?j[w++]=65533:T<65536?j[w++]=T:(T-=65536,j[w++]=55296|T>>10&1023,j[w++]=56320|1023&T)}return j.length!==w&&(j.subarray?j=j.subarray(0,w):j.length=w),c.applyFromCharCode(j)}(A=c.transformTo(u.uint8array?"uint8array":"array",A))},c.inherits(N,p),N.prototype.processChunk=function(A){var S=c.transformTo(u.uint8array?"uint8array":"array",A.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var b=S;(S=new Uint8Array(b.length+this.leftOver.length)).set(this.leftOver,0),S.set(b,this.leftOver.length)}else S=this.leftOver.concat(S);this.leftOver=null}var w=function(k,F){var j;for((F=F||k.length)>k.length&&(F=k.length),j=F-1;j>=0&&(192&k[j])==128;)j--;return j<0||j===0?F:j+g[k[j]]>F?j:F}(S),T=S;w!==S.length&&(u.uint8array?(T=S.subarray(0,w),this.leftOver=S.subarray(w,S.length)):(T=S.slice(0,w),this.leftOver=S.slice(w,S.length))),this.push({data:l.utf8decode(T),meta:A.meta})},N.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:l.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},l.Utf8DecodeWorker=N,c.inherits(I,p),I.prototype.processChunk=function(A){this.push({data:l.utf8encode(A.data),meta:A.meta})},l.Utf8EncodeWorker=I},8910:(s,l,a)=>{var c=a(3790),u=a(8458),h=a(2182),p=a(8565);function g(b){return b}function y(b,w){for(var T=0;T<b.length;++T)w[T]=255&b.charCodeAt(T);return w}a(4889),l.newBlob=function(b,w){l.checkSupport("blob");try{return new Blob([b],{type:w})}catch{try{var T=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return T.append(b),T.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var N={stringifyByChunk:function(b,w,T){var k=[],F=0,j=b.length;if(j<=T)return String.fromCharCode.apply(null,b);for(;F<j;)w==="array"||w==="nodebuffer"?k.push(String.fromCharCode.apply(null,b.slice(F,Math.min(F+T,j)))):k.push(String.fromCharCode.apply(null,b.subarray(F,Math.min(F+T,j)))),F+=T;return k.join("")},stringifyByChar:function(b){for(var w="",T=0;T<b.length;T++)w+=String.fromCharCode(b[T]);return w},applyCanBeUsed:{uint8array:function(){try{return c.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return c.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch{return!1}}()}};function I(b){var w=65536,T=l.getTypeOf(b),k=!0;if(T==="uint8array"?k=N.applyCanBeUsed.uint8array:T==="nodebuffer"&&(k=N.applyCanBeUsed.nodebuffer),k)for(;w>1;)try{return N.stringifyByChunk(b,T,w)}catch{w=Math.floor(w/2)}return N.stringifyByChar(b)}function A(b,w){for(var T=0;T<b.length;T++)w[T]=b[T];return w}l.applyFromCharCode=I;var S={};S.string={string:g,array:function(b){return y(b,new Array(b.length))},arraybuffer:function(b){return S.string.uint8array(b).buffer},uint8array:function(b){return y(b,new Uint8Array(b.length))},nodebuffer:function(b){return y(b,h.allocBuffer(b.length))}},S.array={string:I,array:g,arraybuffer:function(b){return new Uint8Array(b).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return h.newBufferFrom(b)}},S.arraybuffer={string:function(b){return I(new Uint8Array(b))},array:function(b){return A(new Uint8Array(b),new Array(b.byteLength))},arraybuffer:g,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return h.newBufferFrom(new Uint8Array(b))}},S.uint8array={string:I,array:function(b){return A(b,new Array(b.length))},arraybuffer:function(b){return b.buffer},uint8array:g,nodebuffer:function(b){return h.newBufferFrom(b)}},S.nodebuffer={string:I,array:function(b){return A(b,new Array(b.length))},arraybuffer:function(b){return S.nodebuffer.uint8array(b).buffer},uint8array:function(b){return A(b,new Uint8Array(b.length))},nodebuffer:g},l.transformTo=function(b,w){if(w||(w=""),!b)return w;l.checkSupport(b);var T=l.getTypeOf(w);return S[T][b](w)},l.resolve=function(b){for(var w=b.split("/"),T=[],k=0;k<w.length;k++){var F=w[k];F==="."||F===""&&k!==0&&k!==w.length-1||(F===".."?T.pop():T.push(F))}return T.join("/")},l.getTypeOf=function(b){return typeof b=="string"?"string":Object.prototype.toString.call(b)==="[object Array]"?"array":c.nodebuffer&&h.isBuffer(b)?"nodebuffer":c.uint8array&&b instanceof Uint8Array?"uint8array":c.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0},l.checkSupport=function(b){if(!c[b.toLowerCase()])throw new Error(b+" is not supported by this platform")},l.MAX_VALUE_16BITS=65535,l.MAX_VALUE_32BITS=-1,l.pretty=function(b){var w,T,k="";for(T=0;T<(b||"").length;T++)k+="\\x"+((w=b.charCodeAt(T))<16?"0":"")+w.toString(16).toUpperCase();return k},l.delay=function(b,w,T){setImmediate(function(){b.apply(T||null,w||[])})},l.inherits=function(b,w){var T=function(){};T.prototype=w.prototype,b.prototype=new T},l.extend=function(){var b,w,T={};for(b=0;b<arguments.length;b++)for(w in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],w)&&T[w]===void 0&&(T[w]=arguments[b][w]);return T},l.prepareContent=function(b,w,T,k,F){return p.Promise.resolve(w).then(function(j){return c.blob&&(j instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(j))!==-1)&&typeof FileReader<"u"?new p.Promise(function(D,P){var B=new FileReader;B.onload=function(L){D(L.target.result)},B.onerror=function(L){P(L.target.error)},B.readAsArrayBuffer(j)}):j}).then(function(j){var D,P=l.getTypeOf(j);return P?(P==="arraybuffer"?j=l.transformTo("uint8array",j):P==="string"&&(F?j=u.decode(j):T&&k!==!0&&(j=y(D=j,c.uint8array?new Uint8Array(D.length):new Array(D.length)))),j):p.Promise.reject(new Error("Can't read the data of '"+b+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},6624:(s,l,a)=>{var c=a(8435),u=a(8910),h=a(1141),p=a(9392),g=a(3790);function y(N){this.files=[],this.loadOptions=N}y.prototype={checkSignature:function(N){if(!this.reader.readAndCheckSignature(N)){this.reader.index-=4;var I=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+u.pretty(I)+", expected "+u.pretty(N)+")")}},isSignature:function(N,I){var A=this.reader.index;this.reader.setIndex(N);var S=this.reader.readString(4)===I;return this.reader.setIndex(A),S},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var N=this.reader.readData(this.zipCommentLength),I=g.uint8array?"uint8array":"array",A=u.transformTo(I,N);this.zipComment=this.loadOptions.decodeFileName(A)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var N,I,A,S=this.zip64EndOfCentralSize-44;0<S;)N=this.reader.readInt(2),I=this.reader.readInt(4),A=this.reader.readData(I),this.zip64ExtensibleData[N]={id:N,length:I,value:A}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var N,I;for(N=0;N<this.files.length;N++)I=this.files[N],this.reader.setIndex(I.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),I.readLocalPart(this.reader),I.handleUTF8(),I.processAttributes()},readCentralDir:function(){var N;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)(N=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(N);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var N=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(N<0)throw this.isSignature(0,h.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(N);var I=N;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,(N=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(N),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var A=this.centralDirOffset+this.centralDirSize;this.zip64&&(A+=20,A+=12+this.zip64EndOfCentralSize);var S=I-A;if(S>0)this.isSignature(I,h.CENTRAL_FILE_HEADER)||(this.reader.zero=S);else if(S<0)throw new Error("Corrupted zip: missing "+Math.abs(S)+" bytes.")},prepareReader:function(N){this.reader=c(N)},load:function(N){this.prepareReader(N),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},s.exports=y},9392:(s,l,a)=>{var c=a(8435),u=a(8910),h=a(7326),p=a(6988),g=a(3600),y=a(1678),N=a(3790);function I(A,S){this.options=A,this.loadOptions=S}I.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(A){var S,b;if(A.skip(22),this.fileNameLength=A.readInt(2),b=A.readInt(2),this.fileName=A.readData(this.fileNameLength),A.skip(b),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((S=function(w){for(var T in y)if(Object.prototype.hasOwnProperty.call(y,T)&&y[T].magic===w)return y[T];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+u.pretty(this.compressionMethod)+" unknown (inner file : "+u.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,S,A.readData(this.compressedSize))},readCentralPart:function(A){this.versionMadeBy=A.readInt(2),A.skip(2),this.bitFlag=A.readInt(2),this.compressionMethod=A.readString(2),this.date=A.readDate(),this.crc32=A.readInt(4),this.compressedSize=A.readInt(4),this.uncompressedSize=A.readInt(4);var S=A.readInt(2);if(this.extraFieldsLength=A.readInt(2),this.fileCommentLength=A.readInt(2),this.diskNumberStart=A.readInt(2),this.internalFileAttributes=A.readInt(2),this.externalFileAttributes=A.readInt(4),this.localHeaderOffset=A.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");A.skip(S),this.readExtraFields(A),this.parseZIP64ExtraField(A),this.fileComment=A.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var A=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),A===0&&(this.dosPermissions=63&this.externalFileAttributes),A===3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var A=c(this.extraFields[1].value);this.uncompressedSize===u.MAX_VALUE_32BITS&&(this.uncompressedSize=A.readInt(8)),this.compressedSize===u.MAX_VALUE_32BITS&&(this.compressedSize=A.readInt(8)),this.localHeaderOffset===u.MAX_VALUE_32BITS&&(this.localHeaderOffset=A.readInt(8)),this.diskNumberStart===u.MAX_VALUE_32BITS&&(this.diskNumberStart=A.readInt(4))}},readExtraFields:function(A){var S,b,w,T=A.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});A.index+4<T;)S=A.readInt(2),b=A.readInt(2),w=A.readData(b),this.extraFields[S]={id:S,length:b,value:w};A.setIndex(T)},handleUTF8:function(){var A=N.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var S=this.findExtraFieldUnicodePath();if(S!==null)this.fileNameStr=S;else{var b=u.transformTo(A,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(b)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var T=u.transformTo(A,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(T)}}},findExtraFieldUnicodePath:function(){var A=this.extraFields[28789];if(A){var S=c(A.value);return S.readInt(1)!==1||p(this.fileName)!==S.readInt(4)?null:g.utf8decode(S.readData(A.length-5))}return null},findExtraFieldUnicodeComment:function(){var A=this.extraFields[25461];if(A){var S=c(A.value);return S.readInt(1)!==1||p(this.fileComment)!==S.readInt(4)?null:g.utf8decode(S.readData(A.length-5))}return null}},s.exports=I},6859:(s,l,a)=>{var c=a(1285),u=a(5301),h=a(3600),p=a(7326),g=a(3718),y=function(S,b,w){this.name=S,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=b,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}};y.prototype={internalStream:function(S){var b=null,w="string";try{if(!S)throw new Error("No output type specified.");var T=(w=S.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),b=this._decompressWorker();var k=!this._dataBinary;k&&!T&&(b=b.pipe(new h.Utf8EncodeWorker)),!k&&T&&(b=b.pipe(new h.Utf8DecodeWorker))}catch(F){(b=new g("error")).error(F)}return new c(b,w,"")},async:function(S,b){return this.internalStream(S).accumulate(b)},nodeStream:function(S,b){return this.internalStream(S||"nodebuffer").toNodejsStream(b)},_compressWorker:function(S,b){if(this._data instanceof p&&this._data.compression.magic===S.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new h.Utf8EncodeWorker)),p.createWorkerFrom(w,S,b)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof g?this._data:new u(this._data)}};for(var N=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],I=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},A=0;A<N.length;A++)y.prototype[N[A]]=I;s.exports=y},3389:(s,l,a)=>{var c=a(5705);function u(){}var h={},p=["REJECTED"],g=["FULFILLED"],y=["PENDING"];function N(T){if(typeof T!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,T!==u&&b(this,T)}function I(T,k,F){this.promise=T,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof F=="function"&&(this.onRejected=F,this.callRejected=this.otherCallRejected)}function A(T,k,F){c(function(){var j;try{j=k(F)}catch(D){return h.reject(T,D)}j===T?h.reject(T,new TypeError("Cannot resolve promise with itself")):h.resolve(T,j)})}function S(T){var k=T&&T.then;if(T&&(typeof T=="object"||typeof T=="function")&&typeof k=="function")return function(){k.apply(T,arguments)}}function b(T,k){var F=!1;function j(B){F||(F=!0,h.reject(T,B))}function D(B){F||(F=!0,h.resolve(T,B))}var P=w(function(){k(D,j)});P.status==="error"&&j(P.value)}function w(T,k){var F={};try{F.value=T(k),F.status="success"}catch(j){F.status="error",F.value=j}return F}s.exports=N,N.prototype.finally=function(T){if(typeof T!="function")return this;var k=this.constructor;return this.then(function(F){return k.resolve(T()).then(function(){return F})},function(F){return k.resolve(T()).then(function(){throw F})})},N.prototype.catch=function(T){return this.then(null,T)},N.prototype.then=function(T,k){if(typeof T!="function"&&this.state===g||typeof k!="function"&&this.state===p)return this;var F=new this.constructor(u);return this.state!==y?A(F,this.state===g?T:k,this.outcome):this.queue.push(new I(F,T,k)),F},I.prototype.callFulfilled=function(T){h.resolve(this.promise,T)},I.prototype.otherCallFulfilled=function(T){A(this.promise,this.onFulfilled,T)},I.prototype.callRejected=function(T){h.reject(this.promise,T)},I.prototype.otherCallRejected=function(T){A(this.promise,this.onRejected,T)},h.resolve=function(T,k){var F=w(S,k);if(F.status==="error")return h.reject(T,F.value);var j=F.value;if(j)b(T,j);else{T.state=g,T.outcome=k;for(var D=-1,P=T.queue.length;++D<P;)T.queue[D].callFulfilled(k)}return T},h.reject=function(T,k){T.state=p,T.outcome=k;for(var F=-1,j=T.queue.length;++F<j;)T.queue[F].callRejected(k);return T},N.resolve=function(T){return T instanceof this?T:h.resolve(new this(u),T)},N.reject=function(T){var k=new this(u);return h.reject(k,T)},N.all=function(T){var k=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=T.length,j=!1;if(!F)return this.resolve([]);for(var D=new Array(F),P=0,B=-1,L=new this(u);++B<F;)G(T[B],B);return L;function G(E,oe){k.resolve(E).then(function(ie){D[oe]=ie,++P!==F||j||(j=!0,h.resolve(L,D))},function(ie){j||(j=!0,h.reject(L,ie))})}},N.race=function(T){if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=T.length,F=!1;if(!k)return this.resolve([]);for(var j,D=-1,P=new this(u);++D<k;)j=T[D],this.resolve(j).then(function(B){F||(F=!0,h.resolve(P,B))},function(B){F||(F=!0,h.reject(P,B))});return P}},9591:(s,l,a)=>{var c={};(0,a(4236).assign)(c,a(4555),a(8843),a(1619)),s.exports=c},4555:(s,l,a)=>{var c=a(405),u=a(4236),h=a(9373),p=a(8898),g=a(2292),y=Object.prototype.toString;function N(A){if(!(this instanceof N))return new N(A);this.options=u.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},A||{});var S=this.options;S.raw&&S.windowBits>0?S.windowBits=-S.windowBits:S.gzip&&S.windowBits>0&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var b=c.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(b!==0)throw new Error(p[b]);if(S.header&&c.deflateSetHeader(this.strm,S.header),S.dictionary){var w;if(w=typeof S.dictionary=="string"?h.string2buf(S.dictionary):y.call(S.dictionary)==="[object ArrayBuffer]"?new Uint8Array(S.dictionary):S.dictionary,(b=c.deflateSetDictionary(this.strm,w))!==0)throw new Error(p[b]);this._dict_set=!0}}function I(A,S){var b=new N(S);if(b.push(A,!0),b.err)throw b.msg||p[b.err];return b.result}N.prototype.push=function(A,S){var b,w,T=this.strm,k=this.options.chunkSize;if(this.ended)return!1;w=S===~~S?S:S===!0?4:0,typeof A=="string"?T.input=h.string2buf(A):y.call(A)==="[object ArrayBuffer]"?T.input=new Uint8Array(A):T.input=A,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new u.Buf8(k),T.next_out=0,T.avail_out=k),(b=c.deflate(T,w))!==1&&b!==0)return this.onEnd(b),this.ended=!0,!1;T.avail_out!==0&&(T.avail_in!==0||w!==4&&w!==2)||(this.options.to==="string"?this.onData(h.buf2binstring(u.shrinkBuf(T.output,T.next_out))):this.onData(u.shrinkBuf(T.output,T.next_out)))}while((T.avail_in>0||T.avail_out===0)&&b!==1);return w===4?(b=c.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===0):w!==2||(this.onEnd(0),T.avail_out=0,!0)},N.prototype.onData=function(A){this.chunks.push(A)},N.prototype.onEnd=function(A){A===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg},l.Deflate=N,l.deflate=I,l.deflateRaw=function(A,S){return(S=S||{}).raw=!0,I(A,S)},l.gzip=function(A,S){return(S=S||{}).gzip=!0,I(A,S)}},8843:(s,l,a)=>{var c=a(7948),u=a(4236),h=a(9373),p=a(1619),g=a(8898),y=a(2292),N=a(2401),I=Object.prototype.toString;function A(b){if(!(this instanceof A))return new A(b);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},b||{});var w=this.options;w.raw&&w.windowBits>=0&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(w.windowBits>=0&&w.windowBits<16)||b&&b.windowBits||(w.windowBits+=32),w.windowBits>15&&w.windowBits<48&&!(15&w.windowBits)&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var T=c.inflateInit2(this.strm,w.windowBits);if(T!==p.Z_OK)throw new Error(g[T]);if(this.header=new N,c.inflateGetHeader(this.strm,this.header),w.dictionary&&(typeof w.dictionary=="string"?w.dictionary=h.string2buf(w.dictionary):I.call(w.dictionary)==="[object ArrayBuffer]"&&(w.dictionary=new Uint8Array(w.dictionary)),w.raw&&(T=c.inflateSetDictionary(this.strm,w.dictionary))!==p.Z_OK))throw new Error(g[T])}function S(b,w){var T=new A(w);if(T.push(b,!0),T.err)throw T.msg||g[T.err];return T.result}A.prototype.push=function(b,w){var T,k,F,j,D,P=this.strm,B=this.options.chunkSize,L=this.options.dictionary,G=!1;if(this.ended)return!1;k=w===~~w?w:w===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof b=="string"?P.input=h.binstring2buf(b):I.call(b)==="[object ArrayBuffer]"?P.input=new Uint8Array(b):P.input=b,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new u.Buf8(B),P.next_out=0,P.avail_out=B),(T=c.inflate(P,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&L&&(T=c.inflateSetDictionary(this.strm,L)),T===p.Z_BUF_ERROR&&G===!0&&(T=p.Z_OK,G=!1),T!==p.Z_STREAM_END&&T!==p.Z_OK)return this.onEnd(T),this.ended=!0,!1;P.next_out&&(P.avail_out!==0&&T!==p.Z_STREAM_END&&(P.avail_in!==0||k!==p.Z_FINISH&&k!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(F=h.utf8border(P.output,P.next_out),j=P.next_out-F,D=h.buf2string(P.output,F),P.next_out=j,P.avail_out=B-j,j&&u.arraySet(P.output,P.output,F,j,0),this.onData(D)):this.onData(u.shrinkBuf(P.output,P.next_out)))),P.avail_in===0&&P.avail_out===0&&(G=!0)}while((P.avail_in>0||P.avail_out===0)&&T!==p.Z_STREAM_END);return T===p.Z_STREAM_END&&(k=p.Z_FINISH),k===p.Z_FINISH?(T=c.inflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===p.Z_OK):k!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),P.avail_out=0,!0)},A.prototype.onData=function(b){this.chunks.push(b)},A.prototype.onEnd=function(b){b===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},l.Inflate=A,l.inflate=S,l.inflateRaw=function(b,w){return(w=w||{}).raw=!0,S(b,w)},l.ungzip=S},4236:(s,l)=>{var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function c(p,g){return Object.prototype.hasOwnProperty.call(p,g)}l.assign=function(p){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var y=g.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var N in y)c(y,N)&&(p[N]=y[N])}}return p},l.shrinkBuf=function(p,g){return p.length===g?p:p.subarray?p.subarray(0,g):(p.length=g,p)};var u={arraySet:function(p,g,y,N,I){if(g.subarray&&p.subarray)p.set(g.subarray(y,y+N),I);else for(var A=0;A<N;A++)p[I+A]=g[y+A]},flattenChunks:function(p){var g,y,N,I,A,S;for(N=0,g=0,y=p.length;g<y;g++)N+=p[g].length;for(S=new Uint8Array(N),I=0,g=0,y=p.length;g<y;g++)A=p[g],S.set(A,I),I+=A.length;return S}},h={arraySet:function(p,g,y,N,I){for(var A=0;A<N;A++)p[I+A]=g[y+A]},flattenChunks:function(p){return[].concat.apply([],p)}};l.setTyped=function(p){p?(l.Buf8=Uint8Array,l.Buf16=Uint16Array,l.Buf32=Int32Array,l.assign(l,u)):(l.Buf8=Array,l.Buf16=Array,l.Buf32=Array,l.assign(l,h))},l.setTyped(a)},9373:(s,l,a)=>{var c=a(4236),u=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch{u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}for(var p=new c.Buf8(256),g=0;g<256;g++)p[g]=g>=252?6:g>=248?5:g>=240?4:g>=224?3:g>=192?2:1;function y(N,I){if(I<65534&&(N.subarray&&h||!N.subarray&&u))return String.fromCharCode.apply(null,c.shrinkBuf(N,I));for(var A="",S=0;S<I;S++)A+=String.fromCharCode(N[S]);return A}p[254]=p[254]=1,l.string2buf=function(N){var I,A,S,b,w,T=N.length,k=0;for(b=0;b<T;b++)(64512&(A=N.charCodeAt(b)))==55296&&b+1<T&&(64512&(S=N.charCodeAt(b+1)))==56320&&(A=65536+(A-55296<<10)+(S-56320),b++),k+=A<128?1:A<2048?2:A<65536?3:4;for(I=new c.Buf8(k),w=0,b=0;w<k;b++)(64512&(A=N.charCodeAt(b)))==55296&&b+1<T&&(64512&(S=N.charCodeAt(b+1)))==56320&&(A=65536+(A-55296<<10)+(S-56320),b++),A<128?I[w++]=A:A<2048?(I[w++]=192|A>>>6,I[w++]=128|63&A):A<65536?(I[w++]=224|A>>>12,I[w++]=128|A>>>6&63,I[w++]=128|63&A):(I[w++]=240|A>>>18,I[w++]=128|A>>>12&63,I[w++]=128|A>>>6&63,I[w++]=128|63&A);return I},l.buf2binstring=function(N){return y(N,N.length)},l.binstring2buf=function(N){for(var I=new c.Buf8(N.length),A=0,S=I.length;A<S;A++)I[A]=N.charCodeAt(A);return I},l.buf2string=function(N,I){var A,S,b,w,T=I||N.length,k=new Array(2*T);for(S=0,A=0;A<T;)if((b=N[A++])<128)k[S++]=b;else if((w=p[b])>4)k[S++]=65533,A+=w-1;else{for(b&=w===2?31:w===3?15:7;w>1&&A<T;)b=b<<6|63&N[A++],w--;w>1?k[S++]=65533:b<65536?k[S++]=b:(b-=65536,k[S++]=55296|b>>10&1023,k[S++]=56320|1023&b)}return y(k,S)},l.utf8border=function(N,I){var A;for((I=I||N.length)>N.length&&(I=N.length),A=I-1;A>=0&&(192&N[A])==128;)A--;return A<0||A===0?I:A+p[N[A]]>I?A:I}},6069:s=>{s.exports=function(l,a,c,u){for(var h=65535&l|0,p=l>>>16&65535|0,g=0;c!==0;){c-=g=c>2e3?2e3:c;do p=p+(h=h+a[u++]|0)|0;while(--g);h%=65521,p%=65521}return h|p<<16|0}},1619:s=>{s.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},2869:s=>{var l=function(){for(var a,c=[],u=0;u<256;u++){a=u;for(var h=0;h<8;h++)a=1&a?3988292384^a>>>1:a>>>1;c[u]=a}return c}();s.exports=function(a,c,u,h){var p=l,g=h+u;a^=-1;for(var y=h;y<g;y++)a=a>>>8^p[255&(a^c[y])];return-1^a}},405:(s,l,a)=>{var c,u=a(4236),h=a(342),p=a(6069),g=a(2869),y=a(8898),N=-2,I=258,A=262,S=103,b=113,w=666;function T(x,U){return x.msg=y[U],U}function k(x){return(x<<1)-(x>4?9:0)}function F(x){for(var U=x.length;--U>=0;)x[U]=0}function j(x){var U=x.state,te=U.pending;te>x.avail_out&&(te=x.avail_out),te!==0&&(u.arraySet(x.output,U.pending_buf,U.pending_out,te,x.next_out),x.next_out+=te,U.pending_out+=te,x.total_out+=te,x.avail_out-=te,U.pending-=te,U.pending===0&&(U.pending_out=0))}function D(x,U){h._tr_flush_block(x,x.block_start>=0?x.block_start:-1,x.strstart-x.block_start,U),x.block_start=x.strstart,j(x.strm)}function P(x,U){x.pending_buf[x.pending++]=U}function B(x,U){x.pending_buf[x.pending++]=U>>>8&255,x.pending_buf[x.pending++]=255&U}function L(x,U){var te,H,K=x.max_chain_length,V=x.strstart,W=x.prev_length,ee=x.nice_match,se=x.strstart>x.w_size-A?x.strstart-(x.w_size-A):0,ae=x.window,$=x.w_mask,m=x.prev,C=x.strstart+I,M=ae[V+W-1],J=ae[V+W];x.prev_length>=x.good_match&&(K>>=2),ee>x.lookahead&&(ee=x.lookahead);do if(ae[(te=U)+W]===J&&ae[te+W-1]===M&&ae[te]===ae[V]&&ae[++te]===ae[V+1]){V+=2,te++;do;while(ae[++V]===ae[++te]&&ae[++V]===ae[++te]&&ae[++V]===ae[++te]&&ae[++V]===ae[++te]&&ae[++V]===ae[++te]&&ae[++V]===ae[++te]&&ae[++V]===ae[++te]&&ae[++V]===ae[++te]&&V<C);if(H=I-(C-V),V=C-I,H>W){if(x.match_start=U,W=H,H>=ee)break;M=ae[V+W-1],J=ae[V+W]}}while((U=m[U&$])>se&&--K!=0);return W<=x.lookahead?W:x.lookahead}function G(x){var U,te,H,K,V,W,ee,se,ae,$,m=x.w_size;do{if(K=x.window_size-x.lookahead-x.strstart,x.strstart>=m+(m-A)){u.arraySet(x.window,x.window,m,m,0),x.match_start-=m,x.strstart-=m,x.block_start-=m,U=te=x.hash_size;do H=x.head[--U],x.head[U]=H>=m?H-m:0;while(--te);U=te=m;do H=x.prev[--U],x.prev[U]=H>=m?H-m:0;while(--te);K+=m}if(x.strm.avail_in===0)break;if(W=x.strm,ee=x.window,se=x.strstart+x.lookahead,ae=K,$=void 0,($=W.avail_in)>ae&&($=ae),te=$===0?0:(W.avail_in-=$,u.arraySet(ee,W.input,W.next_in,$,se),W.state.wrap===1?W.adler=p(W.adler,ee,$,se):W.state.wrap===2&&(W.adler=g(W.adler,ee,$,se)),W.next_in+=$,W.total_in+=$,$),x.lookahead+=te,x.lookahead+x.insert>=3)for(V=x.strstart-x.insert,x.ins_h=x.window[V],x.ins_h=(x.ins_h<<x.hash_shift^x.window[V+1])&x.hash_mask;x.insert&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[V+3-1])&x.hash_mask,x.prev[V&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=V,V++,x.insert--,!(x.lookahead+x.insert<3)););}while(x.lookahead<A&&x.strm.avail_in!==0)}function E(x,U){for(var te,H;;){if(x.lookahead<A){if(G(x),x.lookahead<A&&U===0)return 1;if(x.lookahead===0)break}if(te=0,x.lookahead>=3&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+3-1])&x.hash_mask,te=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),te!==0&&x.strstart-te<=x.w_size-A&&(x.match_length=L(x,te)),x.match_length>=3)if(H=h._tr_tally(x,x.strstart-x.match_start,x.match_length-3),x.lookahead-=x.match_length,x.match_length<=x.max_lazy_match&&x.lookahead>=3){x.match_length--;do x.strstart++,x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+3-1])&x.hash_mask,te=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart;while(--x.match_length!=0);x.strstart++}else x.strstart+=x.match_length,x.match_length=0,x.ins_h=x.window[x.strstart],x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+1])&x.hash_mask;else H=h._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++;if(H&&(D(x,!1),x.strm.avail_out===0))return 1}return x.insert=x.strstart<2?x.strstart:2,U===4?(D(x,!0),x.strm.avail_out===0?3:4):x.last_lit&&(D(x,!1),x.strm.avail_out===0)?1:2}function oe(x,U){for(var te,H,K;;){if(x.lookahead<A){if(G(x),x.lookahead<A&&U===0)return 1;if(x.lookahead===0)break}if(te=0,x.lookahead>=3&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+3-1])&x.hash_mask,te=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart),x.prev_length=x.match_length,x.prev_match=x.match_start,x.match_length=2,te!==0&&x.prev_length<x.max_lazy_match&&x.strstart-te<=x.w_size-A&&(x.match_length=L(x,te),x.match_length<=5&&(x.strategy===1||x.match_length===3&&x.strstart-x.match_start>4096)&&(x.match_length=2)),x.prev_length>=3&&x.match_length<=x.prev_length){K=x.strstart+x.lookahead-3,H=h._tr_tally(x,x.strstart-1-x.prev_match,x.prev_length-3),x.lookahead-=x.prev_length-1,x.prev_length-=2;do++x.strstart<=K&&(x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+3-1])&x.hash_mask,te=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart);while(--x.prev_length!=0);if(x.match_available=0,x.match_length=2,x.strstart++,H&&(D(x,!1),x.strm.avail_out===0))return 1}else if(x.match_available){if((H=h._tr_tally(x,0,x.window[x.strstart-1]))&&D(x,!1),x.strstart++,x.lookahead--,x.strm.avail_out===0)return 1}else x.match_available=1,x.strstart++,x.lookahead--}return x.match_available&&(H=h._tr_tally(x,0,x.window[x.strstart-1]),x.match_available=0),x.insert=x.strstart<2?x.strstart:2,U===4?(D(x,!0),x.strm.avail_out===0?3:4):x.last_lit&&(D(x,!1),x.strm.avail_out===0)?1:2}function ie(x,U,te,H,K){this.good_length=x,this.max_lazy=U,this.nice_length=te,this.max_chain=H,this.func=K}function z(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(1146),this.dyn_dtree=new u.Buf16(122),this.bl_tree=new u.Buf16(78),F(this.dyn_ltree),F(this.dyn_dtree),F(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(16),this.heap=new u.Buf16(573),F(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(573),F(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function be(x){var U;return x&&x.state?(x.total_in=x.total_out=0,x.data_type=2,(U=x.state).pending=0,U.pending_out=0,U.wrap<0&&(U.wrap=-U.wrap),U.status=U.wrap?42:b,x.adler=U.wrap===2?0:1,U.last_flush=0,h._tr_init(U),0):T(x,N)}function me(x){var U,te=be(x);return te===0&&((U=x.state).window_size=2*U.w_size,F(U.head),U.max_lazy_match=c[U.level].max_lazy,U.good_match=c[U.level].good_length,U.nice_match=c[U.level].nice_length,U.max_chain_length=c[U.level].max_chain,U.strstart=0,U.block_start=0,U.lookahead=0,U.insert=0,U.match_length=U.prev_length=2,U.match_available=0,U.ins_h=0),te}function Se(x,U,te,H,K,V){if(!x)return N;var W=1;if(U===-1&&(U=6),H<0?(W=0,H=-H):H>15&&(W=2,H-=16),K<1||K>9||te!==8||H<8||H>15||U<0||U>9||V<0||V>4)return T(x,N);H===8&&(H=9);var ee=new z;return x.state=ee,ee.strm=x,ee.wrap=W,ee.gzhead=null,ee.w_bits=H,ee.w_size=1<<ee.w_bits,ee.w_mask=ee.w_size-1,ee.hash_bits=K+7,ee.hash_size=1<<ee.hash_bits,ee.hash_mask=ee.hash_size-1,ee.hash_shift=~~((ee.hash_bits+3-1)/3),ee.window=new u.Buf8(2*ee.w_size),ee.head=new u.Buf16(ee.hash_size),ee.prev=new u.Buf16(ee.w_size),ee.lit_bufsize=1<<K+6,ee.pending_buf_size=4*ee.lit_bufsize,ee.pending_buf=new u.Buf8(ee.pending_buf_size),ee.d_buf=1*ee.lit_bufsize,ee.l_buf=3*ee.lit_bufsize,ee.level=U,ee.strategy=V,ee.method=te,me(x)}c=[new ie(0,0,0,0,function(x,U){var te=65535;for(te>x.pending_buf_size-5&&(te=x.pending_buf_size-5);;){if(x.lookahead<=1){if(G(x),x.lookahead===0&&U===0)return 1;if(x.lookahead===0)break}x.strstart+=x.lookahead,x.lookahead=0;var H=x.block_start+te;if((x.strstart===0||x.strstart>=H)&&(x.lookahead=x.strstart-H,x.strstart=H,D(x,!1),x.strm.avail_out===0)||x.strstart-x.block_start>=x.w_size-A&&(D(x,!1),x.strm.avail_out===0))return 1}return x.insert=0,U===4?(D(x,!0),x.strm.avail_out===0?3:4):(x.strstart>x.block_start&&(D(x,!1),x.strm.avail_out),1)}),new ie(4,4,8,4,E),new ie(4,5,16,8,E),new ie(4,6,32,32,E),new ie(4,4,16,16,oe),new ie(8,16,32,32,oe),new ie(8,16,128,128,oe),new ie(8,32,128,256,oe),new ie(32,128,258,1024,oe),new ie(32,258,258,4096,oe)],l.deflateInit=function(x,U){return Se(x,U,8,15,8,0)},l.deflateInit2=Se,l.deflateReset=me,l.deflateResetKeep=be,l.deflateSetHeader=function(x,U){return x&&x.state?x.state.wrap!==2?N:(x.state.gzhead=U,0):N},l.deflate=function(x,U){var te,H,K,V;if(!x||!x.state||U>5||U<0)return x?T(x,N):N;if(H=x.state,!x.output||!x.input&&x.avail_in!==0||H.status===w&&U!==4)return T(x,x.avail_out===0?-5:N);if(H.strm=x,te=H.last_flush,H.last_flush=U,H.status===42)if(H.wrap===2)x.adler=0,P(H,31),P(H,139),P(H,8),H.gzhead?(P(H,(H.gzhead.text?1:0)+(H.gzhead.hcrc?2:0)+(H.gzhead.extra?4:0)+(H.gzhead.name?8:0)+(H.gzhead.comment?16:0)),P(H,255&H.gzhead.time),P(H,H.gzhead.time>>8&255),P(H,H.gzhead.time>>16&255),P(H,H.gzhead.time>>24&255),P(H,H.level===9?2:H.strategy>=2||H.level<2?4:0),P(H,255&H.gzhead.os),H.gzhead.extra&&H.gzhead.extra.length&&(P(H,255&H.gzhead.extra.length),P(H,H.gzhead.extra.length>>8&255)),H.gzhead.hcrc&&(x.adler=g(x.adler,H.pending_buf,H.pending,0)),H.gzindex=0,H.status=69):(P(H,0),P(H,0),P(H,0),P(H,0),P(H,0),P(H,H.level===9?2:H.strategy>=2||H.level<2?4:0),P(H,3),H.status=b);else{var W=8+(H.w_bits-8<<4)<<8;W|=(H.strategy>=2||H.level<2?0:H.level<6?1:H.level===6?2:3)<<6,H.strstart!==0&&(W|=32),W+=31-W%31,H.status=b,B(H,W),H.strstart!==0&&(B(H,x.adler>>>16),B(H,65535&x.adler)),x.adler=1}if(H.status===69)if(H.gzhead.extra){for(K=H.pending;H.gzindex<(65535&H.gzhead.extra.length)&&(H.pending!==H.pending_buf_size||(H.gzhead.hcrc&&H.pending>K&&(x.adler=g(x.adler,H.pending_buf,H.pending-K,K)),j(x),K=H.pending,H.pending!==H.pending_buf_size));)P(H,255&H.gzhead.extra[H.gzindex]),H.gzindex++;H.gzhead.hcrc&&H.pending>K&&(x.adler=g(x.adler,H.pending_buf,H.pending-K,K)),H.gzindex===H.gzhead.extra.length&&(H.gzindex=0,H.status=73)}else H.status=73;if(H.status===73)if(H.gzhead.name){K=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>K&&(x.adler=g(x.adler,H.pending_buf,H.pending-K,K)),j(x),K=H.pending,H.pending===H.pending_buf_size)){V=1;break}V=H.gzindex<H.gzhead.name.length?255&H.gzhead.name.charCodeAt(H.gzindex++):0,P(H,V)}while(V!==0);H.gzhead.hcrc&&H.pending>K&&(x.adler=g(x.adler,H.pending_buf,H.pending-K,K)),V===0&&(H.gzindex=0,H.status=91)}else H.status=91;if(H.status===91)if(H.gzhead.comment){K=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>K&&(x.adler=g(x.adler,H.pending_buf,H.pending-K,K)),j(x),K=H.pending,H.pending===H.pending_buf_size)){V=1;break}V=H.gzindex<H.gzhead.comment.length?255&H.gzhead.comment.charCodeAt(H.gzindex++):0,P(H,V)}while(V!==0);H.gzhead.hcrc&&H.pending>K&&(x.adler=g(x.adler,H.pending_buf,H.pending-K,K)),V===0&&(H.status=S)}else H.status=S;if(H.status===S&&(H.gzhead.hcrc?(H.pending+2>H.pending_buf_size&&j(x),H.pending+2<=H.pending_buf_size&&(P(H,255&x.adler),P(H,x.adler>>8&255),x.adler=0,H.status=b)):H.status=b),H.pending!==0){if(j(x),x.avail_out===0)return H.last_flush=-1,0}else if(x.avail_in===0&&k(U)<=k(te)&&U!==4)return T(x,-5);if(H.status===w&&x.avail_in!==0)return T(x,-5);if(x.avail_in!==0||H.lookahead!==0||U!==0&&H.status!==w){var ee=H.strategy===2?function(se,ae){for(var $;;){if(se.lookahead===0&&(G(se),se.lookahead===0)){if(ae===0)return 1;break}if(se.match_length=0,$=h._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++,$&&(D(se,!1),se.strm.avail_out===0))return 1}return se.insert=0,ae===4?(D(se,!0),se.strm.avail_out===0?3:4):se.last_lit&&(D(se,!1),se.strm.avail_out===0)?1:2}(H,U):H.strategy===3?function(se,ae){for(var $,m,C,M,J=se.window;;){if(se.lookahead<=I){if(G(se),se.lookahead<=I&&ae===0)return 1;if(se.lookahead===0)break}if(se.match_length=0,se.lookahead>=3&&se.strstart>0&&(m=J[C=se.strstart-1])===J[++C]&&m===J[++C]&&m===J[++C]){M=se.strstart+I;do;while(m===J[++C]&&m===J[++C]&&m===J[++C]&&m===J[++C]&&m===J[++C]&&m===J[++C]&&m===J[++C]&&m===J[++C]&&C<M);se.match_length=I-(M-C),se.match_length>se.lookahead&&(se.match_length=se.lookahead)}if(se.match_length>=3?($=h._tr_tally(se,1,se.match_length-3),se.lookahead-=se.match_length,se.strstart+=se.match_length,se.match_length=0):($=h._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++),$&&(D(se,!1),se.strm.avail_out===0))return 1}return se.insert=0,ae===4?(D(se,!0),se.strm.avail_out===0?3:4):se.last_lit&&(D(se,!1),se.strm.avail_out===0)?1:2}(H,U):c[H.level].func(H,U);if(ee!==3&&ee!==4||(H.status=w),ee===1||ee===3)return x.avail_out===0&&(H.last_flush=-1),0;if(ee===2&&(U===1?h._tr_align(H):U!==5&&(h._tr_stored_block(H,0,0,!1),U===3&&(F(H.head),H.lookahead===0&&(H.strstart=0,H.block_start=0,H.insert=0))),j(x),x.avail_out===0))return H.last_flush=-1,0}return U!==4?0:H.wrap<=0?1:(H.wrap===2?(P(H,255&x.adler),P(H,x.adler>>8&255),P(H,x.adler>>16&255),P(H,x.adler>>24&255),P(H,255&x.total_in),P(H,x.total_in>>8&255),P(H,x.total_in>>16&255),P(H,x.total_in>>24&255)):(B(H,x.adler>>>16),B(H,65535&x.adler)),j(x),H.wrap>0&&(H.wrap=-H.wrap),H.pending!==0?0:1)},l.deflateEnd=function(x){var U;return x&&x.state?(U=x.state.status)!==42&&U!==69&&U!==73&&U!==91&&U!==S&&U!==b&&U!==w?T(x,N):(x.state=null,U===b?T(x,-3):0):N},l.deflateSetDictionary=function(x,U){var te,H,K,V,W,ee,se,ae,$=U.length;if(!x||!x.state||(V=(te=x.state).wrap)===2||V===1&&te.status!==42||te.lookahead)return N;for(V===1&&(x.adler=p(x.adler,U,$,0)),te.wrap=0,$>=te.w_size&&(V===0&&(F(te.head),te.strstart=0,te.block_start=0,te.insert=0),ae=new u.Buf8(te.w_size),u.arraySet(ae,U,$-te.w_size,te.w_size,0),U=ae,$=te.w_size),W=x.avail_in,ee=x.next_in,se=x.input,x.avail_in=$,x.next_in=0,x.input=U,G(te);te.lookahead>=3;){H=te.strstart,K=te.lookahead-2;do te.ins_h=(te.ins_h<<te.hash_shift^te.window[H+3-1])&te.hash_mask,te.prev[H&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=H,H++;while(--K);te.strstart=H,te.lookahead=2,G(te)}return te.strstart+=te.lookahead,te.block_start=te.strstart,te.insert=te.lookahead,te.lookahead=0,te.match_length=te.prev_length=2,te.match_available=0,x.next_in=ee,x.input=se,x.avail_in=W,te.wrap=V,0},l.deflateInfo="pako deflate (from Nodeca project)"},2401:s=>{s.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},4264:s=>{s.exports=function(l,a){var c,u,h,p,g,y,N,I,A,S,b,w,T,k,F,j,D,P,B,L,G,E,oe,ie,z;c=l.state,u=l.next_in,ie=l.input,h=u+(l.avail_in-5),p=l.next_out,z=l.output,g=p-(a-l.avail_out),y=p+(l.avail_out-257),N=c.dmax,I=c.wsize,A=c.whave,S=c.wnext,b=c.window,w=c.hold,T=c.bits,k=c.lencode,F=c.distcode,j=(1<<c.lenbits)-1,D=(1<<c.distbits)-1;e:do{T<15&&(w+=ie[u++]<<T,T+=8,w+=ie[u++]<<T,T+=8),P=k[w&j];t:for(;;){if(w>>>=B=P>>>24,T-=B,(B=P>>>16&255)==0)z[p++]=65535&P;else{if(!(16&B)){if(!(64&B)){P=k[(65535&P)+(w&(1<<B)-1)];continue t}if(32&B){c.mode=12;break e}l.msg="invalid literal/length code",c.mode=30;break e}L=65535&P,(B&=15)&&(T<B&&(w+=ie[u++]<<T,T+=8),L+=w&(1<<B)-1,w>>>=B,T-=B),T<15&&(w+=ie[u++]<<T,T+=8,w+=ie[u++]<<T,T+=8),P=F[w&D];o:for(;;){if(w>>>=B=P>>>24,T-=B,!(16&(B=P>>>16&255))){if(!(64&B)){P=F[(65535&P)+(w&(1<<B)-1)];continue o}l.msg="invalid distance code",c.mode=30;break e}if(G=65535&P,T<(B&=15)&&(w+=ie[u++]<<T,(T+=8)<B&&(w+=ie[u++]<<T,T+=8)),(G+=w&(1<<B)-1)>N){l.msg="invalid distance too far back",c.mode=30;break e}if(w>>>=B,T-=B,G>(B=p-g)){if((B=G-B)>A&&c.sane){l.msg="invalid distance too far back",c.mode=30;break e}if(E=0,oe=b,S===0){if(E+=I-B,B<L){L-=B;do z[p++]=b[E++];while(--B);E=p-G,oe=z}}else if(S<B){if(E+=I+S-B,(B-=S)<L){L-=B;do z[p++]=b[E++];while(--B);if(E=0,S<L){L-=B=S;do z[p++]=b[E++];while(--B);E=p-G,oe=z}}}else if(E+=S-B,B<L){L-=B;do z[p++]=b[E++];while(--B);E=p-G,oe=z}for(;L>2;)z[p++]=oe[E++],z[p++]=oe[E++],z[p++]=oe[E++],L-=3;L&&(z[p++]=oe[E++],L>1&&(z[p++]=oe[E++]))}else{E=p-G;do z[p++]=z[E++],z[p++]=z[E++],z[p++]=z[E++],L-=3;while(L>2);L&&(z[p++]=z[E++],L>1&&(z[p++]=z[E++]))}break}}break}}while(u<h&&p<y);u-=L=T>>3,w&=(1<<(T-=L<<3))-1,l.next_in=u,l.next_out=p,l.avail_in=u<h?h-u+5:5-(u-h),l.avail_out=p<y?y-p+257:257-(p-y),c.hold=w,c.bits=T}},7948:(s,l,a)=>{var c=a(4236),u=a(6069),h=a(2869),p=a(4264),g=a(9241),y=-2,N=12,I=30;function A(L){return(L>>>24&255)+(L>>>8&65280)+((65280&L)<<8)+((255&L)<<24)}function S(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(L){var G;return L&&L.state?(G=L.state,L.total_in=L.total_out=G.total=0,L.msg="",G.wrap&&(L.adler=1&G.wrap),G.mode=1,G.last=0,G.havedict=0,G.dmax=32768,G.head=null,G.hold=0,G.bits=0,G.lencode=G.lendyn=new c.Buf32(852),G.distcode=G.distdyn=new c.Buf32(592),G.sane=1,G.back=-1,0):y}function w(L){var G;return L&&L.state?((G=L.state).wsize=0,G.whave=0,G.wnext=0,b(L)):y}function T(L,G){var E,oe;return L&&L.state?(oe=L.state,G<0?(E=0,G=-G):(E=1+(G>>4),G<48&&(G&=15)),G&&(G<8||G>15)?y:(oe.window!==null&&oe.wbits!==G&&(oe.window=null),oe.wrap=E,oe.wbits=G,w(L))):y}function k(L,G){var E,oe;return L?(oe=new S,L.state=oe,oe.window=null,(E=T(L,G))!==0&&(L.state=null),E):y}var F,j,D=!0;function P(L){if(D){var G;for(F=new c.Buf32(512),j=new c.Buf32(32),G=0;G<144;)L.lens[G++]=8;for(;G<256;)L.lens[G++]=9;for(;G<280;)L.lens[G++]=7;for(;G<288;)L.lens[G++]=8;for(g(1,L.lens,0,288,F,0,L.work,{bits:9}),G=0;G<32;)L.lens[G++]=5;g(2,L.lens,0,32,j,0,L.work,{bits:5}),D=!1}L.lencode=F,L.lenbits=9,L.distcode=j,L.distbits=5}function B(L,G,E,oe){var ie,z=L.state;return z.window===null&&(z.wsize=1<<z.wbits,z.wnext=0,z.whave=0,z.window=new c.Buf8(z.wsize)),oe>=z.wsize?(c.arraySet(z.window,G,E-z.wsize,z.wsize,0),z.wnext=0,z.whave=z.wsize):((ie=z.wsize-z.wnext)>oe&&(ie=oe),c.arraySet(z.window,G,E-oe,ie,z.wnext),(oe-=ie)?(c.arraySet(z.window,G,E-oe,oe,0),z.wnext=oe,z.whave=z.wsize):(z.wnext+=ie,z.wnext===z.wsize&&(z.wnext=0),z.whave<z.wsize&&(z.whave+=ie))),0}l.inflateReset=w,l.inflateReset2=T,l.inflateResetKeep=b,l.inflateInit=function(L){return k(L,15)},l.inflateInit2=k,l.inflate=function(L,G){var E,oe,ie,z,be,me,Se,x,U,te,H,K,V,W,ee,se,ae,$,m,C,M,J,le,fe,de=0,pe=new c.Buf8(4),_e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!L||!L.state||!L.output||!L.input&&L.avail_in!==0)return y;(E=L.state).mode===N&&(E.mode=13),be=L.next_out,ie=L.output,Se=L.avail_out,z=L.next_in,oe=L.input,me=L.avail_in,x=E.hold,U=E.bits,te=me,H=Se,J=0;e:for(;;)switch(E.mode){case 1:if(E.wrap===0){E.mode=13;break}for(;U<16;){if(me===0)break e;me--,x+=oe[z++]<<U,U+=8}if(2&E.wrap&&x===35615){E.check=0,pe[0]=255&x,pe[1]=x>>>8&255,E.check=h(E.check,pe,2,0),x=0,U=0,E.mode=2;break}if(E.flags=0,E.head&&(E.head.done=!1),!(1&E.wrap)||(((255&x)<<8)+(x>>8))%31){L.msg="incorrect header check",E.mode=I;break}if((15&x)!=8){L.msg="unknown compression method",E.mode=I;break}if(U-=4,M=8+(15&(x>>>=4)),E.wbits===0)E.wbits=M;else if(M>E.wbits){L.msg="invalid window size",E.mode=I;break}E.dmax=1<<M,L.adler=E.check=1,E.mode=512&x?10:N,x=0,U=0;break;case 2:for(;U<16;){if(me===0)break e;me--,x+=oe[z++]<<U,U+=8}if(E.flags=x,(255&E.flags)!=8){L.msg="unknown compression method",E.mode=I;break}if(57344&E.flags){L.msg="unknown header flags set",E.mode=I;break}E.head&&(E.head.text=x>>8&1),512&E.flags&&(pe[0]=255&x,pe[1]=x>>>8&255,E.check=h(E.check,pe,2,0)),x=0,U=0,E.mode=3;case 3:for(;U<32;){if(me===0)break e;me--,x+=oe[z++]<<U,U+=8}E.head&&(E.head.time=x),512&E.flags&&(pe[0]=255&x,pe[1]=x>>>8&255,pe[2]=x>>>16&255,pe[3]=x>>>24&255,E.check=h(E.check,pe,4,0)),x=0,U=0,E.mode=4;case 4:for(;U<16;){if(me===0)break e;me--,x+=oe[z++]<<U,U+=8}E.head&&(E.head.xflags=255&x,E.head.os=x>>8),512&E.flags&&(pe[0]=255&x,pe[1]=x>>>8&255,E.check=h(E.check,pe,2,0)),x=0,U=0,E.mode=5;case 5:if(1024&E.flags){for(;U<16;){if(me===0)break e;me--,x+=oe[z++]<<U,U+=8}E.length=x,E.head&&(E.head.extra_len=x),512&E.flags&&(pe[0]=255&x,pe[1]=x>>>8&255,E.check=h(E.check,pe,2,0)),x=0,U=0}else E.head&&(E.head.extra=null);E.mode=6;case 6:if(1024&E.flags&&((K=E.length)>me&&(K=me),K&&(E.head&&(M=E.head.extra_len-E.length,E.head.extra||(E.head.extra=new Array(E.head.extra_len)),c.arraySet(E.head.extra,oe,z,K,M)),512&E.flags&&(E.check=h(E.check,oe,K,z)),me-=K,z+=K,E.length-=K),E.length))break e;E.length=0,E.mode=7;case 7:if(2048&E.flags){if(me===0)break e;K=0;do M=oe[z+K++],E.head&&M&&E.length<65536&&(E.head.name+=String.fromCharCode(M));while(M&&K<me);if(512&E.flags&&(E.check=h(E.check,oe,K,z)),me-=K,z+=K,M)break e}else E.head&&(E.head.name=null);E.length=0,E.mode=8;case 8:if(4096&E.flags){if(me===0)break e;K=0;do M=oe[z+K++],E.head&&M&&E.length<65536&&(E.head.comment+=String.fromCharCode(M));while(M&&K<me);if(512&E.flags&&(E.check=h(E.check,oe,K,z)),me-=K,z+=K,M)break e}else E.head&&(E.head.comment=null);E.mode=9;case 9:if(512&E.flags){for(;U<16;){if(me===0)break e;me--,x+=oe[z++]<<U,U+=8}if(x!==(65535&E.check)){L.msg="header crc mismatch",E.mode=I;break}x=0,U=0}E.head&&(E.head.hcrc=E.flags>>9&1,E.head.done=!0),L.adler=E.check=0,E.mode=N;break;case 10:for(;U<32;){if(me===0)break e;me--,x+=oe[z++]<<U,U+=8}L.adler=E.check=A(x),x=0,U=0,E.mode=11;case 11:if(E.havedict===0)return L.next_out=be,L.avail_out=Se,L.next_in=z,L.avail_in=me,E.hold=x,E.bits=U,2;L.adler=E.check=1,E.mode=N;case N:if(G===5||G===6)break e;case 13:if(E.last){x>>>=7&U,U-=7&U,E.mode=27;break}for(;U<3;){if(me===0)break e;me--,x+=oe[z++]<<U,U+=8}switch(E.last=1&x,U-=1,3&(x>>>=1)){case 0:E.mode=14;break;case 1:if(P(E),E.mode=20,G===6){x>>>=2,U-=2;break e}break;case 2:E.mode=17;break;case 3:L.msg="invalid block type",E.mode=I}x>>>=2,U-=2;break;case 14:for(x>>>=7&U,U-=7&U;U<32;){if(me===0)break e;me--,x+=oe[z++]<<U,U+=8}if((65535&x)!=(x>>>16^65535)){L.msg="invalid stored block lengths",E.mode=I;break}if(E.length=65535&x,x=0,U=0,E.mode=15,G===6)break e;case 15:E.mode=16;case 16:if(K=E.length){if(K>me&&(K=me),K>Se&&(K=Se),K===0)break e;c.arraySet(ie,oe,z,K,be),me-=K,z+=K,Se-=K,be+=K,E.length-=K;break}E.mode=N;break;case 17:for(;U<14;){if(me===0)break e;me--,x+=oe[z++]<<U,U+=8}if(E.nlen=257+(31&x),x>>>=5,U-=5,E.ndist=1+(31&x),x>>>=5,U-=5,E.ncode=4+(15&x),x>>>=4,U-=4,E.nlen>286||E.ndist>30){L.msg="too many length or distance symbols",E.mode=I;break}E.have=0,E.mode=18;case 18:for(;E.have<E.ncode;){for(;U<3;){if(me===0)break e;me--,x+=oe[z++]<<U,U+=8}E.lens[_e[E.have++]]=7&x,x>>>=3,U-=3}for(;E.have<19;)E.lens[_e[E.have++]]=0;if(E.lencode=E.lendyn,E.lenbits=7,le={bits:E.lenbits},J=g(0,E.lens,0,19,E.lencode,0,E.work,le),E.lenbits=le.bits,J){L.msg="invalid code lengths set",E.mode=I;break}E.have=0,E.mode=19;case 19:for(;E.have<E.nlen+E.ndist;){for(;se=(de=E.lencode[x&(1<<E.lenbits)-1])>>>16&255,ae=65535&de,!((ee=de>>>24)<=U);){if(me===0)break e;me--,x+=oe[z++]<<U,U+=8}if(ae<16)x>>>=ee,U-=ee,E.lens[E.have++]=ae;else{if(ae===16){for(fe=ee+2;U<fe;){if(me===0)break e;me--,x+=oe[z++]<<U,U+=8}if(x>>>=ee,U-=ee,E.have===0){L.msg="invalid bit length repeat",E.mode=I;break}M=E.lens[E.have-1],K=3+(3&x),x>>>=2,U-=2}else if(ae===17){for(fe=ee+3;U<fe;){if(me===0)break e;me--,x+=oe[z++]<<U,U+=8}U-=ee,M=0,K=3+(7&(x>>>=ee)),x>>>=3,U-=3}else{for(fe=ee+7;U<fe;){if(me===0)break e;me--,x+=oe[z++]<<U,U+=8}U-=ee,M=0,K=11+(127&(x>>>=ee)),x>>>=7,U-=7}if(E.have+K>E.nlen+E.ndist){L.msg="invalid bit length repeat",E.mode=I;break}for(;K--;)E.lens[E.have++]=M}}if(E.mode===I)break;if(E.lens[256]===0){L.msg="invalid code -- missing end-of-block",E.mode=I;break}if(E.lenbits=9,le={bits:E.lenbits},J=g(1,E.lens,0,E.nlen,E.lencode,0,E.work,le),E.lenbits=le.bits,J){L.msg="invalid literal/lengths set",E.mode=I;break}if(E.distbits=6,E.distcode=E.distdyn,le={bits:E.distbits},J=g(2,E.lens,E.nlen,E.ndist,E.distcode,0,E.work,le),E.distbits=le.bits,J){L.msg="invalid distances set",E.mode=I;break}if(E.mode=20,G===6)break e;case 20:E.mode=21;case 21:if(me>=6&&Se>=258){L.next_out=be,L.avail_out=Se,L.next_in=z,L.avail_in=me,E.hold=x,E.bits=U,p(L,H),be=L.next_out,ie=L.output,Se=L.avail_out,z=L.next_in,oe=L.input,me=L.avail_in,x=E.hold,U=E.bits,E.mode===N&&(E.back=-1);break}for(E.back=0;se=(de=E.lencode[x&(1<<E.lenbits)-1])>>>16&255,ae=65535&de,!((ee=de>>>24)<=U);){if(me===0)break e;me--,x+=oe[z++]<<U,U+=8}if(se&&!(240&se)){for($=ee,m=se,C=ae;se=(de=E.lencode[C+((x&(1<<$+m)-1)>>$)])>>>16&255,ae=65535&de,!($+(ee=de>>>24)<=U);){if(me===0)break e;me--,x+=oe[z++]<<U,U+=8}x>>>=$,U-=$,E.back+=$}if(x>>>=ee,U-=ee,E.back+=ee,E.length=ae,se===0){E.mode=26;break}if(32&se){E.back=-1,E.mode=N;break}if(64&se){L.msg="invalid literal/length code",E.mode=I;break}E.extra=15&se,E.mode=22;case 22:if(E.extra){for(fe=E.extra;U<fe;){if(me===0)break e;me--,x+=oe[z++]<<U,U+=8}E.length+=x&(1<<E.extra)-1,x>>>=E.extra,U-=E.extra,E.back+=E.extra}E.was=E.length,E.mode=23;case 23:for(;se=(de=E.distcode[x&(1<<E.distbits)-1])>>>16&255,ae=65535&de,!((ee=de>>>24)<=U);){if(me===0)break e;me--,x+=oe[z++]<<U,U+=8}if(!(240&se)){for($=ee,m=se,C=ae;se=(de=E.distcode[C+((x&(1<<$+m)-1)>>$)])>>>16&255,ae=65535&de,!($+(ee=de>>>24)<=U);){if(me===0)break e;me--,x+=oe[z++]<<U,U+=8}x>>>=$,U-=$,E.back+=$}if(x>>>=ee,U-=ee,E.back+=ee,64&se){L.msg="invalid distance code",E.mode=I;break}E.offset=ae,E.extra=15&se,E.mode=24;case 24:if(E.extra){for(fe=E.extra;U<fe;){if(me===0)break e;me--,x+=oe[z++]<<U,U+=8}E.offset+=x&(1<<E.extra)-1,x>>>=E.extra,U-=E.extra,E.back+=E.extra}if(E.offset>E.dmax){L.msg="invalid distance too far back",E.mode=I;break}E.mode=25;case 25:if(Se===0)break e;if(K=H-Se,E.offset>K){if((K=E.offset-K)>E.whave&&E.sane){L.msg="invalid distance too far back",E.mode=I;break}K>E.wnext?(K-=E.wnext,V=E.wsize-K):V=E.wnext-K,K>E.length&&(K=E.length),W=E.window}else W=ie,V=be-E.offset,K=E.length;K>Se&&(K=Se),Se-=K,E.length-=K;do ie[be++]=W[V++];while(--K);E.length===0&&(E.mode=21);break;case 26:if(Se===0)break e;ie[be++]=E.length,Se--,E.mode=21;break;case 27:if(E.wrap){for(;U<32;){if(me===0)break e;me--,x|=oe[z++]<<U,U+=8}if(H-=Se,L.total_out+=H,E.total+=H,H&&(L.adler=E.check=E.flags?h(E.check,ie,H,be-H):u(E.check,ie,H,be-H)),H=Se,(E.flags?x:A(x))!==E.check){L.msg="incorrect data check",E.mode=I;break}x=0,U=0}E.mode=28;case 28:if(E.wrap&&E.flags){for(;U<32;){if(me===0)break e;me--,x+=oe[z++]<<U,U+=8}if(x!==(4294967295&E.total)){L.msg="incorrect length check",E.mode=I;break}x=0,U=0}E.mode=29;case 29:J=1;break e;case I:J=-3;break e;case 31:return-4;default:return y}return L.next_out=be,L.avail_out=Se,L.next_in=z,L.avail_in=me,E.hold=x,E.bits=U,(E.wsize||H!==L.avail_out&&E.mode<I&&(E.mode<27||G!==4))&&B(L,L.output,L.next_out,H-L.avail_out)?(E.mode=31,-4):(te-=L.avail_in,H-=L.avail_out,L.total_in+=te,L.total_out+=H,E.total+=H,E.wrap&&H&&(L.adler=E.check=E.flags?h(E.check,ie,H,L.next_out-H):u(E.check,ie,H,L.next_out-H)),L.data_type=E.bits+(E.last?64:0)+(E.mode===N?128:0)+(E.mode===20||E.mode===15?256:0),(te===0&&H===0||G===4)&&J===0&&(J=-5),J)},l.inflateEnd=function(L){if(!L||!L.state)return y;var G=L.state;return G.window&&(G.window=null),L.state=null,0},l.inflateGetHeader=function(L,G){var E;return L&&L.state&&2&(E=L.state).wrap?(E.head=G,G.done=!1,0):y},l.inflateSetDictionary=function(L,G){var E,oe=G.length;return L&&L.state?(E=L.state).wrap!==0&&E.mode!==11?y:E.mode===11&&u(1,G,oe,0)!==E.check?-3:B(L,G,oe,oe)?(E.mode=31,-4):(E.havedict=1,0):y},l.inflateInfo="pako inflate (from Nodeca project)"},9241:(s,l,a)=>{var c=a(4236),u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];s.exports=function(y,N,I,A,S,b,w,T){var k,F,j,D,P,B,L,G,E,oe=T.bits,ie=0,z=0,be=0,me=0,Se=0,x=0,U=0,te=0,H=0,K=0,V=null,W=0,ee=new c.Buf16(16),se=new c.Buf16(16),ae=null,$=0;for(ie=0;ie<=15;ie++)ee[ie]=0;for(z=0;z<A;z++)ee[N[I+z]]++;for(Se=oe,me=15;me>=1&&ee[me]===0;me--);if(Se>me&&(Se=me),me===0)return S[b++]=20971520,S[b++]=20971520,T.bits=1,0;for(be=1;be<me&&ee[be]===0;be++);for(Se<be&&(Se=be),te=1,ie=1;ie<=15;ie++)if(te<<=1,(te-=ee[ie])<0)return-1;if(te>0&&(y===0||me!==1))return-1;for(se[1]=0,ie=1;ie<15;ie++)se[ie+1]=se[ie]+ee[ie];for(z=0;z<A;z++)N[I+z]!==0&&(w[se[N[I+z]]++]=z);if(y===0?(V=ae=w,B=19):y===1?(V=u,W-=257,ae=h,$-=257,B=256):(V=p,ae=g,B=-1),K=0,z=0,ie=be,P=b,x=Se,U=0,j=-1,D=(H=1<<Se)-1,y===1&&H>852||y===2&&H>592)return 1;for(;;){L=ie-U,w[z]<B?(G=0,E=w[z]):w[z]>B?(G=ae[$+w[z]],E=V[W+w[z]]):(G=96,E=0),k=1<<ie-U,be=F=1<<x;do S[P+(K>>U)+(F-=k)]=L<<24|G<<16|E|0;while(F!==0);for(k=1<<ie-1;K&k;)k>>=1;if(k!==0?(K&=k-1,K+=k):K=0,z++,--ee[ie]==0){if(ie===me)break;ie=N[I+w[z]]}if(ie>Se&&(K&D)!==j){for(U===0&&(U=Se),P+=be,te=1<<(x=ie-U);x+U<me&&!((te-=ee[x+U])<=0);)x++,te<<=1;if(H+=1<<x,y===1&&H>852||y===2&&H>592)return 1;S[j=K&D]=Se<<24|x<<16|P-b|0}}return K!==0&&(S[P+K]=ie-U<<24|4194304|0),T.bits=Se,0}},8898:s=>{s.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},342:(s,l,a)=>{var c=a(4236);function u(V){for(var W=V.length;--W>=0;)V[W]=0}var h=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],p=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],N=new Array(576);u(N);var I=new Array(60);u(I);var A=new Array(512);u(A);var S=new Array(256);u(S);var b=new Array(29);u(b);var w,T,k,F=new Array(30);function j(V,W,ee,se,ae){this.static_tree=V,this.extra_bits=W,this.extra_base=ee,this.elems=se,this.max_length=ae,this.has_stree=V&&V.length}function D(V,W){this.dyn_tree=V,this.max_code=0,this.stat_desc=W}function P(V){return V<256?A[V]:A[256+(V>>>7)]}function B(V,W){V.pending_buf[V.pending++]=255&W,V.pending_buf[V.pending++]=W>>>8&255}function L(V,W,ee){V.bi_valid>16-ee?(V.bi_buf|=W<<V.bi_valid&65535,B(V,V.bi_buf),V.bi_buf=W>>16-V.bi_valid,V.bi_valid+=ee-16):(V.bi_buf|=W<<V.bi_valid&65535,V.bi_valid+=ee)}function G(V,W,ee){L(V,ee[2*W],ee[2*W+1])}function E(V,W){var ee=0;do ee|=1&V,V>>>=1,ee<<=1;while(--W>0);return ee>>>1}function oe(V,W,ee){var se,ae,$=new Array(16),m=0;for(se=1;se<=15;se++)$[se]=m=m+ee[se-1]<<1;for(ae=0;ae<=W;ae++){var C=V[2*ae+1];C!==0&&(V[2*ae]=E($[C]++,C))}}function ie(V){var W;for(W=0;W<286;W++)V.dyn_ltree[2*W]=0;for(W=0;W<30;W++)V.dyn_dtree[2*W]=0;for(W=0;W<19;W++)V.bl_tree[2*W]=0;V.dyn_ltree[512]=1,V.opt_len=V.static_len=0,V.last_lit=V.matches=0}function z(V){V.bi_valid>8?B(V,V.bi_buf):V.bi_valid>0&&(V.pending_buf[V.pending++]=V.bi_buf),V.bi_buf=0,V.bi_valid=0}function be(V,W,ee,se){var ae=2*W,$=2*ee;return V[ae]<V[$]||V[ae]===V[$]&&se[W]<=se[ee]}function me(V,W,ee){for(var se=V.heap[ee],ae=ee<<1;ae<=V.heap_len&&(ae<V.heap_len&&be(W,V.heap[ae+1],V.heap[ae],V.depth)&&ae++,!be(W,se,V.heap[ae],V.depth));)V.heap[ee]=V.heap[ae],ee=ae,ae<<=1;V.heap[ee]=se}function Se(V,W,ee){var se,ae,$,m,C=0;if(V.last_lit!==0)do se=V.pending_buf[V.d_buf+2*C]<<8|V.pending_buf[V.d_buf+2*C+1],ae=V.pending_buf[V.l_buf+C],C++,se===0?G(V,ae,W):(G(V,($=S[ae])+256+1,W),(m=h[$])!==0&&L(V,ae-=b[$],m),G(V,$=P(--se),ee),(m=p[$])!==0&&L(V,se-=F[$],m));while(C<V.last_lit);G(V,256,W)}function x(V,W){var ee,se,ae,$=W.dyn_tree,m=W.stat_desc.static_tree,C=W.stat_desc.has_stree,M=W.stat_desc.elems,J=-1;for(V.heap_len=0,V.heap_max=573,ee=0;ee<M;ee++)$[2*ee]!==0?(V.heap[++V.heap_len]=J=ee,V.depth[ee]=0):$[2*ee+1]=0;for(;V.heap_len<2;)$[2*(ae=V.heap[++V.heap_len]=J<2?++J:0)]=1,V.depth[ae]=0,V.opt_len--,C&&(V.static_len-=m[2*ae+1]);for(W.max_code=J,ee=V.heap_len>>1;ee>=1;ee--)me(V,$,ee);ae=M;do ee=V.heap[1],V.heap[1]=V.heap[V.heap_len--],me(V,$,1),se=V.heap[1],V.heap[--V.heap_max]=ee,V.heap[--V.heap_max]=se,$[2*ae]=$[2*ee]+$[2*se],V.depth[ae]=(V.depth[ee]>=V.depth[se]?V.depth[ee]:V.depth[se])+1,$[2*ee+1]=$[2*se+1]=ae,V.heap[1]=ae++,me(V,$,1);while(V.heap_len>=2);V.heap[--V.heap_max]=V.heap[1],function(le,fe){var de,pe,_e,ge,De,Re,_=fe.dyn_tree,O=fe.max_code,q=fe.stat_desc.static_tree,ne=fe.stat_desc.has_stree,ce=fe.stat_desc.extra_bits,ue=fe.stat_desc.extra_base,Ne=fe.stat_desc.max_length,je=0;for(ge=0;ge<=15;ge++)le.bl_count[ge]=0;for(_[2*le.heap[le.heap_max]+1]=0,de=le.heap_max+1;de<573;de++)(ge=_[2*_[2*(pe=le.heap[de])+1]+1]+1)>Ne&&(ge=Ne,je++),_[2*pe+1]=ge,pe>O||(le.bl_count[ge]++,De=0,pe>=ue&&(De=ce[pe-ue]),Re=_[2*pe],le.opt_len+=Re*(ge+De),ne&&(le.static_len+=Re*(q[2*pe+1]+De)));if(je!==0){do{for(ge=Ne-1;le.bl_count[ge]===0;)ge--;le.bl_count[ge]--,le.bl_count[ge+1]+=2,le.bl_count[Ne]--,je-=2}while(je>0);for(ge=Ne;ge!==0;ge--)for(pe=le.bl_count[ge];pe!==0;)(_e=le.heap[--de])>O||(_[2*_e+1]!==ge&&(le.opt_len+=(ge-_[2*_e+1])*_[2*_e],_[2*_e+1]=ge),pe--)}}(V,W),oe($,J,V.bl_count)}function U(V,W,ee){var se,ae,$=-1,m=W[1],C=0,M=7,J=4;for(m===0&&(M=138,J=3),W[2*(ee+1)+1]=65535,se=0;se<=ee;se++)ae=m,m=W[2*(se+1)+1],++C<M&&ae===m||(C<J?V.bl_tree[2*ae]+=C:ae!==0?(ae!==$&&V.bl_tree[2*ae]++,V.bl_tree[32]++):C<=10?V.bl_tree[34]++:V.bl_tree[36]++,C=0,$=ae,m===0?(M=138,J=3):ae===m?(M=6,J=3):(M=7,J=4))}function te(V,W,ee){var se,ae,$=-1,m=W[1],C=0,M=7,J=4;for(m===0&&(M=138,J=3),se=0;se<=ee;se++)if(ae=m,m=W[2*(se+1)+1],!(++C<M&&ae===m)){if(C<J)do G(V,ae,V.bl_tree);while(--C!=0);else ae!==0?(ae!==$&&(G(V,ae,V.bl_tree),C--),G(V,16,V.bl_tree),L(V,C-3,2)):C<=10?(G(V,17,V.bl_tree),L(V,C-3,3)):(G(V,18,V.bl_tree),L(V,C-11,7));C=0,$=ae,m===0?(M=138,J=3):ae===m?(M=6,J=3):(M=7,J=4)}}u(F);var H=!1;function K(V,W,ee,se){L(V,0+(se?1:0),3),function(ae,$,m,C){z(ae),B(ae,m),B(ae,~m),c.arraySet(ae.pending_buf,ae.window,$,m,ae.pending),ae.pending+=m}(V,W,ee)}l._tr_init=function(V){H||(function(){var W,ee,se,ae,$,m=new Array(16);for(se=0,ae=0;ae<28;ae++)for(b[ae]=se,W=0;W<1<<h[ae];W++)S[se++]=ae;for(S[se-1]=ae,$=0,ae=0;ae<16;ae++)for(F[ae]=$,W=0;W<1<<p[ae];W++)A[$++]=ae;for($>>=7;ae<30;ae++)for(F[ae]=$<<7,W=0;W<1<<p[ae]-7;W++)A[256+$++]=ae;for(ee=0;ee<=15;ee++)m[ee]=0;for(W=0;W<=143;)N[2*W+1]=8,W++,m[8]++;for(;W<=255;)N[2*W+1]=9,W++,m[9]++;for(;W<=279;)N[2*W+1]=7,W++,m[7]++;for(;W<=287;)N[2*W+1]=8,W++,m[8]++;for(oe(N,287,m),W=0;W<30;W++)I[2*W+1]=5,I[2*W]=E(W,5);w=new j(N,h,257,286,15),T=new j(I,p,0,30,15),k=new j(new Array(0),g,0,19,7)}(),H=!0),V.l_desc=new D(V.dyn_ltree,w),V.d_desc=new D(V.dyn_dtree,T),V.bl_desc=new D(V.bl_tree,k),V.bi_buf=0,V.bi_valid=0,ie(V)},l._tr_stored_block=K,l._tr_flush_block=function(V,W,ee,se){var ae,$,m=0;V.level>0?(V.strm.data_type===2&&(V.strm.data_type=function(C){var M,J=4093624447;for(M=0;M<=31;M++,J>>>=1)if(1&J&&C.dyn_ltree[2*M]!==0)return 0;if(C.dyn_ltree[18]!==0||C.dyn_ltree[20]!==0||C.dyn_ltree[26]!==0)return 1;for(M=32;M<256;M++)if(C.dyn_ltree[2*M]!==0)return 1;return 0}(V)),x(V,V.l_desc),x(V,V.d_desc),m=function(C){var M;for(U(C,C.dyn_ltree,C.l_desc.max_code),U(C,C.dyn_dtree,C.d_desc.max_code),x(C,C.bl_desc),M=18;M>=3&&C.bl_tree[2*y[M]+1]===0;M--);return C.opt_len+=3*(M+1)+5+5+4,M}(V),ae=V.opt_len+3+7>>>3,($=V.static_len+3+7>>>3)<=ae&&(ae=$)):ae=$=ee+5,ee+4<=ae&&W!==-1?K(V,W,ee,se):V.strategy===4||$===ae?(L(V,2+(se?1:0),3),Se(V,N,I)):(L(V,4+(se?1:0),3),function(C,M,J,le){var fe;for(L(C,M-257,5),L(C,J-1,5),L(C,le-4,4),fe=0;fe<le;fe++)L(C,C.bl_tree[2*y[fe]+1],3);te(C,C.dyn_ltree,M-1),te(C,C.dyn_dtree,J-1)}(V,V.l_desc.max_code+1,V.d_desc.max_code+1,m+1),Se(V,V.dyn_ltree,V.dyn_dtree)),ie(V),se&&z(V)},l._tr_tally=function(V,W,ee){return V.pending_buf[V.d_buf+2*V.last_lit]=W>>>8&255,V.pending_buf[V.d_buf+2*V.last_lit+1]=255&W,V.pending_buf[V.l_buf+V.last_lit]=255&ee,V.last_lit++,W===0?V.dyn_ltree[2*ee]++:(V.matches++,W--,V.dyn_ltree[2*(S[ee]+256+1)]++,V.dyn_dtree[2*P(W)]++),V.last_lit===V.lit_bufsize-1},l._tr_align=function(V){L(V,2,3),G(V,256,N),function(W){W.bi_valid===16?(B(W,W.bi_buf),W.bi_buf=0,W.bi_valid=0):W.bi_valid>=8&&(W.pending_buf[W.pending++]=255&W.bi_buf,W.bi_buf>>=8,W.bi_valid-=8)}(V)}},2292:s=>{s.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},4155:s=>{var l,a,c=s.exports={};function u(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}function p(T){if(l===setTimeout)return setTimeout(T,0);if((l===u||!l)&&setTimeout)return l=setTimeout,setTimeout(T,0);try{return l(T,0)}catch{try{return l.call(null,T,0)}catch{return l.call(this,T,0)}}}(function(){try{l=typeof setTimeout=="function"?setTimeout:u}catch{l=u}try{a=typeof clearTimeout=="function"?clearTimeout:h}catch{a=h}})();var g,y=[],N=!1,I=-1;function A(){N&&g&&(N=!1,g.length?y=g.concat(y):I=-1,y.length&&S())}function S(){if(!N){var T=p(A);N=!0;for(var k=y.length;k;){for(g=y,y=[];++I<k;)g&&g[I].run();I=-1,k=y.length}g=null,N=!1,function(F){if(a===clearTimeout)return clearTimeout(F);if((a===h||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(F);try{a(F)}catch{try{return a.call(null,F)}catch{return a.call(this,F)}}}(T)}}function b(T,k){this.fun=T,this.array=k}function w(){}c.nextTick=function(T){var k=new Array(arguments.length-1);if(arguments.length>1)for(var F=1;F<arguments.length;F++)k[F-1]=arguments[F];y.push(new b(T,k)),y.length!==1||N||p(S)},b.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=w,c.addListener=w,c.once=w,c.off=w,c.removeListener=w,c.removeAllListeners=w,c.emit=w,c.prependListener=w,c.prependOnceListener=w,c.listeners=function(T){return[]},c.binding=function(T){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(T){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},9509:(s,l,a)=>{var c=a(8764),u=c.Buffer;function h(g,y){for(var N in g)y[N]=g[N]}function p(g,y,N){return u(g,y,N)}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?s.exports=c:(h(c,l),l.Buffer=p),h(u,p),p.from=function(g,y,N){if(typeof g=="number")throw new TypeError("Argument must not be a number");return u(g,y,N)},p.alloc=function(g,y,N){if(typeof g!="number")throw new TypeError("Argument must be a number");var I=u(g);return y!==void 0?typeof N=="string"?I.fill(y,N):I.fill(y):I.fill(0),I},p.allocUnsafe=function(g){if(typeof g!="number")throw new TypeError("Argument must be a number");return u(g)},p.allocUnsafeSlow=function(g){if(typeof g!="number")throw new TypeError("Argument must be a number");return c.SlowBuffer(g)}},6099:(s,l,a)=>{(function(c){c.parser=function($,m){return new p($,m)},c.SAXParser=p,c.SAXStream=y,c.createStream=function($,m){return new y($,m)},c.MAX_BUFFER_LENGTH=65536;var u,h=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function p($,m){if(!(this instanceof p))return new p($,m);var C=this;(function(M){for(var J=0,le=h.length;J<le;J++)M[h[J]]=""})(C),C.q=C.c="",C.bufferCheckPosition=c.MAX_BUFFER_LENGTH,C.opt=m||{},C.opt.lowercase=C.opt.lowercase||C.opt.lowercasetags,C.looseCase=C.opt.lowercase?"toLowerCase":"toUpperCase",C.tags=[],C.closed=C.closedRoot=C.sawRoot=!1,C.tag=C.error=null,C.strict=!!$,C.noscript=!(!$&&!C.opt.noscript),C.state=E.BEGIN,C.strictEntities=C.opt.strictEntities,C.ENTITIES=C.strictEntities?Object.create(c.XML_ENTITIES):Object.create(c.ENTITIES),C.attribList=[],C.opt.xmlns&&(C.ns=Object.create(A)),C.trackPosition=C.opt.position!==!1,C.trackPosition&&(C.position=C.line=C.column=0),ie(C,"onready")}c.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function($){function m(){}return m.prototype=$,new m}),Object.keys||(Object.keys=function($){var m=[];for(var C in $)$.hasOwnProperty(C)&&m.push(C);return m}),p.prototype={end:function(){x(this)},write:function($){var m=this;if(this.error)throw this.error;if(m.closed)return Se(m,"Cannot write after close. Assign an onready handler.");if($===null)return x(m);typeof $=="object"&&($=$.toString());for(var C=0,M="";M=ae($,C++),m.c=M,M;)switch(m.trackPosition&&(m.position++,M===`
`?(m.line++,m.column=0):m.column++),m.state){case E.BEGIN:if(m.state=E.BEGIN_WHITESPACE,M==="\uFEFF")continue;se(m,M);continue;case E.BEGIN_WHITESPACE:se(m,M);continue;case E.TEXT:if(m.sawRoot&&!m.closedRoot){for(var J=C-1;M&&M!=="<"&&M!=="&";)(M=ae($,C++))&&m.trackPosition&&(m.position++,M===`
`?(m.line++,m.column=0):m.column++);m.textNode+=$.substring(J,C-1)}M!=="<"||m.sawRoot&&m.closedRoot&&!m.strict?(k(M)||m.sawRoot&&!m.closedRoot||U(m,"Text data outside of root node."),M==="&"?m.state=E.TEXT_ENTITY:m.textNode+=M):(m.state=E.OPEN_WAKA,m.startTagPosition=m.position);continue;case E.SCRIPT:M==="<"?m.state=E.SCRIPT_ENDING:m.script+=M;continue;case E.SCRIPT_ENDING:M==="/"?m.state=E.CLOSE_TAG:(m.script+="<"+M,m.state=E.SCRIPT);continue;case E.OPEN_WAKA:if(M==="!")m.state=E.SGML_DECL,m.sgmlDecl="";else if(!k(M))if(D(S,M))m.state=E.OPEN_TAG,m.tagName=M;else if(M==="/")m.state=E.CLOSE_TAG,m.tagName="";else if(M==="?")m.state=E.PROC_INST,m.procInstName=m.procInstBody="";else{if(U(m,"Unencoded <"),m.startTagPosition+1<m.position){var le=m.position-m.startTagPosition;M=new Array(le).join(" ")+M}m.textNode+="<"+M,m.state=E.TEXT}continue;case E.SGML_DECL:(m.sgmlDecl+M).toUpperCase()==="[CDATA["?(z(m,"onopencdata"),m.state=E.CDATA,m.sgmlDecl="",m.cdata=""):m.sgmlDecl+M==="--"?(m.state=E.COMMENT,m.comment="",m.sgmlDecl=""):(m.sgmlDecl+M).toUpperCase()==="DOCTYPE"?(m.state=E.DOCTYPE,(m.doctype||m.sawRoot)&&U(m,"Inappropriately located doctype declaration"),m.doctype="",m.sgmlDecl=""):M===">"?(z(m,"onsgmldeclaration",m.sgmlDecl),m.sgmlDecl="",m.state=E.TEXT):(F(M)&&(m.state=E.SGML_DECL_QUOTED),m.sgmlDecl+=M);continue;case E.SGML_DECL_QUOTED:M===m.q&&(m.state=E.SGML_DECL,m.q=""),m.sgmlDecl+=M;continue;case E.DOCTYPE:M===">"?(m.state=E.TEXT,z(m,"ondoctype",m.doctype),m.doctype=!0):(m.doctype+=M,M==="["?m.state=E.DOCTYPE_DTD:F(M)&&(m.state=E.DOCTYPE_QUOTED,m.q=M));continue;case E.DOCTYPE_QUOTED:m.doctype+=M,M===m.q&&(m.q="",m.state=E.DOCTYPE);continue;case E.DOCTYPE_DTD:m.doctype+=M,M==="]"?m.state=E.DOCTYPE:F(M)&&(m.state=E.DOCTYPE_DTD_QUOTED,m.q=M);continue;case E.DOCTYPE_DTD_QUOTED:m.doctype+=M,M===m.q&&(m.state=E.DOCTYPE_DTD,m.q="");continue;case E.COMMENT:M==="-"?m.state=E.COMMENT_ENDING:m.comment+=M;continue;case E.COMMENT_ENDING:M==="-"?(m.state=E.COMMENT_ENDED,m.comment=me(m.opt,m.comment),m.comment&&z(m,"oncomment",m.comment),m.comment=""):(m.comment+="-"+M,m.state=E.COMMENT);continue;case E.COMMENT_ENDED:M!==">"?(U(m,"Malformed comment"),m.comment+="--"+M,m.state=E.COMMENT):m.state=E.TEXT;continue;case E.CDATA:M==="]"?m.state=E.CDATA_ENDING:m.cdata+=M;continue;case E.CDATA_ENDING:M==="]"?m.state=E.CDATA_ENDING_2:(m.cdata+="]"+M,m.state=E.CDATA);continue;case E.CDATA_ENDING_2:M===">"?(m.cdata&&z(m,"oncdata",m.cdata),z(m,"onclosecdata"),m.cdata="",m.state=E.TEXT):M==="]"?m.cdata+="]":(m.cdata+="]]"+M,m.state=E.CDATA);continue;case E.PROC_INST:M==="?"?m.state=E.PROC_INST_ENDING:k(M)?m.state=E.PROC_INST_BODY:m.procInstName+=M;continue;case E.PROC_INST_BODY:if(!m.procInstBody&&k(M))continue;M==="?"?m.state=E.PROC_INST_ENDING:m.procInstBody+=M;continue;case E.PROC_INST_ENDING:M===">"?(z(m,"onprocessinginstruction",{name:m.procInstName,body:m.procInstBody}),m.procInstName=m.procInstBody="",m.state=E.TEXT):(m.procInstBody+="?"+M,m.state=E.PROC_INST_BODY);continue;case E.OPEN_TAG:D(b,M)?m.tagName+=M:(te(m),M===">"?V(m):M==="/"?m.state=E.OPEN_TAG_SLASH:(k(M)||U(m,"Invalid character in tag name"),m.state=E.ATTRIB));continue;case E.OPEN_TAG_SLASH:M===">"?(V(m,!0),W(m)):(U(m,"Forward-slash in opening tag not followed by >"),m.state=E.ATTRIB);continue;case E.ATTRIB:if(k(M))continue;M===">"?V(m):M==="/"?m.state=E.OPEN_TAG_SLASH:D(S,M)?(m.attribName=M,m.attribValue="",m.state=E.ATTRIB_NAME):U(m,"Invalid attribute name");continue;case E.ATTRIB_NAME:M==="="?m.state=E.ATTRIB_VALUE:M===">"?(U(m,"Attribute without value"),m.attribValue=m.attribName,K(m),V(m)):k(M)?m.state=E.ATTRIB_NAME_SAW_WHITE:D(b,M)?m.attribName+=M:U(m,"Invalid attribute name");continue;case E.ATTRIB_NAME_SAW_WHITE:if(M==="=")m.state=E.ATTRIB_VALUE;else{if(k(M))continue;U(m,"Attribute without value"),m.tag.attributes[m.attribName]="",m.attribValue="",z(m,"onattribute",{name:m.attribName,value:""}),m.attribName="",M===">"?V(m):D(S,M)?(m.attribName=M,m.state=E.ATTRIB_NAME):(U(m,"Invalid attribute name"),m.state=E.ATTRIB)}continue;case E.ATTRIB_VALUE:if(k(M))continue;F(M)?(m.q=M,m.state=E.ATTRIB_VALUE_QUOTED):(U(m,"Unquoted attribute value"),m.state=E.ATTRIB_VALUE_UNQUOTED,m.attribValue=M);continue;case E.ATTRIB_VALUE_QUOTED:if(M!==m.q){M==="&"?m.state=E.ATTRIB_VALUE_ENTITY_Q:m.attribValue+=M;continue}K(m),m.q="",m.state=E.ATTRIB_VALUE_CLOSED;continue;case E.ATTRIB_VALUE_CLOSED:k(M)?m.state=E.ATTRIB:M===">"?V(m):M==="/"?m.state=E.OPEN_TAG_SLASH:D(S,M)?(U(m,"No whitespace between attributes"),m.attribName=M,m.attribValue="",m.state=E.ATTRIB_NAME):U(m,"Invalid attribute name");continue;case E.ATTRIB_VALUE_UNQUOTED:if(!j(M)){M==="&"?m.state=E.ATTRIB_VALUE_ENTITY_U:m.attribValue+=M;continue}K(m),M===">"?V(m):m.state=E.ATTRIB;continue;case E.CLOSE_TAG:if(m.tagName)M===">"?W(m):D(b,M)?m.tagName+=M:m.script?(m.script+="</"+m.tagName,m.tagName="",m.state=E.SCRIPT):(k(M)||U(m,"Invalid tagname in closing tag"),m.state=E.CLOSE_TAG_SAW_WHITE);else{if(k(M))continue;P(S,M)?m.script?(m.script+="</"+M,m.state=E.SCRIPT):U(m,"Invalid tagname in closing tag."):m.tagName=M}continue;case E.CLOSE_TAG_SAW_WHITE:if(k(M))continue;M===">"?W(m):U(m,"Invalid characters in closing tag");continue;case E.TEXT_ENTITY:case E.ATTRIB_VALUE_ENTITY_Q:case E.ATTRIB_VALUE_ENTITY_U:var fe,de;switch(m.state){case E.TEXT_ENTITY:fe=E.TEXT,de="textNode";break;case E.ATTRIB_VALUE_ENTITY_Q:fe=E.ATTRIB_VALUE_QUOTED,de="attribValue";break;case E.ATTRIB_VALUE_ENTITY_U:fe=E.ATTRIB_VALUE_UNQUOTED,de="attribValue"}M===";"?(m[de]+=ee(m),m.entity="",m.state=fe):D(m.entity.length?T:w,M)?m.entity+=M:(U(m,"Invalid character in entity name"),m[de]+="&"+m.entity+M,m.entity="",m.state=fe);continue;default:throw new Error(m,"Unknown state: "+m.state)}return m.position>=m.bufferCheckPosition&&function(pe){for(var _e=Math.max(c.MAX_BUFFER_LENGTH,10),ge=0,De=0,Re=h.length;De<Re;De++){var _=pe[h[De]].length;if(_>_e)switch(h[De]){case"textNode":be(pe);break;case"cdata":z(pe,"oncdata",pe.cdata),pe.cdata="";break;case"script":z(pe,"onscript",pe.script),pe.script="";break;default:Se(pe,"Max buffer length exceeded: "+h[De])}ge=Math.max(ge,_)}var O=c.MAX_BUFFER_LENGTH-ge;pe.bufferCheckPosition=O+pe.position}(m),m},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var $;be($=this),$.cdata!==""&&(z($,"oncdata",$.cdata),$.cdata=""),$.script!==""&&(z($,"onscript",$.script),$.script="")}};try{u=a(2830).Stream}catch{u=function(){}}var g=c.EVENTS.filter(function($){return $!=="error"&&$!=="end"});function y($,m){if(!(this instanceof y))return new y($,m);u.apply(this),this._parser=new p($,m),this.writable=!0,this.readable=!0;var C=this;this._parser.onend=function(){C.emit("end")},this._parser.onerror=function(M){C.emit("error",M),C._parser.error=null},this._decoder=null,g.forEach(function(M){Object.defineProperty(C,"on"+M,{get:function(){return C._parser["on"+M]},set:function(J){if(!J)return C.removeAllListeners(M),C._parser["on"+M]=J,J;C.on(M,J)},enumerable:!0,configurable:!1})})}y.prototype=Object.create(u.prototype,{constructor:{value:y}}),y.prototype.write=function($){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer($)){if(!this._decoder){var m=a(2553).s;this._decoder=new m("utf8")}$=this._decoder.write($)}return this._parser.write($.toString()),this.emit("data",$),!0},y.prototype.end=function($){return $&&$.length&&this.write($),this._parser.end(),!0},y.prototype.on=function($,m){var C=this;return C._parser["on"+$]||g.indexOf($)===-1||(C._parser["on"+$]=function(){var M=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);M.splice(0,0,$),C.emit.apply(C,M)}),u.prototype.on.call(C,$,m)};var N="http://www.w3.org/XML/1998/namespace",I="http://www.w3.org/2000/xmlns/",A={xml:N,xmlns:I},S=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,w=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,T=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function k($){return $===" "||$===`
`||$==="\r"||$==="	"}function F($){return $==='"'||$==="'"}function j($){return $===">"||k($)}function D($,m){return $.test(m)}function P($,m){return!D($,m)}var B,L,G,E=0;for(var oe in c.STATE={BEGIN:E++,BEGIN_WHITESPACE:E++,TEXT:E++,TEXT_ENTITY:E++,OPEN_WAKA:E++,SGML_DECL:E++,SGML_DECL_QUOTED:E++,DOCTYPE:E++,DOCTYPE_QUOTED:E++,DOCTYPE_DTD:E++,DOCTYPE_DTD_QUOTED:E++,COMMENT_STARTING:E++,COMMENT:E++,COMMENT_ENDING:E++,COMMENT_ENDED:E++,CDATA:E++,CDATA_ENDING:E++,CDATA_ENDING_2:E++,PROC_INST:E++,PROC_INST_BODY:E++,PROC_INST_ENDING:E++,OPEN_TAG:E++,OPEN_TAG_SLASH:E++,ATTRIB:E++,ATTRIB_NAME:E++,ATTRIB_NAME_SAW_WHITE:E++,ATTRIB_VALUE:E++,ATTRIB_VALUE_QUOTED:E++,ATTRIB_VALUE_CLOSED:E++,ATTRIB_VALUE_UNQUOTED:E++,ATTRIB_VALUE_ENTITY_Q:E++,ATTRIB_VALUE_ENTITY_U:E++,CLOSE_TAG:E++,CLOSE_TAG_SAW_WHITE:E++,SCRIPT:E++,SCRIPT_ENDING:E++},c.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},c.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(c.ENTITIES).forEach(function($){var m=c.ENTITIES[$],C=typeof m=="number"?String.fromCharCode(m):m;c.ENTITIES[$]=C}),c.STATE)c.STATE[c.STATE[oe]]=oe;function ie($,m,C){$[m]&&$[m](C)}function z($,m,C){$.textNode&&be($),ie($,m,C)}function be($){$.textNode=me($.opt,$.textNode),$.textNode&&ie($,"ontext",$.textNode),$.textNode=""}function me($,m){return $.trim&&(m=m.trim()),$.normalize&&(m=m.replace(/\s+/g," ")),m}function Se($,m){return be($),$.trackPosition&&(m+=`
Line: `+$.line+`
Column: `+$.column+`
Char: `+$.c),m=new Error(m),$.error=m,ie($,"onerror",m),$}function x($){return $.sawRoot&&!$.closedRoot&&U($,"Unclosed root tag"),$.state!==E.BEGIN&&$.state!==E.BEGIN_WHITESPACE&&$.state!==E.TEXT&&Se($,"Unexpected end"),be($),$.c="",$.closed=!0,ie($,"onend"),p.call($,$.strict,$.opt),$}function U($,m){if(typeof $!="object"||!($ instanceof p))throw new Error("bad call to strictFail");$.strict&&Se($,m)}function te($){$.strict||($.tagName=$.tagName[$.looseCase]());var m=$.tags[$.tags.length-1]||$,C=$.tag={name:$.tagName,attributes:{}};$.opt.xmlns&&(C.ns=m.ns),$.attribList.length=0,z($,"onopentagstart",C)}function H($,m){var C=$.indexOf(":")<0?["",$]:$.split(":"),M=C[0],J=C[1];return m&&$==="xmlns"&&(M="xmlns",J=""),{prefix:M,local:J}}function K($){if($.strict||($.attribName=$.attribName[$.looseCase]()),$.attribList.indexOf($.attribName)!==-1||$.tag.attributes.hasOwnProperty($.attribName))$.attribName=$.attribValue="";else{if($.opt.xmlns){var m=H($.attribName,!0),C=m.prefix,M=m.local;if(C==="xmlns")if(M==="xml"&&$.attribValue!==N)U($,"xml: prefix must be bound to "+N+`
Actual: `+$.attribValue);else if(M==="xmlns"&&$.attribValue!==I)U($,"xmlns: prefix must be bound to "+I+`
Actual: `+$.attribValue);else{var J=$.tag,le=$.tags[$.tags.length-1]||$;J.ns===le.ns&&(J.ns=Object.create(le.ns)),J.ns[M]=$.attribValue}$.attribList.push([$.attribName,$.attribValue])}else $.tag.attributes[$.attribName]=$.attribValue,z($,"onattribute",{name:$.attribName,value:$.attribValue});$.attribName=$.attribValue=""}}function V($,m){if($.opt.xmlns){var C=$.tag,M=H($.tagName);C.prefix=M.prefix,C.local=M.local,C.uri=C.ns[M.prefix]||"",C.prefix&&!C.uri&&(U($,"Unbound namespace prefix: "+JSON.stringify($.tagName)),C.uri=M.prefix);var J=$.tags[$.tags.length-1]||$;C.ns&&J.ns!==C.ns&&Object.keys(C.ns).forEach(function(q){z($,"onopennamespace",{prefix:q,uri:C.ns[q]})});for(var le=0,fe=$.attribList.length;le<fe;le++){var de=$.attribList[le],pe=de[0],_e=de[1],ge=H(pe,!0),De=ge.prefix,Re=ge.local,_=De===""?"":C.ns[De]||"",O={name:pe,value:_e,prefix:De,local:Re,uri:_};De&&De!=="xmlns"&&!_&&(U($,"Unbound namespace prefix: "+JSON.stringify(De)),O.uri=De),$.tag.attributes[pe]=O,z($,"onattribute",O)}$.attribList.length=0}$.tag.isSelfClosing=!!m,$.sawRoot=!0,$.tags.push($.tag),z($,"onopentag",$.tag),m||($.noscript||$.tagName.toLowerCase()!=="script"?$.state=E.TEXT:$.state=E.SCRIPT,$.tag=null,$.tagName=""),$.attribName=$.attribValue="",$.attribList.length=0}function W($){if(!$.tagName)return U($,"Weird empty close tag."),$.textNode+="</>",void($.state=E.TEXT);if($.script){if($.tagName!=="script")return $.script+="</"+$.tagName+">",$.tagName="",void($.state=E.SCRIPT);z($,"onscript",$.script),$.script=""}var m=$.tags.length,C=$.tagName;$.strict||(C=C[$.looseCase]());for(var M=C;m--&&$.tags[m].name!==M;)U($,"Unexpected close tag");if(m<0)return U($,"Unmatched closing tag: "+$.tagName),$.textNode+="</"+$.tagName+">",void($.state=E.TEXT);$.tagName=C;for(var J=$.tags.length;J-- >m;){var le=$.tag=$.tags.pop();$.tagName=$.tag.name,z($,"onclosetag",$.tagName);var fe={};for(var de in le.ns)fe[de]=le.ns[de];var pe=$.tags[$.tags.length-1]||$;$.opt.xmlns&&le.ns!==pe.ns&&Object.keys(le.ns).forEach(function(_e){var ge=le.ns[_e];z($,"onclosenamespace",{prefix:_e,uri:ge})})}m===0&&($.closedRoot=!0),$.tagName=$.attribValue=$.attribName="",$.attribList.length=0,$.state=E.TEXT}function ee($){var m,C=$.entity,M=C.toLowerCase(),J="";return $.ENTITIES[C]?$.ENTITIES[C]:$.ENTITIES[M]?$.ENTITIES[M]:((C=M).charAt(0)==="#"&&(C.charAt(1)==="x"?(C=C.slice(2),J=(m=parseInt(C,16)).toString(16)):(C=C.slice(1),J=(m=parseInt(C,10)).toString(10))),C=C.replace(/^0+/,""),isNaN(m)||J.toLowerCase()!==C?(U($,"Invalid character entity"),"&"+$.entity+";"):String.fromCodePoint(m))}function se($,m){m==="<"?($.state=E.OPEN_WAKA,$.startTagPosition=$.position):k(m)||(U($,"Non-whitespace before first tag."),$.textNode=m,$.state=E.TEXT)}function ae($,m){var C="";return m<$.length&&(C=$.charAt(m)),C}E=c.STATE,String.fromCodePoint||(B=String.fromCharCode,L=Math.floor,G=function(){var $,m,C=16384,M=[],J=-1,le=arguments.length;if(!le)return"";for(var fe="";++J<le;){var de=Number(arguments[J]);if(!isFinite(de)||de<0||de>1114111||L(de)!==de)throw RangeError("Invalid code point: "+de);de<=65535?M.push(de):($=55296+((de-=65536)>>10),m=de%1024+56320,M.push($,m)),(J+1===le||M.length>C)&&(fe+=B.apply(null,M),M.length=0)}return fe},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:G,configurable:!0,writable:!0}):String.fromCodePoint=G)})(l)},4889:function(s,l,a){var c=a(4155);(function(u,h){if(!u.setImmediate){var p,g,y,N,I,A=1,S={},b=!1,w=u.document,T=Object.getPrototypeOf&&Object.getPrototypeOf(u);T=T&&T.setTimeout?T:u,{}.toString.call(u.process)==="[object process]"?p=function(j){c.nextTick(function(){F(j)})}:function(){if(u.postMessage&&!u.importScripts){var j=!0,D=u.onmessage;return u.onmessage=function(){j=!1},u.postMessage("","*"),u.onmessage=D,j}}()?(N="setImmediate$"+Math.random()+"$",I=function(j){j.source===u&&typeof j.data=="string"&&j.data.indexOf(N)===0&&F(+j.data.slice(N.length))},u.addEventListener?u.addEventListener("message",I,!1):u.attachEvent("onmessage",I),p=function(j){u.postMessage(N+j,"*")}):u.MessageChannel?((y=new MessageChannel).port1.onmessage=function(j){F(j.data)},p=function(j){y.port2.postMessage(j)}):w&&"onreadystatechange"in w.createElement("script")?(g=w.documentElement,p=function(j){var D=w.createElement("script");D.onreadystatechange=function(){F(j),D.onreadystatechange=null,g.removeChild(D),D=null},g.appendChild(D)}):p=function(j){setTimeout(F,0,j)},T.setImmediate=function(j){typeof j!="function"&&(j=new Function(""+j));for(var D=new Array(arguments.length-1),P=0;P<D.length;P++)D[P]=arguments[P+1];var B={callback:j,args:D};return S[A]=B,p(A),A++},T.clearImmediate=k}function k(j){delete S[j]}function F(j){if(b)setTimeout(F,0,j);else{var D=S[j];if(D){b=!0;try{(function(P){var B=P.callback,L=P.args;switch(L.length){case 0:B();break;case 1:B(L[0]);break;case 2:B(L[0],L[1]);break;case 3:B(L[0],L[1],L[2]);break;default:B.apply(void 0,L)}})(D)}finally{k(j),b=!1}}}}})(typeof self>"u"?a.g===void 0?this:a.g:self)},2830:(s,l,a)=>{s.exports=u;var c=a(7187).EventEmitter;function u(){c.call(this)}a(5717)(u,c),u.Readable=a(6577),u.Writable=a(323),u.Duplex=a(8656),u.Transform=a(4473),u.PassThrough=a(2366),u.finished=a(1086),u.pipeline=a(6472),u.Stream=u,u.prototype.pipe=function(h,p){var g=this;function y(T){h.writable&&h.write(T)===!1&&g.pause&&g.pause()}function N(){g.readable&&g.resume&&g.resume()}g.on("data",y),h.on("drain",N),h._isStdio||p&&p.end===!1||(g.on("end",A),g.on("close",S));var I=!1;function A(){I||(I=!0,h.end())}function S(){I||(I=!0,typeof h.destroy=="function"&&h.destroy())}function b(T){if(w(),c.listenerCount(this,"error")===0)throw T}function w(){g.removeListener("data",y),h.removeListener("drain",N),g.removeListener("end",A),g.removeListener("close",S),g.removeListener("error",b),h.removeListener("error",b),g.removeListener("end",w),g.removeListener("close",w),h.removeListener("close",w)}return g.on("error",b),h.on("error",b),g.on("end",w),g.on("close",w),h.on("close",w),h.emit("pipe",g),h}},8106:s=>{var l={};function a(u,h,p){p||(p=Error);var g=function(y){var N,I;function A(S,b,w){return y.call(this,function(T,k,F){return typeof h=="string"?h:h(T,k,F)}(S,b,w))||this}return I=y,(N=A).prototype=Object.create(I.prototype),N.prototype.constructor=N,N.__proto__=I,A}(p);g.prototype.name=p.name,g.prototype.code=u,l[u]=g}function c(u,h){if(Array.isArray(u)){var p=u.length;return u=u.map(function(g){return String(g)}),p>2?"one of ".concat(h," ").concat(u.slice(0,p-1).join(", "),", or ")+u[p-1]:p===2?"one of ".concat(h," ").concat(u[0]," or ").concat(u[1]):"of ".concat(h," ").concat(u[0])}return"of ".concat(h," ").concat(String(u))}a("ERR_INVALID_OPT_VALUE",function(u,h){return'The value "'+h+'" is invalid for option "'+u+'"'},TypeError),a("ERR_INVALID_ARG_TYPE",function(u,h,p){var g,y,N,I,A;if(typeof h=="string"&&(y="not ",h.substr(0,y.length)===y)?(g="must not be",h=h.replace(/^not /,"")):g="must be",function(b,w,T){return(T===void 0||T>b.length)&&(T=b.length),b.substring(T-w.length,T)===w}(u," argument"))N="The ".concat(u," ").concat(g," ").concat(c(h,"type"));else{var S=(typeof A!="number"&&(A=0),A+1>(I=u).length||I.indexOf(".",A)===-1?"argument":"property");N='The "'.concat(u,'" ').concat(S," ").concat(g," ").concat(c(h,"type"))}return N+". Received type ".concat(typeof p)},TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",function(u){return"The "+u+" method is not implemented"}),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",function(u){return"Cannot call "+u+" after a stream was destroyed"}),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",function(u){return"Unknown encoding: "+u},TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.q=l},8656:(s,l,a)=>{var c=a(4155),u=Object.keys||function(b){var w=[];for(var T in b)w.push(T);return w};s.exports=I;var h=a(6577),p=a(323);a(5717)(I,h);for(var g=u(p.prototype),y=0;y<g.length;y++){var N=g[y];I.prototype[N]||(I.prototype[N]=p.prototype[N])}function I(b){if(!(this instanceof I))return new I(b);h.call(this,b),p.call(this,b),this.allowHalfOpen=!0,b&&(b.readable===!1&&(this.readable=!1),b.writable===!1&&(this.writable=!1),b.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",A)))}function A(){this._writableState.ended||c.nextTick(S,this)}function S(b){b.end()}Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(b){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=b,this._writableState.destroyed=b)}})},2366:(s,l,a)=>{s.exports=u;var c=a(4473);function u(h){if(!(this instanceof u))return new u(h);c.call(this,h)}a(5717)(u,c),u.prototype._transform=function(h,p,g){g(null,h)}},6577:(s,l,a)=>{var c,u=a(4155);s.exports=oe,oe.ReadableState=E,a(7187).EventEmitter;var h,p=function(m,C){return m.listeners(C).length},g=a(3194),y=a(8764).Buffer,N=a.g.Uint8Array||function(){},I=a(5575);h=I&&I.debuglog?I.debuglog("stream"):function(){};var A,S,b,w=a(9686),T=a(1029),k=a(94).getHighWaterMark,F=a(8106).q,j=F.ERR_INVALID_ARG_TYPE,D=F.ERR_STREAM_PUSH_AFTER_EOF,P=F.ERR_METHOD_NOT_IMPLEMENTED,B=F.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;a(5717)(oe,g);var L=T.errorOrDestroy,G=["error","close","destroy","pause","resume"];function E(m,C,M){c=c||a(8656),m=m||{},typeof M!="boolean"&&(M=C instanceof c),this.objectMode=!!m.objectMode,M&&(this.objectMode=this.objectMode||!!m.readableObjectMode),this.highWaterMark=k(this,m,"readableHighWaterMark",M),this.buffer=new w,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=m.emitClose!==!1,this.autoDestroy=!!m.autoDestroy,this.destroyed=!1,this.defaultEncoding=m.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,m.encoding&&(A||(A=a(2553).s),this.decoder=new A(m.encoding),this.encoding=m.encoding)}function oe(m){if(c=c||a(8656),!(this instanceof oe))return new oe(m);var C=this instanceof c;this._readableState=new E(m,this,C),this.readable=!0,m&&(typeof m.read=="function"&&(this._read=m.read),typeof m.destroy=="function"&&(this._destroy=m.destroy)),g.call(this)}function ie(m,C,M,J,le){h("readableAddChunk",C);var fe,de=m._readableState;if(C===null)de.reading=!1,function(pe,_e){if(h("onEofChunk"),!_e.ended){if(_e.decoder){var ge=_e.decoder.end();ge&&ge.length&&(_e.buffer.push(ge),_e.length+=_e.objectMode?1:ge.length)}_e.ended=!0,_e.sync?Se(pe):(_e.needReadable=!1,_e.emittedReadable||(_e.emittedReadable=!0,x(pe)))}}(m,de);else if(le||(fe=function(pe,_e){var ge,De;return De=_e,y.isBuffer(De)||De instanceof N||typeof _e=="string"||_e===void 0||pe.objectMode||(ge=new j("chunk",["string","Buffer","Uint8Array"],_e)),ge}(de,C)),fe)L(m,fe);else if(de.objectMode||C&&C.length>0)if(typeof C=="string"||de.objectMode||Object.getPrototypeOf(C)===y.prototype||(C=function(pe){return y.from(pe)}(C)),J)de.endEmitted?L(m,new B):z(m,de,C,!0);else if(de.ended)L(m,new D);else{if(de.destroyed)return!1;de.reading=!1,de.decoder&&!M?(C=de.decoder.write(C),de.objectMode||C.length!==0?z(m,de,C,!1):U(m,de)):z(m,de,C,!1)}else J||(de.reading=!1,U(m,de));return!de.ended&&(de.length<de.highWaterMark||de.length===0)}function z(m,C,M,J){C.flowing&&C.length===0&&!C.sync?(C.awaitDrain=0,m.emit("data",M)):(C.length+=C.objectMode?1:M.length,J?C.buffer.unshift(M):C.buffer.push(M),C.needReadable&&Se(m)),U(m,C)}Object.defineProperty(oe.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(m){this._readableState&&(this._readableState.destroyed=m)}}),oe.prototype.destroy=T.destroy,oe.prototype._undestroy=T.undestroy,oe.prototype._destroy=function(m,C){C(m)},oe.prototype.push=function(m,C){var M,J=this._readableState;return J.objectMode?M=!0:typeof m=="string"&&((C=C||J.defaultEncoding)!==J.encoding&&(m=y.from(m,C),C=""),M=!0),ie(this,m,C,!1,M)},oe.prototype.unshift=function(m){return ie(this,m,null,!0,!1)},oe.prototype.isPaused=function(){return this._readableState.flowing===!1},oe.prototype.setEncoding=function(m){A||(A=a(2553).s);var C=new A(m);this._readableState.decoder=C,this._readableState.encoding=this._readableState.decoder.encoding;for(var M=this._readableState.buffer.head,J="";M!==null;)J+=C.write(M.data),M=M.next;return this._readableState.buffer.clear(),J!==""&&this._readableState.buffer.push(J),this._readableState.length=J.length,this};var be=1073741824;function me(m,C){return m<=0||C.length===0&&C.ended?0:C.objectMode?1:m!=m?C.flowing&&C.length?C.buffer.head.data.length:C.length:(m>C.highWaterMark&&(C.highWaterMark=function(M){return M>=be?M=be:(M--,M|=M>>>1,M|=M>>>2,M|=M>>>4,M|=M>>>8,M|=M>>>16,M++),M}(m)),m<=C.length?m:C.ended?C.length:(C.needReadable=!0,0))}function Se(m){var C=m._readableState;h("emitReadable",C.needReadable,C.emittedReadable),C.needReadable=!1,C.emittedReadable||(h("emitReadable",C.flowing),C.emittedReadable=!0,u.nextTick(x,m))}function x(m){var C=m._readableState;h("emitReadable_",C.destroyed,C.length,C.ended),C.destroyed||!C.length&&!C.ended||(m.emit("readable"),C.emittedReadable=!1),C.needReadable=!C.flowing&&!C.ended&&C.length<=C.highWaterMark,W(m)}function U(m,C){C.readingMore||(C.readingMore=!0,u.nextTick(te,m,C))}function te(m,C){for(;!C.reading&&!C.ended&&(C.length<C.highWaterMark||C.flowing&&C.length===0);){var M=C.length;if(h("maybeReadMore read 0"),m.read(0),M===C.length)break}C.readingMore=!1}function H(m){var C=m._readableState;C.readableListening=m.listenerCount("readable")>0,C.resumeScheduled&&!C.paused?C.flowing=!0:m.listenerCount("data")>0&&m.resume()}function K(m){h("readable nexttick read 0"),m.read(0)}function V(m,C){h("resume",C.reading),C.reading||m.read(0),C.resumeScheduled=!1,m.emit("resume"),W(m),C.flowing&&!C.reading&&m.read(0)}function W(m){var C=m._readableState;for(h("flow",C.flowing);C.flowing&&m.read()!==null;);}function ee(m,C){return C.length===0?null:(C.objectMode?M=C.buffer.shift():!m||m>=C.length?(M=C.decoder?C.buffer.join(""):C.buffer.length===1?C.buffer.first():C.buffer.concat(C.length),C.buffer.clear()):M=C.buffer.consume(m,C.decoder),M);var M}function se(m){var C=m._readableState;h("endReadable",C.endEmitted),C.endEmitted||(C.ended=!0,u.nextTick(ae,C,m))}function ae(m,C){if(h("endReadableNT",m.endEmitted,m.length),!m.endEmitted&&m.length===0&&(m.endEmitted=!0,C.readable=!1,C.emit("end"),m.autoDestroy)){var M=C._writableState;(!M||M.autoDestroy&&M.finished)&&C.destroy()}}function $(m,C){for(var M=0,J=m.length;M<J;M++)if(m[M]===C)return M;return-1}oe.prototype.read=function(m){h("read",m),m=parseInt(m,10);var C=this._readableState,M=m;if(m!==0&&(C.emittedReadable=!1),m===0&&C.needReadable&&((C.highWaterMark!==0?C.length>=C.highWaterMark:C.length>0)||C.ended))return h("read: emitReadable",C.length,C.ended),C.length===0&&C.ended?se(this):Se(this),null;if((m=me(m,C))===0&&C.ended)return C.length===0&&se(this),null;var J,le=C.needReadable;return h("need readable",le),(C.length===0||C.length-m<C.highWaterMark)&&h("length less than watermark",le=!0),C.ended||C.reading?h("reading or ended",le=!1):le&&(h("do read"),C.reading=!0,C.sync=!0,C.length===0&&(C.needReadable=!0),this._read(C.highWaterMark),C.sync=!1,C.reading||(m=me(M,C))),(J=m>0?ee(m,C):null)===null?(C.needReadable=C.length<=C.highWaterMark,m=0):(C.length-=m,C.awaitDrain=0),C.length===0&&(C.ended||(C.needReadable=!0),M!==m&&C.ended&&se(this)),J!==null&&this.emit("data",J),J},oe.prototype._read=function(m){L(this,new P("_read()"))},oe.prototype.pipe=function(m,C){var M=this,J=this._readableState;switch(J.pipesCount){case 0:J.pipes=m;break;case 1:J.pipes=[J.pipes,m];break;default:J.pipes.push(m)}J.pipesCount+=1,h("pipe count=%d opts=%j",J.pipesCount,C);var le=C&&C.end===!1||m===u.stdout||m===u.stderr?_:fe;function fe(){h("onend"),m.end()}J.endEmitted?u.nextTick(le):M.once("end",le),m.on("unpipe",function O(q,ne){h("onunpipe"),q===M&&ne&&ne.hasUnpiped===!1&&(ne.hasUnpiped=!0,h("cleanup"),m.removeListener("close",De),m.removeListener("finish",Re),m.removeListener("drain",de),m.removeListener("error",ge),m.removeListener("unpipe",O),M.removeListener("end",fe),M.removeListener("end",_),M.removeListener("data",_e),pe=!0,!J.awaitDrain||m._writableState&&!m._writableState.needDrain||de())});var de=function(O){return function(){var q=O._readableState;h("pipeOnDrain",q.awaitDrain),q.awaitDrain&&q.awaitDrain--,q.awaitDrain===0&&p(O,"data")&&(q.flowing=!0,W(O))}}(M);m.on("drain",de);var pe=!1;function _e(O){h("ondata");var q=m.write(O);h("dest.write",q),q===!1&&((J.pipesCount===1&&J.pipes===m||J.pipesCount>1&&$(J.pipes,m)!==-1)&&!pe&&(h("false write response, pause",J.awaitDrain),J.awaitDrain++),M.pause())}function ge(O){h("onerror",O),_(),m.removeListener("error",ge),p(m,"error")===0&&L(m,O)}function De(){m.removeListener("finish",Re),_()}function Re(){h("onfinish"),m.removeListener("close",De),_()}function _(){h("unpipe"),M.unpipe(m)}return M.on("data",_e),function(O,q,ne){if(typeof O.prependListener=="function")return O.prependListener(q,ne);O._events&&O._events.error?Array.isArray(O._events.error)?O._events.error.unshift(ne):O._events.error=[ne,O._events.error]:O.on(q,ne)}(m,"error",ge),m.once("close",De),m.once("finish",Re),m.emit("pipe",M),J.flowing||(h("pipe resume"),M.resume()),m},oe.prototype.unpipe=function(m){var C=this._readableState,M={hasUnpiped:!1};if(C.pipesCount===0)return this;if(C.pipesCount===1)return m&&m!==C.pipes||(m||(m=C.pipes),C.pipes=null,C.pipesCount=0,C.flowing=!1,m&&m.emit("unpipe",this,M)),this;if(!m){var J=C.pipes,le=C.pipesCount;C.pipes=null,C.pipesCount=0,C.flowing=!1;for(var fe=0;fe<le;fe++)J[fe].emit("unpipe",this,{hasUnpiped:!1});return this}var de=$(C.pipes,m);return de===-1||(C.pipes.splice(de,1),C.pipesCount-=1,C.pipesCount===1&&(C.pipes=C.pipes[0]),m.emit("unpipe",this,M)),this},oe.prototype.on=function(m,C){var M=g.prototype.on.call(this,m,C),J=this._readableState;return m==="data"?(J.readableListening=this.listenerCount("readable")>0,J.flowing!==!1&&this.resume()):m==="readable"&&(J.endEmitted||J.readableListening||(J.readableListening=J.needReadable=!0,J.flowing=!1,J.emittedReadable=!1,h("on readable",J.length,J.reading),J.length?Se(this):J.reading||u.nextTick(K,this))),M},oe.prototype.addListener=oe.prototype.on,oe.prototype.removeListener=function(m,C){var M=g.prototype.removeListener.call(this,m,C);return m==="readable"&&u.nextTick(H,this),M},oe.prototype.removeAllListeners=function(m){var C=g.prototype.removeAllListeners.apply(this,arguments);return m!=="readable"&&m!==void 0||u.nextTick(H,this),C},oe.prototype.resume=function(){var m=this._readableState;return m.flowing||(h("resume"),m.flowing=!m.readableListening,function(C,M){M.resumeScheduled||(M.resumeScheduled=!0,u.nextTick(V,C,M))}(this,m)),m.paused=!1,this},oe.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},oe.prototype.wrap=function(m){var C=this,M=this._readableState,J=!1;for(var le in m.on("end",function(){if(h("wrapped end"),M.decoder&&!M.ended){var de=M.decoder.end();de&&de.length&&C.push(de)}C.push(null)}),m.on("data",function(de){h("wrapped data"),M.decoder&&(de=M.decoder.write(de)),M.objectMode&&de==null||(M.objectMode||de&&de.length)&&(C.push(de)||(J=!0,m.pause()))}),m)this[le]===void 0&&typeof m[le]=="function"&&(this[le]=function(de){return function(){return m[de].apply(m,arguments)}}(le));for(var fe=0;fe<G.length;fe++)m.on(G[fe],this.emit.bind(this,G[fe]));return this._read=function(de){h("wrapped _read",de),J&&(J=!1,m.resume())},this},typeof Symbol=="function"&&(oe.prototype[Symbol.asyncIterator]=function(){return S===void 0&&(S=a(828)),S(this)}),Object.defineProperty(oe.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(oe.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(oe.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(m){this._readableState&&(this._readableState.flowing=m)}}),oe._fromList=ee,Object.defineProperty(oe.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(oe.from=function(m,C){return b===void 0&&(b=a(1265)),b(oe,m,C)})},4473:(s,l,a)=>{s.exports=I;var c=a(8106).q,u=c.ERR_METHOD_NOT_IMPLEMENTED,h=c.ERR_MULTIPLE_CALLBACK,p=c.ERR_TRANSFORM_ALREADY_TRANSFORMING,g=c.ERR_TRANSFORM_WITH_LENGTH_0,y=a(8656);function N(b,w){var T=this._transformState;T.transforming=!1;var k=T.writecb;if(k===null)return this.emit("error",new h);T.writechunk=null,T.writecb=null,w!=null&&this.push(w),k(b);var F=this._readableState;F.reading=!1,(F.needReadable||F.length<F.highWaterMark)&&this._read(F.highWaterMark)}function I(b){if(!(this instanceof I))return new I(b);y.call(this,b),this._transformState={afterTransform:N.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,b&&(typeof b.transform=="function"&&(this._transform=b.transform),typeof b.flush=="function"&&(this._flush=b.flush)),this.on("prefinish",A)}function A(){var b=this;typeof this._flush!="function"||this._readableState.destroyed?S(this,null,null):this._flush(function(w,T){S(b,w,T)})}function S(b,w,T){if(w)return b.emit("error",w);if(T!=null&&b.push(T),b._writableState.length)throw new g;if(b._transformState.transforming)throw new p;return b.push(null)}a(5717)(I,y),I.prototype.push=function(b,w){return this._transformState.needTransform=!1,y.prototype.push.call(this,b,w)},I.prototype._transform=function(b,w,T){T(new u("_transform()"))},I.prototype._write=function(b,w,T){var k=this._transformState;if(k.writecb=T,k.writechunk=b,k.writeencoding=w,!k.transforming){var F=this._readableState;(k.needTransform||F.needReadable||F.length<F.highWaterMark)&&this._read(F.highWaterMark)}},I.prototype._read=function(b){var w=this._transformState;w.writechunk===null||w.transforming?w.needTransform=!0:(w.transforming=!0,this._transform(w.writechunk,w.writeencoding,w.afterTransform))},I.prototype._destroy=function(b,w){y.prototype._destroy.call(this,b,function(T){w(T)})}},323:(s,l,a)=>{var c,u=a(4155);function h(U){var te=this;this.next=null,this.entry=null,this.finish=function(){(function(H,K,V){var W=H.entry;for(H.entry=null;W;){var ee=W.callback;K.pendingcb--,ee(void 0),W=W.next}K.corkedRequestsFree.next=H})(te,U)}}s.exports=oe,oe.WritableState=E;var p,g={deprecate:a(4927)},y=a(3194),N=a(8764).Buffer,I=a.g.Uint8Array||function(){},A=a(1029),S=a(94).getHighWaterMark,b=a(8106).q,w=b.ERR_INVALID_ARG_TYPE,T=b.ERR_METHOD_NOT_IMPLEMENTED,k=b.ERR_MULTIPLE_CALLBACK,F=b.ERR_STREAM_CANNOT_PIPE,j=b.ERR_STREAM_DESTROYED,D=b.ERR_STREAM_NULL_VALUES,P=b.ERR_STREAM_WRITE_AFTER_END,B=b.ERR_UNKNOWN_ENCODING,L=A.errorOrDestroy;function G(){}function E(U,te,H){c=c||a(8656),U=U||{},typeof H!="boolean"&&(H=te instanceof c),this.objectMode=!!U.objectMode,H&&(this.objectMode=this.objectMode||!!U.writableObjectMode),this.highWaterMark=S(this,U,"writableHighWaterMark",H),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var K=U.decodeStrings===!1;this.decodeStrings=!K,this.defaultEncoding=U.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(V){(function(W,ee){var se=W._writableState,ae=se.sync,$=se.writecb;if(typeof $!="function")throw new k;if(function(C){C.writing=!1,C.writecb=null,C.length-=C.writelen,C.writelen=0}(se),ee)(function(C,M,J,le,fe){--M.pendingcb,J?(u.nextTick(fe,le),u.nextTick(x,C,M),C._writableState.errorEmitted=!0,L(C,le)):(fe(le),C._writableState.errorEmitted=!0,L(C,le),x(C,M))})(W,se,ae,ee,$);else{var m=me(se)||W.destroyed;m||se.corked||se.bufferProcessing||!se.bufferedRequest||be(W,se),ae?u.nextTick(z,W,se,m,$):z(W,se,m,$)}})(te,V)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=U.emitClose!==!1,this.autoDestroy=!!U.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new h(this)}function oe(U){var te=this instanceof(c=c||a(8656));if(!te&&!p.call(oe,this))return new oe(U);this._writableState=new E(U,this,te),this.writable=!0,U&&(typeof U.write=="function"&&(this._write=U.write),typeof U.writev=="function"&&(this._writev=U.writev),typeof U.destroy=="function"&&(this._destroy=U.destroy),typeof U.final=="function"&&(this._final=U.final)),y.call(this)}function ie(U,te,H,K,V,W,ee){te.writelen=K,te.writecb=ee,te.writing=!0,te.sync=!0,te.destroyed?te.onwrite(new j("write")):H?U._writev(V,te.onwrite):U._write(V,W,te.onwrite),te.sync=!1}function z(U,te,H,K){H||function(V,W){W.length===0&&W.needDrain&&(W.needDrain=!1,V.emit("drain"))}(U,te),te.pendingcb--,K(),x(U,te)}function be(U,te){te.bufferProcessing=!0;var H=te.bufferedRequest;if(U._writev&&H&&H.next){var K=te.bufferedRequestCount,V=new Array(K),W=te.corkedRequestsFree;W.entry=H;for(var ee=0,se=!0;H;)V[ee]=H,H.isBuf||(se=!1),H=H.next,ee+=1;V.allBuffers=se,ie(U,te,!0,te.length,V,"",W.finish),te.pendingcb++,te.lastBufferedRequest=null,W.next?(te.corkedRequestsFree=W.next,W.next=null):te.corkedRequestsFree=new h(te),te.bufferedRequestCount=0}else{for(;H;){var ae=H.chunk,$=H.encoding,m=H.callback;if(ie(U,te,!1,te.objectMode?1:ae.length,ae,$,m),H=H.next,te.bufferedRequestCount--,te.writing)break}H===null&&(te.lastBufferedRequest=null)}te.bufferedRequest=H,te.bufferProcessing=!1}function me(U){return U.ending&&U.length===0&&U.bufferedRequest===null&&!U.finished&&!U.writing}function Se(U,te){U._final(function(H){te.pendingcb--,H&&L(U,H),te.prefinished=!0,U.emit("prefinish"),x(U,te)})}function x(U,te){var H=me(te);if(H&&(function(V,W){W.prefinished||W.finalCalled||(typeof V._final!="function"||W.destroyed?(W.prefinished=!0,V.emit("prefinish")):(W.pendingcb++,W.finalCalled=!0,u.nextTick(Se,V,W)))}(U,te),te.pendingcb===0&&(te.finished=!0,U.emit("finish"),te.autoDestroy))){var K=U._readableState;(!K||K.autoDestroy&&K.endEmitted)&&U.destroy()}return H}a(5717)(oe,y),E.prototype.getBuffer=function(){for(var U=this.bufferedRequest,te=[];U;)te.push(U),U=U.next;return te},function(){try{Object.defineProperty(E.prototype,"buffer",{get:g.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(oe,Symbol.hasInstance,{value:function(U){return!!p.call(this,U)||this===oe&&U&&U._writableState instanceof E}})):p=function(U){return U instanceof this},oe.prototype.pipe=function(){L(this,new F)},oe.prototype.write=function(U,te,H){var K,V=this._writableState,W=!1,ee=!V.objectMode&&(K=U,N.isBuffer(K)||K instanceof I);return ee&&!N.isBuffer(U)&&(U=function(se){return N.from(se)}(U)),typeof te=="function"&&(H=te,te=null),ee?te="buffer":te||(te=V.defaultEncoding),typeof H!="function"&&(H=G),V.ending?function(se,ae){var $=new P;L(se,$),u.nextTick(ae,$)}(this,H):(ee||function(se,ae,$,m){var C;return $===null?C=new D:typeof $=="string"||ae.objectMode||(C=new w("chunk",["string","Buffer"],$)),!C||(L(se,C),u.nextTick(m,C),!1)}(this,V,U,H))&&(V.pendingcb++,W=function(se,ae,$,m,C,M){if(!$){var J=function(pe,_e,ge){return pe.objectMode||pe.decodeStrings===!1||typeof _e!="string"||(_e=N.from(_e,ge)),_e}(ae,m,C);m!==J&&($=!0,C="buffer",m=J)}var le=ae.objectMode?1:m.length;ae.length+=le;var fe=ae.length<ae.highWaterMark;if(fe||(ae.needDrain=!0),ae.writing||ae.corked){var de=ae.lastBufferedRequest;ae.lastBufferedRequest={chunk:m,encoding:C,isBuf:$,callback:M,next:null},de?de.next=ae.lastBufferedRequest:ae.bufferedRequest=ae.lastBufferedRequest,ae.bufferedRequestCount+=1}else ie(se,ae,!1,le,m,C,M);return fe}(this,V,ee,U,te,H)),W},oe.prototype.cork=function(){this._writableState.corked++},oe.prototype.uncork=function(){var U=this._writableState;U.corked&&(U.corked--,U.writing||U.corked||U.bufferProcessing||!U.bufferedRequest||be(this,U))},oe.prototype.setDefaultEncoding=function(U){if(typeof U=="string"&&(U=U.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((U+"").toLowerCase())>-1))throw new B(U);return this._writableState.defaultEncoding=U,this},Object.defineProperty(oe.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(oe.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),oe.prototype._write=function(U,te,H){H(new T("_write()"))},oe.prototype._writev=null,oe.prototype.end=function(U,te,H){var K=this._writableState;return typeof U=="function"?(H=U,U=null,te=null):typeof te=="function"&&(H=te,te=null),U!=null&&this.write(U,te),K.corked&&(K.corked=1,this.uncork()),K.ending||function(V,W,ee){W.ending=!0,x(V,W),ee&&(W.finished?u.nextTick(ee):V.once("finish",ee)),W.ended=!0,V.writable=!1}(this,K,H),this},Object.defineProperty(oe.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(oe.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(U){this._writableState&&(this._writableState.destroyed=U)}}),oe.prototype.destroy=A.destroy,oe.prototype._undestroy=A.undestroy,oe.prototype._destroy=function(U,te){te(U)}},828:(s,l,a)=>{var c,u=a(4155);function h(D,P,B){return P in D?Object.defineProperty(D,P,{value:B,enumerable:!0,configurable:!0,writable:!0}):D[P]=B,D}var p=a(1086),g=Symbol("lastResolve"),y=Symbol("lastReject"),N=Symbol("error"),I=Symbol("ended"),A=Symbol("lastPromise"),S=Symbol("handlePromise"),b=Symbol("stream");function w(D,P){return{value:D,done:P}}function T(D){var P=D[g];if(P!==null){var B=D[b].read();B!==null&&(D[A]=null,D[g]=null,D[y]=null,P(w(B,!1)))}}function k(D){u.nextTick(T,D)}var F=Object.getPrototypeOf(function(){}),j=Object.setPrototypeOf((h(c={get stream(){return this[b]},next:function(){var D=this,P=this[N];if(P!==null)return Promise.reject(P);if(this[I])return Promise.resolve(w(void 0,!0));if(this[b].destroyed)return new Promise(function(E,oe){u.nextTick(function(){D[N]?oe(D[N]):E(w(void 0,!0))})});var B,L=this[A];if(L)B=new Promise(function(E,oe){return function(ie,z){E.then(function(){oe[I]?ie(w(void 0,!0)):oe[S](ie,z)},z)}}(L,this));else{var G=this[b].read();if(G!==null)return Promise.resolve(w(G,!1));B=new Promise(this[S])}return this[A]=B,B}},Symbol.asyncIterator,function(){return this}),h(c,"return",function(){var D=this;return new Promise(function(P,B){D[b].destroy(null,function(L){L?B(L):P(w(void 0,!0))})})}),c),F);s.exports=function(D){var P,B=Object.create(j,(h(P={},b,{value:D,writable:!0}),h(P,g,{value:null,writable:!0}),h(P,y,{value:null,writable:!0}),h(P,N,{value:null,writable:!0}),h(P,I,{value:D._readableState.endEmitted,writable:!0}),h(P,S,{value:function(L,G){var E=B[b].read();E?(B[A]=null,B[g]=null,B[y]=null,L(w(E,!1))):(B[g]=L,B[y]=G)},writable:!0}),P));return B[A]=null,p(D,function(L){if(L&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"){var G=B[y];return G!==null&&(B[A]=null,B[g]=null,B[y]=null,G(L)),void(B[N]=L)}var E=B[g];E!==null&&(B[A]=null,B[g]=null,B[y]=null,E(w(void 0,!0))),B[I]=!0}),D.on("readable",k.bind(null,B)),B}},9686:(s,l,a)=>{function c(N,I){var A=Object.keys(N);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(N);I&&(S=S.filter(function(b){return Object.getOwnPropertyDescriptor(N,b).enumerable})),A.push.apply(A,S)}return A}function u(N,I,A){return I in N?Object.defineProperty(N,I,{value:A,enumerable:!0,configurable:!0,writable:!0}):N[I]=A,N}function h(N,I){for(var A=0;A<I.length;A++){var S=I[A];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(N,S.key,S)}}var p=a(8764).Buffer,g=a(5575).inspect,y=g&&g.custom||"inspect";s.exports=function(){function N(){(function(S,b){if(!(S instanceof b))throw new TypeError("Cannot call a class as a function")})(this,N),this.head=null,this.tail=null,this.length=0}var I,A;return I=N,A=[{key:"push",value:function(S){var b={data:S,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length}},{key:"unshift",value:function(S){var b={data:S,next:this.head};this.length===0&&(this.tail=b),this.head=b,++this.length}},{key:"shift",value:function(){if(this.length!==0){var S=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,S}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(S){if(this.length===0)return"";for(var b=this.head,w=""+b.data;b=b.next;)w+=S+b.data;return w}},{key:"concat",value:function(S){if(this.length===0)return p.alloc(0);for(var b,w,T,k=p.allocUnsafe(S>>>0),F=this.head,j=0;F;)b=F.data,w=k,T=j,p.prototype.copy.call(b,w,T),j+=F.data.length,F=F.next;return k}},{key:"consume",value:function(S,b){var w;return S<this.head.data.length?(w=this.head.data.slice(0,S),this.head.data=this.head.data.slice(S)):w=S===this.head.data.length?this.shift():b?this._getString(S):this._getBuffer(S),w}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(S){var b=this.head,w=1,T=b.data;for(S-=T.length;b=b.next;){var k=b.data,F=S>k.length?k.length:S;if(F===k.length?T+=k:T+=k.slice(0,S),(S-=F)==0){F===k.length?(++w,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=k.slice(F));break}++w}return this.length-=w,T}},{key:"_getBuffer",value:function(S){var b=p.allocUnsafe(S),w=this.head,T=1;for(w.data.copy(b),S-=w.data.length;w=w.next;){var k=w.data,F=S>k.length?k.length:S;if(k.copy(b,b.length-S,0,F),(S-=F)==0){F===k.length?(++T,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=k.slice(F));break}++T}return this.length-=T,b}},{key:y,value:function(S,b){return g(this,function(w){for(var T=1;T<arguments.length;T++){var k=arguments[T]!=null?arguments[T]:{};T%2?c(Object(k),!0).forEach(function(F){u(w,F,k[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(k)):c(Object(k)).forEach(function(F){Object.defineProperty(w,F,Object.getOwnPropertyDescriptor(k,F))})}return w}({},b,{depth:0,customInspect:!1}))}}],A&&h(I.prototype,A),N}()},1029:(s,l,a)=>{var c=a(4155);function u(g,y){p(g,y),h(g)}function h(g){g._writableState&&!g._writableState.emitClose||g._readableState&&!g._readableState.emitClose||g.emit("close")}function p(g,y){g.emit("error",y)}s.exports={destroy:function(g,y){var N=this,I=this._readableState&&this._readableState.destroyed,A=this._writableState&&this._writableState.destroyed;return I||A?(y?y(g):g&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,c.nextTick(p,this,g)):c.nextTick(p,this,g)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(g||null,function(S){!y&&S?N._writableState?N._writableState.errorEmitted?c.nextTick(h,N):(N._writableState.errorEmitted=!0,c.nextTick(u,N,S)):c.nextTick(u,N,S):y?(c.nextTick(h,N),y(S)):c.nextTick(h,N)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(g,y){var N=g._readableState,I=g._writableState;N&&N.autoDestroy||I&&I.autoDestroy?g.destroy(y):g.emit("error",y)}}},1086:(s,l,a)=>{var c=a(8106).q.ERR_STREAM_PREMATURE_CLOSE;function u(){}s.exports=function h(p,g,y){if(typeof g=="function")return h(p,null,g);g||(g={}),y=function(D){var P=!1;return function(){if(!P){P=!0;for(var B=arguments.length,L=new Array(B),G=0;G<B;G++)L[G]=arguments[G];D.apply(this,L)}}}(y||u);var N=g.readable||g.readable!==!1&&p.readable,I=g.writable||g.writable!==!1&&p.writable,A=function(){p.writable||b()},S=p._writableState&&p._writableState.finished,b=function(){I=!1,S=!0,N||y.call(p)},w=p._readableState&&p._readableState.endEmitted,T=function(){N=!1,w=!0,I||y.call(p)},k=function(D){y.call(p,D)},F=function(){var D;return N&&!w?(p._readableState&&p._readableState.ended||(D=new c),y.call(p,D)):I&&!S?(p._writableState&&p._writableState.ended||(D=new c),y.call(p,D)):void 0},j=function(){p.req.on("finish",b)};return function(D){return D.setHeader&&typeof D.abort=="function"}(p)?(p.on("complete",b),p.on("abort",F),p.req?j():p.on("request",j)):I&&!p._writableState&&(p.on("end",A),p.on("close",A)),p.on("end",T),p.on("finish",b),g.error!==!1&&p.on("error",k),p.on("close",F),function(){p.removeListener("complete",b),p.removeListener("abort",F),p.removeListener("request",j),p.req&&p.req.removeListener("finish",b),p.removeListener("end",A),p.removeListener("close",A),p.removeListener("finish",b),p.removeListener("end",T),p.removeListener("error",k),p.removeListener("close",F)}}},1265:s=>{s.exports=function(){throw new Error("Readable.from is not available in the browser")}},6472:(s,l,a)=>{var c,u=a(8106).q,h=u.ERR_MISSING_ARGS,p=u.ERR_STREAM_DESTROYED;function g(S){if(S)throw S}function y(S,b,w,T){T=function(j){var D=!1;return function(){D||(D=!0,j.apply(void 0,arguments))}}(T);var k=!1;S.on("close",function(){k=!0}),c===void 0&&(c=a(1086)),c(S,{readable:b,writable:w},function(j){if(j)return T(j);k=!0,T()});var F=!1;return function(j){if(!k&&!F)return F=!0,function(D){return D.setHeader&&typeof D.abort=="function"}(S)?S.abort():typeof S.destroy=="function"?S.destroy():void T(j||new p("pipe"))}}function N(S){S()}function I(S,b){return S.pipe(b)}function A(S){return S.length?typeof S[S.length-1]!="function"?g:S.pop():g}s.exports=function(){for(var S=arguments.length,b=new Array(S),w=0;w<S;w++)b[w]=arguments[w];var T,k=A(b);if(Array.isArray(b[0])&&(b=b[0]),b.length<2)throw new h("streams");var F=b.map(function(j,D){var P=D<b.length-1;return y(j,P,D>0,function(B){T||(T=B),B&&F.forEach(N),P||(F.forEach(N),k(T))})});return b.reduce(I)}},94:(s,l,a)=>{var c=a(8106).q.ERR_INVALID_OPT_VALUE;s.exports={getHighWaterMark:function(u,h,p,g){var y=function(N,I,A){return N.highWaterMark!=null?N.highWaterMark:I?N[A]:null}(h,g,p);if(y!=null){if(!isFinite(y)||Math.floor(y)!==y||y<0)throw new c(g?p:"highWaterMark",y);return Math.floor(y)}return u.objectMode?16:16384}}},3194:(s,l,a)=>{s.exports=a(7187).EventEmitter},2553:(s,l,a)=>{var c=a(9509).Buffer,u=c.isEncoding||function(w){switch((w=""+w)&&w.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function h(w){var T;switch(this.encoding=function(k){var F=function(j){if(!j)return"utf8";for(var D;;)switch(j){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return j;default:if(D)return;j=(""+j).toLowerCase(),D=!0}}(k);if(typeof F!="string"&&(c.isEncoding===u||!u(k)))throw new Error("Unknown encoding: "+k);return F||k}(w),this.encoding){case"utf16le":this.text=y,this.end=N,T=4;break;case"utf8":this.fillLast=g,T=4;break;case"base64":this.text=I,this.end=A,T=3;break;default:return this.write=S,void(this.end=b)}this.lastNeed=0,this.lastTotal=0,this.lastChar=c.allocUnsafe(T)}function p(w){return w<=127?0:w>>5==6?2:w>>4==14?3:w>>3==30?4:w>>6==2?-1:-2}function g(w){var T=this.lastTotal-this.lastNeed,k=function(F,j,D){if((192&j[0])!=128)return F.lastNeed=0,"�";if(F.lastNeed>1&&j.length>1){if((192&j[1])!=128)return F.lastNeed=1,"�";if(F.lastNeed>2&&j.length>2&&(192&j[2])!=128)return F.lastNeed=2,"�"}}(this,w);return k!==void 0?k:this.lastNeed<=w.length?(w.copy(this.lastChar,T,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(w.copy(this.lastChar,T,0,w.length),void(this.lastNeed-=w.length))}function y(w,T){if((w.length-T)%2==0){var k=w.toString("utf16le",T);if(k){var F=k.charCodeAt(k.length-1);if(F>=55296&&F<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1],k.slice(0,-1)}return k}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=w[w.length-1],w.toString("utf16le",T,w.length-1)}function N(w){var T=w&&w.length?this.write(w):"";if(this.lastNeed){var k=this.lastTotal-this.lastNeed;return T+this.lastChar.toString("utf16le",0,k)}return T}function I(w,T){var k=(w.length-T)%3;return k===0?w.toString("base64",T):(this.lastNeed=3-k,this.lastTotal=3,k===1?this.lastChar[0]=w[w.length-1]:(this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1]),w.toString("base64",T,w.length-k))}function A(w){var T=w&&w.length?this.write(w):"";return this.lastNeed?T+this.lastChar.toString("base64",0,3-this.lastNeed):T}function S(w){return w.toString(this.encoding)}function b(w){return w&&w.length?this.write(w):""}l.s=h,h.prototype.write=function(w){if(w.length===0)return"";var T,k;if(this.lastNeed){if((T=this.fillLast(w))===void 0)return"";k=this.lastNeed,this.lastNeed=0}else k=0;return k<w.length?T?T+this.text(w,k):this.text(w,k):T||""},h.prototype.end=function(w){var T=w&&w.length?this.write(w):"";return this.lastNeed?T+"�":T},h.prototype.text=function(w,T){var k=function(j,D,P){var B=D.length-1;if(B<P)return 0;var L=p(D[B]);return L>=0?(L>0&&(j.lastNeed=L-1),L):--B<P||L===-2?0:(L=p(D[B]))>=0?(L>0&&(j.lastNeed=L-2),L):--B<P||L===-2?0:(L=p(D[B]))>=0?(L>0&&(L===2?L=0:j.lastNeed=L-3),L):0}(this,w,T);if(!this.lastNeed)return w.toString("utf8",T);this.lastTotal=k;var F=w.length-(k-this.lastNeed);return w.copy(this.lastChar,0,F),w.toString("utf8",T,F)},h.prototype.fillLast=function(w){if(this.lastNeed<=w.length)return w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,w.length),this.lastNeed-=w.length}},5457:(s,l,a)=>{a.d(l,{vw:()=>h,rq:()=>u,EL:()=>g,NY:()=>p});let c=0;const u=y=>Math.floor(y/25.4*72*20),h=y=>Math.floor(72*y*20),p=()=>++c,g=()=>((y=21)=>{let N="",I=y;for(;I--;)N+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return N})().toLowerCase()},5575:(s,l,a)=>{a.r(l),a.d(l,{convertInchesToTwip:()=>c.vw,convertMillimetersToTwip:()=>c.rq,dateTimeValue:()=>u.sF,decimalNumber:()=>u.vH,eighthPointMeasureValue:()=>u.LV,hexColorValue:()=>u.dg,hpsMeasureValue:()=>u.KR,longHexNumber:()=>u.mA,measurementOrPercentValue:()=>u.aB,percentageValue:()=>u.wp,pointMeasureValue:()=>u.gg,positiveUniversalMeasureValue:()=>u._p,shortHexNumber:()=>u.G0,signedHpsMeasureValue:()=>u.Rg,signedTwipsMeasureValue:()=>u.xb,twipsMeasureValue:()=>u.Jd,uCharHexNumber:()=>u.xD,uniqueId:()=>c.EL,uniqueNumericId:()=>c.NY,universalMeasureValue:()=>u.KC,unsignedDecimalNumber:()=>u.f$});var c=a(5457),u=a(6595)},6595:(s,l,a)=>{a.d(l,{G0:()=>g,Jd:()=>T,KC:()=>N,KR:()=>b,LV:()=>j,Rg:()=>w,_p:()=>I,aB:()=>F,dg:()=>A,f$:()=>u,gg:()=>D,mA:()=>p,sF:()=>P,vH:()=>c,wp:()=>k,xD:()=>y,xb:()=>S});const c=B=>{if(isNaN(B))throw new Error(`Invalid value '${B}' specified. Must be an integer.`);return Math.floor(B)},u=B=>{const L=c(B);if(L<0)throw new Error(`Invalid value '${B}' specified. Must be a positive integer.`);return L},h=(B,L)=>{const G=2*L;if(B.length!==G||isNaN(+`0x${B}`))throw new Error(`Invalid hex value '${B}'. Expected ${G} digit hex value`);return B},p=B=>h(B,4),g=B=>h(B,2),y=B=>h(B,1),N=B=>{const L=B.slice(-2),G=B.substring(0,B.length-2);return`${Number(G)}${L}`},I=B=>{const L=N(B);if(parseFloat(L)<0)throw new Error(`Invalid value '${L}' specified. Expected a positive number.`);return L},A=B=>{if(B==="auto")return B;const L=B.charAt(0)==="#"?B.substring(1):B;return h(L,3)},S=B=>typeof B=="string"?N(B):c(B),b=B=>typeof B=="string"?I(B):u(B),w=B=>typeof B=="string"?N(B):c(B),T=B=>typeof B=="string"?I(B):u(B),k=B=>{const L=B.substring(0,B.length-1);return`${Number(L)}%`},F=B=>typeof B=="number"?c(B):B.slice(-1)==="%"?k(B):N(B),j=u,D=u,P=B=>B.toISOString()},4927:(s,l,a)=>{function c(u){try{if(!a.g.localStorage)return!1}catch{return!1}var h=a.g.localStorage[u];return h!=null&&String(h).toLowerCase()==="true"}s.exports=function(u,h){if(c("noDeprecation"))return u;var p=!1;return function(){if(!p){if(c("throwDeprecation"))throw new Error(h);c("traceDeprecation")?console.trace(h):console.warn(h),p=!0}return u.apply(this,arguments)}}},9881:s=>{s.exports={isArray:function(l){return Array.isArray?Array.isArray(l):Object.prototype.toString.call(l)==="[object Array]"}}},7888:(s,l,a)=>{var c=a(1229),u=a(1388),h=a(6501),p=a(4673);s.exports={xml2js:c,xml2json:u,js2xml:h,json2xml:p}},6501:(s,l,a)=>{var c,u,h=a(4740),p=a(9881).isArray;function g(D,P,B){return(!B&&D.spaces?`
`:"")+Array(P+1).join(D.spaces)}function y(D,P,B){if(P.ignoreAttributes)return"";"attributesFn"in P&&(D=P.attributesFn(D,u,c));var L,G,E,oe,ie=[];for(L in D)D.hasOwnProperty(L)&&D[L]!==null&&D[L]!==void 0&&(oe=P.noQuotesForNativeAttributes&&typeof D[L]!="string"?"":'"',G=(G=""+D[L]).replace(/"/g,"&quot;"),E="attributeNameFn"in P?P.attributeNameFn(L,G,u,c):L,ie.push(P.spaces&&P.indentAttributes?g(P,B+1,!1):" "),ie.push(E+"="+oe+("attributeValueFn"in P?P.attributeValueFn(G,L,u,c):G)+oe));return D&&Object.keys(D).length&&P.spaces&&P.indentAttributes&&ie.push(g(P,B,!1)),ie.join("")}function N(D,P,B){return c=D,u="xml",P.ignoreDeclaration?"":"<?xml"+y(D[P.attributesKey],P,B)+"?>"}function I(D,P,B){if(P.ignoreInstruction)return"";var L;for(L in D)if(D.hasOwnProperty(L))break;var G="instructionNameFn"in P?P.instructionNameFn(L,D[L],u,c):L;if(typeof D[L]=="object")return c=D,u=G,"<?"+G+y(D[L][P.attributesKey],P,B)+"?>";var E=D[L]?D[L]:"";return"instructionFn"in P&&(E=P.instructionFn(E,L,u,c)),"<?"+G+(E?" "+E:"")+"?>"}function A(D,P){return P.ignoreComment?"":"<!--"+("commentFn"in P?P.commentFn(D,u,c):D)+"-->"}function S(D,P){return P.ignoreCdata?"":"<![CDATA["+("cdataFn"in P?P.cdataFn(D,u,c):D.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function b(D,P){return P.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in P?P.doctypeFn(D,u,c):D)+">"}function w(D,P){return P.ignoreText?"":(D=(D=(D=""+D).replace(/&amp;/g,"&")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in P?P.textFn(D,u,c):D)}function T(D,P,B,L){return D.reduce(function(G,E){var oe=g(P,B,L&&!G);switch(E.type){case"element":return G+oe+function(z,be,me){c=z,u=z.name;var Se=[],x="elementNameFn"in be?be.elementNameFn(z.name,z):z.name;Se.push("<"+x),z[be.attributesKey]&&Se.push(y(z[be.attributesKey],be,me));var U=z[be.elementsKey]&&z[be.elementsKey].length||z[be.attributesKey]&&z[be.attributesKey]["xml:space"]==="preserve";return U||(U="fullTagEmptyElementFn"in be?be.fullTagEmptyElementFn(z.name,z):be.fullTagEmptyElement),U?(Se.push(">"),z[be.elementsKey]&&z[be.elementsKey].length&&(Se.push(T(z[be.elementsKey],be,me+1)),c=z,u=z.name),Se.push(be.spaces&&function(te,H){var K;if(te.elements&&te.elements.length)for(K=0;K<te.elements.length;++K)switch(te.elements[K][H.typeKey]){case"text":if(H.indentText)return!0;break;case"cdata":if(H.indentCdata)return!0;break;case"instruction":if(H.indentInstruction)return!0;break;default:return!0}return!1}(z,be)?`
`+Array(me+1).join(be.spaces):""),Se.push("</"+x+">")):Se.push("/>"),Se.join("")}(E,P,B);case"comment":return G+oe+A(E[P.commentKey],P);case"doctype":return G+oe+b(E[P.doctypeKey],P);case"cdata":return G+(P.indentCdata?oe:"")+S(E[P.cdataKey],P);case"text":return G+(P.indentText?oe:"")+w(E[P.textKey],P);case"instruction":var ie={};return ie[E[P.nameKey]]=E[P.attributesKey]?E:E[P.instructionKey],G+(P.indentInstruction?oe:"")+I(ie,P,B)}},"")}function k(D,P,B){var L;for(L in D)if(D.hasOwnProperty(L))switch(L){case P.parentKey:case P.attributesKey:break;case P.textKey:if(P.indentText||B)return!0;break;case P.cdataKey:if(P.indentCdata||B)return!0;break;case P.instructionKey:if(P.indentInstruction||B)return!0;break;case P.doctypeKey:case P.commentKey:default:return!0}return!1}function F(D,P,B,L,G){c=D,u=P;var E="elementNameFn"in B?B.elementNameFn(P,D):P;if(D==null||D==="")return"fullTagEmptyElementFn"in B&&B.fullTagEmptyElementFn(P,D)||B.fullTagEmptyElement?"<"+E+"></"+E+">":"<"+E+"/>";var oe=[];if(P){if(oe.push("<"+E),typeof D!="object")return oe.push(">"+w(D,B)+"</"+E+">"),oe.join("");D[B.attributesKey]&&oe.push(y(D[B.attributesKey],B,L));var ie=k(D,B,!0)||D[B.attributesKey]&&D[B.attributesKey]["xml:space"]==="preserve";if(ie||(ie="fullTagEmptyElementFn"in B?B.fullTagEmptyElementFn(P,D):B.fullTagEmptyElement),!ie)return oe.push("/>"),oe.join("");oe.push(">")}return oe.push(j(D,B,L+1,!1)),c=D,u=P,P&&oe.push((G?g(B,L,!1):"")+"</"+E+">"),oe.join("")}function j(D,P,B,L){var G,E,oe,ie=[];for(E in D)if(D.hasOwnProperty(E))for(oe=p(D[E])?D[E]:[D[E]],G=0;G<oe.length;++G){switch(E){case P.declarationKey:ie.push(N(oe[G],P,B));break;case P.instructionKey:ie.push((P.indentInstruction?g(P,B,L):"")+I(oe[G],P,B));break;case P.attributesKey:case P.parentKey:break;case P.textKey:ie.push((P.indentText?g(P,B,L):"")+w(oe[G],P));break;case P.cdataKey:ie.push((P.indentCdata?g(P,B,L):"")+S(oe[G],P));break;case P.doctypeKey:ie.push(g(P,B,L)+b(oe[G],P));break;case P.commentKey:ie.push(g(P,B,L)+A(oe[G],P));break;default:ie.push(g(P,B,L)+F(oe[G],E,P,B,k(oe[G],P)))}L=L&&!ie.length}return ie.join("")}s.exports=function(D,P){P=function(L){var G=h.copyOptions(L);return h.ensureFlagExists("ignoreDeclaration",G),h.ensureFlagExists("ignoreInstruction",G),h.ensureFlagExists("ignoreAttributes",G),h.ensureFlagExists("ignoreText",G),h.ensureFlagExists("ignoreComment",G),h.ensureFlagExists("ignoreCdata",G),h.ensureFlagExists("ignoreDoctype",G),h.ensureFlagExists("compact",G),h.ensureFlagExists("indentText",G),h.ensureFlagExists("indentCdata",G),h.ensureFlagExists("indentAttributes",G),h.ensureFlagExists("indentInstruction",G),h.ensureFlagExists("fullTagEmptyElement",G),h.ensureFlagExists("noQuotesForNativeAttributes",G),h.ensureSpacesExists(G),typeof G.spaces=="number"&&(G.spaces=Array(G.spaces+1).join(" ")),h.ensureKeyExists("declaration",G),h.ensureKeyExists("instruction",G),h.ensureKeyExists("attributes",G),h.ensureKeyExists("text",G),h.ensureKeyExists("comment",G),h.ensureKeyExists("cdata",G),h.ensureKeyExists("doctype",G),h.ensureKeyExists("type",G),h.ensureKeyExists("name",G),h.ensureKeyExists("elements",G),h.checkFnExists("doctype",G),h.checkFnExists("instruction",G),h.checkFnExists("cdata",G),h.checkFnExists("comment",G),h.checkFnExists("text",G),h.checkFnExists("instructionName",G),h.checkFnExists("elementName",G),h.checkFnExists("attributeName",G),h.checkFnExists("attributeValue",G),h.checkFnExists("attributes",G),h.checkFnExists("fullTagEmptyElement",G),G}(P);var B=[];return c=D,u="_root_",P.compact?B.push(j(D,P,0,!0)):(D[P.declarationKey]&&B.push(N(D[P.declarationKey],P,0)),D[P.elementsKey]&&D[P.elementsKey].length&&B.push(T(D[P.elementsKey],P,0,!B.length))),B.join("")}},4673:(s,l,a)=>{var c=a(6501);s.exports=function(u,h){u instanceof Buffer&&(u=u.toString());var p=null;if(typeof u=="string")try{p=JSON.parse(u)}catch{throw new Error("The JSON structure is invalid")}else p=u;return c(p,h)}},4740:(s,l,a)=>{var c=a(9881).isArray;s.exports={copyOptions:function(u){var h,p={};for(h in u)u.hasOwnProperty(h)&&(p[h]=u[h]);return p},ensureFlagExists:function(u,h){u in h&&typeof h[u]=="boolean"||(h[u]=!1)},ensureSpacesExists:function(u){(!("spaces"in u)||typeof u.spaces!="number"&&typeof u.spaces!="string")&&(u.spaces=0)},ensureAlwaysArrayExists:function(u){"alwaysArray"in u&&(typeof u.alwaysArray=="boolean"||c(u.alwaysArray))||(u.alwaysArray=!1)},ensureKeyExists:function(u,h){u+"Key"in h&&typeof h[u+"Key"]=="string"||(h[u+"Key"]=h.compact?"_"+u:u)},checkFnExists:function(u,h){return u+"Fn"in h}}},1229:(s,l,a)=>{var c,u,h=a(6099),p=a(4740),g=a(9881).isArray;function y(D){var P=Number(D);if(!isNaN(P))return P;var B=D.toLowerCase();return B==="true"||B!=="false"&&D}function N(D,P){var B;if(c.compact){if(!u[c[D+"Key"]]&&(g(c.alwaysArray)?c.alwaysArray.indexOf(c[D+"Key"])!==-1:c.alwaysArray)&&(u[c[D+"Key"]]=[]),u[c[D+"Key"]]&&!g(u[c[D+"Key"]])&&(u[c[D+"Key"]]=[u[c[D+"Key"]]]),D+"Fn"in c&&typeof P=="string"&&(P=c[D+"Fn"](P,u)),D==="instruction"&&("instructionFn"in c||"instructionNameFn"in c)){for(B in P)if(P.hasOwnProperty(B))if("instructionFn"in c)P[B]=c.instructionFn(P[B],B,u);else{var L=P[B];delete P[B],P[c.instructionNameFn(B,L,u)]=L}}g(u[c[D+"Key"]])?u[c[D+"Key"]].push(P):u[c[D+"Key"]]=P}else{u[c.elementsKey]||(u[c.elementsKey]=[]);var G={};if(G[c.typeKey]=D,D==="instruction"){for(B in P)if(P.hasOwnProperty(B))break;G[c.nameKey]="instructionNameFn"in c?c.instructionNameFn(B,P,u):B,c.instructionHasAttributes?(G[c.attributesKey]=P[B][c.attributesKey],"instructionFn"in c&&(G[c.attributesKey]=c.instructionFn(G[c.attributesKey],B,u))):("instructionFn"in c&&(P[B]=c.instructionFn(P[B],B,u)),G[c.instructionKey]=P[B])}else D+"Fn"in c&&(P=c[D+"Fn"](P,u)),G[c[D+"Key"]]=P;c.addParent&&(G[c.parentKey]=u),u[c.elementsKey].push(G)}}function I(D){var P;if("attributesFn"in c&&D&&(D=c.attributesFn(D,u)),(c.trim||"attributeValueFn"in c||"attributeNameFn"in c||c.nativeTypeAttributes)&&D){for(P in D)if(D.hasOwnProperty(P)&&(c.trim&&(D[P]=D[P].trim()),c.nativeTypeAttributes&&(D[P]=y(D[P])),"attributeValueFn"in c&&(D[P]=c.attributeValueFn(D[P],P,u)),"attributeNameFn"in c)){var B=D[P];delete D[P],D[c.attributeNameFn(P,D[P],u)]=B}}return D}function A(D){var P={};if(D.body&&(D.name.toLowerCase()==="xml"||c.instructionHasAttributes)){for(var B,L=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g;(B=L.exec(D.body))!==null;)P[B[1]]=B[2]||B[3]||B[4];P=I(P)}if(D.name.toLowerCase()==="xml"){if(c.ignoreDeclaration)return;u[c.declarationKey]={},Object.keys(P).length&&(u[c.declarationKey][c.attributesKey]=P),c.addParent&&(u[c.declarationKey][c.parentKey]=u)}else{if(c.ignoreInstruction)return;c.trim&&(D.body=D.body.trim());var G={};c.instructionHasAttributes&&Object.keys(P).length?(G[D.name]={},G[D.name][c.attributesKey]=P):G[D.name]=D.body,N("instruction",G)}}function S(D,P){var B;if(typeof D=="object"&&(P=D.attributes,D=D.name),P=I(P),"elementNameFn"in c&&(D=c.elementNameFn(D,u)),c.compact){var L;if(B={},!c.ignoreAttributes&&P&&Object.keys(P).length)for(L in B[c.attributesKey]={},P)P.hasOwnProperty(L)&&(B[c.attributesKey][L]=P[L]);!(D in u)&&(g(c.alwaysArray)?c.alwaysArray.indexOf(D)!==-1:c.alwaysArray)&&(u[D]=[]),u[D]&&!g(u[D])&&(u[D]=[u[D]]),g(u[D])?u[D].push(B):u[D]=B}else u[c.elementsKey]||(u[c.elementsKey]=[]),(B={})[c.typeKey]="element",B[c.nameKey]=D,!c.ignoreAttributes&&P&&Object.keys(P).length&&(B[c.attributesKey]=P),c.alwaysChildren&&(B[c.elementsKey]=[]),u[c.elementsKey].push(B);B[c.parentKey]=u,u=B}function b(D){c.ignoreText||(D.trim()||c.captureSpacesBetweenElements)&&(c.trim&&(D=D.trim()),c.nativeType&&(D=y(D)),c.sanitize&&(D=D.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),N("text",D))}function w(D){c.ignoreComment||(c.trim&&(D=D.trim()),N("comment",D))}function T(D){var P=u[c.parentKey];c.addParent||delete u[c.parentKey],u=P}function k(D){c.ignoreCdata||(c.trim&&(D=D.trim()),N("cdata",D))}function F(D){c.ignoreDoctype||(D=D.replace(/^ /,""),c.trim&&(D=D.trim()),N("doctype",D))}function j(D){D.note=D}s.exports=function(D,P){var B=h.parser(!0,{}),L={};if(u=L,c=function(E){return c=p.copyOptions(E),p.ensureFlagExists("ignoreDeclaration",c),p.ensureFlagExists("ignoreInstruction",c),p.ensureFlagExists("ignoreAttributes",c),p.ensureFlagExists("ignoreText",c),p.ensureFlagExists("ignoreComment",c),p.ensureFlagExists("ignoreCdata",c),p.ensureFlagExists("ignoreDoctype",c),p.ensureFlagExists("compact",c),p.ensureFlagExists("alwaysChildren",c),p.ensureFlagExists("addParent",c),p.ensureFlagExists("trim",c),p.ensureFlagExists("nativeType",c),p.ensureFlagExists("nativeTypeAttributes",c),p.ensureFlagExists("sanitize",c),p.ensureFlagExists("instructionHasAttributes",c),p.ensureFlagExists("captureSpacesBetweenElements",c),p.ensureAlwaysArrayExists(c),p.ensureKeyExists("declaration",c),p.ensureKeyExists("instruction",c),p.ensureKeyExists("attributes",c),p.ensureKeyExists("text",c),p.ensureKeyExists("comment",c),p.ensureKeyExists("cdata",c),p.ensureKeyExists("doctype",c),p.ensureKeyExists("type",c),p.ensureKeyExists("name",c),p.ensureKeyExists("elements",c),p.ensureKeyExists("parent",c),p.checkFnExists("doctype",c),p.checkFnExists("instruction",c),p.checkFnExists("cdata",c),p.checkFnExists("comment",c),p.checkFnExists("text",c),p.checkFnExists("instructionName",c),p.checkFnExists("elementName",c),p.checkFnExists("attributeName",c),p.checkFnExists("attributeValue",c),p.checkFnExists("attributes",c),c}(P),B.opt={strictEntities:!0},B.onopentag=S,B.ontext=b,B.oncomment=w,B.onclosetag=T,B.onerror=j,B.oncdata=k,B.ondoctype=F,B.onprocessinginstruction=A,B.write(D).close(),L[c.elementsKey]){var G=L[c.elementsKey];delete L[c.elementsKey],L[c.elementsKey]=G,delete L.text}return L}},1388:(s,l,a)=>{var c=a(4740),u=a(1229);s.exports=function(h,p){var g,y,N;return g=function(I){var A=c.copyOptions(I);return c.ensureSpacesExists(A),A}(p),y=u(h,g),N="compact"in g&&g.compact?"_parent":"parent",("addParent"in g&&g.addParent?JSON.stringify(y,function(I,A){return I===N?"_":A},g.spaces):JSON.stringify(y,null,g.spaces)).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}},255:s=>{var l={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};s.exports=function(a){return a&&a.replace?a.replace(/([&"<>'])/g,function(c,u){return l[u]}):a}},3479:(s,l,a)=>{var c=a(4155),u=a(255),h=a(2830).Stream;function p(y,N,I){I=I||0;var A,S,b=(A=N,new Array(I||0).join(A||"")),w=y;if(typeof y=="object"&&(w=y[S=Object.keys(y)[0]])&&w._elem)return w._elem.name=S,w._elem.icount=I,w._elem.indent=N,w._elem.indents=b,w._elem.interrupt=w,w._elem;var T,k=[],F=[];function j(D){Object.keys(D).forEach(function(P){k.push(function(B,L){return B+'="'+u(L)+'"'}(P,D[P]))})}switch(typeof w){case"object":if(w===null)break;w._attr&&j(w._attr),w._cdata&&F.push(("<![CDATA["+w._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),w.forEach&&(T=!1,F.push(""),w.forEach(function(D){typeof D=="object"?Object.keys(D)[0]=="_attr"?j(D._attr):F.push(p(D,N,I+1)):(F.pop(),T=!0,F.push(u(D)))}),T||F.push(""));break;default:F.push(u(w))}return{name:S,interrupt:!1,attributes:k,content:F,icount:I,indents:b,indent:N}}function g(y,N,I){if(typeof N!="object")return y(!1,N);var A=N.interrupt?1:N.content.length;function S(){for(;N.content.length;){var w=N.content.shift();if(w!==void 0){if(b(w))return;g(y,w)}}y(!1,(A>1?N.indents:"")+(N.name?"</"+N.name+">":"")+(N.indent&&!I?`
`:"")),I&&I()}function b(w){return!!w.interrupt&&(w.interrupt.append=y,w.interrupt.end=S,w.interrupt=!1,y(!0),!0)}if(y(!1,N.indents+(N.name?"<"+N.name:"")+(N.attributes.length?" "+N.attributes.join(" "):"")+(A?N.name?">":"":N.name?"/>":"")+(N.indent&&A>1?`
`:"")),!A)return y(!1,N.indent?`
`:"");b(N)||S()}s.exports=function(y,N){typeof N!="object"&&(N={indent:N});var I,A,S=N.stream?new h:null,b="",w=!1,T=N.indent?N.indent===!0?"    ":N.indent:"",k=!0;function F(B){k?c.nextTick(B):B()}function j(B,L){if(L!==void 0&&(b+=L),B&&!w&&(S=S||new h,w=!0),B&&w){var G=b;F(function(){S.emit("data",G)}),b=""}}function D(B,L){g(j,p(B,T,T?1:0),L)}function P(){if(S){var B=b;F(function(){S.emit("data",B),S.emit("end"),S.readable=!1,S.emit("close")})}}return F(function(){k=!1}),N.declaration&&(A={version:"1.0",encoding:(I=N.declaration).encoding||"UTF-8"},I.standalone&&(A.standalone=I.standalone),D({"?xml":{_attr:A}}),b=b.replace("/>","?>")),y&&y.forEach?y.forEach(function(B,L){var G;L+1===y.length&&(G=P),D(B,G)}):D(y,P),S?(S.readable=!0,S):b},s.exports.element=s.exports.Element=function(){var y=Array.prototype.slice.call(arguments),N={_elem:p(y),push:function(I){if(!this.append)throw new Error("not assigned to a parent!");var A=this,S=this._elem.indent;g(this.append,p(I,S,this._elem.icount+(S?1:0)),function(){A.append(!0)})},close:function(I){I!==void 0&&this.push(I),this.end&&this.end()}};return N}}},i={};function n(s){var l=i[s];if(l!==void 0)return l.exports;var a=i[s]={exports:{}};return o[s].call(a.exports,a,a.exports,n),a.exports}n.d=(s,l)=>{for(var a in l)n.o(l,a)&&!n.o(s,a)&&Object.defineProperty(s,a,{enumerable:!0,get:l[a]})},n.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),n.o=(s,l)=>Object.prototype.hasOwnProperty.call(s,l),n.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var r={};return(()=>{n.r(r),n.d(r,{AbstractNumbering:()=>il,Alignment:()=>V,AlignmentAttributes:()=>K,AlignmentType:()=>w,AnnotationReference:()=>Hw,Attributes:()=>p,BaseEmphasisMark:()=>_,BaseXmlComponent:()=>s,Body:()=>cf,Bookmark:()=>jh,BookmarkEnd:()=>Hh,BookmarkStart:()=>Vh,Border:()=>se,BorderElement:()=>W,BorderStyle:()=>T,BuilderElement:()=>H,CarriageReturn:()=>Jw,Column:()=>mE,ColumnBreak:()=>tE,Columns:()=>Wh,Comment:()=>Rh,CommentRangeEnd:()=>Rw,CommentRangeStart:()=>Ow,CommentReference:()=>Lw,Comments:()=>Lh,ConcreteHyperlink:()=>di,ConcreteNumbering:()=>rl,ContinuationSeparator:()=>Qw,DayLong:()=>qw,DayShort:()=>Bw,DeletedTextRun:()=>N1,DocGridAttributes:()=>Qh,Document:()=>Kf,DocumentAttributes:()=>hi,DocumentBackground:()=>uf,DocumentBackgroundAttributes:()=>lf,DocumentDefaults:()=>Wf,DocumentGrid:()=>Kh,DocumentGridType:()=>Ac,DotEmphasisMark:()=>q,Drawing:()=>kh,DropCapType:()=>Uc,EMPTY_OBJECT:()=>l,EmphasisMark:()=>O,EmphasisMarkType:()=>L,EmptyElement:()=>me,EndnoteReference:()=>Gw,ExternalHyperlink:()=>Bc,File:()=>Kf,FootNoteReferenceRunAttributes:()=>Jf,FootNotes:()=>Bf,Footer:()=>y1,FooterWrapper:()=>Ff,FootnoteReference:()=>Yf,FootnoteReferenceElement:()=>zw,FootnoteReferenceRun:()=>b1,FrameAnchorType:()=>qc,FrameProperties:()=>ff,FramePropertiesAttributes:()=>hf,FrameWrap:()=>jc,GridSpan:()=>Tf,Header:()=>v1,HeaderFooterReference:()=>Is,HeaderFooterReferenceType:()=>jo,HeaderFooterType:()=>sr,HeaderWrapper:()=>$f,HeadingLevel:()=>Ec,HeightRule:()=>Zc,HorizontalPosition:()=>Eh,HorizontalPositionAlign:()=>F,HorizontalPositionRelativeFrom:()=>Ns,HpsMeasureElement:()=>be,HyperlinkType:()=>Nc,IgnoreIfEmptyXmlComponent:()=>c,ImageRun:()=>Aw,ImportedRootElementAttributes:()=>A,ImportedXmlComponent:()=>I,Indent:()=>$,InitializableXmlComponent:()=>b,InsertedTextRun:()=>w1,InternalHyperlink:()=>cE,LastRenderedPageBreak:()=>Xw,LeaderType:()=>_c,Level:()=>Uf,LevelBase:()=>nl,LevelForOverride:()=>L_,LevelFormat:()=>fo,LevelOverride:()=>qf,LevelSuffix:()=>el,LineNumberRestartFormat:()=>xc,LineNumberType:()=>Jh,LineRuleType:()=>ui,Math:()=>wE,MathAccentCharacter:()=>gf,MathAngledBrackets:()=>QE,MathBase:()=>so,MathCurlyBrackets:()=>WE,MathDegree:()=>_f,MathDenominator:()=>pf,MathFraction:()=>SE,MathFunction:()=>UE,MathFunctionName:()=>Nf,MathFunctionProperties:()=>Cf,MathIntegral:()=>PE,MathLimitLocation:()=>vf,MathNAryProperties:()=>Vc,MathNumerator:()=>mf,MathPreSubSuperScript:()=>LE,MathPreSubSuperScriptProperties:()=>Ef,MathRadical:()=>$E,MathRadicalProperties:()=>Sf,MathRoundBrackets:()=>zE,MathRun:()=>_E,MathSquareBrackets:()=>GE,MathSubScript:()=>OE,MathSubScriptElement:()=>fi,MathSubScriptProperties:()=>bf,MathSubSuperScript:()=>RE,MathSubSuperScriptProperties:()=>wf,MathSum:()=>DE,MathSuperScript:()=>kE,MathSuperScriptElement:()=>pi,MathSuperScriptProperties:()=>yf,Media:()=>ol,MonthLong:()=>jw,MonthShort:()=>$w,NextAttributeComponent:()=>h,NoBreakHyphen:()=>Mw,NumberFormat:()=>D,NumberProperties:()=>Mc,NumberValueElement:()=>x,Numbering:()=>jf,OnOffElement:()=>z,OutlineLevel:()=>zh,OverlapType:()=>Yc,Packer:()=>ep,PageBorderDisplay:()=>Tc,PageBorderOffsetFrom:()=>Ic,PageBorderZOrder:()=>Dc,PageBorders:()=>Xh,PageBreak:()=>eE,PageBreakBefore:()=>Fh,PageMargin:()=>Zh,PageNumber:()=>oe,PageNumberElement:()=>Kw,PageNumberSeparator:()=>Pc,PageNumberType:()=>tf,PageNumberTypeAttributes:()=>ef,PageOrientation:()=>ar,PageReference:()=>hE,PageSize:()=>of,PageTextDirection:()=>nf,PageTextDirectionType:()=>kc,Paragraph:()=>nn,ParagraphProperties:()=>Rn,ParagraphPropertiesDefaults:()=>zf,PatchType:()=>pr,PositionalTab:()=>Zw,PositionalTabAlignment:()=>yc,PositionalTabLeader:()=>wc,PositionalTabRelativeTo:()=>bc,PrettifyType:()=>cl,RelativeHorizontalPosition:()=>Kc,RelativeVerticalPosition:()=>Jc,Run:()=>Yt,RunFonts:()=>Ye,RunProperties:()=>Eo,RunPropertiesChange:()=>gh,RunPropertiesDefaults:()=>Gf,SectionProperties:()=>af,SectionType:()=>Oc,SectionTypeAttributes:()=>rf,Separator:()=>Ww,SequentialIdentifier:()=>Tw,Shading:()=>De,ShadingType:()=>B,SimpleField:()=>Oh,SimpleMailMergeField:()=>Dw,SimplePos:()=>yh,SoftHyphen:()=>Fw,SpaceType:()=>P,Spacing:()=>Bh,StringContainer:()=>te,StringEnumValueElement:()=>U,StringValueElement:()=>Se,Style:()=>cr,StyleForCharacter:()=>hr,StyleForParagraph:()=>dr,StyleLevel:()=>g1,Styles:()=>Rs,SymbolRun:()=>F0,TDirection:()=>If,Tab:()=>Yw,TabAttributes:()=>Uh,TabStop:()=>$h,TabStopItem:()=>qh,TabStopPosition:()=>Sc,TabStopType:()=>rr,Table:()=>o_,TableAnchorType:()=>Qc,TableBorders:()=>Wc,TableCell:()=>Gc,TableCellBorders:()=>xf,TableFloatProperties:()=>Df,TableLayout:()=>Pf,TableLayoutType:()=>Xc,TableOfContents:()=>m1,TableProperties:()=>kf,TableRow:()=>n_,TableRowHeight:()=>Rf,TableRowHeightAttributes:()=>Of,TableRowProperties:()=>Lf,TableWidthElement:()=>rn,TextDirection:()=>Hc,TextEffect:()=>E,TextRun:()=>ir,TextWrappingSide:()=>As,TextWrappingType:()=>On,ThematicBreak:()=>ae,Type:()=>sf,Underline:()=>ro,UnderlineType:()=>G,VerticalAlign:()=>Cc,VerticalAlignAttributes:()=>Gh,VerticalAlignElement:()=>$c,VerticalMerge:()=>zc,VerticalMergeType:()=>ur,VerticalPosition:()=>_h,VerticalPositionAlign:()=>j,VerticalPositionRelativeFrom:()=>Cs,WORKAROUND2:()=>d1,WORKAROUND3:()=>S,WORKAROUND4:()=>ME,WidthType:()=>mi,WrapNone:()=>Rc,WrapSquare:()=>Ch,WrapTight:()=>Ah,WrapTopAndBottom:()=>xh,XmlAttributeComponent:()=>u,XmlComponent:()=>a,YearLong:()=>Vw,YearShort:()=>Uw,convertInchesToTwip:()=>xt.convertInchesToTwip,convertMillimetersToTwip:()=>xt.convertMillimetersToTwip,convertToXmlComponent:()=>y,dateTimeValue:()=>xt.dateTimeValue,decimalNumber:()=>xt.decimalNumber,eighthPointMeasureValue:()=>xt.eighthPointMeasureValue,hexColorValue:()=>xt.hexColorValue,hpsMeasureValue:()=>xt.hpsMeasureValue,longHexNumber:()=>xt.longHexNumber,measurementOrPercentValue:()=>xt.measurementOrPercentValue,patchDocument:()=>B1,percentageValue:()=>xt.percentageValue,pointMeasureValue:()=>xt.pointMeasureValue,positiveUniversalMeasureValue:()=>xt.positiveUniversalMeasureValue,sectionMarginDefaults:()=>on,sectionPageSizeDefaults:()=>Ds,shortHexNumber:()=>xt.shortHexNumber,signedHpsMeasureValue:()=>xt.signedHpsMeasureValue,signedTwipsMeasureValue:()=>xt.signedTwipsMeasureValue,twipsMeasureValue:()=>xt.twipsMeasureValue,uCharHexNumber:()=>xt.uCharHexNumber,uniqueId:()=>xt.uniqueId,uniqueNumericId:()=>xt.uniqueNumericId,universalMeasureValue:()=>xt.universalMeasureValue,unsignedDecimalNumber:()=>xt.unsignedDecimalNumber});class s{constructor(d){this.rootKey=d}}const l=Object.seal({});class a extends s{constructor(d){super(d),this.root=new Array}prepForXml(d){var R;d.stack.push(this);const X=this.root.map(he=>he instanceof s?he.prepForXml(d):he).filter(he=>he!==void 0);return d.stack.pop(),{[this.rootKey]:X.length?X.length===1&&(!((R=X[0])===null||R===void 0)&&R._attr)?X[0]:X:l}}addChildElement(d){return this.root.push(d),this}}class c extends a{prepForXml(d){const R=super.prepForXml(d);if(R&&(typeof R[this.rootKey]!="object"||Object.keys(R[this.rootKey]).length))return R}}class u extends s{constructor(d){super("_attr"),this.root=d}prepForXml(d){const R={};return Object.keys(this.root).forEach(X=>{const he=this.root[X];if(he!==void 0){const ve=this.xmlKeys&&this.xmlKeys[X]||X;R[ve]=he}}),{_attr:R}}}class h extends s{constructor(d){super("_attr"),this.root=d}prepForXml(d){return{_attr:Object.values(this.root).filter(({value:R})=>R!==void 0).reduce((R,{key:X,value:he})=>Object.assign(Object.assign({},R),{[X]:he}),{})}}}class p extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"}}}var g=n(7888);const y=f=>{switch(f.type){case void 0:case"element":const d=new I(f.name,f.attributes),R=f.elements||[];for(const X of R){const he=y(X);he!==void 0&&d.push(he)}return d;case"text":return f.text;default:return}};class N extends u{}class I extends a{static fromXmlString(d){const R=(0,g.xml2js)(d,{compact:!1});return y(R)}constructor(d,R){super(d),R&&this.root.push(new N(R))}push(d){this.root.push(d)}}class A extends a{constructor(d){super(""),this._attr=d}prepForXml(d){return{_attr:this._attr}}}const S="";class b extends a{constructor(d,R){super(d),R&&(this.root=R.root)}}var w,T,k,F,j,D,P,B,L,G,E,oe,ie=n(6595);class z extends a{constructor(d,R=!0){super(d),R!==!0&&this.root.push(new p({val:R}))}}class be extends a{constructor(d,R){super(d),this.root.push(new p({val:(0,ie.KR)(R)}))}}class me extends a{}class Se extends a{constructor(d,R){super(d),this.root.push(new p({val:R}))}}class x extends a{constructor(d,R){super(d),this.root.push(new p({val:R}))}}class U extends a{constructor(d,R){super(d),this.root.push(new p({val:R}))}}class te extends a{constructor(d,R){super(d),this.root.push(R)}}class H extends a{constructor(d){super(d.name),d.attributes&&this.root.push(new h(d.attributes))}}(function(f){f.START="start",f.CENTER="center",f.END="end",f.BOTH="both",f.MEDIUM_KASHIDA="mediumKashida",f.DISTRIBUTE="distribute",f.NUM_TAB="numTab",f.HIGH_KASHIDA="highKashida",f.LOW_KASHIDA="lowKashida",f.THAI_DISTRIBUTE="thaiDistribute",f.LEFT="left",f.RIGHT="right",f.JUSTIFIED="both"})(w||(w={}));class K extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class V extends a{constructor(d){super("w:jc"),this.root.push(new K({val:d}))}}class W extends a{constructor(d,{color:R,size:X,space:he,style:ve}){super(d),this.root.push(new ee({style:ve,color:R===void 0?void 0:(0,ie.dg)(R),size:X===void 0?void 0:(0,ie.LV)(X),space:he===void 0?void 0:(0,ie.gg)(he)}))}}class ee extends u{constructor(){super(...arguments),this.xmlKeys={style:"w:val",color:"w:color",size:"w:sz",space:"w:space"}}}(function(f){f.SINGLE="single",f.DASH_DOT_STROKED="dashDotStroked",f.DASHED="dashed",f.DASH_SMALL_GAP="dashSmallGap",f.DOT_DASH="dotDash",f.DOT_DOT_DASH="dotDotDash",f.DOTTED="dotted",f.DOUBLE="double",f.DOUBLE_WAVE="doubleWave",f.INSET="inset",f.NIL="nil",f.NONE="none",f.OUTSET="outset",f.THICK="thick",f.THICK_THIN_LARGE_GAP="thickThinLargeGap",f.THICK_THIN_MEDIUM_GAP="thickThinMediumGap",f.THICK_THIN_SMALL_GAP="thickThinSmallGap",f.THIN_THICK_LARGE_GAP="thinThickLargeGap",f.THIN_THICK_MEDIUM_GAP="thinThickMediumGap",f.THIN_THICK_SMALL_GAP="thinThickSmallGap",f.THIN_THICK_THIN_LARGE_GAP="thinThickThinLargeGap",f.THIN_THICK_THIN_MEDIUM_GAP="thinThickThinMediumGap",f.THIN_THICK_THIN_SMALL_GAP="thinThickThinSmallGap",f.THREE_D_EMBOSS="threeDEmboss",f.THREE_D_ENGRAVE="threeDEngrave",f.TRIPLE="triple",f.WAVE="wave"})(T||(T={}));class se extends c{constructor(d){super("w:pBdr"),d.top&&this.root.push(new W("w:top",d.top)),d.bottom&&this.root.push(new W("w:bottom",d.bottom)),d.left&&this.root.push(new W("w:left",d.left)),d.right&&this.root.push(new W("w:right",d.right))}}class ae extends a{constructor(){super("w:pBdr");const d=new W("w:bottom",{color:"auto",space:1,style:T.SINGLE,size:6});this.root.push(d)}}class $ extends a{constructor({start:d,end:R,left:X,right:he,hanging:ve,firstLine:ke}){super("w:ind"),this.root.push(new h({start:{key:"w:start",value:d===void 0?void 0:(0,ie.xb)(d)},end:{key:"w:end",value:R===void 0?void 0:(0,ie.xb)(R)},left:{key:"w:left",value:X===void 0?void 0:(0,ie.xb)(X)},right:{key:"w:right",value:he===void 0?void 0:(0,ie.xb)(he)},hanging:{key:"w:hanging",value:ve===void 0?void 0:(0,ie.Jd)(ve)},firstLine:{key:"w:firstLine",value:ke===void 0?void 0:(0,ie.Jd)(ke)}}))}}class m extends a{constructor(){super("w:br")}}(function(f){f.BEGIN="begin",f.END="end",f.SEPARATE="separate"})(k||(k={}));class C extends u{constructor(){super(...arguments),this.xmlKeys={type:"w:fldCharType",dirty:"w:dirty"}}}class M extends a{constructor(d){super("w:fldChar"),this.root.push(new C({type:k.BEGIN,dirty:d}))}}class J extends a{constructor(d){super("w:fldChar"),this.root.push(new C({type:k.SEPARATE,dirty:d}))}}class le extends a{constructor(d){super("w:fldChar"),this.root.push(new C({type:k.END,dirty:d}))}}(function(f){f.CENTER="center",f.INSIDE="inside",f.LEFT="left",f.OUTSIDE="outside",f.RIGHT="right"})(F||(F={})),function(f){f.BOTTOM="bottom",f.CENTER="center",f.INSIDE="inside",f.OUTSIDE="outside",f.TOP="top"}(j||(j={})),function(f){f.DECIMAL="decimal",f.UPPER_ROMAN="upperRoman",f.LOWER_ROMAN="lowerRoman",f.UPPER_LETTER="upperLetter",f.LOWER_LETTER="lowerLetter",f.ORDINAL="ordinal",f.CARDINAL_TEXT="cardinalText",f.ORDINAL_TEXT="ordinalText",f.HEX="hex",f.CHICAGO="chicago",f.IDEOGRAPH_DIGITAL="ideographDigital",f.JAPANESE_COUNTING="japaneseCounting",f.AIUEO="aiueo",f.IROHA="iroha",f.DECIMAL_FULL_WIDTH="decimalFullWidth",f.DECIMAL_HALF_WIDTH="decimalHalfWidth",f.JAPANESE_LEGAL="japaneseLegal",f.JAPANESE_DIGITAL_TEN_THOUSAND="japaneseDigitalTenThousand",f.DECIMAL_ENCLOSED_CIRCLE="decimalEnclosedCircle",f.DECIMAL_FULL_WIDTH_2="decimalFullWidth2",f.AIUEO_FULL_WIDTH="aiueoFullWidth",f.IROHA_FULL_WIDTH="irohaFullWidth",f.DECIMAL_ZERO="decimalZero",f.BULLET="bullet",f.GANADA="ganada",f.CHOSUNG="chosung",f.DECIMAL_ENCLOSED_FULL_STOP="decimalEnclosedFullstop",f.DECIMAL_ENCLOSED_PAREN="decimalEnclosedParen",f.DECIMAL_ENCLOSED_CIRCLE_CHINESE="decimalEnclosedCircleChinese",f.IDEOGRAPH_ENCLOSED_CIRCLE="ideographEnclosedCircle",f.IDEOGRAPH_TRADITIONAL="ideographTraditional",f.IDEOGRAPH_ZODIAC="ideographZodiac",f.IDEOGRAPH_ZODIAC_TRADITIONAL="ideographZodiacTraditional",f.TAIWANESE_COUNTING="taiwaneseCounting",f.IDEOGRAPH_LEGAL_TRADITIONAL="ideographLegalTraditional",f.TAIWANESE_COUNTING_THOUSAND="taiwaneseCountingThousand",f.TAIWANESE_DIGITAL="taiwaneseDigital",f.CHINESE_COUNTING="chineseCounting",f.CHINESE_LEGAL_SIMPLIFIED="chineseLegalSimplified",f.CHINESE_COUNTING_TEN_THOUSAND="chineseCountingThousand",f.KOREAN_DIGITAL="koreanDigital",f.KOREAN_COUNTING="koreanCounting",f.KOREAN_LEGAL="koreanLegal",f.KOREAN_DIGITAL_2="koreanDigital2",f.VIETNAMESE_COUNTING="vietnameseCounting",f.RUSSIAN_LOWER="russianLower",f.RUSSIAN_UPPER="russianUpper",f.NONE="none",f.NUMBER_IN_DASH="numberInDash",f.HEBREW_1="hebrew1",f.HEBREW_2="hebrew2",f.ARABIC_ALPHA="arabicAlpha",f.ARABIC_ABJAD="arabicAbjad",f.HINDI_VOWELS="hindiVowels",f.HINDI_CONSONANTS="hindiConsonants",f.HINDI_NUMBERS="hindiNumbers",f.HINDI_COUNTING="hindiCounting",f.THAI_LETTERS="thaiLetters",f.THAI_NUMBERS="thaiNumbers",f.THAI_COUNTING="thaiCounting",f.BAHT_TEXT="bahtText",f.DOLLAR_TEXT="dollarText"}(D||(D={})),function(f){f.DEFAULT="default",f.PRESERVE="preserve"}(P||(P={}));class fe extends u{constructor(){super(...arguments),this.xmlKeys={space:"xml:space"}}}class de extends a{constructor(){super("w:instrText"),this.root.push(new fe({space:P.PRESERVE})),this.root.push("PAGE")}}class pe extends a{constructor(){super("w:instrText"),this.root.push(new fe({space:P.PRESERVE})),this.root.push("NUMPAGES")}}class _e extends a{constructor(){super("w:instrText"),this.root.push(new fe({space:P.PRESERVE})),this.root.push("SECTIONPAGES")}}class ge extends u{constructor(){super(...arguments),this.xmlKeys={fill:"w:fill",color:"w:color",type:"w:val"}}}class De extends a{constructor({fill:d,color:R,type:X}){super("w:shd"),this.root.push(new ge({fill:d===void 0?void 0:(0,ie.dg)(d),color:R===void 0?void 0:(0,ie.dg)(R),type:X}))}}(function(f){f.CLEAR="clear",f.DIAGONAL_CROSS="diagCross",f.DIAGONAL_STRIPE="diagStripe",f.HORIZONTAL_CROSS="horzCross",f.HORIZONTAL_STRIPE="horzStripe",f.NIL="nil",f.PERCENT_5="pct5",f.PERCENT_10="pct10",f.PERCENT_12="pct12",f.PERCENT_15="pct15",f.PERCENT_20="pct20",f.PERCENT_25="pct25",f.PERCENT_30="pct30",f.PERCENT_35="pct35",f.PERCENT_37="pct37",f.PERCENT_40="pct40",f.PERCENT_45="pct45",f.PERCENT_50="pct50",f.PERCENT_55="pct55",f.PERCENT_60="pct60",f.PERCENT_62="pct62",f.PERCENT_65="pct65",f.PERCENT_70="pct70",f.PERCENT_75="pct75",f.PERCENT_80="pct80",f.PERCENT_85="pct85",f.PERCENT_87="pct87",f.PERCENT_90="pct90",f.PERCENT_95="pct95",f.REVERSE_DIAGONAL_STRIPE="reverseDiagStripe",f.SOLID="solid",f.THIN_DIAGONAL_CROSS="thinDiagCross",f.THIN_DIAGONAL_STRIPE="thinDiagStripe",f.THIN_HORIZONTAL_CROSS="thinHorzCross",f.THIN_REVERSE_DIAGONAL_STRIPE="thinReverseDiagStripe",f.THIN_VERTICAL_STRIPE="thinVertStripe",f.VERTICAL_STRIPE="vertStripe"})(B||(B={}));class Re extends u{constructor(){super(...arguments),this.xmlKeys={id:"w:id",author:"w:author",date:"w:date"}}}(function(f){f.DOT="dot"})(L||(L={}));class _ extends a{constructor(d){super("w:em"),this.root.push(new p({val:d}))}}class O extends _{constructor(d=L.DOT){super(d)}}class q extends _{constructor(){super(L.DOT)}}class ne extends a{constructor(d){super("w:spacing"),this.root.push(new p({val:(0,ie.xb)(d)}))}}class ce extends a{constructor(d){super("w:color"),this.root.push(new p({val:(0,ie.dg)(d)}))}}class ue extends a{constructor(d){super("w:highlight"),this.root.push(new p({val:d}))}}class Ne extends a{constructor(d){super("w:highlightCs"),this.root.push(new p({val:d}))}}class je extends u{constructor(){super(...arguments),this.xmlKeys={ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"}}}class Ye extends a{constructor(d,R){if(super("w:rFonts"),typeof d=="string"){const X=d;this.root.push(new je({ascii:X,cs:X,eastAsia:X,hAnsi:X,hint:R}))}else{const X=d;this.root.push(new je(X))}}}class ht extends a{constructor(d){super("w:vertAlign"),this.root.push(new p({val:d}))}}class ot extends ht{constructor(){super("superscript")}}class et extends ht{constructor(){super("subscript")}}(function(f){f.SINGLE="single",f.WORDS="words",f.DOUBLE="double",f.THICK="thick",f.DOTTED="dotted",f.DOTTEDHEAVY="dottedHeavy",f.DASH="dash",f.DASHEDHEAVY="dashedHeavy",f.DASHLONG="dashLong",f.DASHLONGHEAVY="dashLongHeavy",f.DOTDASH="dotDash",f.DASHDOTHEAVY="dashDotHeavy",f.DOTDOTDASH="dotDotDash",f.DASHDOTDOTHEAVY="dashDotDotHeavy",f.WAVE="wave",f.WAVYHEAVY="wavyHeavy",f.WAVYDOUBLE="wavyDouble",f.NONE="none"})(G||(G={}));class ro extends a{constructor(d=G.SINGLE,R){super("w:u"),this.root.push(new p({val:d,color:R===void 0?void 0:(0,ie.dg)(R)}))}}(function(f){f.BLINK_BACKGROUND="blinkBackground",f.LIGHTS="lights",f.ANTS_BLACK="antsBlack",f.ANTS_RED="antsRed",f.SHIMMER="shimmer",f.SPARKLE="sparkle",f.NONE="none"})(E||(E={}));class Eo extends c{constructor(d){var R,X;if(super("w:rPr"),!d)return;d.bold!==void 0&&this.push(new z("w:b",d.bold)),(d.boldComplexScript===void 0&&d.bold!==void 0||d.boldComplexScript)&&this.push(new z("w:bCs",(R=d.boldComplexScript)!==null&&R!==void 0?R:d.bold)),d.italics!==void 0&&this.push(new z("w:i",d.italics)),(d.italicsComplexScript===void 0&&d.italics!==void 0||d.italicsComplexScript)&&this.push(new z("w:iCs",(X=d.italicsComplexScript)!==null&&X!==void 0?X:d.italics)),d.underline&&this.push(new ro(d.underline.type,d.underline.color)),d.effect&&this.push(new Se("w:effect",d.effect)),d.emphasisMark&&this.push(new O(d.emphasisMark.type)),d.color&&this.push(new ce(d.color)),d.kern&&this.push(new be("w:kern",d.kern)),d.position&&this.push(new Se("w:position",d.position)),d.size!==void 0&&this.push(new be("w:sz",d.size));const he=d.sizeComplexScript===void 0||d.sizeComplexScript===!0?d.size:d.sizeComplexScript;he&&this.push(new be("w:szCs",he)),d.rightToLeft!==void 0&&this.push(new z("w:rtl",d.rightToLeft)),d.smallCaps!==void 0?this.push(new z("w:smallCaps",d.smallCaps)):d.allCaps!==void 0&&this.push(new z("w:caps",d.allCaps)),d.strike!==void 0&&this.push(new z("w:strike",d.strike)),d.doubleStrike!==void 0&&this.push(new z("w:dstrike",d.doubleStrike)),d.subScript&&this.push(new et),d.superScript&&this.push(new ot),d.style&&this.push(new Se("w:rStyle",d.style)),d.font&&(typeof d.font=="string"?this.push(new Ye(d.font)):"name"in d.font?this.push(new Ye(d.font.name,d.font.hint)):this.push(new Ye(d.font))),d.highlight&&this.push(new ue(d.highlight));const ve=d.highlightComplexScript===void 0||d.highlightComplexScript===!0?d.highlight:d.highlightComplexScript;ve&&this.push(new Ne(ve)),d.characterSpacing&&this.push(new ne(d.characterSpacing)),d.emboss!==void 0&&this.push(new z("w:emboss",d.emboss)),d.imprint!==void 0&&this.push(new z("w:imprint",d.imprint)),d.shading&&this.push(new De(d.shading)),d.revision&&this.push(new gh(d.revision)),d.border&&this.push(new W("w:bdr",d.border)),d.snapToGrid&&this.push(new z("w:snapToGrid",d.snapToGrid)),d.vanish&&this.push(new z("w:vanish",d.vanish)),d.specVanish&&this.push(new z("w:specVanish",d.vanish)),d.scale!==void 0&&this.push(new x("w:w",d.scale)),d.language&&this.push((ke=>new H({name:"w:lang",attributes:{value:{key:"w:val",value:ke.value},eastAsia:{key:"w:eastAsia",value:ke.eastAsia},bidirectional:{key:"w:bidi",value:ke.bidirectional}}}))(d.language)),d.math&&this.push(new z("w:oMath",d.math))}push(d){this.root.push(d)}}class gh extends a{constructor(d){super("w:rPrChange"),this.root.push(new Re({id:d.id,author:d.author,date:d.date})),this.addChildElement(new Eo(d))}}class Ss extends a{constructor(d){var R;return super("w:t"),typeof d=="string"?(this.root.push(new fe({space:P.PRESERVE})),this.root.push(d),this):(this.root.push(new fe({space:(R=d.space)!==null&&R!==void 0?R:P.DEFAULT})),this.root.push(d.text),this)}}(function(f){f.CURRENT="CURRENT",f.TOTAL_PAGES="TOTAL_PAGES",f.TOTAL_PAGES_IN_SECTION="TOTAL_PAGES_IN_SECTION"})(oe||(oe={}));class Yt extends a{constructor(d){if(super("w:r"),this.properties=new Eo(d),this.root.push(this.properties),d.break)for(let R=0;R<d.break;R++)this.root.push(new m);if(d.children)for(const R of d.children)if(typeof R!="string")this.root.push(R);else switch(R){case oe.CURRENT:this.root.push(new M),this.root.push(new de),this.root.push(new J),this.root.push(new le);break;case oe.TOTAL_PAGES:this.root.push(new M),this.root.push(new pe),this.root.push(new J),this.root.push(new le);break;case oe.TOTAL_PAGES_IN_SECTION:this.root.push(new M),this.root.push(new _e),this.root.push(new J),this.root.push(new le);break;default:this.root.push(new Ss(R))}else d.text&&this.root.push(new Ss(d.text))}}class ir extends Yt{constructor(d){if(typeof d=="string")return super({}),this.root.push(new Ss(d)),this;super(d)}}class M0 extends u{constructor(){super(...arguments),this.xmlKeys={char:"w:char",symbolfont:"w:font"}}}class vh extends a{constructor(d="",R="Wingdings"){super("w:sym"),this.root.push(new M0({char:d,symbolfont:R}))}}class F0 extends Yt{constructor(d){if(typeof d=="string")return super({}),this.root.push(new vh(d)),this;super(d),this.root.push(new vh(d.char,d.symbolfont))}}var Ns,Cs,Pt=n(5457);(function(f){f.CHARACTER="character",f.COLUMN="column",f.INSIDE_MARGIN="insideMargin",f.LEFT_MARGIN="leftMargin",f.MARGIN="margin",f.OUTSIDE_MARGIN="outsideMargin",f.PAGE="page",f.RIGHT_MARGIN="rightMargin"})(Ns||(Ns={})),function(f){f.BOTTOM_MARGIN="bottomMargin",f.INSIDE_MARGIN="insideMargin",f.LINE="line",f.MARGIN="margin",f.OUTSIDE_MARGIN="outsideMargin",f.PAGE="page",f.PARAGRAPH="paragraph",f.TOP_MARGIN="topMargin"}(Cs||(Cs={}));class B0 extends u{constructor(){super(...arguments),this.xmlKeys={x:"x",y:"y"}}}class yh extends a{constructor(){super("wp:simplePos"),this.root.push(new B0({x:0,y:0}))}}class bh extends a{constructor(d){super("wp:align"),this.root.push(d)}}class wh extends a{constructor(d){super("wp:posOffset"),this.root.push(d.toString())}}class $0 extends u{constructor(){super(...arguments),this.xmlKeys={relativeFrom:"relativeFrom"}}}class Eh extends a{constructor(d){if(super("wp:positionH"),this.root.push(new $0({relativeFrom:d.relative||Ns.PAGE})),d.align)this.root.push(new bh(d.align));else{if(d.offset===void 0)throw new Error("There is no configuration provided for floating position (Align or offset)");this.root.push(new wh(d.offset))}}}class U0 extends u{constructor(){super(...arguments),this.xmlKeys={relativeFrom:"relativeFrom"}}}class _h extends a{constructor(d){if(super("wp:positionV"),this.root.push(new U0({relativeFrom:d.relative||Cs.PAGE})),d.align)this.root.push(new bh(d.align));else{if(d.offset===void 0)throw new Error("There is no configuration provided for floating position (Align or offset)");this.root.push(new wh(d.offset))}}}class q0 extends u{constructor(){super(...arguments),this.xmlKeys={uri:"uri"}}}class j0 extends u{constructor(){super(...arguments),this.xmlKeys={embed:"r:embed",cstate:"cstate"}}}class V0 extends a{constructor(d){super("a:blip"),this.root.push(new j0({embed:`rId{${d.fileName}}`,cstate:"none"}))}}class H0 extends a{constructor(){super("a:srcRect")}}class z0 extends a{constructor(){super("a:fillRect")}}class G0 extends a{constructor(){super("a:stretch"),this.root.push(new z0)}}class W0 extends a{constructor(d){super("pic:blipFill"),this.root.push(new V0(d)),this.root.push(new H0),this.root.push(new G0)}}class Q0 extends u{constructor(){super(...arguments),this.xmlKeys={noChangeAspect:"noChangeAspect",noChangeArrowheads:"noChangeArrowheads"}}}class K0 extends a{constructor(){super("a:picLocks"),this.root.push(new Q0({noChangeAspect:1,noChangeArrowheads:1}))}}class J0 extends a{constructor(){super("pic:cNvPicPr"),this.root.push(new K0)}}const Sh=(f,d)=>new H({name:"a:hlinkClick",attributes:Object.assign(Object.assign({},d?{xmlns:{key:"xmlns:a",value:"http://schemas.openxmlformats.org/drawingml/2006/main"}}:{}),{id:{key:"r:id",value:`rId${f}`}})});class Y0 extends u{constructor(){super(...arguments),this.xmlKeys={id:"id",name:"name",descr:"descr"}}}class X0 extends a{constructor(){super("pic:cNvPr"),this.root.push(new Y0({id:0,name:"",descr:""}))}prepForXml(d){for(let R=d.stack.length-1;R>=0;R--){const X=d.stack[R];if(X instanceof di){this.root.push(Sh(X.linkId,!1));break}}return super.prepForXml(d)}}class Z0 extends a{constructor(){super("pic:nvPicPr"),this.root.push(new X0),this.root.push(new J0)}}class ew extends u{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns:pic"}}}class tw extends u{constructor(){super(...arguments),this.xmlKeys={cx:"cx",cy:"cy"}}}class ow extends a{constructor(d,R){super("a:ext"),this.attributes=new tw({cx:d,cy:R}),this.root.push(this.attributes)}}class nw extends u{constructor(){super(...arguments),this.xmlKeys={x:"x",y:"y"}}}class iw extends a{constructor(){super("a:off"),this.root.push(new nw({x:0,y:0}))}}class rw extends u{constructor(){super(...arguments),this.xmlKeys={flipVertical:"flipV",flipHorizontal:"flipH",rotation:"rot"}}}class sw extends a{constructor(d){var R,X;super("a:xfrm"),this.root.push(new rw({flipVertical:(R=d.flip)===null||R===void 0?void 0:R.vertical,flipHorizontal:(X=d.flip)===null||X===void 0?void 0:X.horizontal,rotation:d.rotation})),this.extents=new ow(d.emus.x,d.emus.y),this.root.push(new iw),this.root.push(this.extents)}}class aw extends a{constructor(){super("a:avLst")}}class cw extends u{constructor(){super(...arguments),this.xmlKeys={prst:"prst"}}}class lw extends a{constructor(){super("a:prstGeom"),this.root.push(new cw({prst:"rect"})),this.root.push(new aw)}}class uw extends u{constructor(){super(...arguments),this.xmlKeys={bwMode:"bwMode"}}}class dw extends a{constructor(d){super("pic:spPr"),this.root.push(new uw({bwMode:"auto"})),this.form=new sw(d),this.root.push(this.form),this.root.push(new lw)}}class hw extends a{constructor(d,R){super("pic:pic"),this.root.push(new ew({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.root.push(new Z0),this.root.push(new W0(d)),this.root.push(new dw(R))}}class fw extends a{constructor(d,R){super("a:graphicData"),this.root.push(new q0({uri:"http://schemas.openxmlformats.org/drawingml/2006/picture"})),this.pic=new hw(d,R),this.root.push(this.pic)}}class pw extends u{constructor(){super(...arguments),this.xmlKeys={a:"xmlns:a"}}}class Nh extends a{constructor(d,R){super("a:graphic"),this.root.push(new pw({a:"http://schemas.openxmlformats.org/drawingml/2006/main"})),this.data=new fw(d,R),this.root.push(this.data)}}var On,As,yc,bc,wc,xs,ui,Ec,rr,_c,Sc,Ts,Nc,Cc,jo,sr,Ac,xc,Tc,Ic,Dc,Pc,ar,kc,Oc;(function(f){f[f.NONE=0]="NONE",f[f.SQUARE=1]="SQUARE",f[f.TIGHT=2]="TIGHT",f[f.TOP_AND_BOTTOM=3]="TOP_AND_BOTTOM"})(On||(On={})),function(f){f.BOTH_SIDES="bothSides",f.LEFT="left",f.RIGHT="right",f.LARGEST="largest"}(As||(As={}));class Rc extends a{constructor(){super("wp:wrapNone")}}class mw extends u{constructor(){super(...arguments),this.xmlKeys={distT:"distT",distB:"distB",distL:"distL",distR:"distR",wrapText:"wrapText"}}}class Ch extends a{constructor(d,R={top:0,bottom:0,left:0,right:0}){super("wp:wrapSquare"),this.root.push(new mw({wrapText:d.side||As.BOTH_SIDES,distT:R.top,distB:R.bottom,distL:R.left,distR:R.right}))}}class gw extends u{constructor(){super(...arguments),this.xmlKeys={distT:"distT",distB:"distB"}}}class Ah extends a{constructor(d={top:0,bottom:0}){super("wp:wrapTight"),this.root.push(new gw({distT:d.top,distB:d.bottom}))}}class vw extends u{constructor(){super(...arguments),this.xmlKeys={distT:"distT",distB:"distB"}}}class xh extends a{constructor(d={top:0,bottom:0}){super("wp:wrapTopAndBottom"),this.root.push(new vw({distT:d.top,distB:d.bottom}))}}class Th extends a{constructor({name:d,description:R,title:X}={name:"",description:"",title:""}){super("wp:docPr"),this.root.push(new h({id:{key:"id",value:(0,Pt.NY)()},name:{key:"name",value:d},description:{key:"descr",value:R},title:{key:"title",value:X}}))}prepForXml(d){for(let R=d.stack.length-1;R>=0;R--){const X=d.stack[R];if(X instanceof di){this.root.push(Sh(X.linkId,!0));break}}return super.prepForXml(d)}}class yw extends u{constructor(){super(...arguments),this.xmlKeys={b:"b",l:"l",r:"r",t:"t"}}}class Ih extends a{constructor(){super("wp:effectExtent"),this.root.push(new yw({b:0,l:0,r:0,t:0}))}}class bw extends u{constructor(){super(...arguments),this.xmlKeys={cx:"cx",cy:"cy"}}}class Dh extends a{constructor(d,R){super("wp:extent"),this.attributes=new bw({cx:d,cy:R}),this.root.push(this.attributes)}}class ww extends u{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns:a",noChangeAspect:"noChangeAspect"}}}class Ew extends a{constructor(){super("a:graphicFrameLocks"),this.root.push(new ww({xmlns:"http://schemas.openxmlformats.org/drawingml/2006/main",noChangeAspect:1}))}}class Ph extends a{constructor(){super("wp:cNvGraphicFramePr"),this.root.push(new Ew)}}class _w extends u{constructor(){super(...arguments),this.xmlKeys={distT:"distT",distB:"distB",distL:"distL",distR:"distR",allowOverlap:"allowOverlap",behindDoc:"behindDoc",layoutInCell:"layoutInCell",locked:"locked",relativeHeight:"relativeHeight",simplePos:"simplePos"}}}class Sw extends a{constructor(d,R,X){super("wp:anchor");const he=Object.assign({allowOverlap:!0,behindDocument:!1,lockAnchor:!1,layoutInCell:!0,verticalPosition:{},horizontalPosition:{}},X.floating);if(this.root.push(new _w({distT:he.margins&&he.margins.top||0,distB:he.margins&&he.margins.bottom||0,distL:he.margins&&he.margins.left||0,distR:he.margins&&he.margins.right||0,simplePos:"0",allowOverlap:he.allowOverlap===!0?"1":"0",behindDoc:he.behindDocument===!0?"1":"0",locked:he.lockAnchor===!0?"1":"0",layoutInCell:he.layoutInCell===!0?"1":"0",relativeHeight:he.zIndex?he.zIndex:R.emus.y})),this.root.push(new yh),this.root.push(new Eh(he.horizontalPosition)),this.root.push(new _h(he.verticalPosition)),this.root.push(new Dh(R.emus.x,R.emus.y)),this.root.push(new Ih),X.floating!==void 0&&X.floating.wrap!==void 0)switch(X.floating.wrap.type){case On.SQUARE:this.root.push(new Ch(X.floating.wrap,X.floating.margins));break;case On.TIGHT:this.root.push(new Ah(X.floating.margins));break;case On.TOP_AND_BOTTOM:this.root.push(new xh(X.floating.margins));break;case On.NONE:default:this.root.push(new Rc)}else this.root.push(new Rc);this.root.push(new Th(X.docProperties)),this.root.push(new Ph),this.root.push(new Nh(d,R))}}class Nw extends u{constructor(){super(...arguments),this.xmlKeys={distT:"distT",distB:"distB",distL:"distL",distR:"distR"}}}class Cw extends a{constructor({mediaData:d,transform:R,docProperties:X}){super("wp:inline"),this.root.push(new Nw({distT:0,distB:0,distL:0,distR:0})),this.extent=new Dh(R.emus.x,R.emus.y),this.graphic=new Nh(d,R),this.root.push(this.extent),this.root.push(new Ih),this.root.push(new Th(X)),this.root.push(new Ph),this.root.push(this.graphic)}}class kh extends a{constructor(d,R={}){super("w:drawing"),R.floating?this.root.push(new Sw(d,d.transformation,R)):(this.inline=new Cw({mediaData:d,transform:d.transformation,docProperties:R.docProperties}),this.root.push(this.inline))}}class Aw extends Yt{constructor(d){super({}),this.key=`${(0,Pt.EL)()}.png`;const R=typeof d.data=="string"?this.convertDataURIToBinary(d.data):d.data;this.imageData={stream:R,fileName:this.key,transformation:{pixels:{x:Math.round(d.transformation.width),y:Math.round(d.transformation.height)},emus:{x:Math.round(9525*d.transformation.width),y:Math.round(9525*d.transformation.height)},flip:d.transformation.flip,rotation:d.transformation.rotation?6e4*d.transformation.rotation:void 0}};const X=new kh(this.imageData,{floating:d.floating,docProperties:d.altText});this.root.push(X)}prepForXml(d){return d.file.Media.addImage(this.key,this.imageData),super.prepForXml(d)}convertDataURIToBinary(d){if(typeof atob=="function"){const R=";base64,",X=d.indexOf(R),he=X===-1?0:X+R.length;return new Uint8Array(atob(d.substring(he)).split("").map(ve=>ve.charCodeAt(0)))}return new(n(8764)).Buffer(d,"base64")}}class xw extends a{constructor(d){super("w:instrText"),this.root.push(new fe({space:P.PRESERVE})),this.root.push(`SEQ ${d}`)}}class Tw extends Yt{constructor(d){super({}),this.root.push(new M(!0)),this.root.push(new xw(d)),this.root.push(new J),this.root.push(new le)}}class Iw extends u{constructor(){super(...arguments),this.xmlKeys={instr:"w:instr"}}}class Oh extends a{constructor(d,R){super("w:fldSimple"),this.root.push(new Iw({instr:d})),R!==void 0&&this.root.push(new ir(R))}}class Dw extends Oh{constructor(d){super(` MERGEFIELD ${d} `,`«${d}»`)}}class Pw extends u{constructor(){super(...arguments),this.xmlKeys={id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"}}}class Lc extends u{constructor(){super(...arguments),this.xmlKeys={id:"w:id"}}}class kw extends u{constructor(){super(...arguments),this.xmlKeys={"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"}}}class Ow extends a{constructor(d){super("w:commentRangeStart"),this.root.push(new Lc({id:d}))}}class Rw extends a{constructor(d){super("w:commentRangeEnd"),this.root.push(new Lc({id:d}))}}class Lw extends a{constructor(d){super("w:commentReference"),this.root.push(new Lc({id:d}))}}class Rh extends a{constructor({id:d,initials:R,author:X,date:he=new Date,children:ve}){super("w:comment"),this.root.push(new Pw({id:d,initials:R,author:X,date:he.toISOString()}));for(const ke of ve)this.root.push(ke)}}class Lh extends a{constructor({children:d}){super("w:comments"),this.root.push(new kw({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const R of d)this.root.push(new Rh(R))}}class Mw extends me{constructor(){super("w:noBreakHyphen")}}class Fw extends me{constructor(){super("w:softHyphen")}}class Bw extends me{constructor(){super("w:dayShort")}}class $w extends me{constructor(){super("w:monthShort")}}class Uw extends me{constructor(){super("w:yearShort")}}class qw extends me{constructor(){super("w:dayLong")}}class jw extends me{constructor(){super("w:monthLong")}}class Vw extends me{constructor(){super("w:yearLong")}}class Hw extends me{constructor(){super("w:annotationRef")}}class zw extends me{constructor(){super("w:footnoteRef")}}class Gw extends me{constructor(){super("w:endnoteRef")}}class Ww extends me{constructor(){super("w:separator")}}class Qw extends me{constructor(){super("w:continuationSeparator")}}class Kw extends me{constructor(){super("w:pgNum")}}class Jw extends me{constructor(){super("w:cr")}}class Yw extends me{constructor(){super("w:tab")}}class Xw extends me{constructor(){super("w:lastRenderedPageBreak")}}(function(f){f.LEFT="left",f.CENTER="center",f.RIGHT="right"})(yc||(yc={})),function(f){f.MARGIN="margin",f.INDENT="indent"}(bc||(bc={})),function(f){f.NONE="none",f.DOT="dot",f.HYPHEN="hyphen",f.UNDERSCORE="underscore",f.MIDDLE_DOT="middleDot"}(wc||(wc={}));class Zw extends a{constructor(d){super("w:ptab"),this.root.push(new h({alignment:{key:"w:alignment",value:d.alignment},relativeTo:{key:"w:relativeTo",value:d.relativeTo},leader:{key:"w:leader",value:d.leader}}))}}(function(f){f.COLUMN="column",f.PAGE="page"})(xs||(xs={}));class Mh extends a{constructor(d){super("w:br"),this.root.push(new p({type:d}))}}class eE extends Yt{constructor(){super({}),this.root.push(new Mh(xs.PAGE))}}class tE extends Yt{constructor(){super({}),this.root.push(new Mh(xs.COLUMN))}}class Fh extends a{constructor(){super("w:pageBreakBefore")}}(function(f){f.AT_LEAST="atLeast",f.EXACTLY="exactly",f.EXACT="exact",f.AUTO="auto"})(ui||(ui={}));class oE extends u{constructor(){super(...arguments),this.xmlKeys={after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule"}}}class Bh extends a{constructor(d){super("w:spacing"),this.root.push(new oE(d))}}(function(f){f.HEADING_1="Heading1",f.HEADING_2="Heading2",f.HEADING_3="Heading3",f.HEADING_4="Heading4",f.HEADING_5="Heading5",f.HEADING_6="Heading6",f.TITLE="Title"})(Ec||(Ec={}));class cr extends a{constructor(d){super("w:pStyle"),this.root.push(new p({val:d}))}}class $h extends a{constructor(d){super("w:tabs");for(const R of d)this.root.push(new qh(R))}}(function(f){f.LEFT="left",f.RIGHT="right",f.CENTER="center",f.BAR="bar",f.CLEAR="clear",f.DECIMAL="decimal",f.END="end",f.NUM="num",f.START="start"})(rr||(rr={})),function(f){f.DOT="dot",f.HYPHEN="hyphen",f.MIDDLE_DOT="middleDot",f.NONE="none",f.UNDERSCORE="underscore"}(_c||(_c={})),function(f){f[f.MAX=9026]="MAX"}(Sc||(Sc={}));class Uh extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val",pos:"w:pos",leader:"w:leader"}}}class qh extends a{constructor({type:d,position:R,leader:X}){super("w:tab"),this.root.push(new Uh({val:d,pos:R,leader:X}))}}class Mc extends a{constructor(d,R){super("w:numPr"),this.root.push(new nE(R)),this.root.push(new iE(d))}}class nE extends a{constructor(d){if(super("w:ilvl"),d>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new p({val:d}))}}class iE extends a{constructor(d){super("w:numId"),this.root.push(new p({val:typeof d=="string"?`{${d}}`:d}))}}class Fc extends a{constructor(){super(...arguments),this.fileChild=Symbol()}}class rE extends u{constructor(){super(...arguments),this.xmlKeys={id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"}}}(function(f){f.EXTERNAL="External"})(Ts||(Ts={}));class sE extends a{constructor(d,R,X,he){super("Relationship"),this.root.push(new rE({id:d,type:R,target:X,targetMode:he}))}}class aE extends u{constructor(){super(...arguments),this.xmlKeys={id:"r:id",history:"w:history",anchor:"w:anchor"}}}(function(f){f.INTERNAL="INTERNAL",f.EXTERNAL="EXTERNAL"})(Nc||(Nc={}));class di extends a{constructor(d,R,X){super("w:hyperlink"),this.linkId=R;const he={history:1,anchor:X||void 0,id:X?void 0:`rId${this.linkId}`},ve=new aE(he);this.root.push(ve),d.forEach(ke=>{this.root.push(ke)})}}class cE extends di{constructor(d){super(d.children,(0,Pt.EL)(),d.anchor)}}class Bc extends a{constructor(d){super("w:externalHyperlink"),this.options=d}}class lE extends u{constructor(){super(...arguments),this.xmlKeys={id:"w:id",name:"w:name"}}}class uE extends u{constructor(){super(...arguments),this.xmlKeys={id:"w:id"}}}class jh{constructor(d){const R=(0,Pt.NY)();this.start=new Vh(d.id,R),this.children=d.children,this.end=new Hh(R)}}class Vh extends a{constructor(d,R){super("w:bookmarkStart");const X=new lE({name:d,id:R});this.root.push(X)}}class Hh extends a{constructor(d){super("w:bookmarkEnd");const R=new uE({id:d});this.root.push(R)}}class zh extends a{constructor(d){super("w:outlineLvl"),this.level=d,this.root.push(new p({val:d}))}}class dE extends a{constructor(d,R={}){super("w:instrText"),this.root.push(new fe({space:P.PRESERVE}));let X=`PAGEREF ${d}`;R.hyperlink&&(X=`${X} \\h`),R.useRelativePosition&&(X=`${X} \\p`),this.root.push(X)}}class hE extends Yt{constructor(d,R={}){super({children:[new M(!0),new dE(d,R),new le]})}}(function(f){f.BOTTOM="bottom",f.CENTER="center",f.TOP="top"})(Cc||(Cc={}));class Gh extends u{constructor(){super(...arguments),this.xmlKeys={verticalAlign:"w:val"}}}class $c extends a{constructor(d){super("w:vAlign"),this.root.push(new Gh({verticalAlign:d}))}}(function(f){f.DEFAULT="default",f.FIRST="first",f.EVEN="even"})(jo||(jo={}));class fE extends u{constructor(){super(...arguments),this.xmlKeys={type:"w:type",id:"r:id"}}}(function(f){f.HEADER="w:headerReference",f.FOOTER="w:footerReference"})(sr||(sr={}));class Is extends a{constructor(d,R){super(d),this.root.push(new fE({type:R.type||jo.DEFAULT,id:`rId${R.id}`}))}}class Wh extends a{constructor({space:d,count:R,separate:X,equalWidth:he,children:ve}){super("w:cols"),this.root.push(new h({space:{key:"w:space",value:d===void 0?void 0:(0,ie.Jd)(d)},count:{key:"w:num",value:R===void 0?void 0:(0,ie.vH)(R)},separate:{key:"w:sep",value:X},equalWidth:{key:"w:equalWidth",value:he}})),!he&&ve&&ve.forEach(ke=>this.addChildElement(ke))}}(function(f){f.DEFAULT="default",f.LINES="lines",f.LINES_AND_CHARS="linesAndChars",f.SNAP_TO_CHARS="snapToChars"})(Ac||(Ac={}));class Qh extends u{constructor(){super(...arguments),this.xmlKeys={type:"w:type",linePitch:"w:linePitch",charSpace:"w:charSpace"}}}class Kh extends a{constructor(d,R,X){super("w:docGrid"),this.root.push(new Qh({type:X,linePitch:(0,ie.vH)(d),charSpace:R?(0,ie.vH)(R):void 0}))}}(function(f){f.NEW_PAGE="newPage",f.NEW_SECTION="newSection",f.CONTINUOUS="continuous"})(xc||(xc={}));class Jh extends a{constructor({countBy:d,start:R,restart:X,distance:he}){super("w:lnNumType"),this.root.push(new h({countBy:{key:"w:countBy",value:d===void 0?void 0:(0,ie.vH)(d)},start:{key:"w:start",value:R===void 0?void 0:(0,ie.vH)(R)},restart:{key:"w:restart",value:X},distance:{key:"w:distance",value:he===void 0?void 0:(0,ie.Jd)(he)}}))}}(function(f){f.ALL_PAGES="allPages",f.FIRST_PAGE="firstPage",f.NOT_FIRST_PAGE="notFirstPage"})(Tc||(Tc={})),function(f){f.PAGE="page",f.TEXT="text"}(Ic||(Ic={})),function(f){f.BACK="back",f.FRONT="front"}(Dc||(Dc={}));class Yh extends u{constructor(){super(...arguments),this.xmlKeys={display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"}}}class Xh extends c{constructor(d){if(super("w:pgBorders"),!d)return this;d.pageBorders?this.root.push(new Yh({display:d.pageBorders.display,offsetFrom:d.pageBorders.offsetFrom,zOrder:d.pageBorders.zOrder})):this.root.push(new Yh({})),d.pageBorderTop&&this.root.push(new W("w:top",d.pageBorderTop)),d.pageBorderLeft&&this.root.push(new W("w:left",d.pageBorderLeft)),d.pageBorderBottom&&this.root.push(new W("w:bottom",d.pageBorderBottom)),d.pageBorderRight&&this.root.push(new W("w:right",d.pageBorderRight))}}class Zh extends a{constructor(d,R,X,he,ve,ke,Be){super("w:pgMar"),this.root.push(new h({top:{key:"w:top",value:(0,ie.xb)(d)},right:{key:"w:right",value:(0,ie.Jd)(R)},bottom:{key:"w:bottom",value:(0,ie.xb)(X)},left:{key:"w:left",value:(0,ie.Jd)(he)},header:{key:"w:header",value:(0,ie.Jd)(ve)},footer:{key:"w:footer",value:(0,ie.Jd)(ke)},gutter:{key:"w:gutter",value:(0,ie.Jd)(Be)}}))}}(function(f){f.HYPHEN="hyphen",f.PERIOD="period",f.COLON="colon",f.EM_DASH="emDash",f.EN_DASH="endash"})(Pc||(Pc={}));class ef extends u{constructor(){super(...arguments),this.xmlKeys={start:"w:start",formatType:"w:fmt",separator:"w:chapSep"}}}class tf extends a{constructor({start:d,formatType:R,separator:X}){super("w:pgNumType"),this.root.push(new ef({start:d===void 0?void 0:(0,ie.vH)(d),formatType:R,separator:X}))}}(function(f){f.PORTRAIT="portrait",f.LANDSCAPE="landscape"})(ar||(ar={}));class of extends a{constructor(d,R,X){super("w:pgSz");const he=X===ar.LANDSCAPE,ve=(0,ie.Jd)(d),ke=(0,ie.Jd)(R);this.root.push(new h({width:{key:"w:w",value:he?ke:ve},height:{key:"w:h",value:he?ve:ke},orientation:{key:"w:orient",value:X}}))}}(function(f){f.LEFT_TO_RIGHT_TOP_TO_BOTTOM="lrTb",f.TOP_TO_BOTTOM_RIGHT_TO_LEFT="tbRl"})(kc||(kc={}));class pE extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class nf extends a{constructor(d){super("w:textDirection"),this.root.push(new pE({val:d}))}}(function(f){f.NEXT_PAGE="nextPage",f.NEXT_COLUMN="nextColumn",f.CONTINUOUS="continuous",f.EVEN_PAGE="evenPage",f.ODD_PAGE="oddPage"})(Oc||(Oc={}));class rf extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class sf extends a{constructor(d){super("w:type"),this.root.push(new rf({val:d}))}}const on={TOP:"1in",RIGHT:"1in",BOTTOM:"1in",LEFT:"1in",HEADER:708,FOOTER:708,GUTTER:0},Ds={WIDTH:11906,HEIGHT:16838,ORIENTATION:ar.PORTRAIT};class af extends a{constructor({page:{size:{width:d=Ds.WIDTH,height:R=Ds.HEIGHT,orientation:X=Ds.ORIENTATION}={},margin:{top:he=on.TOP,right:ve=on.RIGHT,bottom:ke=on.BOTTOM,left:Be=on.LEFT,header:We=on.HEADER,footer:qe=on.FOOTER,gutter:nt=on.GUTTER}={},pageNumbers:lt={},borders:Et,textDirection:Wt}={},grid:{linePitch:Ro=360,charSpace:ao,type:an}={},headerWrapperGroup:ut={},footerWrapperGroup:qt={},lineNumbers:Qt,titlePage:co,verticalAlign:cn,column:ln,type:Kt}={}){super("w:sectPr"),this.addHeaderFooterGroup(sr.HEADER,ut),this.addHeaderFooterGroup(sr.FOOTER,qt),Kt&&this.root.push(new sf(Kt)),this.root.push(new of(d,R,X)),this.root.push(new Zh(he,ve,ke,Be,We,qe,nt)),Et&&this.root.push(new Xh(Et)),Qt&&this.root.push(new Jh(Qt)),this.root.push(new tf(lt)),ln&&this.root.push(new Wh(ln)),cn&&this.root.push(new $c(cn)),co!==void 0&&this.root.push(new z("w:titlePg",co)),Wt&&this.root.push(new nf(Wt)),this.root.push(new Kh(Ro,ao,an))}addHeaderFooterGroup(d,R){R.default&&this.root.push(new Is(d,{type:jo.DEFAULT,id:R.default.View.ReferenceId})),R.first&&this.root.push(new Is(d,{type:jo.FIRST,id:R.first.View.ReferenceId})),R.even&&this.root.push(new Is(d,{type:jo.EVEN,id:R.even.View.ReferenceId}))}}class cf extends a{constructor(){super("w:body"),this.sections=[]}addSection(d){const R=this.sections.pop();this.root.push(this.createSectionParagraph(R)),this.sections.push(new af(d))}prepForXml(d){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(d)}push(d){this.root.push(d)}createSectionParagraph(d){const R=new nn({}),X=new Rn({});return X.push(d),R.addChildElement(X),R}}class mE extends a{constructor({width:d,space:R}){super("w:col"),this.root.push(new h({width:{key:"w:w",value:(0,ie.Jd)(d)},space:{key:"w:space",value:R===void 0?void 0:(0,ie.Jd)(R)}}))}}class hi extends u{constructor(){super(...arguments),this.xmlKeys={wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",aink:"xmlns:aink",am3d:"xmlns:am3d",w16cex:"xmlns:w16cex",w16cid:"xmlns:w16cid",w16:"xmlns:w16",w16sdtdh:"xmlns:w16sdtdh",w16se:"xmlns:w16se"}}}class lf extends u{constructor(){super(...arguments),this.xmlKeys={color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"}}}class uf extends a{constructor(d){super("w:background"),this.root.push(new lf({color:d.color===void 0?void 0:(0,ie.dg)(d.color),themeColor:d.themeColor,themeShade:d.themeShade===void 0?void 0:(0,ie.xD)(d.themeShade),themeTint:d.themeTint===void 0?void 0:(0,ie.xD)(d.themeTint)}))}}class gE extends a{constructor(d){super("w:document"),this.root.push(new hi({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex",Ignorable:"w14 w15 wp14"})),this.body=new cf,d.background&&this.root.push(new uf(d.background)),this.root.push(this.body)}add(d){return this.body.push(d),this}get Body(){return this.body}}class vE extends u{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns"}}}class lr extends a{constructor(){super("Relationships"),this.root.push(new vE({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(d,R,X,he){const ve=new sE(`rId${d}`,R,X,he);return this.root.push(ve),ve}get RelationshipCount(){return this.root.length-1}}class df{constructor(d){this.document=new gE(d),this.relationships=new lr}get View(){return this.document}get Relationships(){return this.relationships}}class yE extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class bE extends a{constructor(){super("w:wordWrap"),this.root.push(new yE({val:0}))}}var Uc,qc,jc;(function(f){f.NONE="none",f.DROP="drop",f.MARGIN="margin"})(Uc||(Uc={})),function(f){f.MARGIN="margin",f.PAGE="page",f.TEXT="text"}(qc||(qc={})),function(f){f.AROUND="around",f.AUTO="auto",f.NONE="none",f.NOT_BESIDE="notBeside",f.THROUGH="through",f.TIGHT="tight"}(jc||(jc={}));class hf extends u{constructor(){super(...arguments),this.xmlKeys={anchorLock:"w:anchorLock",dropCap:"w:dropCap",width:"w:w",height:"w:h",x:"w:x",y:"w:y",anchorHorizontal:"w:hAnchor",anchorVertical:"w:vAnchor",spaceHorizontal:"w:hSpace",spaceVertical:"w:vSpace",rule:"w:hRule",alignmentX:"w:xAlign",alignmentY:"w:yAlign",lines:"w:lines",wrap:"w:wrap"}}}class ff extends a{constructor(d){var R,X;super("w:framePr"),this.root.push(new hf({anchorLock:d.anchorLock,dropCap:d.dropCap,width:d.width,height:d.height,x:d.position?d.position.x:void 0,y:d.position?d.position.y:void 0,anchorHorizontal:d.anchor.horizontal,anchorVertical:d.anchor.vertical,spaceHorizontal:(R=d.space)===null||R===void 0?void 0:R.horizontal,spaceVertical:(X=d.space)===null||X===void 0?void 0:X.vertical,rule:d.rule,alignmentX:d.alignment?d.alignment.x:void 0,alignmentY:d.alignment?d.alignment.y:void 0,lines:d.lines,wrap:d.wrap}))}}class Rn extends c{constructor(d){var R,X;if(super("w:pPr"),this.numberingReferences=[],!d)return this;d.heading&&this.push(new cr(d.heading)),d.bullet&&this.push(new cr("ListParagraph")),d.numbering&&(d.style||d.heading||d.numbering.custom||this.push(new cr("ListParagraph"))),d.style&&this.push(new cr(d.style)),d.keepNext!==void 0&&this.push(new z("w:keepNext",d.keepNext)),d.keepLines!==void 0&&this.push(new z("w:keepLines",d.keepLines)),d.pageBreakBefore&&this.push(new Fh),d.frame&&this.push(new ff(d.frame)),d.widowControl!==void 0&&this.push(new z("w:widowControl",d.widowControl)),d.bullet&&this.push(new Mc(1,d.bullet.level)),d.numbering&&(this.numberingReferences.push({reference:d.numbering.reference,instance:(R=d.numbering.instance)!==null&&R!==void 0?R:0}),this.push(new Mc(`${d.numbering.reference}-${(X=d.numbering.instance)!==null&&X!==void 0?X:0}`,d.numbering.level))),d.border&&this.push(new se(d.border)),d.thematicBreak&&this.push(new ae),d.shading&&this.push(new De(d.shading)),d.wordWrap&&this.push(new bE);const he=[...d.rightTabStop?[{type:rr.RIGHT,position:d.rightTabStop}]:[],...d.tabStops?d.tabStops:[],...d.leftTabStop?[{type:rr.LEFT,position:d.leftTabStop}]:[]];he.length>0&&this.push(new $h(he)),d.bidirectional!==void 0&&this.push(new z("w:bidi",d.bidirectional)),d.spacing&&this.push(new Bh(d.spacing)),d.indent&&this.push(new $(d.indent)),d.contextualSpacing!==void 0&&this.push(new z("w:contextualSpacing",d.contextualSpacing)),d.alignment&&this.push(new V(d.alignment)),d.outlineLevel!==void 0&&this.push(new zh(d.outlineLevel)),d.suppressLineNumbers!==void 0&&this.push(new z("w:suppressLineNumbers",d.suppressLineNumbers)),d.autoSpaceEastAsianText!==void 0&&this.push(new z("w:autoSpaceDN",d.autoSpaceEastAsianText))}push(d){this.root.push(d)}prepForXml(d){if(d.viewWrapper instanceof df)for(const R of this.numberingReferences)d.file.Numbering.createConcreteNumberingInstance(R.reference,R.instance);return super.prepForXml(d)}}class nn extends Fc{constructor(d){if(super("w:p"),typeof d=="string")return this.properties=new Rn({}),this.root.push(this.properties),this.root.push(new ir(d)),this;if(this.properties=new Rn(d),this.root.push(this.properties),d.text&&this.root.push(new ir(d.text)),d.children)for(const R of d.children)if(R instanceof jh){this.root.push(R.start);for(const X of R.children)this.root.push(X);this.root.push(R.end)}else this.root.push(R)}prepForXml(d){for(const R of this.root)if(R instanceof Bc){const X=this.root.indexOf(R),he=new di(R.options.children,(0,Pt.EL)());d.viewWrapper.Relationships.createRelationship(he.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",R.options.link,Ts.EXTERNAL),this.root[X]=he}return super.prepForXml(d)}addRunToFront(d){return this.root.splice(1,0,d),this}}class wE extends a{constructor(d){super("m:oMath");for(const R of d.children)this.root.push(R)}}class EE extends a{constructor(d){super("m:t"),this.root.push(d)}}class _E extends a{constructor(d){super("m:r"),this.root.push(new EE(d))}}class pf extends a{constructor(d){super("m:den");for(const R of d)this.root.push(R)}}class mf extends a{constructor(d){super("m:num");for(const R of d)this.root.push(R)}}class SE extends a{constructor(d){super("m:f"),this.root.push(new mf(d.numerator)),this.root.push(new pf(d.denominator))}}class NE extends u{constructor(){super(...arguments),this.xmlKeys={accent:"m:val"}}}class gf extends a{constructor(d){super("m:chr"),this.root.push(new NE({accent:d}))}}class so extends a{constructor(d){super("m:e");for(const R of d)this.root.push(R)}}class CE extends u{constructor(){super(...arguments),this.xmlKeys={value:"m:val"}}}class vf extends a{constructor(){super("m:limLoc"),this.root.push(new CE({value:"undOvr"}))}}class AE extends u{constructor(){super(...arguments),this.xmlKeys={hide:"m:val"}}}class xE extends a{constructor(){super("m:subHide"),this.root.push(new AE({hide:1}))}}class TE extends u{constructor(){super(...arguments),this.xmlKeys={hide:"m:val"}}}class IE extends a{constructor(){super("m:supHide"),this.root.push(new TE({hide:1}))}}class Vc extends a{constructor(d,R,X){super("m:naryPr"),d&&this.root.push(new gf(d)),this.root.push(new vf),R||this.root.push(new IE),X||this.root.push(new xE)}}class fi extends a{constructor(d){super("m:sub");for(const R of d)this.root.push(R)}}class pi extends a{constructor(d){super("m:sup");for(const R of d)this.root.push(R)}}class DE extends a{constructor(d){super("m:nary"),this.root.push(new Vc("∑",!!d.superScript,!!d.subScript)),d.subScript&&this.root.push(new fi(d.subScript)),d.superScript&&this.root.push(new pi(d.superScript)),this.root.push(new so(d.children))}}class PE extends a{constructor(d){super("m:nary"),this.root.push(new Vc("",!!d.superScript,!!d.subScript)),d.subScript&&this.root.push(new fi(d.subScript)),d.superScript&&this.root.push(new pi(d.superScript)),this.root.push(new so(d.children))}}class yf extends a{constructor(){super("m:sSupPr")}}class kE extends a{constructor(d){super("m:sSup"),this.root.push(new yf),this.root.push(new so(d.children)),this.root.push(new pi(d.superScript))}}class bf extends a{constructor(){super("m:sSubPr")}}class OE extends a{constructor(d){super("m:sSub"),this.root.push(new bf),this.root.push(new so(d.children)),this.root.push(new fi(d.subScript))}}class wf extends a{constructor(){super("m:sSubSupPr")}}class RE extends a{constructor(d){super("m:sSubSup"),this.root.push(new wf),this.root.push(new so(d.children)),this.root.push(new fi(d.subScript)),this.root.push(new pi(d.superScript))}}class Ef extends a{constructor(){super("m:sPrePr")}}class LE extends a{constructor(d){super("m:sPre"),this.root.push(new Ef),this.root.push(new so(d.children)),this.root.push(new fi(d.subScript)),this.root.push(new pi(d.superScript))}}const ME="";class _f extends a{constructor(d){if(super("m:deg"),d)for(const R of d)this.root.push(R)}}class FE extends u{constructor(){super(...arguments),this.xmlKeys={hide:"m:val"}}}class BE extends a{constructor(){super("m:degHide"),this.root.push(new FE({hide:1}))}}class Sf extends a{constructor(d){super("m:radPr"),d||this.root.push(new BE)}}class $E extends a{constructor(d){super("m:rad"),this.root.push(new Sf(!!d.degree)),this.root.push(new _f(d.degree)),this.root.push(new so(d.children))}}class Nf extends a{constructor(d){super("m:fName");for(const R of d)this.root.push(R)}}class Cf extends a{constructor(){super("m:funcPr")}}class UE extends a{constructor(d){super("m:func"),this.root.push(new Cf),this.root.push(new Nf(d.name)),this.root.push(new so(d.children))}}class qE extends u{constructor(){super(...arguments),this.xmlKeys={character:"m:val"}}}class jE extends a{constructor(d){super("m:begChr"),this.root.push(new qE({character:d}))}}class VE extends u{constructor(){super(...arguments),this.xmlKeys={character:"m:val"}}}class HE extends a{constructor(d){super("m:endChr"),this.root.push(new VE({character:d}))}}class Ps extends a{constructor(d){super("m:dPr"),d&&(this.root.push(new jE(d.beginningCharacter)),this.root.push(new HE(d.endingCharacter)))}}class zE extends a{constructor(d){super("m:d"),this.root.push(new Ps),this.root.push(new so(d.children))}}class GE extends a{constructor(d){super("m:d"),this.root.push(new Ps({beginningCharacter:"[",endingCharacter:"]"})),this.root.push(new so(d.children))}}class WE extends a{constructor(d){super("m:d"),this.root.push(new Ps({beginningCharacter:"{",endingCharacter:"}"})),this.root.push(new so(d.children))}}class QE extends a{constructor(d){super("m:d"),this.root.push(new Ps({beginningCharacter:"〈",endingCharacter:"〉"})),this.root.push(new so(d.children))}}class KE extends a{constructor(d){super("w:tblGrid");for(const R of d)this.root.push(new JE(R))}}class JE extends a{constructor(d){super("w:gridCol"),d!==void 0&&this.root.push(new h({width:{key:"w:w",value:(0,ie.Jd)(d)}}))}}var mi,ks,ur,Hc;(function(f){f.AUTO="auto",f.DXA="dxa",f.NIL="nil",f.PERCENTAGE="pct"})(mi||(mi={}));class rn extends a{constructor(d,{type:R=mi.AUTO,size:X}){super(d);let he=X;R===mi.PERCENTAGE&&typeof X=="number"&&(he=`${X}%`),this.root.push(new h({type:{key:"w:type",value:R},size:{key:"w:w",value:(0,ie.aB)(he)}}))}}(function(f){f.TABLE="w:tblCellMar",f.TABLE_CELL="w:tcMar"})(ks||(ks={}));class Af extends c{constructor(d,{marginUnitType:R=mi.DXA,top:X,left:he,bottom:ve,right:ke}){super(d),X!==void 0&&this.root.push(new rn("w:top",{type:R,size:X})),he!==void 0&&this.root.push(new rn("w:left",{type:R,size:he})),ve!==void 0&&this.root.push(new rn("w:bottom",{type:R,size:ve})),ke!==void 0&&this.root.push(new rn("w:right",{type:R,size:ke}))}}class xf extends c{constructor(d){super("w:tcBorders"),d.top&&this.root.push(new W("w:top",d.top)),d.start&&this.root.push(new W("w:start",d.start)),d.left&&this.root.push(new W("w:left",d.left)),d.bottom&&this.root.push(new W("w:bottom",d.bottom)),d.end&&this.root.push(new W("w:end",d.end)),d.right&&this.root.push(new W("w:right",d.right))}}class YE extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class Tf extends a{constructor(d){super("w:gridSpan"),this.root.push(new YE({val:(0,ie.vH)(d)}))}}(function(f){f.CONTINUE="continue",f.RESTART="restart"})(ur||(ur={}));class XE extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class zc extends a{constructor(d){super("w:vMerge"),this.root.push(new XE({val:d}))}}(function(f){f.BOTTOM_TO_TOP_LEFT_TO_RIGHT="btLr",f.LEFT_TO_RIGHT_TOP_TO_BOTTOM="lrTb",f.TOP_TO_BOTTOM_RIGHT_TO_LEFT="tbRl"})(Hc||(Hc={}));class ZE extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class If extends a{constructor(d){super("w:textDirection"),this.root.push(new ZE({val:d}))}}class e_ extends c{constructor(d){super("w:tcPr"),d.width&&this.root.push(new rn("w:tcW",d.width)),d.columnSpan&&this.root.push(new Tf(d.columnSpan)),d.verticalMerge?this.root.push(new zc(d.verticalMerge)):d.rowSpan&&d.rowSpan>1&&this.root.push(new zc(ur.RESTART)),d.borders&&this.root.push(new xf(d.borders)),d.shading&&this.root.push(new De(d.shading)),d.margins&&this.root.push(new Af(ks.TABLE_CELL,d.margins)),d.textDirection&&this.root.push(new If(d.textDirection)),d.verticalAlign&&this.root.push(new $c(d.verticalAlign))}}class Gc extends a{constructor(d){super("w:tc"),this.options=d,this.root.push(new e_(d));for(const R of d.children)this.root.push(R)}prepForXml(d){return this.root[this.root.length-1]instanceof nn||this.root.push(new nn({})),super.prepForXml(d)}}const gi={style:T.NONE,size:0,color:"auto"},vi={style:T.SINGLE,size:4,color:"auto"};class Wc extends a{constructor(d){super("w:tblBorders"),d.top?this.root.push(new W("w:top",d.top)):this.root.push(new W("w:top",vi)),d.left?this.root.push(new W("w:left",d.left)):this.root.push(new W("w:left",vi)),d.bottom?this.root.push(new W("w:bottom",d.bottom)):this.root.push(new W("w:bottom",vi)),d.right?this.root.push(new W("w:right",d.right)):this.root.push(new W("w:right",vi)),d.insideHorizontal?this.root.push(new W("w:insideH",d.insideHorizontal)):this.root.push(new W("w:insideH",vi)),d.insideVertical?this.root.push(new W("w:insideV",d.insideVertical)):this.root.push(new W("w:insideV",vi))}}var Qc,Kc,Jc,Yc,Xc,Zc,Os,fo,el;Wc.NONE={top:gi,bottom:gi,left:gi,right:gi,insideHorizontal:gi,insideVertical:gi},function(f){f.MARGIN="margin",f.PAGE="page",f.TEXT="text"}(Qc||(Qc={})),function(f){f.CENTER="center",f.INSIDE="inside",f.LEFT="left",f.OUTSIDE="outside",f.RIGHT="right"}(Kc||(Kc={})),function(f){f.CENTER="center",f.INSIDE="inside",f.BOTTOM="bottom",f.OUTSIDE="outside",f.INLINE="inline",f.TOP="top"}(Jc||(Jc={})),function(f){f.NEVER="never",f.OVERLAP="overlap"}(Yc||(Yc={}));class Df extends a{constructor({horizontalAnchor:d,verticalAnchor:R,absoluteHorizontalPosition:X,relativeHorizontalPosition:he,absoluteVerticalPosition:ve,relativeVerticalPosition:ke,bottomFromText:Be,topFromText:We,leftFromText:qe,rightFromText:nt,overlap:lt}){super("w:tblpPr"),this.root.push(new h({leftFromText:{key:"w:leftFromText",value:qe===void 0?void 0:(0,ie.Jd)(qe)},rightFromText:{key:"w:rightFromText",value:nt===void 0?void 0:(0,ie.Jd)(nt)},topFromText:{key:"w:topFromText",value:We===void 0?void 0:(0,ie.Jd)(We)},bottomFromText:{key:"w:bottomFromText",value:Be===void 0?void 0:(0,ie.Jd)(Be)},absoluteHorizontalPosition:{key:"w:tblpX",value:X===void 0?void 0:(0,ie.xb)(X)},absoluteVerticalPosition:{key:"w:tblpY",value:ve===void 0?void 0:(0,ie.xb)(ve)},horizontalAnchor:{key:"w:horzAnchor",value:d===void 0?void 0:d},relativeHorizontalPosition:{key:"w:tblpXSpec",value:he},relativeVerticalPosition:{key:"w:tblpYSpec",value:ke},verticalAnchor:{key:"w:vertAnchor",value:R}})),lt&&this.root.push(new U("w:tblOverlap",lt))}}(function(f){f.AUTOFIT="autofit",f.FIXED="fixed"})(Xc||(Xc={}));class t_ extends u{constructor(){super(...arguments),this.xmlKeys={type:"w:type"}}}class Pf extends a{constructor(d){super("w:tblLayout"),this.root.push(new t_({type:d}))}}class kf extends c{constructor(d){super("w:tblPr"),d.style&&this.root.push(new Se("w:tblStyle",d.style)),d.float&&this.root.push(new Df(d.float)),d.visuallyRightToLeft!==void 0&&this.root.push(new z("w:bidiVisual",d.visuallyRightToLeft)),d.width&&this.root.push(new rn("w:tblW",d.width)),d.alignment&&this.root.push(new V(d.alignment)),d.indent&&this.root.push(new rn("w:tblInd",d.indent)),d.borders&&this.root.push(new Wc(d.borders)),d.shading&&this.root.push(new De(d.shading)),d.layout&&this.root.push(new Pf(d.layout)),d.cellMargin&&this.root.push(new Af(ks.TABLE,d.cellMargin))}}class o_ extends Fc{constructor({rows:d,width:R,columnWidths:X=Array(Math.max(...d.map(Et=>Et.CellCount))).fill(100),margins:he,indent:ve,float:ke,layout:Be,style:We,borders:qe,alignment:nt,visuallyRightToLeft:lt}){super("w:tbl"),this.root.push(new kf({borders:qe??{},width:R??{size:100},indent:ve,float:ke,layout:Be,style:We,alignment:nt,cellMargin:he,visuallyRightToLeft:lt})),this.root.push(new KE(X));for(const Et of d)this.root.push(Et);d.forEach((Et,Wt)=>{if(Wt===d.length-1)return;let Ro=0;Et.cells.forEach(ao=>{if(ao.options.rowSpan&&ao.options.rowSpan>1){const an=new Gc({rowSpan:ao.options.rowSpan-1,columnSpan:ao.options.columnSpan,borders:ao.options.borders,children:[],verticalMerge:ur.CONTINUE});d[Wt+1].addCellToColumnIndex(an,Ro)}Ro+=ao.options.columnSpan||1})})}}(function(f){f.AUTO="auto",f.ATLEAST="atLeast",f.EXACT="exact"})(Zc||(Zc={}));class Of extends u{constructor(){super(...arguments),this.xmlKeys={value:"w:val",rule:"w:hRule"}}}class Rf extends a{constructor(d,R){super("w:trHeight"),this.root.push(new Of({value:(0,ie.Jd)(d),rule:R}))}}class Lf extends c{constructor(d){super("w:trPr"),d.cantSplit!==void 0&&this.root.push(new z("w:cantSplit",d.cantSplit)),d.tableHeader!==void 0&&this.root.push(new z("w:tblHeader",d.tableHeader)),d.height&&this.root.push(new Rf(d.height.value,d.height.rule))}}class n_ extends a{constructor(d){super("w:tr"),this.options=d,this.root.push(new Lf(d));for(const R of d.children)this.root.push(R)}get CellCount(){return this.options.children.length}get cells(){return this.root.filter(d=>d instanceof Gc)}addCellToIndex(d,R){this.root.splice(R+1,0,d)}addCellToColumnIndex(d,R){const X=this.columnIndexToRootIndex(R,!0);this.addCellToIndex(d,X-1)}rootIndexToColumnIndex(d){if(d<1||d>=this.root.length)throw new Error("cell 'rootIndex' should between 1 to "+(this.root.length-1));let R=0;for(let X=1;X<d;X++)R+=this.root[X].options.columnSpan||1;return R}columnIndexToRootIndex(d,R=!1){if(d<0)throw new Error("cell 'columnIndex' should not less than zero");let X=0,he=1;for(;X<=d;){if(he>=this.root.length){if(R)return this.root.length;throw new Error("cell 'columnIndex' should not great than "+(X-1))}const ve=this.root[he];he+=1,X+=ve&&ve.options.columnSpan||1}return he-1}}class i_ extends u{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns",vt:"xmlns:vt"}}}class r_ extends a{constructor(){super("Properties"),this.root.push(new i_({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class s_ extends u{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns"}}}class a_ extends u{constructor(){super(...arguments),this.xmlKeys={contentType:"ContentType",extension:"Extension"}}}class Ln extends a{constructor(d,R){super("Default"),this.root.push(new a_({contentType:d,extension:R}))}}class c_ extends u{constructor(){super(...arguments),this.xmlKeys={contentType:"ContentType",partName:"PartName"}}}class _o extends a{constructor(d,R){super("Override"),this.root.push(new c_({contentType:d,partName:R}))}}class l_ extends a{constructor(){super("Types"),this.root.push(new s_({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new Ln("image/png","png")),this.root.push(new Ln("image/jpeg","jpeg")),this.root.push(new Ln("image/jpeg","jpg")),this.root.push(new Ln("image/bmp","bmp")),this.root.push(new Ln("image/gif","gif")),this.root.push(new Ln("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new Ln("application/xml","xml")),this.root.push(new _o("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new _o("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new _o("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new _o("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new _o("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new _o("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new _o("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new _o("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new _o("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml"))}addFooter(d){this.root.push(new _o("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${d}.xml`))}addHeader(d){this.root.push(new _o("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${d}.xml`))}}class u_ extends a{constructor(d){super("cp:coreProperties"),this.root.push(new hi({cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"})),d.title&&this.root.push(new te("dc:title",d.title)),d.subject&&this.root.push(new te("dc:subject",d.subject)),d.creator&&this.root.push(new te("dc:creator",d.creator)),d.keywords&&this.root.push(new te("cp:keywords",d.keywords)),d.description&&this.root.push(new te("dc:description",d.description)),d.lastModifiedBy&&this.root.push(new te("cp:lastModifiedBy",d.lastModifiedBy)),d.revision&&this.root.push(new te("cp:revision",String(d.revision))),this.root.push(new Mf("dcterms:created")),this.root.push(new Mf("dcterms:modified"))}}class Mf extends a{constructor(d){super(d),this.root.push(new hi({type:"dcterms:W3CDTF"})),this.root.push((0,ie.sF)(new Date))}}class d_ extends u{constructor(){super(...arguments),this.xmlKeys={xmlns:"xmlns",vt:"xmlns:vt"}}}class h_ extends u{constructor(){super(...arguments),this.xmlKeys={fmtid:"fmtid",pid:"pid",name:"name"}}}class f_ extends a{constructor(d,R){super("property"),this.root.push(new h_({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:d.toString(),name:R.name})),this.root.push(new p_(R.value))}}class p_ extends a{constructor(d){super("vt:lpwstr"),this.root.push(d)}}class m_ extends a{constructor(d){super("Properties"),this.properties=[],this.root.push(new d_({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const R of d)this.addCustomProperty(R)}prepForXml(d){return this.properties.forEach(R=>this.root.push(R)),super.prepForXml(d)}addCustomProperty(d){this.properties.push(new f_(this.nextId++,d))}}class g_ extends u{constructor(){super(...arguments),this.xmlKeys={wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"}}}class v_ extends b{constructor(d,R){super("w:ftr",R),this.refId=d,R||this.root.push(new g_({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(d){this.root.push(d)}}class Ff{constructor(d,R,X){this.media=d,this.footer=new v_(R,X),this.relationships=new lr}add(d){this.footer.add(d)}addChildElement(d){this.footer.addChildElement(d)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class y_ extends u{constructor(){super(...arguments),this.xmlKeys={type:"w:type",id:"w:id"}}}class b_ extends a{constructor(){super("w:footnoteRef")}}class w_ extends Yt{constructor(){super({style:"FootnoteReference"}),this.root.push(new b_)}}(function(f){f.SEPERATOR="separator",f.CONTINUATION_SEPERATOR="continuationSeparator"})(Os||(Os={}));class tl extends a{constructor(d){super("w:footnote"),this.root.push(new y_({type:d.type,id:d.id}));for(let R=0;R<d.children.length;R++){const X=d.children[R];R===0&&X.addRunToFront(new w_),this.root.push(X)}}}class E_ extends a{constructor(){super("w:continuationSeparator")}}class __ extends Yt{constructor(){super({}),this.root.push(new E_)}}class S_ extends a{constructor(){super("w:separator")}}class N_ extends Yt{constructor(){super({}),this.root.push(new S_)}}class C_ extends u{constructor(){super(...arguments),this.xmlKeys={wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"}}}class Bf extends a{constructor(){super("w:footnotes"),this.root.push(new C_({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const d=new tl({id:-1,type:Os.SEPERATOR,children:[new nn({spacing:{after:0,line:240,lineRule:ui.AUTO},children:[new N_]})]});this.root.push(d);const R=new tl({id:0,type:Os.CONTINUATION_SEPERATOR,children:[new nn({spacing:{after:0,line:240,lineRule:ui.AUTO},children:[new __]})]});this.root.push(R)}createFootNote(d,R){const X=new tl({id:d,children:R});this.root.push(X)}}class A_{constructor(){this.footnotess=new Bf,this.relationships=new lr}get View(){return this.footnotess}get Relationships(){return this.relationships}}class x_ extends u{constructor(){super(...arguments),this.xmlKeys={wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"}}}class T_ extends b{constructor(d,R){super("w:hdr",R),this.refId=d,R||this.root.push(new x_({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(d){this.root.push(d)}}class $f{constructor(d,R,X){this.media=d,this.header=new T_(R,X),this.relationships=new lr}add(d){return this.header.add(d),this}addChildElement(d){this.header.addChildElement(d)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class ol{constructor(){this.map=new Map}addImage(d,R){this.map.set(d,R)}get Array(){return Array.from(this.map.values())}}(function(f){f.DECIMAL="decimal",f.UPPER_ROMAN="upperRoman",f.LOWER_ROMAN="lowerRoman",f.UPPER_LETTER="upperLetter",f.LOWER_LETTER="lowerLetter",f.ORDINAL="ordinal",f.CARDINAL_TEXT="cardinalText",f.ORDINAL_TEXT="ordinalText",f.HEX="hex",f.CHICAGO="chicago",f.IDEOGRAPH__DIGITAL="ideographDigital",f.JAPANESE_COUNTING="japaneseCounting",f.AIUEO="aiueo",f.IROHA="iroha",f.DECIMAL_FULL_WIDTH="decimalFullWidth",f.DECIMAL_HALF_WIDTH="decimalHalfWidth",f.JAPANESE_LEGAL="japaneseLegal",f.JAPANESE_DIGITAL_TEN_THOUSAND="japaneseDigitalTenThousand",f.DECIMAL_ENCLOSED_CIRCLE="decimalEnclosedCircle",f.DECIMAL_FULL_WIDTH2="decimalFullWidth2",f.AIUEO_FULL_WIDTH="aiueoFullWidth",f.IROHA_FULL_WIDTH="irohaFullWidth",f.DECIMAL_ZERO="decimalZero",f.BULLET="bullet",f.GANADA="ganada",f.CHOSUNG="chosung",f.DECIMAL_ENCLOSED_FULLSTOP="decimalEnclosedFullstop",f.DECIMAL_ENCLOSED_PARENTHESES="decimalEnclosedParen",f.DECIMAL_ENCLOSED_CIRCLE_CHINESE="decimalEnclosedCircleChinese",f.IDEOGRAPH_ENCLOSED_CIRCLE="ideographEnclosedCircle",f.IDEOGRAPH_TRADITIONAL="ideographTraditional",f.IDEOGRAPH_ZODIAC="ideographZodiac",f.IDEOGRAPH_ZODIAC_TRADITIONAL="ideographZodiacTraditional",f.TAIWANESE_COUNTING="taiwaneseCounting",f.IDEOGRAPH_LEGAL_TRADITIONAL="ideographLegalTraditional",f.TAIWANESE_COUNTING_THOUSAND="taiwaneseCountingThousand",f.TAIWANESE_DIGITAL="taiwaneseDigital",f.CHINESE_COUNTING="chineseCounting",f.CHINESE_LEGAL_SIMPLIFIED="chineseLegalSimplified",f.CHINESE_COUNTING_THOUSAND="chineseCountingThousand",f.KOREAN_DIGITAL="koreanDigital",f.KOREAN_COUNTING="koreanCounting",f.KOREAN_LEGAL="koreanLegal",f.KOREAN_DIGITAL2="koreanDigital2",f.VIETNAMESE_COUNTING="vietnameseCounting",f.RUSSIAN_LOWER="russianLower",f.RUSSIAN_UPPER="russianUpper",f.NONE="none",f.NUMBER_IN_DASH="numberInDash",f.HEBREW1="hebrew1",f.HEBREW2="hebrew2",f.ARABIC_ALPHA="arabicAlpha",f.ARABIC_ABJAD="arabicAbjad",f.HINDI_VOWELS="hindiVowels",f.HINDI_CONSONANTS="hindiConsonants",f.HINDI_NUMBERS="hindiNumbers",f.HINDI_COUNTING="hindiCounting",f.THAI_LETTERS="thaiLetters",f.THAI_NUMBERS="thaiNumbers",f.THAI_COUNTING="thaiCounting",f.BAHT_TEXT="bahtText",f.DOLLAR_TEXT="dollarText",f.CUSTOM="custom"})(fo||(fo={}));class I_ extends u{constructor(){super(...arguments),this.xmlKeys={ilvl:"w:ilvl",tentative:"w15:tentative"}}}class D_ extends a{constructor(d){super("w:numFmt"),this.root.push(new p({val:d}))}}class P_ extends a{constructor(d){super("w:lvlText"),this.root.push(new p({val:d}))}}class k_ extends a{constructor(d){super("w:lvlJc"),this.root.push(new p({val:d}))}}(function(f){f.NOTHING="nothing",f.SPACE="space",f.TAB="tab"})(el||(el={}));class O_ extends a{constructor(d){super("w:suff"),this.root.push(new p({val:d}))}}class R_ extends a{constructor(){super("w:isLgl")}}class nl extends a{constructor({level:d,format:R,text:X,alignment:he=w.START,start:ve=1,style:ke,suffix:Be,isLegalNumberingStyle:We}){if(super("w:lvl"),this.root.push(new x("w:start",(0,ie.vH)(ve))),R&&this.root.push(new D_(R)),Be&&this.root.push(new O_(Be)),We&&this.root.push(new R_),X&&this.root.push(new P_(X)),this.root.push(new k_(he)),this.paragraphProperties=new Rn(ke&&ke.paragraph),this.runProperties=new Eo(ke&&ke.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),d>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new I_({ilvl:(0,ie.vH)(d),tentative:1}))}}class Uf extends nl{}class L_ extends nl{}class M_ extends a{constructor(d){super("w:multiLevelType"),this.root.push(new p({val:d}))}}class F_ extends u{constructor(){super(...arguments),this.xmlKeys={abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"}}}class il extends a{constructor(d,R){super("w:abstractNum"),this.root.push(new F_({abstractNumId:(0,ie.vH)(d),restartNumberingAfterBreak:0})),this.root.push(new M_("hybridMultilevel")),this.id=d;for(const X of R)this.root.push(new Uf(X))}}class B_ extends a{constructor(d){super("w:abstractNumId"),this.root.push(new p({val:d}))}}class $_ extends u{constructor(){super(...arguments),this.xmlKeys={numId:"w:numId"}}}class rl extends a{constructor(d){if(super("w:num"),this.numId=d.numId,this.reference=d.reference,this.instance=d.instance,this.root.push(new $_({numId:(0,ie.vH)(d.numId)})),this.root.push(new B_((0,ie.vH)(d.abstractNumId))),d.overrideLevels&&d.overrideLevels.length)for(const R of d.overrideLevels)this.root.push(new qf(R.num,R.start))}}class U_ extends u{constructor(){super(...arguments),this.xmlKeys={ilvl:"w:ilvl"}}}class qf extends a{constructor(d,R){super("w:lvlOverride"),this.root.push(new U_({ilvl:d})),R!==void 0&&this.root.push(new j_(R))}}class q_ extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class j_ extends a{constructor(d){super("w:startOverride"),this.root.push(new q_({val:d}))}}class jf extends a{constructor(d){super("w:numbering"),this.abstractNumberingMap=new Map,this.concreteNumberingMap=new Map,this.referenceConfigMap=new Map,this.root.push(new hi({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const R=new il((0,Pt.NY)(),[{level:0,format:fo.BULLET,text:"●",alignment:w.LEFT,style:{paragraph:{indent:{left:(0,Pt.vw)(.5),hanging:(0,Pt.vw)(.25)}}}},{level:1,format:fo.BULLET,text:"○",alignment:w.LEFT,style:{paragraph:{indent:{left:(0,Pt.vw)(1),hanging:(0,Pt.vw)(.25)}}}},{level:2,format:fo.BULLET,text:"■",alignment:w.LEFT,style:{paragraph:{indent:{left:2160,hanging:(0,Pt.vw)(.25)}}}},{level:3,format:fo.BULLET,text:"●",alignment:w.LEFT,style:{paragraph:{indent:{left:2880,hanging:(0,Pt.vw)(.25)}}}},{level:4,format:fo.BULLET,text:"○",alignment:w.LEFT,style:{paragraph:{indent:{left:3600,hanging:(0,Pt.vw)(.25)}}}},{level:5,format:fo.BULLET,text:"■",alignment:w.LEFT,style:{paragraph:{indent:{left:4320,hanging:(0,Pt.vw)(.25)}}}},{level:6,format:fo.BULLET,text:"●",alignment:w.LEFT,style:{paragraph:{indent:{left:5040,hanging:(0,Pt.vw)(.25)}}}},{level:7,format:fo.BULLET,text:"●",alignment:w.LEFT,style:{paragraph:{indent:{left:5760,hanging:(0,Pt.vw)(.25)}}}},{level:8,format:fo.BULLET,text:"●",alignment:w.LEFT,style:{paragraph:{indent:{left:6480,hanging:(0,Pt.vw)(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new rl({numId:1,abstractNumId:R.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",R);for(const X of d.config)this.abstractNumberingMap.set(X.reference,new il((0,Pt.NY)(),X.levels)),this.referenceConfigMap.set(X.reference,X.levels)}prepForXml(d){for(const R of this.abstractNumberingMap.values())this.root.push(R);for(const R of this.concreteNumberingMap.values())this.root.push(R);return super.prepForXml(d)}createConcreteNumberingInstance(d,R){const X=this.abstractNumberingMap.get(d);if(!X)return;const he=`${d}-${R}`;if(this.concreteNumberingMap.has(he))return;const ve=this.referenceConfigMap.get(d),ke=ve&&ve[0].start,Be={numId:(0,Pt.NY)(),abstractNumId:X.id,reference:d,instance:R,overrideLevel:ke&&Number.isInteger(ke)?{num:0,start:ke}:{num:0,start:1}};this.concreteNumberingMap.set(he,new rl(Be))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class V_ extends u{constructor(){super(...arguments),this.xmlKeys={version:"w:val",name:"w:name",uri:"w:uri"}}}class H_ extends a{constructor(d){super("w:compatSetting"),this.root.push(new V_({version:d,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class z_ extends a{constructor(d){super("w:compat"),d.version&&this.root.push(new H_(d.version)),d.useSingleBorderforContiguousCells&&this.root.push(new z("w:useSingleBorderforContiguousCells",d.useSingleBorderforContiguousCells)),d.wordPerfectJustification&&this.root.push(new z("w:wpJustification",d.wordPerfectJustification)),d.noTabStopForHangingIndent&&this.root.push(new z("w:noTabHangInd",d.noTabStopForHangingIndent)),d.noLeading&&this.root.push(new z("w:noLeading",d.noLeading)),d.spaceForUnderline&&this.root.push(new z("w:spaceForUL",d.spaceForUnderline)),d.noColumnBalance&&this.root.push(new z("w:noColumnBalance",d.noColumnBalance)),d.balanceSingleByteDoubleByteWidth&&this.root.push(new z("w:balanceSingleByteDoubleByteWidth",d.balanceSingleByteDoubleByteWidth)),d.noExtraLineSpacing&&this.root.push(new z("w:noExtraLineSpacing",d.noExtraLineSpacing)),d.doNotLeaveBackslashAlone&&this.root.push(new z("w:doNotLeaveBackslashAlone",d.doNotLeaveBackslashAlone)),d.underlineTrailingSpaces&&this.root.push(new z("w:ulTrailSpace",d.underlineTrailingSpaces)),d.doNotExpandShiftReturn&&this.root.push(new z("w:doNotExpandShiftReturn",d.doNotExpandShiftReturn)),d.spacingInWholePoints&&this.root.push(new z("w:spacingInWholePoints",d.spacingInWholePoints)),d.lineWrapLikeWord6&&this.root.push(new z("w:lineWrapLikeWord6",d.lineWrapLikeWord6)),d.printBodyTextBeforeHeader&&this.root.push(new z("w:printBodyTextBeforeHeader",d.printBodyTextBeforeHeader)),d.printColorsBlack&&this.root.push(new z("w:printColBlack",d.printColorsBlack)),d.spaceWidth&&this.root.push(new z("w:wpSpaceWidth",d.spaceWidth)),d.showBreaksInFrames&&this.root.push(new z("w:showBreaksInFrames",d.showBreaksInFrames)),d.subFontBySize&&this.root.push(new z("w:subFontBySize",d.subFontBySize)),d.suppressBottomSpacing&&this.root.push(new z("w:suppressBottomSpacing",d.suppressBottomSpacing)),d.suppressTopSpacing&&this.root.push(new z("w:suppressTopSpacing",d.suppressTopSpacing)),d.suppressSpacingAtTopOfPage&&this.root.push(new z("w:suppressSpacingAtTopOfPage",d.suppressSpacingAtTopOfPage)),d.suppressTopSpacingWP&&this.root.push(new z("w:suppressTopSpacingWP",d.suppressTopSpacingWP)),d.suppressSpBfAfterPgBrk&&this.root.push(new z("w:suppressSpBfAfterPgBrk",d.suppressSpBfAfterPgBrk)),d.swapBordersFacingPages&&this.root.push(new z("w:swapBordersFacingPages",d.swapBordersFacingPages)),d.convertMailMergeEsc&&this.root.push(new z("w:convMailMergeEsc",d.convertMailMergeEsc)),d.truncateFontHeightsLikeWP6&&this.root.push(new z("w:truncateFontHeightsLikeWP6",d.truncateFontHeightsLikeWP6)),d.macWordSmallCaps&&this.root.push(new z("w:mwSmallCaps",d.macWordSmallCaps)),d.usePrinterMetrics&&this.root.push(new z("w:usePrinterMetrics",d.usePrinterMetrics)),d.doNotSuppressParagraphBorders&&this.root.push(new z("w:doNotSuppressParagraphBorders",d.doNotSuppressParagraphBorders)),d.wrapTrailSpaces&&this.root.push(new z("w:wrapTrailSpaces",d.wrapTrailSpaces)),d.footnoteLayoutLikeWW8&&this.root.push(new z("w:footnoteLayoutLikeWW8",d.footnoteLayoutLikeWW8)),d.shapeLayoutLikeWW8&&this.root.push(new z("w:shapeLayoutLikeWW8",d.shapeLayoutLikeWW8)),d.alignTablesRowByRow&&this.root.push(new z("w:alignTablesRowByRow",d.alignTablesRowByRow)),d.forgetLastTabAlignment&&this.root.push(new z("w:forgetLastTabAlignment",d.forgetLastTabAlignment)),d.adjustLineHeightInTable&&this.root.push(new z("w:adjustLineHeightInTable",d.adjustLineHeightInTable)),d.autoSpaceLikeWord95&&this.root.push(new z("w:autoSpaceLikeWord95",d.autoSpaceLikeWord95)),d.noSpaceRaiseLower&&this.root.push(new z("w:noSpaceRaiseLower",d.noSpaceRaiseLower)),d.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new z("w:doNotUseHTMLParagraphAutoSpacing",d.doNotUseHTMLParagraphAutoSpacing)),d.layoutRawTableWidth&&this.root.push(new z("w:layoutRawTableWidth",d.layoutRawTableWidth)),d.layoutTableRowsApart&&this.root.push(new z("w:layoutTableRowsApart",d.layoutTableRowsApart)),d.useWord97LineBreakRules&&this.root.push(new z("w:useWord97LineBreakRules",d.useWord97LineBreakRules)),d.doNotBreakWrappedTables&&this.root.push(new z("w:doNotBreakWrappedTables",d.doNotBreakWrappedTables)),d.doNotSnapToGridInCell&&this.root.push(new z("w:doNotSnapToGridInCell",d.doNotSnapToGridInCell)),d.selectFieldWithFirstOrLastCharacter&&this.root.push(new z("w:selectFldWithFirstOrLastChar",d.selectFieldWithFirstOrLastCharacter)),d.applyBreakingRules&&this.root.push(new z("w:applyBreakingRules",d.applyBreakingRules)),d.doNotWrapTextWithPunctuation&&this.root.push(new z("w:doNotWrapTextWithPunct",d.doNotWrapTextWithPunctuation)),d.doNotUseEastAsianBreakRules&&this.root.push(new z("w:doNotUseEastAsianBreakRules",d.doNotUseEastAsianBreakRules)),d.useWord2002TableStyleRules&&this.root.push(new z("w:useWord2002TableStyleRules",d.useWord2002TableStyleRules)),d.growAutofit&&this.root.push(new z("w:growAutofit",d.growAutofit)),d.useFELayout&&this.root.push(new z("w:useFELayout",d.useFELayout)),d.useNormalStyleForList&&this.root.push(new z("w:useNormalStyleForList",d.useNormalStyleForList)),d.doNotUseIndentAsNumberingTabStop&&this.root.push(new z("w:doNotUseIndentAsNumberingTabStop",d.doNotUseIndentAsNumberingTabStop)),d.useAlternateEastAsianLineBreakRules&&this.root.push(new z("w:useAltKinsokuLineBreakRules",d.useAlternateEastAsianLineBreakRules)),d.allowSpaceOfSameStyleInTable&&this.root.push(new z("w:allowSpaceOfSameStyleInTable",d.allowSpaceOfSameStyleInTable)),d.doNotSuppressIndentation&&this.root.push(new z("w:doNotSuppressIndentation",d.doNotSuppressIndentation)),d.doNotAutofitConstrainedTables&&this.root.push(new z("w:doNotAutofitConstrainedTables",d.doNotAutofitConstrainedTables)),d.autofitToFirstFixedWidthCell&&this.root.push(new z("w:autofitToFirstFixedWidthCell",d.autofitToFirstFixedWidthCell)),d.underlineTabInNumberingList&&this.root.push(new z("w:underlineTabInNumList",d.underlineTabInNumberingList)),d.displayHangulFixedWidth&&this.root.push(new z("w:displayHangulFixedWidth",d.displayHangulFixedWidth)),d.splitPgBreakAndParaMark&&this.root.push(new z("w:splitPgBreakAndParaMark",d.splitPgBreakAndParaMark)),d.doNotVerticallyAlignCellWithSp&&this.root.push(new z("w:doNotVertAlignCellWithSp",d.doNotVerticallyAlignCellWithSp)),d.doNotBreakConstrainedForcedTable&&this.root.push(new z("w:doNotBreakConstrainedForcedTable",d.doNotBreakConstrainedForcedTable)),d.ignoreVerticalAlignmentInTextboxes&&this.root.push(new z("w:doNotVertAlignInTxbx",d.ignoreVerticalAlignmentInTextboxes)),d.useAnsiKerningPairs&&this.root.push(new z("w:useAnsiKerningPairs",d.useAnsiKerningPairs)),d.cachedColumnBalance&&this.root.push(new z("w:cachedColBalance",d.cachedColumnBalance))}}class G_ extends u{constructor(){super(...arguments),this.xmlKeys={wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"}}}class W_ extends a{constructor(d){var R,X,he,ve;super("w:settings"),this.root.push(new G_({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new z("w:displayBackgroundShape",!0)),d.trackRevisions!==void 0&&this.root.push(new z("w:trackRevisions",d.trackRevisions)),d.evenAndOddHeaders!==void 0&&this.root.push(new z("w:evenAndOddHeaders",d.evenAndOddHeaders)),d.updateFields!==void 0&&this.root.push(new z("w:updateFields",d.updateFields)),this.root.push(new z_(Object.assign(Object.assign({},(R=d.compatibility)!==null&&R!==void 0?R:{}),{version:(ve=(he=(X=d.compatibility)===null||X===void 0?void 0:X.version)!==null&&he!==void 0?he:d.compatibilityModeVersion)!==null&&ve!==void 0?ve:15})))}}class Vf extends u{constructor(){super(...arguments),this.xmlKeys={val:"w:val"}}}class Q_ extends a{constructor(d){super("w:name"),this.root.push(new Vf({val:d}))}}class K_ extends a{constructor(d){super("w:uiPriority"),this.root.push(new Vf({val:(0,ie.vH)(d)}))}}class J_ extends u{constructor(){super(...arguments),this.xmlKeys={type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"}}}class Hf extends a{constructor(d,R){super("w:style"),this.root.push(new J_(d)),R.name&&this.root.push(new Q_(R.name)),R.basedOn&&this.root.push(new Se("w:basedOn",R.basedOn)),R.next&&this.root.push(new Se("w:next",R.next)),R.link&&this.root.push(new Se("w:link",R.link)),R.uiPriority!==void 0&&this.root.push(new K_(R.uiPriority)),R.semiHidden!==void 0&&this.root.push(new z("w:semiHidden",R.semiHidden)),R.unhideWhenUsed!==void 0&&this.root.push(new z("w:unhideWhenUsed",R.unhideWhenUsed)),R.quickFormat!==void 0&&this.root.push(new z("w:qFormat",R.quickFormat))}}class dr extends Hf{constructor(d){super({type:"paragraph",styleId:d.id},d),this.paragraphProperties=new Rn(d.paragraph),this.runProperties=new Eo(d.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class hr extends Hf{constructor(d){super({type:"character",styleId:d.id},Object.assign({uiPriority:99,unhideWhenUsed:!0},d)),this.runProperties=new Eo(d.run),this.root.push(this.runProperties)}}class sn extends dr{constructor(d){super(Object.assign(Object.assign({},d),{basedOn:"Normal",next:"Normal",quickFormat:!0}))}}class Y_ extends sn{constructor(d){super(Object.assign(Object.assign({},d),{id:"Title",name:"Title"}))}}class X_ extends sn{constructor(d){super(Object.assign(Object.assign({},d),{id:"Heading1",name:"Heading 1"}))}}class Z_ extends sn{constructor(d){super(Object.assign(Object.assign({},d),{id:"Heading2",name:"Heading 2"}))}}class e1 extends sn{constructor(d){super(Object.assign(Object.assign({},d),{id:"Heading3",name:"Heading 3"}))}}class t1 extends sn{constructor(d){super(Object.assign(Object.assign({},d),{id:"Heading4",name:"Heading 4"}))}}class o1 extends sn{constructor(d){super(Object.assign(Object.assign({},d),{id:"Heading5",name:"Heading 5"}))}}class n1 extends sn{constructor(d){super(Object.assign(Object.assign({},d),{id:"Heading6",name:"Heading 6"}))}}class i1 extends sn{constructor(d){super(Object.assign(Object.assign({},d),{id:"Strong",name:"Strong"}))}}class r1 extends dr{constructor(d){super(Object.assign(Object.assign({},d),{id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0}))}}class s1 extends dr{constructor(d){super(Object.assign(Object.assign({},d),{id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:ui.AUTO}},run:{size:20}}))}}class a1 extends hr{constructor(d){super(Object.assign(Object.assign({},d),{id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}}))}}class c1 extends hr{constructor(d){super(Object.assign(Object.assign({},d),{id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}}))}}class l1 extends hr{constructor(d){super(Object.assign(Object.assign({},d),{id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:G.SINGLE}}}))}}class Rs extends a{constructor(d){if(super("w:styles"),d.initialStyles&&this.root.push(d.initialStyles),d.importedStyles)for(const R of d.importedStyles)this.root.push(R);if(d.paragraphStyles)for(const R of d.paragraphStyles)this.root.push(new dr(R));if(d.characterStyles)for(const R of d.characterStyles)this.root.push(new hr(R))}}class zf extends a{constructor(d){super("w:pPrDefault"),this.root.push(new Rn(d))}}class Gf extends a{constructor(d){super("w:rPrDefault"),this.root.push(new Eo(d))}}class Wf extends a{constructor(d){super("w:docDefaults"),this.runPropertiesDefaults=new Gf(d.run),this.paragraphPropertiesDefaults=new zf(d.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class u1{newInstance(d){const R=(0,g.xml2js)(d,{compact:!1});let X;for(const ve of R.elements||[])ve.name==="w:styles"&&(X=ve);if(X===void 0)throw new Error("can not find styles element");const he=X.elements||[];return new Rs({initialStyles:new A(X.attributes),importedStyles:he.map(ve=>y(ve))})}}class Qf{newInstance(d={}){var R;return{initialStyles:new hi({mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",Ignorable:"w14 w15"}),importedStyles:[new Wf((R=d.document)!==null&&R!==void 0?R:{}),new Y_(Object.assign({run:{size:56}},d.title)),new X_(Object.assign({run:{color:"2E74B5",size:32}},d.heading1)),new Z_(Object.assign({run:{color:"2E74B5",size:26}},d.heading2)),new e1(Object.assign({run:{color:"1F4D78",size:24}},d.heading3)),new t1(Object.assign({run:{color:"2E74B5",italics:!0}},d.heading4)),new o1(Object.assign({run:{color:"2E74B5"}},d.heading5)),new n1(Object.assign({run:{color:"1F4D78"}},d.heading6)),new i1(Object.assign({run:{bold:!0}},d.strong)),new r1(d.listParagraph||{}),new l1(d.hyperlink||{}),new a1(d.footnoteReference||{}),new s1(d.footnoteText||{}),new c1(d.footnoteTextChar||{})]}}}class Kf{constructor(d){var R,X,he,ve,ke,Be,We;if(this.currentRelationshipId=1,this.headers=[],this.footers=[],this.coreProperties=new u_(Object.assign(Object.assign({},d),{creator:(R=d.creator)!==null&&R!==void 0?R:"Un-named",revision:(X=d.revision)!==null&&X!==void 0?X:1,lastModifiedBy:(he=d.lastModifiedBy)!==null&&he!==void 0?he:"Un-named"})),this.numbering=new jf(d.numbering?d.numbering:{config:[]}),this.comments=new Lh((ve=d.comments)!==null&&ve!==void 0?ve:{children:[]}),this.fileRelationships=new lr,this.customProperties=new m_((ke=d.customProperties)!==null&&ke!==void 0?ke:[]),this.appProperties=new r_,this.footnotesWrapper=new A_,this.contentTypes=new l_,this.documentWrapper=new df({background:d.background}),this.settings=new W_({compatibilityModeVersion:d.compatabilityModeVersion,compatibility:d.compatibility,evenAndOddHeaders:!!d.evenAndOddHeaderAndFooters,trackRevisions:(Be=d.features)===null||Be===void 0?void 0:Be.trackRevisions,updateFields:(We=d.features)===null||We===void 0?void 0:We.updateFields}),this.media=new ol,d.externalStyles){const qe=new u1;this.styles=qe.newInstance(d.externalStyles)}else if(d.styles){const qe=new Qf().newInstance(d.styles.default);this.styles=new Rs(Object.assign(Object.assign({},qe),d.styles))}else{const qe=new Qf;this.styles=new Rs(qe.newInstance())}this.addDefaultRelationships();for(const qe of d.sections)this.addSection(qe);if(d.footnotes)for(const qe in d.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(qe),d.footnotes[qe].children)}addSection({headers:d={},footers:R={},children:X,properties:he}){this.documentWrapper.View.Body.addSection(Object.assign(Object.assign({},he),{headerWrapperGroup:{default:d.default?this.createHeader(d.default):void 0,first:d.first?this.createHeader(d.first):void 0,even:d.even?this.createHeader(d.even):void 0},footerWrapperGroup:{default:R.default?this.createFooter(R.default):void 0,first:R.first?this.createFooter(R.first):void 0,even:R.even?this.createFooter(R.even):void 0}}));for(const ve of X)this.documentWrapper.View.add(ve)}createHeader(d){const R=new $f(this.media,this.currentRelationshipId++);for(const X of d.options.children)R.add(X);return this.addHeaderToDocument(R),R}createFooter(d){const R=new Ff(this.media,this.currentRelationshipId++);for(const X of d.options.children)R.add(X);return this.addFooterToDocument(R),R}addHeaderToDocument(d,R=jo.DEFAULT){this.headers.push({header:d,type:R}),this.documentWrapper.Relationships.createRelationship(d.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(d,R=jo.DEFAULT){this.footers.push({footer:d,type:R}),this.documentWrapper.Relationships.createRelationship(d.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(d=>d.header)}get Footers(){return this.footers.map(d=>d.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}}const d1="";class h1 extends a{constructor(d={}){super("w:instrText"),this.properties=d,this.root.push(new fe({space:P.PRESERVE}));let R="TOC";this.properties.captionLabel&&(R=`${R} \\a "${this.properties.captionLabel}"`),this.properties.entriesFromBookmark&&(R=`${R} \\b "${this.properties.entriesFromBookmark}"`),this.properties.captionLabelIncludingNumbers&&(R=`${R} \\c "${this.properties.captionLabelIncludingNumbers}"`),this.properties.sequenceAndPageNumbersSeparator&&(R=`${R} \\d "${this.properties.sequenceAndPageNumbersSeparator}"`),this.properties.tcFieldIdentifier&&(R=`${R} \\f "${this.properties.tcFieldIdentifier}"`),this.properties.hyperlink&&(R=`${R} \\h`),this.properties.tcFieldLevelRange&&(R=`${R} \\l "${this.properties.tcFieldLevelRange}"`),this.properties.pageNumbersEntryLevelsRange&&(R=`${R} \\n "${this.properties.pageNumbersEntryLevelsRange}"`),this.properties.headingStyleRange&&(R=`${R} \\o "${this.properties.headingStyleRange}"`),this.properties.entryAndPageNumberSeparator&&(R=`${R} \\p "${this.properties.entryAndPageNumberSeparator}"`),this.properties.seqFieldIdentifierForPrefix&&(R=`${R} \\s "${this.properties.seqFieldIdentifierForPrefix}"`),this.properties.stylesWithLevels&&this.properties.stylesWithLevels.length&&(R=`${R} \\t "${this.properties.stylesWithLevels.map(X=>`${X.styleName},${X.level}`).join(",")}"`),this.properties.useAppliedParagraphOutlineLevel&&(R=`${R} \\u`),this.properties.preserveTabInEntries&&(R=`${R} \\w`),this.properties.preserveNewLineInEntries&&(R=`${R} \\x`),this.properties.hideTabAndPageNumbersInWebView&&(R=`${R} \\z`),this.root.push(R)}}class f1 extends a{constructor(){super("w:sdtContent")}}class p1 extends a{constructor(d){super("w:sdtPr"),this.root.push(new Se("w:alias",d))}}class m1 extends Fc{constructor(d="Table of Contents",R){super("w:sdt"),this.root.push(new p1(d));const X=new f1,he=new nn({children:[new Yt({children:[new M(!0),new h1(R),new J]})]});X.addChildElement(he);const ve=new nn({children:[new Yt({children:[new le]})]});X.addChildElement(ve),this.root.push(X)}}class g1{constructor(d,R){this.styleName=d,this.level=R}}class v1{constructor(d={children:[]}){this.options=d}}class y1{constructor(d={children:[]}){this.options=d}}class Jf extends u{constructor(){super(...arguments),this.xmlKeys={id:"w:id"}}}class Yf extends a{constructor(d){super("w:footnoteReference"),this.root.push(new Jf({id:d}))}}class b1 extends Yt{constructor(d){super({style:"FootnoteReference"}),this.root.push(new Yf(d))}}class w1 extends a{constructor(d){super("w:ins"),this.root.push(new Re({id:d.id,author:d.author,date:d.date})),this.addChildElement(new ir(d))}}class E1 extends a{constructor(){super("w:delInstrText"),this.root.push(new fe({space:P.PRESERVE})),this.root.push("PAGE")}}class _1 extends a{constructor(){super("w:delInstrText"),this.root.push(new fe({space:P.PRESERVE})),this.root.push("NUMPAGES")}}class S1 extends a{constructor(){super("w:delInstrText"),this.root.push(new fe({space:P.PRESERVE})),this.root.push("SECTIONPAGES")}}class Xf extends a{constructor(d){super("w:delText"),this.root.push(new fe({space:P.PRESERVE})),this.root.push(d)}}class N1 extends a{constructor(d){super("w:del"),this.root.push(new Re({id:d.id,author:d.author,date:d.date})),this.deletedTextRunWrapper=new C1(d),this.addChildElement(this.deletedTextRunWrapper)}}class C1 extends a{constructor(d){if(super("w:r"),this.root.push(new Eo(d)),d.children)for(const R of d.children)if(typeof R!="string")this.root.push(R);else switch(R){case oe.CURRENT:this.root.push(new M),this.root.push(new E1),this.root.push(new J),this.root.push(new le);break;case oe.TOTAL_PAGES:this.root.push(new M),this.root.push(new _1),this.root.push(new J),this.root.push(new le);break;case oe.TOTAL_PAGES_IN_SECTION:this.root.push(new M),this.root.push(new S1),this.root.push(new J),this.root.push(new le);break;default:this.root.push(new Xf(R))}else d.text&&this.root.push(new Xf(d.text));if(d.break)for(let R=0;R<d.break;R++)this.root.splice(1,0,new m)}}var sl=n(6085),At=n(3479);class al{format(d,R={stack:[]}){const X=d.prepForXml(R);if(X)return X;throw Error("XMLComponent did not format correctly")}}class Zf{replace(d,R,X){let he=d;return R.forEach((ve,ke)=>{he=he.replace(new RegExp(`{${ve.fileName}}`,"g"),(X+ke).toString())}),he}getMediaData(d,R){return R.Array.filter(X=>d.search(`{${X.fileName}}`)>0)}}class A1{replace(d,R){let X=d;for(const he of R)X=X.replace(new RegExp(`{${he.reference}-${he.instance}}`,"g"),he.numId.toString());return X}}var cl,Ls=function(f,d,R,X){return new(R||(R=Promise))(function(he,ve){function ke(qe){try{We(X.next(qe))}catch(nt){ve(nt)}}function Be(qe){try{We(X.throw(qe))}catch(nt){ve(nt)}}function We(qe){var nt;qe.done?he(qe.value):(nt=qe.value,nt instanceof R?nt:new R(function(lt){lt(nt)})).then(ke,Be)}We((X=X.apply(f,d||[])).next())})};(function(f){f.NONE="",f.WITH_2_BLANKS="  ",f.WITH_4_BLANKS="    ",f.WITH_TAB="	"})(cl||(cl={}));class ep{static toString(d,R){return Ls(this,void 0,void 0,function*(){return yield this.compiler.compile(d,R).generateAsync({type:"string",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBuffer(d,R){return Ls(this,void 0,void 0,function*(){return yield this.compiler.compile(d,R).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBase64String(d,R){return Ls(this,void 0,void 0,function*(){return yield this.compiler.compile(d,R).generateAsync({type:"base64",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBlob(d,R){return Ls(this,void 0,void 0,function*(){return yield this.compiler.compile(d,R).generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toStream(d,R){return this.compiler.compile(d,R).generateNodeStream({type:"nodebuffer",streamFiles:!0,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})}}ep.compiler=new class{constructor(){this.formatter=new al,this.imageReplacer=new Zf,this.numberingReplacer=new A1}compile(f,d){const R=new sl,X=this.xmlifyFile(f,d),he=new Map(Object.entries(X));for(const[,ve]of he)if(Array.isArray(ve))for(const ke of ve)R.file(ke.path,ke.data);else R.file(ve.path,ve.data);for(const{stream:ve,fileName:ke}of f.Media.Array)R.file(`word/media/${ke}`,ve);return R}xmlifyFile(f,d){const R=f.Document.Relationships.RelationshipCount+1,X=At(this.formatter.format(f.Document.View,{viewWrapper:f.Document,file:f,stack:[]}),{indent:d,declaration:{standalone:"yes",encoding:"UTF-8"}}),he=this.imageReplacer.getMediaData(X,f.Media);return{Relationships:{data:(()=>(he.forEach((ve,ke)=>{f.Document.Relationships.createRelationship(R+ke,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${ve.fileName}`)}),At(this.formatter.format(f.Document.Relationships,{viewWrapper:f.Document,file:f,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}})))(),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const ve=this.imageReplacer.replace(X,he,R);return this.numberingReplacer.replace(ve,f.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const ve=At(this.formatter.format(f.Styles,{viewWrapper:f.Document,file:f,stack:[]}),{indent:d,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(ve,f.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:At(this.formatter.format(f.CoreProperties,{viewWrapper:f.Document,file:f,stack:[]}),{indent:d,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:At(this.formatter.format(f.Numbering,{viewWrapper:f.Document,file:f,stack:[]}),{indent:d,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:At(this.formatter.format(f.FileRelationships,{viewWrapper:f.Document,file:f,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:f.Headers.map((ve,ke)=>{const Be=At(this.formatter.format(ve.View,{viewWrapper:ve,file:f,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(Be,f.Media).forEach((We,qe)=>{ve.Relationships.createRelationship(qe,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${We.fileName}`)}),{data:At(this.formatter.format(ve.Relationships,{viewWrapper:ve,file:f,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${ke+1}.xml.rels`}}),FooterRelationships:f.Footers.map((ve,ke)=>{const Be=At(this.formatter.format(ve.View,{viewWrapper:ve,file:f,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(Be,f.Media).forEach((We,qe)=>{ve.Relationships.createRelationship(qe,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${We.fileName}`)}),{data:At(this.formatter.format(ve.Relationships,{viewWrapper:ve,file:f,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${ke+1}.xml.rels`}}),Headers:f.Headers.map((ve,ke)=>{const Be=At(this.formatter.format(ve.View,{viewWrapper:ve,file:f,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}}),We=this.imageReplacer.getMediaData(Be,f.Media),qe=this.imageReplacer.replace(Be,We,0);return{data:this.numberingReplacer.replace(qe,f.Numbering.ConcreteNumbering),path:`word/header${ke+1}.xml`}}),Footers:f.Footers.map((ve,ke)=>{const Be=At(this.formatter.format(ve.View,{viewWrapper:ve,file:f,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}}),We=this.imageReplacer.getMediaData(Be,f.Media),qe=this.imageReplacer.replace(Be,We,0);return{data:this.numberingReplacer.replace(qe,f.Numbering.ConcreteNumbering),path:`word/footer${ke+1}.xml`}}),ContentTypes:{data:At(this.formatter.format(f.ContentTypes,{viewWrapper:f.Document,file:f,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:At(this.formatter.format(f.CustomProperties,{viewWrapper:f.Document,file:f,stack:[]}),{indent:d,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:At(this.formatter.format(f.AppProperties,{viewWrapper:f.Document,file:f,stack:[]}),{indent:d,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:At(this.formatter.format(f.FootNotes.View,{viewWrapper:f.FootNotes,file:f,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:At(this.formatter.format(f.FootNotes.Relationships,{viewWrapper:f.FootNotes,file:f,stack:[]}),{indent:d,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:At(this.formatter.format(f.Settings,{viewWrapper:f.Document,file:f,stack:[]}),{indent:d,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:At(this.formatter.format(f.Comments,{viewWrapper:f.Document,file:f,stack:[]}),{indent:d,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/comments.xml"}}}};var xt=n(5575);const x1=new al,ll=f=>(0,g.xml2js)(f,{compact:!1,captureSpacesBetweenElements:!0}),tp=f=>{var d;return(d=ll(At(x1.format(new Ss({text:f})))).elements[0].elements)!==null&&d!==void 0?d:[]},op=f=>Object.assign(Object.assign({},f),{attributes:{"xml:space":"preserve"}}),ul=(f,d)=>{var R,X;return(X=(R=f.elements)===null||R===void 0?void 0:R.filter(he=>he.name===d)[0].elements)!==null&&X!==void 0?X:[]};var Mn;(function(f){f[f.START=0]="START",f[f.MIDDLE=1]="MIDDLE",f[f.END=2]="END"})(Mn||(Mn={}));const T1=({paragraphElement:f,renderedParagraph:d,originalText:R,replacementText:X})=>{const he=d.text.indexOf(R),ve=he+R.length-1;let ke=Mn.START;for(const Be of d.runs)for(const{text:We,index:qe,start:nt,end:lt}of Be.parts)switch(ke){case Mn.START:if(he>=nt){const Et=he-nt,Wt=Math.min(ve,lt)-nt,Ro=Be.text.substring(Et,Wt+1);if(Ro==="")continue;const ao=We.replace(Ro,X);dl(f.elements[Be.index].elements[qe],ao),ke=Mn.MIDDLE;continue}break;case Mn.MIDDLE:if(ve<=lt){const Et=We.substring(ve-nt+1);dl(f.elements[Be.index].elements[qe],Et);const Wt=f.elements[Be.index].elements[qe];f.elements[Be.index].elements[qe]=op(Wt),ke=Mn.END}else dl(f.elements[Be.index].elements[qe],"")}return f},dl=(f,d)=>(f.elements=tp(d),f),I1=(f,d)=>{var R,X,he,ve;for(let ke=0;ke<((R=f.elements)!==null&&R!==void 0?R:[]).length;ke++){const Be=f.elements[ke];if(Be.type==="element"&&Be.name==="w:r"){const We=((X=Be.elements)!==null&&X!==void 0?X:[]).filter(qe=>qe.type==="element"&&qe.name==="w:t");for(const qe of We)if(!((ve=(he=qe.elements)===null||he===void 0?void 0:he[0].text)===null||ve===void 0)&&ve.includes(d))return ke}}throw new Error("Token not found")},D1=(f,d)=>{var R,X;let he=0;const ve=(X=(R=f.elements)===null||R===void 0?void 0:R.map((ke,Be)=>{var We,qe;if(ke.type==="element"&&ke.name==="w:t"){const nt=((qe=(We=ke.elements)===null||We===void 0?void 0:We[0].text)!==null&&qe!==void 0?qe:"").split(d).map(lt=>Object.assign(Object.assign(Object.assign({},ke),op(ke)),{elements:tp(lt)}));return he=Be,nt}return ke}).flat())!==null&&X!==void 0?X:[];return{left:Object.assign(Object.assign({},JSON.parse(JSON.stringify(f))),{elements:ve.slice(0,he+1)}),right:Object.assign(Object.assign({},JSON.parse(JSON.stringify(f))),{elements:ve.slice(he+1)})}},P1=new al,k1=(f,d,R,X,he)=>{for(const ve of X){const ke=d.children.map(Be=>ll(At(P1.format(Be,he)))).map(Be=>Be.elements[0]);switch(d.type){case pr.DOCUMENT:{const Be=O1(f,ve.path),We=R1(ve.path);Be.elements.splice(We,1,...ke);break}case pr.PARAGRAPH:default:{const Be=np(f,ve.path);T1({paragraphElement:Be,renderedParagraph:ve,originalText:R,replacementText:"ɵ"});const We=I1(Be,"ɵ"),{left:qe,right:nt}=D1(Be.elements[We],"ɵ");Be.elements.splice(We,1,qe,...ke,nt);break}}}return f},np=(f,d)=>{let R=f;for(let X=1;X<d.length;X++){const he=d[X],ve=R.elements;if(!ve)throw new Error("Could not find element");R=ve[he]}return R},O1=(f,d)=>np(f,d.slice(0,d.length-1)),R1=f=>f[f.length-1],L1=f=>{if(f.element.name!=="w:p")throw new Error(`Invalid node type: ${f.element.name}`);if(!f.element.elements)return{text:"",runs:[],index:-1,path:[]};let d=0;const R=f.element.elements.map((X,he)=>({element:X,i:he})).filter(({element:X})=>X.name==="w:r").map(({element:X,i:he})=>{const ve=M1(X,he,d);return d+=ve.text.length,ve}).filter(X=>!!X).map(X=>X);return{text:R.reduce((X,he)=>X+he.text,""),runs:R,index:f.index,path:ip(f)}},M1=(f,d,R)=>{if(!f.elements)return{text:"",parts:[],index:-1,start:R,end:R};let X=R;const he=f.elements.map((ve,ke)=>{var Be,We;return ve.name==="w:t"&&ve.elements&&ve.elements.length>0?{text:(We=(Be=ve.elements[0].text)===null||Be===void 0?void 0:Be.toString())!==null&&We!==void 0?We:"",index:ke,start:X,end:(()=>{var qe,nt;return X+=((nt=(qe=ve.elements[0].text)===null||qe===void 0?void 0:qe.toString())!==null&&nt!==void 0?nt:"").length-1,X})()}:void 0}).filter(ve=>!!ve).map(ve=>ve);return{text:he.reduce((ve,ke)=>ve+ke.text,""),parts:he,index:d,start:R,end:X}},ip=f=>f.parent?[...ip(f.parent),f.index]:[f.index],rp=f=>{var d,R;return(R=(d=f.element.elements)===null||d===void 0?void 0:d.map((X,he)=>({element:X,index:he,parent:f})))!==null&&R!==void 0?R:[]},F1=(f,d)=>{let R=[];const X=[...rp({element:f,index:0,parent:void 0})];let he;for(;X.length>0;)he=X.shift(),he.element.name==="w:p"?R=[...R,L1(he)]:X.push(...rp(he));return R.filter(ve=>ve.text.includes(d))},sp=(f,d,R,X,he)=>{const ve=ul(f,"Relationships");return ve.push({attributes:{Id:`rId${d}`,Type:R,Target:X,TargetMode:he},name:"Relationship",type:"element"}),ve},fr=(f,d,R)=>{ul(f,"Types").push({attributes:{ContentType:d,Extension:R},name:"Default",type:"element"})};var pr;(function(f){f.DOCUMENT="file",f.PARAGRAPH="paragraph"})(pr||(pr={}));const ap=new Zf,B1=(f,d)=>{return R=void 0,X=void 0,ve=function*(){var ke,Be;const We=yield sl.loadAsync(f),qe=new Map,nt={Media:new ol},lt=new Map,Et=[],Wt=[];let Ro=!1;const ao=new Map;for(const[ut,qt]of Object.entries(We.files)){if(!ut.endsWith(".xml")&&!ut.endsWith(".rels")){ao.set(ut,yield qt.async("nodebuffer"));continue}const Qt=ll(yield qt.async("text"));if(ut.startsWith("word/")&&!ut.endsWith(".xml.rels")){const co={file:nt,viewWrapper:{Relationships:{createRelationship:(ln,Kt,po,yi)=>{Wt.push({key:ut,hyperlink:{id:ln,link:po}})}}},stack:[]};qe.set(ut,co);for(const[ln,Kt]of Object.entries(d.patches)){const po=`{{${ln}}}`,yi=F1(Qt,po);k1(Qt,Object.assign(Object.assign({},Kt),{children:Kt.children.map(un=>{if(un instanceof Bc){const Ms=new di(un.options.children,(0,Pt.EL)());return Wt.push({key:ut,hyperlink:{id:Ms.linkId,link:un.options.link}}),Ms}return un})}),po,yi,co)}const cn=ap.getMediaData(JSON.stringify(Qt),co.file.Media);cn.length>0&&(Ro=!0,Et.push({key:ut,mediaDatas:cn}))}lt.set(ut,Qt)}for(const{key:ut,mediaDatas:qt}of Et){const Qt=`word/_rels/${ut.split("/").pop()}.rels`,co=(ke=lt.get(Qt))!==null&&ke!==void 0?ke:cp();lt.set(Qt,co);const cn=ul(co,"Relationships").map(Kt=>{var po,yi,un;return(Ms=>{const lp=parseInt(Ms.substring(3),10);return isNaN(lp)?0:lp})((un=(yi=(po=Kt.attributes)===null||po===void 0?void 0:po.Id)===null||yi===void 0?void 0:yi.toString())!==null&&un!==void 0?un:"")}).reduce((Kt,po)=>Math.max(Kt,po),0)+1,ln=ap.replace(JSON.stringify(lt.get(ut)),qt,cn);lt.set(ut,JSON.parse(ln));for(let Kt=0;Kt<qt.length;Kt++){const{fileName:po}=qt[Kt];sp(co,cn+Kt,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${po}`)}}for(const{key:ut,hyperlink:qt}of Wt){const Qt=`word/_rels/${ut.split("/").pop()}.rels`,co=(Be=lt.get(Qt))!==null&&Be!==void 0?Be:cp();lt.set(Qt,co),sp(co,qt.id,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",qt.link,Ts.EXTERNAL)}if(Ro){const ut=lt.get("[Content_Types].xml");if(!ut)throw new Error("Could not find content types file");fr(ut,"image/png","png"),fr(ut,"image/jpeg","jpeg"),fr(ut,"image/jpeg","jpg"),fr(ut,"image/bmp","bmp"),fr(ut,"image/gif","gif")}const an=new sl;for(const[ut,qt]of lt){const Qt=$1(qt);an.file(ut,Qt)}for(const[ut,qt]of ao)an.file(ut,qt);for(const{stream:ut,fileName:qt}of nt.Media.Array)an.file(`word/media/${qt}`,ut);return an.generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})},new((he=void 0)||(he=Promise))(function(ke,Be){function We(lt){try{nt(ve.next(lt))}catch(Et){Be(Et)}}function qe(lt){try{nt(ve.throw(lt))}catch(Et){Be(Et)}}function nt(lt){var Et;lt.done?ke(lt.value):(Et=lt.value,Et instanceof he?Et:new he(function(Wt){Wt(Et)})).then(We,qe)}nt((ve=ve.apply(R,X||[])).next())});var R,X,he,ve},$1=f=>(0,g.js2xml)(f),cp=()=>({declaration:{attributes:{version:"1.0",encoding:"UTF-8",standalone:"yes"}},elements:[{type:"element",name:"Relationships",attributes:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},elements:[]}]})})(),r})())})(Y3);var td={},X3={get exports(){return td},set exports(e){td=e}};(function(e,t){(function(o,i){i()})(Wo,function(){function o(c,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function i(c,u,h){var p=new XMLHttpRequest;p.open("GET",c),p.responseType="blob",p.onload=function(){a(p.response,u,h)},p.onerror=function(){console.error("could not download file")},p.send()}function n(c){var u=new XMLHttpRequest;u.open("HEAD",c,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function r(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(u)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Wo=="object"&&Wo.global===Wo?Wo:void 0,l=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(c,u,h){var p=s.URL||s.webkitURL,g=document.createElement("a");u=u||c.name||"download",g.download=u,g.rel="noopener",typeof c=="string"?(g.href=c,g.origin===location.origin?r(g):n(g.href)?i(c,u,h):r(g,g.target="_blank")):(g.href=p.createObjectURL(c),setTimeout(function(){p.revokeObjectURL(g.href)},4e4),setTimeout(function(){r(g)},0))}:"msSaveOrOpenBlob"in navigator?function(c,u,h){if(u=u||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(o(c,h),u);else if(n(c))i(c,u,h);else{var p=document.createElement("a");p.href=c,p.target="_blank",setTimeout(function(){r(p)})}}:function(c,u,h,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof c=="string")return i(c,u,h);var g=c.type==="application/octet-stream",y=/constructor/i.test(s.HTMLElement)||s.safari,N=/CriOS\/[\d]+/.test(navigator.userAgent);if((N||g&&y||l)&&typeof FileReader<"u"){var I=new FileReader;I.onloadend=function(){var b=I.result;b=N?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=b:location=b,p=null},I.readAsDataURL(c)}else{var A=s.URL||s.webkitURL,S=A.createObjectURL(c);p?p.location=S:location.href=S,p=null,setTimeout(function(){A.revokeObjectURL(S)},4e4)}});s.saveAs=a.saveAs=a,e.exports=a})})(X3);const Z3="/caracol/assets/graduationCap-8fa1ce8e.svg",e4="/caracol/assets/alienar-fb2c87c3.svg",t4="/caracol/assets/starSolid-2cad5fc9.svg",I0="/caracol/assets/creditcardSolid-55ddbf9b.svg",mc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAApVBMVEUAAAAFBQUKCgozMzMzMzMoKCgsLCw4ODgsLCwxMTEVFRUzMzM7Ozs2NjY0NDQzMzNMTEw1NTUlJSUxMTEvLy8xMTExMTEtLS0VFRUcHBwuLi4oKCgxMTEuLi4rKyswMDAwMDArKystLS0uLi4xMTEuLi4kJCQxMTEwMDArKysqKioxMTEuLi4rKys0NDQsLCwkJCQuLi4vLy8uLi42NjYwMDAzMzMGZa9aAAAANnRSTlMABgFL7bBzQ9VhGOAzJeq3Coku+Lr16sIMCZhO/JRC5qV2KBDKehnt2bqvoIRWPB8K0bWOjGo12immAAAA/ElEQVRIx+3Sy1LCMBiG4STUoiIeGmKVJG1paUXOnv77vzRjNlJy0AwLGKbvpjNf55ksEnSG4ZJfOes1FlHKnAohaHRrFgmWrgxRFfCTqG8sZepnHpM9sqKaTKv2nHHOE/V5AWCTtiESdKPn1vz0SimVBCWPYBg8t5NUbWNNDIMv/iLafAUTmGXBBMY4mLw1weTy+kSIvkon8T8YN6F1OTRbL8BNQAws5WAnvo5NiknsTlILmW6QJ1xYyN29j5DPcPLQkY4cQubBhHz8j4y2vwNnAGnlJQtF6p1hKwXQZdZ3F+cA70O0U7OcMRZ5Ymwgk72DN+uet36JUZfqG2Wjeg1GwVSoAAAAAElFTkSuQmCC",o4=864e5,n4=Pe`
fragment fragBloqueSubscripcion on BloqueSubscripcion{
id
    dateInicio
    duracion
    valorPagado
}
`,Kl=Pe`
  query ($idUsuario: ID!) {
    Usuario(idUsuario: $idUsuario) {
      id
      informesMaestraVida {
        id
        year
        periodo
        idProfe
        nombreProfe
        categoria
        texto
      }
    }
  }
`,i4={components:{Calendario:dh,Loading:yt,RutaGrado:g0,BloqueSubscripcion:J3},props:{personasConEspacio:Array,mostrarEspacioActual:Boolean,estaPersona:Object,seleccionado:Boolean},name:"PersonaVistaLista",apollo:{informes:{query:Kl,variables(){return{idUsuario:this.estaPersona.id}},skip(){return this.mostrando!="informe"},update({Usuario:e}){return e.informesMaestraVida},fetchPolicy:"network-only"},bloquesSubscripcion:{query:qr,variables(){return{idUsuario:this.estaPersona.id}},update({Usuario:e}){return e.bloquesSubscripcion},skip(){return!this.mostrandoBloquesSubscripcion}}},data(){return{dateInicioCrearBloqueSubscripcion:null,duracionCrearBloqueSubscripcion:1,valorCrearBloqueSubscripcion:25e3,bloquesSubscripcion:[],guardandoBloqueSub:!1,escribiendoBloqueSub:!1,mostrandoBloquesSubscripcion:!1,permisosPosibles:["usuario","subsripcion-ilimitada","administrador","atlasAdministrador","superadministrador","maestraVida","maestraVida-estudiante","maestraVida-profesor","maestraVida-acompañante","maestraVida-graduado"],informes:[],objetivos:[],mostrando:null,reseteandoPassword:!1,alienando:!1,mostrandoPermisos:!1,togglingPermiso:!1,settingPresenciaNodoSolidaridad:!1,guardandoInformeObjetivos:!1,guardandoInformeEspacios:!1,guardandoInformeComentario:!1,guardandoInformeProyectos:!1,creandoDocumentoInforme:!1,nuevoInformeObjetivos:null,nuevoInformeProyectos:null,nuevoInformeEspacios:null,nuevoInformeComentario:null,periodoInforme:"primero",activable:0}},methods:{crearBloqueSubscripcion(){let e=new Date(this.$refs.inputDateInicioCrearBloqueSubscripcion.value),t=parseInt(this.$refs.duracionCrearBloqueSubscripcion.value),o=parseInt(this.$refs.valorCrearBloqueSubscripcion.value);this.guardandoBloqueSub=!0,this.$apollo.mutate({mutation:Pe`
                mutation($idUsuario: ID!, $infoBloque: InputBloqueSubscripcion!){
                    crearBloqueSubscripcionUsuario(idUsuario: $idUsuario, infoBloque: $infoBloque){
                        ...fragBloqueSubscripcion
                    }
                }
                ${n4}
                `,variables:{idUsuario:this.estaPersona.id,infoBloque:{dateInicio:e,duracion:t,valorPagado:o}}}).then(({data:{crearBloqueSubscripcionUsuario:i}})=>{var l;console.log("creada nueva subscripcion con id "+i.id),this.escribiendoBloqueSub=!1,this.guardandoBloqueSub=!1;const n=this.$apollo.provider.defaultClient,r=n.readQuery({query:qr,variables:{idUsuario:this.estaPersona.id}});let s=JSON.parse(JSON.stringify(r));if((l=s.Usuario.bloquesSubscripcion)!=null&&l.some(a=>a.id===i.id)){console.log("El bloque ya estaba en caché");return}s.Usuario.bloquesSubscripcion.splice(0,0,i),n.writeQuery({query:qr,variables:{idUsuario:this.estaPersona.id},data:s})}).catch(i=>{console.log("Error: "+i),this.guardandoBloqueSub=!1})},iniciarCrearBloqueSub(){let e=new Date;this.bloquesSubscripcion.length>0&&(e=new Date(new Date(this.bloquesSubscripcion[0].dateInicio).getTime()+this.bloquesSubscripcion[0].duracion*o4*31)),this.escribiendoBloqueSub=!0,this.$nextTick(()=>{console.log("Setting");let t=e.getFullYear(),o=("0"+(Number(e.getMonth())+1)).slice(-2),i=("0"+e.getDate()).slice(-2);console.log(t),console.log(o),console.log(i),this.$refs.inputDateInicioCrearBloqueSubscripcion.value=t+"-"+o+"-"+i})},resetearPassword(){confirm("¿Confirmar resetear el password de "+this.estaPersona.nombres+"?")&&(console.log("Reseteando password usuario"),this.reseteandoPassword=!0,this.$apollo.mutate({mutation:Pe`
            mutation ($idUsuario: ID!) {
              resetearPasswordUsuario(idUsuario: $idUsuario)
            }
          `,variables:{idUsuario:this.estaPersona.id}}).then(()=>{this.reseteandoPassword=!1,alert("Contraseña reseteada")}).catch(()=>{this.reseteandoPassword=!1}))},alienar(){!this.usuarioProfe&&!this.usuarioSuperadministrador||(this.alienando=!0,this.$apollo.query({query:Pe`
            query ($idAlienado: ID!) {
              alienarUsuario(idAlienado: $idAlienado)
            }
          `,variables:{idAlienado:this.estaPersona.id}}).then(({data:{alienarUsuario:e}})=>{console.log("Alienando"),this.alienando=!0,this.$emit("alienandoPersona",e)}).catch(e=>{console.log(`Error: ${e}`),this.alienando=!1}))},togglePermiso(e){this.usuarioSuperadministrador&&(this.togglingPermiso=!0,this.$apollo.mutate({mutation:Pe`
            mutation ($permiso: String!, $idUsuario: ID!) {
              togglePermisoUsuario(permiso: $permiso, idUsuario: $idUsuario) {
                id
                permisos
              }
            }
          `,variables:{permiso:e,idUsuario:this.estaPersona.id}}).then(()=>{this.togglingPermiso=!1}).catch(t=>{console.log(`Error: ${t}`),this.togglingPermiso=!1}))},toggleResponsableNodoSolidaridad(e){console.log(`Setting presencia de ${this.estaPersona.id} en el nodo ${e.id}`),e.responsables.includes(this.estaPersona.id)?(console.log("Sacándolo"),this.settingPresenciaNodoSolidaridad=!0,this.$apollo.mutate({mutation:Pe`
              mutation ($idNodo: ID!, $idUsuario: ID!) {
                removeResponsableNodoSolidaridad(
                  idNodo: $idNodo
                  idUsuario: $idUsuario
                ) {
                  id
                  responsables
                }
              }
            `,variables:{idNodo:e.id,idUsuario:this.estaPersona.id}}).then(()=>{this.settingPresenciaNodoSolidaridad=!1}).catch(o=>{console.log(`Error: ${o}`),this.settingPresenciaNodoSolidaridad=!1})):(console.log("Dentrándolo"),this.settingPresenciaNodoSolidaridad=!0,this.$apollo.mutate({mutation:Pe`
              mutation ($idNodo: ID!, $idUsuario: ID!) {
                addResponsableNodoSolidaridad(
                  idNodo: $idNodo
                  idUsuario: $idUsuario
                ) {
                  id
                  responsables
                }
              }
            `,variables:{idNodo:e.id,idUsuario:this.estaPersona.id}}).then(()=>{this.settingPresenciaNodoSolidaridad=!1}).catch(o=>{console.log(`Error: ${o}`),this.settingPresenciaNodoSolidaridad=!1}))},guardarInforme(e){console.log("Guardando informe");var t=null;if(e==="objetivos"){if(t=this.$refs.inputInformeCategoriaObjetivos.value,t===this.misInformesActivos.objetivos)return;this.guardandoInformeObjetivos=!0,t&&(t=t.trim()),this.nuevoInformeObjetivos=t}if(e==="espacios"){if(t=this.$refs.inputInformeCategoriaEspacios.value,t===this.misInformesActivos.espacios)return;this.guardandoInformeEspacios=!0,t&&(t=t.trim()),this.nuevoInformeEspacios=t}if(e==="comentario"){if(t=this.$refs.inputInformeCategoriaComentario.value,t===this.misInformesActivos.comentario)return;this.guardandoInformeComentario=!0,t&&(t=t.trim()),this.nuevoInformeComentario=t}if(e==="proyectos"){if(t=this.$refs.inputInformeCategoriaProyectos.value,t===this.misInformesActivos.proyectos)return;this.guardandoInformeProyectos=!0,t&&(t=t.trim()),this.nuevoInformeProyectos=t}this.$apollo.mutate({mutation:Pe`
            mutation (
              $idUsuario: ID!
              $year: Int!
              $periodo: String!
              $idProfe: ID!
              $categoria: String!
              $texto: String!
            ) {
              guardarInformeEstudianteMaestraVida(
                idUsuario: $idUsuario
                year: $year
                periodo: $periodo
                idProfe: $idProfe
                categoria: $categoria
                texto: $texto
              ) {
                id
                year
                periodo
                idProfe
                nombreProfe
                categoria
                texto
              }
            }
          `,variables:{idUsuario:this.estaPersona.id,year:2023,periodo:this.periodoInforme,idProfe:this.usuario.id,categoria:e,texto:t}}).then(({data:{guardarInformeEstudianteMaestraVida:o}})=>{const i=this.$apollo.provider.defaultClient,n=i.readQuery({query:Kl,variables:{idUsuario:this.estaPersona.id}});var r=JSON.parse(JSON.stringify(n)),s=r.Usuario.informesMaestraVida.find(l=>l.id===o.id);s||(r.Usuario.informesMaestraVida.push(o),i.writeQuery({query:Kl,variables:{idUsuario:this.estaPersona.id},data:r})),e==="objetivos"&&(this.guardandoInformeObjetivos=!1),e==="espacios"&&(this.guardandoInformeEspacios=!1),e==="comentario"&&(this.guardandoInformeComentario=!1),e==="proyectos"&&(this.guardandoInformeProyectos=!1)}).catch(o=>{alert("¡Error guardando informe!"),console.log("error: "+o),e==="objetivos"&&(this.guardandoInformeObjetivos=!1),e==="espacios"&&(this.guardandoInformeEspacios=!1),e==="comentario"&&(this.guardandoInformeComentario=!1),e==="proyectos"&&(this.guardandoInformeProyectos=!1)})},descargarArchivoInforme(){console.log("Creando documento docx de informe para "+this.estaPersona.nombres+" en el periodo "+this.periodoInforme),this.creandoDocumentoInforme=!0;var e=new Me.TableRow({children:[new Me.TableCell({children:[new Me.Paragraph({text:"Acerca de los objetivos",style:"nombreSeccion",alignment:Me.AlignmentType.CENTER})],width:{size:300,type:Me.WidthType.DXA}}),new Me.TableCell({children:[...this.informes.filter(l=>l.year==2023&&l.periodo===this.periodoInforme&&l.categoria==="objetivos"&&l.texto&&l.texto.length>10).reduce((l,a)=>l.concat([new Me.Paragraph({children:a.texto.split(`
`).map(c=>new Me.TextRun({text:c,break:1})),style:"textoProfe"}),new Me.Paragraph({text:a.nombreProfe,style:"firmaProfe"})]),[])],width:{size:700,type:Me.WidthType.DXA}})]}),t=new Me.TableRow({children:[new Me.TableCell({width:{size:3e3,type:Me.WidthType.DXA},children:[new Me.Paragraph({text:"Proyectos pedagógicos productivos",style:"nombreSeccion",alignment:Me.AlignmentType.CENTER})]}),new Me.TableCell({width:{size:2700,type:Me.WidthType.DXA},children:[...this.informes.filter(l=>l.year==2023&&l.periodo===this.periodoInforme&&l.categoria==="proyectos"&&l.texto&&l.texto.length>10).reduce((l,a)=>l.concat([new Me.Paragraph({children:a.texto.split(`
`).map(c=>new Me.TextRun({text:c,break:1})),style:"textoProfe"}),new Me.Paragraph({text:a.nombreProfe,style:"firmaProfe"})]),[])]})]}),o=new Me.TableRow({children:[new Me.TableCell({children:[new Me.Paragraph({text:"Acerca de los espacios",style:"nombreSeccion",alignment:Me.AlignmentType.CENTER})],width:{size:300,type:Me.WidthType.DXA}}),new Me.TableCell({children:[...this.informes.filter(l=>l.year==2023&&l.periodo===this.periodoInforme&&l.categoria==="espacios"&&l.texto&&l.texto.length>10).reduce((l,a)=>l.concat([new Me.Paragraph({children:a.texto.split(`
`).map(c=>new Me.TextRun({text:c,break:1})),style:"textoProfe"}),new Me.Paragraph({text:a.nombreProfe,style:"firmaProfe"})]),[])],width:{size:700,type:Me.WidthType.DXA}})]}),i=new Me.TableRow({children:[new Me.TableCell({children:[new Me.Paragraph({text:"Comentario",style:"nombreSeccion",alignment:Me.AlignmentType.CENTER})],width:{size:300,type:Me.WidthType.DXA}}),new Me.TableCell({children:[...this.informes.filter(l=>l.year==2023&&l.periodo===this.periodoInforme&&l.categoria==="comentario"&&l.texto&&l.texto.length>10).reduce((l,a)=>l.concat([new Me.Paragraph({children:a.texto.split(`
`).map(c=>new Me.TextRun({text:c,break:1})),style:"textoProfe"}),new Me.Paragraph({text:a.nombreProfe,style:"firmaProfe"})]),[])],width:{size:700,type:Me.WidthType.DXA}})]}),n=new Me.TableRow({children:[new Me.TableCell({children:[new Me.Paragraph({text:"Promocionado: SI",style:"nombreSeccion",alignment:Me.AlignmentType.CENTER})],width:{size:300,type:Me.WidthType.DXA}})]}),r=new Me.Table({rows:[e,t,o,i,n],width:{size:8500,type:Me.WidthType.DXA}}),s=new Me.Document({styles:{paragraphStyles:[{id:"estiloGlobal",name:"Estilo global",run:{font:"Maiandra GD"}},{id:"titulos",name:"titulos",basedOn:"estiloGlobal",run:{bold:!0,size:24},paragraph:{spacing:{after:200}}},{id:"nombreEstudiante",name:"nombre del estudiante",basedOn:"estiloGlobal",run:{bold:!0,allCaps:!0},paragraph:{spacing:{after:120}}},{id:"nombreSeccion",name:"nombre de seccion",basedOn:"estiloGlobal",run:{bold:!0,size:24},paragraph:{spacing:{after:120}}},{id:"objetivo",name:"Objetivo del estudiante",basedOn:"estiloGlobal",run:{size:24}},{id:"textoProfe",name:"Texto escrito por un profe",basedOn:"estiloGlobal",run:{size:24},paragraph:{spacing:{after:30}}},{id:"firmaProfe",name:"Firma del profe",basedOn:"estiloGlobal",run:{italics:!0,size:18},paragraph:{spacing:{after:100}}}]},sections:[{children:[new Me.Paragraph({text:"INSTITUCIÓN EDUCATIVA MAESTRA VIDA",heading:Me.HeadingLevel.TITLE,style:"titulos",alignment:Me.AlignmentType.CENTER}),new Me.Paragraph({text:"RESOLUCIÓN DE APROBACIÓN N° 5549 DE JUNIO DE 2013",heading:Me.HeadingLevel.TITLE,style:"titulos",alignment:Me.AlignmentType.CENTER}),new Me.Paragraph({text:"EVALUACIÓN DE CONOCIMIENTO Y DESEMPEÑO",heading:Me.HeadingLevel.TITLE,style:"titulos",alignment:Me.AlignmentType.CENTER}),new Me.Paragraph({text:"PERIODO AGOSTO - OCTUBRE DE 2023",style:"titulos",alignment:Me.AlignmentType.CENTER}),new Me.Paragraph({text:"Nombre:  "+this.estaPersona.nombres+" "+this.estaPersona.apellidos,style:"nombreEstudiante"}),new Me.Paragraph({text:"Objetivos",style:"nombreSeccion"}),...this.estaPersona.objetivos.map(l=>new Me.Paragraph({text:l,style:"objetivo",bullet:{level:0}})),new Me.Paragraph({text:"",spacing:{after:200}}),r,new Me.Paragraph({children:[new Me.TextRun({text:"EQUIPO PEDAGÓGICO",bold:!0})],alignment:Me.AlignmentType.CENTER,style:"estiloGlobal",spacing:{before:1500}}),new Me.Paragraph({text:"Corporación Maestra Vida",heading:Me.HeadingLevel.TITLE,style:"titulos",alignment:Me.AlignmentType.CENTER})]}]});r4(s,`informe${this.estaPersona.username}.docx`),this.creandoDocumentoInforme=!1}},computed:{misInformesActivos(){if(!this.informes)return{objetivos:null,espacios:null,comentario:null,proyectos:null};var e=this.informes.find(n=>n.year===2023&&n.periodo===this.periodoInforme&&n.idProfe===this.usuario.id&&n.categoria==="objetivos"),t=this.informes.find(n=>n.year===2023&&n.periodo===this.periodoInforme&&n.idProfe===this.usuario.id&&n.categoria==="espacios"),o=this.informes.find(n=>n.year===2023&&n.periodo===this.periodoInforme&&n.idProfe===this.usuario.id&&n.categoria==="comentario"),i=this.informes.find(n=>n.year===2023&&n.periodo===this.periodoInforme&&n.idProfe===this.usuario.id&&n.categoria==="proyectos");return{objetivos:e?e.texto:null,espacios:t?t.texto:null,comentario:o?o.texto:null,proyectos:i?i.texto:null}},miEspacioActual(){const e=this.personasConEspacio.find(t=>t.id===this.estaPersona.id);return e?e.espacioActual:null},colorBarraSuperior(){if(!this.usuarioLogeado||!this.estaPersona.permisos||!this.estaPersona.permisos.includes("maestraVida-estudiante"))return{};var e="rgb(161, 240, 82)";return{backgroundColor:e}}},watch:{seleccionado(e){e||(this.mostrando=null)},informes:function(){this.activable++},misInformesActivos(){this.nuevoInformeObjetivos=this.misInformesActivos.objetivos,this.nuevoInformeProyectos=this.misInformesActivos.proyectos,this.nuevoInformeEspacios=this.misInformesActivos.espacios,this.nuevoInformeComentario=this.misInformesActivos.comentario}},mounted(){setTimeout(()=>{this.activable++},1e3),this.nuevoInformeObjetivos=this.misInformesActivos.objetivos,this.nuevoInformeProyectos=this.misInformesActivos.proyectos,this.nuevoInformeEspacios=this.misInformesActivos.espacios,this.nuevoInformeComentario=this.misInformesActivos.comentario}};function r4(e,t){const o="application/vnd.openxmlformats-officedocument.wordprocessingml.document";Me.Packer.toBlob(e).then(i=>{const n=i.slice(0,i.size,o);td.saveAs(n,t)})}const Ct=e=>(it("data-v-359e6a92"),e=e(),rt(),e),s4={id:"barraSuperior"},a4={class:"iconoPersona"},c4={key:0,src:u0,alt:"Profesor"},l4={id:"zonaNombres"},u4={id:"nombres"},d4={id:"zonaApellidos"},h4={id:"apellidos"},f4={id:"contenedorControlesPersona",class:"contenedorControles"},p4=Ct(()=>v("img",{src:nb,alt:"Ruta",style:{}},null,-1)),m4=[p4],g4=["title"],v4=Ct(()=>v("img",{src:fh,alt:"calendario"},null,-1)),y4=[v4],b4=["title"],w4=Ct(()=>v("img",{src:pc,alt:"Cog"},null,-1)),E4=[w4],_4=Ct(()=>v("img",{src:e4,alt:"Virus"},null,-1)),S4=[_4],N4=["title"],C4=["title"],A4=Ct(()=>v("img",{src:t4,alt:"Objetivo"},null,-1)),x4=[A4],T4={id:"zonaContenidosMostrando"},I4={key:0,id:"zonaAdministracion"},D4={id:"barraInfoAdicional"},P4={key:0,id:"username"},k4={id:"contenedorAcciones",class:"contenedorControles"},O4=["title"],R4=Ct(()=>v("img",{src:ib,alt:"Id"},null,-1)),L4=[R4],M4=Ct(()=>v("img",{src:T0,alt:"Llave"},null,-1)),F4=[M4],B4=Ct(()=>v("img",{src:I0,alt:"Credit card"},null,-1)),$4=[B4],U4=["onClick"],q4={key:1,id:"zonaPagos"},j4={key:0,class:"ventanaSplash"},V4={class:"bloqueSplash"},H4=Ct(()=>v("img",{src:$t,alt:"x"},null,-1)),z4=[H4],G4=Ct(()=>v("div",{class:"tituloSplash"},[v("img",{src:I0,alt:"Credit card"}),Ke(" Creando bloque de subscripcion ")],-1)),W4={id:"zonaDateInicioCrearBloqueSubscripcion"},Q4=Ct(()=>v("label",{for:"dateInicioCrearBloqueSubscripcion"},"Fecha de inicio",-1)),K4={name:"dateInicioCrearBloqueSubscripcion",ref:"inputDateInicioCrearBloqueSubscripcion",type:"date"},J4={id:"zonaDuracionCrearBloqueSubscripcion"},Y4=Ct(()=>v("label",{for:"duracionCrearBloqueSubscripcion"},"Duracion(Meses)",-1)),X4={id:"zonaValorCrearBloqueSubscripcion"},Z4=Ct(()=>v("label",{for:"valorCrearBloqueSubscripcion"},"Valor pagado",-1)),e8={key:1,id:"listaPagos"},t8={key:0,class:"anuncioZonaVacia"},o8={id:"zonaInforme"},n8={key:0,class:"contenedorSeccionInforme"},i8={class:"contenedorControles"},r8={id:"selectoresPeriodo",style:{display:"flex"}},s8=Ct(()=>v("img",{src:sc,alt:"archivo"},null,-1)),a8=[s8],c8=Ct(()=>v("div",{class:"tituloSeccionInforme"},"Sobre objetivos",-1)),l8={class:"controlesSeccionInforme"},u8=Ct(()=>v("img",{src:mc,alt:"Guardar"},null,-1)),d8=[u8],h8=Ct(()=>v("div",{class:"tituloSeccionInforme"},"Sobre proyectos",-1)),f8={class:"controlesSeccionInforme"},p8=Ct(()=>v("img",{src:mc,alt:"Guardar"},null,-1)),m8=[p8],g8=Ct(()=>v("div",{class:"tituloSeccionInforme"},"Sobre espacios",-1)),v8={class:"controlesSeccionInforme"},y8=Ct(()=>v("img",{src:mc,alt:"Guardar"},null,-1)),b8=[y8],w8=Ct(()=>v("div",{class:"tituloSeccionInforme"},"Comentario",-1)),E8={class:"controlesSeccionInforme"},_8=Ct(()=>v("img",{src:mc,alt:"Guardar"},null,-1)),S8=[_8],N8={key:1,id:"zonaCalendario",class:"zonaPrimerNivel"},C8={key:2,id:"zonaRutaGrado"},A8={id:"zonaObjetivos"},x8={class:"anuncioZonaVacia"};function T8(e,t,o,i,n,r){var u;const s=Oe("loading"),l=Oe("BloqueSubscripcion"),a=Oe("calendario"),c=Oe("ruta-grado");return Y(),re("div",{class:we(["personaVistaLista",{seleccionado:o.seleccionado}])},[v("div",s4,[v("div",a4,[o.estaPersona.permisos.includes("maestraVida-profesor")?(Y(),re("img",c4)):Ee("",!0),o.estaPersona.permisos.includes("maestraVida-estudiante")?(Y(),re("img",{key:1,src:Z3,alt:"CapGraduacion",onClick:t[0]||(t[0]=h=>e.usuarioSuperadministrador?r.togglePermiso("maestraVida-estudiante"):"")})):Ee("",!0),!o.estaPersona.permisos.includes("maestraVida-profesor")&&!o.estaPersona.permisos.includes("maestraVida-estudiante")?(Y(),re("img",{key:2,src:us,alt:"Usuario",onClick:t[1]||(t[1]=h=>e.usuarioSuperadministrador?r.togglePermiso("maestraVida-estudiante"):"")})):Ee("",!0)]),v("div",l4,[v("div",u4,[Ke(Ae(o.estaPersona.nombres)+" ",1),r.miEspacioActual?Q((Y(),re("span",{key:0,class:"espacioActual"},"("+Ae(r.miEspacioActual)+")",513)),[[Z,o.mostrarEspacioActual]]):Ee("",!0)])]),v("div",d4,[v("div",h4,Ae(o.estaPersona.apellidos),1)]),Q(v("div",f4,[v("div",{class:we(["boton selector",{activo:n.mostrando==="rutaGrado"}]),onClick:t[2]||(t[2]=h=>n.mostrando=n.mostrando==="rutaGrado"?null:"rutaGrado")},m4,2),Q(v("div",{class:we(["boton selector",{activo:n.mostrando==="calendario"}]),title:n.mostrando==="calendario"?"Ocultar calendario":"Mostrar calendario",onClick:t[3]||(t[3]=h=>n.mostrando=n.mostrando==="calendario"?null:"calendario")},y4,10,g4),[[Z,e.usuario&&(e.usuarioProfe||e.usuario.id===o.estaPersona.id||e.usuarioSuperadministrador)]]),e.usuarioSuperadministrador?(Y(),re("div",{key:0,class:we(["boton selector",{activo:n.mostrando==="administracion"}]),title:n.mostrando==="administracion"?"Ocultar administracion":"Mostrar administracion",onClick:t[4]||(t[4]=h=>n.mostrando=n.mostrando==="administracion"?null:"administracion")},E4,10,b4)):Ee("",!0),Q(v("div",{class:"boton",onClick:t[5]||(t[5]=(...h)=>r.alienar&&r.alienar(...h)),title:"alienar"},S4,512),[[Z,e.usuarioProfe||e.usuarioSuperadministrador]]),e.usuarioLogeado&&e.usuarioProfe?(Y(),re("div",{key:1,class:we(["botonTexto selector",{activo:n.mostrando==="informe"}]),style:{width:"100px"},title:n.mostrando==="informe"?"Ocultar informe":"Mostrar informe",onClick:t[6]||(t[6]=h=>n.mostrando=n.mostrando==="informe"?null:"informe")}," Informes ",10,N4)):Ee("",!0),e.usuarioLogeado&&e.usuarioProfe?(Y(),re("div",{key:2,class:we(["boton selector",{activo:n.mostrando==="objetivos"}]),title:n.mostrando==="objetivos"?"Ocultar objetivos":"Mostrar objetivos",onClick:t[7]||(t[7]=h=>n.mostrando=n.mostrando==="objetivos"?null:"objetivos")},x4,10,C4)):Ee("",!0)],512),[[Z,o.seleccionado]])]),v("div",T4,[e.usuarioSuperadministrador?Q((Y(),re("div",I4,[Q(v("div",D4,[e.usuarioSuperadministrador?(Y(),re("div",P4,Ae(o.estaPersona.username),1)):Ee("",!0)],512),[[Z,o.seleccionado]]),v("div",k4,[e.usuarioSuperadministrador?(Y(),re("div",{key:0,class:we(["boton selector",{activo:n.mostrandoPermisos}]),onClick:t[8]||(t[8]=h=>n.mostrandoPermisos=!n.mostrandoPermisos),title:n.mostrandoPermisos?"Ocultar permisos":"Mostrar permisos"},L4,10,O4)):Ee("",!0),Q(v("div",{class:"boton",title:"Restaurar password (123456)",onClick:t[9]||(t[9]=(...h)=>r.resetearPassword&&r.resetearPassword(...h))},F4,512),[[Z,!n.reseteandoPassword]]),e.usuarioSuperadministrador?(Y(),re("div",{key:1,class:we(["boton selector",{activo:n.mostrandoBloquesSubscripcion}]),title:"Subscripción",onClick:t[10]||(t[10]=h=>n.mostrandoBloquesSubscripcion=!n.mostrandoBloquesSubscripcion)},$4,2)):Ee("",!0),Q(Te(s,{texto:""},null,512),[[Z,n.reseteandoPassword]])]),e.usuarioSuperadministrador?Q((Y(),re("div",{key:0,id:"listaPermisos",class:we({deshabilitado:n.togglingPermiso})},[(Y(!0),re(He,null,Ze(n.permisosPosibles,h=>(Y(),re("div",{class:we(["activadorPermiso",{permisoGranted:o.estaPersona.permisos.includes(h)}]),onClick:p=>r.togglePermiso(h),key:h+"permiso"},Ae(h),11,U4))),128))],2)),[[Z,n.mostrandoPermisos]]):Ee("",!0),e.usuarioSuperadministrador?Q((Y(),re("div",q4,[v("div",{class:we(["botonTexto",{deshabilitado:n.guardandoBloqueSub||n.escribiendoBloqueSub}]),onClick:t[11]||(t[11]=Ie((...h)=>r.iniciarCrearBloqueSub&&r.iniciarCrearBloqueSub(...h),["stop"])),style:{margin:"10px auto",width:"150px"}}," Crear pago ",2),n.escribiendoBloqueSub?(Y(),re("div",j4,[v("div",V4,[v("div",{class:"botonEquis",onClick:t[12]||(t[12]=h=>n.escribiendoBloqueSub=!1)},z4),G4,v("div",W4,[Q4,v("input",K4,null,512)]),v("div",J4,[Y4,Q(v("input",{type:"number",name:"duracionCrearBloqueSubscripcion",ref:"duracionCrearBloqueSubscripcion","onUpdate:modelValue":t[13]||(t[13]=h=>n.duracionCrearBloqueSubscripcion=h),min:"1",max:"500"},null,512),[[Je,n.duracionCrearBloqueSubscripcion]])]),v("div",X4,[Z4,Q(v("input",{type:"number",name:"valorPagadoCrearBloqueSubscripcion",ref:"valorCrearBloqueSubscripcion","onUpdate:modelValue":t[14]||(t[14]=h=>n.valorCrearBloqueSubscripcion=h),min:"1000",max:"1000000000"},null,512),[[Je,n.valorCrearBloqueSubscripcion]])]),v("div",{class:"botonTexto",onClick:t[15]||(t[15]=(...h)=>r.crearBloqueSubscripcion&&r.crearBloqueSubscripcion(...h))}," Aceptar ")])])):Ee("",!0),Q(Te(s,{style:{margin:"2px auto"}},null,512),[[Z,n.guardandoBloqueSub]]),e.usuarioSuperadministrador?Q((Y(),re("div",e8,[n.bloquesSubscripcion.length===0?(Y(),re("div",t8," Aun no hay bloques de subscripción registrados. ")):Ee("",!0),(Y(!0),re(He,null,Ze(n.bloquesSubscripcion,h=>(Y(),Qe(l,{key:h.id,esteBloque:h,idPersona:o.estaPersona.id},null,8,["esteBloque","idPersona"]))),128))],512)),[[Z,n.mostrandoBloquesSubscripcion]]):Ee("",!0)],512)),[[Z,n.mostrandoBloquesSubscripcion]]):Ee("",!0)],512)),[[Z,n.mostrando==="administracion"]]):Ee("",!0),Q(v("div",o8,[Q(Te(s,null,null,512),[[Z,e.$apollo.queries.informes.loading]]),e.$apollo.queries.informes.loading?Ee("",!0):(Y(),re("div",n8,[v("div",i8,[Q(v("div",r8,[v("div",{class:we(["boton selector",{activo:n.periodoInforme==="primero"}]),onClick:t[16]||(t[16]=h=>n.periodoInforme="primero")}," I ",2),v("div",{class:we(["boton selector",{activo:n.periodoInforme==="segundo"}]),onClick:t[17]||(t[17]=h=>n.periodoInforme="segundo")}," II ",2),v("div",{class:we(["boton selector",{activo:n.periodoInforme==="tercero"}]),onClick:t[18]||(t[18]=h=>n.periodoInforme="tercero")}," III ",2),v("div",{class:we(["boton selector",{activo:n.periodoInforme==="total"}]),onClick:t[19]||(t[19]=h=>n.periodoInforme="total")}," Total ",2)],512),[[Z,e.usuarioProfe]]),Q(v("div",{class:"boton",onClick:t[20]||(t[20]=(...h)=>r.descargarArchivoInforme&&r.descargarArchivoInforme(...h))},a8,512),[[Z,!n.creandoDocumentoInforme]]),Q(Te(s,{texto:""},null,512),[[Z,n.creandoDocumentoInforme]])]),c8,Q(v("textarea",{id:"textAreaInformeObjetivos",onBlur:t[21]||(t[21]=h=>r.guardarInforme("objetivos")),ref:"inputInformeCategoriaObjetivos",class:we(["seccionInforme",{deshabilitado:n.guardandoInformeObjetivos,guardado:n.nuevoInformeObjetivos==r.misInformesActivos.objetivos}]),"onUpdate:modelValue":t[22]||(t[22]=h=>n.nuevoInformeObjetivos=h)},null,34),[[Je,n.nuevoInformeObjetivos]]),v("div",l8,[Q(v("div",{class:we([{guardado:n.nuevoInformeObjetivos===r.misInformesActivos.objetivos},"boton botonGuardarSeccion"]),onClick:t[23]||(t[23]=h=>r.guardarInforme("objetivos"))},d8,2),[[Z,!n.guardandoInformeObjetivos]]),Q(Te(s,null,null,512),[[Z,n.guardandoInformeObjetivos]])]),h8,Q(v("textarea",{id:"textAreaInformeProyectos",onBlur:t[24]||(t[24]=h=>r.guardarInforme("proyectos")),ref:"inputInformeCategoriaProyectos",class:we(["seccionInforme",{deshabilitado:n.guardandoInformeProyectos,guardado:n.nuevoInformeProyectos==r.misInformesActivos.proyectos}]),"onUpdate:modelValue":t[25]||(t[25]=h=>n.nuevoInformeProyectos=h)},null,34),[[Je,n.nuevoInformeProyectos]]),v("div",f8,[Q(v("div",{class:we([{guardado:n.nuevoInformeProyectos===r.misInformesActivos.proyectos},"boton botonGuardarSeccion"]),onClick:t[26]||(t[26]=h=>r.guardarInforme("proyectos"))},m8,2),[[Z,!n.guardandoInformeProyectos]]),Q(Te(s,null,null,512),[[Z,n.guardandoInformeProyectos]])]),g8,Q(v("textarea",{id:"textAreaInformeProyectos",onBlur:t[27]||(t[27]=h=>r.guardarInforme("espacios")),ref:"inputInformeCategoriaEspacios",class:we(["seccionInforme",{deshabilitado:n.guardandoInformeEspacios,guardado:n.nuevoInformeEspacios==r.misInformesActivos.espacios}]),"onUpdate:modelValue":t[28]||(t[28]=h=>n.nuevoInformeEspacios=h)},null,34),[[Je,n.nuevoInformeEspacios]]),v("div",v8,[Q(v("div",{class:we([{guardado:n.nuevoInformeEspacios===r.misInformesActivos.espacios},"boton botonGuardarSeccion"]),onClick:t[29]||(t[29]=h=>r.guardarInforme("espacios"))},b8,2),[[Z,!n.guardandoInformeEspacios]]),Q(Te(s,null,null,512),[[Z,n.guardandoInformeEspacios]])]),w8,Q(v("textarea",{id:"textAreaInformeComentario",onBlur:t[30]||(t[30]=h=>r.guardarInforme("comentario")),ref:"inputInformeCategoriaComentario",class:we(["seccionInforme",{deshabilitado:n.guardandoInformeComentario,guardado:n.nuevoInformeComentario==r.misInformesActivos.comentario}]),"onUpdate:modelValue":t[31]||(t[31]=h=>n.nuevoInformeComentario=h)},null,34),[[Je,n.nuevoInformeComentario]]),v("div",E8,[Q(v("div",{class:we([{guardado:n.nuevoInformeComentario===r.misInformesActivos.comentario},"boton botonGuardarSeccion"]),onClick:t[32]||(t[32]=h=>r.guardarInforme("comentario"))},S8,2),[[Z,!n.guardandoInformeComentario]]),Q(Te(s,null,null,512),[[Z,n.guardandoInformeComentario]])])]))],512),[[Z,n.mostrando==="informe"]]),n.mostrando==="calendario"?(Y(),re("div",N8,[Te(a,{idUsuarioTarget:o.estaPersona.id,ref:"calendario",enfasis:"eventosPersonales"},null,8,["idUsuarioTarget"])])):Ee("",!0),n.mostrando==="rutaGrado"?Q((Y(),re("div",C8,[Te(c,{idUsuario:o.estaPersona.id},null,8,["idUsuario"])],512)),[[Z,n.mostrando==="rutaGrado"]]):Ee("",!0),Q(v("div",A8,[(Y(!0),re(He,null,Ze(o.estaPersona.objetivos,(h,p)=>(Y(),re("div",{class:"objetivoPersonal",key:"objetivo"+p},Ae(h),1))),128)),Q(v("div",x8," Aún no hay objetivos ",512),[[Z,!((u=o.estaPersona.objetivos)!=null&&u.length)>0]])],512),[[Z,n.mostrando=="objetivos"]])])],2)}const I8=Ge(i4,[["render",T8],["__scopeId","data-v-359e6a92"]]),D8="/caracol/assets/search-f1647707.svg",P8=/[^ a-zA-Z-]/,$g=Fe`
    query {
        todosUsuarios {
            id
            nombres
            apellidos
            permisos
            username
            objetivos
        }
    }
    `,k8=Fe`
    query($listaPermisos: [String]){
        usuariosByPermisos(listaPermisos: $listaPermisos){
            id
            nombres
            apellidos
            permisos
            username
            objetivos
        }
    }
    `,O8={name:"Personas",components:{Loading:yt,PersonaVistaLista:I8},apollo:{personas:{query:k8,variables(){let e=[];return this.tipoMostrarUsuarios==="estudiantes"?e=["maestraVida-estudiante"]:this.tipoMostrarUsuarios==="profesores"?e=["maestraVida-profesor"]:this.tipoMostrarUsuarios==="graduados"?e=["maestraVida-graduado"]:this.tipoMostrarUsuarios==="todos"&&(e=["usuario"]),{listaPermisos:e}},update:function({usuariosByPermisos:e}){return e},skip(){return!this.tipoMostrarUsuarios},fetchPolicy:"cache-and-network"},personasConEspacio:{query:Fe`
                query ($dateActual: Date) {
                    todosUsuarios(dateActual: $dateActual) {
                        id
                        espacioActual
                    }
                }
                `,variables(){return{dateActual:Date.now()}},update({todosUsuarios:e}){return e}}},data(){const e=localStorage.getItem("configuracionPersonas");var t={};return e&&(t=JSON.parse(e)),{personas:[],personasConEspacio:[],nodosSolidaridadPublicitados:[],idPersonaMenuCx:null,idPersonaSeleccionada:null,tipoMostrarUsuarios:"estudiantes",permisoInput:"",textoBuscar:null,textoBusquedaUsado:null,mostrandoInputBuscar:!1,buscados:[],debouncingBusqueda:!1,mostrarEspacioActual:t.mostrarEspacioActual!=null&&t.mostrarEspacioActual!=null?t.mostrarEspacioActual:!0,mostrandoConfiguracion:!1}},methods:{setLocalStorageConfiguracion(){const e={mostrarEspacioActual:this.mostrarEspacioActual},t=JSON.stringify(e);localStorage.setItem("configuracionPersonas",t)},copiarId(e){let t=e.target.innerText.trim();const o=document.createElement("textarea");o.value=t,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o)},eliminarPersonaDeDatabase(e){confirm("¿Seguro de eliminar a este individuo?")&&console.log(`Se eliminara una persona con id ${e} de la base de datos`),this.$apollo.mutate({mutation:Fe`
                        mutation ($idUsuario: ID!) {
                            eliminarUsuario(idUsuario: $idUsuario)
                        }
                        `,variables:{idUsuario:e},update:(t,{data:{eliminarUsuario:o}})=>{if(console.log(`Data: ${o}`),o)try{let i=t.readQuery({query:$g,variables:{idUsuario:e}});console.log(`cache: ${i}`);let n=i.todosUsuarios.findIndex(r=>r.id==e);n>-1&&i.todosUsuarios.splice(n,1),console.log(`cache: ${i}`),t.writeQuery({query:$g,variables:{idUsuario:e},data:i})}catch(i){console.log(`Error actualizando cache. E:${i}`)}}}).then(t=>{console.log(`Res: ${JSON.stringify(t)}`),t.data&&console.log("Usuario eliminado exitosamente")}).catch(t=>{console.log(`Error eliminando usuario: E: ${t}`)})},asignarPermisoTodos(){if(this.permisoIlegal){console.log("No enviado");return}confirm("¿Asignar este permiso a todas las personas?")&&this.$apollo.mutate({mutation:Fe`
                        mutation ($nuevoPermiso: String!) {
                            asignarPermisoTodosUsuarios(nuevoPermiso: $nuevoPermiso)
                        }
                        `,variables:{nuevoPermiso:this.permisoInput}}).then(()=>{alert("Permiso "+this.permisoInput+" asignado para todos los usuarios")})},iniciarBuscar(){this.mostrandoInputBuscar=!0,this.$nextTick(()=>{this.$refs.inputBuscar.focus()})},cancelarBusqueda(){this.buscados=[],this.textoBuscar=null,this.mostrandoInputBuscar=!1,this.textoBusquedaUsado=null},calcularBuscados:ls(function(){this.textoBusquedaUsado=this.textoBuscar},500)},computed:{opcionesEspecialesPersona:function(){let e=[];return this.usuarioSuperadministrador&&(e=e.concat([{textoVisible:"Eliminar de la base de datos",evento:"eliminandoseDeDatabase"},{textoVisible:"resetear contraseña (123456)",evento:"reseteandoPass"}])),e},permisoIlegal(){return!!(this.permisoInput.length<1||P8.test(this.permisoInput))},personasVisibles(){var e=JSON.parse(JSON.stringify(this.personas));return this.textoBusquedaUsado&&e.sort((t,o)=>Pa.compareTwoStrings(o.nombres+o.apellidos,this.textoBusquedaUsado)-Pa.compareTwoStrings(t.nombres+t.apellidos,this.textoBusquedaUsado)),e}},watch:{mostrarEspacioActual(){this.setLocalStorageConfiguracion()}}},qo=e=>(it("data-v-e0db505c"),e=e(),rt(),e),R8={class:"personas"},L8={class:"barraSeccion"},M8={class:"contenedorControles",style:{"margin-left":"auto"}},F8=qo(()=>v("img",{src:pc,alt:"Configuración",style:{}},null,-1)),B8=[F8],$8={class:"zonaConfiguracion"},U8=qo(()=>v("div",{class:"barraSeccion"},"Configuración",-1)),q8={class:"contenedorBloquesConfiguracion"},j8={class:"bloqueConfiguracion"},V8={class:"campoConfiguracion"},H8=qo(()=>v("label",{for:"checkMostrarEspacioActual"},"Mostrar espacio en el que se encuentra cada persona",-1)),z8={class:"zonaConfiguracion"},G8={class:"contenedorBloquesConfiguracion"},W8={class:"bloqueConfiguracion"},Q8={class:"campoConfiguracion",id:"campoUsuariosMostrados"},K8=qo(()=>v("span",{style:{width:"100%"}}," Mostrar:",-1)),J8={class:"opcion"},Y8=qo(()=>v("label",{for:"mostrarTodos"},"Todos",-1)),X8={class:"opcion"},Z8=qo(()=>v("label",{for:"mostrarEstudiantes"},"Estudiantes",-1)),eU={class:"opcion"},tU=qo(()=>v("label",{for:"mostrarProfesores"},"Profesorxs",-1)),oU={class:"opcion"},nU=qo(()=>v("label",{for:"mostrarGraduados"},"Graduados",-1)),iU={id:"zonaBuscar"},rU={class:"barraSuperior"},sU=qo(()=>v("img",{src:D8,alt:"Lupa"},null,-1)),aU=[sU],cU=qo(()=>v("img",{src:$t,alt:"Equis"},null,-1)),lU=[cU];function uU(e,t,o,i,n,r){const s=Oe("router-view"),l=Oe("loading"),a=Oe("persona-vista-lista");return Y(),re("div",R8,[Te(s),v("div",L8,[v("div",M8,[v("div",{class:"boton",onClick:t[0]||(t[0]=c=>n.mostrandoConfiguracion=!n.mostrandoConfiguracion)},B8)])]),Q(v("div",$8,[U8,v("div",q8,[v("div",j8,[v("div",V8,[H8,Q(v("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>n.mostrarEspacioActual=c),type:"checkbox",name:"checkMostrarEspacioActual",id:"checkMostrarEspacioActual",ref:"checkMostrarEspacioActual"},null,512),[[yn,n.mostrarEspacioActual]])])])])],512),[[Z,n.mostrandoConfiguracion]]),v("div",z8,[v("div",G8,[v("div",W8,[v("div",Q8,[K8,v("div",J8,[Y8,Q(v("input",{type:"radio",name:"radioMostrarTodos",ref:"mostrarTodos",value:"todos","onUpdate:modelValue":t[2]||(t[2]=c=>n.tipoMostrarUsuarios=c),id:"radioMostrarTodos"},null,512),[[Qn,n.tipoMostrarUsuarios]])]),v("div",X8,[Z8,Q(v("input",{type:"radio",name:"radioMostrarEstudiantes",ref:"mostrarEstudiantes",value:"estudiantes","onUpdate:modelValue":t[3]||(t[3]=c=>n.tipoMostrarUsuarios=c),id:"radioMostrarEstudiantes"},null,512),[[Qn,n.tipoMostrarUsuarios]])]),v("div",eU,[tU,Q(v("input",{type:"radio",name:"radioMostrarProfesores",ref:"mostrarProfesores",value:"profesores","onUpdate:modelValue":t[4]||(t[4]=c=>n.tipoMostrarUsuarios=c),id:"radioMostrarProfesores"},null,512),[[Qn,n.tipoMostrarUsuarios]])]),v("div",oU,[nU,Q(v("input",{type:"radio",name:"radioMostrarGraduados",ref:"mostrarGraduados",value:"graduados","onUpdate:modelValue":t[5]||(t[5]=c=>n.tipoMostrarUsuarios=c),id:"radioMostrarGraduados"},null,512),[[Qn,n.tipoMostrarUsuarios]])])])])])]),v("div",iU,[v("div",rU,[Q(v("input",{type:"text",ref:"inputBuscar","onUpdate:modelValue":t[6]||(t[6]=c=>n.textoBuscar=c),onInput:t[7]||(t[7]=(...c)=>r.calcularBuscados&&r.calcularBuscados(...c))},null,544),[[Je,n.textoBuscar],[Z,n.mostrandoInputBuscar]]),Q(v("div",{class:"boton",onClick:t[8]||(t[8]=(...c)=>r.iniciarBuscar&&r.iniciarBuscar(...c))},aU,512),[[Z,!n.mostrandoInputBuscar]]),Q(v("div",{class:"boton",title:"Cancelar",onClick:t[9]||(t[9]=(...c)=>r.cancelarBusqueda&&r.cancelarBusqueda(...c))},lU,512),[[Z,n.mostrandoInputBuscar]])])]),v("div",{id:"listaPersonas",onClick:t[11]||(t[11]=c=>n.idPersonaMenuCx=null)},[Q(Te(l,{texto:"Cargando lista de personas..."},null,512),[[Z,e.$apollo.queries.personas.loading]]),(Y(!0),re(He,null,Ze(r.personasVisibles,c=>(Y(),Qe(a,{key:c.id,seleccionado:n.idPersonaSeleccionada===c.id,estaPersona:c,nodosSolidaridadPublicitados:n.nodosSolidaridadPublicitados,personasConEspacio:n.personasConEspacio,mostrarEspacioActual:n.mostrarEspacioActual,onClick:u=>n.idPersonaSeleccionada=c.id,onAlienandoPersona:t[10]||(t[10]=u=>e.$emit("alienandoPersona",u))},null,8,["seleccionado","estaPersona","nodosSolidaridadPublicitados","personasConEspacio","mostrarEspacioActual","onClick"]))),128))])])}const dU=Ge(O8,[["render",uU],["__scopeId","data-v-e0db505c"]]),D0="/caracol/assets/exclamationCircle-1e9df160.svg",hU={components:{Loading:yt},name:"EventoItemLista",props:{esteEvento:Object},mixins:[bs,ws,v0,lh],data(){return{mostrando:null,eliminandose:!1}}},ph=e=>(it("data-v-8fbb8e28"),e=e(),rt(),e),fU={id:"barraSuperior"},pU={id:"zonaInfoHorario",style:{display:"flex"}},mU={id:"horarioInicio",class:"infoHorario"},gU={id:"zonaBotones"},vU=ph(()=>v("img",{src:uc,alt:"Expandir"},null,-1)),yU=[vU],bU=ph(()=>v("img",{src:D0,alt:"Informacion"},null,-1)),wU=[bU],EU=ph(()=>v("img",{src:kn,alt:"Eliminar"},null,-1)),_U=[EU],SU={id:"barraInfo"},NU={id:"zonaNombre"},CU={id:"zonaDescripcion",class:"zonaPrimerNivel"},AU={class:"contenedorBotonesCampo"};function xU(e,t,o,i,n,r){const s=Oe("loading");return Y(),re("div",{class:we(["eventoItemLista",{deshabilitado:n.eliminandose}])},[v("div",fU,[v("div",pU,[v("div",mU,Ae(e.dateInicioLegible+", "+e.duracionLegible),1)]),v("div",gU,[v("div",{class:"boton botonControlEvento",title:"Expandir este evento",onClick:t[0]||(t[0]=Ie(l=>e.$router.push(e.$route.path+"/ventanaEventoPublico/"+o.esteEvento.id),["stop"]))},yU),v("div",{class:"boton botonMostrar",onClick:t[1]||(t[1]=l=>n.mostrando=n.mostrando==="descripcion"?null:"descripcion")},wU),Q(v("div",{class:"boton",id:"botonEliminarse",style:{"margin-left":"min(20px, 3%)"},onClick:t[2]||(t[2]=(...l)=>e.eliminarse&&e.eliminarse(...l))},_U,512),[[Z,e.administrador||e.usuarioSuperadministrador]])])]),v("div",SU,[v("div",NU,[Q(v("input",{onKeypress:t[3]||(t[3]=St(Ie((...l)=>e.guardarNuevoNombre&&e.guardarNuevoNombre(...l),["prevent"]),["enter"])),ref:"inputNuevoNombre","onUpdate:modelValue":t[4]||(t[4]=l=>e.nuevoNombre=l),style:{width:"250px"},onClick:t[5]||(t[5]=Ie(()=>{},["stop"])),onBlur:t[6]||(t[6]=l=>e.editandoNombre=!1),onKeydown:t[7]||(t[7]=(...l)=>e.keydownInputNuevoNombre&&e.keydownInputNuevoNombre(...l)),type:"text",class:we(["inputNuevoNombre inputNombreCosa",{deshabilitado:e.enviandoNuevoNombre}])},null,34),[[Je,e.nuevoNombre],[Z,e.editandoNombre]]),Q(Te(s,{texto:""},null,512),[[Z,e.enviandoNuevoNombre]]),Q(v("div",{id:"elNombre",class:we({deshabilitado:e.enviandoNuevoNombre,administrador:e.administrador}),onClick:t[8]||(t[8]=(...l)=>e.toggleEditandoNombre&&e.toggleEditandoNombre(...l))},Ae(o.esteEvento.nombre),3),[[Z,!e.editandoNombre]])])]),Q(v("div",CU,[Q(v("div",{id:"descripcion",class:"contenidoTexto",ref:"descripcion",onClick:t[9]||(t[9]=(...l)=>e.toggleEditandoDescripcion&&e.toggleEditandoDescripcion(...l))},Ae(o.esteEvento.descripcion),513),[[Z,!e.editandoDescripcion]]),Q(v("textarea",{id:"inputNuevoDescripcion",ref:"inputNuevoDescripcion",class:we(["inputTextoNodo",{letrasRojas:e.nuevoDescripcionIlegal}]),"onUpdate:modelValue":t[10]||(t[10]=l=>e.nuevoDescripcion=l)},null,2),[[Je,e.nuevoDescripcion],[Z,e.editandoDescripcion]]),Q(v("div",AU,[v("img",{src:er,class:"botonGuardarCampo",alt:"Guardar",title:"Guardar descripción",id:"botonGuardarDescripcion",onClick:t[11]||(t[11]=(...l)=>e.guardarNuevoDescripcion&&e.guardarNuevoDescripcion(...l))}),v("img",{src:$t,class:"botonGuardarCampo",alt:"Cancelar",title:"Cancelar edición",id:"botonCancelarEdicionDescripcion",onClick:t[12]||(t[12]=l=>e.editandoDescripcion=!1)})],512),[[Z,e.editandoDescripcion]]),Q(Te(s,{texto:"Enviando..."},null,512),[[Z,e.enviandoNuevoDescripcion]])],512),[[Z,n.mostrando==="descripcion"]])],2)}const TU=Ge(hU,[["render",xU],["__scopeId","data-v-8fbb8e28"]]),Jl=Pe`
  query ($idEspacio: ID!) {
    eventosPublicosEspacio(idEspacio: $idEspacio) {
      ...fragEventoPublico
    }
  }
  ${or}
`,IU={components:{EventoItemLista:TU,Loading:yt},props:{idEspacio:String},name:"ListaEventosEspacio",apollo:{eventosPublicosEspacio:{query:Jl,variables(){return{idEspacio:this.idEspacio}},fetchPolicy:"cache-and-network"}},data(){return{idEventoSeleccionado:null,eventosPublicosEspacio:[]}},methods:{deleteEventoCache(e){const t=e.__typename.charAt(0).toLowerCase()+e.__typename.slice(1);var o=null;if(t==="eventoPublico")o={query:Jl,variables:{idEspacio:this.idEspacio}};else if(t==="eventoPersonal"){console.log("add cache eventos personales not developed");return}else{console.log(`Tipo evento ${t} no reconocido`);return}const i=this.$apollo.provider.defaultClient,n=i.readQuery({...o});var r=JSON.parse(JSON.stringify(n)),s=null;t==="eventoPublico"?s=r.eventosPublicosEspacio:t==="eventoPersonal"&&(s=r.eventosPersonalesEspacio);const l=s.findIndex(a=>a.id===e.id);l>-1&&(s.splice(l,1),i.writeQuery({...o,data:r}))},addEventoCache(e){const t=e.__typename.charAt(0).toLowerCase()+e.__typename.slice(1);var o=null;if(t==="eventoPublico")o={query:Jl,variables:{idEspacio:this.idEspacio}};else if(t==="eventoPersonal"){console.log("add cache eventos personales not developed");return}else{console.log(`Tipo evento ${t} no reconocido`);return}const i=this.$apollo.provider.defaultClient,n=i.readQuery({...o});var r=JSON.parse(JSON.stringify(n)),s=null;t==="eventoPublico"?s=r.eventosPublicosEspacio:t==="eventoPersonal"&&(s=r.eventosPersonalesEspacio),s.findIndex(a=>a.id===e.id)===-1&&(s.push(e),i.writeQuery({...o,data:r}))}},computed:{eventosPublicosEspacioOrdenados(){return[...this.eventosPublicosEspacio].sort((e,t)=>-new Date(e.horarioInicio).getTime()+new Date(t.horarioInicio).getTime())}}},DU={class:"listaEventosEspacio"};function PU(e,t,o,i,n,r){const s=Oe("loading"),l=Oe("evento-item-lista");return Y(),re("div",DU,[Q(Te(s,{texto:""},null,512),[[Z,e.$apollo.queries.eventosPublicosEspacio.loading]]),(Y(!0),re(He,null,Ze(r.eventosPublicosEspacioOrdenados,a=>(Y(),Qe(l,{esteEvento:a,key:a.id,seleccionado:n.idEventoSeleccionado===a.id,onMeElimine:c=>{r.deleteEventoCache(a)}},null,8,["esteEvento","seleccionado","onMeElimine"]))),128))])}const kU=Ge(IU,[["render",PU],["__scopeId","data-v-304cab60"]]),OU="/caracol/assets/userCog-13234f22.svg",RU="/caracol/assets/clipboardList-6ff4ab60.svg",gc="/caracol/assets/equis-115f5fad.svg",LU={components:{Loading:yt,IconoPersonaAutonomo:Zi,Calendario:dh,ListaEventosEspacio:kU},name:"Espacio",props:{esteEspacio:Object},data(){return{abierto:!1,mostrando:null,nuevoNombre:"Nuevo nombre",editandoNombre:!1,enviandoNuevoNombre:!1,nuevoDescripcion:"Nueva descripcion",editandoDescripcion:!1,enviandoNuevoDescripcion:!1,mostrandoCuadroCrearEventoPublico:!1,nombreNuevoEventoPublico:"Espacio de "+this.esteEspacio.nombre,dateInicioNuevoEventoPublico:null,dateFinalNuevoEventoPublico:null,horarioInicioNuevoEventoPublico:null,horarioFinalNuevoEventoPublico:null,duracionNuevoEventoPublico:60,creandoEventoPublico:!1,enviandoNuevoEventoPublico:!1,introduciendoEventoPublicoCalendario:!1,settingEstadoParaChiquis:!1,eliminandose:!1}},methods:{toggleEstadoParaChiquis(){if(!this.usuarioSuperadministrador&&!this.administrador){console.log("No autorizado");return}this.settingEstadoParaChiquis=!0,this.$apollo.mutate({mutation:Pe`
          mutation($idEspacio: ID!, $nuevoEstado:Boolean!){
            setEspacioParaChiquis(idEspacio: $idEspacio, nuevoEstado: $nuevoEstado){
               id
               paraChiquis 
            }
          }
          `,variables:{idEspacio:this.esteEspacio.id,nuevoEstado:!this.esteEspacio.paraChiquis}}).then(()=>{this.settingEstadoParaChiquis=!1}).catch(e=>{console.log("Error: "+e),this.settingEstadoParaChiquis=!1})},guardarNuevoNombre(){if(this.nuevoNombre=this.$refs.inputNuevoNombre.value,this.nuevoNombreIlegal){console.log("No enviado");return}if(this.nuevoNombre==this.esteEspacio.nombre){this.editandoNombre=!1;return}console.log("guardando nuevo nombre"),this.enviandoNuevoNombre=!0,this.$apollo.mutate({mutation:Pe`
            mutation ($idEspacio: ID!, $nuevoNombre: String!) {
              editarNombreEspacio(
                idEspacio: $idEspacio
                nuevoNombre: $nuevoNombre
              ) {
                id
                nombre
              }
            }
          `,variables:{idEspacio:this.esteEspacio.id,nuevoNombre:this.nuevoNombre}}).then(()=>{this.enviandoNuevoNombre=!1,this.editandoNombre=!1}).catch(e=>{this.enviandoNuevoNombre=!1,console.log(`Error. E :${e}`)})},guardarNuevoDescripcion(){if(this.nuevoDescripcionIlegal){console.log("No enviado");return}if(this.nuevoDescripcion==this.esteEspacio.descripcion){this.editandoDescripcion=!1;return}console.log("guardando nuevo descripcion"),this.enviandoNuevoDescripcion=!0,this.$apollo.mutate({mutation:Pe`
            mutation ($idEspacio: ID!, $nuevoDescripcion: String!) {
              editarDescripcionEspacio(
                idEspacio: $idEspacio
                nuevoDescripcion: $nuevoDescripcion
              ) {
                id
                descripcion
              }
            }
          `,variables:{idEspacio:this.esteEspacio.id,nuevoDescripcion:this.nuevoDescripcion}}).then(()=>{this.enviandoNuevoDescripcion=!1,this.editandoDescripcion=!1}).catch(e=>{this.enviandoNuevoDescripcion=!1,console.log(`Error. E :${e}`)})},toggleEditandoDescripcion(){this.administrador&&(this.$refs.inputNuevoDescripcion.style.height=this.$refs.descripcion.offsetHeight+"px",this.editandoDescripcion=!this.editandoDescripcion,this.nuevoDescripcion=this.esteEspacio.descripcion,this.editandoDescripcion&&this.$nextTick(()=>{this.$refs.inputNuevoDescripcion.focus()}))},toggleEditandoNombre(e){this.administrador&&(e.stopPropagation(),this.editandoNombre=!0,this.nuevoNombre=this.esteEspacio.nombre,this.$nextTick(()=>{this.$refs.inputNuevoNombre.focus()}))},keydownInputNuevoNombre(e){e.key==="Escape"&&(this.editandoNombre=!1)},iniciarCreacionEvento(){this.introduciendoEventoPublicoCalendario=!0},eliminarse(){confirm("¿Confirmar la eliminación de este espacio? (Esta acción no puede deshacerse)")&&(!this.administrador&&!this.usuarioSuperadministrador||(this.eliminandose=!0,this.$apollo.mutate({mutation:Pe`
            mutation ($idEspacio: ID!) {
              eliminarEspacio(idEspacio: $idEspacio)
            }
          `,variables:{idEspacio:this.esteEspacio.id}}).then(()=>{this.$emit("meElimine")}).catch(e=>{console.log(`Error: ${e}`)})))},iniciarCuadroCrearEventoPublico(){this.nombreNuevoEventoPublico="Espacio de "+this.esteEspacio.nombre;var e=new Date;e.setHours(8),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e=new Date(e.getTime()+864e5);const t=e.toISOString().split("T")[0],i=new Date(e.getTime()+36e5).toISOString().split("T")[0];this.dateInicioNuevoEventoPublico=t,this.dateFinalNuevoEventoPublico=i,this.horarioInicioNuevoEventoPublico="08:00",this.horarioFinalNuevoEventoPublico="09:00",this.mostrandoCuadroCrearEventoPublico=!0},crearEventoPublico(){if(!this.administrador&&!this.usuarioSuperadministrador)return;console.log(`Date saved: ${this.dateInicioNuevoEventoPublico}`),this.duracionNuevoEventoPublico=this.$refs.inputDuracionNuevoEventoPublico.value;var e=new Date(this.dateInicioNuevoEventoPublico);console.log(`Date parsed: ${e}`);const t=e.getUTCDate();console.log(`Creando evento público el ${t}`);const o=parseInt(this.horarioInicioNuevoEventoPublico.substring(0,2)),i=parseInt(this.horarioInicioNuevoEventoPublico.substring(3));e.setDate(t),e.setHours(o),e.setMinutes(i);var n=new Date(e.getTime()+this.duracionNuevoEventoPublico*6e4);console.log(`Creando evento público el ${t}`),this.enviandoNuevoEventoPublico=!0,this.$apollo.mutate({mutation:Pe`
            mutation ($infoNuevoEvento: InputCrearEventoPublico) {
              crearEventoPublico(infoNuevoEvento: $infoNuevoEvento) {
                ...fragEventoPublico
              }
            }
            ${or}
          `,variables:{infoNuevoEvento:{nombre:this.$refs.inputNombreNuevoEventoPublico.value,horarioInicio:e,horarioFinal:n,tipoParent:"espacio",idParent:this.esteEspacio.id}}}).then(({data:{crearEventoPublico:r}})=>{this.enviandoNuevoEventoPublico=!1,this.$refs.listaEventosEspacio.addEventoCache(r),this.mostrandoCuadroCrearEventoPublico=!1}).catch(r=>{console.log(`Error: ${r}`),this.enviandoNuevoEventoPublico=!1})}},computed:{administrador(){return this.usuarioLogeado?this.usuario.id===this.esteEspacio.idAdministrador:!1},nuevoNombreIlegal(){return!!(this.nuevoNombre.length<1||ac.test(this.nuevoNombre))},nuevoDescripcionIlegal(){return!!(!this.nuevoDescripcion||this.nuevoDescripcion.length<1||s0.test(this.nuevoDescripcion))}},watch:{mostrando(e){e!="descripcion"&&(this.editandoDescripcion=!1),e==="descripcion"&&(!this.esteEspacio.descripcion||this.esteEspacio.descripcion.length<1)&&(this.editandoDescripcion||this.toggleEditandoDescripcion())},introduciendoEventoPublicoCalendario(e){e?this.$refs.calendario.eventoSiendoCreado={idParent:this.esteEspacio.id,tipoParent:"espacio",tipoEvento:"eventoPublico",idAdministrador:this.usuario.id}:this.$refs.calendario.eventoSiendoCreado=null}}},no=e=>(it("data-v-c84e2b4f"),e=e(),rt(),e),MU={class:"barraSuperior"},FU={id:"zona1"},BU={id:"zonaNombre"},$U={id:"zonaBotones"},UU=no(()=>v("img",{src:Es,alt:"Informacion"},null,-1)),qU=[UU],jU=no(()=>v("img",{src:OU,alt:"Administrador"},null,-1)),VU=[jU],HU=no(()=>v("img",{src:fh,alt:"Calendario"},null,-1)),zU=[HU],GU=no(()=>v("img",{src:RU,alt:"Lista de eventos"},null,-1)),WU=[GU],QU=no(()=>v("img",{src:kn,alt:"Eliminar"},null,-1)),KU=[QU],JU={id:"zonaDescripcion",class:"zonaPrimerNivel"},YU=no(()=>v("img",{src:N0,alt:"Chiqui",style:{height:"15px"}},null,-1)),XU={class:"contenedorBotonesCampo"},ZU={id:"zonaAdministrador",class:"zonaPrimerNivel"},eq={key:0,id:"zonaCalendario",class:"zonaPrimerNivel"},tq={id:"contenedorControlesCalendario"},oq=["title"],nq=no(()=>v("img",{src:uh,alt:"Calendario"},null,-1)),iq=[nq],rq=no(()=>v("img",{src:gc,alt:"Cancelar"},null,-1)),sq=[rq],aq={key:1,id:"zonaListaEventos",class:"zonaPrimerNivel"},cq={id:"controlesListaEventos",class:"contenedorControles"},lq=no(()=>v("img",{src:Ji,alt:"Crear evento"},null,-1)),uq=[lq],dq=no(()=>v("img",{src:gc,alt:"Cancelar"},null,-1)),hq=[dq],fq={class:"bloqueCampoNuevoEventoPublico"},pq=no(()=>v("div",{class:"nombreCampo"},"Nombre",-1)),mq={class:"bloqueCampoNuevoEventoPublico"},gq=no(()=>v("div",{class:"nombreCampo"},"Inicio",-1)),vq={class:"bloqueCampoNuevoEventoPublico"},yq=no(()=>v("div",{class:"nombreCampo"},"Duración",-1)),bq=no(()=>v("img",{src:uh,alt:"CrearEvento"},null,-1)),wq=[bq];function Eq(e,t,o,i,n,r){const s=Oe("loading"),l=Oe("icono-persona-autonomo"),a=Oe("calendario"),c=Oe("lista-eventos-espacio");return Y(),re("div",{class:we(["espacio",{mostrando:n.mostrando,deshabilitado:n.eliminandose}])},[v("div",MU,[v("div",FU,[v("div",BU,[Q(v("input",{onKeypress:t[0]||(t[0]=St(Ie((...u)=>r.guardarNuevoNombre&&r.guardarNuevoNombre(...u),["prevent"]),["enter"])),ref:"inputNuevoNombre","onUpdate:modelValue":t[1]||(t[1]=u=>n.nuevoNombre=u),style:{width:"250px"},onClick:t[2]||(t[2]=Ie(()=>{},["stop"])),onBlur:t[3]||(t[3]=(...u)=>r.guardarNuevoNombre&&r.guardarNuevoNombre(...u)),onKeydown:t[4]||(t[4]=(...u)=>r.keydownInputNuevoNombre&&r.keydownInputNuevoNombre(...u)),type:"text",class:we(["inputNuevoNombre inputNombreCosa",{deshabilitado:n.enviandoNuevoNombre}])},null,34),[[Je,n.nuevoNombre],[Z,n.editandoNombre]]),Q(Te(s,{texto:""},null,512),[[Z,n.enviandoNuevoNombre]]),Q(v("div",{id:"elNombre",class:we({deshabilitado:n.enviandoNuevoNombre,administrador:r.administrador}),onClick:t[5]||(t[5]=(...u)=>r.toggleEditandoNombre&&r.toggleEditandoNombre(...u))},Ae(o.esteEspacio.nombre),3),[[Z,!n.editandoNombre]])])]),v("div",$U,[v("div",{class:we(["boton botonMostrar selector",{activo:n.mostrando==="descripcion"}]),onClick:t[6]||(t[6]=u=>n.mostrando=n.mostrando==="descripcion"?null:"descripcion")},qU,2),v("div",{class:we(["boton botonMostrar selector",{activo:n.mostrando==="administrador"}]),onClick:t[7]||(t[7]=u=>n.mostrando=n.mostrando==="administrador"?null:"administrador")},VU,2),v("div",{class:we(["boton botonMostrar selector",{activo:n.mostrando==="calendario"}]),onClick:t[8]||(t[8]=u=>n.mostrando=n.mostrando==="calendario"?null:"calendario")},zU,2),v("div",{class:we(["boton botonMostrar selector",{activo:n.mostrando==="listaEventos"}]),onClick:t[9]||(t[9]=u=>n.mostrando=n.mostrando==="listaEventos"?null:"listaEventos")},WU,2),Q(v("div",{class:"boton",id:"botonEliminarse",onClick:t[10]||(t[10]=(...u)=>r.eliminarse&&r.eliminarse(...u))},KU,512),[[Z,r.administrador||e.usuarioSuperadministrador]])])]),Q(v("div",JU,[v("div",{id:"zonaParaChiquis",onClick:t[11]||(t[11]=(...u)=>r.toggleEstadoParaChiquis&&r.toggleEstadoParaChiquis(...u)),class:we({deshabilitado:n.settingEstadoParaChiquis})},[YU,Ke(" "+Ae(o.esteEspacio.paraChiquis?"Espacio dirigido a niñxs pequeñxs":"Espacio abierto para todos"),1)],2),Q(v("div",{id:"descripcion",class:"contenidoTexto",ref:"descripcion",onClick:t[12]||(t[12]=(...u)=>r.toggleEditandoDescripcion&&r.toggleEditandoDescripcion(...u))},Ae(o.esteEspacio.descripcion),513),[[Z,!n.editandoDescripcion]]),Q(v("textarea",{id:"inputNuevoDescripcion",ref:"inputNuevoDescripcion",class:we(["inputTextoNodo",{letrasRojas:r.nuevoDescripcionIlegal}]),"onUpdate:modelValue":t[13]||(t[13]=u=>n.nuevoDescripcion=u)},null,2),[[Je,n.nuevoDescripcion],[Z,n.editandoDescripcion]]),Q(v("div",XU,[v("img",{src:er,class:"botonGuardarCampo",alt:"Guardar",title:"Guardar descripción",id:"botonGuardarDescripcion",onClick:t[14]||(t[14]=(...u)=>r.guardarNuevoDescripcion&&r.guardarNuevoDescripcion(...u))}),v("img",{src:$t,class:"botonGuardarCampo",alt:"Cancelar",title:"Cancelar edición",id:"botonCancelarEdicionDescripcion",onClick:t[15]||(t[15]=u=>n.editandoDescripcion=!1)})],512),[[Z,n.editandoDescripcion]]),Q(Te(s,{texto:"Enviando..."},null,512),[[Z,n.enviandoNuevoDescripcion]])],512),[[Z,n.mostrando==="descripcion"]]),Q(v("div",ZU,[Te(l,{idPersona:o.esteEspacio.idAdministrador},null,8,["idPersona"])],512),[[Z,n.mostrando==="administrador"]]),n.mostrando==="calendario"?(Y(),re("div",eq,[v("div",tq,[r.administrador?Q((Y(),re("div",{key:0,class:"boton botonControlCalendario",title:"Programar una sesión de "+o.esteEspacio.nombre,onClick:t[16]||(t[16]=(...u)=>r.iniciarCreacionEvento&&r.iniciarCreacionEvento(...u))},iq,8,oq)),[[Z,n.mostrando==="calendario"&&!n.introduciendoEventoPublicoCalendario]]):Ee("",!0),Q(v("div",{class:"boton botonControlCalendario",title:"Cancelar creación de evento",onClick:t[17]||(t[17]=u=>n.introduciendoEventoPublicoCalendario=!1)},sq,512),[[Z,n.mostrando==="calendario"&&n.introduciendoEventoPublicoCalendario]])]),Te(a,{idUsuarioTarget:e.usuario.id,ref:"calendario",idParent:o.esteEspacio.id,enfasis:"eventosPublicos",tipoParent:"espacio",onIniciaCreacionEvento:t[18]||(t[18]=u=>n.introduciendoEventoPublicoCalendario=!1)},null,8,["idUsuarioTarget","idParent"])])):Ee("",!0),n.mostrando==="listaEventos"?(Y(),re("div",aq,[v("div",cq,[Q(v("div",{class:"boton",title:"Crear nuevo evento de este espacio",onClick:t[19]||(t[19]=(...u)=>r.iniciarCuadroCrearEventoPublico&&r.iniciarCuadroCrearEventoPublico(...u))},uq,512),[[Z,!n.mostrandoCuadroCrearEventoPublico&&(r.administrador||e.usuarioSuperadministrador)]]),Q(v("div",{class:"boton",title:"Cancelar",onClick:t[20]||(t[20]=u=>n.mostrandoCuadroCrearEventoPublico=!1)},hq,512),[[Z,n.mostrandoCuadroCrearEventoPublico]]),Q(Te(s,{texto:""},null,512),[[Z,n.creandoEventoPublico]])]),Q(v("div",{id:"cuadroCrearEventoPublico",class:we({deshabilitado:n.enviandoNuevoEventoPublico})},[v("div",fq,[pq,Q(v("input",{class:"inputCampo",type:"text",name:"",id:"inputNombreNuevoEventoPublico",ref:"inputNombreNuevoEventoPublico","onUpdate:modelValue":t[21]||(t[21]=u=>n.nombreNuevoEventoPublico=u)},null,512),[[Je,n.nombreNuevoEventoPublico]])]),v("div",mq,[gq,Q(v("input",{type:"date","onUpdate:modelValue":t[22]||(t[22]=u=>n.dateInicioNuevoEventoPublico=u),class:"inputCampo"},null,512),[[Je,n.dateInicioNuevoEventoPublico]]),Q(v("input",{type:"time","onUpdate:modelValue":t[23]||(t[23]=u=>n.horarioInicioNuevoEventoPublico=u),class:"inputCampo"},null,512),[[Je,n.horarioInicioNuevoEventoPublico]])]),v("div",vq,[yq,Q(v("input",{type:"number",ref:"inputDuracionNuevoEventoPublico","onUpdate:modelValue":t[24]||(t[24]=u=>n.duracionNuevoEventoPublico=u),class:"inputCampo"},null,512),[[Je,n.duracionNuevoEventoPublico]]),Ke(" Minutos ")]),Q(v("div",{class:we(["boton",{deshabilitado:!n.duracionNuevoEventoPublico||n.duracionNuevoEventoPublico<5}]),id:"botonCrearEventoPublico",style:{margin:"10px auto"},title:"Crear evento",onClick:t[25]||(t[25]=(...u)=>r.crearEventoPublico&&r.crearEventoPublico(...u))},wq,2),[[Z,!n.creandoEventoPublico]]),Q(Te(s,{texto:"",style:{margin:"10px auto"}},null,512),[[Z,n.enviandoNuevoEventoPublico]])],2),[[Z,n.mostrandoCuadroCrearEventoPublico]]),Te(c,{idEspacio:this.esteEspacio.id,ref:"listaEventosEspacio"},null,8,["idEspacio"])])):Ee("",!0)],2)}const _q=Ge(LU,[["render",Eq],["__scopeId","data-v-c84e2b4f"]]),Ug="/caracol/assets/angleDown-f350642e.svg",Tr=Pe`
  query {
    todosEspacios {
      ...fragEspacio
    }
  }
  ${hc}
`,Sq={components:{Espacio:_q,Loading:yt,OrganizadorHorarioSemanal:x0},props:{yo:Object},apollo:{todosEspacios:{query:Tr}},name:"Espacios",data(){return{todosEspacios:[],verTodos:!1,creandoEspacio:!1,mostrandoEspacios:!1,mostrandoOrganizadorSemanal:!1,mostrandoConfiguracion:!1,tipoMostrarEspacios:"mios"}},methods:{crearNuevoEspacio(){this.creandoEspacio=!0,this.$apollo.mutate({mutation:Pe`
            mutation ($info: InputCrearEspacio) {
              crearEspacio(info: $info) {
                ...fragEspacio
              }
            }
            ${hc}
          `,variables:{info:{idAdministrador:this.usuario.id}}}).then(({data:{crearEspacio:e}})=>{const t=this.$apollo.provider.defaultClient,o=t.readQuery({query:Tr}),i=JSON.parse(JSON.stringify(o));i.todosEspacios.findIndex(r=>r.id===e.id)===-1?(i.todosEspacios.push(e),t.writeQuery({query:Tr,data:i})):console.log("El espacio ya estaba en caché"),this.creandoEspacio=!1}).catch(e=>{console.log(`Error: ${e}`),this.creandoEspacio=!1})},eliminarEspacioCache(e){const t=this.$apollo.provider.defaultClient,o=t.readQuery({query:Tr});var i=JSON.parse(JSON.stringify(o));const n=i.todosEspacios.findIndex(r=>r.id===e);n>-1&&(i.todosEspacios.splice(n,1),t.writeQuery({query:Tr,data:i}))},manejarCreacionEventos(e){console.log(`Manejando la repeticion de los eventos de un espacio con id ${e[0].idParent}`)},handleCambioFechaEvento(){console.log("Handling")}},computed:{usuarioProfe(){return this.usuarioLogeado?this.usuario.permisos.includes("maestraVida-profesor"):!1},espaciosVisibles(){return this.tipoMostrarEspacios==="todos"?this.espaciosUsuario.concat(this.espaciosNoUsuario):this.espaciosUsuario},espaciosUsuario(){return this.usuarioLogeado?this.todosEspacios.filter(e=>e.idAdministrador===this.usuario.id):[]},espaciosNoUsuario(){return this.usuarioLogeado?this.todosEspacios.filter(e=>e.idAdministrador!=this.usuario.id):this.todosEspacios}},watch:{mostrandoOrganizadorSemanal(e){e&&this.$refs.organizadorSemanal.$apollo.queries.espacios.refetch()}},beforeRouteLeave(e,t,o){if(this.$refs.organizadorSemanal.checkVentanaBloque()){console.log("Había bloque en ventana");return}o()}},_s=e=>(it("data-v-d09db217"),e=e(),rt(),e),Nq={class:"espacios"},Cq=_s(()=>v("img",{src:pc,alt:"Config",style:{}},null,-1)),Aq=[Cq],xq=_s(()=>v("img",{src:Ji,alt:"Crear",style:{}},null,-1)),Tq=[xq],Iq={class:"zonaConfiguracion"},Dq=_s(()=>v("div",{class:"barraSeccion"}," Configuración ",-1)),Pq={class:"contenedorBloquesConfiguracion"},kq={class:"bloqueConfiguracion"},Oq={class:"campoConfiguracion"},Rq=_s(()=>v("label",{for:"checkMostrarTodosEspacios"},"Mis espacios",-1)),Lq=_s(()=>v("label",{for:"checkMostrarTodosEspacios"},"Todos los espacios",-1)),Mq={id:"listaEspacios"},Fq={key:0,class:"anuncioZonaVacia"};function Bq(e,t,o,i,n,r){const s=Oe("router-view"),l=Oe("loading"),a=Oe("espacio"),c=Oe("organizador-horario-semanal");return Y(),re("div",Nq,[Te(s,{id:"visorVentanaEventoPublico",onMeRepetiPeriodicamente:r.manejarCreacionEventos,onEventoCambioFecha:t[0]||(t[0]=u=>r.manejarCreacionEventos([u]))},null,8,["onMeRepetiPeriodicamente"]),v("div",{class:"barraSeccion",onClick:t[4]||(t[4]=u=>n.mostrandoEspacios=!n.mostrandoEspacios)},[v("img",{src:Ug,style:Ve([{height:"20px"},[{transform:n.mostrandoEspacios?"none":"rotate(-90deg)"}]]),alt:"Abrir"},null,4),Ke(" Espacios "),Q(v("div",{class:"contenedorControles",onClick:t[3]||(t[3]=Ie(()=>{},["stop"])),style:{"margin-left":"auto"}},[v("div",{class:"boton",onClick:t[1]||(t[1]=u=>n.mostrandoConfiguracion=!n.mostrandoConfiguracion)},Aq),Q(v("div",{class:"boton",onClick:t[2]||(t[2]=Ie((...u)=>r.crearNuevoEspacio&&r.crearNuevoEspacio(...u),["stop"]))},Tq,512),[[Z,n.mostrandoEspacios&&!n.creandoEspacio]]),Q(Te(l,{texto:""},null,512),[[Z,n.creandoEspacio]])],512),[[Z,n.mostrandoEspacios]])]),Q(v("div",Iq,[Dq,v("div",Pq,[v("div",kq,[v("div",Oq,[Ke(" Mostrar: "),Rq,Q(v("input",{type:"radio",name:"checkMostrarTodosEspacios",id:"checkMostrarTodosEspacios",ref:"checkMostrarTodosEspacios",value:"mios","onUpdate:modelValue":t[5]||(t[5]=u=>n.tipoMostrarEspacios=u)},null,512),[[Qn,n.tipoMostrarEspacios]]),Lq,Q(v("input",{type:"radio",name:"checkMostrarTodosEspacios",id:"checkMostrarTodosEspacios",ref:"checkMostrarTodosEspacios",value:"todos","onUpdate:modelValue":t[6]||(t[6]=u=>n.tipoMostrarEspacios=u)},null,512),[[Qn,n.tipoMostrarEspacios]])])])])],512),[[Z,n.mostrandoConfiguracion&&n.mostrandoEspacios]]),Q(v("div",Mq,[!r.espaciosVisibles||r.espaciosVisibles.length<1?(Y(),re("div",Fq," Aún no hay espacios ")):Ee("",!0),(Y(!0),re(He,null,Ze(r.espaciosVisibles,u=>(Y(),Qe(a,{ref_for:!0,ref:"espacios",key:u.id,esteEspacio:u,onMeElimine:h=>r.eliminarEspacioCache(u.id)},null,8,["esteEspacio","onMeElimine"]))),128))],512),[[Z,n.mostrandoEspacios]]),v("div",{class:"barraSeccion",onClick:t[7]||(t[7]=u=>n.mostrandoOrganizadorSemanal=!n.mostrandoOrganizadorSemanal)},[v("img",{src:Ug,style:Ve([{height:"20px"},[{transform:n.mostrandoOrganizadorSemanal?"none":"rotate(-90deg)"}]]),alt:"Abrir"},null,4),Ke(" Calendario semanal ")]),Q(Te(c,{ref:"organizadorSemanal",yo:o.yo},null,8,["yo"]),[[Z,n.mostrandoOrganizadorSemanal]])])}const $q=Ge(Sq,[["render",Bq],["__scopeId","data-v-d09db217"]]),Uq={name:"InfoParticipanteEventoPublico",props:{estaParticipacion:Object,eventoPublico:Object,duracionEventoPublico:Number},data(){return{mostrando:null}},computed:{offsetBarraPresencia(){const o=(this.dateInicio-new Date(this.eventoPublico.horarioInicio))/6e4*100/this.duracionEventoPublico,i=this.duracionMinutos*100/this.duracionEventoPublico;return{left:o+"%",width:i+"%"}},duracionMinutos(){return(this.dateFinal-this.dateInicio)/6e4},horaInicioLegible(){var e=this.dateInicio.getHours(),t=this.dateInicio.getMinutes();return(""+e).length<2&&(e="0"+e),(""+t).length<2&&(t="0"+t),e+":"+t},horaFinalLegible(){var e=this.dateFinal.getHours(),t=this.dateFinal.getMinutes();return(""+e).length<2&&(e="0"+e),(""+t).length<2&&(t="0"+t),e+":"+t},dateInicio(){return new Date(this.estaParticipacion.horarioInicio)},dateFinal(){return new Date(this.estaParticipacion.horarioFinal)}}},P0=e=>(it("data-v-0f790998"),e=e(),rt(),e),qq={class:"infoParticipanteEventoPublico"},jq={id:"barraSuperior"},Vq=P0(()=>v("div",{class:"boton iconoUser"},[v("img",{src:us,alt:"Usuario"})],-1)),Hq={id:"nombrePersona"},zq={class:"contenedorControles",style:{"margin-left":"auto"}},Gq=P0(()=>v("img",{src:Es,alt:"Info"},null,-1)),Wq=[Gq],Qq={id:"barraTiempos"},Kq={id:"bloqueInformacion"},Jq={id:"nombreEventoPersonal"},Yq={id:"horariosEventoPersonal"},Xq={key:0,id:"descripcion"};function Zq(e,t,o,i,n,r){return Y(),re("div",qq,[v("div",jq,[Vq,v("div",Hq,Ae(o.estaParticipacion.nombresPersona),1),v("div",zq,[v("div",{class:we(["boton",{activo:n.mostrando==="descripcion"}]),onClick:t[0]||(t[0]=s=>n.mostrando=n.mostrando==="descripcion"?null:"descripcion")},Wq,2)])]),v("div",Qq,[v("div",{id:"barraPresencia",style:Ve([r.offsetBarraPresencia])},null,4)]),Q(v("div",Kq,[v("div",Jq,Ae(this.estaParticipacion.nombre),1),v("div",Yq,Ae(r.horaInicioLegible)+"-"+Ae(r.horaFinalLegible),1),o.estaParticipacion.descripcion?(Y(),re("div",Xq,Ae(o.estaParticipacion.descripcion),1)):Ee("",!0)],512),[[Z,n.mostrando==="descripcion"]])])}const ej=Ge(Uq,[["render",Zq],["__scopeId","data-v-0f790998"]]),k0="/caracol/assets/hourglass-d9e3c275.svg",O0="/caracol/assets/check-29c8fc2c.svg",tj="/caracol/assets/broadcastTower-216b6220.svg",oj=Pe`
  query ($idEvento: ID!) {
    eventoPublico(idEvento: $idEvento) {
      ...fragEventoPublico
    }
  }
  ${or}
`,nj={name:"VentanaEvento",apollo:{esteEvento:{query:oj,variables(){return{idEvento:this.$route.params.idEvento}},update({eventoPublico:e}){return e},fetchPolicy:"cache-and-network"}},components:{Loading:yt,IconoPersonaAutonomo:Zi,InfoParticipanteEventoPublico:ej},mixins:[bs,lh,ws,v0,b0],data(){return{}},methods:{broadcastAFuturoMaximoParticipantes(){console.log(`Se fijará que todos los eventos futuros de este espacio tengan ${this.esteEvento.limiteDeCupos}`),confirm("Se fijará que todos los eventos de este espacio (Posteriores a este) tendrán un límite de cupos de "+this.esteEvento.limiteDeCupos+". ¿Continuar?")&&this.$apollo.mutate({mutation:Pe`
          mutation($idEspacio: ID!, $dateFrom: Date!, $limiteDeCupos: Int!){
            setLimiteDeCuposEventosPublicosEspacioFromDate(idEspacio: $idEspacio, dateFrom: $dateFrom, limiteDeCupos: $limiteDeCupos)                        
          }
        `,variables:{idEspacio:this.esteEvento.idParent,dateFrom:this.dateInicio,limiteDeCupos:this.esteEvento.limiteDeCupos}}).then(()=>{}).catch(e=>{console.log(`Error: ${e}`)})}},computed:{}},io=e=>(it("data-v-92bf6e6d"),e=e(),rt(),e),ij={class:"ventanaEventoPublico"},rj={id:"zonaCobertura"},sj={id:"laVentana"},aj={id:"contenido"},cj={id:"barraSuperior"},lj=io(()=>v("img",{src:gc,alt:"Salir"},null,-1)),uj=[lj],dj=io(()=>v("img",{src:k0,alt:"Repetir"},null,-1)),hj=[dj],fj={id:"zonaRepetir"},pj=io(()=>v("div",{class:"instruccion",style:{"margin-bottom":"10px"}}," Repetir este evento... ",-1)),mj=io(()=>v("option",{value:"diariamente"},"Diariamente",-1)),gj=io(()=>v("option",{value:"semanalmente"},"Semanalmente",-1)),vj=[mj,gj],yj={id:"bloqueCantidadRepetir",style:{margin:"10px auto"}},bj=["min","max"],wj=io(()=>v("img",{src:O0,alt:"Aceptar"},null,-1)),Ej=[wj],_j={id:"zonaNombre"},Sj={id:"zonaTiempos"},Nj={id:"bloqueHorarioInicio",class:"bloqueCampo"},Cj=io(()=>v("div",{class:"nombreCampo"},"Inicio",-1)),Aj={class:"valorCampo"},xj={id:"bloqueDuracion",class:"bloqueCampo"},Tj=io(()=>v("div",{class:"nombreCampo"},"Duracion",-1)),Ij={class:"valorCampo"},Dj={key:0,id:"bloqueLugar",class:"bloqueCampo"},Pj=io(()=>v("div",{class:"nombreCampo"},"Lugar",-1)),kj={class:"valorCampo"},Oj={class:"bloqueAdministrador bloqueCampo"},Rj=io(()=>v("div",{class:"nombreCampo"},"Administra",-1)),Lj={class:"valorCampo",style:{opacity:"0.9"}},Mj={id:"contenedorSelectoresMostrar"},Fj=["title"],Bj=io(()=>v("img",{src:Es,alt:"Descripción"},null,-1)),$j=[Bj],Uj=["title"],qj=io(()=>v("img",{src:us,alt:"Participantes"},null,-1)),jj=[qj],Vj={id:"zonaContenidoMostrando"},Hj={id:"zonaDescripcion",class:"zonaInformacion"},zj={class:"contenedorBotonesCampo"},Gj={id:"zonaParticipantes"},Wj={id:"bloqueMaxParticipantes",class:"bloqueCampo"},Qj=io(()=>v("div",{class:"nombreCampo"},"Maximo:",-1)),Kj={class:"valorCampo"},Jj=io(()=>v("img",{src:tj,alt:"Todos"},null,-1)),Yj=[Jj],Xj={id:"listaParticipantes"};function Zj(e,t,o,i,n,r){const s=Oe("loading"),l=Oe("icono-persona-autonomo"),a=Oe("info-participante-evento-publico");return Y(),re("div",ij,[v("div",rj,[v("div",sj,[Q(Te(s,{texto:""},null,512),[[Z,e.$apollo.queries.esteEvento.loading]]),Q(v("div",aj,[v("div",cj,[v("div",{class:"boton",title:"Cerrar",style:{"margin-left":"auto"},onClick:t[0]||(t[0]=(...c)=>e.cerrarVentana&&e.cerrarVentana(...c))},uj),e.administrador||e.usuarioSuperadministrador?(Y(),re("div",{key:0,class:"boton",title:"Repetir este evento",onClick:t[1]||(t[1]=c=>e.mostrandoZonaRepetir=!e.mostrandoZonaRepetir)},hj)):Ee("",!0)]),Q(v("div",fj,[pj,Q(v("select",{name:"",id:"selectFrecuenciaRepetir","onUpdate:modelValue":t[2]||(t[2]=c=>e.periodoRepetir=c)},vj,512),[[ss,e.periodoRepetir]]),v("div",yj,[Q(v("input",{type:"number",min:e.minRepetir,max:e.maxRepetir,style:{width:"50px","margin-right":"20px"},name:"",id:"inputCantidadRepetir","onUpdate:modelValue":t[3]||(t[3]=c=>e.cantidadRepetir=c)},null,8,bj),[[Je,e.cantidadRepetir]]),Ke(" "+Ae(e.cantidadRepetir>1?"veces":"vez"),1)]),Q(v("div",{class:"boton",style:{margin:"10px auto"},title:"Aceptar",onClick:t[4]||(t[4]=c=>e.repetirEvento(e.cantidadRepetir,e.periodoRepetir))},Ej,512),[[Z,!e.enviandoQueryRepetir]]),Q(Te(s,{texto:"",style:{margin:"10px auto"}},null,512),[[Z,e.enviandoQueryRepetir]])],512),[[Z,e.mostrandoZonaRepetir]]),v("div",_j,[Q(v("input",{onKeypress:t[5]||(t[5]=St(Ie((...c)=>e.guardarNuevoNombre&&e.guardarNuevoNombre(...c),["prevent"]),["enter"])),ref:"inputNuevoNombre","onUpdate:modelValue":t[6]||(t[6]=c=>e.nuevoNombre=c),onClick:t[7]||(t[7]=Ie(()=>{},["stop"])),onBlur:t[8]||(t[8]=(...c)=>e.guardarNuevoNombre&&e.guardarNuevoNombre(...c)),onKeydown:t[9]||(t[9]=(...c)=>e.keydownInputNuevoNombre&&e.keydownInputNuevoNombre(...c)),type:"text",class:we(["inputNuevoNombre inputNombreCosa",{deshabilitado:e.enviandoNuevoNombre}])},null,34),[[Je,e.nuevoNombre],[Z,e.editandoNombre]]),Q(Te(s,{texto:""},null,512),[[Z,e.enviandoNuevoNombre]]),Q(v("div",{id:"elNombre",class:we({deshabilitado:e.enviandoNuevoNombre,administrador:e.administrador}),onClick:t[10]||(t[10]=(...c)=>e.toggleEditandoNombre&&e.toggleEditandoNombre(...c))},Ae(e.esteEvento.nombre),3),[[Z,!e.editandoNombre]])]),v("div",Sj,[v("div",Nj,[Cj,v("div",Aj,[Q(v("div",{id:"fechaInicio",onClick:t[11]||(t[11]=Ie((...c)=>e.iniciarEdicionFechaInicio&&e.iniciarEdicionFechaInicio(...c),["stop"]))},Ae(e.fechaInicioLegible),513),[[Z,!e.editandoFechaInicio]]),Q(v("input",{type:"date",id:"inputFechaInicio",ref:"inputFechaInicio",onKeypress:t[12]||(t[12]=St(c=>e.updateFechaInicioHoldDuration(c.target.value),["enter"])),onBlur:t[13]||(t[13]=c=>e.updateFechaInicioHoldDuration(c.target.value))},null,544),[[Z,e.editandoFechaInicio]]),Q(v("div",{id:"horaInicio",onClick:t[14]||(t[14]=Ie((...c)=>e.iniciarEdicionHoraInicio&&e.iniciarEdicionHoraInicio(...c),["stop"]))},Ae(e.horaInicioLegible),513),[[Z,!e.editandoHoraInicio]]),Q(v("input",{type:"time",id:"inputHoraInicio",ref:"inputHoraInicio",class:we({deshabilitado:e.enviandoSomeHorario}),onBlur:t[15]||(t[15]=c=>e.updateHoraInicioHoldDuration(c.target.value)),onKeypress:t[16]||(t[16]=St(c=>e.updateHoraInicioHoldDuration(c.target.value),["enter"]))},null,34),[[Z,e.editandoHoraInicio]])])]),v("div",xj,[Tj,v("div",Ij,[Q(v("div",{id:"duracion",onClick:t[17]||(t[17]=Ie((...c)=>e.iniciarEdicionDuracion&&e.iniciarEdicionDuracion(...c),["stop"]))},Ae(e.duracionMinutos)+Ae(e.duracionMinutos!=1?" minutos":" minuto"),513),[[Z,!e.editandoDuracion]]),Q(v("input",{type:"number",id:"inputDuracion",style:{width:"100px"},ref:"inputDuracion",class:we({deshabilitado:e.enviandoSomeHorario}),onBlur:t[18]||(t[18]=c=>e.updateDuracion(c.target.value)),onKeypress:t[19]||(t[19]=St(c=>e.updateDuracion(c.target.value),["enter"]))},null,34),[[Z,e.editandoDuracion]])])])]),e.esteEvento.lugar?(Y(),re("div",Dj,[Pj,v("div",kj,Ae(e.esteEvento.lugar),1)])):Ee("",!0),v("div",Oj,[Rj,v("div",Lj,[Te(l,{factorEscala:"0.5",idPersona:e.esteEvento.idAdministrador},null,8,["factorEscala","idPersona"])])]),v("div",Mj,[v("div",{class:we(["boton",{deshabilitado:(!e.esteEvento.descripcion||e.esteEvento.descripcion.length<1)&&!e.administrador}]),style:Ve({borderColor:e.mostrando==="descripcion"?"white":"black"}),onClick:t[20]||(t[20]=c=>e.mostrando="descripcion"),title:e.mostrando==="descripcion"?"":"Mostrar descripción"},$j,14,Fj),v("div",{class:"boton",style:Ve({borderColor:e.mostrando==="participantes"?"white":"black"}),onClick:t[21]||(t[21]=c=>e.mostrando="participantes"),title:e.mostrando==="participantes"?"":"Mostrar participantes del evento"},jj,12,Uj)]),v("div",Vj,[Q(v("div",Hj,[Q(v("div",{id:"descripcion",class:"contenidoTexto",ref:"descripcion",onClick:t[22]||(t[22]=(...c)=>e.toggleEditandoDescripcion&&e.toggleEditandoDescripcion(...c))},Ae(e.esteEvento.descripcion),513),[[Z,!e.editandoDescripcion]]),Q(v("textarea",{id:"inputNuevoDescripcion",class:we(["inputTexto",{letrasRojas:e.nuevoDescripcionIlegal}]),ref:"inputNuevoDescripcion","onUpdate:modelValue":t[23]||(t[23]=c=>e.nuevoDescripcion=c)},null,2),[[Je,e.nuevoDescripcion],[Z,e.editandoDescripcion]]),Q(v("div",zj,[v("img",{src:er,class:"boton botonGuardarCampo",alt:"Guardar",title:"Guardar descripción",id:"botonGuardarDescripcion",onClick:t[24]||(t[24]=(...c)=>e.guardarNuevoDescripcion&&e.guardarNuevoDescripcion(...c))}),v("img",{src:$t,class:"boton botonGuardarCampo",alt:"Cancelar",title:"Cancelar edición",id:"botonCancelarEdicionDescripcion",onClick:t[25]||(t[25]=c=>e.editandoDescripcion=!1)})],512),[[Z,e.editandoDescripcion]]),Q(Te(s,{texto:"Enviando..."},null,512),[[Z,e.enviandoNuevoDescripcion]])],512),[[Z,e.mostrando==="descripcion"]]),Q(v("div",Gj,[v("div",Wj,[Qj,v("div",Kj,[Q(v("input",{onKeypress:t[26]||(t[26]=St(Ie((...c)=>e.guardarNuevoLimiteDeCupos&&e.guardarNuevoLimiteDeCupos(...c),["prevent"]),["enter"])),ref:"inputNuevoLimiteDeCupos","onUpdate:modelValue":t[27]||(t[27]=c=>e.nuevoLimiteDeCupos=c),onClick:t[28]||(t[28]=Ie(()=>{},["stop"])),onBlur:t[29]||(t[29]=(...c)=>e.guardarNuevoLimiteDeCupos&&e.guardarNuevoLimiteDeCupos(...c)),type:"number",class:we(["inputNuevoLimiteDeCupos inputLimiteDeCuposCosa",{deshabilitado:e.enviandoNuevoLimiteDeCupos}])},null,34),[[Je,e.nuevoLimiteDeCupos],[Z,e.editandoLimiteDeCupos]]),Q(Te(s,{texto:""},null,512),[[Z,e.enviandoNuevoLimiteDeCupos]]),Q(v("div",{id:"elLimiteDeCupos",class:we({deshabilitado:e.enviandoNuevoLimiteDeCupos,administrador:e.administrador}),onClick:t[30]||(t[30]=(...c)=>e.toggleEditandoLimiteDeCupos&&e.toggleEditandoLimiteDeCupos(...c))},Ae(e.esteEvento.limiteDeCupos||"Sin límite"),3),[[Z,!e.editandoLimiteDeCupos]])]),v("div",{class:"boton",style:{"margin-left":"20px"},onClick:t[31]||(t[31]=(...c)=>r.broadcastAFuturoMaximoParticipantes&&r.broadcastAFuturoMaximoParticipantes(...c)),title:"Fijar este valor para todos los eventos futuros de este espacio"},Yj)]),v("div",Xj,[(Y(!0),re(He,null,Ze(e.esteEvento.eventosEnmarcados,c=>(Y(),Qe(a,{estaParticipacion:c,key:c.id,eventoPublico:e.esteEvento,duracionEventoPublico:e.duracionMinutos},null,8,["estaParticipacion","eventoPublico","duracionEventoPublico"]))),128))])],512),[[Z,e.mostrando==="participantes"]])])],512),[[Z,!e.$apollo.queries.esteEvento.loading]])])])])}const Yl=Ge(nj,[["render",Zj],["__scopeId","data-v-92bf6e6d"]]),eV=Pe`
  query ($idEvento: ID!) {
    eventoPersonal(idEvento: $idEvento) {
      ...fragEventoPersonal
    }
  }
  ${ai}
`,tV={name:"VentanaEventoPersonal",apollo:{esteEvento:{query:eV,variables(){return{idEvento:this.$route.params.idEvento}},update({eventoPersonal:e}){return e},fetchPolicy:"cache-and-network"}},components:{Loading:yt,IconoPersonaAutonomo:Zi},mixins:[bs,ZB,ws,b0],data(){return{mostrandoZonaRepetir:!1,periodoRepetir:"diariamente",cantidadRepetir:1,esteEvento:{idsParticipantes:[]}}},methods:{},computed:{}},Oo=e=>(it("data-v-4735d611"),e=e(),rt(),e),oV={class:"ventanaEventoPersonal"},nV={id:"zonaCobertura"},iV={id:"laVentana"},rV={id:"contenido"},sV={id:"barraSuperior"},aV=Oo(()=>v("img",{src:gc,alt:"Salir"},null,-1)),cV=[aV],lV=Oo(()=>v("img",{src:k0,alt:"Repetir"},null,-1)),uV=[lV],dV={id:"zonaRepetir"},hV=Oo(()=>v("div",{class:"instruccion",style:{"margin-bottom":"10px"}}," Repetir este evento... ",-1)),fV=Oo(()=>v("option",{value:"diariamente"},"Diariamente",-1)),pV=Oo(()=>v("option",{value:"semanalmente"},"Semanalmente",-1)),mV=[fV,pV],gV={id:"bloqueCantidadRepetir",style:{margin:"10px auto"}},vV=["min","max"],yV=Oo(()=>v("img",{src:O0,alt:"Aceptar"},null,-1)),bV=[yV],wV={id:"zonaNombre"},EV={id:"zonaTiempos"},_V={id:"bloqueHorarioInicio",class:"bloqueCampo"},SV=Oo(()=>v("div",{class:"nombreCampo"},"Inicio",-1)),NV={class:"valorCampo"},CV={id:"bloqueDuracion",class:"bloqueCampo"},AV=Oo(()=>v("div",{class:"nombreCampo"},"Duracion",-1)),xV={class:"valorCampo"},TV={key:0,id:"bloqueLugar",class:"bloqueCampo"},IV=Oo(()=>v("div",{class:"nombreCampo"},"Lugar",-1)),DV={class:"valorCampo"},PV={id:"contenedorSelectoresMostrar"},kV=["title"],OV=Oo(()=>v("img",{src:Es,alt:"Descripción"},null,-1)),RV=[OV],LV=["title"],MV=Oo(()=>v("img",{src:ob,alt:"Participantes"},null,-1)),FV=[MV],BV={id:"zonaContenidoMostrando"},$V={id:"zonaDescripcion",class:"zonaInformacion"},UV={class:"contenedorBotonesCampo"},qV={id:"zonaParticipantes",class:"zonaInformacion"},jV={key:0,id:"listaParticipantes"};function VV(e,t,o,i,n,r){const s=Oe("loading"),l=Oe("icono-persona-autonomo");return Y(),re("div",oV,[v("div",nV,[v("div",iV,[Q(Te(s,{texto:""},null,512),[[Z,e.$apollo.queries.esteEvento.loading]]),Q(v("div",rV,[v("div",sV,[v("div",{class:"boton",title:"Cerrar",style:{"margin-left":"auto"},onClick:t[0]||(t[0]=(...a)=>e.cerrarVentana&&e.cerrarVentana(...a))},cV),e.administrador||e.usuarioSuperadministrador?(Y(),re("div",{key:0,class:"boton",title:"Repetir este evento",onClick:t[1]||(t[1]=a=>n.mostrandoZonaRepetir=!n.mostrandoZonaRepetir)},uV)):Ee("",!0)]),Q(v("div",dV,[hV,Q(v("select",{name:"",id:"selectFrecuenciaRepetir","onUpdate:modelValue":t[2]||(t[2]=a=>n.periodoRepetir=a)},mV,512),[[ss,n.periodoRepetir]]),v("div",gV,[Q(v("input",{type:"number",min:e.minRepetir,max:e.maxRepetir,style:{width:"50px","margin-right":"20px"},name:"",id:"inputCantidadRepetir","onUpdate:modelValue":t[3]||(t[3]=a=>n.cantidadRepetir=a)},null,8,vV),[[Je,n.cantidadRepetir]]),Ke(" "+Ae(n.cantidadRepetir>1?"veces":"vez"),1)]),Q(v("div",{class:"boton",style:{margin:"10px auto"},title:"Aceptar",onClick:t[4]||(t[4]=a=>e.repetirEvento(n.cantidadRepetir,n.periodoRepetir))},bV,512),[[Z,!e.enviandoQueryRepetir]]),Q(Te(s,{texto:"",style:{margin:"10px auto"}},null,512),[[Z,e.enviandoQueryRepetir]])],512),[[Z,n.mostrandoZonaRepetir]]),v("div",wV,[Q(v("input",{onKeypress:t[5]||(t[5]=St(Ie((...a)=>e.guardarNuevoNombre&&e.guardarNuevoNombre(...a),["prevent"]),["enter"])),ref:"inputNuevoNombre","onUpdate:modelValue":t[6]||(t[6]=a=>e.nuevoNombre=a),onClick:t[7]||(t[7]=Ie(()=>{},["stop"])),onBlur:t[8]||(t[8]=(...a)=>e.guardarNuevoNombre&&e.guardarNuevoNombre(...a)),onKeydown:t[9]||(t[9]=(...a)=>e.keydownInputNuevoNombre&&e.keydownInputNuevoNombre(...a)),type:"text",class:we(["inputNuevoNombre inputNombreCosa",{deshabilitado:e.enviandoNuevoNombre}])},null,34),[[Je,e.nuevoNombre],[Z,e.editandoNombre]]),Q(Te(s,{texto:""},null,512),[[Z,e.enviandoNuevoNombre]]),Q(v("div",{id:"elNombre",class:we({deshabilitado:e.enviandoNuevoNombre,administrador:e.administrador}),onClick:t[10]||(t[10]=(...a)=>e.toggleEditandoNombre&&e.toggleEditandoNombre(...a))},Ae(n.esteEvento.nombre),3),[[Z,!e.editandoNombre]])]),v("div",EV,[v("div",_V,[SV,v("div",NV,[Q(v("div",{id:"fechaInicio",onClick:t[11]||(t[11]=Ie((...a)=>e.iniciarEdicionFechaInicio&&e.iniciarEdicionFechaInicio(...a),["stop"]))},Ae(e.fechaInicioLegible),513),[[Z,!e.editandoFechaInicio]]),Q(v("input",{type:"date",id:"inputFechaInicio",ref:"inputFechaInicio",onKeypress:t[12]||(t[12]=St(a=>e.updateFechaInicioHoldDuration(a.target.value),["enter"])),onBlur:t[13]||(t[13]=a=>e.updateFechaInicioHoldDuration(a.target.value))},null,544),[[Z,e.editandoFechaInicio]]),Q(v("div",{id:"horaInicio",onClick:t[14]||(t[14]=Ie((...a)=>e.iniciarEdicionHoraInicio&&e.iniciarEdicionHoraInicio(...a),["stop"]))},Ae(e.horaInicioLegible),513),[[Z,!e.editandoHoraInicio]]),Q(v("input",{type:"time",id:"inputHoraInicio",ref:"inputHoraInicio",class:we({deshabilitado:e.enviandoSomeHorario}),onBlur:t[15]||(t[15]=a=>e.updateHoraInicioHoldDuration(a.target.value)),onKeypress:t[16]||(t[16]=St(a=>e.updateHoraInicioHoldDuration(a.target.value),["enter"]))},null,34),[[Z,e.editandoHoraInicio]])])]),v("div",CV,[AV,v("div",xV,[Q(v("div",{id:"duracion",onClick:t[17]||(t[17]=Ie((...a)=>e.iniciarEdicionDuracion&&e.iniciarEdicionDuracion(...a),["stop"]))},Ae(e.duracionMinutos)+Ae(e.duracionMinutos!=1?" minutos":" minuto"),513),[[Z,!e.editandoDuracion]]),Q(v("input",{type:"number",id:"inputDuracion",style:{width:"100px"},ref:"inputDuracion",class:we({deshabilitado:e.enviandoSomeHorario}),onBlur:t[18]||(t[18]=a=>e.updateDuracion(a.target.value)),onKeypress:t[19]||(t[19]=St(a=>e.updateDuracion(a.target.value),["enter"]))},null,34),[[Z,e.editandoDuracion]])])])]),n.esteEvento.lugar?(Y(),re("div",TV,[IV,v("div",DV,Ae(n.esteEvento.lugar),1)])):Ee("",!0),v("div",PV,[v("div",{class:we(["boton",{deshabilitado:(!n.esteEvento.descripcion||n.esteEvento.descripcion.length<1)&&!e.administrador}]),style:Ve({borderColor:e.mostrando==="descripcion"?"white":"black"}),onClick:t[20]||(t[20]=a=>e.mostrando="descripcion"),title:e.mostrando==="descripcion"?"":"Mostrar descripción"},RV,14,kV),v("div",{class:"boton",title:e.mostrando==="participantes"?"Ocultar participantes":"Mostrar participantes",onClick:t[21]||(t[21]=a=>e.mostrando=e.mostrando==="participantes"?null:"participantes")},FV,8,LV)]),v("div",BV,[Q(v("div",$V,[Q(v("div",{id:"descripcion",class:"contenidoTexto",ref:"descripcion",onClick:t[22]||(t[22]=(...a)=>e.toggleEditandoDescripcion&&e.toggleEditandoDescripcion(...a))},Ae(n.esteEvento.descripcion),513),[[Z,!e.editandoDescripcion]]),Q(v("textarea",{id:"inputNuevoDescripcion",class:we(["inputTexto",{letrasRojas:e.nuevoDescripcionIlegal}]),ref:"inputNuevoDescripcion","onUpdate:modelValue":t[23]||(t[23]=a=>e.nuevoDescripcion=a)},null,2),[[Je,e.nuevoDescripcion],[Z,e.editandoDescripcion]]),Q(v("div",UV,[v("img",{src:er,class:"boton botonGuardarCampo",alt:"Guardar",title:"Guardar descripción",id:"botonGuardarDescripcion",onClick:t[24]||(t[24]=(...a)=>e.guardarNuevoDescripcion&&e.guardarNuevoDescripcion(...a))}),v("img",{src:$t,class:"boton botonGuardarCampo",alt:"Cancelar",title:"Cancelar edición",id:"botonCancelarEdicionDescripcion",onClick:t[25]||(t[25]=a=>e.editandoDescripcion=!1)})],512),[[Z,e.editandoDescripcion]]),Q(Te(s,{texto:"Enviando..."},null,512),[[Z,e.enviandoNuevoDescripcion]])],512),[[Z,e.mostrando==="descripcion"]]),Q(v("div",qV,[n.esteEvento.idPersona?(Y(),re("div",jV,[(Y(!0),re(He,null,Ze([n.esteEvento.idPersona].concat(n.esteEvento.idsParticipantes),a=>(Y(),Qe(l,{key:"participante"+a,idPersona:a,factorEscala:"0.7"},null,8,["idPersona","factorEscala"]))),128))])):Ee("",!0)],512),[[Z,e.mostrando==="participantes"]])])],512),[[Z,!e.$apollo.queries.esteEvento.loading]])])])])}const Xl=Ge(tV,[["render",VV],["__scopeId","data-v-4735d611"]]),HV="/caracol/assets/caracol-38cbe907.png",zV="/caracol/assets/bigBotonAtlas-3c6c5acc.png",GV={name:"Landing",components:{PieProgreso:fs},apollo:{yo:{query:Fe`
        query {
          yo {
            nombres
            apellidos
            atlas {
              id
              idNodoTarget
              colecciones {
                id
                nombre
              }
              datosNodos {
                id
                idNodo
                estadoAprendizaje
              }
            }
          }
        }
      `,fetchPolicy:"cache-first",skip(){var e;return!((e=this.usuario)!=null&&e.id)}},coleccionMostrada:{query:Fe`
        query ($idColeccion: ID!, $idUsuario: ID!) {
          coleccionNodosConocimiento(
            idColeccion: $idColeccion
            idUsuario: $idUsuario
          ) {
            id
            nombre
            progreso
          }
        }
      `,variables(){var e;return{idColeccion:this.idColeccionMostrada,idUsuario:(e=this.usuario)==null?void 0:e.id}},update({coleccionNodosConocimiento:e}){return e},skip(){var e;return!((e=this.usuario)!=null&&e.id)||!this.idColeccionMostrada}},nodoTarget:{query:Fe`
        query ($idNodo: ID!) {
          nodo(idNodo: $idNodo) {
            id
            nombre
          }
        }
      `,variables(){return{idNodo:this.idNodoTarget}},update({nodo:e}){return e},skip(){return!this.idNodoTarget}},nodoOlvidado:{query:Fe`
        query ($idNodo: ID!) {
          nodo(idNodo: $idNodo) {
            id
            nombre
            tipoNodo
          }
        }
      `,variables(){return{idNodo:this.idNodoOlvidado}},update({nodo:e}){return e},skip(){return!this.idNodoOlvidado}}},data(){return{coleccionMostrada:{idsNodos:[],idsRed:[]},yo:{atlas:{colecciones:[],datosNodos:[]}},nodoTarget:{},nodoOlvidado:{},versionFoto:0}},computed:{idColeccionMostrada(){let e=this.yo.atlas.colecciones,t=e.length;if(!(t<1))return e[Math.floor(Math.random()*t)].id},idNodoTarget(){return this.yo.atlas.idNodoTarget},idNodoOlvidado(){let e=this.yo.atlas.datosNodos.find(t=>t.estadoAprendizaje==="OLVIDADO");return e==null?void 0:e.idNodo}}},mh=e=>(it("data-v-fa7a90f2"),e=e(),rt(),e),WV={class:"landing"},QV=kN('<div id="bloquePortada" data-v-fa7a90f2><div id="contenedorImagen" data-v-fa7a90f2><img src="'+HV+'" alt="Caracol" data-v-fa7a90f2></div><div id="contenedorCabecera" data-v-fa7a90f2><div id="titulo" data-v-fa7a90f2>La estrategia del caracol</div><div id="subtitulo" data-v-fa7a90f2>Plataforma de aprendizaje.</div></div></div>',1),KV={key:0,id:"bloqueInfoUsuario"},JV={id:"bloquePersonal"},YV={id:"contenedorFotoUsuario"},XV=["src"],ZV={id:"nombreUsuario"},eH={id:"contenedorPerksUsuario"},tH={class:"contenedorImagenPerk"},oH={class:"perkTexto"},nH={class:"bolitaPerkNodo contenedorImagenPerk",style:{"background-color":"var(--atlasConocimientoRepasar)"}},iH={key:0,class:"perkImage",src:ms,alt:"Skill"},rH={key:1,src:ps,alt:"Skill",class:"perkImage"},sH={class:"perkTexto"},aH=mh(()=>v("img",{src:cc,alt:"Coleccion",class:"perkImage"},null,-1)),cH={class:"perkTexto"},lH=mh(()=>v("div",{class:"ladoTexto"},[v("div",{class:"tituloBigBoton"},"Atlas de conocimiento"),v("div",{class:"subtituloBigBoton"}," Explora un universo de conocimientos y habilidades. ")],-1)),uH=mh(()=>v("div",{class:"ladoImagen"},[v("img",{src:zV,alt:"Atlas"})],-1));function dH(e,t,o,i,n,r){var c,u;const s=Oe("router-view"),l=Oe("router-link"),a=Oe("pie-progreso");return Y(),re("div",WV,[QV,Te(s,{onLogearse:t[0]||(t[0]=h=>e.$emit("logearse",h))}),e.usuarioLogeado?(Y(),re("div",KV,[v("div",JV,[v("div",YV,[v("img",{src:e.serverUrl+"/api/usuarios/fotografias/"+e.usuario.id+"?v="+n.versionFoto,alt:"Fotografía"},null,8,XV)]),v("div",ZV,Ae(n.yo.nombres+" "+n.yo.apellidos),1)]),v("div",eH,[Te(l,{to:n.nodoTarget.id?{name:"visorNodoConocimiento",params:{tipoBrowse:"mapa",idBrowsed:"idNodo",idNodo:n.nodoTarget.id}}:"",id:"perkNodoTarget",class:"perkStatus"},{default:wt(()=>[v("div",tH,[v("img",{class:"perkImage",src:Ki,alt:"Mira",style:Ve([{filter:n.nodoTarget.id?"var(--filtroAtlasSeleccion)":""}])},null,4)]),v("div",oH,Ae(r.idNodoTarget?n.nodoTarget.nombre||"":"¡Aún no tienes un nodo en la mira!"),1)]),_:1},8,["to"]),r.idNodoOlvidado&&n.nodoOlvidado.tipoNodo?(Y(),Qe(l,{key:0,to:(c=n.nodoOlvidado)!=null&&c.id?{name:"visorNodoConocimiento",params:{tipoBrowse:"mapa",idBrowsed:n.nodoOlvidado.id,idNodo:n.nodoOlvidado.id}}:"",id:"perkNodoOlvidado",class:"perkStatus"},{default:wt(()=>[v("div",nH,[n.nodoOlvidado.tipoNodo==="concepto"?(Y(),re("img",iH)):(Y(),re("img",rH))]),v("div",sH,Ae(n.nodoOlvidado.nombre),1)]),_:1},8,["to"])):Ee("",!0),n.coleccionMostrada?(Y(),Qe(l,{key:1,to:(u=n.coleccionMostrada)!=null&&u.id?{name:"atlas",params:{tipoBrowse:"browseColeccion",idBrowsed:n.coleccionMostrada.id}}:"",id:"perkColeccion",class:"perkStatus"},{default:wt(()=>[Te(a,{mostrarNumero:!1,progreso:n.coleccionMostrada?n.coleccionMostrada.progreso:0,size:e.widthScreen<900?50:75},{default:wt(()=>[aH]),_:1},8,["progreso","size"]),v("div",cH,Ae(e.$apollo.queries.yo.loading?"":n.coleccionMostrada.nombre||"¡Aún no has creado tu primera colección!"),1)]),_:1},8,["to"])):Ee("",!0)])])):Ee("",!0),Te(l,{to:{name:"atlas",params:{tipoBrowse:"mapa",idBrowsed:"123"}},id:"bigBotonAtlas",class:"bigBoton"},{default:wt(()=>[lH,uH]),_:1})])}const hH=Ge(GV,[["render",dH],["__scopeId","data-v-fa7a90f2"]]),fH={name:"LoginScreen",components:{Loading:yt},data(){return{mostrandoPassword:!1,enviandoLogin:!1,inputUsernameActivo:!1,inputPasswordActivo:!1,inputUsername:"",inputPassword:""}},methods:{enviarLogin(){let e=this.validarUsername(),t=this.validarPassword();!e||!t||(this.enviandoLogin=!0,this.$apollo.query({query:Fe`
            query ($username: String!, $password: String!) {
              login(username: $username, password: $password)
            }
          `,variables:{username:e,password:t}}).then(({data:{login:o}})=>{console.log("logeado"),this.$emit("logearse",o),this.$router.push({name:"home"}),this.enviandoLogin=!1}).catch(o=>{console.log(`Error: ${o}`),this.$refs.campoPassword.select(),this.enviandoLogin=!1}))},validarUsername(){let e=this.$refs.campoUsername.value.trim();const t=30,o=6,i=/[^ a-zA-ZÀ-ž0-9_()-]/;if(e.length<o||e.length>t){this.raiseAccion("Nombre de usuario no válido","error");return}if(i.test(e)){this.raiseAccion("Nombre de usuario contiene caracteres no válidos","error");return}return e},validarPassword(){let e=this.$refs.campoPassword.value.trim();const t=6,o=30;if(e.length<t||e.length>o){this.raiseAccion("Contraseña no válida");return}return e}},mounted(){this.$apollo.skipAll=!1}},pH=e=>(it("data-v-a2ee4448"),e=e(),rt(),e),mH={class:"loginScreen"},gH=pH(()=>v("div",{id:"tituloZona"},"Autenticación",-1)),vH=["type"];function yH(e,t,o,i,n,r){const s=Oe("Loading");return Y(),re("div",mH,[gH,v("div",{id:"bloqueInputUsername",class:we(["bloqueInput",{activo:n.inputUsernameActivo||n.inputUsername}])},[Q(v("input",{type:"text",ref:"campoUsername",id:"inputUsername",class:"inputLogin","onUpdate:modelValue":t[0]||(t[0]=l=>n.inputUsername=l),onFocus:t[1]||(t[1]=l=>n.inputUsernameActivo=!0),onBlur:t[2]||(t[2]=l=>n.inputUsernameActivo=!1)},null,544),[[Je,n.inputUsername]])],2),v("div",{id:"bloqueInputPassword",class:we(["bloqueInput",{activo:n.inputPasswordActivo||n.inputPassword}])},[Q(v("input",{type:n.mostrandoPassword?"text":"password",ref:"campoPassword",id:"inputPassword",class:"inputLogin","onUpdate:modelValue":t[3]||(t[3]=l=>n.inputPassword=l),onKeypress:t[4]||(t[4]=St(l=>e.$refs.botonEnviarLogin.click(),["enter"])),onFocus:t[5]||(t[5]=l=>n.inputPasswordActivo=!0),onBlur:t[6]||(t[6]=l=>n.inputPasswordActivo=!1)},null,40,vH),[[vC,n.inputPassword]])],2),v("div",{class:we(["botonTexto",{deshabilitado:n.enviandoLogin}]),id:"botonEnviarLogin",ref:"botonEnviarLogin",onClick:t[7]||(t[7]=Ie((...l)=>r.enviarLogin&&r.enviarLogin(...l),["stop"]))}," Enviar ",2),Q(Te(s,null,null,512),[[Z,n.enviandoLogin]])])}const bH=Ge(fH,[["render",yH],["__scopeId","data-v-a2ee4448"]]),wH={name:"LogoutScreen",components:{Loading:yt},data(){return{}},methods:{waitApolloNotLoading(){this.$apollo.loading?(console.log("apollo is loading"),setTimeout(()=>{this.waitApolloNotLoading},500)):(console.log("Apollo idle"),this.$router.push({name:"loginScreen"}))},funcionesDeslogeo(){this.$apollo.skipAll=!0,this.$nextTick(()=>{const e=this.$apollo.provider.defaultClient;e.writeQuery({query:ts,data:{auth_usuario:null}}),e.resetStore().then(()=>{console.log("Store reset"),this.waitApolloNotLoading()}).catch(t=>{console.log("Error resetting store: "+t)})})}},mounted(){this.funcionesDeslogeo()}},EH=e=>(it("data-v-139833f0"),e=e(),rt(),e),_H={class:".logoutScreen"},SH={id:"zonaCentral"},NH=EH(()=>v("div",{class:"anuncio"},"Cerrando sesión.",-1));function CH(e,t,o,i,n,r){const s=Oe("loading");return Y(),re("div",_H,[v("div",SH,[Te(s),NH])])}const AH=Ge(wH,[["render",CH],["__scopeId","data-v-139833f0"]]),xH={data(){return{}}},R0=e=>(it("data-v-2326c21a"),e=e(),rt(),e),TH={class:"promptSubscripcion"},IH=R0(()=>v("img",{src:D0,alt:"Alert",id:"imagenAlerta"},null,-1)),DH=R0(()=>v("div",{id:"anuncio"}," Tu subscripción no está activa ",-1)),PH=[IH,DH];function kH(e,t,o,i,n,r){return Y(),re("div",TH,PH)}const OH=Ge(xH,[["render",kH],["__scopeId","data-v-2326c21a"]]),L0=O2({history:JI("/caracol"),routes:[{path:"/",name:"home",component:hH,children:[{path:"login",name:"loginScreen",component:bH}]},{path:"/logout",name:"logoutScreen",component:AH},{path:"/atlas/:tipoBrowse/:idBrowsed",name:"atlas",component:aB,children:[{path:"verNodo/:idNodo",name:"visorNodoConocimiento",component:ed}]},{path:"/rutaGrado/:idUsuario",name:"rutaGrado",component:g0,props:!0},{path:"/adminNodosConocimiento",name:"adminNodosConocimiento",component:xB},{path:"/login",name:"loginArea",component:JB},{path:"/miperfil",name:"perfilPersonal",component:l3,children:[{path:"ventanaEventoPublico/:idEvento",component:Yl,name:"VentanaEventoPublico"},{path:"ventanaEventoPersonal/:idEvento",component:Xl,name:"VentanaEventoPersonal"}]},{path:"/nodoConocimiento/:idNodo",component:ed},{path:"/registro",name:"registro",component:U3},{path:"/personas",name:"personas",component:dU,children:[{path:"ventanaEventoPublico/:idEvento",component:Yl,name:"VentanaEventoPublico"},{path:"ventanaEventoPersonal/:idEvento",component:Xl,name:"VentanaEventoPersonal"}]},{path:"/espacios",name:"espacios",component:$q,children:[{path:"ventanaEventoPublico/:idEvento",component:Yl,name:"VentanaEventoPublico"},{path:"ventanaEventoPersonal/:idEvento",component:Xl,name:"VentanaEventoPersonal"}]},{path:"/subscripcionVencida",name:"promptSubscripcion",component:OH},{path:"/:catchAll(.*)",redirect(){return"/"}}]});L0.beforeEach(async(e,t)=>{var i;if(!Ia)return!1;let o=Ia.readQuery({query:ts});if(o!=null&&o.auth_usuario&&!o.auth_usuario.subscripcionIlimitada&&(!o.auth_usuario.millisFinSubscripcion||o.auth_usuario.millisFinSubscripcion<Date.now())&&!["home","perfilPersonal","logoutScreen","promptSubscripcion"].includes(e.name))return{name:"promptSubscripcion"};if((i=o==null?void 0:o.auth_usuario)!=null&&i.id){if(e.name=="loginScreen")return{name:"home"}}else if(e.name!="loginScreen")return{name:"loginScreen"}});const RH=async function(){await hD.restore(),vc.mount("#app")},vc=NC(kI);vc.mixin(jT);vc.use(L0);vc.use(ND);RH()});export default LH();
